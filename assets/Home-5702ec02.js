import{i as ld,e as B0,f as My,g as ai,h as md,j as Ey,m as Fi,k as nu,p as Fa,l as gs,u as Ai,a as Wr,T as Gb,n as Vc,q as Vi,t as Wb,s as Wc,v as Ln,x as si,S as N0,y as Ui,z as Za,A as Ii,B as Cy,C as jo,D as Fu,E as Yc,F as Ro,G as Ch,H as nc,I as dv,J as U0,K as Pg,L as _s,M as ti,N as yl,O as Zc,P as Mc,Q as au,R as Uf,U as Yb,W as Do,X as Hc,Y as Ly,Z as Zb,_ as ac,$ as Qs,a0 as ic,a1 as Cc,a2 as no,a3 as yo,a4 as xd,a5 as Lh,a6 as vf,a7 as Xb,a8 as go,a9 as jb,aa as Kb,ab as Jb,ac as V0,ad as Qb,ae as Rg,af as Lc,ag as ru,ah as $b,ai as Dg,d as kl,o as ec,c as Ph,w as ps,aj as Ec,ak as Iu,al as Xc,am as H0,an as qb,ao as G0,ap as e3,aq as A0,ar as t3,as as td,at as Py,au as ud,av as Rh,aw as Bf,ax as jc,ay as Ry,az as r3,aA as ks,aB as W0,aC as S0,aD as Dy,aE as n3,aF as Iy,aG as a3,aH as i3,aI as ky,aJ as Ig,aK as o3,aL as s3,aM as l3,aN as M0,aO as u3,aP as E0,aQ as Jv,aR as kg,aS as bd,V as f3,aT as c3,aU as h3}from"./index-6f9859d1.js";import{c as v3,g as d3}from"./_commonjsHelpers-725317a4.js";const _y=["top","bottom"],p3=["start","end","left","right"];function C0(re,Oe){let[Ie,He]=re.split(" ");return He||(He=ld(_y,Ie)?"start":ld(p3,Ie)?"top":"center"),{side:_g(Ie,Oe),align:_g(He,Oe)}}function _g(re,Oe){return re==="start"?Oe?"right":"left":re==="end"?Oe?"left":"right":re}function f0(re){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[re.side],align:re.align}}function c0(re){return{side:re.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[re.align]}}function Fg(re){return{side:re.align,align:re.side}}function zg(re){return ld(_y,re.side)?"y":"x"}class Mh{constructor(Oe){let{x:Ie,y:He,width:lt,height:vt}=Oe;this.x=Ie,this.y=He,this.width=lt,this.height=vt}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function Og(re,Oe){return{x:{before:Math.max(0,Oe.left-re.left),after:Math.max(0,re.right-Oe.right)},y:{before:Math.max(0,Oe.top-re.top),after:Math.max(0,re.bottom-Oe.bottom)}}}function Y0(re){const Oe=re.getBoundingClientRect(),Ie=getComputedStyle(re),He=Ie.transform;if(He){let lt,vt,H,U,e;if(He.startsWith("matrix3d("))lt=He.slice(9,-1).split(/, /),vt=+lt[0],H=+lt[5],U=+lt[12],e=+lt[13];else if(He.startsWith("matrix("))lt=He.slice(7,-1).split(/, /),vt=+lt[0],H=+lt[3],U=+lt[4],e=+lt[5];else return new Mh(Oe);const g=Ie.transformOrigin,P=Oe.x-U-(1-vt)*parseFloat(g),a=Oe.y-e-(1-H)*parseFloat(g.slice(g.indexOf(" ")+1)),L=vt?Oe.width/vt:re.offsetWidth+1,T=H?Oe.height/H:re.offsetHeight+1;return new Mh({x:P,y:a,width:L,height:T})}else return new Mh(Oe)}function Ah(re,Oe,Ie){if(typeof re.animate>"u")return{finished:Promise.resolve()};let He;try{He=re.animate(Oe,Ie)}catch{return{finished:Promise.resolve()}}return typeof He.finished>"u"&&(He.finished=new Promise(lt=>{He.onfinish=()=>{lt(He)}})),He}const rd=new WeakMap;function g3(re,Oe){Object.keys(Oe).forEach(Ie=>{if(B0(Ie)){const He=My(Ie),lt=rd.get(re);if(Oe[Ie]==null)lt==null||lt.forEach(vt=>{const[H,U]=vt;H===He&&(re.removeEventListener(He,U),lt.delete(vt))});else if(!lt||![...lt].some(vt=>vt[0]===He&&vt[1]===Oe[Ie])){re.addEventListener(He,Oe[Ie]);const vt=lt||new Set;vt.add([He,Oe[Ie]]),rd.has(re)||rd.set(re,vt)}}else Oe[Ie]==null?re.removeAttribute(Ie):re.setAttribute(Ie,Oe[Ie])})}function y3(re,Oe){Object.keys(Oe).forEach(Ie=>{if(B0(Ie)){const He=My(Ie),lt=rd.get(re);lt==null||lt.forEach(vt=>{const[H,U]=vt;H===He&&(re.removeEventListener(He,U),lt.delete(vt))})}else re.removeAttribute(Ie)})}function Fy(re){let Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",Ie=arguments.length>2?arguments[2]:void 0;return ai()({name:Ie??md(Ey(re.replace(/__/g,"-"))),props:{tag:{type:String,default:Oe},...Fi()},setup(He,lt){let{slots:vt}=lt;return()=>{var H;return nu(He.tag,{class:[re,He.class],style:He.style},(H=vt.default)==null?void 0:H.call(vt))}}})}function zy(re){if(typeof re.getRootNode!="function"){for(;re.parentNode;)re=re.parentNode;return re!==document?null:document}const Oe=re.getRootNode();return Oe!==document&&Oe.getRootNode({composed:!0})!==document?null:Oe}const fd="cubic-bezier(0.4, 0, 0.2, 1)",m3="cubic-bezier(0.0, 0, 0.2, 1)",x3="cubic-bezier(0.4, 0, 1, 1)";function Oy(re){let Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;re;){if(Oe?b3(re):Z0(re))return re;re=re.parentElement}return document.scrollingElement}function cd(re,Oe){const Ie=[];if(Oe&&re&&!Oe.contains(re))return Ie;for(;re&&(Z0(re)&&Ie.push(re),re!==Oe);)re=re.parentElement;return Ie}function Z0(re){if(!re||re.nodeType!==Node.ELEMENT_NODE)return!1;const Oe=window.getComputedStyle(re);return Oe.overflowY==="scroll"||Oe.overflowY==="auto"&&re.scrollHeight>re.clientHeight}function b3(re){if(!re||re.nodeType!==Node.ELEMENT_NODE)return!1;const Oe=window.getComputedStyle(re);return["scroll","auto"].includes(Oe.overflowY)}function w3(re){for(;re;){if(window.getComputedStyle(re).position==="fixed")return!0;re=re.offsetParent}return!1}const T3="/arenasqc/assets/lys-blanc-dbcd2df6.svg";const By=Fa({text:String,...Fi(),...gs()},"VToolbarTitle"),X0=ai()({name:"VToolbarTitle",props:By(),setup(re,Oe){let{slots:Ie}=Oe;return Ai(()=>{const He=!!(Ie.default||Ie.text||re.text);return Wr(re.tag,{class:["v-toolbar-title",re.class],style:re.style},{default:()=>{var lt;return[He&&Wr("div",{class:"v-toolbar-title__placeholder"},[Ie.text?Ie.text():re.text,(lt=Ie.default)==null?void 0:lt.call(Ie)])]}})}),{}}}),A3=Fa({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function iu(re,Oe,Ie){return ai()({name:re,props:A3({mode:Ie,origin:Oe}),setup(He,lt){let{slots:vt}=lt;const H={onBeforeEnter(U){He.origin&&(U.style.transformOrigin=He.origin)},onLeave(U){if(He.leaveAbsolute){const{offsetTop:e,offsetLeft:g,offsetWidth:P,offsetHeight:a}=U;U._transitionInitialStyles={position:U.style.position,top:U.style.top,left:U.style.left,width:U.style.width,height:U.style.height},U.style.position="absolute",U.style.top=`${e}px`,U.style.left=`${g}px`,U.style.width=`${P}px`,U.style.height=`${a}px`}He.hideOnLeave&&U.style.setProperty("display","none","important")},onAfterLeave(U){if(He.leaveAbsolute&&(U!=null&&U._transitionInitialStyles)){const{position:e,top:g,left:P,width:a,height:L}=U._transitionInitialStyles;delete U._transitionInitialStyles,U.style.position=e||"",U.style.top=g||"",U.style.left=P||"",U.style.width=a||"",U.style.height=L||""}}};return()=>{const U=He.group?Gb:Vc;return nu(U,{name:He.disabled?"":re,css:!He.disabled,...He.group?void 0:{mode:He.mode},...He.disabled?{}:H},vt.default)}}})}function Ny(re,Oe){let Ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return ai()({name:re,props:{mode:{type:String,default:Ie},disabled:Boolean},setup(He,lt){let{slots:vt}=lt;return()=>nu(Vc,{name:He.disabled?"":re,css:!He.disabled,...He.disabled?{}:Oe},vt.default)}})}function Uy(){let re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const Ie=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",He=Ey(`offset-${Ie}`);return{onBeforeEnter(H){H._parent=H.parentNode,H._initialStyle={transition:H.style.transition,overflow:H.style.overflow,[Ie]:H.style[Ie]}},onEnter(H){const U=H._initialStyle;H.style.setProperty("transition","none","important"),H.style.overflow="hidden";const e=`${H[He]}px`;H.style[Ie]="0",H.offsetHeight,H.style.transition=U.transition,re&&H._parent&&H._parent.classList.add(re),requestAnimationFrame(()=>{H.style[Ie]=e})},onAfterEnter:vt,onEnterCancelled:vt,onLeave(H){H._initialStyle={transition:"",overflow:H.style.overflow,[Ie]:H.style[Ie]},H.style.overflow="hidden",H.style[Ie]=`${H[He]}px`,H.offsetHeight,requestAnimationFrame(()=>H.style[Ie]="0")},onAfterLeave:lt,onLeaveCancelled:lt};function lt(H){re&&H._parent&&H._parent.classList.remove(re),vt(H)}function vt(H){const U=H._initialStyle[Ie];H.style.overflow=H._initialStyle.overflow,U!=null&&(H.style[Ie]=U),delete H._initialStyle}}const S3=Fa({target:Object},"v-dialog-transition"),Vy=ai()({name:"VDialogTransition",props:S3(),setup(re,Oe){let{slots:Ie}=Oe;const He={onBeforeEnter(lt){lt.style.pointerEvents="none",lt.style.visibility="hidden"},async onEnter(lt,vt){var L;await new Promise(T=>requestAnimationFrame(T)),await new Promise(T=>requestAnimationFrame(T)),lt.style.visibility="";const{x:H,y:U,sx:e,sy:g,speed:P}=Ng(re.target,lt),a=Ah(lt,[{transform:`translate(${H}px, ${U}px) scale(${e}, ${g})`,opacity:0},{}],{duration:225*P,easing:m3});(L=Bg(lt))==null||L.forEach(T=>{Ah(T,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*P,easing:fd})}),a.finished.then(()=>vt())},onAfterEnter(lt){lt.style.removeProperty("pointer-events")},onBeforeLeave(lt){lt.style.pointerEvents="none"},async onLeave(lt,vt){var L;await new Promise(T=>requestAnimationFrame(T));const{x:H,y:U,sx:e,sy:g,speed:P}=Ng(re.target,lt);Ah(lt,[{},{transform:`translate(${H}px, ${U}px) scale(${e}, ${g})`,opacity:0}],{duration:125*P,easing:x3}).finished.then(()=>vt()),(L=Bg(lt))==null||L.forEach(T=>{Ah(T,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*P,easing:fd})})},onAfterLeave(lt){lt.style.removeProperty("pointer-events")}};return()=>re.target?Wr(Vc,Vi({name:"dialog-transition"},He,{css:!1}),Ie):Wr(Vc,{name:"dialog-transition"},Ie)}});function Bg(re){var Ie;const Oe=(Ie=re.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:Ie.children;return Oe&&[...Oe]}function Ng(re,Oe){const Ie=re.getBoundingClientRect(),He=Y0(Oe),[lt,vt]=getComputedStyle(Oe).transformOrigin.split(" ").map(r=>parseFloat(r)),[H,U]=getComputedStyle(Oe).getPropertyValue("--v-overlay-anchor-origin").split(" ");let e=Ie.left+Ie.width/2;H==="left"||U==="left"?e-=Ie.width/2:(H==="right"||U==="right")&&(e+=Ie.width/2);let g=Ie.top+Ie.height/2;H==="top"||U==="top"?g-=Ie.height/2:(H==="bottom"||U==="bottom")&&(g+=Ie.height/2);const P=Ie.width/He.width,a=Ie.height/He.height,L=Math.max(1,P,a),T=P/L||0,v=a/L||0,d=He.width*He.height/(window.innerWidth*window.innerHeight),t=d>.12?Math.min(1.5,(d-.12)*10+1):1;return{x:e-(lt+He.left),y:g-(vt+He.top),sx:T,sy:v,speed:t}}iu("fab-transition","center center","out-in");iu("dialog-bottom-transition");iu("dialog-top-transition");iu("fade-transition");iu("scale-transition");iu("scroll-x-transition");iu("scroll-x-reverse-transition");iu("scroll-y-transition");iu("scroll-y-reverse-transition");iu("slide-x-transition");iu("slide-x-reverse-transition");const Hy=iu("slide-y-transition");iu("slide-y-reverse-transition");const Gy=Ny("expand-transition",Uy()),Wy=Ny("expand-x-transition",Uy("",!0)),M3=Fa({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),pl=ai(!1)({name:"VDefaultsProvider",props:M3(),setup(re,Oe){let{slots:Ie}=Oe;const{defaults:He,disabled:lt,reset:vt,root:H,scoped:U}=Wb(re);return Wc(He,{reset:vt,root:H,scoped:U,disabled:lt}),()=>{var e;return(e=Ie.default)==null?void 0:e.call(Ie)}}});const Dh=Fa({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function Ih(re){return{dimensionStyles:Ln(()=>({height:si(re.height),maxHeight:si(re.maxHeight),maxWidth:si(re.maxWidth),minHeight:si(re.minHeight),minWidth:si(re.minWidth),width:si(re.width)}))}}function E3(re){return{aspectStyles:Ln(()=>{const Oe=Number(re.aspectRatio);return Oe?{paddingBottom:String(1/Oe*100)+"%"}:void 0})}}const Yy=Fa({aspectRatio:[String,Number],contentClass:String,inline:Boolean,...Fi(),...Dh()},"VResponsive"),Ug=ai()({name:"VResponsive",props:Yy(),setup(re,Oe){let{slots:Ie}=Oe;const{aspectStyles:He}=E3(re),{dimensionStyles:lt}=Ih(re);return Ai(()=>{var vt;return Wr("div",{class:["v-responsive",{"v-responsive--inline":re.inline},re.class],style:[lt.value,re.style]},[Wr("div",{class:"v-responsive__sizer",style:He.value},null),(vt=Ie.additional)==null?void 0:vt.call(Ie),Ie.default&&Wr("div",{class:["v-responsive__content",re.contentClass]},[Ie.default()])])}),{}}}),pv=Fa({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:re=>re!==!0}},"transition"),Sc=(re,Oe)=>{let{slots:Ie}=Oe;const{transition:He,disabled:lt,...vt}=re,{component:H=Vc,...U}=typeof He=="object"?He:{};return nu(H,Vi(typeof He=="string"?{name:lt?"":He}:U,vt,{disabled:lt}),Ie)};function C3(re,Oe){if(!N0)return;const Ie=Oe.modifiers||{},He=Oe.value,{handler:lt,options:vt}=typeof He=="object"?He:{handler:He,options:{}},H=new IntersectionObserver(function(){var a;let U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;const g=(a=re._observe)==null?void 0:a[Oe.instance.$.uid];if(!g)return;const P=U.some(L=>L.isIntersecting);lt&&(!Ie.quiet||g.init)&&(!Ie.once||P||g.init)&&lt(P,U,e),P&&Ie.once?Zy(re,Oe):g.init=!0},vt);re._observe=Object(re._observe),re._observe[Oe.instance.$.uid]={init:!1,observer:H},H.observe(re)}function Zy(re,Oe){var He;const Ie=(He=re._observe)==null?void 0:He[Oe.instance.$.uid];Ie&&(Ie.observer.unobserve(re),delete re._observe[Oe.instance.$.uid])}const L3={mounted:C3,unmounted:Zy},Xy=L3,P3=Fa({alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,...Yy(),...Fi(),...pv()},"VImg"),j0=ai()({name:"VImg",directives:{intersect:Xy},props:P3(),emits:{loadstart:re=>!0,load:re=>!0,error:re=>!0},setup(re,Oe){let{emit:Ie,slots:He}=Oe;const lt=Ui(""),vt=Za(),H=Ui(re.eager?"loading":"idle"),U=Ui(),e=Ui(),g=Ln(()=>re.src&&typeof re.src=="object"?{src:re.src.src,srcset:re.srcset||re.src.srcset,lazySrc:re.lazySrc||re.src.lazySrc,aspect:Number(re.aspectRatio||re.src.aspect||0)}:{src:re.src,srcset:re.srcset,lazySrc:re.lazySrc,aspect:Number(re.aspectRatio||0)}),P=Ln(()=>g.value.aspect||U.value/e.value||0);Ii(()=>re.src,()=>{a(H.value!=="idle")}),Ii(P,(c,b)=>{!c&&b&&vt.value&&t(vt.value)}),Cy(()=>a());function a(c){if(!(re.eager&&c)&&!(N0&&!c&&!re.eager)){if(H.value="loading",g.value.lazySrc){const b=new Image;b.src=g.value.lazySrc,t(b,null)}g.value.src&&jo(()=>{var b,h;if(Ie("loadstart",((b=vt.value)==null?void 0:b.currentSrc)||g.value.src),(h=vt.value)!=null&&h.complete){if(vt.value.naturalWidth||T(),H.value==="error")return;P.value||t(vt.value,null),L()}else P.value||t(vt.value),v()})}}function L(){var c;v(),H.value="loaded",Ie("load",((c=vt.value)==null?void 0:c.currentSrc)||g.value.src)}function T(){var c;H.value="error",Ie("error",((c=vt.value)==null?void 0:c.currentSrc)||g.value.src)}function v(){const c=vt.value;c&&(lt.value=c.currentSrc||c.src)}let d=-1;function t(c){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const h=()=>{clearTimeout(d);const{naturalHeight:o,naturalWidth:p}=c;o||p?(U.value=p,e.value=o):!c.complete&&H.value==="loading"&&b!=null?d=window.setTimeout(h,b):(c.currentSrc.endsWith(".svg")||c.currentSrc.startsWith("data:image/svg+xml"))&&(U.value=1,e.value=1)};h()}const r=Ln(()=>({"v-img__img--cover":re.cover,"v-img__img--contain":!re.cover})),u=()=>{var h;if(!g.value.src||H.value==="idle")return null;const c=Wr("img",{class:["v-img__img",r.value],src:g.value.src,srcset:g.value.srcset,alt:re.alt,sizes:re.sizes,ref:vt,onLoad:L,onError:T},null),b=(h=He.sources)==null?void 0:h.call(He);return Wr(Sc,{transition:re.transition,appear:!0},{default:()=>[Fu(b?Wr("picture",{class:"v-img__picture"},[b,c]):c,[[Ch,H.value==="loaded"]])]})},n=()=>Wr(Sc,{transition:re.transition},{default:()=>[g.value.lazySrc&&H.value!=="loaded"&&Wr("img",{class:["v-img__img","v-img__img--preload",r.value],src:g.value.lazySrc,alt:re.alt},null)]}),s=()=>He.placeholder?Wr(Sc,{transition:re.transition,appear:!0},{default:()=>[(H.value==="loading"||H.value==="error"&&!He.error)&&Wr("div",{class:"v-img__placeholder"},[He.placeholder()])]}):null,f=()=>He.error?Wr(Sc,{transition:re.transition,appear:!0},{default:()=>[H.value==="error"&&Wr("div",{class:"v-img__error"},[He.error()])]}):null,l=()=>re.gradient?Wr("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${re.gradient})`}},null):null,x=Ui(!1);{const c=Ii(P,b=>{b&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{x.value=!0})}),c())})}return Ai(()=>{const[c]=Ug.filterProps(re);return Fu(Wr(Ug,Vi({class:["v-img",{"v-img--booting":!x.value},re.class],style:[{width:si(re.width==="auto"?U.value:re.width)},re.style]},c,{aspectRatio:P.value,"aria-label":re.alt,role:re.alt?"img":void 0}),{additional:()=>Wr(Ro,null,[Wr(u,null,null),Wr(n,null,null),Wr(l,null,null),Wr(s,null,null),Wr(f,null,null)]),default:He.default}),[[Yc("intersect"),{handler:a,options:re.options},null,{once:!0}]])}),{currentSrc:lt,image:vt,state:H,naturalWidth:U,naturalHeight:e}}}),kh=Fa({border:[Boolean,Number,String]},"border");function _h(re){let Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nc();return{borderClasses:Ln(()=>{const He=dv(re)?re.value:re.border,lt=[];if(He===!0||He==="")lt.push(`${Oe}--border`);else if(typeof He=="string"||He===0)for(const vt of String(He).split(" "))lt.push(`border-${vt}`);return lt})}}function K0(re){return U0(()=>{const Oe=[],Ie={};return re.value.background&&(Pg(re.value.background)?Ie.backgroundColor=re.value.background:Oe.push(`bg-${re.value.background}`)),re.value.text&&(Pg(re.value.text)?(Ie.color=re.value.text,Ie.caretColor=re.value.text):Oe.push(`text-${re.value.text}`)),{colorClasses:Oe,colorStyles:Ie}})}function rc(re,Oe){const Ie=Ln(()=>({text:dv(re)?re.value:Oe?re[Oe]:null})),{colorClasses:He,colorStyles:lt}=K0(Ie);return{textColorClasses:He,textColorStyles:lt}}function Gc(re,Oe){const Ie=Ln(()=>({background:dv(re)?re.value:Oe?re[Oe]:null})),{colorClasses:He,colorStyles:lt}=K0(Ie);return{backgroundColorClasses:He,backgroundColorStyles:lt}}const Fh=Fa({elevation:{type:[Number,String],validator(re){const Oe=parseInt(re);return!isNaN(Oe)&&Oe>=0&&Oe<=24}}},"elevation");function zh(re){return{elevationClasses:Ln(()=>{const Ie=dv(re)?re.value:re.elevation,He=[];return Ie==null||He.push(`elevation-${Ie}`),He})}}const oc=Fa({rounded:{type:[Boolean,Number,String],default:void 0}},"rounded");function sc(re){let Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nc();return{roundedClasses:Ln(()=>{const He=dv(re)?re.value:re.rounded,lt=[];if(He===!0||He==="")lt.push(`${Oe}--rounded`);else if(typeof He=="string"||He===0)for(const vt of String(He).split(" "))lt.push(`rounded-${vt}`);return lt})}}const R3=[null,"prominent","default","comfortable","compact"],jy=Fa({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:re=>R3.includes(re)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...kh(),...Fi(),...Fh(),...oc(),...gs({tag:"header"}),..._s()},"VToolbar"),Vg=ai()({name:"VToolbar",props:jy(),setup(re,Oe){var T;let{slots:Ie}=Oe;const{backgroundColorClasses:He,backgroundColorStyles:lt}=Gc(ti(re,"color")),{borderClasses:vt}=_h(re),{elevationClasses:H}=zh(re),{roundedClasses:U}=sc(re),{themeClasses:e}=yl(re),{rtlClasses:g}=Zc(),P=Ui(!!(re.extended||(T=Ie.extension)!=null&&T.call(Ie))),a=Ln(()=>parseInt(Number(re.height)+(re.density==="prominent"?Number(re.height):0)-(re.density==="comfortable"?8:0)-(re.density==="compact"?16:0),10)),L=Ln(()=>P.value?parseInt(Number(re.extensionHeight)+(re.density==="prominent"?Number(re.extensionHeight):0)-(re.density==="comfortable"?4:0)-(re.density==="compact"?8:0),10):0);return Wc({VBtn:{variant:"text"}}),Ai(()=>{var r;const v=!!(re.title||Ie.title),d=!!(Ie.image||re.image),t=(r=Ie.extension)==null?void 0:r.call(Ie);return P.value=!!(re.extended||t),Wr(re.tag,{class:["v-toolbar",{"v-toolbar--absolute":re.absolute,"v-toolbar--collapse":re.collapse,"v-toolbar--flat":re.flat,"v-toolbar--floating":re.floating,[`v-toolbar--density-${re.density}`]:!0},He.value,vt.value,H.value,U.value,e.value,g.value,re.class],style:[lt.value,re.style]},{default:()=>[d&&Wr("div",{key:"image",class:"v-toolbar__image"},[Ie.image?Wr(pl,{key:"image-defaults",disabled:!re.image,defaults:{VImg:{cover:!0,src:re.image}}},Ie.image):Wr(j0,{key:"image-img",cover:!0,src:re.image},null)]),Wr(pl,{defaults:{VTabs:{height:si(a.value)}}},{default:()=>{var u,n,s;return[Wr("div",{class:"v-toolbar__content",style:{height:si(a.value)}},[Ie.prepend&&Wr("div",{class:"v-toolbar__prepend"},[(u=Ie.prepend)==null?void 0:u.call(Ie)]),v&&Wr(X0,{key:"title",text:re.title},{text:Ie.title}),(n=Ie.default)==null?void 0:n.call(Ie),Ie.append&&Wr("div",{class:"v-toolbar__append"},[(s=Ie.append)==null?void 0:s.call(Ie)])])]}}),Wr(pl,{defaults:{VTabs:{height:si(L.value)}}},{default:()=>[Wr(Gy,null,{default:()=>[P.value&&Wr("div",{class:"v-toolbar__extension",style:{height:si(L.value)}},[t])]})]})]})}),{contentHeight:a,extensionHeight:L}}}),D3=Fa({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function I3(re){let Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:Ie}=Oe;let He=0;const lt=Za(null),vt=Ui(0),H=Ui(0),U=Ui(0),e=Ui(!1),g=Ui(!1),P=Ln(()=>Number(re.scrollThreshold)),a=Ln(()=>Mc((P.value-vt.value)/P.value||0)),L=()=>{const T=lt.value;!T||Ie&&!Ie.value||(He=vt.value,vt.value="window"in T?T.pageYOffset:T.scrollTop,g.value=vt.value<He,U.value=Math.abs(vt.value-P.value))};return Ii(g,()=>{H.value=H.value||vt.value}),Ii(e,()=>{H.value=0}),au(()=>{Ii(()=>re.scrollTarget,T=>{var d;const v=T?document.querySelector(T):window;v&&v!==lt.value&&((d=lt.value)==null||d.removeEventListener("scroll",L),lt.value=v,lt.value.addEventListener("scroll",L,{passive:!0}))},{immediate:!0})}),Uf(()=>{var T;(T=lt.value)==null||T.removeEventListener("scroll",L)}),Ie&&Ii(Ie,L,{immediate:!0}),{scrollThreshold:P,currentScroll:vt,currentThreshold:U,isScrollActive:e,scrollRatio:a,isScrollingUp:g,savedScroll:H}}const k3=Fa({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:re=>["top","bottom"].includes(re)},...jy(),...Yb(),...D3(),height:{type:[Number,String],default:64}},"VAppBar"),_3=ai()({name:"VAppBar",props:k3(),emits:{"update:modelValue":re=>!0},setup(re,Oe){let{slots:Ie}=Oe;const He=Za(),lt=Do(re,"modelValue"),vt=Ln(()=>{var u;const r=new Set(((u=re.scrollBehavior)==null?void 0:u.split(" "))??[]);return{hide:r.has("hide"),inverted:r.has("inverted"),collapse:r.has("collapse"),elevate:r.has("elevate"),fadeImage:r.has("fade-image")}}),H=Ln(()=>{const r=vt.value;return r.hide||r.inverted||r.collapse||r.elevate||r.fadeImage||!lt.value}),{currentScroll:U,scrollThreshold:e,isScrollingUp:g,scrollRatio:P}=I3(re,{canScroll:H}),a=Ln(()=>re.collapse||vt.value.collapse&&(vt.value.inverted?P.value>0:P.value===0)),L=Ln(()=>re.flat||vt.value.elevate&&(vt.value.inverted?U.value>0:U.value===0)),T=Ln(()=>vt.value.fadeImage?vt.value.inverted?1-P.value:P.value:void 0),v=Ln(()=>{var n,s;if(vt.value.hide&&vt.value.inverted)return 0;const r=((n=He.value)==null?void 0:n.contentHeight)??0,u=((s=He.value)==null?void 0:s.extensionHeight)??0;return r+u});Hc(Ln(()=>!!re.scrollBehavior),()=>{ac(()=>{vt.value.hide?vt.value.inverted?lt.value=U.value>e.value:lt.value=g.value||U.value<e.value:lt.value=!0})});const{ssrBootStyles:d}=Ly(),{layoutItemStyles:t}=Zb({id:re.name,order:Ln(()=>parseInt(re.order,10)),position:ti(re,"location"),layoutSize:v,elementSize:Ui(void 0),active:lt,absolute:ti(re,"absolute")});return Ai(()=>{const[r]=Vg.filterProps(re);return Wr(Vg,Vi({ref:He,class:["v-app-bar",{"v-app-bar--bottom":re.location==="bottom"},re.class],style:[{...t.value,"--v-toolbar-image-opacity":T.value,height:void 0,...d.value},re.style]},r,{collapse:a.value,flat:L.value}),Ie)}),{}}});const F3=[null,"default","comfortable","compact"],lc=Fa({density:{type:String,default:"default",validator:re=>F3.includes(re)}},"density");function uc(re){let Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nc();return{densityClasses:Ln(()=>`${Oe}--density-${re.density}`)}}const z3=["elevated","flat","tonal","outlined","text","plain"];function wd(re,Oe){return Wr(Ro,null,[re&&Wr("span",{key:"overlay",class:`${Oe}__overlay`},null),Wr("span",{key:"underlay",class:`${Oe}__underlay`},null)])}const Kc=Fa({color:String,variant:{type:String,default:"elevated",validator:re=>z3.includes(re)}},"variant");function Td(re){let Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nc();const Ie=Ln(()=>{const{variant:vt}=Qs(re);return`${Oe}--variant-${vt}`}),{colorClasses:He,colorStyles:lt}=K0(Ln(()=>{const{variant:vt,color:H}=Qs(re);return{[["elevated","flat"].includes(vt)?"background":"text"]:H}}));return{colorClasses:He,colorStyles:lt,variantClasses:Ie}}const Ky=Fa({divided:Boolean,...kh(),...Fi(),...lc(),...Fh(),...oc(),...gs(),..._s(),...Kc()},"VBtnGroup"),Hg=ai()({name:"VBtnGroup",props:Ky(),setup(re,Oe){let{slots:Ie}=Oe;const{themeClasses:He}=yl(re),{densityClasses:lt}=uc(re),{borderClasses:vt}=_h(re),{elevationClasses:H}=zh(re),{roundedClasses:U}=sc(re);Wc({VBtn:{height:"auto",color:ti(re,"color"),density:ti(re,"density"),flat:!0,variant:ti(re,"variant")}}),Ai(()=>Wr(re.tag,{class:["v-btn-group",{"v-btn-group--divided":re.divided},He.value,vt.value,lt.value,H.value,U.value,re.class],style:re.style},Ie))}}),Jy=Fa({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Qy=Fa({value:null,disabled:Boolean,selectedClass:String},"group-item");function $y(re,Oe){let Ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const He=ic("useGroupItem");if(!He)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const lt=Cc();no(Symbol.for(`${Oe.description}:id`),lt);const vt=yo(Oe,null);if(!vt){if(!Ie)return vt;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${Oe.description}`)}const H=ti(re,"value"),U=Ln(()=>!!(vt.disabled.value||re.disabled));vt.register({id:lt,value:H,disabled:U},He),Uf(()=>{vt.unregister(lt)});const e=Ln(()=>vt.isSelected(lt)),g=Ln(()=>e.value&&[vt.selectedClass.value,re.selectedClass]);return Ii(e,P=>{He.emit("group:selected",{value:P})}),{id:lt,isSelected:e,toggle:()=>vt.select(lt,!e.value),select:P=>vt.select(lt,P),selectedClass:g,value:H,disabled:U,group:vt}}function qy(re,Oe){let Ie=!1;const He=xd([]),lt=Do(re,"modelValue",[],L=>L==null?[]:em(He,vf(L)),L=>{const T=B3(He,L);return re.multiple?T:T[0]}),vt=ic("useGroup");function H(L,T){const v=L,d=Symbol.for(`${Oe.description}:id`),r=Xb(d,vt==null?void 0:vt.vnode).indexOf(T);r>-1?He.splice(r,0,v):He.push(v)}function U(L){if(Ie)return;e();const T=He.findIndex(v=>v.id===L);He.splice(T,1)}function e(){const L=He.find(T=>!T.disabled);L&&re.mandatory==="force"&&!lt.value.length&&(lt.value=[L.id])}au(()=>{e()}),Uf(()=>{Ie=!0});function g(L,T){const v=He.find(d=>d.id===L);if(!(T&&(v!=null&&v.disabled)))if(re.multiple){const d=lt.value.slice(),t=d.findIndex(u=>u===L),r=~t;if(T=T??!r,r&&re.mandatory&&d.length<=1||!r&&re.max!=null&&d.length+1>re.max)return;t<0&&T?d.push(L):t>=0&&!T&&d.splice(t,1),lt.value=d}else{const d=lt.value.includes(L);if(re.mandatory&&d)return;lt.value=T??!d?[L]:[]}}function P(L){if(re.multiple,lt.value.length){const T=lt.value[0],v=He.findIndex(r=>r.id===T);let d=(v+L)%He.length,t=He[d];for(;t.disabled&&d!==v;)d=(d+L)%He.length,t=He[d];if(t.disabled)return;lt.value=[He[d].id]}else{const T=He.find(v=>!v.disabled);T&&(lt.value=[T.id])}}const a={register:H,unregister:U,selected:lt,select:g,disabled:ti(re,"disabled"),prev:()=>P(He.length-1),next:()=>P(1),isSelected:L=>lt.value.includes(L),selectedClass:Ln(()=>re.selectedClass),items:Ln(()=>He),getItemIndex:L=>O3(He,L)};return no(Oe,a),a}function O3(re,Oe){const Ie=em(re,[Oe]);return Ie.length?re.findIndex(He=>He.id===Ie[0]):-1}function em(re,Oe){const Ie=[];return Oe.forEach(He=>{const lt=re.find(H=>Lh(He,H.value)),vt=re[He];(lt==null?void 0:lt.value)!=null?Ie.push(lt.id):vt!=null&&Ie.push(vt.id)}),Ie}function B3(re,Oe){const Ie=[];return Oe.forEach(He=>{const lt=re.findIndex(vt=>vt.id===He);if(~lt){const vt=re[lt];Ie.push(vt.value!=null?vt.value:lt)}}),Ie}const tm=Symbol.for("vuetify:v-btn-toggle"),N3=Fa({...Ky(),...Jy()},"VBtnToggle");ai()({name:"VBtnToggle",props:N3(),emits:{"update:modelValue":re=>!0},setup(re,Oe){let{slots:Ie}=Oe;const{isSelected:He,next:lt,prev:vt,select:H,selected:U}=qy(re,tm);return Ai(()=>{const[e]=Hg.filterProps(re);return Wr(Hg,Vi({class:["v-btn-toggle",re.class]},e,{style:re.style}),{default:()=>{var g;return[(g=Ie.default)==null?void 0:g.call(Ie,{isSelected:He,next:lt,prev:vt,select:H,selected:U})]}})}),{next:lt,prev:vt,select:H}}});const U3=["x-small","small","default","large","x-large"],gv=Fa({size:{type:[String,Number],default:"default"}},"size");function yv(re){let Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nc();return U0(()=>{let Ie,He;return ld(U3,re.size)?Ie=`${Oe}--size-${re.size}`:re.size&&(He={width:si(re.size),height:si(re.size)}),{sizeClasses:Ie,sizeStyles:He}})}const V3=Fa({color:String,start:Boolean,end:Boolean,icon:go,...Fi(),...gv(),...gs({tag:"i"}),..._s()},"VIcon"),$s=ai()({name:"VIcon",props:V3(),setup(re,Oe){let{attrs:Ie,slots:He}=Oe;const lt=Za(),{themeClasses:vt}=yl(re),{iconData:H}=jb(Ln(()=>lt.value||re.icon)),{sizeClasses:U}=yv(re),{textColorClasses:e,textColorStyles:g}=rc(ti(re,"color"));return Ai(()=>{var a,L;const P=(a=He.default)==null?void 0:a.call(He);return P&&(lt.value=(L=Kb(P).filter(T=>T.type===Jb&&T.children&&typeof T.children=="string")[0])==null?void 0:L.children),Wr(H.value.component,{tag:re.tag,icon:H.value.icon,class:["v-icon","notranslate",vt.value,U.value,e.value,{"v-icon--clickable":!!Ie.onClick,"v-icon--start":re.start,"v-icon--end":re.end},re.class],style:[U.value?void 0:{fontSize:si(re.size),height:si(re.size),width:si(re.size)},g.value,re.style],role:Ie.onClick?"button":void 0,"aria-hidden":!Ie.onClick},{default:()=>[P]})}),{}}});function rm(re,Oe){const Ie=Za(),He=Ui(!1);if(N0){const lt=new IntersectionObserver(vt=>{re==null||re(vt,lt),He.value=!!vt.find(H=>H.isIntersecting)},Oe);Uf(()=>{lt.disconnect()}),Ii(Ie,(vt,H)=>{H&&(lt.unobserve(H),He.value=!1),vt&&lt.observe(vt)},{flush:"post"})}return{intersectionRef:Ie,isIntersecting:He}}const H3=Fa({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Fi(),...gv(),...gs({tag:"div"}),..._s()},"VProgressCircular"),G3=ai()({name:"VProgressCircular",props:H3(),setup(re,Oe){let{slots:Ie}=Oe;const He=20,lt=2*Math.PI*He,vt=Za(),{themeClasses:H}=yl(re),{sizeClasses:U,sizeStyles:e}=yv(re),{textColorClasses:g,textColorStyles:P}=rc(ti(re,"color")),{textColorClasses:a,textColorStyles:L}=rc(ti(re,"bgColor")),{intersectionRef:T,isIntersecting:v}=rm(),{resizeRef:d,contentRect:t}=V0(),r=Ln(()=>Math.max(0,Math.min(100,parseFloat(re.modelValue)))),u=Ln(()=>Number(re.width)),n=Ln(()=>e.value?Number(re.size):t.value?t.value.width:Math.max(u.value,32)),s=Ln(()=>He/(1-u.value/n.value)*2),f=Ln(()=>u.value/n.value*s.value),l=Ln(()=>si((100-r.value)/100*lt));return ac(()=>{T.value=vt.value,d.value=vt.value}),Ai(()=>Wr(re.tag,{ref:vt,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!re.indeterminate,"v-progress-circular--visible":v.value,"v-progress-circular--disable-shrink":re.indeterminate==="disable-shrink"},H.value,U.value,g.value,re.class],style:[e.value,P.value,re.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":re.indeterminate?void 0:r.value},{default:()=>[Wr("svg",{style:{transform:`rotate(calc(-90deg + ${Number(re.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${s.value} ${s.value}`},[Wr("circle",{class:["v-progress-circular__underlay",a.value],style:L.value,fill:"transparent",cx:"50%",cy:"50%",r:He,"stroke-width":f.value,"stroke-dasharray":lt,"stroke-dashoffset":0},null),Wr("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:He,"stroke-width":f.value,"stroke-dasharray":lt,"stroke-dashoffset":l.value},null)]),Ie.default&&Wr("div",{class:"v-progress-circular__content"},[Ie.default({value:r.value})])]})),{}}});const Gg={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},nm=Fa({location:String},"location");function am(re){let Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Ie=arguments.length>2?arguments[2]:void 0;const{isRtl:He}=Zc();return{locationStyles:Ln(()=>{if(!re.location)return{};const{side:vt,align:H}=C0(re.location.split(" ").length>1?re.location:`${re.location} center`,He.value);function U(g){return Ie?Ie(g):0}const e={};return vt!=="center"&&(Oe?e[Gg[vt]]=`calc(100% - ${U(vt)}px)`:e[vt]=0),H!=="center"?Oe?e[Gg[H]]=`calc(100% - ${U(H)}px)`:e[H]=0:(vt==="center"?e.top=e.left="50%":e[{top:"left",bottom:"left",left:"top",right:"top"}[vt]]="50%",e.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[vt]),e})}}const W3=Fa({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Fi(),...nm({location:"top"}),...oc(),...gs(),..._s()},"VProgressLinear"),Y3=ai()({name:"VProgressLinear",props:W3(),emits:{"update:modelValue":re=>!0},setup(re,Oe){let{slots:Ie}=Oe;const He=Do(re,"modelValue"),{isRtl:lt,rtlClasses:vt}=Zc(),{themeClasses:H}=yl(re),{locationStyles:U}=am(re),{textColorClasses:e,textColorStyles:g}=rc(re,"color"),{backgroundColorClasses:P,backgroundColorStyles:a}=Gc(Ln(()=>re.bgColor||re.color)),{backgroundColorClasses:L,backgroundColorStyles:T}=Gc(re,"color"),{roundedClasses:v}=sc(re),{intersectionRef:d,isIntersecting:t}=rm(),r=Ln(()=>parseInt(re.max,10)),u=Ln(()=>parseInt(re.height,10)),n=Ln(()=>parseFloat(re.bufferValue)/r.value*100),s=Ln(()=>parseFloat(He.value)/r.value*100),f=Ln(()=>lt.value!==re.reverse),l=Ln(()=>re.indeterminate?"fade-transition":"slide-x-transition"),x=Ln(()=>re.bgOpacity==null?re.bgOpacity:parseFloat(re.bgOpacity));function c(b){if(!d.value)return;const{left:h,right:o,width:p}=d.value.getBoundingClientRect(),S=f.value?p-b.clientX+(o-p):b.clientX-h;He.value=Math.round(S/p*r.value)}return Ai(()=>Wr(re.tag,{ref:d,class:["v-progress-linear",{"v-progress-linear--absolute":re.absolute,"v-progress-linear--active":re.active&&t.value,"v-progress-linear--reverse":f.value,"v-progress-linear--rounded":re.rounded,"v-progress-linear--rounded-bar":re.roundedBar,"v-progress-linear--striped":re.striped},v.value,H.value,vt.value,re.class],style:[{bottom:re.location==="bottom"?0:void 0,top:re.location==="top"?0:void 0,height:re.active?si(u.value):0,"--v-progress-linear-height":si(u.value),...U.value},re.style],role:"progressbar","aria-hidden":re.active?"false":"true","aria-valuemin":"0","aria-valuemax":re.max,"aria-valuenow":re.indeterminate?void 0:s.value,onClick:re.clickable&&c},{default:()=>[re.stream&&Wr("div",{key:"stream",class:["v-progress-linear__stream",e.value],style:{...g.value,[f.value?"left":"right"]:si(-u.value),borderTop:`${si(u.value/2)} dotted`,opacity:x.value,top:`calc(50% - ${si(u.value/4)})`,width:si(100-n.value,"%"),"--v-progress-linear-stream-to":si(u.value*(f.value?1:-1))}},null),Wr("div",{class:["v-progress-linear__background",P.value],style:[a.value,{opacity:x.value,width:si(re.stream?n.value:100,"%")}]},null),Wr(Vc,{name:l.value},{default:()=>[re.indeterminate?Wr("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(b=>Wr("div",{key:b,class:["v-progress-linear__indeterminate",b,L.value],style:T.value},null))]):Wr("div",{class:["v-progress-linear__determinate",L.value],style:[T.value,{width:si(s.value,"%")}]},null)]}),Ie.default&&Wr("div",{class:"v-progress-linear__content"},[Ie.default({value:s.value,buffer:n.value})])]})),{}}}),J0=Fa({loading:[Boolean,String]},"loader");function Q0(re){let Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nc();return{loaderClasses:Ln(()=>({[`${Oe}--loading`]:re.loading}))}}function im(re,Oe){var He;let{slots:Ie}=Oe;return Wr("div",{class:`${re.name}__loader`},[((He=Ie.default)==null?void 0:He.call(Ie,{color:re.color,isActive:re.active}))||Wr(Y3,{active:re.active,color:re.color,height:"2",indeterminate:!0},null)])}const Z3=["static","relative","fixed","absolute","sticky"],X3=Fa({position:{type:String,validator:re=>Z3.includes(re)}},"position");function j3(re){let Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nc();return{positionClasses:Ln(()=>re.position?`${Oe}--${re.position}`:void 0)}}function K3(){var re,Oe;return(Oe=(re=ic("useRouter"))==null?void 0:re.proxy)==null?void 0:Oe.$router}function $0(re,Oe){const Ie=Qb("RouterLink"),He=Ln(()=>!!(re.href||re.to)),lt=Ln(()=>(He==null?void 0:He.value)||Rg(Oe,"click")||Rg(re,"click"));if(typeof Ie=="string")return{isLink:He,isClickable:lt,href:ti(re,"href")};const vt=re.to?Ie.useLink(re):void 0;return{isLink:He,isClickable:lt,route:vt==null?void 0:vt.route,navigate:vt==null?void 0:vt.navigate,isActive:vt&&Ln(()=>{var H,U;return re.exact?(H=vt.isExactActive)==null?void 0:H.value:(U=vt.isActive)==null?void 0:U.value}),href:Ln(()=>re.to?vt==null?void 0:vt.route.value.href:re.href)}}const q0=Fa({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let h0=!1;function J3(re,Oe){let Ie=!1,He,lt;Lc&&(jo(()=>{window.addEventListener("popstate",vt),He=re==null?void 0:re.beforeEach((H,U,e)=>{h0?Ie?Oe(e):e():setTimeout(()=>Ie?Oe(e):e()),h0=!0}),lt=re==null?void 0:re.afterEach(()=>{h0=!1})}),ru(()=>{window.removeEventListener("popstate",vt),He==null||He(),lt==null||lt()}));function vt(H){var U;(U=H.state)!=null&&U.replaced||(Ie=!0,setTimeout(()=>Ie=!1))}}function Q3(re,Oe){Ii(()=>{var Ie;return(Ie=re.isActive)==null?void 0:Ie.value},Ie=>{re.isLink.value&&Ie&&Oe&&jo(()=>{Oe(!0)})},{immediate:!0})}const L0=Symbol("rippleStop"),$3=80;function Wg(re,Oe){re.style.transform=Oe,re.style.webkitTransform=Oe}function P0(re){return re.constructor.name==="TouchEvent"}function om(re){return re.constructor.name==="KeyboardEvent"}const q3=function(re,Oe){var a;let Ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},He=0,lt=0;if(!om(re)){const L=Oe.getBoundingClientRect(),T=P0(re)?re.touches[re.touches.length-1]:re;He=T.clientX-L.left,lt=T.clientY-L.top}let vt=0,H=.3;(a=Oe._ripple)!=null&&a.circle?(H=.15,vt=Oe.clientWidth/2,vt=Ie.center?vt:vt+Math.sqrt((He-vt)**2+(lt-vt)**2)/4):vt=Math.sqrt(Oe.clientWidth**2+Oe.clientHeight**2)/2;const U=`${(Oe.clientWidth-vt*2)/2}px`,e=`${(Oe.clientHeight-vt*2)/2}px`,g=Ie.center?U:`${He-vt}px`,P=Ie.center?e:`${lt-vt}px`;return{radius:vt,scale:H,x:g,y:P,centerX:U,centerY:e}},hd={show(re,Oe){var T;let Ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((T=Oe==null?void 0:Oe._ripple)!=null&&T.enabled))return;const He=document.createElement("span"),lt=document.createElement("span");He.appendChild(lt),He.className="v-ripple__container",Ie.class&&(He.className+=` ${Ie.class}`);const{radius:vt,scale:H,x:U,y:e,centerX:g,centerY:P}=q3(re,Oe,Ie),a=`${vt*2}px`;lt.className="v-ripple__animation",lt.style.width=a,lt.style.height=a,Oe.appendChild(He);const L=window.getComputedStyle(Oe);L&&L.position==="static"&&(Oe.style.position="relative",Oe.dataset.previousPosition="static"),lt.classList.add("v-ripple__animation--enter"),lt.classList.add("v-ripple__animation--visible"),Wg(lt,`translate(${U}, ${e}) scale3d(${H},${H},${H})`),lt.dataset.activated=String(performance.now()),setTimeout(()=>{lt.classList.remove("v-ripple__animation--enter"),lt.classList.add("v-ripple__animation--in"),Wg(lt,`translate(${g}, ${P}) scale3d(1,1,1)`)},0)},hide(re){var vt;if(!((vt=re==null?void 0:re._ripple)!=null&&vt.enabled))return;const Oe=re.getElementsByClassName("v-ripple__animation");if(Oe.length===0)return;const Ie=Oe[Oe.length-1];if(Ie.dataset.isHiding)return;Ie.dataset.isHiding="true";const He=performance.now()-Number(Ie.dataset.activated),lt=Math.max(250-He,0);setTimeout(()=>{Ie.classList.remove("v-ripple__animation--in"),Ie.classList.add("v-ripple__animation--out"),setTimeout(()=>{var U;re.getElementsByClassName("v-ripple__animation").length===1&&re.dataset.previousPosition&&(re.style.position=re.dataset.previousPosition,delete re.dataset.previousPosition),((U=Ie.parentNode)==null?void 0:U.parentNode)===re&&re.removeChild(Ie.parentNode)},300)},lt)}};function sm(re){return typeof re>"u"||!!re}function fv(re){const Oe={},Ie=re.currentTarget;if(!(!(Ie!=null&&Ie._ripple)||Ie._ripple.touched||re[L0])){if(re[L0]=!0,P0(re))Ie._ripple.touched=!0,Ie._ripple.isTouch=!0;else if(Ie._ripple.isTouch)return;if(Oe.center=Ie._ripple.centered||om(re),Ie._ripple.class&&(Oe.class=Ie._ripple.class),P0(re)){if(Ie._ripple.showTimerCommit)return;Ie._ripple.showTimerCommit=()=>{hd.show(re,Ie,Oe)},Ie._ripple.showTimer=window.setTimeout(()=>{var He;(He=Ie==null?void 0:Ie._ripple)!=null&&He.showTimerCommit&&(Ie._ripple.showTimerCommit(),Ie._ripple.showTimerCommit=null)},$3)}else hd.show(re,Ie,Oe)}}function Yg(re){re[L0]=!0}function tu(re){const Oe=re.currentTarget;if(Oe!=null&&Oe._ripple){if(window.clearTimeout(Oe._ripple.showTimer),re.type==="touchend"&&Oe._ripple.showTimerCommit){Oe._ripple.showTimerCommit(),Oe._ripple.showTimerCommit=null,Oe._ripple.showTimer=window.setTimeout(()=>{tu(re)});return}window.setTimeout(()=>{Oe._ripple&&(Oe._ripple.touched=!1)}),hd.hide(Oe)}}function lm(re){const Oe=re.currentTarget;Oe!=null&&Oe._ripple&&(Oe._ripple.showTimerCommit&&(Oe._ripple.showTimerCommit=null),window.clearTimeout(Oe._ripple.showTimer))}let cv=!1;function um(re){!cv&&(re.keyCode===Dg.enter||re.keyCode===Dg.space)&&(cv=!0,fv(re))}function fm(re){cv=!1,tu(re)}function cm(re){cv&&(cv=!1,tu(re))}function hm(re,Oe,Ie){const{value:He,modifiers:lt}=Oe,vt=sm(He);if(vt||hd.hide(re),re._ripple=re._ripple??{},re._ripple.enabled=vt,re._ripple.centered=lt.center,re._ripple.circle=lt.circle,$b(He)&&He.class&&(re._ripple.class=He.class),vt&&!Ie){if(lt.stop){re.addEventListener("touchstart",Yg,{passive:!0}),re.addEventListener("mousedown",Yg);return}re.addEventListener("touchstart",fv,{passive:!0}),re.addEventListener("touchend",tu,{passive:!0}),re.addEventListener("touchmove",lm,{passive:!0}),re.addEventListener("touchcancel",tu),re.addEventListener("mousedown",fv),re.addEventListener("mouseup",tu),re.addEventListener("mouseleave",tu),re.addEventListener("keydown",um),re.addEventListener("keyup",fm),re.addEventListener("blur",cm),re.addEventListener("dragstart",tu,{passive:!0})}else!vt&&Ie&&vm(re)}function vm(re){re.removeEventListener("mousedown",fv),re.removeEventListener("touchstart",fv),re.removeEventListener("touchend",tu),re.removeEventListener("touchmove",lm),re.removeEventListener("touchcancel",tu),re.removeEventListener("mouseup",tu),re.removeEventListener("mouseleave",tu),re.removeEventListener("keydown",um),re.removeEventListener("keyup",fm),re.removeEventListener("dragstart",tu),re.removeEventListener("blur",cm)}function ew(re,Oe){hm(re,Oe,!1)}function tw(re){delete re._ripple,vm(re)}function rw(re,Oe){if(Oe.value===Oe.oldValue)return;const Ie=sm(Oe.oldValue);hm(re,Oe,Ie)}const Ad={mounted:ew,unmounted:tw,updated:rw},nw=Fa({active:{type:Boolean,default:void 0},symbol:{type:null,default:tm},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:go,appendIcon:go,block:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...kh(),...Fi(),...lc(),...Dh(),...Fh(),...Qy(),...J0(),...nm(),...X3(),...oc(),...q0(),...gv(),...gs({tag:"button"}),..._s(),...Kc({variant:"elevated"})},"VBtn"),Sh=ai()({name:"VBtn",directives:{Ripple:Ad},props:nw(),emits:{"group:selected":re=>!0},setup(re,Oe){let{attrs:Ie,slots:He}=Oe;const{themeClasses:lt}=yl(re),{borderClasses:vt}=_h(re),{colorClasses:H,colorStyles:U,variantClasses:e}=Td(re),{densityClasses:g}=uc(re),{dimensionStyles:P}=Ih(re),{elevationClasses:a}=zh(re),{loaderClasses:L}=Q0(re),{locationStyles:T}=am(re),{positionClasses:v}=j3(re),{roundedClasses:d}=sc(re),{sizeClasses:t,sizeStyles:r}=yv(re),u=$y(re,re.symbol,!1),n=$0(re,Ie),s=Ln(()=>{var b;return re.active!==void 0?re.active:n.isLink.value?(b=n.isActive)==null?void 0:b.value:u==null?void 0:u.isSelected.value}),f=Ln(()=>(u==null?void 0:u.disabled.value)||re.disabled),l=Ln(()=>re.variant==="elevated"&&!(re.disabled||re.flat||re.border)),x=Ln(()=>{if(re.value!==void 0)return Object(re.value)===re.value?JSON.stringify(re.value,null,0):re.value});function c(b){var h;f.value||n.isLink.value&&(b.metaKey||b.ctrlKey||b.shiftKey||b.button!==0||Ie.target==="_blank")||((h=n.navigate)==null||h.call(n,b),u==null||u.toggle())}return Q3(n,u==null?void 0:u.select),Ai(()=>{var A,E;const b=n.isLink.value?"a":re.tag,h=!!(re.prependIcon||He.prepend),o=!!(re.appendIcon||He.append),p=!!(re.icon&&re.icon!==!0),S=(u==null?void 0:u.isSelected.value)&&(!n.isLink.value||((A=n.isActive)==null?void 0:A.value))||!u||((E=n.isActive)==null?void 0:E.value);return Fu(Wr(b,{type:b==="a"?void 0:"button",class:["v-btn",u==null?void 0:u.selectedClass.value,{"v-btn--active":s.value,"v-btn--block":re.block,"v-btn--disabled":f.value,"v-btn--elevated":l.value,"v-btn--flat":re.flat,"v-btn--icon":!!re.icon,"v-btn--loading":re.loading,"v-btn--stacked":re.stacked},lt.value,vt.value,S?H.value:void 0,g.value,a.value,L.value,v.value,d.value,t.value,e.value,re.class],style:[S?U.value:void 0,P.value,T.value,r.value,re.style],disabled:f.value||void 0,href:n.href.value,onClick:c,value:x.value},{default:()=>{var m;return[wd(!0,"v-btn"),!re.icon&&h&&Wr("span",{key:"prepend",class:"v-btn__prepend"},[He.prepend?Wr(pl,{key:"prepend-defaults",disabled:!re.prependIcon,defaults:{VIcon:{icon:re.prependIcon}}},He.prepend):Wr($s,{key:"prepend-icon",icon:re.prependIcon},null)]),Wr("span",{class:"v-btn__content","data-no-activator":""},[!He.default&&p?Wr($s,{key:"content-icon",icon:re.icon},null):Wr(pl,{key:"content-defaults",disabled:!p,defaults:{VIcon:{icon:re.icon}}},{default:()=>{var M;return[((M=He.default)==null?void 0:M.call(He))??re.text]}})]),!re.icon&&o&&Wr("span",{key:"append",class:"v-btn__append"},[He.append?Wr(pl,{key:"append-defaults",disabled:!re.appendIcon,defaults:{VIcon:{icon:re.appendIcon}}},He.append):Wr($s,{key:"append-icon",icon:re.appendIcon},null)]),!!re.loading&&Wr("span",{key:"loader",class:"v-btn__loader"},[((m=He.loader)==null?void 0:m.call(He))??Wr(G3,{color:typeof re.loading=="boolean"?void 0:re.loading,indeterminate:!0,size:"23",width:"2"},null)])]}}),[[Yc("ripple"),!f.value&&re.ripple,null]])}),{}}}),aw=ai()({name:"VAppBarTitle",props:By(),setup(re,Oe){let{slots:Ie}=Oe;return Ai(()=>Wr(X0,Vi(re,{class:"v-app-bar-title"}),Ie)),{}}}),iw=kl({__name:"AppBar",setup(re){return(Oe,Ie)=>(ec(),Ph(_3,{color:"#003399"},{default:ps(()=>[Wr(j0,{src:Qs(T3),alt:"Lys","max-height":"40","max-width":"40",class:"ml-2"},null,8,["src"]),Wr(X0,{class:"ml-2"},{default:ps(()=>[Wr(aw,{style:{color:"#FFFFFF"}},{default:ps(()=>[Ec(" Arénas du Québec")]),_:1})]),_:1})]),_:1}))}});const Zg=(re,Oe)=>{for(const Ie of Object.keys(Oe))re.on(Ie,Oe[Ie])},dm=re=>{for(const Oe of Object.keys(re)){const Ie=re[Oe];Ie&&Ac(Ie.cancel)&&Ie.cancel()}},ow=re=>!re||typeof re.charAt!="function"?re:re.charAt(0).toUpperCase()+re.slice(1),Ac=re=>typeof re=="function",Pc=(re,Oe,Ie)=>{for(const He in Ie){const lt="set"+ow(He);re[lt]?Ii(()=>Ie[He],(vt,H)=>{re[lt](vt,H)}):Oe[lt]&&Ii(()=>Ie[He],vt=>{Oe[lt](vt)})}},fc=(re,Oe,Ie={})=>{const He={...Ie};for(const lt in re){const vt=Oe[lt],H=re[lt];vt&&(vt&&vt.custom===!0||H!==void 0&&(He[lt]=H))}return He},Jc=re=>{const Oe={},Ie={};for(const He in re)if(He.startsWith("on")&&!He.startsWith("onUpdate")&&He!=="onReady"){const lt=He.slice(2).toLocaleLowerCase();Oe[lt]=re[He]}else Ie[He]=re[He];return{listeners:Oe,attrs:Ie}},sw=async re=>{const Oe=await Promise.all([Iu(()=>import("./marker-icon-2x-e148f0f7.js"),[]),Iu(()=>import("./marker-icon-d6994ad0.js"),[]),Iu(()=>import("./marker-shadow-a7f70f89.js"),[])]);delete re.Default.prototype._getIconUrl,re.Default.mergeOptions({iconRetinaUrl:Oe[0].default,iconUrl:Oe[1].default,shadowUrl:Oe[2].default})},Qv=re=>{const Oe=Za((...He)=>console.warn(`Method ${re} has been invoked without being replaced`)),Ie=(...He)=>Oe.value(...He);return Ie.wrapped=Oe,no(re,Ie),Ie},$v=(re,Oe)=>re.wrapped.value=Oe,Nf=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||globalThis,ku=re=>{const Oe=yo(re);if(Oe===void 0)throw new Error(`Attempt to inject ${re.description} before it was provided.`);return Oe},Rc=Symbol("useGlobalLeaflet"),Qc=Symbol("addLayer"),ep=Symbol("removeLayer"),pm=Symbol("registerControl"),lw=Symbol("registerLayerControl"),gm=Symbol("canSetParentHtml"),ym=Symbol("setParentHtml"),mm=Symbol("setIcon"),xm=Symbol("bindPopup"),uw=Symbol("bindTooltip"),bm=Symbol("unbindPopup"),fw=Symbol("unbindTooltip"),mv={options:{type:Object,default:()=>({}),custom:!0}},xv=re=>({options:re.options,methods:{}}),Oh={...mv,pane:{type:String},attribution:{type:String},name:{type:String,custom:!0},layerType:{type:String,custom:!0},visible:{type:Boolean,custom:!0,default:!0}},tp=(re,Oe,Ie)=>{const He=ku(Qc),lt=ku(ep),{options:vt,methods:H}=xv(re),U=fc(re,Oh,vt),e=()=>He({leafletObject:Oe.value}),g=()=>lt({leafletObject:Oe.value}),P={...H,setAttribution(a){g(),Oe.value.options.attribution=a,re.visible&&e()},setName(){g(),re.visible&&e()},setLayerType(){g(),re.visible&&e()},setVisible(a){Oe.value&&(a?e():g())},bindPopup(a){if(!Oe.value||!Ac(Oe.value.bindPopup)){console.warn("Attempt to bind popup before bindPopup method available on layer.");return}Oe.value.bindPopup(a)},bindTooltip(a){if(!Oe.value||!Ac(Oe.value.bindTooltip)){console.warn("Attempt to bind tooltip before bindTooltip method available on layer.");return}Oe.value.bindTooltip(a)},unbindTooltip(){Oe.value&&(Ac(Oe.value.closeTooltip)&&Oe.value.closeTooltip(),Ac(Oe.value.unbindTooltip)&&Oe.value.unbindTooltip())},unbindPopup(){Oe.value&&(Ac(Oe.value.closePopup)&&Oe.value.closePopup(),Ac(Oe.value.unbindPopup)&&Oe.value.unbindPopup())},updateVisibleProp(a){Ie.emit("update:visible",a)}};return no(xm,P.bindPopup),no(uw,P.bindTooltip),no(bm,P.unbindPopup),no(fw,P.unbindTooltip),H0(()=>{P.unbindPopup(),P.unbindTooltip(),g()}),{options:U,methods:P}},wm=(re,Oe)=>{if(re&&Oe.default)return nu("div",{style:{display:"none"}},Oe.default())},cw={...Oh,interactive:{type:Boolean,default:void 0},bubblingMouseEvents:{type:Boolean,default:void 0}},Tm={...cw,stroke:{type:Boolean,default:void 0},color:{type:String},weight:{type:Number},opacity:{type:Number},lineCap:{type:String},lineJoin:{type:String},dashArray:{type:String},dashOffset:{type:String},fill:{type:Boolean,default:void 0},fillColor:{type:String},fillOpacity:{type:Number},fillRule:{type:String},className:{type:String}},hw={...Tm,radius:{type:Number},latLng:{type:[Object,Array],required:!0,custom:!0}};({...hw});const Bh={...mv,position:{type:String}},vw=(re,Oe)=>{const{options:Ie,methods:He}=xv(re),lt=fc(re,Bh,Ie),vt={...He,setPosition(H){Oe.value&&Oe.value.setPosition(H)}};return H0(()=>{Oe.value&&Oe.value.remove()}),{options:lt,methods:vt}},dw=re=>re.default?nu("div",{ref:"root"},re.default()):null;kl({name:"LControl",props:{...Bh,disableClickPropagation:{type:Boolean,custom:!0,default:!0},disableScrollPropagation:{type:Boolean,custom:!0,default:!1}},setup(re,Oe){const Ie=Za(),He=Za(),lt=yo(Rc),vt=ku(pm),{options:H,methods:U}=vw(re,Ie);return au(async()=>{const{Control:e,DomEvent:g}=lt?Nf.L:await Iu(()=>import("./leaflet-src.esm-9c358b30.js"),[]),P=e.extend({onAdd(){return He.value}});Ie.value=Xc(new P(H)),Pc(U,Ie.value,re),vt({leafletObject:Ie.value}),re.disableClickPropagation&&He.value&&g.disableClickPropagation(He.value),re.disableScrollPropagation&&He.value&&g.disableScrollPropagation(He.value),jo(()=>Oe.emit("ready",Ie.value))}),{root:He,leafletObject:Ie}},render(){return dw(this.$slots)}});({...Bh});({...Bh});({...Bh});({...Bh});const rp={...Oh},pw=(re,Oe,Ie)=>{const{options:He,methods:lt}=tp(re,Oe,Ie),vt=fc(re,rp,He),H={...lt,addLayer(U){Oe.value.addLayer(U.leafletObject)},removeLayer(U){Oe.value.removeLayer(U.leafletObject)}};return no(Qc,H.addLayer),no(ep,H.removeLayer),{options:vt,methods:H}};({...rp});const Am={...rp,geojson:{type:[Object,Array],custom:!0},optionsStyle:{type:Function,custom:!0}},gw=(re,Oe,Ie)=>{const{options:He,methods:lt}=pw(re,Oe,Ie),vt=fc(re,Am,He);Object.prototype.hasOwnProperty.call(re,"optionsStyle")&&(vt.style=re.optionsStyle);const H={...lt,setGeojson(U){Oe.value.clearLayers(),Oe.value.addData(U)},setOptionsStyle(U){Oe.value.setStyle(U)},getGeoJSONData(){return Oe.value.toGeoJSON()},getBounds(){return Oe.value.getBounds()}};return{options:vt,methods:H}},yw=kl({props:Am,setup(re,Oe){const Ie=Za(),He=Za(!1),lt=yo(Rc),vt=ku(Qc),{methods:H,options:U}=gw(re,Ie,Oe);return au(async()=>{const{geoJSON:e}=lt?Nf.L:await Iu(()=>import("./leaflet-src.esm-9c358b30.js"),[]);Ie.value=Xc(e(re.geojson,U));const{listeners:g}=Jc(Oe.attrs);Ie.value.on(g),Pc(H,Ie.value,re),vt({...re,...H,leafletObject:Ie.value}),He.value=!0,jo(()=>Oe.emit("ready",Ie.value))}),{ready:He,leafletObject:Ie}},render(){return wm(this.ready,this.$slots)}}),np={...Oh,opacity:{type:Number},zIndex:{type:Number},tileSize:{type:[Number,Array,Object]},noWrap:{type:Boolean,default:void 0},minZoom:{type:Number},maxZoom:{type:Number},className:{type:String}},Sm=(re,Oe,Ie)=>{const{options:He,methods:lt}=tp(re,Oe,Ie),vt=fc(re,np,He),H={...lt,setTileComponent(){var U;(U=Oe.value)==null||U.redraw()}};return H0(()=>{Oe.value.off()}),{options:vt,methods:H}},mw=(re,Oe,Ie,He)=>re.extend({initialize(lt){this.tileComponents={},this.on("tileunload",this._unloadTile),Ie.setOptions(this,lt)},createTile(lt){const vt=this._tileCoordsToKey(lt);this.tileComponents[vt]=Oe.create("div");const H=nu({setup:He,props:["coords"]},{coords:lt});return qb(H,this.tileComponents[vt]),this.tileComponents[vt]},_unloadTile(lt){const vt=this._tileCoordsToKey(lt.coords);this.tileComponents[vt]&&(this.tileComponents[vt].innerHTML="",this.tileComponents[vt]=void 0)}});kl({props:{...np,childRender:{type:Function,required:!0}},setup(re,Oe){const Ie=Za(),He=Za(null),lt=Za(!1),vt=yo(Rc),H=ku(Qc),{options:U,methods:e}=Sm(re,Ie,Oe);return au(async()=>{const{GridLayer:g,DomUtil:P,Util:a}=vt?Nf.L:await Iu(()=>import("./leaflet-src.esm-9c358b30.js"),[]),L=mw(g,P,a,re.childRender);Ie.value=Xc(new L(U));const{listeners:T}=Jc(Oe.attrs);Ie.value.on(T),Pc(e,Ie.value,re),H({...re,...e,leafletObject:Ie.value}),lt.value=!0,jo(()=>Oe.emit("ready",Ie.value))}),{root:He,ready:lt,leafletObject:Ie}},render(){return this.ready?nu("div",{style:{display:"none"},ref:"root"}):null}});const Xg={iconUrl:{type:String},iconRetinaUrl:{type:String},iconSize:{type:[Object,Array]},iconAnchor:{type:[Object,Array]},popupAnchor:{type:[Object,Array]},tooltipAnchor:{type:[Object,Array]},shadowUrl:{type:String},shadowRetinaUrl:{type:String},shadowSize:{type:[Object,Array]},shadowAnchor:{type:[Object,Array]},bgPos:{type:[Object,Array]},className:{type:String}};kl({name:"LIcon",props:{...Xg,...mv},setup(re,Oe){const Ie=Za(),He=yo(Rc),lt=ku(gm),vt=ku(ym),H=ku(mm);let U,e,g,P,a;const L=(t,r,u)=>{const n=t&&t.innerHTML;if(!r){u&&a&&lt()&&vt(n);return}const{listeners:s}=Jc(Oe.attrs);a&&e(a,s);const{options:f}=xv(re),l=fc(re,Xg,f);n&&(l.html=n),a=l.html?g(l):P(l),U(a,s),H(a)},T=()=>{jo(()=>L(Ie.value,!0,!1))},v=()=>{jo(()=>L(Ie.value,!1,!0))},d={setIconUrl:T,setIconRetinaUrl:T,setIconSize:T,setIconAnchor:T,setPopupAnchor:T,setTooltipAnchor:T,setShadowUrl:T,setShadowRetinaUrl:T,setShadowAnchor:T,setBgPos:T,setClassName:T,setHtml:T};return au(async()=>{const{DomEvent:t,divIcon:r,icon:u}=He?Nf.L:await Iu(()=>import("./leaflet-src.esm-9c358b30.js"),[]);U=t.on,e=t.off,g=r,P=u,Pc(d,{},re),new MutationObserver(v).observe(Ie.value,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),T()}),{root:Ie}},render(){const re=this.$slots.default?this.$slots.default():void 0;return nu("div",{ref:"root"},re)}});({...Oh});function Mm(re,Oe,Ie){var He,lt,vt;Oe===void 0&&(Oe=50),Ie===void 0&&(Ie={});var H=(He=Ie.isImmediate)!=null&&He,U=(lt=Ie.callback)!=null&&lt,e=Ie.maxWait,g=Date.now(),P=[];function a(){if(e!==void 0){var T=Date.now()-g;if(T+Oe>=e)return e-T}return Oe}var L=function(){var T=[].slice.call(arguments),v=this;return new Promise(function(d,t){var r=H&&vt===void 0;if(vt!==void 0&&clearTimeout(vt),vt=setTimeout(function(){if(vt=void 0,g=Date.now(),!H){var n=re.apply(v,T);U&&U(n),P.forEach(function(s){return(0,s.resolve)(n)}),P=[]}},a()),r){var u=re.apply(v,T);return U&&U(u),d(u)}P.push({resolve:d,reject:t})})};return L.cancel=function(T){vt!==void 0&&clearTimeout(vt),P.forEach(function(v){return(0,v.reject)(T)}),P=[]},L}const jg={...mv,center:{type:[Object,Array]},bounds:{type:[Array,Object]},maxBounds:{type:[Array,Object]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},paddingBottomRight:{type:[Object,Array]},paddingTopLeft:{type:Object},padding:{type:Object},worldCopyJump:{type:Boolean,default:void 0},crs:{type:[String,Object]},maxBoundsViscosity:{type:Number},inertia:{type:Boolean,default:void 0},inertiaDeceleration:{type:Number},inertiaMaxSpeed:{type:Number},easeLinearity:{type:Number},zoomAnimation:{type:Boolean,default:void 0},zoomAnimationThreshold:{type:Number},fadeAnimation:{type:Boolean,default:void 0},markerZoomAnimation:{type:Boolean,default:void 0},noBlockingAnimations:{type:Boolean,default:void 0},useGlobalLeaflet:{type:Boolean,default:!0,custom:!0}},xw=kl({inheritAttrs:!1,emits:["ready","update:zoom","update:center","update:bounds"],props:jg,setup(re,Oe){const Ie=Za(),He=xd({ready:!1,layersToAdd:[],layersInControl:[]}),{options:lt}=xv(re),vt=fc(re,jg,lt),{listeners:H,attrs:U}=Jc(Oe.attrs),e=Qv(Qc),g=Qv(ep),P=Qv(pm),a=Qv(lw);no(Rc,re.useGlobalLeaflet);const L=Ln(()=>{const r={};return re.noBlockingAnimations&&(r.animate=!1),r}),T=Ln(()=>{const r=L.value;return re.padding&&(r.padding=re.padding),re.paddingTopLeft&&(r.paddingTopLeft=re.paddingTopLeft),re.paddingBottomRight&&(r.paddingBottomRight=re.paddingBottomRight),r}),v={moveend:Mm(r=>{He.leafletRef&&(Oe.emit("update:zoom",He.leafletRef.getZoom()),Oe.emit("update:center",He.leafletRef.getCenter()),Oe.emit("update:bounds",He.leafletRef.getBounds()))}),overlayadd(r){const u=He.layersInControl.find(n=>n.name===r.name);u&&u.updateVisibleProp(!0)},overlayremove(r){const u=He.layersInControl.find(n=>n.name===r.name);u&&u.updateVisibleProp(!1)}};au(async()=>{re.useGlobalLeaflet&&(Nf.L=Nf.L||await Iu(()=>import("./leaflet-src-93bec9db.js").then(b=>b.l),["assets/leaflet-src-93bec9db.js","assets/_commonjsHelpers-725317a4.js"]));const{map:r,CRS:u,Icon:n,latLngBounds:s,latLng:f,stamp:l}=re.useGlobalLeaflet?Nf.L:await Iu(()=>import("./leaflet-src.esm-9c358b30.js"),[]);try{vt.beforeMapMount&&await vt.beforeMapMount()}catch(b){console.error(`The following error occurred running the provided beforeMapMount hook ${b.message}`)}await sw(n);const x=typeof vt.crs=="string"?u[vt.crs]:vt.crs;vt.crs=x||u.EPSG3857;const c={addLayer(b){b.layerType!==void 0&&(He.layerControl===void 0?He.layersToAdd.push(b):He.layersInControl.find(h=>l(h.leafletObject)===l(b.leafletObject))||(He.layerControl.addLayer(b),He.layersInControl.push(b))),b.visible!==!1&&He.leafletRef.addLayer(b.leafletObject)},removeLayer(b){b.layerType!==void 0&&(He.layerControl===void 0?He.layersToAdd=He.layersToAdd.filter(h=>h.name!==b.name):(He.layerControl.removeLayer(b.leafletObject),He.layersInControl=He.layersInControl.filter(h=>l(h.leafletObject)!==l(b.leafletObject)))),He.leafletRef.removeLayer(b.leafletObject)},registerLayerControl(b){He.layerControl=b,He.layersToAdd.forEach(h=>{He.layerControl.addLayer(h)}),He.layersToAdd=[],P(b)},registerControl(b){He.leafletRef.addControl(b.leafletObject)},setZoom(b){const h=He.leafletRef.getZoom();b!==h&&He.leafletRef.setZoom(b,L.value)},setCrs(b){const h=He.leafletRef.getBounds();He.leafletRef.options.crs=b,He.leafletRef.fitBounds(h,{animate:!1,padding:[0,0]})},fitBounds(b){He.leafletRef.fitBounds(b,T.value)},setBounds(b){if(!b)return;const h=s(b);h.isValid()&&!(He.lastSetBounds||He.leafletRef.getBounds()).equals(h,0)&&(He.lastSetBounds=h,He.leafletRef.fitBounds(h))},setCenter(b){if(b==null)return;const h=f(b),o=He.lastSetCenter||He.leafletRef.getCenter();(o.lat!==h.lat||o.lng!==h.lng)&&(He.lastSetCenter=h,He.leafletRef.panTo(h,L.value))}};$v(e,c.addLayer),$v(g,c.removeLayer),$v(P,c.registerControl),$v(a,c.registerLayerControl),He.leafletRef=Xc(r(Ie.value,vt)),Pc(c,He.leafletRef,re),Zg(He.leafletRef,v),Zg(He.leafletRef,H),He.ready=!0,jo(()=>Oe.emit("ready",He.leafletRef))}),Uf(()=>{dm(v),He.leafletRef&&(He.leafletRef.off(),He.leafletRef.remove())});const d=Ln(()=>He.leafletRef),t=Ln(()=>He.ready);return{root:Ie,ready:t,leafletObject:d,attrs:U}},render({attrs:re}){return re.style||(re.style={}),re.style.width||(re.style.width="100%"),re.style.height||(re.style.height="100%"),nu("div",{...re,ref:"root"},this.ready&&this.$slots.default?this.$slots.default():{})}}),bw=["Symbol(Comment)","Symbol(Text)"],ww=["LTooltip","LPopup"],Em={...Oh,draggable:{type:Boolean,default:void 0},icon:{type:[Object]},zIndexOffset:{type:Number},latLng:{type:[Object,Array],custom:!0,required:!0}},Tw=(re,Oe,Ie)=>{const{options:He,methods:lt}=tp(re,Oe,Ie),vt=fc(re,Em,He),H={...lt,setDraggable(U){Oe.value.dragging&&(U?Oe.value.dragging.enable():Oe.value.dragging.disable())},latLngSync(U){Ie.emit("update:latLng",U.latlng),Ie.emit("update:lat-lng",U.latlng)},setLatLng(U){if(U!=null&&Oe.value){const e=Oe.value.getLatLng();(!e||!e.equals(U))&&Oe.value.setLatLng(U)}}};return{options:vt,methods:H}},Aw=(re,Oe)=>{const Ie=Oe.slots.default&&Oe.slots.default();return Ie&&Ie.length&&Ie.some(Sw)};function Sw(re){return!(bw.includes(re.type.toString())||ww.includes(re.type.name))}const Mw=kl({name:"LMarker",props:Em,setup(re,Oe){const Ie=Za(),He=Za(!1),lt=yo(Rc),vt=ku(Qc);no(gm,()=>{var g;return!!((g=Ie.value)!=null&&g.getElement())}),no(ym,g=>{var P,a;const L=Ac((P=Ie.value)==null?void 0:P.getElement)&&((a=Ie.value)==null?void 0:a.getElement());L&&(L.innerHTML=g)}),no(mm,g=>{var P;return((P=Ie.value)==null?void 0:P.setIcon)&&Ie.value.setIcon(g)});const{options:H,methods:U}=Tw(re,Ie,Oe),e={moveHandler:Mm(U.latLngSync)};return au(async()=>{const{marker:g,divIcon:P}=lt?Nf.L:await Iu(()=>import("./leaflet-src.esm-9c358b30.js"),[]);Aw(H,Oe)&&(H.icon=P({className:""})),Ie.value=Xc(g(re.latLng,H));const{listeners:a}=Jc(Oe.attrs);Ie.value.on(a),Ie.value.on("move",e.moveHandler),Pc(U,Ie.value,re),vt({...re,...U,leafletObject:Ie.value}),He.value=!0,jo(()=>Oe.emit("ready",Ie.value))}),Uf(()=>dm(e)),{ready:He,leafletObject:Ie}},render(){return wm(this.ready,this.$slots)}}),Ew={...Tm,smoothFactor:{type:Number},noClip:{type:Boolean,default:void 0},latLngs:{type:Array,required:!0,custom:!0}},Kg={...Ew},Cm={...mv,content:{type:String,default:null}},Cw=(re,Oe)=>{const{options:Ie,methods:He}=xv(re),lt={...He,setContent(vt){Oe.value&&vt!==null&&vt!==void 0&&Oe.value.setContent(vt)}};return{options:Ie,methods:lt}},Lw=re=>re.default?nu("div",{ref:"root"},re.default()):null,Pw={...Cm,latLng:{type:[Object,Array],default:()=>[]}},Rw=(re,Oe)=>{const{options:Ie,methods:He}=Cw(re,Oe);return{options:Ie,methods:He}},Dw=kl({name:"LPopup",props:Pw,setup(re,Oe){const Ie=Za(),He=Za(null),lt=yo(Rc),vt=ku(xm),H=ku(bm),{options:U,methods:e}=Rw(re,Ie);return au(async()=>{const{popup:g}=lt?Nf.L:await Iu(()=>import("./leaflet-src.esm-9c358b30.js"),[]);Ie.value=Xc(g(U)),re.latLng!==void 0&&Ie.value.setLatLng(re.latLng),Pc(e,Ie.value,re);const{listeners:P}=Jc(Oe.attrs);Ie.value.on(P),Ie.value.setContent(re.content||He.value||""),vt(Ie.value),jo(()=>Oe.emit("ready",Ie.value))}),Uf(()=>{H()}),{root:He,leafletObject:Ie}},render(){return Lw(this.$slots)}});({...Kg,latLngs:{...Kg.latLngs}});const ap={...np,tms:{type:Boolean,default:void 0},subdomains:{type:[String,Array],validator:re=>typeof re=="string"?!0:Array.isArray(re)?re.every(Oe=>typeof Oe=="string"):!1},detectRetina:{type:Boolean,default:void 0},url:{type:String,required:!0,custom:!0}},Iw=(re,Oe,Ie)=>{const{options:He,methods:lt}=Sm(re,Oe,Ie),vt=fc(re,ap,He),H={...lt};return{options:vt,methods:H}},kw=kl({props:ap,setup(re,Oe){const Ie=Za(),He=yo(Rc),lt=ku(Qc),{options:vt,methods:H}=Iw(re,Ie,Oe);return au(async()=>{const{tileLayer:U}=He?Nf.L:await Iu(()=>import("./leaflet-src.esm-9c358b30.js"),[]);Ie.value=Xc(U(re.url,vt));const{listeners:e}=Jc(Oe.attrs);Ie.value.on(e),Pc(H,Ie.value,re),lt({...re,...H,leafletObject:Ie.value}),jo(()=>Oe.emit("ready",Ie.value))}),{leafletObject:Ie}},render(){return null}});({...Cm});({...ap});var Lm={exports:{}};/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */(function(re,Oe){(function(Ie,He){re.exports=He()})(v3,function(){for(var Ie=function(it,gt,Mt){return gt===void 0&&(gt=0),Mt===void 0&&(Mt=1),it<gt?gt:it>Mt?Mt:it},He=Ie,lt=function(it){it._clipped=!1,it._unclipped=it.slice(0);for(var gt=0;gt<=3;gt++)gt<3?((it[gt]<0||it[gt]>255)&&(it._clipped=!0),it[gt]=He(it[gt],0,255)):gt===3&&(it[gt]=He(it[gt],0,1));return it},vt={},H=0,U=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];H<U.length;H+=1){var e=U[H];vt["[object "+e+"]"]=e.toLowerCase()}var g=function(it){return vt[Object.prototype.toString.call(it)]||"object"},P=g,a=function(it,gt){return gt===void 0&&(gt=null),it.length>=3?Array.prototype.slice.call(it):P(it[0])=="object"&&gt?gt.split("").filter(function(Mt){return it[0][Mt]!==void 0}).map(function(Mt){return it[0][Mt]}):it[0]},L=g,T=function(it){if(it.length<2)return null;var gt=it.length-1;return L(it[gt])=="string"?it[gt].toLowerCase():null},v=Math.PI,d={clip_rgb:lt,limit:Ie,type:g,unpack:a,last:T,PI:v,TWOPI:v*2,PITHIRD:v/3,DEG2RAD:v/180,RAD2DEG:180/v},t={format:{},autodetect:[]},r=d.last,u=d.clip_rgb,n=d.type,s=t,f=function(){for(var gt=[],Mt=arguments.length;Mt--;)gt[Mt]=arguments[Mt];var fr=this;if(n(gt[0])==="object"&&gt[0].constructor&&gt[0].constructor===this.constructor)return gt[0];var Lr=r(gt),Br=!1;if(!Lr){Br=!0,s.sorted||(s.autodetect=s.autodetect.sort(function(Dn,Jn){return Jn.p-Dn.p}),s.sorted=!0);for(var Ir=0,en=s.autodetect;Ir<en.length;Ir+=1){var an=en[Ir];if(Lr=an.test.apply(an,gt),Lr)break}}if(s.format[Lr]){var In=s.format[Lr].apply(null,Br?gt:gt.slice(0,-1));fr._rgb=u(In)}else throw new Error("unknown format: "+gt);fr._rgb.length===3&&fr._rgb.push(1)};f.prototype.toString=function(){return n(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var l=f,x=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];return new(Function.prototype.bind.apply(x.Color,[null].concat(it)))};x.Color=l,x.version="2.4.2";var c=x,b=d.unpack,h=Math.max,o=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];var Mt=b(it,"rgb"),fr=Mt[0],Lr=Mt[1],Br=Mt[2];fr=fr/255,Lr=Lr/255,Br=Br/255;var Ir=1-h(fr,h(Lr,Br)),en=Ir<1?1/(1-Ir):0,an=(1-fr-Ir)*en,In=(1-Lr-Ir)*en,Dn=(1-Br-Ir)*en;return[an,In,Dn,Ir]},p=o,S=d.unpack,A=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];it=S(it,"cmyk");var Mt=it[0],fr=it[1],Lr=it[2],Br=it[3],Ir=it.length>4?it[4]:1;return Br===1?[0,0,0,Ir]:[Mt>=1?0:255*(1-Mt)*(1-Br),fr>=1?0:255*(1-fr)*(1-Br),Lr>=1?0:255*(1-Lr)*(1-Br),Ir]},E=A,m=c,M=l,w=t,i=d.unpack,C=d.type,y=p;M.prototype.cmyk=function(){return y(this._rgb)},m.cmyk=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];return new(Function.prototype.bind.apply(M,[null].concat(it,["cmyk"])))},w.format.cmyk=E,w.autodetect.push({p:2,test:function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];if(it=i(it,"cmyk"),C(it)==="array"&&it.length===4)return"cmyk"}});var _=d.unpack,I=d.last,N=function(it){return Math.round(it*100)/100},k=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];var Mt=_(it,"hsla"),fr=I(it)||"lsa";return Mt[0]=N(Mt[0]||0),Mt[1]=N(Mt[1]*100)+"%",Mt[2]=N(Mt[2]*100)+"%",fr==="hsla"||Mt.length>3&&Mt[3]<1?(Mt[3]=Mt.length>3?Mt[3]:1,fr="hsla"):Mt.length=3,fr+"("+Mt.join(",")+")"},O=k,z=d.unpack,F=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];it=z(it,"rgba");var Mt=it[0],fr=it[1],Lr=it[2];Mt/=255,fr/=255,Lr/=255;var Br=Math.min(Mt,fr,Lr),Ir=Math.max(Mt,fr,Lr),en=(Ir+Br)/2,an,In;return Ir===Br?(an=0,In=Number.NaN):an=en<.5?(Ir-Br)/(Ir+Br):(Ir-Br)/(2-Ir-Br),Mt==Ir?In=(fr-Lr)/(Ir-Br):fr==Ir?In=2+(Lr-Mt)/(Ir-Br):Lr==Ir&&(In=4+(Mt-fr)/(Ir-Br)),In*=60,In<0&&(In+=360),it.length>3&&it[3]!==void 0?[In,an,en,it[3]]:[In,an,en]},B=F,G=d.unpack,Q=d.last,ee=O,ae=B,fe=Math.round,K=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];var Mt=G(it,"rgba"),fr=Q(it)||"rgb";return fr.substr(0,3)=="hsl"?ee(ae(Mt),fr):(Mt[0]=fe(Mt[0]),Mt[1]=fe(Mt[1]),Mt[2]=fe(Mt[2]),(fr==="rgba"||Mt.length>3&&Mt[3]<1)&&(Mt[3]=Mt.length>3?Mt[3]:1,fr="rgba"),fr+"("+Mt.slice(0,fr==="rgb"?3:4).join(",")+")")},W=K,Z=d.unpack,X=Math.round,$=function(){for(var it,gt=[],Mt=arguments.length;Mt--;)gt[Mt]=arguments[Mt];gt=Z(gt,"hsl");var fr=gt[0],Lr=gt[1],Br=gt[2],Ir,en,an;if(Lr===0)Ir=en=an=Br*255;else{var In=[0,0,0],Dn=[0,0,0],Jn=Br<.5?Br*(1+Lr):Br+Lr-Br*Lr,Kn=2*Br-Jn,da=fr/360;In[0]=da+1/3,In[1]=da,In[2]=da-1/3;for(var pa=0;pa<3;pa++)In[pa]<0&&(In[pa]+=1),In[pa]>1&&(In[pa]-=1),6*In[pa]<1?Dn[pa]=Kn+(Jn-Kn)*6*In[pa]:2*In[pa]<1?Dn[pa]=Jn:3*In[pa]<2?Dn[pa]=Kn+(Jn-Kn)*(2/3-In[pa])*6:Dn[pa]=Kn;it=[X(Dn[0]*255),X(Dn[1]*255),X(Dn[2]*255)],Ir=it[0],en=it[1],an=it[2]}return gt.length>3?[Ir,en,an,gt[3]]:[Ir,en,an,1]},ie=$,J=ie,j=t,se=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,ne=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,ue=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,ge=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,we=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,xe=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Fe=Math.round,ze=function(it){it=it.toLowerCase().trim();var gt;if(j.format.named)try{return j.format.named(it)}catch{}if(gt=it.match(se)){for(var Mt=gt.slice(1,4),fr=0;fr<3;fr++)Mt[fr]=+Mt[fr];return Mt[3]=1,Mt}if(gt=it.match(ne)){for(var Lr=gt.slice(1,5),Br=0;Br<4;Br++)Lr[Br]=+Lr[Br];return Lr}if(gt=it.match(ue)){for(var Ir=gt.slice(1,4),en=0;en<3;en++)Ir[en]=Fe(Ir[en]*2.55);return Ir[3]=1,Ir}if(gt=it.match(ge)){for(var an=gt.slice(1,5),In=0;In<3;In++)an[In]=Fe(an[In]*2.55);return an[3]=+an[3],an}if(gt=it.match(we)){var Dn=gt.slice(1,4);Dn[1]*=.01,Dn[2]*=.01;var Jn=J(Dn);return Jn[3]=1,Jn}if(gt=it.match(xe)){var Kn=gt.slice(1,4);Kn[1]*=.01,Kn[2]*=.01;var da=J(Kn);return da[3]=+gt[4],da}};ze.test=function(it){return se.test(it)||ne.test(it)||ue.test(it)||ge.test(it)||we.test(it)||xe.test(it)};var Te=ze,ye=c,Ae=l,Ne=t,Ue=d.type,Re=W,Ve=Te;Ae.prototype.css=function(it){return Re(this._rgb,it)},ye.css=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];return new(Function.prototype.bind.apply(Ae,[null].concat(it,["css"])))},Ne.format.css=Ve,Ne.autodetect.push({p:5,test:function(it){for(var gt=[],Mt=arguments.length-1;Mt-- >0;)gt[Mt]=arguments[Mt+1];if(!gt.length&&Ue(it)==="string"&&Ve.test(it))return"css"}});var rt=l,Qe=c,Je=t,qe=d.unpack;Je.format.gl=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];var Mt=qe(it,"rgba");return Mt[0]*=255,Mt[1]*=255,Mt[2]*=255,Mt},Qe.gl=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];return new(Function.prototype.bind.apply(rt,[null].concat(it,["gl"])))},rt.prototype.gl=function(){var it=this._rgb;return[it[0]/255,it[1]/255,it[2]/255,it[3]]};var dt=d.unpack,pt=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];var Mt=dt(it,"rgb"),fr=Mt[0],Lr=Mt[1],Br=Mt[2],Ir=Math.min(fr,Lr,Br),en=Math.max(fr,Lr,Br),an=en-Ir,In=an*100/255,Dn=Ir/(255-an)*100,Jn;return an===0?Jn=Number.NaN:(fr===en&&(Jn=(Lr-Br)/an),Lr===en&&(Jn=2+(Br-fr)/an),Br===en&&(Jn=4+(fr-Lr)/an),Jn*=60,Jn<0&&(Jn+=360)),[Jn,In,Dn]},mt=pt,Ct=d.unpack,Rt=Math.floor,Zt=function(){for(var it,gt,Mt,fr,Lr,Br,Ir=[],en=arguments.length;en--;)Ir[en]=arguments[en];Ir=Ct(Ir,"hcg");var an=Ir[0],In=Ir[1],Dn=Ir[2],Jn,Kn,da;Dn=Dn*255;var pa=In*255;if(In===0)Jn=Kn=da=Dn;else{an===360&&(an=0),an>360&&(an-=360),an<0&&(an+=360),an/=60;var kn=Rt(an),wa=an-kn,Aa=Dn*(1-In),Oa=Aa+pa*(1-wa),oi=Aa+pa*wa,ui=Aa+pa;switch(kn){case 0:it=[ui,oi,Aa],Jn=it[0],Kn=it[1],da=it[2];break;case 1:gt=[Oa,ui,Aa],Jn=gt[0],Kn=gt[1],da=gt[2];break;case 2:Mt=[Aa,ui,oi],Jn=Mt[0],Kn=Mt[1],da=Mt[2];break;case 3:fr=[Aa,Oa,ui],Jn=fr[0],Kn=fr[1],da=fr[2];break;case 4:Lr=[oi,Aa,ui],Jn=Lr[0],Kn=Lr[1],da=Lr[2];break;case 5:Br=[ui,Aa,Oa],Jn=Br[0],Kn=Br[1],da=Br[2];break}}return[Jn,Kn,da,Ir.length>3?Ir[3]:1]},Xe=Zt,Le=d.unpack,Pe=d.type,ke=c,Ce=l,me=t,oe=mt;Ce.prototype.hcg=function(){return oe(this._rgb)},ke.hcg=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];return new(Function.prototype.bind.apply(Ce,[null].concat(it,["hcg"])))},me.format.hcg=Xe,me.autodetect.push({p:1,test:function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];if(it=Le(it,"hcg"),Pe(it)==="array"&&it.length===3)return"hcg"}});var pe=d.unpack,Me=d.last,_e=Math.round,tt=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];var Mt=pe(it,"rgba"),fr=Mt[0],Lr=Mt[1],Br=Mt[2],Ir=Mt[3],en=Me(it)||"auto";Ir===void 0&&(Ir=1),en==="auto"&&(en=Ir<1?"rgba":"rgb"),fr=_e(fr),Lr=_e(Lr),Br=_e(Br);var an=fr<<16|Lr<<8|Br,In="000000"+an.toString(16);In=In.substr(In.length-6);var Dn="0"+_e(Ir*255).toString(16);switch(Dn=Dn.substr(Dn.length-2),en.toLowerCase()){case"rgba":return"#"+In+Dn;case"argb":return"#"+Dn+In;default:return"#"+In}},at=tt,At=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Ft=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Gt=function(it){if(it.match(At)){(it.length===4||it.length===7)&&(it=it.substr(1)),it.length===3&&(it=it.split(""),it=it[0]+it[0]+it[1]+it[1]+it[2]+it[2]);var gt=parseInt(it,16),Mt=gt>>16,fr=gt>>8&255,Lr=gt&255;return[Mt,fr,Lr,1]}if(it.match(Ft)){(it.length===5||it.length===9)&&(it=it.substr(1)),it.length===4&&(it=it.split(""),it=it[0]+it[0]+it[1]+it[1]+it[2]+it[2]+it[3]+it[3]);var Br=parseInt(it,16),Ir=Br>>24&255,en=Br>>16&255,an=Br>>8&255,In=Math.round((Br&255)/255*100)/100;return[Ir,en,an,In]}throw new Error("unknown hex color: "+it)},Yt=Gt,Dt=c,$t=l,lr=d.type,Hr=t,xt=at;$t.prototype.hex=function(it){return xt(this._rgb,it)},Dt.hex=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];return new(Function.prototype.bind.apply($t,[null].concat(it,["hex"])))},Hr.format.hex=Yt,Hr.autodetect.push({p:4,test:function(it){for(var gt=[],Mt=arguments.length-1;Mt-- >0;)gt[Mt]=arguments[Mt+1];if(!gt.length&&lr(it)==="string"&&[3,4,5,6,7,8,9].indexOf(it.length)>=0)return"hex"}});var Qt=d.unpack,jt=d.TWOPI,Sr=Math.min,gr=Math.sqrt,ut=Math.acos,st=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];var Mt=Qt(it,"rgb"),fr=Mt[0],Lr=Mt[1],Br=Mt[2];fr/=255,Lr/=255,Br/=255;var Ir,en=Sr(fr,Lr,Br),an=(fr+Lr+Br)/3,In=an>0?1-en/an:0;return In===0?Ir=NaN:(Ir=(fr-Lr+(fr-Br))/2,Ir/=gr((fr-Lr)*(fr-Lr)+(fr-Br)*(Lr-Br)),Ir=ut(Ir),Br>Lr&&(Ir=jt-Ir),Ir/=jt),[Ir*360,In,an]},bt=st,St=d.unpack,Pt=d.limit,Et=d.TWOPI,Bt=d.PITHIRD,Wt=Math.cos,tr=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];it=St(it,"hsi");var Mt=it[0],fr=it[1],Lr=it[2],Br,Ir,en;return isNaN(Mt)&&(Mt=0),isNaN(fr)&&(fr=0),Mt>360&&(Mt-=360),Mt<0&&(Mt+=360),Mt/=360,Mt<1/3?(en=(1-fr)/3,Br=(1+fr*Wt(Et*Mt)/Wt(Bt-Et*Mt))/3,Ir=1-(en+Br)):Mt<2/3?(Mt-=1/3,Br=(1-fr)/3,Ir=(1+fr*Wt(Et*Mt)/Wt(Bt-Et*Mt))/3,en=1-(Br+Ir)):(Mt-=2/3,Ir=(1-fr)/3,en=(1+fr*Wt(Et*Mt)/Wt(Bt-Et*Mt))/3,Br=1-(Ir+en)),Br=Pt(Lr*Br*3),Ir=Pt(Lr*Ir*3),en=Pt(Lr*en*3),[Br*255,Ir*255,en*255,it.length>3?it[3]:1]},er=tr,ur=d.unpack,kr=d.type,We=c,Ge=l,_t=t,Ot=bt;Ge.prototype.hsi=function(){return Ot(this._rgb)},We.hsi=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];return new(Function.prototype.bind.apply(Ge,[null].concat(it,["hsi"])))},_t.format.hsi=er,_t.autodetect.push({p:2,test:function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];if(it=ur(it,"hsi"),kr(it)==="array"&&it.length===3)return"hsi"}});var Kt=d.unpack,or=d.type,hr=c,ir=l,Nt=t,vr=B;ir.prototype.hsl=function(){return vr(this._rgb)},hr.hsl=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];return new(Function.prototype.bind.apply(ir,[null].concat(it,["hsl"])))},Nt.format.hsl=ie,Nt.autodetect.push({p:2,test:function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];if(it=Kt(it,"hsl"),or(it)==="array"&&it.length===3)return"hsl"}});var mr=d.unpack,xr=Math.min,yr=Math.max,Kr=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];it=mr(it,"rgb");var Mt=it[0],fr=it[1],Lr=it[2],Br=xr(Mt,fr,Lr),Ir=yr(Mt,fr,Lr),en=Ir-Br,an,In,Dn;return Dn=Ir/255,Ir===0?(an=Number.NaN,In=0):(In=en/Ir,Mt===Ir&&(an=(fr-Lr)/en),fr===Ir&&(an=2+(Lr-Mt)/en),Lr===Ir&&(an=4+(Mt-fr)/en),an*=60,an<0&&(an+=360)),[an,In,Dn]},Nr=Kr,Ur=d.unpack,Tn=Math.floor,rn=function(){for(var it,gt,Mt,fr,Lr,Br,Ir=[],en=arguments.length;en--;)Ir[en]=arguments[en];Ir=Ur(Ir,"hsv");var an=Ir[0],In=Ir[1],Dn=Ir[2],Jn,Kn,da;if(Dn*=255,In===0)Jn=Kn=da=Dn;else{an===360&&(an=0),an>360&&(an-=360),an<0&&(an+=360),an/=60;var pa=Tn(an),kn=an-pa,wa=Dn*(1-In),Aa=Dn*(1-In*kn),Oa=Dn*(1-In*(1-kn));switch(pa){case 0:it=[Dn,Oa,wa],Jn=it[0],Kn=it[1],da=it[2];break;case 1:gt=[Aa,Dn,wa],Jn=gt[0],Kn=gt[1],da=gt[2];break;case 2:Mt=[wa,Dn,Oa],Jn=Mt[0],Kn=Mt[1],da=Mt[2];break;case 3:fr=[wa,Aa,Dn],Jn=fr[0],Kn=fr[1],da=fr[2];break;case 4:Lr=[Oa,wa,Dn],Jn=Lr[0],Kn=Lr[1],da=Lr[2];break;case 5:Br=[Dn,wa,Aa],Jn=Br[0],Kn=Br[1],da=Br[2];break}}return[Jn,Kn,da,Ir.length>3?Ir[3]:1]},Gn=rn,Hn=d.unpack,Ar=d.type,Cr=c,Yr=l,Zr=t,un=Nr;Yr.prototype.hsv=function(){return un(this._rgb)},Cr.hsv=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];return new(Function.prototype.bind.apply(Yr,[null].concat(it,["hsv"])))},Zr.format.hsv=Gn,Zr.autodetect.push({p:2,test:function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];if(it=Hn(it,"hsv"),Ar(it)==="array"&&it.length===3)return"hsv"}});var mn={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},pn=mn,Rn=d.unpack,Un=Math.pow,oa=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];var Mt=Rn(it,"rgb"),fr=Mt[0],Lr=Mt[1],Br=Mt[2],Ir=va(fr,Lr,Br),en=Ir[0],an=Ir[1],In=Ir[2],Dn=116*an-16;return[Dn<0?0:Dn,500*(en-an),200*(an-In)]},ua=function(it){return(it/=255)<=.04045?it/12.92:Un((it+.055)/1.055,2.4)},xa=function(it){return it>pn.t3?Un(it,1/3):it/pn.t2+pn.t0},va=function(it,gt,Mt){it=ua(it),gt=ua(gt),Mt=ua(Mt);var fr=xa((.4124564*it+.3575761*gt+.1804375*Mt)/pn.Xn),Lr=xa((.2126729*it+.7151522*gt+.072175*Mt)/pn.Yn),Br=xa((.0193339*it+.119192*gt+.9503041*Mt)/pn.Zn);return[fr,Lr,Br]},ca=oa,Pr=mn,dn=d.unpack,cn=Math.pow,An=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];it=dn(it,"lab");var Mt=it[0],fr=it[1],Lr=it[2],Br,Ir,en,an,In,Dn;return Ir=(Mt+16)/116,Br=isNaN(fr)?Ir:Ir+fr/500,en=isNaN(Lr)?Ir:Ir-Lr/200,Ir=Pr.Yn*zn(Ir),Br=Pr.Xn*zn(Br),en=Pr.Zn*zn(en),an=Qn(3.2404542*Br-1.5371385*Ir-.4985314*en),In=Qn(-.969266*Br+1.8760108*Ir+.041556*en),Dn=Qn(.0556434*Br-.2040259*Ir+1.0572252*en),[an,In,Dn,it.length>3?it[3]:1]},Qn=function(it){return 255*(it<=.00304?12.92*it:1.055*cn(it,1/2.4)-.055)},zn=function(it){return it>Pr.t1?it*it*it:Pr.t2*(it-Pr.t0)},Bn=An,qn=d.unpack,ya=d.type,Na=c,ii=l,Jt=t,Mr=ca;ii.prototype.lab=function(){return Mr(this._rgb)},Na.lab=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];return new(Function.prototype.bind.apply(ii,[null].concat(it,["lab"])))},Jt.format.lab=Bn,Jt.autodetect.push({p:2,test:function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];if(it=qn(it,"lab"),ya(it)==="array"&&it.length===3)return"lab"}});var hn=d.unpack,xn=d.RAD2DEG,bn=Math.sqrt,Nn=Math.atan2,Pn=Math.round,yn=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];var Mt=hn(it,"lab"),fr=Mt[0],Lr=Mt[1],Br=Mt[2],Ir=bn(Lr*Lr+Br*Br),en=(Nn(Br,Lr)*xn+360)%360;return Pn(Ir*1e4)===0&&(en=Number.NaN),[fr,Ir,en]},zr=yn,_r=d.unpack,Gr=ca,wn=zr,Yn=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];var Mt=_r(it,"rgb"),fr=Mt[0],Lr=Mt[1],Br=Mt[2],Ir=Gr(fr,Lr,Br),en=Ir[0],an=Ir[1],In=Ir[2];return wn(en,an,In)},ta=Yn,Mn=d.unpack,jn=d.DEG2RAD,fa=Math.sin,Ta=Math.cos,ba=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];var Mt=Mn(it,"lch"),fr=Mt[0],Lr=Mt[1],Br=Mt[2];return isNaN(Br)&&(Br=0),Br=Br*jn,[fr,Ta(Br)*Lr,fa(Br)*Lr]},ma=ba,Pa=d.unpack,$i=ma,ho=Bn,mo=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];it=Pa(it,"lch");var Mt=it[0],fr=it[1],Lr=it[2],Br=$i(Mt,fr,Lr),Ir=Br[0],en=Br[1],an=Br[2],In=ho(Ir,en,an),Dn=In[0],Jn=In[1],Kn=In[2];return[Dn,Jn,Kn,it.length>3?it[3]:1]},xo=mo,bo=d.unpack,zu=xo,di=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];var Mt=bo(it,"hcl").reverse();return zu.apply(void 0,Mt)},_l=di,ml=d.unpack,qi=d.type,wo=c,Fl=l,qs=t,zi=ta;Fl.prototype.lch=function(){return zi(this._rgb)},Fl.prototype.hcl=function(){return zi(this._rgb).reverse()},wo.lch=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];return new(Function.prototype.bind.apply(Fl,[null].concat(it,["lch"])))},wo.hcl=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];return new(Function.prototype.bind.apply(Fl,[null].concat(it,["hcl"])))},qs.format.lch=xo,qs.format.hcl=_l,["lch","hcl"].forEach(function(it){return qs.autodetect.push({p:2,test:function(){for(var gt=[],Mt=arguments.length;Mt--;)gt[Mt]=arguments[Mt];if(gt=ml(gt,it),qi(gt)==="array"&&gt.length===3)return it}})});var zl={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Io=zl,Ji=l,ko=t,vo=d.type,po=Io,as=Yt,ys=at;Ji.prototype.name=function(){for(var it=ys(this._rgb,"rgb"),gt=0,Mt=Object.keys(po);gt<Mt.length;gt+=1){var fr=Mt[gt];if(po[fr]===it)return fr.toLowerCase()}return it},ko.format.named=function(it){if(it=it.toLowerCase(),po[it])return as(po[it]);throw new Error("unknown color name: "+it)},ko.autodetect.push({p:5,test:function(it){for(var gt=[],Mt=arguments.length-1;Mt-- >0;)gt[Mt]=arguments[Mt+1];if(!gt.length&&vo(it)==="string"&&po[it.toLowerCase()])return"named"}});var ao=d.unpack,df=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];var Mt=ao(it,"rgb"),fr=Mt[0],Lr=Mt[1],Br=Mt[2];return(fr<<16)+(Lr<<8)+Br},is=df,io=d.type,Ou=function(it){if(io(it)=="number"&&it>=0&&it<=16777215){var gt=it>>16,Mt=it>>8&255,fr=it&255;return[gt,Mt,fr,1]}throw new Error("unknown num color: "+it)},ms=Ou,os=c,ou=l,su=t,Hf=d.type,Ol=is;ou.prototype.num=function(){return Ol(this._rgb)},os.num=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];return new(Function.prototype.bind.apply(ou,[null].concat(it,["num"])))},su.format.num=ms,su.autodetect.push({p:5,test:function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];if(it.length===1&&Hf(it[0])==="number"&&it[0]>=0&&it[0]<=16777215)return"num"}});var Gf=c,Bu=l,pf=t,lu=d.unpack,gf=d.type,yf=Math.round;Bu.prototype.rgb=function(it){return it===void 0&&(it=!0),it===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(yf)},Bu.prototype.rgba=function(it){return it===void 0&&(it=!0),this._rgb.slice(0,4).map(function(gt,Mt){return Mt<3?it===!1?gt:yf(gt):gt})},Gf.rgb=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];return new(Function.prototype.bind.apply(Bu,[null].concat(it,["rgb"])))},pf.format.rgb=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];var Mt=lu(it,"rgba");return Mt[3]===void 0&&(Mt[3]=1),Mt},pf.autodetect.push({p:3,test:function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];if(it=lu(it,"rgba"),gf(it)==="array"&&(it.length===3||it.length===4&&gf(it[3])=="number"&&it[3]>=0&&it[3]<=1))return"rgb"}});var Bl=Math.log,Wf=function(it){var gt=it/100,Mt,fr,Lr;return gt<66?(Mt=255,fr=gt<6?0:-155.25485562709179-.44596950469579133*(fr=gt-2)+104.49216199393888*Bl(fr),Lr=gt<20?0:-254.76935184120902+.8274096064007395*(Lr=gt-10)+115.67994401066147*Bl(Lr)):(Mt=351.97690566805693+.114206453784165*(Mt=gt-55)-40.25366309332127*Bl(Mt),fr=325.4494125711974+.07943456536662342*(fr=gt-50)-28.0852963507957*Bl(fr),Lr=255),[Mt,fr,Lr,1]},mf=Wf,Nu=mf,el=d.unpack,tl=Math.round,xl=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];for(var Mt=el(it,"rgb"),fr=Mt[0],Lr=Mt[2],Br=1e3,Ir=4e4,en=.4,an;Ir-Br>en;){an=(Ir+Br)*.5;var In=Nu(an);In[2]/In[0]>=Lr/fr?Ir=an:Br=an}return tl(an)},uu=xl,Uu=c,Wo=l,fu=t,Vu=uu;Wo.prototype.temp=Wo.prototype.kelvin=Wo.prototype.temperature=function(){return Vu(this._rgb)},Uu.temp=Uu.kelvin=Uu.temperature=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];return new(Function.prototype.bind.apply(Wo,[null].concat(it,["temp"])))},fu.format.temp=fu.format.kelvin=fu.format.temperature=mf;var Yf=d.unpack,_o=Math.cbrt,rl=Math.pow,Nl=Math.sign,bl=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];var Mt=Yf(it,"rgb"),fr=Mt[0],Lr=Mt[1],Br=Mt[2],Ir=[Jo(fr/255),Jo(Lr/255),Jo(Br/255)],en=Ir[0],an=Ir[1],In=Ir[2],Dn=_o(.4122214708*en+.5363325363*an+.0514459929*In),Jn=_o(.2119034982*en+.6806995451*an+.1073969566*In),Kn=_o(.0883024619*en+.2817188376*an+.6299787005*In);return[.2104542553*Dn+.793617785*Jn-.0040720468*Kn,1.9779984951*Dn-2.428592205*Jn+.4505937099*Kn,.0259040371*Dn+.7827717662*Jn-.808675766*Kn]},Ko=bl;function Jo(it){var gt=Math.abs(it);return gt<.04045?it/12.92:(Nl(it)||1)*rl((gt+.055)/1.055,2.4)}var Hu=d.unpack,xs=Math.pow,Fs=Math.sign,Zi=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];it=Hu(it,"lab");var Mt=it[0],fr=it[1],Lr=it[2],Br=xs(Mt+.3963377774*fr+.2158037573*Lr,3),Ir=xs(Mt-.1055613458*fr-.0638541728*Lr,3),en=xs(Mt-.0894841775*fr-1.291485548*Lr,3);return[255*wl(4.0767416621*Br-3.3077115913*Ir+.2309699292*en),255*wl(-1.2684380046*Br+2.6097574011*Ir-.3413193965*en),255*wl(-.0041960863*Br-.7034186147*Ir+1.707614701*en),it.length>3?it[3]:1]},cu=Zi;function wl(it){var gt=Math.abs(it);return gt>.0031308?(Fs(it)||1)*(1.055*xs(gt,1/2.4)-.055):it*12.92}var Tl=d.unpack,xf=d.type,bf=c,nl=l,al=t,eo=Ko;nl.prototype.oklab=function(){return eo(this._rgb)},bf.oklab=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];return new(Function.prototype.bind.apply(nl,[null].concat(it,["oklab"])))},al.format.oklab=cu,al.autodetect.push({p:3,test:function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];if(it=Tl(it,"oklab"),xf(it)==="array"&&it.length===3)return"oklab"}});var hu=d.unpack,Zf=Ko,Gu=zr,Xf=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];var Mt=hu(it,"rgb"),fr=Mt[0],Lr=Mt[1],Br=Mt[2],Ir=Zf(fr,Lr,Br),en=Ir[0],an=Ir[1],In=Ir[2];return Gu(en,an,In)},vu=Xf,Ul=d.unpack,Wu=ma,Yu=cu,Vl=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];it=Ul(it,"lch");var Mt=it[0],fr=it[1],Lr=it[2],Br=Wu(Mt,fr,Lr),Ir=Br[0],en=Br[1],an=Br[2],In=Yu(Ir,en,an),Dn=In[0],Jn=In[1],Kn=In[2];return[Dn,Jn,Kn,it.length>3?it[3]:1]},Zu=Vl,du=d.unpack,Xu=d.type,Ri=c,ju=l,Yo=t,Al=vu;ju.prototype.oklch=function(){return Al(this._rgb)},Ri.oklch=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];return new(Function.prototype.bind.apply(ju,[null].concat(it,["oklch"])))},Yo.format.oklch=Zu,Yo.autodetect.push({p:3,test:function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];if(it=du(it,"oklch"),Xu(it)==="array"&&it.length===3)return"oklch"}});var zs=l,Ku=d.type;zs.prototype.alpha=function(it,gt){return gt===void 0&&(gt=!1),it!==void 0&&Ku(it)==="number"?gt?(this._rgb[3]=it,this):new zs([this._rgb[0],this._rgb[1],this._rgb[2],it],"rgb"):this._rgb[3]};var ji=l;ji.prototype.clipped=function(){return this._rgb._clipped||!1};var Qo=l,Fo=mn;Qo.prototype.darken=function(it){it===void 0&&(it=1);var gt=this,Mt=gt.lab();return Mt[0]-=Fo.Kn*it,new Qo(Mt,"lab").alpha(gt.alpha(),!0)},Qo.prototype.brighten=function(it){return it===void 0&&(it=1),this.darken(-it)},Qo.prototype.darker=Qo.prototype.darken,Qo.prototype.brighter=Qo.prototype.brighten;var bs=l;bs.prototype.get=function(it){var gt=it.split("."),Mt=gt[0],fr=gt[1],Lr=this[Mt]();if(fr){var Br=Mt.indexOf(fr)-(Mt.substr(0,2)==="ok"?2:0);if(Br>-1)return Lr[Br];throw new Error("unknown channel "+fr+" in mode "+Mt)}else return Lr};var zo=l,Os=d.type,Bs=Math.pow,Ns=1e-7,$o=20;zo.prototype.luminance=function(it){if(it!==void 0&&Os(it)==="number"){if(it===0)return new zo([0,0,0,this._rgb[3]],"rgb");if(it===1)return new zo([255,255,255,this._rgb[3]],"rgb");var gt=this.luminance(),Mt="rgb",fr=$o,Lr=function(Ir,en){var an=Ir.interpolate(en,.5,Mt),In=an.luminance();return Math.abs(it-In)<Ns||!fr--?an:In>it?Lr(Ir,an):Lr(an,en)},Br=(gt>it?Lr(new zo([0,0,0]),this):Lr(this,new zo([255,255,255]))).rgb();return new zo(Br.concat([this._rgb[3]]))}return ss.apply(void 0,this._rgb.slice(0,3))};var ss=function(it,gt,Mt){return it=il(it),gt=il(gt),Mt=il(Mt),.2126*it+.7152*gt+.0722*Mt},il=function(it){return it/=255,it<=.03928?it/12.92:Bs((it+.055)/1.055,2.4)},oo={},Hl=l,wf=d.type,pu=oo,Tf=function(it,gt,Mt){Mt===void 0&&(Mt=.5);for(var fr=[],Lr=arguments.length-3;Lr-- >0;)fr[Lr]=arguments[Lr+3];var Br=fr[0]||"lrgb";if(!pu[Br]&&!fr.length&&(Br=Object.keys(pu)[0]),!pu[Br])throw new Error("interpolation mode "+Br+" is not defined");return wf(it)!=="object"&&(it=new Hl(it)),wf(gt)!=="object"&&(gt=new Hl(gt)),pu[Br](it,gt,Mt).alpha(it.alpha()+Mt*(gt.alpha()-it.alpha()))},Af=l,gu=Tf;Af.prototype.mix=Af.prototype.interpolate=function(it,gt){gt===void 0&&(gt=.5);for(var Mt=[],fr=arguments.length-2;fr-- >0;)Mt[fr]=arguments[fr+2];return gu.apply(void 0,[this,it,gt].concat(Mt))};var Ju=l;Ju.prototype.premultiply=function(it){it===void 0&&(it=!1);var gt=this._rgb,Mt=gt[3];return it?(this._rgb=[gt[0]*Mt,gt[1]*Mt,gt[2]*Mt,Mt],this):new Ju([gt[0]*Mt,gt[1]*Mt,gt[2]*Mt,Mt],"rgb")};var Us=l,so=mn;Us.prototype.saturate=function(it){it===void 0&&(it=1);var gt=this,Mt=gt.lch();return Mt[1]+=so.Kn*it,Mt[1]<0&&(Mt[1]=0),new Us(Mt,"lch").alpha(gt.alpha(),!0)},Us.prototype.desaturate=function(it){return it===void 0&&(it=1),this.saturate(-it)};var To=l,Sl=d.type;To.prototype.set=function(it,gt,Mt){Mt===void 0&&(Mt=!1);var fr=it.split("."),Lr=fr[0],Br=fr[1],Ir=this[Lr]();if(Br){var en=Lr.indexOf(Br)-(Lr.substr(0,2)==="ok"?2:0);if(en>-1){if(Sl(gt)=="string")switch(gt.charAt(0)){case"+":Ir[en]+=+gt;break;case"-":Ir[en]+=+gt;break;case"*":Ir[en]*=+gt.substr(1);break;case"/":Ir[en]/=+gt.substr(1);break;default:Ir[en]=+gt}else if(Sl(gt)==="number")Ir[en]=gt;else throw new Error("unsupported value for Color.set");var an=new To(Ir,Lr);return Mt?(this._rgb=an._rgb,this):an}throw new Error("unknown channel "+Br+" in mode "+Lr)}else return Ir};var ol=l,Gl=function(it,gt,Mt){var fr=it._rgb,Lr=gt._rgb;return new ol(fr[0]+Mt*(Lr[0]-fr[0]),fr[1]+Mt*(Lr[1]-fr[1]),fr[2]+Mt*(Lr[2]-fr[2]),"rgb")};oo.rgb=Gl;var yu=l,Qu=Math.sqrt,sl=Math.pow,Sf=function(it,gt,Mt){var fr=it._rgb,Lr=fr[0],Br=fr[1],Ir=fr[2],en=gt._rgb,an=en[0],In=en[1],Dn=en[2];return new yu(Qu(sl(Lr,2)*(1-Mt)+sl(an,2)*Mt),Qu(sl(Br,2)*(1-Mt)+sl(In,2)*Mt),Qu(sl(Ir,2)*(1-Mt)+sl(Dn,2)*Mt),"rgb")};oo.lrgb=Sf;var $u=l,Vs=function(it,gt,Mt){var fr=it.lab(),Lr=gt.lab();return new $u(fr[0]+Mt*(Lr[0]-fr[0]),fr[1]+Mt*(Lr[1]-fr[1]),fr[2]+Mt*(Lr[2]-fr[2]),"lab")};oo.lab=Vs;var Xi=l,Ao=function(it,gt,Mt,fr){var Lr,Br,Ir,en;fr==="hsl"?(Ir=it.hsl(),en=gt.hsl()):fr==="hsv"?(Ir=it.hsv(),en=gt.hsv()):fr==="hcg"?(Ir=it.hcg(),en=gt.hcg()):fr==="hsi"?(Ir=it.hsi(),en=gt.hsi()):fr==="lch"||fr==="hcl"?(fr="hcl",Ir=it.hcl(),en=gt.hcl()):fr==="oklch"&&(Ir=it.oklch().reverse(),en=gt.oklch().reverse());var an,In,Dn,Jn,Kn,da;(fr.substr(0,1)==="h"||fr==="oklch")&&(Lr=Ir,an=Lr[0],Dn=Lr[1],Kn=Lr[2],Br=en,In=Br[0],Jn=Br[1],da=Br[2]);var pa,kn,wa,Aa;return!isNaN(an)&&!isNaN(In)?(In>an&&In-an>180?Aa=In-(an+360):In<an&&an-In>180?Aa=In+360-an:Aa=In-an,kn=an+Mt*Aa):isNaN(an)?isNaN(In)?kn=Number.NaN:(kn=In,(Kn==1||Kn==0)&&fr!="hsv"&&(pa=Jn)):(kn=an,(da==1||da==0)&&fr!="hsv"&&(pa=Dn)),pa===void 0&&(pa=Dn+Mt*(Jn-Dn)),wa=Kn+Mt*(da-Kn),fr==="oklch"?new Xi([wa,pa,kn],fr):new Xi([kn,pa,wa],fr)},qu=Ao,ef=function(it,gt,Mt){return qu(it,gt,Mt,"lch")};oo.lch=ef,oo.hcl=ef;var ll=l,mu=function(it,gt,Mt){var fr=it.num(),Lr=gt.num();return new ll(fr+Mt*(Lr-fr),"num")};oo.num=mu;var qo=Ao,xu=function(it,gt,Mt){return qo(it,gt,Mt,"hcg")};oo.hcg=xu;var ws=Ao,Ts=function(it,gt,Mt){return ws(it,gt,Mt,"hsi")};oo.hsi=Ts;var tf=Ao,Ml=function(it,gt,Mt){return tf(it,gt,Mt,"hsl")};oo.hsl=Ml;var Si=Ao,ul=function(it,gt,Mt){return Si(it,gt,Mt,"hsv")};oo.hsv=ul;var bu=l,wu=function(it,gt,Mt){var fr=it.oklab(),Lr=gt.oklab();return new bu(fr[0]+Mt*(Lr[0]-fr[0]),fr[1]+Mt*(Lr[1]-fr[1]),fr[2]+Mt*(Lr[2]-fr[2]),"oklab")};oo.oklab=wu;var Hs=Ao,jf=function(it,gt,Mt){return Hs(it,gt,Mt,"oklch")};oo.oklch=jf;var Wl=l,El=d.clip_rgb,Yl=Math.pow,Tu=Math.sqrt,es=Math.PI,As=Math.cos,Gs=Math.sin,fl=Math.atan2,Oo=function(it,gt,Mt){gt===void 0&&(gt="lrgb"),Mt===void 0&&(Mt=null);var fr=it.length;Mt||(Mt=Array.from(new Array(fr)).map(function(){return 1}));var Lr=fr/Mt.reduce(function(kn,wa){return kn+wa});if(Mt.forEach(function(kn,wa){Mt[wa]*=Lr}),it=it.map(function(kn){return new Wl(kn)}),gt==="lrgb")return No(it,Mt);for(var Br=it.shift(),Ir=Br.get(gt),en=[],an=0,In=0,Dn=0;Dn<Ir.length;Dn++)if(Ir[Dn]=(Ir[Dn]||0)*Mt[0],en.push(isNaN(Ir[Dn])?0:Mt[0]),gt.charAt(Dn)==="h"&&!isNaN(Ir[Dn])){var Jn=Ir[Dn]/180*es;an+=As(Jn)*Mt[0],In+=Gs(Jn)*Mt[0]}var Kn=Br.alpha()*Mt[0];it.forEach(function(kn,wa){var Aa=kn.get(gt);Kn+=kn.alpha()*Mt[wa+1];for(var Oa=0;Oa<Ir.length;Oa++)if(!isNaN(Aa[Oa]))if(en[Oa]+=Mt[wa+1],gt.charAt(Oa)==="h"){var oi=Aa[Oa]/180*es;an+=As(oi)*Mt[wa+1],In+=Gs(oi)*Mt[wa+1]}else Ir[Oa]+=Aa[Oa]*Mt[wa+1]});for(var da=0;da<Ir.length;da++)if(gt.charAt(da)==="h"){for(var pa=fl(In/en[da],an/en[da])/es*180;pa<0;)pa+=360;for(;pa>=360;)pa-=360;Ir[da]=pa}else Ir[da]=Ir[da]/en[da];return Kn/=fr,new Wl(Ir,gt).alpha(Kn>.99999?1:Kn,!0)},No=function(it,gt){for(var Mt=it.length,fr=[0,0,0,0],Lr=0;Lr<it.length;Lr++){var Br=it[Lr],Ir=gt[Lr]/Mt,en=Br._rgb;fr[0]+=Yl(en[0],2)*Ir,fr[1]+=Yl(en[1],2)*Ir,fr[2]+=Yl(en[2],2)*Ir,fr[3]+=en[3]*Ir}return fr[0]=Tu(fr[0]),fr[1]=Tu(fr[1]),fr[2]=Tu(fr[2]),fr[3]>.9999999&&(fr[3]=1),new Wl(El(fr))},lo=c,cl=d.type,Cl=Math.pow,Ll=function(it){var gt="rgb",Mt=lo("#ccc"),fr=0,Lr=[0,1],Br=[],Ir=[0,0],en=!1,an=[],In=!1,Dn=0,Jn=1,Kn=!1,da={},pa=!0,kn=1,wa=function($n){if($n=$n||["#fff","#000"],$n&&cl($n)==="string"&&lo.brewer&&lo.brewer[$n.toLowerCase()]&&($n=lo.brewer[$n.toLowerCase()]),cl($n)==="array"){$n.length===1&&($n=[$n[0],$n[0]]),$n=$n.slice(0);for(var Xn=0;Xn<$n.length;Xn++)$n[Xn]=lo($n[Xn]);Br.length=0;for(var na=0;na<$n.length;na++)Br.push(na/($n.length-1))}return xi(),an=$n},Aa=function($n){if(en!=null){for(var Xn=en.length-1,na=0;na<Xn&&$n>=en[na];)na++;return na-1}return 0},Oa=function($n){return $n},oi=function($n){return $n},ui=function($n,Xn){var na,Ha;if(Xn==null&&(Xn=!1),isNaN($n)||$n===null)return Mt;if(Xn)Ha=$n;else if(en&&en.length>2){var hi=Aa($n);Ha=hi/(en.length-2)}else Jn!==Dn?Ha=($n-Dn)/(Jn-Dn):Ha=1;Ha=oi(Ha),Xn||(Ha=Oa(Ha)),kn!==1&&(Ha=Cl(Ha,kn)),Ha=Ir[0]+Ha*(1-Ir[0]-Ir[1]),Ha=Math.min(1,Math.max(0,Ha));var ci=Math.floor(Ha*1e4);if(pa&&da[ci])na=da[ci];else{if(cl(an)==="array")for(var Qa=0;Qa<Br.length;Qa++){var ri=Br[Qa];if(Ha<=ri){na=an[Qa];break}if(Ha>=ri&&Qa===Br.length-1){na=an[Qa];break}if(Ha>ri&&Ha<Br[Qa+1]){Ha=(Ha-ri)/(Br[Qa+1]-ri),na=lo.interpolate(an[Qa],an[Qa+1],Ha,gt);break}}else cl(an)==="function"&&(na=an(Ha));pa&&(da[ci]=na)}return na},xi=function(){return da={}};wa(it);var Ya=function($n){var Xn=lo(ui($n));return In&&Xn[In]?Xn[In]():Xn};return Ya.classes=function($n){if($n!=null){if(cl($n)==="array")en=$n,Lr=[$n[0],$n[$n.length-1]];else{var Xn=lo.analyze(Lr);$n===0?en=[Xn.min,Xn.max]:en=lo.limits(Xn,"e",$n)}return Ya}return en},Ya.domain=function($n){if(!arguments.length)return Lr;Dn=$n[0],Jn=$n[$n.length-1],Br=[];var Xn=an.length;if($n.length===Xn&&Dn!==Jn)for(var na=0,Ha=Array.from($n);na<Ha.length;na+=1){var hi=Ha[na];Br.push((hi-Dn)/(Jn-Dn))}else{for(var ci=0;ci<Xn;ci++)Br.push(ci/(Xn-1));if($n.length>2){var Qa=$n.map(function(ja,li){return li/($n.length-1)}),ri=$n.map(function(ja){return(ja-Dn)/(Jn-Dn)});ri.every(function(ja,li){return Qa[li]===ja})||(oi=function(ja){if(ja<=0||ja>=1)return ja;for(var li=0;ja>=ri[li+1];)li++;var fi=(ja-ri[li])/(ri[li+1]-ri[li]),uo=Qa[li]+fi*(Qa[li+1]-Qa[li]);return uo})}}return Lr=[Dn,Jn],Ya},Ya.mode=function($n){return arguments.length?(gt=$n,xi(),Ya):gt},Ya.range=function($n,Xn){return wa($n),Ya},Ya.out=function($n){return In=$n,Ya},Ya.spread=function($n){return arguments.length?(fr=$n,Ya):fr},Ya.correctLightness=function($n){return $n==null&&($n=!0),Kn=$n,xi(),Kn?Oa=function(Xn){for(var na=ui(0,!0).lab()[0],Ha=ui(1,!0).lab()[0],hi=na>Ha,ci=ui(Xn,!0).lab()[0],Qa=na+(Ha-na)*Xn,ri=ci-Qa,ja=0,li=1,fi=20;Math.abs(ri)>.01&&fi-- >0;)(function(){return hi&&(ri*=-1),ri<0?(ja=Xn,Xn+=(li-Xn)*.5):(li=Xn,Xn+=(ja-Xn)*.5),ci=ui(Xn,!0).lab()[0],ri=ci-Qa})();return Xn}:Oa=function(Xn){return Xn},Ya},Ya.padding=function($n){return $n!=null?(cl($n)==="number"&&($n=[$n,$n]),Ir=$n,Ya):Ir},Ya.colors=function($n,Xn){arguments.length<2&&(Xn="hex");var na=[];if(arguments.length===0)na=an.slice(0);else if($n===1)na=[Ya(.5)];else if($n>1){var Ha=Lr[0],hi=Lr[1]-Ha;na=Mf(0,$n,!1).map(function(li){return Ya(Ha+li/($n-1)*hi)})}else{it=[];var ci=[];if(en&&en.length>2)for(var Qa=1,ri=en.length,ja=1<=ri;ja?Qa<ri:Qa>ri;ja?Qa++:Qa--)ci.push((en[Qa-1]+en[Qa])*.5);else ci=Lr;na=ci.map(function(li){return Ya(li)})}return lo[Xn]&&(na=na.map(function(li){return li[Xn]()})),na},Ya.cache=function($n){return $n!=null?(pa=$n,Ya):pa},Ya.gamma=function($n){return $n!=null?(kn=$n,Ya):kn},Ya.nodata=function($n){return $n!=null?(Mt=lo($n),Ya):Mt},Ya};function Mf(it,gt,Mt){for(var fr=[],Lr=it<gt,Br=Mt?Lr?gt+1:gt-1:gt,Ir=it;Lr?Ir<Br:Ir>Br;Lr?Ir++:Ir--)fr.push(Ir);return fr}var So=l,rf=Ll,Ws=function(it){for(var gt=[1,1],Mt=1;Mt<it;Mt++){for(var fr=[1],Lr=1;Lr<=gt.length;Lr++)fr[Lr]=(gt[Lr]||0)+gt[Lr-1];gt=fr}return gt},Zl=function(it){var gt,Mt,fr,Lr,Br,Ir,en;if(it=it.map(function(Kn){return new So(Kn)}),it.length===2)gt=it.map(function(Kn){return Kn.lab()}),Br=gt[0],Ir=gt[1],Lr=function(Kn){var da=[0,1,2].map(function(pa){return Br[pa]+Kn*(Ir[pa]-Br[pa])});return new So(da,"lab")};else if(it.length===3)Mt=it.map(function(Kn){return Kn.lab()}),Br=Mt[0],Ir=Mt[1],en=Mt[2],Lr=function(Kn){var da=[0,1,2].map(function(pa){return(1-Kn)*(1-Kn)*Br[pa]+2*(1-Kn)*Kn*Ir[pa]+Kn*Kn*en[pa]});return new So(da,"lab")};else if(it.length===4){var an;fr=it.map(function(Kn){return Kn.lab()}),Br=fr[0],Ir=fr[1],en=fr[2],an=fr[3],Lr=function(Kn){var da=[0,1,2].map(function(pa){return(1-Kn)*(1-Kn)*(1-Kn)*Br[pa]+3*(1-Kn)*(1-Kn)*Kn*Ir[pa]+3*(1-Kn)*Kn*Kn*en[pa]+Kn*Kn*Kn*an[pa]});return new So(da,"lab")}}else if(it.length>=5){var In,Dn,Jn;In=it.map(function(Kn){return Kn.lab()}),Jn=it.length-1,Dn=Ws(Jn),Lr=function(Kn){var da=1-Kn,pa=[0,1,2].map(function(kn){return In.reduce(function(wa,Aa,Oa){return wa+Dn[Oa]*Math.pow(da,Jn-Oa)*Math.pow(Kn,Oa)*Aa[kn]},0)});return new So(pa,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return Lr},Ss=function(it){var gt=Zl(it);return gt.scale=function(){return rf(gt)},gt},nf=c,Uo=function(it,gt,Mt){if(!Uo[Mt])throw new Error("unknown blend mode "+Mt);return Uo[Mt](it,gt)},ts=function(it){return function(gt,Mt){var fr=nf(Mt).rgb(),Lr=nf(gt).rgb();return nf.rgb(it(fr,Lr))}},Gi=function(it){return function(gt,Mt){var fr=[];return fr[0]=it(gt[0],Mt[0]),fr[1]=it(gt[1],Mt[1]),fr[2]=it(gt[2],Mt[2]),fr}},Ef=function(it){return it},Xl=function(it,gt){return it*gt/255},ls=function(it,gt){return it>gt?gt:it},jl=function(it,gt){return it>gt?it:gt},Ys=function(it,gt){return 255*(1-(1-it/255)*(1-gt/255))},Au=function(it,gt){return gt<128?2*it*gt/255:255*(1-2*(1-it/255)*(1-gt/255))},Cf=function(it,gt){return 255*(1-(1-gt/255)/(it/255))},af=function(it,gt){return it===255?255:(it=255*(gt/255)/(1-it/255),it>255?255:it)};Uo.normal=ts(Gi(Ef)),Uo.multiply=ts(Gi(Xl)),Uo.screen=ts(Gi(Ys)),Uo.overlay=ts(Gi(Au)),Uo.darken=ts(Gi(ls)),Uo.lighten=ts(Gi(jl)),Uo.dodge=ts(Gi(af)),Uo.burn=ts(Gi(Cf));for(var of=Uo,Ms=d.type,Su=d.clip_rgb,Kl=d.TWOPI,Lf=Math.pow,Jl=Math.sin,Pf=Math.cos,Ze=c,et=function(it,gt,Mt,fr,Lr){it===void 0&&(it=300),gt===void 0&&(gt=-1.5),Mt===void 0&&(Mt=1),fr===void 0&&(fr=1),Lr===void 0&&(Lr=[0,1]);var Br=0,Ir;Ms(Lr)==="array"?Ir=Lr[1]-Lr[0]:(Ir=0,Lr=[Lr,Lr]);var en=function(an){var In=Kl*((it+120)/360+gt*an),Dn=Lf(Lr[0]+Ir*an,fr),Jn=Br!==0?Mt[0]+an*Br:Mt,Kn=Jn*Dn*(1-Dn)/2,da=Pf(In),pa=Jl(In),kn=Dn+Kn*(-.14861*da+1.78277*pa),wa=Dn+Kn*(-.29227*da-.90649*pa),Aa=Dn+Kn*(1.97294*da);return Ze(Su([kn*255,wa*255,Aa*255,1]))};return en.start=function(an){return an==null?it:(it=an,en)},en.rotations=function(an){return an==null?gt:(gt=an,en)},en.gamma=function(an){return an==null?fr:(fr=an,en)},en.hue=function(an){return an==null?Mt:(Mt=an,Ms(Mt)==="array"?(Br=Mt[1]-Mt[0],Br===0&&(Mt=Mt[1])):Br=0,en)},en.lightness=function(an){return an==null?Lr:(Ms(an)==="array"?(Lr=an,Ir=an[1]-an[0]):(Lr=[an,an],Ir=0),en)},en.scale=function(){return Ze.scale(en)},en.hue(Mt),en},ht=l,yt="0123456789abcdef",zt=Math.floor,It=Math.random,Ut=function(){for(var it="#",gt=0;gt<6;gt++)it+=yt.charAt(zt(It()*16));return new ht(it,"hex")},dr=g,br=Math.log,sr=Math.pow,Er=Math.floor,Fr=Math.abs,Qr=function(it,gt){gt===void 0&&(gt=null);var Mt={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return dr(it)==="object"&&(it=Object.values(it)),it.forEach(function(fr){gt&&dr(fr)==="object"&&(fr=fr[gt]),fr!=null&&!isNaN(fr)&&(Mt.values.push(fr),Mt.sum+=fr,fr<Mt.min&&(Mt.min=fr),fr>Mt.max&&(Mt.max=fr),Mt.count+=1)}),Mt.domain=[Mt.min,Mt.max],Mt.limits=function(fr,Lr){return on(Mt,fr,Lr)},Mt},on=function(it,gt,Mt){gt===void 0&&(gt="equal"),Mt===void 0&&(Mt=7),dr(it)=="array"&&(it=Qr(it));var fr=it.min,Lr=it.max,Br=it.values.sort(function(Mu,Rf){return Mu-Rf});if(Mt===1)return[fr,Lr];var Ir=[];if(gt.substr(0,1)==="c"&&(Ir.push(fr),Ir.push(Lr)),gt.substr(0,1)==="e"){Ir.push(fr);for(var en=1;en<Mt;en++)Ir.push(fr+en/Mt*(Lr-fr));Ir.push(Lr)}else if(gt.substr(0,1)==="l"){if(fr<=0)throw new Error("Logarithmic scales are only possible for values > 0");var an=Math.LOG10E*br(fr),In=Math.LOG10E*br(Lr);Ir.push(fr);for(var Dn=1;Dn<Mt;Dn++)Ir.push(sr(10,an+Dn/Mt*(In-an)));Ir.push(Lr)}else if(gt.substr(0,1)==="q"){Ir.push(fr);for(var Jn=1;Jn<Mt;Jn++){var Kn=(Br.length-1)*Jn/Mt,da=Er(Kn);if(da===Kn)Ir.push(Br[da]);else{var pa=Kn-da;Ir.push(Br[da]*(1-pa)+Br[da+1]*pa)}}Ir.push(Lr)}else if(gt.substr(0,1)==="k"){var kn,wa=Br.length,Aa=new Array(wa),Oa=new Array(Mt),oi=!0,ui=0,xi=null;xi=[],xi.push(fr);for(var Ya=1;Ya<Mt;Ya++)xi.push(fr+Ya/Mt*(Lr-fr));for(xi.push(Lr);oi;){for(var $n=0;$n<Mt;$n++)Oa[$n]=0;for(var Xn=0;Xn<wa;Xn++)for(var na=Br[Xn],Ha=Number.MAX_VALUE,hi=void 0,ci=0;ci<Mt;ci++){var Qa=Fr(xi[ci]-na);Qa<Ha&&(Ha=Qa,hi=ci),Oa[hi]++,Aa[Xn]=hi}for(var ri=new Array(Mt),ja=0;ja<Mt;ja++)ri[ja]=null;for(var li=0;li<wa;li++)kn=Aa[li],ri[kn]===null?ri[kn]=Br[li]:ri[kn]+=Br[li];for(var fi=0;fi<Mt;fi++)ri[fi]*=1/Oa[fi];oi=!1;for(var uo=0;uo<Mt;uo++)if(ri[uo]!==xi[uo]){oi=!0;break}xi=ri,ui++,ui>200&&(oi=!1)}for(var Qi={},ni=0;ni<Mt;ni++)Qi[ni]=[];for(var Ei=0;Ei<wa;Ei++)kn=Aa[Ei],Qi[kn].push(Br[Ei]);for(var us=[],Es=0;Es<Mt;Es++)us.push(Qi[Es][0]),us.push(Qi[Es][Qi[Es].length-1]);us=us.sort(function(Mu,Rf){return Mu-Rf}),Ir.push(us[0]);for(var Ql=1;Ql<us.length;Ql+=2){var fs=us[Ql];!isNaN(fs)&&Ir.indexOf(fs)===-1&&Ir.push(fs)}}return Ir},Sn={analyze:Qr,limits:on},Cn=l,Vn=function(it,gt){it=new Cn(it),gt=new Cn(gt);var Mt=it.luminance(),fr=gt.luminance();return Mt>fr?(Mt+.05)/(fr+.05):(fr+.05)/(Mt+.05)},Sa=l,Da=Math.sqrt,Ca=Math.pow,Va=Math.min,Wa=Math.max,pi=Math.atan2,Oi=Math.abs,Mi=Math.cos,le=Math.sin,Se=Math.exp,Be=Math.PI,Ke=function(it,gt,Mt,fr,Lr){Mt===void 0&&(Mt=1),fr===void 0&&(fr=1),Lr===void 0&&(Lr=1);var Br=function(fs){return 360*fs/(2*Be)},Ir=function(fs){return 2*Be*fs/360};it=new Sa(it),gt=new Sa(gt);var en=Array.from(it.lab()),an=en[0],In=en[1],Dn=en[2],Jn=Array.from(gt.lab()),Kn=Jn[0],da=Jn[1],pa=Jn[2],kn=(an+Kn)/2,wa=Da(Ca(In,2)+Ca(Dn,2)),Aa=Da(Ca(da,2)+Ca(pa,2)),Oa=(wa+Aa)/2,oi=.5*(1-Da(Ca(Oa,7)/(Ca(Oa,7)+Ca(25,7)))),ui=In*(1+oi),xi=da*(1+oi),Ya=Da(Ca(ui,2)+Ca(Dn,2)),$n=Da(Ca(xi,2)+Ca(pa,2)),Xn=(Ya+$n)/2,na=Br(pi(Dn,ui)),Ha=Br(pi(pa,xi)),hi=na>=0?na:na+360,ci=Ha>=0?Ha:Ha+360,Qa=Oi(hi-ci)>180?(hi+ci+360)/2:(hi+ci)/2,ri=1-.17*Mi(Ir(Qa-30))+.24*Mi(Ir(2*Qa))+.32*Mi(Ir(3*Qa+6))-.2*Mi(Ir(4*Qa-63)),ja=ci-hi;ja=Oi(ja)<=180?ja:ci<=hi?ja+360:ja-360,ja=2*Da(Ya*$n)*le(Ir(ja)/2);var li=Kn-an,fi=$n-Ya,uo=1+.015*Ca(kn-50,2)/Da(20+Ca(kn-50,2)),Qi=1+.045*Xn,ni=1+.015*Xn*ri,Ei=30*Se(-Ca((Qa-275)/25,2)),us=2*Da(Ca(Xn,7)/(Ca(Xn,7)+Ca(25,7))),Es=-us*le(2*Ir(Ei)),Ql=Da(Ca(li/(Mt*uo),2)+Ca(fi/(fr*Qi),2)+Ca(ja/(Lr*ni),2)+Es*(fi/(fr*Qi))*(ja/(Lr*ni)));return Wa(0,Va(100,Ql))},$e=l,nt=function(it,gt,Mt){Mt===void 0&&(Mt="lab"),it=new $e(it),gt=new $e(gt);var fr=it.get(Mt),Lr=gt.get(Mt),Br=0;for(var Ir in fr){var en=(fr[Ir]||0)-(Lr[Ir]||0);Br+=en*en}return Math.sqrt(Br)},kt=l,ct=function(){for(var it=[],gt=arguments.length;gt--;)it[gt]=arguments[gt];try{return new(Function.prototype.bind.apply(kt,[null].concat(it))),!0}catch{return!1}},Ht=c,rr=Ll,ar={cool:function(){return rr([Ht.hsl(180,1,.9),Ht.hsl(250,.7,.4)])},hot:function(){return rr(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Rr={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Dr=0,nn=Object.keys(Rr);Dr<nn.length;Dr+=1){var fn=nn[Dr];Rr[fn.toLowerCase()]=Rr[fn]}var Or=Rr,Xr=c;Xr.average=Oo,Xr.bezier=Ss,Xr.blend=of,Xr.cubehelix=et,Xr.mix=Xr.interpolate=Tf,Xr.random=Ut,Xr.scale=Ll,Xr.analyze=Sn.analyze,Xr.contrast=Vn,Xr.deltaE=Ke,Xr.distance=nt,Xr.limits=Sn.limits,Xr.valid=ct,Xr.scales=ar,Xr.colors=Io,Xr.brewer=Or;var tn=Xr;return tn})})(Lm);var _w=Lm.exports;function Pm(re,Oe){return function(){return re.apply(Oe,arguments)}}const{toString:Fw}=Object.prototype,{getPrototypeOf:ip}=Object,Sd=(re=>Oe=>{const Ie=Fw.call(Oe);return re[Ie]||(re[Ie]=Ie.slice(8,-1).toLowerCase())})(Object.create(null)),Vf=re=>(re=re.toLowerCase(),Oe=>Sd(Oe)===re),Md=re=>Oe=>typeof Oe===re,{isArray:Nh}=Array,hv=Md("undefined");function zw(re){return re!==null&&!hv(re)&&re.constructor!==null&&!hv(re.constructor)&&_u(re.constructor.isBuffer)&&re.constructor.isBuffer(re)}const Rm=Vf("ArrayBuffer");function Ow(re){let Oe;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?Oe=ArrayBuffer.isView(re):Oe=re&&re.buffer&&Rm(re.buffer),Oe}const Bw=Md("string"),_u=Md("function"),Dm=Md("number"),Ed=re=>re!==null&&typeof re=="object",Nw=re=>re===!0||re===!1,nd=re=>{if(Sd(re)!=="object")return!1;const Oe=ip(re);return(Oe===null||Oe===Object.prototype||Object.getPrototypeOf(Oe)===null)&&!(Symbol.toStringTag in re)&&!(Symbol.iterator in re)},Uw=Vf("Date"),Vw=Vf("File"),Hw=Vf("Blob"),Gw=Vf("FileList"),Ww=re=>Ed(re)&&_u(re.pipe),Yw=re=>{let Oe;return re&&(typeof FormData=="function"&&re instanceof FormData||_u(re.append)&&((Oe=Sd(re))==="formdata"||Oe==="object"&&_u(re.toString)&&re.toString()==="[object FormData]"))},Zw=Vf("URLSearchParams"),Xw=re=>re.trim?re.trim():re.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function bv(re,Oe,{allOwnKeys:Ie=!1}={}){if(re===null||typeof re>"u")return;let He,lt;if(typeof re!="object"&&(re=[re]),Nh(re))for(He=0,lt=re.length;He<lt;He++)Oe.call(null,re[He],He,re);else{const vt=Ie?Object.getOwnPropertyNames(re):Object.keys(re),H=vt.length;let U;for(He=0;He<H;He++)U=vt[He],Oe.call(null,re[U],U,re)}}function Im(re,Oe){Oe=Oe.toLowerCase();const Ie=Object.keys(re);let He=Ie.length,lt;for(;He-- >0;)if(lt=Ie[He],Oe===lt.toLowerCase())return lt;return null}const km=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),_m=re=>!hv(re)&&re!==km;function R0(){const{caseless:re}=_m(this)&&this||{},Oe={},Ie=(He,lt)=>{const vt=re&&Im(Oe,lt)||lt;nd(Oe[vt])&&nd(He)?Oe[vt]=R0(Oe[vt],He):nd(He)?Oe[vt]=R0({},He):Nh(He)?Oe[vt]=He.slice():Oe[vt]=He};for(let He=0,lt=arguments.length;He<lt;He++)arguments[He]&&bv(arguments[He],Ie);return Oe}const jw=(re,Oe,Ie,{allOwnKeys:He}={})=>(bv(Oe,(lt,vt)=>{Ie&&_u(lt)?re[vt]=Pm(lt,Ie):re[vt]=lt},{allOwnKeys:He}),re),Kw=re=>(re.charCodeAt(0)===65279&&(re=re.slice(1)),re),Jw=(re,Oe,Ie,He)=>{re.prototype=Object.create(Oe.prototype,He),re.prototype.constructor=re,Object.defineProperty(re,"super",{value:Oe.prototype}),Ie&&Object.assign(re.prototype,Ie)},Qw=(re,Oe,Ie,He)=>{let lt,vt,H;const U={};if(Oe=Oe||{},re==null)return Oe;do{for(lt=Object.getOwnPropertyNames(re),vt=lt.length;vt-- >0;)H=lt[vt],(!He||He(H,re,Oe))&&!U[H]&&(Oe[H]=re[H],U[H]=!0);re=Ie!==!1&&ip(re)}while(re&&(!Ie||Ie(re,Oe))&&re!==Object.prototype);return Oe},$w=(re,Oe,Ie)=>{re=String(re),(Ie===void 0||Ie>re.length)&&(Ie=re.length),Ie-=Oe.length;const He=re.indexOf(Oe,Ie);return He!==-1&&He===Ie},qw=re=>{if(!re)return null;if(Nh(re))return re;let Oe=re.length;if(!Dm(Oe))return null;const Ie=new Array(Oe);for(;Oe-- >0;)Ie[Oe]=re[Oe];return Ie},eT=(re=>Oe=>re&&Oe instanceof re)(typeof Uint8Array<"u"&&ip(Uint8Array)),tT=(re,Oe)=>{const He=(re&&re[Symbol.iterator]).call(re);let lt;for(;(lt=He.next())&&!lt.done;){const vt=lt.value;Oe.call(re,vt[0],vt[1])}},rT=(re,Oe)=>{let Ie;const He=[];for(;(Ie=re.exec(Oe))!==null;)He.push(Ie);return He},nT=Vf("HTMLFormElement"),aT=re=>re.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(Ie,He,lt){return He.toUpperCase()+lt}),Jg=(({hasOwnProperty:re})=>(Oe,Ie)=>re.call(Oe,Ie))(Object.prototype),iT=Vf("RegExp"),Fm=(re,Oe)=>{const Ie=Object.getOwnPropertyDescriptors(re),He={};bv(Ie,(lt,vt)=>{Oe(lt,vt,re)!==!1&&(He[vt]=lt)}),Object.defineProperties(re,He)},oT=re=>{Fm(re,(Oe,Ie)=>{if(_u(re)&&["arguments","caller","callee"].indexOf(Ie)!==-1)return!1;const He=re[Ie];if(_u(He)){if(Oe.enumerable=!1,"writable"in Oe){Oe.writable=!1;return}Oe.set||(Oe.set=()=>{throw Error("Can not rewrite read-only method '"+Ie+"'")})}})},sT=(re,Oe)=>{const Ie={},He=lt=>{lt.forEach(vt=>{Ie[vt]=!0})};return Nh(re)?He(re):He(String(re).split(Oe)),Ie},lT=()=>{},uT=(re,Oe)=>(re=+re,Number.isFinite(re)?re:Oe),v0="abcdefghijklmnopqrstuvwxyz",Qg="0123456789",zm={DIGIT:Qg,ALPHA:v0,ALPHA_DIGIT:v0+v0.toUpperCase()+Qg},fT=(re=16,Oe=zm.ALPHA_DIGIT)=>{let Ie="";const{length:He}=Oe;for(;re--;)Ie+=Oe[Math.random()*He|0];return Ie};function cT(re){return!!(re&&_u(re.append)&&re[Symbol.toStringTag]==="FormData"&&re[Symbol.iterator])}const hT=re=>{const Oe=new Array(10),Ie=(He,lt)=>{if(Ed(He)){if(Oe.indexOf(He)>=0)return;if(!("toJSON"in He)){Oe[lt]=He;const vt=Nh(He)?[]:{};return bv(He,(H,U)=>{const e=Ie(H,lt+1);!hv(e)&&(vt[U]=e)}),Oe[lt]=void 0,vt}}return He};return Ie(re,0)},vT=Vf("AsyncFunction"),dT=re=>re&&(Ed(re)||_u(re))&&_u(re.then)&&_u(re.catch),sa={isArray:Nh,isArrayBuffer:Rm,isBuffer:zw,isFormData:Yw,isArrayBufferView:Ow,isString:Bw,isNumber:Dm,isBoolean:Nw,isObject:Ed,isPlainObject:nd,isUndefined:hv,isDate:Uw,isFile:Vw,isBlob:Hw,isRegExp:iT,isFunction:_u,isStream:Ww,isURLSearchParams:Zw,isTypedArray:eT,isFileList:Gw,forEach:bv,merge:R0,extend:jw,trim:Xw,stripBOM:Kw,inherits:Jw,toFlatObject:Qw,kindOf:Sd,kindOfTest:Vf,endsWith:$w,toArray:qw,forEachEntry:tT,matchAll:rT,isHTMLForm:nT,hasOwnProperty:Jg,hasOwnProp:Jg,reduceDescriptors:Fm,freezeMethods:oT,toObjectSet:sT,toCamelCase:aT,noop:lT,toFiniteNumber:uT,findKey:Im,global:km,isContextDefined:_m,ALPHABET:zm,generateString:fT,isSpecCompliantForm:cT,toJSONObject:hT,isAsyncFn:vT,isThenable:dT};function Ni(re,Oe,Ie,He,lt){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=re,this.name="AxiosError",Oe&&(this.code=Oe),Ie&&(this.config=Ie),He&&(this.request=He),lt&&(this.response=lt)}sa.inherits(Ni,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:sa.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Om=Ni.prototype,Bm={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(re=>{Bm[re]={value:re}});Object.defineProperties(Ni,Bm);Object.defineProperty(Om,"isAxiosError",{value:!0});Ni.from=(re,Oe,Ie,He,lt,vt)=>{const H=Object.create(Om);return sa.toFlatObject(re,H,function(e){return e!==Error.prototype},U=>U!=="isAxiosError"),Ni.call(H,re.message,Oe,Ie,He,lt),H.cause=re,H.name=re.name,vt&&Object.assign(H,vt),H};const pT=null;function D0(re){return sa.isPlainObject(re)||sa.isArray(re)}function Nm(re){return sa.endsWith(re,"[]")?re.slice(0,-2):re}function $g(re,Oe,Ie){return re?re.concat(Oe).map(function(lt,vt){return lt=Nm(lt),!Ie&&vt?"["+lt+"]":lt}).join(Ie?".":""):Oe}function gT(re){return sa.isArray(re)&&!re.some(D0)}const yT=sa.toFlatObject(sa,{},null,function(Oe){return/^is[A-Z]/.test(Oe)});function Cd(re,Oe,Ie){if(!sa.isObject(re))throw new TypeError("target must be an object");Oe=Oe||new FormData,Ie=sa.toFlatObject(Ie,{metaTokens:!0,dots:!1,indexes:!1},!1,function(d,t){return!sa.isUndefined(t[d])});const He=Ie.metaTokens,lt=Ie.visitor||P,vt=Ie.dots,H=Ie.indexes,e=(Ie.Blob||typeof Blob<"u"&&Blob)&&sa.isSpecCompliantForm(Oe);if(!sa.isFunction(lt))throw new TypeError("visitor must be a function");function g(v){if(v===null)return"";if(sa.isDate(v))return v.toISOString();if(!e&&sa.isBlob(v))throw new Ni("Blob is not supported. Use a Buffer instead.");return sa.isArrayBuffer(v)||sa.isTypedArray(v)?e&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function P(v,d,t){let r=v;if(v&&!t&&typeof v=="object"){if(sa.endsWith(d,"{}"))d=He?d:d.slice(0,-2),v=JSON.stringify(v);else if(sa.isArray(v)&&gT(v)||(sa.isFileList(v)||sa.endsWith(d,"[]"))&&(r=sa.toArray(v)))return d=Nm(d),r.forEach(function(n,s){!(sa.isUndefined(n)||n===null)&&Oe.append(H===!0?$g([d],s,vt):H===null?d:d+"[]",g(n))}),!1}return D0(v)?!0:(Oe.append($g(t,d,vt),g(v)),!1)}const a=[],L=Object.assign(yT,{defaultVisitor:P,convertValue:g,isVisitable:D0});function T(v,d){if(!sa.isUndefined(v)){if(a.indexOf(v)!==-1)throw Error("Circular reference detected in "+d.join("."));a.push(v),sa.forEach(v,function(r,u){(!(sa.isUndefined(r)||r===null)&&lt.call(Oe,r,sa.isString(u)?u.trim():u,d,L))===!0&&T(r,d?d.concat(u):[u])}),a.pop()}}if(!sa.isObject(re))throw new TypeError("data must be an object");return T(re),Oe}function qg(re){const Oe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(re).replace(/[!'()~]|%20|%00/g,function(He){return Oe[He]})}function op(re,Oe){this._pairs=[],re&&Cd(re,this,Oe)}const Um=op.prototype;Um.append=function(Oe,Ie){this._pairs.push([Oe,Ie])};Um.toString=function(Oe){const Ie=Oe?function(He){return Oe.call(this,He,qg)}:qg;return this._pairs.map(function(lt){return Ie(lt[0])+"="+Ie(lt[1])},"").join("&")};function mT(re){return encodeURIComponent(re).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Vm(re,Oe,Ie){if(!Oe)return re;const He=Ie&&Ie.encode||mT,lt=Ie&&Ie.serialize;let vt;if(lt?vt=lt(Oe,Ie):vt=sa.isURLSearchParams(Oe)?Oe.toString():new op(Oe,Ie).toString(He),vt){const H=re.indexOf("#");H!==-1&&(re=re.slice(0,H)),re+=(re.indexOf("?")===-1?"?":"&")+vt}return re}class xT{constructor(){this.handlers=[]}use(Oe,Ie,He){return this.handlers.push({fulfilled:Oe,rejected:Ie,synchronous:He?He.synchronous:!1,runWhen:He?He.runWhen:null}),this.handlers.length-1}eject(Oe){this.handlers[Oe]&&(this.handlers[Oe]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(Oe){sa.forEach(this.handlers,function(He){He!==null&&Oe(He)})}}const ey=xT,Hm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bT=typeof URLSearchParams<"u"?URLSearchParams:op,wT=typeof FormData<"u"?FormData:null,TT=typeof Blob<"u"?Blob:null,AT=(()=>{let re;return typeof navigator<"u"&&((re=navigator.product)==="ReactNative"||re==="NativeScript"||re==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),ST=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Of={isBrowser:!0,classes:{URLSearchParams:bT,FormData:wT,Blob:TT},isStandardBrowserEnv:AT,isStandardBrowserWebWorkerEnv:ST,protocols:["http","https","file","blob","url","data"]};function MT(re,Oe){return Cd(re,new Of.classes.URLSearchParams,Object.assign({visitor:function(Ie,He,lt,vt){return Of.isNode&&sa.isBuffer(Ie)?(this.append(He,Ie.toString("base64")),!1):vt.defaultVisitor.apply(this,arguments)}},Oe))}function ET(re){return sa.matchAll(/\w+|\[(\w*)]/g,re).map(Oe=>Oe[0]==="[]"?"":Oe[1]||Oe[0])}function CT(re){const Oe={},Ie=Object.keys(re);let He;const lt=Ie.length;let vt;for(He=0;He<lt;He++)vt=Ie[He],Oe[vt]=re[vt];return Oe}function Gm(re){function Oe(Ie,He,lt,vt){let H=Ie[vt++];const U=Number.isFinite(+H),e=vt>=Ie.length;return H=!H&&sa.isArray(lt)?lt.length:H,e?(sa.hasOwnProp(lt,H)?lt[H]=[lt[H],He]:lt[H]=He,!U):((!lt[H]||!sa.isObject(lt[H]))&&(lt[H]=[]),Oe(Ie,He,lt[H],vt)&&sa.isArray(lt[H])&&(lt[H]=CT(lt[H])),!U)}if(sa.isFormData(re)&&sa.isFunction(re.entries)){const Ie={};return sa.forEachEntry(re,(He,lt)=>{Oe(ET(He),lt,Ie,0)}),Ie}return null}const LT={"Content-Type":void 0};function PT(re,Oe,Ie){if(sa.isString(re))try{return(Oe||JSON.parse)(re),sa.trim(re)}catch(He){if(He.name!=="SyntaxError")throw He}return(Ie||JSON.stringify)(re)}const Ld={transitional:Hm,adapter:["xhr","http"],transformRequest:[function(Oe,Ie){const He=Ie.getContentType()||"",lt=He.indexOf("application/json")>-1,vt=sa.isObject(Oe);if(vt&&sa.isHTMLForm(Oe)&&(Oe=new FormData(Oe)),sa.isFormData(Oe))return lt&&lt?JSON.stringify(Gm(Oe)):Oe;if(sa.isArrayBuffer(Oe)||sa.isBuffer(Oe)||sa.isStream(Oe)||sa.isFile(Oe)||sa.isBlob(Oe))return Oe;if(sa.isArrayBufferView(Oe))return Oe.buffer;if(sa.isURLSearchParams(Oe))return Ie.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),Oe.toString();let U;if(vt){if(He.indexOf("application/x-www-form-urlencoded")>-1)return MT(Oe,this.formSerializer).toString();if((U=sa.isFileList(Oe))||He.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return Cd(U?{"files[]":Oe}:Oe,e&&new e,this.formSerializer)}}return vt||lt?(Ie.setContentType("application/json",!1),PT(Oe)):Oe}],transformResponse:[function(Oe){const Ie=this.transitional||Ld.transitional,He=Ie&&Ie.forcedJSONParsing,lt=this.responseType==="json";if(Oe&&sa.isString(Oe)&&(He&&!this.responseType||lt)){const H=!(Ie&&Ie.silentJSONParsing)&&lt;try{return JSON.parse(Oe)}catch(U){if(H)throw U.name==="SyntaxError"?Ni.from(U,Ni.ERR_BAD_RESPONSE,this,null,this.response):U}}return Oe}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Of.classes.FormData,Blob:Of.classes.Blob},validateStatus:function(Oe){return Oe>=200&&Oe<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};sa.forEach(["delete","get","head"],function(Oe){Ld.headers[Oe]={}});sa.forEach(["post","put","patch"],function(Oe){Ld.headers[Oe]=sa.merge(LT)});const sp=Ld,RT=sa.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),DT=re=>{const Oe={};let Ie,He,lt;return re&&re.split(`
`).forEach(function(H){lt=H.indexOf(":"),Ie=H.substring(0,lt).trim().toLowerCase(),He=H.substring(lt+1).trim(),!(!Ie||Oe[Ie]&&RT[Ie])&&(Ie==="set-cookie"?Oe[Ie]?Oe[Ie].push(He):Oe[Ie]=[He]:Oe[Ie]=Oe[Ie]?Oe[Ie]+", "+He:He)}),Oe},ty=Symbol("internals");function lv(re){return re&&String(re).trim().toLowerCase()}function ad(re){return re===!1||re==null?re:sa.isArray(re)?re.map(ad):String(re)}function IT(re){const Oe=Object.create(null),Ie=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let He;for(;He=Ie.exec(re);)Oe[He[1]]=He[2];return Oe}const kT=re=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(re.trim());function d0(re,Oe,Ie,He,lt){if(sa.isFunction(He))return He.call(this,Oe,Ie);if(lt&&(Oe=Ie),!!sa.isString(Oe)){if(sa.isString(He))return Oe.indexOf(He)!==-1;if(sa.isRegExp(He))return He.test(Oe)}}function _T(re){return re.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(Oe,Ie,He)=>Ie.toUpperCase()+He)}function FT(re,Oe){const Ie=sa.toCamelCase(" "+Oe);["get","set","has"].forEach(He=>{Object.defineProperty(re,He+Ie,{value:function(lt,vt,H){return this[He].call(this,Oe,lt,vt,H)},configurable:!0})})}class Pd{constructor(Oe){Oe&&this.set(Oe)}set(Oe,Ie,He){const lt=this;function vt(U,e,g){const P=lv(e);if(!P)throw new Error("header name must be a non-empty string");const a=sa.findKey(lt,P);(!a||lt[a]===void 0||g===!0||g===void 0&&lt[a]!==!1)&&(lt[a||e]=ad(U))}const H=(U,e)=>sa.forEach(U,(g,P)=>vt(g,P,e));return sa.isPlainObject(Oe)||Oe instanceof this.constructor?H(Oe,Ie):sa.isString(Oe)&&(Oe=Oe.trim())&&!kT(Oe)?H(DT(Oe),Ie):Oe!=null&&vt(Ie,Oe,He),this}get(Oe,Ie){if(Oe=lv(Oe),Oe){const He=sa.findKey(this,Oe);if(He){const lt=this[He];if(!Ie)return lt;if(Ie===!0)return IT(lt);if(sa.isFunction(Ie))return Ie.call(this,lt,He);if(sa.isRegExp(Ie))return Ie.exec(lt);throw new TypeError("parser must be boolean|regexp|function")}}}has(Oe,Ie){if(Oe=lv(Oe),Oe){const He=sa.findKey(this,Oe);return!!(He&&this[He]!==void 0&&(!Ie||d0(this,this[He],He,Ie)))}return!1}delete(Oe,Ie){const He=this;let lt=!1;function vt(H){if(H=lv(H),H){const U=sa.findKey(He,H);U&&(!Ie||d0(He,He[U],U,Ie))&&(delete He[U],lt=!0)}}return sa.isArray(Oe)?Oe.forEach(vt):vt(Oe),lt}clear(Oe){const Ie=Object.keys(this);let He=Ie.length,lt=!1;for(;He--;){const vt=Ie[He];(!Oe||d0(this,this[vt],vt,Oe,!0))&&(delete this[vt],lt=!0)}return lt}normalize(Oe){const Ie=this,He={};return sa.forEach(this,(lt,vt)=>{const H=sa.findKey(He,vt);if(H){Ie[H]=ad(lt),delete Ie[vt];return}const U=Oe?_T(vt):String(vt).trim();U!==vt&&delete Ie[vt],Ie[U]=ad(lt),He[U]=!0}),this}concat(...Oe){return this.constructor.concat(this,...Oe)}toJSON(Oe){const Ie=Object.create(null);return sa.forEach(this,(He,lt)=>{He!=null&&He!==!1&&(Ie[lt]=Oe&&sa.isArray(He)?He.join(", "):He)}),Ie}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([Oe,Ie])=>Oe+": "+Ie).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(Oe){return Oe instanceof this?Oe:new this(Oe)}static concat(Oe,...Ie){const He=new this(Oe);return Ie.forEach(lt=>He.set(lt)),He}static accessor(Oe){const He=(this[ty]=this[ty]={accessors:{}}).accessors,lt=this.prototype;function vt(H){const U=lv(H);He[U]||(FT(lt,H),He[U]=!0)}return sa.isArray(Oe)?Oe.forEach(vt):vt(Oe),this}}Pd.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);sa.freezeMethods(Pd.prototype);sa.freezeMethods(Pd);const tc=Pd;function p0(re,Oe){const Ie=this||sp,He=Oe||Ie,lt=tc.from(He.headers);let vt=He.data;return sa.forEach(re,function(U){vt=U.call(Ie,vt,lt.normalize(),Oe?Oe.status:void 0)}),lt.normalize(),vt}function Wm(re){return!!(re&&re.__CANCEL__)}function wv(re,Oe,Ie){Ni.call(this,re??"canceled",Ni.ERR_CANCELED,Oe,Ie),this.name="CanceledError"}sa.inherits(wv,Ni,{__CANCEL__:!0});function zT(re,Oe,Ie){const He=Ie.config.validateStatus;!Ie.status||!He||He(Ie.status)?re(Ie):Oe(new Ni("Request failed with status code "+Ie.status,[Ni.ERR_BAD_REQUEST,Ni.ERR_BAD_RESPONSE][Math.floor(Ie.status/100)-4],Ie.config,Ie.request,Ie))}const OT=Of.isStandardBrowserEnv?function(){return{write:function(Ie,He,lt,vt,H,U){const e=[];e.push(Ie+"="+encodeURIComponent(He)),sa.isNumber(lt)&&e.push("expires="+new Date(lt).toGMTString()),sa.isString(vt)&&e.push("path="+vt),sa.isString(H)&&e.push("domain="+H),U===!0&&e.push("secure"),document.cookie=e.join("; ")},read:function(Ie){const He=document.cookie.match(new RegExp("(^|;\\s*)("+Ie+")=([^;]*)"));return He?decodeURIComponent(He[3]):null},remove:function(Ie){this.write(Ie,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function BT(re){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(re)}function NT(re,Oe){return Oe?re.replace(/\/+$/,"")+"/"+Oe.replace(/^\/+/,""):re}function Ym(re,Oe){return re&&!BT(Oe)?NT(re,Oe):Oe}const UT=Of.isStandardBrowserEnv?function(){const Oe=/(msie|trident)/i.test(navigator.userAgent),Ie=document.createElement("a");let He;function lt(vt){let H=vt;return Oe&&(Ie.setAttribute("href",H),H=Ie.href),Ie.setAttribute("href",H),{href:Ie.href,protocol:Ie.protocol?Ie.protocol.replace(/:$/,""):"",host:Ie.host,search:Ie.search?Ie.search.replace(/^\?/,""):"",hash:Ie.hash?Ie.hash.replace(/^#/,""):"",hostname:Ie.hostname,port:Ie.port,pathname:Ie.pathname.charAt(0)==="/"?Ie.pathname:"/"+Ie.pathname}}return He=lt(window.location.href),function(H){const U=sa.isString(H)?lt(H):H;return U.protocol===He.protocol&&U.host===He.host}}():function(){return function(){return!0}}();function VT(re){const Oe=/^([-+\w]{1,25})(:?\/\/|:)/.exec(re);return Oe&&Oe[1]||""}function HT(re,Oe){re=re||10;const Ie=new Array(re),He=new Array(re);let lt=0,vt=0,H;return Oe=Oe!==void 0?Oe:1e3,function(e){const g=Date.now(),P=He[vt];H||(H=g),Ie[lt]=e,He[lt]=g;let a=vt,L=0;for(;a!==lt;)L+=Ie[a++],a=a%re;if(lt=(lt+1)%re,lt===vt&&(vt=(vt+1)%re),g-H<Oe)return;const T=P&&g-P;return T?Math.round(L*1e3/T):void 0}}function ry(re,Oe){let Ie=0;const He=HT(50,250);return lt=>{const vt=lt.loaded,H=lt.lengthComputable?lt.total:void 0,U=vt-Ie,e=He(U),g=vt<=H;Ie=vt;const P={loaded:vt,total:H,progress:H?vt/H:void 0,bytes:U,rate:e||void 0,estimated:e&&H&&g?(H-vt)/e:void 0,event:lt};P[Oe?"download":"upload"]=!0,re(P)}}const GT=typeof XMLHttpRequest<"u",WT=GT&&function(re){return new Promise(function(Ie,He){let lt=re.data;const vt=tc.from(re.headers).normalize(),H=re.responseType;let U;function e(){re.cancelToken&&re.cancelToken.unsubscribe(U),re.signal&&re.signal.removeEventListener("abort",U)}sa.isFormData(lt)&&(Of.isStandardBrowserEnv||Of.isStandardBrowserWebWorkerEnv?vt.setContentType(!1):vt.setContentType("multipart/form-data;",!1));let g=new XMLHttpRequest;if(re.auth){const T=re.auth.username||"",v=re.auth.password?unescape(encodeURIComponent(re.auth.password)):"";vt.set("Authorization","Basic "+btoa(T+":"+v))}const P=Ym(re.baseURL,re.url);g.open(re.method.toUpperCase(),Vm(P,re.params,re.paramsSerializer),!0),g.timeout=re.timeout;function a(){if(!g)return;const T=tc.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),d={data:!H||H==="text"||H==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:T,config:re,request:g};zT(function(r){Ie(r),e()},function(r){He(r),e()},d),g=null}if("onloadend"in g?g.onloadend=a:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(a)},g.onabort=function(){g&&(He(new Ni("Request aborted",Ni.ECONNABORTED,re,g)),g=null)},g.onerror=function(){He(new Ni("Network Error",Ni.ERR_NETWORK,re,g)),g=null},g.ontimeout=function(){let v=re.timeout?"timeout of "+re.timeout+"ms exceeded":"timeout exceeded";const d=re.transitional||Hm;re.timeoutErrorMessage&&(v=re.timeoutErrorMessage),He(new Ni(v,d.clarifyTimeoutError?Ni.ETIMEDOUT:Ni.ECONNABORTED,re,g)),g=null},Of.isStandardBrowserEnv){const T=(re.withCredentials||UT(P))&&re.xsrfCookieName&&OT.read(re.xsrfCookieName);T&&vt.set(re.xsrfHeaderName,T)}lt===void 0&&vt.setContentType(null),"setRequestHeader"in g&&sa.forEach(vt.toJSON(),function(v,d){g.setRequestHeader(d,v)}),sa.isUndefined(re.withCredentials)||(g.withCredentials=!!re.withCredentials),H&&H!=="json"&&(g.responseType=re.responseType),typeof re.onDownloadProgress=="function"&&g.addEventListener("progress",ry(re.onDownloadProgress,!0)),typeof re.onUploadProgress=="function"&&g.upload&&g.upload.addEventListener("progress",ry(re.onUploadProgress)),(re.cancelToken||re.signal)&&(U=T=>{g&&(He(!T||T.type?new wv(null,re,g):T),g.abort(),g=null)},re.cancelToken&&re.cancelToken.subscribe(U),re.signal&&(re.signal.aborted?U():re.signal.addEventListener("abort",U)));const L=VT(P);if(L&&Of.protocols.indexOf(L)===-1){He(new Ni("Unsupported protocol "+L+":",Ni.ERR_BAD_REQUEST,re));return}g.send(lt||null)})},id={http:pT,xhr:WT};sa.forEach(id,(re,Oe)=>{if(re){try{Object.defineProperty(re,"name",{value:Oe})}catch{}Object.defineProperty(re,"adapterName",{value:Oe})}});const YT={getAdapter:re=>{re=sa.isArray(re)?re:[re];const{length:Oe}=re;let Ie,He;for(let lt=0;lt<Oe&&(Ie=re[lt],!(He=sa.isString(Ie)?id[Ie.toLowerCase()]:Ie));lt++);if(!He)throw He===!1?new Ni(`Adapter ${Ie} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(sa.hasOwnProp(id,Ie)?`Adapter '${Ie}' is not available in the build`:`Unknown adapter '${Ie}'`);if(!sa.isFunction(He))throw new TypeError("adapter is not a function");return He},adapters:id};function g0(re){if(re.cancelToken&&re.cancelToken.throwIfRequested(),re.signal&&re.signal.aborted)throw new wv(null,re)}function ny(re){return g0(re),re.headers=tc.from(re.headers),re.data=p0.call(re,re.transformRequest),["post","put","patch"].indexOf(re.method)!==-1&&re.headers.setContentType("application/x-www-form-urlencoded",!1),YT.getAdapter(re.adapter||sp.adapter)(re).then(function(He){return g0(re),He.data=p0.call(re,re.transformResponse,He),He.headers=tc.from(He.headers),He},function(He){return Wm(He)||(g0(re),He&&He.response&&(He.response.data=p0.call(re,re.transformResponse,He.response),He.response.headers=tc.from(He.response.headers))),Promise.reject(He)})}const ay=re=>re instanceof tc?re.toJSON():re;function Eh(re,Oe){Oe=Oe||{};const Ie={};function He(g,P,a){return sa.isPlainObject(g)&&sa.isPlainObject(P)?sa.merge.call({caseless:a},g,P):sa.isPlainObject(P)?sa.merge({},P):sa.isArray(P)?P.slice():P}function lt(g,P,a){if(sa.isUndefined(P)){if(!sa.isUndefined(g))return He(void 0,g,a)}else return He(g,P,a)}function vt(g,P){if(!sa.isUndefined(P))return He(void 0,P)}function H(g,P){if(sa.isUndefined(P)){if(!sa.isUndefined(g))return He(void 0,g)}else return He(void 0,P)}function U(g,P,a){if(a in Oe)return He(g,P);if(a in re)return He(void 0,g)}const e={url:vt,method:vt,data:vt,baseURL:H,transformRequest:H,transformResponse:H,paramsSerializer:H,timeout:H,timeoutMessage:H,withCredentials:H,adapter:H,responseType:H,xsrfCookieName:H,xsrfHeaderName:H,onUploadProgress:H,onDownloadProgress:H,decompress:H,maxContentLength:H,maxBodyLength:H,beforeRedirect:H,transport:H,httpAgent:H,httpsAgent:H,cancelToken:H,socketPath:H,responseEncoding:H,validateStatus:U,headers:(g,P)=>lt(ay(g),ay(P),!0)};return sa.forEach(Object.keys(Object.assign({},re,Oe)),function(P){const a=e[P]||lt,L=a(re[P],Oe[P],P);sa.isUndefined(L)&&a!==U||(Ie[P]=L)}),Ie}const Zm="1.4.0",lp={};["object","boolean","number","function","string","symbol"].forEach((re,Oe)=>{lp[re]=function(He){return typeof He===re||"a"+(Oe<1?"n ":" ")+re}});const iy={};lp.transitional=function(Oe,Ie,He){function lt(vt,H){return"[Axios v"+Zm+"] Transitional option '"+vt+"'"+H+(He?". "+He:"")}return(vt,H,U)=>{if(Oe===!1)throw new Ni(lt(H," has been removed"+(Ie?" in "+Ie:"")),Ni.ERR_DEPRECATED);return Ie&&!iy[H]&&(iy[H]=!0,console.warn(lt(H," has been deprecated since v"+Ie+" and will be removed in the near future"))),Oe?Oe(vt,H,U):!0}};function ZT(re,Oe,Ie){if(typeof re!="object")throw new Ni("options must be an object",Ni.ERR_BAD_OPTION_VALUE);const He=Object.keys(re);let lt=He.length;for(;lt-- >0;){const vt=He[lt],H=Oe[vt];if(H){const U=re[vt],e=U===void 0||H(U,vt,re);if(e!==!0)throw new Ni("option "+vt+" must be "+e,Ni.ERR_BAD_OPTION_VALUE);continue}if(Ie!==!0)throw new Ni("Unknown option "+vt,Ni.ERR_BAD_OPTION)}}const I0={assertOptions:ZT,validators:lp},Tc=I0.validators;class vd{constructor(Oe){this.defaults=Oe,this.interceptors={request:new ey,response:new ey}}request(Oe,Ie){typeof Oe=="string"?(Ie=Ie||{},Ie.url=Oe):Ie=Oe||{},Ie=Eh(this.defaults,Ie);const{transitional:He,paramsSerializer:lt,headers:vt}=Ie;He!==void 0&&I0.assertOptions(He,{silentJSONParsing:Tc.transitional(Tc.boolean),forcedJSONParsing:Tc.transitional(Tc.boolean),clarifyTimeoutError:Tc.transitional(Tc.boolean)},!1),lt!=null&&(sa.isFunction(lt)?Ie.paramsSerializer={serialize:lt}:I0.assertOptions(lt,{encode:Tc.function,serialize:Tc.function},!0)),Ie.method=(Ie.method||this.defaults.method||"get").toLowerCase();let H;H=vt&&sa.merge(vt.common,vt[Ie.method]),H&&sa.forEach(["delete","get","head","post","put","patch","common"],v=>{delete vt[v]}),Ie.headers=tc.concat(H,vt);const U=[];let e=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(Ie)===!1||(e=e&&d.synchronous,U.unshift(d.fulfilled,d.rejected))});const g=[];this.interceptors.response.forEach(function(d){g.push(d.fulfilled,d.rejected)});let P,a=0,L;if(!e){const v=[ny.bind(this),void 0];for(v.unshift.apply(v,U),v.push.apply(v,g),L=v.length,P=Promise.resolve(Ie);a<L;)P=P.then(v[a++],v[a++]);return P}L=U.length;let T=Ie;for(a=0;a<L;){const v=U[a++],d=U[a++];try{T=v(T)}catch(t){d.call(this,t);break}}try{P=ny.call(this,T)}catch(v){return Promise.reject(v)}for(a=0,L=g.length;a<L;)P=P.then(g[a++],g[a++]);return P}getUri(Oe){Oe=Eh(this.defaults,Oe);const Ie=Ym(Oe.baseURL,Oe.url);return Vm(Ie,Oe.params,Oe.paramsSerializer)}}sa.forEach(["delete","get","head","options"],function(Oe){vd.prototype[Oe]=function(Ie,He){return this.request(Eh(He||{},{method:Oe,url:Ie,data:(He||{}).data}))}});sa.forEach(["post","put","patch"],function(Oe){function Ie(He){return function(vt,H,U){return this.request(Eh(U||{},{method:Oe,headers:He?{"Content-Type":"multipart/form-data"}:{},url:vt,data:H}))}}vd.prototype[Oe]=Ie(),vd.prototype[Oe+"Form"]=Ie(!0)});const od=vd;class up{constructor(Oe){if(typeof Oe!="function")throw new TypeError("executor must be a function.");let Ie;this.promise=new Promise(function(vt){Ie=vt});const He=this;this.promise.then(lt=>{if(!He._listeners)return;let vt=He._listeners.length;for(;vt-- >0;)He._listeners[vt](lt);He._listeners=null}),this.promise.then=lt=>{let vt;const H=new Promise(U=>{He.subscribe(U),vt=U}).then(lt);return H.cancel=function(){He.unsubscribe(vt)},H},Oe(function(vt,H,U){He.reason||(He.reason=new wv(vt,H,U),Ie(He.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(Oe){if(this.reason){Oe(this.reason);return}this._listeners?this._listeners.push(Oe):this._listeners=[Oe]}unsubscribe(Oe){if(!this._listeners)return;const Ie=this._listeners.indexOf(Oe);Ie!==-1&&this._listeners.splice(Ie,1)}static source(){let Oe;return{token:new up(function(lt){Oe=lt}),cancel:Oe}}}const XT=up;function jT(re){return function(Ie){return re.apply(null,Ie)}}function KT(re){return sa.isObject(re)&&re.isAxiosError===!0}const k0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(k0).forEach(([re,Oe])=>{k0[Oe]=re});const JT=k0;function Xm(re){const Oe=new od(re),Ie=Pm(od.prototype.request,Oe);return sa.extend(Ie,od.prototype,Oe,{allOwnKeys:!0}),sa.extend(Ie,Oe,null,{allOwnKeys:!0}),Ie.create=function(lt){return Xm(Eh(re,lt))},Ie}const ns=Xm(sp);ns.Axios=od;ns.CanceledError=wv;ns.CancelToken=XT;ns.isCancel=Wm;ns.VERSION=Zm;ns.toFormData=Cd;ns.AxiosError=Ni;ns.Cancel=ns.CanceledError;ns.all=function(Oe){return Promise.all(Oe)};ns.spread=jT;ns.isAxiosError=KT;ns.mergeConfig=Eh;ns.AxiosHeaders=tc;ns.formToJSON=re=>Gm(sa.isHTMLForm(re)?new FormData(re):re);ns.HttpStatusCode=JT;ns.default=ns;const dd=ns,fp=G0("arena",()=>{const re=Za([]),Oe=Za(new Map),Ie=["Sherbrooke"];async function He(){try{(await dd.get("/data/arenas.json")).data.forEach(U=>{if(U.coordinates!==null&&Ie.indexOf(U.city)===-1)if(re.value.push({name:U.name,coordinate:{lat:U.coordinates.coordinates[1],lng:U.coordinates.coordinates[0]},region:U.region}),Oe.value.has(U.region)){let e=Oe.value.get(U.region);e===void 0&&(e=0),Oe.value.set(U.region,e+1)}else Oe.value.set(U.region,1)})}catch(H){alert(H),console.log(H)}}async function lt(){try{(await dd.get("https://services3.arcgis.com/qsNXG7LzoUbR4c1C/arcgis/rest/services/InstallationSportLoisir/FeatureServer/0/query?where=1%3D1&outFields=*&outSR=4326&f=json")).data.features.forEach(U=>{U.attributes.TYPE==="Aréna"&&re.value.push({name:U.attributes.NOM,coordinate:{lat:U.geometry.y,lng:U.geometry.x},region:5})})}catch(H){alert(H),console.log(H)}}async function vt(){await Promise.all([He(),lt()])}return{arenas:re,arenaPerRegion:Oe,fetchArenas:vt}}),Rd=G0("region",()=>{const re=Za([]),Oe=Za(new Map),Ie=Za();async function He(){try{const U=await dd.get("/data/regions.json");re.value=U.data,re.value.forEach(e=>{Oe.value.set(e.code,e)})}catch(U){alert(U),console.log(U)}}async function lt(){try{const U=await dd.get("/data/regionshape.json",{maxContentLength:1e8,maxBodyLength:1e9});Ie.value=U.data}catch(U){alert(U),console.log(U)}}async function vt(){await Promise.all([He(),lt()])}const H=Ln(()=>U=>Oe.value.get(U));return{regions:re,regionShape:Ie,regionByCode:H,fetchRegions:vt}}),cp=G0("statistics",()=>{const re=Rd(),Oe=fp(),Ie=Za(Number.MAX_VALUE),He=Za(0),lt=Ln(()=>{let H=[];return re.regions.forEach(U=>{let e=Oe.arenaPerRegion.get(U.code),g=-1;e!==void 0&&(g=e/U.population*1e5),Ie.value=Math.min(Ie.value,g),He.value=Math.max(He.value,g),H.push({code:U.code,hpa:g})}),H}),vt=Ln(()=>H=>{let U;return lt.value.forEach(e=>{e.code===H&&(U=e)}),U});return{arenaPerCapita:lt,minCapita:Ie,maxCapita:He,arenaPerCapitaByRegion:vt}}),QT={style:{height:"800px"}},$T=kl({__name:"Map",setup(re){const Oe=Za(6),Ie=Za([49.76707407366792,-68.55464239689069]),He=fp(),lt=Rd(),vt=cp(),{arenas:H}=e3(He);He.fetchArenas(),lt.fetchRegions();const U=Ln(()=>{let g=Za([]);return H.value.forEach(P=>{g.value.push(P)}),g});Ln(()=>{let g=Za([]);return H.value.forEach(P=>{g.value.push(P)}),g});function e(g){let P=parseInt(g.properties.RES_CO_REG),a=vt.arenaPerCapitaByRegion(P);return{color:_w.scale(["red","blue"]).mode("lab").domain([vt.minCapita,vt.maxCapita])(a==null?void 0:a.hpa).hex()}}return(g,P)=>(ec(),A0("div",QT,[Wr(Qs(xw),{ref:"map",zoom:Oe.value,"onUpdate:zoom":P[0]||(P[0]=a=>Oe.value=a),"use-global-leaflet":!1,center:Ie.value,"onUpdate:center":P[1]||(P[1]=a=>Ie.value=a)},{default:ps(()=>[Wr(Qs(kw),{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png","layer-type":"base",name:"OpenStreetMap"}),(ec(!0),A0(Ro,null,t3(U.value.value,a=>(ec(),Ph(Qs(Mw),{"lat-lng":a.coordinate},{default:ps(()=>[Wr(Qs(Dw),null,{default:ps(()=>[Ec(td(a.name)+" ",1),Wr($s,{icon:"mdi-hand-back-left"})]),_:2},1024)]),_:2},1032,["lat-lng"]))),256)),Wr(Qs(yw),{geojson:Qs(lt).regionShape,"options-style":e},null,8,["geojson"])]),_:1},8,["zoom","center"])]))}});let qv;const qT=new Uint8Array(16);function e5(){if(!qv&&(qv=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!qv))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return qv(qT)}const Is=[];for(let re=0;re<256;++re)Is.push((re+256).toString(16).slice(1));function t5(re,Oe=0){return(Is[re[Oe+0]]+Is[re[Oe+1]]+Is[re[Oe+2]]+Is[re[Oe+3]]+"-"+Is[re[Oe+4]]+Is[re[Oe+5]]+"-"+Is[re[Oe+6]]+Is[re[Oe+7]]+"-"+Is[re[Oe+8]]+Is[re[Oe+9]]+"-"+Is[re[Oe+10]]+Is[re[Oe+11]]+Is[re[Oe+12]]+Is[re[Oe+13]]+Is[re[Oe+14]]+Is[re[Oe+15]]).toLowerCase()}const r5=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),oy={randomUUID:r5};function n5(re,Oe,Ie){if(oy.randomUUID&&!Oe&&!re)return oy.randomUUID();re=re||{};const He=re.random||(re.rng||e5)();if(He[6]=He[6]&15|64,He[8]=He[8]&63|128,Oe){Ie=Ie||0;for(let lt=0;lt<16;++lt)Oe[Ie+lt]=He[lt];return Oe}return t5(He)}var jm={exports:{}};(function(re,Oe){(function(He,lt){re.exports=lt()})(self,function(){return function(){var Ie={98847:function(H,U,e){var g=e(71828),P={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var a in P){var L=a.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");g.addStyleRule(L,P[a])}},98222:function(H,U,e){H.exports=e(82887)},27206:function(H,U,e){H.exports=e(60822)},59893:function(H,U,e){H.exports=e(23381)},5224:function(H,U,e){H.exports=e(83832)},59509:function(H,U,e){H.exports=e(72201)},75557:function(H,U,e){H.exports=e(91815)},40338:function(H,U,e){H.exports=e(21462)},35080:function(H,U,e){H.exports=e(51319)},61396:function(H,U,e){H.exports=e(57516)},40549:function(H,U,e){H.exports=e(98128)},49866:function(H,U,e){H.exports=e(99442)},36089:function(H,U,e){H.exports=e(93740)},19548:function(H,U,e){H.exports=e(8729)},35831:function(H,U,e){H.exports=e(93814)},61039:function(H,U,e){H.exports=e(14382)},97040:function(H,U,e){H.exports=e(51759)},77986:function(H,U,e){H.exports=e(10421)},24296:function(H,U,e){H.exports=e(43102)},58872:function(H,U,e){H.exports=e(92165)},29626:function(H,U,e){H.exports=e(3325)},65591:function(H,U,e){H.exports=e(36071)},69738:function(H,U,e){H.exports=e(43905)},92650:function(H,U,e){H.exports=e(35902)},35630:function(H,U,e){H.exports=e(69816)},73434:function(H,U,e){H.exports=e(94507)},27909:function(H,U,e){var g=e(19548);g.register([e(27206),e(5224),e(58872),e(65591),e(69738),e(92650),e(49866),e(25743),e(6197),e(97040),e(85461),e(73434),e(54201),e(81299),e(47645),e(35630),e(77986),e(83043),e(93005),e(96881),e(4534),e(50581),e(40549),e(77900),e(47582),e(35080),e(21641),e(17280),e(5861),e(29626),e(10021),e(65317),e(96268),e(61396),e(35831),e(16122),e(46163),e(40344),e(40338),e(48131),e(36089),e(55334),e(75557),e(19440),e(99488),e(59893),e(97393),e(98222),e(61039),e(24296),e(66398),e(59509)]),H.exports=g},46163:function(H,U,e){H.exports=e(15154)},96881:function(H,U,e){H.exports=e(64943)},50581:function(H,U,e){H.exports=e(21164)},55334:function(H,U,e){H.exports=e(54186)},65317:function(H,U,e){H.exports=e(94873)},10021:function(H,U,e){H.exports=e(67618)},54201:function(H,U,e){H.exports=e(58810)},5861:function(H,U,e){H.exports=e(20593)},16122:function(H,U,e){H.exports=e(29396)},83043:function(H,U,e){H.exports=e(13551)},48131:function(H,U,e){H.exports=e(46858)},47582:function(H,U,e){H.exports=e(17988)},21641:function(H,U,e){H.exports=e(68868)},96268:function(H,U,e){H.exports=e(20467)},19440:function(H,U,e){H.exports=e(91271)},99488:function(H,U,e){H.exports=e(21461)},97393:function(H,U,e){H.exports=e(85956)},25743:function(H,U,e){H.exports=e(52979)},66398:function(H,U,e){H.exports=e(32275)},17280:function(H,U,e){H.exports=e(6419)},77900:function(H,U,e){H.exports=e(61510)},81299:function(H,U,e){H.exports=e(87619)},93005:function(H,U,e){H.exports=e(93601)},40344:function(H,U,e){H.exports=e(96595)},47645:function(H,U,e){H.exports=e(70954)},6197:function(H,U,e){H.exports=e(47462)},4534:function(H,U,e){H.exports=e(17659)},85461:function(H,U,e){H.exports=e(19990)},82884:function(H){H.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},50215:function(H,U,e){var g=e(82884),P=e(41940),a=e(85555),L=e(44467).templatedArray;e(24695),H.exports=L("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:P({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:g.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:g.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",a.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",a.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:P({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(H,U,e){var g=e(71828),P=e(89298),a=e(92605).draw;H.exports=function(d){var t=d._fullLayout,r=g.filterVisible(t.annotations);if(r.length&&d._fullData.length)return g.syncOrAsync([a,L],d)};function L(v){var d=v._fullLayout;g.filterVisible(d.annotations).forEach(function(t){var r=P.getFromId(v,t.xref),u=P.getFromId(v,t.yref),n=P.getRefType(t.xref),s=P.getRefType(t.yref);t._extremes={},n==="range"&&T(t,r),s==="range"&&T(t,u)})}function T(v,d){var t=d._id,r=t.charAt(0),u=v[r],n=v["a"+r],s=v[r+"ref"],f=v["a"+r+"ref"],l=v["_"+r+"padplus"],x=v["_"+r+"padminus"],c={x:1,y:-1}[r]*v[r+"shift"],b=3*v.arrowsize*v.arrowwidth||0,h=b+c,o=b-c,p=3*v.startarrowsize*v.arrowwidth||0,S=p+c,A=p-c,E;if(f===s){var m=P.findExtremes(d,[d.r2c(u)],{ppadplus:h,ppadminus:o}),M=P.findExtremes(d,[d.r2c(n)],{ppadplus:Math.max(l,S),ppadminus:Math.max(x,A)});E={min:[m.min[0],M.min[0]],max:[m.max[0],M.max[0]]}}else S=n?S+n:S,A=n?A-n:A,E=P.findExtremes(d,[d.r2c(u)],{ppadplus:Math.max(l,h,S),ppadminus:Math.max(x,o,A)});v._extremes[t]=E}},44317:function(H,U,e){var g=e(71828),P=e(73972),a=e(44467).arrayEditor;H.exports={hasClickToShow:L,onClick:T};function L(t,r){var u=v(t,r);return u.on.length>0||u.explicitOff.length>0}function T(t,r){var u=v(t,r),n=u.on,s=u.off.concat(u.explicitOff),f={},l=t._fullLayout.annotations,x,c;if(n.length||s.length){for(x=0;x<n.length;x++)c=a(t.layout,"annotations",l[n[x]]),c.modifyItem("visible",!0),g.extendFlat(f,c.getUpdateObj());for(x=0;x<s.length;x++)c=a(t.layout,"annotations",l[s[x]]),c.modifyItem("visible",!1),g.extendFlat(f,c.getUpdateObj());return P.call("update",t,{},f)}}function v(t,r){var u=t._fullLayout.annotations,n=[],s=[],f=[],l=(r||[]).length,x,c,b,h,o,p,S,A;for(x=0;x<u.length;x++)if(b=u[x],h=b.clicktoshow,h){for(c=0;c<l;c++)if(o=r[c],p=o.xaxis,S=o.yaxis,p._id===b.xref&&S._id===b.yref&&p.d2r(o.x)===d(b._xclick,p)&&S.d2r(o.y)===d(b._yclick,S)){b.visible?h==="onout"?A=s:A=f:A=n,A.push(x);break}c===l&&b.visible&&h==="onout"&&s.push(x)}return{on:n,off:s,explicitOff:f}}function d(t,r){return r.type==="log"?r.l2r(t):r.d2r(t)}},25625:function(H,U,e){var g=e(71828),P=e(7901);H.exports=function(L,T,v,d){d("opacity");var t=d("bgcolor"),r=d("bordercolor"),u=P.opacity(r);d("borderpad");var n=d("borderwidth"),s=d("showarrow");d("text",s?" ":v._dfltTitle.annotation),d("textangle"),g.coerceFont(d,"font",v.font),d("width"),d("align");var f=d("height");if(f&&d("valign"),s){var l=d("arrowside"),x,c;l.indexOf("end")!==-1&&(x=d("arrowhead"),c=d("arrowsize")),l.indexOf("start")!==-1&&(d("startarrowhead",x),d("startarrowsize",c)),d("arrowcolor",u?T.bordercolor:P.defaultLine),d("arrowwidth",(u&&n||1)*2),d("standoff"),d("startstandoff")}var b=d("hovertext"),h=v.hoverlabel||{};if(b){var o=d("hoverlabel.bgcolor",h.bgcolor||(P.opacity(t)?P.rgb(t):P.defaultLine)),p=d("hoverlabel.bordercolor",h.bordercolor||P.contrast(o));g.coerceFont(d,"hoverlabel.font",{family:h.font.family,size:h.font.size,color:h.font.color||p})}d("captureevents",!!b)}},94128:function(H,U,e){var g=e(92770),P=e(58163);H.exports=function(L,T,v,d){T=T||{};var t=v==="log"&&T.type==="linear",r=v==="linear"&&T.type==="log";if(!(t||r))return;var u=L._fullLayout.annotations,n=T._id.charAt(0),s,f;function l(c){var b=s[c],h=null;t?h=P(b,T.range):h=Math.pow(10,b),g(h)||(h=null),d(f+c,h)}for(var x=0;x<u.length;x++)s=u[x],f="annotations["+x+"].",s[n+"ref"]===T._id&&l(n),s["a"+n+"ref"]===T._id&&l("a"+n)}},84046:function(H,U,e){var g=e(71828),P=e(89298),a=e(85501),L=e(25625),T=e(50215);H.exports=function(t,r){a(t,r,{name:"annotations",handleItemDefaults:v})};function v(d,t,r){function u(w,i){return g.coerce(d,t,T,w,i)}var n=u("visible"),s=u("clicktoshow");if(n||s){L(d,t,r,u);for(var f=t.showarrow,l=["x","y"],x=[-10,-30],c={_fullLayout:r},b=0;b<2;b++){var h=l[b],o=P.coerceRef(d,t,c,h,"","paper");if(o!=="paper"){var p=P.getFromId(c,o);p._annIndices.push(t._index)}if(P.coercePosition(t,c,u,o,h,.5),f){var S="a"+h,A=P.coerceRef(d,t,c,S,"pixel",["pixel","paper"]);A!=="pixel"&&A!==o&&(A=t[S]="pixel");var E=A==="pixel"?x[b]:.4;P.coercePosition(t,c,u,A,S,E)}u(h+"anchor"),u(h+"shift")}if(g.noneOrAll(d,t,["x","y"]),f&&g.noneOrAll(d,t,["ax","ay"]),s){var m=u("xclick"),M=u("yclick");t._xclick=m===void 0?t.x:P.cleanPosition(m,c,t.xref),t._yclick=M===void 0?t.y:P.cleanPosition(M,c,t.yref)}}}},92605:function(H,U,e){var g=e(39898),P=e(73972),a=e(74875),L=e(71828),T=L.strTranslate,v=e(89298),d=e(7901),t=e(91424),r=e(30211),u=e(63893),n=e(6964),s=e(28569),f=e(44467).arrayEditor,l=e(13011);H.exports={draw:x,drawOne:c,drawRaw:h};function x(o){var p=o._fullLayout;p._infolayer.selectAll(".annotation").remove();for(var S=0;S<p.annotations.length;S++)p.annotations[S].visible&&c(o,S);return a.previousPromises(o)}function c(o,p){var S=o._fullLayout,A=S.annotations[p]||{},E=v.getFromId(o,A.xref),m=v.getFromId(o,A.yref);E&&E.setScale(),m&&m.setScale(),h(o,A,p,!1,E,m)}function b(o,p,S,A,E){var m=E[S],M=E[S+"ref"],w=S.indexOf("y")!==-1,i=v.getRefType(M)==="domain",C=w?A.h:A.w;return o?i?m+(w?-p:p)/o._length:o.p2r(o.r2p(m)+p):m+(w?-p:p)/C}function h(o,p,S,A,E,m){var M=o._fullLayout,w=o._fullLayout._size,i=o._context.edits,C,y;A?(C="annotation-"+A,y=A+".annotations"):(C="annotation",y="annotations");var _=f(o.layout,y,p),I=_.modifyBase,N=_.modifyItem,k=_.getUpdateObj;M._infolayer.selectAll("."+C+'[data-index="'+S+'"]').remove();var O="clip"+M._uid+"_ann"+S;if(!p._input||p.visible===!1){g.selectAll("#"+O).remove();return}var z={x:{},y:{}},F=+p.textangle||0,B=M._infolayer.append("g").classed(C,!0).attr("data-index",String(S)).style("opacity",p.opacity),G=B.append("g").classed("annotation-text-g",!0),Q=i[p.showarrow?"annotationTail":"annotationPosition"],ee=p.captureevents||i.annotationText||Q;function ae(ge){var we={index:S,annotation:p._input,fullAnnotation:p,event:ge};return A&&(we.subplotId=A),we}var fe=G.append("g").style("pointer-events",ee?"all":null).call(n,"pointer").on("click",function(){o._dragging=!1,o.emit("plotly_clickannotation",ae(g.event))});p.hovertext&&fe.on("mouseover",function(){var ge=p.hoverlabel,we=ge.font,xe=this.getBoundingClientRect(),Fe=o.getBoundingClientRect();r.loneHover({x0:xe.left-Fe.left,x1:xe.right-Fe.left,y:(xe.top+xe.bottom)/2-Fe.top,text:p.hovertext,color:ge.bgcolor,borderColor:ge.bordercolor,fontFamily:we.family,fontSize:we.size,fontColor:we.color},{container:M._hoverlayer.node(),outerContainer:M._paper.node(),gd:o})}).on("mouseout",function(){r.loneUnhover(M._hoverlayer.node())});var K=p.borderwidth,W=p.borderpad,Z=K+W,X=fe.append("rect").attr("class","bg").style("stroke-width",K+"px").call(d.stroke,p.bordercolor).call(d.fill,p.bgcolor),$=p.width||p.height,ie=M._topclips.selectAll("#"+O).data($?[0]:[]);ie.enter().append("clipPath").classed("annclip",!0).attr("id",O).append("rect"),ie.exit().remove();var J=p.font,j=M._meta?L.templateString(p.text,M._meta):p.text,se=fe.append("text").classed("annotation-text",!0).text(j);function ne(ge){return ge.call(t.font,J).attr({"text-anchor":{left:"start",right:"end"}[p.align]||"middle"}),u.convertToTspans(ge,o,ue),ge}function ue(){var ge=se.selectAll("a");if(ge.size()===1&&ge.text()===se.text()){var we=fe.insert("a",":first-child").attr({"xlink:xlink:href":ge.attr("xlink:href"),"xlink:xlink:show":ge.attr("xlink:show")}).style({cursor:"pointer"});we.node().appendChild(X.node())}var xe=fe.select(".annotation-text-math-group"),Fe=!xe.empty(),ze=t.bBox((Fe?xe:se).node()),Te=ze.width,ye=ze.height,Ae=p.width||Te,Ne=p.height||ye,Ue=Math.round(Ae+2*Z),Re=Math.round(Ne+2*Z);function Ve(Sr,gr){return gr==="auto"&&(Sr<.3333333333333333?gr="left":Sr>.6666666666666666?gr="right":gr="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[gr]}for(var rt=!1,Qe=["x","y"],Je=0;Je<Qe.length;Je++){var qe=Qe[Je],dt=p[qe+"ref"]||qe,pt=p["a"+qe+"ref"],mt={x:E,y:m}[qe],Ct=(F+(qe==="x"?0:-90))*Math.PI/180,Rt=Ue*Math.cos(Ct),Zt=Re*Math.sin(Ct),Xe=Math.abs(Rt)+Math.abs(Zt),Le=p[qe+"anchor"],Pe=p[qe+"shift"]*(qe==="x"?1:-1),ke=z[qe],Ce,me,oe,pe,Me,_e=v.getRefType(dt);if(mt&&_e!=="domain"){var tt=mt.r2fraction(p[qe]);(tt<0||tt>1)&&(pt===dt?(tt=mt.r2fraction(p["a"+qe]),(tt<0||tt>1)&&(rt=!0)):rt=!0),Ce=mt._offset+mt.r2p(p[qe]),pe=.5}else{var at=_e==="domain";qe==="x"?(oe=p[qe],Ce=at?mt._offset+mt._length*oe:Ce=w.l+w.w*oe):(oe=1-p[qe],Ce=at?mt._offset+mt._length*oe:Ce=w.t+w.h*oe),pe=p.showarrow?.5:oe}if(p.showarrow){ke.head=Ce;var At=p["a"+qe];if(Me=Rt*Ve(.5,p.xanchor)-Zt*Ve(.5,p.yanchor),pt===dt){var Ft=v.getRefType(pt);Ft==="domain"?(qe==="y"&&(At=1-At),ke.tail=mt._offset+mt._length*At):Ft==="paper"?qe==="y"?(At=1-At,ke.tail=w.t+w.h*At):ke.tail=w.l+w.w*At:ke.tail=mt._offset+mt.r2p(At),me=Me}else ke.tail=Ce+At,me=Me+At;ke.text=ke.tail+Me;var Gt=M[qe==="x"?"width":"height"];if(dt==="paper"&&(ke.head=L.constrain(ke.head,1,Gt-1)),pt==="pixel"){var Yt=-Math.max(ke.tail-3,ke.text),Dt=Math.min(ke.tail+3,ke.text)-Gt;Yt>0?(ke.tail+=Yt,ke.text+=Yt):Dt>0&&(ke.tail-=Dt,ke.text-=Dt)}ke.tail+=Pe,ke.head+=Pe}else Me=Xe*Ve(pe,Le),me=Me,ke.text=Ce+Me;ke.text+=Pe,Me+=Pe,me+=Pe,p["_"+qe+"padplus"]=Xe/2+me,p["_"+qe+"padminus"]=Xe/2-me,p["_"+qe+"size"]=Xe,p["_"+qe+"shift"]=Me}if(rt){fe.remove();return}var $t=0,lr=0;if(p.align!=="left"&&($t=(Ae-Te)*(p.align==="center"?.5:1)),p.valign!=="top"&&(lr=(Ne-ye)*(p.valign==="middle"?.5:1)),Fe)xe.select("svg").attr({x:Z+$t-1,y:Z+lr}).call(t.setClipUrl,$?O:null,o);else{var Hr=Z+lr-ze.top,xt=Z+$t-ze.left;se.call(u.positionText,xt,Hr).call(t.setClipUrl,$?O:null,o)}ie.select("rect").call(t.setRect,Z,Z,Ae,Ne),X.call(t.setRect,K/2,K/2,Ue-K,Re-K),fe.call(t.setTranslate,Math.round(z.x.text-Ue/2),Math.round(z.y.text-Re/2)),G.attr({transform:"rotate("+F+","+z.x.text+","+z.y.text+")"});var Qt=function(Sr,gr){B.selectAll(".annotation-arrow-g").remove();var ut=z.x.head,st=z.y.head,bt=z.x.tail+Sr,St=z.y.tail+gr,Pt=z.x.text+Sr,Et=z.y.text+gr,Bt=L.rotationXYMatrix(F,Pt,Et),Wt=L.apply2DTransform(Bt),tr=L.apply2DTransform2(Bt),er=+X.attr("width"),ur=+X.attr("height"),kr=Pt-.5*er,We=kr+er,Ge=Et-.5*ur,_t=Ge+ur,Ot=[[kr,Ge,kr,_t],[kr,_t,We,_t],[We,_t,We,Ge],[We,Ge,kr,Ge]].map(tr);if(!Ot.reduce(function(Ur,Tn){return Ur^!!L.segmentsIntersect(ut,st,ut+1e6,st+1e6,Tn[0],Tn[1],Tn[2],Tn[3])},!1)){Ot.forEach(function(Ur){var Tn=L.segmentsIntersect(bt,St,ut,st,Ur[0],Ur[1],Ur[2],Ur[3]);Tn&&(bt=Tn.x,St=Tn.y)});var Kt=p.arrowwidth,or=p.arrowcolor,hr=p.arrowside,ir=B.append("g").style({opacity:d.opacity(or)}).classed("annotation-arrow-g",!0),Nt=ir.append("path").attr("d","M"+bt+","+St+"L"+ut+","+st).style("stroke-width",Kt+"px").call(d.stroke,d.rgb(or));if(l(Nt,hr,p),i.annotationPosition&&Nt.node().parentNode&&!A){var vr=ut,mr=st;if(p.standoff){var xr=Math.sqrt(Math.pow(ut-bt,2)+Math.pow(st-St,2));vr+=p.standoff*(bt-ut)/xr,mr+=p.standoff*(St-st)/xr}var yr=ir.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(bt-vr)+","+(St-mr),transform:T(vr,mr)}).style("stroke-width",Kt+6+"px").call(d.stroke,"rgba(0,0,0,0)").call(d.fill,"rgba(0,0,0,0)"),Kr,Nr;s.init({element:yr.node(),gd:o,prepFn:function(){var Ur=t.getTranslate(fe);Kr=Ur.x,Nr=Ur.y,E&&E.autorange&&I(E._name+".autorange",!0),m&&m.autorange&&I(m._name+".autorange",!0)},moveFn:function(Ur,Tn){var rn=Wt(Kr,Nr),Gn=rn[0]+Ur,Hn=rn[1]+Tn;fe.call(t.setTranslate,Gn,Hn),N("x",b(E,Ur,"x",w,p)),N("y",b(m,Tn,"y",w,p)),p.axref===p.xref&&N("ax",b(E,Ur,"ax",w,p)),p.ayref===p.yref&&N("ay",b(m,Tn,"ay",w,p)),ir.attr("transform",T(Ur,Tn)),G.attr({transform:"rotate("+F+","+Gn+","+Hn+")"})},doneFn:function(){P.call("_guiRelayout",o,k());var Ur=document.querySelector(".js-notes-box-panel");Ur&&Ur.redraw(Ur.selectedObj)}})}}};if(p.showarrow&&Qt(0,0),Q){var jt;s.init({element:fe.node(),gd:o,prepFn:function(){jt=G.attr("transform")},moveFn:function(Sr,gr){var ut="pointer";if(p.showarrow)p.axref===p.xref?N("ax",b(E,Sr,"ax",w,p)):N("ax",p.ax+Sr),p.ayref===p.yref?N("ay",b(m,gr,"ay",w.w,p)):N("ay",p.ay+gr),Qt(Sr,gr);else{if(A)return;var st,bt;if(E)st=b(E,Sr,"x",w,p);else{var St=p._xsize/w.w,Pt=p.x+(p._xshift-p.xshift)/w.w-St/2;st=s.align(Pt+Sr/w.w,St,0,1,p.xanchor)}if(m)bt=b(m,gr,"y",w,p);else{var Et=p._ysize/w.h,Bt=p.y-(p._yshift+p.yshift)/w.h-Et/2;bt=s.align(Bt-gr/w.h,Et,0,1,p.yanchor)}N("x",st),N("y",bt),(!E||!m)&&(ut=s.getCursor(E?.5:st,m?.5:bt,p.xanchor,p.yanchor))}G.attr({transform:T(Sr,gr)+jt}),n(fe,ut)},clickFn:function(Sr,gr){p.captureevents&&o.emit("plotly_clickannotation",ae(gr))},doneFn:function(){n(fe),P.call("_guiRelayout",o,k());var Sr=document.querySelector(".js-notes-box-panel");Sr&&Sr.redraw(Sr.selectedObj)}})}}i.annotationText?se.call(u.makeEditable,{delegate:fe,gd:o}).call(ne).on("edit",function(ge){p.text=ge,this.call(ne),N("text",ge),E&&E.autorange&&I(E._name+".autorange",!0),m&&m.autorange&&I(m._name+".autorange",!0),P.call("_guiRelayout",o,k())}):se.call(ne)}},13011:function(H,U,e){var g=e(39898),P=e(7901),a=e(82884),L=e(71828),T=L.strScale,v=L.strRotate,d=L.strTranslate;H.exports=function(r,u,n){var s=r.node(),f=a[n.arrowhead||0],l=a[n.startarrowhead||0],x=(n.arrowwidth||1)*(n.arrowsize||1),c=(n.arrowwidth||1)*(n.startarrowsize||1),b=u.indexOf("start")>=0,h=u.indexOf("end")>=0,o=f.backoff*x+n.standoff,p=l.backoff*c+n.startstandoff,S,A,E,m;if(s.nodeName==="line"){S={x:+r.attr("x1"),y:+r.attr("y1")},A={x:+r.attr("x2"),y:+r.attr("y2")};var M=S.x-A.x,w=S.y-A.y;if(E=Math.atan2(w,M),m=E+Math.PI,o&&p&&o+p>Math.sqrt(M*M+w*w)){G();return}if(o){if(o*o>M*M+w*w){G();return}var i=o*Math.cos(E),C=o*Math.sin(E);A.x+=i,A.y+=C,r.attr({x2:A.x,y2:A.y})}if(p){if(p*p>M*M+w*w){G();return}var y=p*Math.cos(E),_=p*Math.sin(E);S.x-=y,S.y-=_,r.attr({x1:S.x,y1:S.y})}}else if(s.nodeName==="path"){var I=s.getTotalLength(),N="";if(I<o+p){G();return}var k=s.getPointAtLength(0),O=s.getPointAtLength(.1);E=Math.atan2(k.y-O.y,k.x-O.x),S=s.getPointAtLength(Math.min(p,I)),N="0px,"+p+"px,";var z=s.getPointAtLength(I),F=s.getPointAtLength(I-.1);m=Math.atan2(z.y-F.y,z.x-F.x),A=s.getPointAtLength(Math.max(0,I-o));var B=N?p+o:o;N+=I-B+"px,"+I+"px",r.style("stroke-dasharray",N)}function G(){r.style("stroke-dasharray","0px,100px")}function Q(ee,ae,fe,K){ee.path&&(ee.noRotate&&(fe=0),g.select(s.parentNode).append("path").attr({class:r.attr("class"),d:ee.path,transform:d(ae.x,ae.y)+v(fe*180/Math.PI)+T(K)}).style({fill:P.rgb(n.arrowcolor),"stroke-width":0}))}b&&Q(l,S,E,c),h&&Q(f,A,m,x)}},32745:function(H,U,e){var g=e(92605),P=e(44317);H.exports={moduleType:"component",name:"annotations",layoutAttributes:e(50215),supplyLayoutDefaults:e(84046),includeBasePlot:e(76325)("annotations"),calcAutorange:e(3749),draw:g.draw,drawOne:g.drawOne,drawRaw:g.drawRaw,hasClickToShow:P.hasClickToShow,onClick:P.onClick,convertCoords:e(94128)}},26997:function(H,U,e){var g=e(50215),P=e(30962).overrideAll,a=e(44467).templatedArray;H.exports=P(a("annotation",{visible:g.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:g.xanchor,xshift:g.xshift,yanchor:g.yanchor,yshift:g.yshift,text:g.text,textangle:g.textangle,font:g.font,width:g.width,height:g.height,opacity:g.opacity,align:g.align,valign:g.valign,bgcolor:g.bgcolor,bordercolor:g.bordercolor,borderpad:g.borderpad,borderwidth:g.borderwidth,showarrow:g.showarrow,arrowcolor:g.arrowcolor,arrowhead:g.arrowhead,startarrowhead:g.startarrowhead,arrowside:g.arrowside,arrowsize:g.arrowsize,startarrowsize:g.startarrowsize,arrowwidth:g.arrowwidth,standoff:g.standoff,startstandoff:g.startstandoff,hovertext:g.hovertext,hoverlabel:g.hoverlabel,captureevents:g.captureevents}),"calc","from-root")},5485:function(H,U,e){var g=e(71828),P=e(89298);H.exports=function(T){for(var v=T.fullSceneLayout,d=v.annotations,t=0;t<d.length;t++)a(d[t],T);T.fullLayout._infolayer.selectAll(".annotation-"+T.id).remove()};function a(L,T){var v=T.fullSceneLayout,d=v.domain,t=T.fullLayout._size,r={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};L._xa={},g.extendFlat(L._xa,r),P.setConvert(L._xa),L._xa._offset=t.l+d.x[0]*t.w,L._xa.l2p=function(){return .5*(1+L._pdata[0]/L._pdata[3])*t.w*(d.x[1]-d.x[0])},L._ya={},g.extendFlat(L._ya,r),P.setConvert(L._ya),L._ya._offset=t.t+(1-d.y[1])*t.h,L._ya.l2p=function(){return .5*(1-L._pdata[1]/L._pdata[3])*t.h*(d.y[1]-d.y[0])}}},20226:function(H,U,e){var g=e(71828),P=e(89298),a=e(85501),L=e(25625),T=e(26997);H.exports=function(t,r,u){a(t,r,{name:"annotations",handleItemDefaults:v,fullLayout:u.fullLayout})};function v(d,t,r,u){function n(l,x){return g.coerce(d,t,T,l,x)}function s(l){var x=l+"axis",c={_fullLayout:{}};return c._fullLayout[x]=r[x],P.coercePosition(t,c,n,l,l,.5)}var f=n("visible");f&&(L(d,t,u.fullLayout,n),s("x"),s("y"),s("z"),g.noneOrAll(d,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",n("ax",-10),n("ay",-30),g.noneOrAll(d,t,["ax","ay"])))}},82188:function(H,U,e){var g=e(92605).drawRaw,P=e(63538),a=["x","y","z"];H.exports=function(T){for(var v=T.fullSceneLayout,d=T.dataScale,t=v.annotations,r=0;r<t.length;r++){for(var u=t[r],n=!1,s=0;s<3;s++){var f=a[s],l=u[f],x=v[f+"axis"],c=x.r2fraction(l);if(c<0||c>1){n=!0;break}}n?T.fullLayout._infolayer.select(".annotation-"+T.id+'[data-index="'+r+'"]').remove():(u._pdata=P(T.glplot.cameraParams,[v.xaxis.r2l(u.x)*d[0],v.yaxis.r2l(u.y)*d[1],v.zaxis.r2l(u.z)*d[2]]),g(T.graphDiv,u,r,T.id,u._xa,u._ya))}}},2468:function(H,U,e){var g=e(73972),P=e(71828);H.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(26997)}}},layoutAttributes:e(26997),handleDefaults:e(20226),includeBasePlot:a,convert:e(5485),draw:e(82188)};function a(L,T){var v=g.subplotsRegistry.gl3d;if(v)for(var d=v.attrRegex,t=Object.keys(L),r=0;r<t.length;r++){var u=t[r];d.test(u)&&(L[u].annotations||[]).length&&(P.pushUnique(T._basePlotModules,v),P.pushUnique(T._subplots.gl3d,u))}}},7561:function(H,U,e){H.exports=e(63489),e(94338),e(3961),e(38751),e(86825),e(37715),e(99384),e(43805),e(88874),e(83290),e(29108),e(55422),e(94320),e(31320),e(51367),e(21457)},72201:function(H,U,e){var g=e(7561),P=e(71828),a=e(50606),L=a.EPOCHJD,T=a.ONEDAY,v={valType:"enumerated",values:P.sortObjectKeys(g.calendars),editType:"calc",dflt:"gregorian"},d=function(E,m,M,w){var i={};return i[M]=v,P.coerce(E,m,i,M,w)},t=function(E,m,M,w){for(var i=0;i<M.length;i++)d(E,m,M[i]+"calendar",w.calendar)},r={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},u={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},n={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},s="##",f={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:s,w:s,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function l(E,m,M){for(var w=Math.floor((m+.05)/T)+L,i=c(M).fromJD(w),C=0,y,_,I,N,k;(C=E.indexOf("%",C))!==-1;)y=E.charAt(C+1),y==="0"||y==="-"||y==="_"?(I=3,_=E.charAt(C+2),y==="_"&&(y="-")):(_=y,y="0",I=2),N=f[_],N?(N===s?k=s:k=i.formatDate(N[y]),E=E.substr(0,C)+k+E.substr(C+I),C+=k.length):C+=I;return E}var x={};function c(E){var m=x[E];return m||(m=x[E]=g.instance(E),m)}function b(E){return P.extendFlat({},v,{description:E})}function h(E){return"Sets the calendar system to use with `"+E+"` date data."}var o={xcalendar:b(h("x"))},p=P.extendFlat({},o,{ycalendar:b(h("y"))}),S=P.extendFlat({},p,{zcalendar:b(h("z"))}),A=b(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));H.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:p,bar:p,box:p,heatmap:p,contour:p,histogram:p,histogram2d:p,histogram2dcontour:p,scatter3d:S,surface:S,mesh3d:S,scattergl:p,ohlc:o,candlestick:o},layout:{calendar:b(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:A},yaxis:{calendar:A},scene:{xaxis:{calendar:A},yaxis:{calendar:A},zaxis:{calendar:A}},polar:{radialaxis:{calendar:A}}},transforms:{filter:{valuecalendar:b(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:b(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:v,handleDefaults:d,handleTraceDefaults:t,CANONICAL_SUNDAY:u,CANONICAL_TICK:r,DFLTRANGE:n,getCal:c,worldCalFmt:l}},22399:function(H,U){U.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],U.defaultLine="#444",U.lightLine="#eee",U.background="#fff",U.borderLine="#BEC8D9",U.lightFraction=90.9090909090909},7901:function(H,U,e){var g=e(84267),P=e(92770),a=e(73627).isTypedArray,L=H.exports={},T=e(22399);L.defaults=T.defaults;var v=L.defaultLine=T.defaultLine;L.lightLine=T.lightLine;var d=L.background=T.background;L.tinyRGB=function(r){var u=r.toRgb();return"rgb("+Math.round(u.r)+", "+Math.round(u.g)+", "+Math.round(u.b)+")"},L.rgb=function(r){return L.tinyRGB(g(r))},L.opacity=function(r){return r?g(r).getAlpha():0},L.addOpacity=function(r,u){var n=g(r).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+u+")"},L.combine=function(r,u){var n=g(r).toRgb();if(n.a===1)return g(r).toRgbString();var s=g(u||d).toRgb(),f=s.a===1?s:{r:255*(1-s.a)+s.r*s.a,g:255*(1-s.a)+s.g*s.a,b:255*(1-s.a)+s.b*s.a},l={r:f.r*(1-n.a)+n.r*n.a,g:f.g*(1-n.a)+n.g*n.a,b:f.b*(1-n.a)+n.b*n.a};return g(l).toRgbString()},L.contrast=function(r,u,n){var s=g(r);s.getAlpha()!==1&&(s=g(L.combine(r,d)));var f=s.isDark()?u?s.lighten(u):d:n?s.darken(n):v;return f.toString()},L.stroke=function(r,u){var n=g(u);r.style({stroke:L.tinyRGB(n),"stroke-opacity":n.getAlpha()})},L.fill=function(r,u){var n=g(u);r.style({fill:L.tinyRGB(n),"fill-opacity":n.getAlpha()})},L.clean=function(r){if(!(!r||typeof r!="object")){var u=Object.keys(r),n,s,f,l;for(n=0;n<u.length;n++)if(f=u[n],l=r[f],f.substr(f.length-5)==="color")if(Array.isArray(l))for(s=0;s<l.length;s++)l[s]=t(l[s]);else r[f]=t(l);else if(f.substr(f.length-10)==="colorscale"&&Array.isArray(l))for(s=0;s<l.length;s++)Array.isArray(l[s])&&(l[s][1]=t(l[s][1]));else if(Array.isArray(l)){var x=l[0];if(!Array.isArray(x)&&x&&typeof x=="object")for(s=0;s<l.length;s++)L.clean(l[s])}else l&&typeof l=="object"&&!a(l)&&L.clean(l)}};function t(r){if(P(r)||typeof r!="string")return r;var u=r.trim();if(u.substr(0,3)!=="rgb")return r;var n=u.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return r;var s=n[1].trim().split(/\s*[\s,]\s*/),f=u.charAt(3)==="a"&&s.length===4;if(!f&&s.length!==3)return r;for(var l=0;l<s.length;l++){if(!s[l].length||(s[l]=Number(s[l]),!(s[l]>=0)))return r;if(l===3)s[l]>1&&(s[l]=1);else if(s[l]>=1)return r}var x=Math.round(s[0]*255)+", "+Math.round(s[1]*255)+", "+Math.round(s[2]*255);return f?"rgba("+x+", "+s[3]+")":"rgb("+x+")"}},63583:function(H,U,e){var g=e(13838),P=e(41940),a=e(1426).extendFlat,L=e(30962).overrideAll;H.exports=L({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:g.linecolor,outlinewidth:g.linewidth,bordercolor:g.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:g.minor.tickmode,nticks:g.nticks,tick0:g.tick0,dtick:g.dtick,tickvals:g.tickvals,ticktext:g.ticktext,ticks:a({},g.ticks,{dflt:""}),ticklabeloverflow:a({},g.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:g.ticklen,tickwidth:g.tickwidth,tickcolor:g.tickcolor,ticklabelstep:g.ticklabelstep,showticklabels:g.showticklabels,labelalias:g.labelalias,tickfont:P({}),tickangle:g.tickangle,tickformat:g.tickformat,tickformatstops:g.tickformatstops,tickprefix:g.tickprefix,showtickprefix:g.showtickprefix,ticksuffix:g.ticksuffix,showticksuffix:g.showticksuffix,separatethousands:g.separatethousands,exponentformat:g.exponentformat,minexponent:g.minexponent,showexponent:g.showexponent,title:{text:{valType:"string"},font:P({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:P({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},30939:function(H){H.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},62499:function(H,U,e){var g=e(71828),P=e(44467),a=e(26218),L=e(38701),T=e(96115),v=e(89426),d=e(63583);H.exports=function(r,u,n){var s=P.newContainer(u,"colorbar"),f=r.colorbar||{};function l(z,F){return g.coerce(f,s,d,z,F)}var x=n.margin||{t:0,b:0,l:0,r:0},c=n.width-x.l-x.r,b=n.height-x.t-x.b,h=l("orientation"),o=h==="v",p=l("thicknessmode");l("thickness",p==="fraction"?30/(o?c:b):30);var S=l("lenmode");l("len",S==="fraction"?1:o?b:c);var A=l("yref"),E=l("xref"),m=A==="paper",M=E==="paper",w,i,C,y="left";o?(C="middle",y=M?"left":"right",w=M?1.02:1,i=.5):(C=m?"bottom":"top",y="center",w=.5,i=m?1.02:1),g.coerce(f,s,{x:{valType:"number",min:M?-2:0,max:M?3:1,dflt:w}},"x"),g.coerce(f,s,{y:{valType:"number",min:m?-2:0,max:m?3:1,dflt:i}},"y"),l("xanchor",y),l("xpad"),l("yanchor",C),l("ypad"),g.noneOrAll(f,s,["x","y"]),l("outlinecolor"),l("outlinewidth"),l("bordercolor"),l("borderwidth"),l("bgcolor");var _=g.coerce(f,s,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:o?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");l("ticklabeloverflow",_.indexOf("inside")!==-1?"hide past domain":"hide past div"),a(f,s,l,"linear");var I=n.font,N={outerTicks:!1,font:I};_.indexOf("inside")!==-1&&(N.bgColor="black"),v(f,s,l,"linear",N),T(f,s,l,"linear",N),L(f,s,l,"linear",N),l("title.text",n._dfltTitle.colorbar);var k=s.showticklabels?s.tickfont:I,O=g.extendFlat({},k,{color:I.color,size:g.bigFont(k.size)});g.coerceFont(l,"title.font",O),l("title.side",o?"top":"right")}},98981:function(H,U,e){var g=e(39898),P=e(84267),a=e(74875),L=e(73972),T=e(89298),v=e(28569),d=e(71828),t=d.strTranslate,r=e(1426).extendFlat,u=e(6964),n=e(91424),s=e(7901),f=e(92998),l=e(63893),x=e(52075).flipScale,c=e(71453),b=e(52830),h=e(13838),o=e(18783),p=o.LINE_SPACING,S=o.FROM_TL,A=o.FROM_BR,E=e(30939).cn;function m(_){var I=_._fullLayout,N=I._infolayer.selectAll("g."+E.colorbar).data(M(_),function(k){return k._id});N.enter().append("g").attr("class",function(k){return k._id}).classed(E.colorbar,!0),N.each(function(k){var O=g.select(this);d.ensureSingle(O,"rect",E.cbbg),d.ensureSingle(O,"g",E.cbfills),d.ensureSingle(O,"g",E.cblines),d.ensureSingle(O,"g",E.cbaxis,function(F){F.classed(E.crisp,!0)}),d.ensureSingle(O,"g",E.cbtitleunshift,function(F){F.append("g").classed(E.cbtitle,!0)}),d.ensureSingle(O,"rect",E.cboutline);var z=w(O,k,_);z&&z.then&&(_._promises||[]).push(z),_._context.edits.colorbarPosition&&i(O,k,_)}),N.exit().each(function(k){a.autoMargin(_,k._id)}).remove(),N.order()}function M(_){var I=_._fullLayout,N=_.calcdata,k=[],O,z,F,B;function G(J){return r(J,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function Q(){typeof B.calc=="function"?B.calc(_,F,O):(O._fillgradient=z.reversescale?x(z.colorscale):z.colorscale,O._zrange=[z[B.min],z[B.max]])}for(var ee=0;ee<N.length;ee++){var ae=N[ee];if(F=ae[0].trace,!!F._module){var fe=F._module.colorbar;if(F.visible===!0&&fe)for(var K=Array.isArray(fe),W=K?fe:[fe],Z=0;Z<W.length;Z++){B=W[Z];var X=B.container;z=X?F[X]:F,z&&z.showscale&&(O=G(z.colorbar),O._id="cb"+F.uid+(K&&X?"-"+X:""),O._traceIndex=F.index,O._propPrefix=(X?X+".":"")+"colorbar.",O._meta=F._meta,Q(),k.push(O))}}}for(var $ in I._colorAxes)if(z=I[$],z.showscale){var ie=I._colorAxes[$];O=G(z.colorbar),O._id="cb"+$,O._propPrefix=$+".colorbar.",O._meta=I._meta,B={min:"cmin",max:"cmax"},ie[0]!=="heatmap"&&(F=ie[1],B.calc=F._module.colorbar.calc),Q(),k.push(O)}return k}function w(_,I,N){var k=I.orientation==="v",O=I.len,z=I.lenmode,F=I.thickness,B=I.thicknessmode,G=I.outlinewidth,Q=I.borderwidth,ee=I.bgcolor,ae=I.xanchor,fe=I.yanchor,K=I.xpad,W=I.ypad,Z=I.x,X=k?I.y:1-I.y,$=I.yref==="paper",ie=I.xref==="paper",J=N._fullLayout,j=J._size,se=I._fillcolor,ne=I._line,ue=I.title,ge=ue.side,we=I._zrange||g.extent((typeof se=="function"?se:ne.color).domain()),xe=typeof ne.color=="function"?ne.color:function(){return ne.color},Fe=typeof se=="function"?se:function(){return se},ze=I._levels,Te=C(N,I,we),ye=Te.fill,Ae=Te.line,Ne=Math.round(F*(B==="fraction"?k?j.w:j.h:1)),Ue=Ne/(k?j.w:j.h),Re=Math.round(O*(z==="fraction"?k?j.h:j.w:1)),Ve=Re/(k?j.h:j.w),rt=ie?j.w:N._fullLayout.width,Qe=$?j.h:N._fullLayout.height,Je=Math.round(k?Z*rt+K:X*Qe+W),qe={center:.5,right:1}[ae]||0,dt={top:1,middle:.5}[fe]||0,pt=k?Z-qe*Ue:X-dt*Ue,mt=k?X-dt*Ve:Z-qe*Ve,Ct=Math.round(k?Qe*(1-mt):rt*mt);I._lenFrac=Ve,I._thickFrac=Ue,I._uFrac=pt,I._vFrac=mt;var Rt=I._axis=y(N,I,we);Rt.position=Ue+(k?Z+K/j.w:X+W/j.h);var Zt=["top","bottom"].indexOf(ge)!==-1;if(k&&Zt&&(Rt.title.side=ge,Rt.titlex=Z+K/j.w,Rt.titley=mt+(ue.side==="top"?Ve-W/j.h:W/j.h)),!k&&!Zt&&(Rt.title.side=ge,Rt.titley=X+W/j.h,Rt.titlex=mt+K/j.w),ne.color&&I.tickmode==="auto"){Rt.tickmode="linear",Rt.tick0=ze.start;var Xe=ze.size,Le=d.constrain(Re/50,4,15)+1,Pe=(we[1]-we[0])/((I.nticks||Le)*Xe);if(Pe>1){var ke=Math.pow(10,Math.floor(Math.log(Pe)/Math.LN10));Xe*=ke*d.roundUp(Pe/ke,[2,5,10]),(Math.abs(ze.start)/ze.size+1e-6)%1<2e-6&&(Rt.tick0=0)}Rt.dtick=Xe}Rt.domain=k?[mt+W/j.h,mt+Ve-W/j.h]:[mt+K/j.w,mt+Ve-K/j.w],Rt.setScale(),_.attr("transform",t(Math.round(j.l),Math.round(j.t)));var Ce=_.select("."+E.cbtitleunshift).attr("transform",t(-Math.round(j.l),-Math.round(j.t))),me=Rt.ticklabelposition,oe=Rt.title.font.size,pe=_.select("."+E.cbaxis),Me,_e=0,tt=0;function at(Dt,$t){var lr={propContainer:Rt,propName:I._propPrefix+"title",traceIndex:I._traceIndex,_meta:I._meta,placeholder:J._dfltTitle.colorbar,containerGroup:_.select("."+E.cbtitle)},Hr=Dt.charAt(0)==="h"?Dt.substr(1):"h"+Dt;_.selectAll("."+Hr+",."+Hr+"-math-group").remove(),f.draw(N,Dt,r(lr,$t||{}))}function At(){if(k&&Zt||!k&&!Zt){var Dt,$t;ge==="top"&&(Dt=K+j.l+rt*Z,$t=W+j.t+Qe*(1-mt-Ve)+3+oe*.75),ge==="bottom"&&(Dt=K+j.l+rt*Z,$t=W+j.t+Qe*(1-mt)-3-oe*.25),ge==="right"&&($t=W+j.t+Qe*X+3+oe*.75,Dt=K+j.l+rt*mt),at(Rt._id+"title",{attributes:{x:Dt,y:$t,"text-anchor":k?"start":"middle"}})}}function Ft(){if(k&&!Zt||!k&&Zt){var Dt=Rt.position||0,$t=Rt._offset+Rt._length/2,lr,Hr;if(ge==="right")Hr=$t,lr=j.l+rt*Dt+10+oe*(Rt.showticklabels?1:.5);else if(lr=$t,ge==="bottom"&&(Hr=j.t+Qe*Dt+10+(me.indexOf("inside")===-1?Rt.tickfont.size:0)+(Rt.ticks!=="intside"&&I.ticklen||0)),ge==="top"){var xt=ue.text.split("<br>").length;Hr=j.t+Qe*Dt+10-Ne-p*oe*xt}at((k?"h":"v")+Rt._id+"title",{avoid:{selection:g.select(N).selectAll("g."+Rt._id+"tick"),side:ge,offsetTop:k?0:j.t,offsetLeft:k?j.l:0,maxShift:k?J.width:J.height},attributes:{x:lr,y:Hr,"text-anchor":"middle"},transform:{rotate:k?-90:0,offset:0}})}}function Gt(){if(!k&&!Zt||k&&Zt){var Dt=_.select("."+E.cbtitle),$t=Dt.select("text"),lr=[-G/2,G/2],Hr=Dt.select(".h"+Rt._id+"title-math-group").node(),xt=15.6;$t.node()&&(xt=parseInt($t.node().style.fontSize,10)*p);var Qt;if(Hr?(Qt=n.bBox(Hr),tt=Qt.width,_e=Qt.height,_e>xt&&(lr[1]-=(_e-xt)/2)):$t.node()&&!$t.classed(E.jsPlaceholder)&&(Qt=n.bBox($t.node()),tt=Qt.width,_e=Qt.height),k){if(_e){if(_e+=5,ge==="top")Rt.domain[1]-=_e/j.h,lr[1]*=-1;else{Rt.domain[0]+=_e/j.h;var jt=l.lineCount($t);lr[1]+=(1-jt)*xt}Dt.attr("transform",t(lr[0],lr[1])),Rt.setScale()}}else tt&&(ge==="right"&&(Rt.domain[0]+=(tt+oe/2)/j.w),Dt.attr("transform",t(lr[0],lr[1])),Rt.setScale())}_.selectAll("."+E.cbfills+",."+E.cblines).attr("transform",k?t(0,Math.round(j.h*(1-Rt.domain[1]))):t(Math.round(j.w*Rt.domain[0]),0)),pe.attr("transform",k?t(0,Math.round(-j.t)):t(Math.round(-j.l),0));var Sr=_.select("."+E.cbfills).selectAll("rect."+E.cbfill).attr("style","").data(ye);Sr.enter().append("rect").classed(E.cbfill,!0).attr("style",""),Sr.exit().remove();var gr=we.map(Rt.c2p).map(Math.round).sort(function(Pt,Et){return Pt-Et});Sr.each(function(Pt,Et){var Bt=[Et===0?we[0]:(ye[Et]+ye[Et-1])/2,Et===ye.length-1?we[1]:(ye[Et]+ye[Et+1])/2].map(Rt.c2p).map(Math.round);k&&(Bt[1]=d.constrain(Bt[1]+(Bt[1]>Bt[0])?1:-1,gr[0],gr[1]));var Wt=g.select(this).attr(k?"x":"y",Je).attr(k?"y":"x",g.min(Bt)).attr(k?"width":"height",Math.max(Ne,2)).attr(k?"height":"width",Math.max(g.max(Bt)-g.min(Bt),2));if(I._fillgradient)n.gradient(Wt,N,I._id,k?"vertical":"horizontalreversed",I._fillgradient,"fill");else{var tr=Fe(Pt).replace("e-","");Wt.attr("fill",P(tr).toHexString())}});var ut=_.select("."+E.cblines).selectAll("path."+E.cbline).data(ne.color&&ne.width?Ae:[]);ut.enter().append("path").classed(E.cbline,!0),ut.exit().remove(),ut.each(function(Pt){var Et=Je,Bt=Math.round(Rt.c2p(Pt))+ne.width/2%1;g.select(this).attr("d","M"+(k?Et+","+Bt:Bt+","+Et)+(k?"h":"v")+Ne).call(n.lineGroupStyle,ne.width,xe(Pt),ne.dash)}),pe.selectAll("g."+Rt._id+"tick,path").remove();var st=Je+Ne+(G||0)/2-(I.ticks==="outside"?1:0),bt=T.calcTicks(Rt),St=T.getTickSigns(Rt)[2];return T.drawTicks(N,Rt,{vals:Rt.ticks==="inside"?T.clipEnds(Rt,bt):bt,layer:pe,path:T.makeTickPath(Rt,st,St),transFn:T.makeTransTickFn(Rt)}),T.drawLabels(N,Rt,{vals:bt,layer:pe,transFn:T.makeTransTickLabelFn(Rt),labelFns:T.makeLabelFns(Rt,st)})}function Yt(){var Dt,$t=Ne+G/2;me.indexOf("inside")===-1&&(Dt=n.bBox(pe.node()),$t+=k?Dt.width:Dt.height),Me=Ce.select("text");var lr=0,Hr=k&&ge==="top",xt=!k&&ge==="right",Qt=0;if(Me.node()&&!Me.classed(E.jsPlaceholder)){var jt,Sr=Ce.select(".h"+Rt._id+"title-math-group").node();Sr&&(k&&Zt||!k&&!Zt)?(Dt=n.bBox(Sr),lr=Dt.width,jt=Dt.height):(Dt=n.bBox(Ce.node()),lr=Dt.right-j.l-(k?Je:Ct),jt=Dt.bottom-j.t-(k?Ct:Je),!k&&ge==="top"&&($t+=Dt.height,Qt=Dt.height)),xt&&(Me.attr("transform",t(lr/2+oe/2,0)),lr*=2),$t=Math.max($t,k?lr:jt)}var gr=(k?K:W)*2+$t+Q+G/2,ut=0;!k&&ue.text&&fe==="bottom"&&X<=0&&(ut=gr/2,gr+=ut,Qt+=ut),J._hColorbarMoveTitle=ut,J._hColorbarMoveCBTitle=Qt;var st=Q+G,bt=(k?Je:Ct)-st/2-(k?K:0),St=(k?Ct:Je)-(k?Re:W+Qt-ut);_.select("."+E.cbbg).attr("x",bt).attr("y",St).attr(k?"width":"height",Math.max(gr-ut,2)).attr(k?"height":"width",Math.max(Re+st,2)).call(s.fill,ee).call(s.stroke,I.bordercolor).style("stroke-width",Q);var Pt=xt?Math.max(lr-10,0):0;_.selectAll("."+E.cboutline).attr("x",(k?Je:Ct+K)+Pt).attr("y",(k?Ct+W-Re:Je)+(Hr?_e:0)).attr(k?"width":"height",Math.max(Ne,2)).attr(k?"height":"width",Math.max(Re-(k?2*W+_e:2*K+Pt),2)).call(s.stroke,I.outlinecolor).style({fill:"none","stroke-width":G});var Et=k?qe*gr:0,Bt=k?0:(1-dt)*gr-Qt;if(Et=ie?j.l-Et:-Et,Bt=$?j.t-Bt:-Bt,_.attr("transform",t(Et,Bt)),!k&&(Q||P(ee).getAlpha()&&!P.equals(J.paper_bgcolor,ee))){var Wt=pe.selectAll("text"),tr=Wt[0].length,er=_.select("."+E.cbbg).node(),ur=n.bBox(er),kr=n.getTranslate(_),We=2;Wt.each(function(mr,xr){var yr=0,Kr=tr-1;if(xr===yr||xr===Kr){var Nr=n.bBox(this),Ur=n.getTranslate(this),Tn;if(xr===Kr){var rn=Nr.right+Ur.x,Gn=ur.right+kr.x+Ct-Q-We+Z;Tn=Gn-rn,Tn>0&&(Tn=0)}else if(xr===yr){var Hn=Nr.left+Ur.x,Ar=ur.left+kr.x+Ct+Q+We;Tn=Ar-Hn,Tn<0&&(Tn=0)}Tn&&(tr<3?this.setAttribute("transform","translate("+Tn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Ge={},_t=S[ae],Ot=A[ae],Kt=S[fe],or=A[fe],hr=gr-Ne;k?(z==="pixels"?(Ge.y=X,Ge.t=Re*Kt,Ge.b=Re*or):(Ge.t=Ge.b=0,Ge.yt=X+O*Kt,Ge.yb=X-O*or),B==="pixels"?(Ge.x=Z,Ge.l=gr*_t,Ge.r=gr*Ot):(Ge.l=hr*_t,Ge.r=hr*Ot,Ge.xl=Z-F*_t,Ge.xr=Z+F*Ot)):(z==="pixels"?(Ge.x=Z,Ge.l=Re*_t,Ge.r=Re*Ot):(Ge.l=Ge.r=0,Ge.xl=Z+O*_t,Ge.xr=Z-O*Ot),B==="pixels"?(Ge.y=1-X,Ge.t=gr*Kt,Ge.b=gr*or):(Ge.t=hr*Kt,Ge.b=hr*or,Ge.yt=X-F*Kt,Ge.yb=X+F*or));var ir=I.y<.5?"b":"t",Nt=I.x<.5?"l":"r";N._fullLayout._reservedMargin[I._id]={};var vr={r:J.width-bt-Et,l:bt+Ge.r,b:J.height-St-Bt,t:St+Ge.b};ie&&$?a.autoMargin(N,I._id,Ge):ie?N._fullLayout._reservedMargin[I._id][ir]=vr[ir]:$||k?N._fullLayout._reservedMargin[I._id][Nt]=vr[Nt]:N._fullLayout._reservedMargin[I._id][ir]=vr[ir]}return d.syncOrAsync([a.previousPromises,At,Gt,Ft,a.previousPromises,Yt],N)}function i(_,I,N){var k=I.orientation==="v",O=N._fullLayout,z=O._size,F,B,G;v.init({element:_.node(),gd:N,prepFn:function(){F=_.attr("transform"),u(_)},moveFn:function(Q,ee){_.attr("transform",F+t(Q,ee)),B=v.align((k?I._uFrac:I._vFrac)+Q/z.w,k?I._thickFrac:I._lenFrac,0,1,I.xanchor),G=v.align((k?I._vFrac:1-I._uFrac)-ee/z.h,k?I._lenFrac:I._thickFrac,0,1,I.yanchor);var ae=v.getCursor(B,G,I.xanchor,I.yanchor);u(_,ae)},doneFn:function(){if(u(_),B!==void 0&&G!==void 0){var Q={};Q[I._propPrefix+"x"]=B,Q[I._propPrefix+"y"]=G,I._traceIndex!==void 0?L.call("_guiRestyle",N,Q,I._traceIndex):L.call("_guiRelayout",N,Q)}}})}function C(_,I,N){var k=I._levels,O=[],z=[],F,B,G=k.end+k.size/100,Q=k.size,ee=1.001*N[0]-.001*N[1],ae=1.001*N[1]-.001*N[0];for(B=0;B<1e5&&(F=k.start+B*Q,!(Q>0?F>=G:F<=G));B++)F>ee&&F<ae&&O.push(F);if(I._fillgradient)z=[0];else if(typeof I._fillcolor=="function"){var fe=I._filllevels;if(fe)for(G=fe.end+fe.size/100,Q=fe.size,B=0;B<1e5&&(F=fe.start+B*Q,!(Q>0?F>=G:F<=G));B++)F>N[0]&&F<N[1]&&z.push(F);else z=O.map(function(K){return K-k.size/2}),z.push(z[z.length-1]+k.size)}else I._fillcolor&&typeof I._fillcolor=="string"&&(z=[0]);return k.size<0&&(O.reverse(),z.reverse()),{line:O,fill:z}}function y(_,I,N){var k=_._fullLayout,O=I.orientation==="v",z={type:"linear",range:N,tickmode:I.tickmode,nticks:I.nticks,tick0:I.tick0,dtick:I.dtick,tickvals:I.tickvals,ticktext:I.ticktext,ticks:I.ticks,ticklen:I.ticklen,tickwidth:I.tickwidth,tickcolor:I.tickcolor,showticklabels:I.showticklabels,labelalias:I.labelalias,ticklabelposition:I.ticklabelposition,ticklabeloverflow:I.ticklabeloverflow,ticklabelstep:I.ticklabelstep,tickfont:I.tickfont,tickangle:I.tickangle,tickformat:I.tickformat,exponentformat:I.exponentformat,minexponent:I.minexponent,separatethousands:I.separatethousands,showexponent:I.showexponent,showtickprefix:I.showtickprefix,tickprefix:I.tickprefix,showticksuffix:I.showticksuffix,ticksuffix:I.ticksuffix,title:I.title,showline:!0,anchor:"free",side:O?"right":"bottom",position:1},F=O?"y":"x",B={type:"linear",_id:F+I._id},G={letter:F,font:k.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:k.calendar};function Q(ee,ae){return d.coerce(z,B,h,ee,ae)}return c(z,B,Q,G,k),b(z,B,Q,G),B}H.exports={draw:m}},76228:function(H,U,e){var g=e(71828);H.exports=function(a){return g.isPlainObject(a.colorbar)}},12311:function(H,U,e){H.exports={moduleType:"component",name:"colorbar",attributes:e(63583),supplyDefaults:e(62499),draw:e(98981).draw,hasColorbar:e(76228)}},50693:function(H,U,e){var g=e(63583),P=e(30587).counter,a=e(78607),L=e(63282).scales;a(L),H.exports=function(v,d){v=v||"",d=d||{};var t=d.cLetter||"c";"onlyIfNumerical"in d&&d.onlyIfNumerical;var r="noScale"in d?d.noScale:v==="marker.line",u="showScaleDflt"in d?d.showScaleDflt:t==="z",n=typeof d.colorscaleDflt=="string"?L[d.colorscaleDflt]:null,s=d.editTypeOverride||"",f;"colorAttr"in d?(f=d.colorAttr,d.colorAttr):f={z:"z",c:"color"}[t];var l=t+"auto",x=t+"min",c=t+"max",b=t+"mid",h={};h[x]=h[c]=void 0;var o={};o[l]=!1;var p={};return f==="color"&&(p.color={valType:"color",arrayOk:!0,editType:s||"style"},d.anim&&(p.color.anim=!0)),p[l]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:h},p[x]={valType:"number",dflt:null,editType:s||"plot",impliedEdits:o},p[c]={valType:"number",dflt:null,editType:s||"plot",impliedEdits:o},p[b]={valType:"number",dflt:null,editType:"calc",impliedEdits:h},p.colorscale={valType:"colorscale",editType:"calc",dflt:n,impliedEdits:{autocolorscale:!1}},p.autocolorscale={valType:"boolean",dflt:d.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},p.reversescale={valType:"boolean",dflt:!1,editType:"plot"},r||(p.showscale={valType:"boolean",dflt:u,editType:"calc"},p.colorbar=g),d.noColorAxis||(p.coloraxis={valType:"subplotid",regex:P("coloraxis"),dflt:null,editType:"calc"}),p}},78803:function(H,U,e){var g=e(92770),P=e(71828),a=e(52075).extractOpts;H.exports=function(T,v,d){var t=T._fullLayout,r=d.vals,u=d.containerStr,n=u?P.nestedProperty(v,u).get():v,s=a(n),f=s.auto!==!1,l=s.min,x=s.max,c=s.mid,b=function(){return P.aggNums(Math.min,null,r)},h=function(){return P.aggNums(Math.max,null,r)};if(l===void 0?l=b():f&&(n._colorAx&&g(l)?l=Math.min(l,b()):l=b()),x===void 0?x=h():f&&(n._colorAx&&g(x)?x=Math.max(x,h()):x=h()),f&&c!==void 0&&(x-c>c-l?l=c-(x-c):x-c<c-l&&(x=c+(c-l))),l===x&&(l-=.5,x+=.5),s._sync("min",l),s._sync("max",x),s.autocolorscale){var o;l*x<0?o=t.colorscale.diverging:l>=0?o=t.colorscale.sequential:o=t.colorscale.sequentialminus,s._sync("colorscale",o)}}},33046:function(H,U,e){var g=e(71828),P=e(52075).hasColorscale,a=e(52075).extractOpts;H.exports=function(T,v){function d(l,x){var c=l["_"+x];c!==void 0&&(l[x]=c)}function t(l,x){var c=x.container?g.nestedProperty(l,x.container).get():l;if(c)if(c.coloraxis)c._colorAx=v[c.coloraxis];else{var b=a(c),h=b.auto;(h||b.min===void 0)&&d(c,x.min),(h||b.max===void 0)&&d(c,x.max),b.autocolorscale&&d(c,"colorscale")}}for(var r=0;r<T.length;r++){var u=T[r],n=u._module.colorbar;if(n)if(Array.isArray(n))for(var s=0;s<n.length;s++)t(u,n[s]);else t(u,n);P(u,"marker.line")&&t(u,{container:"marker.line",min:"cmin",max:"cmax"})}for(var f in v._colorAxes)t(v[f],{min:"cmin",max:"cmax"})}},1586:function(H,U,e){var g=e(92770),P=e(71828),a=e(76228),L=e(62499),T=e(63282).isValid,v=e(73972).traceIs;function d(t,r){var u=r.slice(0,r.length-1);return r?P.nestedProperty(t,u).get()||{}:t}H.exports=function t(r,u,n,s,f){var l=f.prefix,x=f.cLetter,c="_module"in u,b=d(r,l),h=d(u,l),o=d(u._template||{},l)||{},p=function(){return delete r.coloraxis,delete u.coloraxis,t(r,u,n,s,f)};if(c){var S=n._colorAxes||{},A=s(l+"coloraxis");if(A){var E=v(u,"contour")&&P.nestedProperty(u,"contours.coloring").get()||"heatmap",m=S[A];m?(m[2].push(p),m[0]!==E&&(m[0]=!1,P.warn(["Ignoring coloraxis:",A,"setting","as it is linked to incompatible colorscales."].join(" ")))):S[A]=[E,u,[p]];return}}var M=b[x+"min"],w=b[x+"max"],i=g(M)&&g(w)&&M<w,C=s(l+x+"auto",!i);C?s(l+x+"mid"):(s(l+x+"min"),s(l+x+"max"));var y=b.colorscale,_=o.colorscale,I;if(y!==void 0&&(I=!T(y)),_!==void 0&&(I=!T(_)),s(l+"autocolorscale",I),s(l+"colorscale"),s(l+"reversescale"),l!=="marker.line."){var N;l&&c&&(N=a(b));var k=s(l+"showscale",N);k&&(l&&o&&(h._template=o),L(b,h,n))}}},52075:function(H,U,e){var g=e(39898),P=e(84267),a=e(92770),L=e(71828),T=e(7901),v=e(63282).isValid;function d(c,b,h){var o=b?L.nestedProperty(c,b).get()||{}:c,p=o[h||"color"],S=!1;if(L.isArrayOrTypedArray(p)){for(var A=0;A<p.length;A++)if(a(p[A])){S=!0;break}}return L.isPlainObject(o)&&(S||o.showscale===!0||a(o.cmin)&&a(o.cmax)||v(o.colorscale)||L.isPlainObject(o.colorbar))}var t=["showscale","autocolorscale","colorscale","reversescale","colorbar"],r=["min","max","mid","auto"];function u(c){var b=c._colorAx,h=b||c,o={},p,S,A;for(S=0;S<t.length;S++)A=t[S],o[A]=h[A];if(b)for(p="c",S=0;S<r.length;S++)A=r[S],o[A]=h["c"+A];else{var E;for(S=0;S<r.length;S++){if(A=r[S],E="c"+A,E in h){o[A]=h[E];continue}E="z"+A,E in h&&(o[A]=h[E])}p=E.charAt(0)}return o._sync=function(m,M){var w=r.indexOf(m)!==-1?p+m:m;h[w]=h["_"+w]=M},o}function n(c){for(var b=u(c),h=b.min,o=b.max,p=b.reversescale?s(b.colorscale):b.colorscale,S=p.length,A=new Array(S),E=new Array(S),m=0;m<S;m++){var M=p[m];A[m]=h+M[0]*(o-h),E[m]=M[1]}return{domain:A,range:E}}function s(c){for(var b=c.length,h=new Array(b),o=b-1,p=0;o>=0;o--,p++){var S=c[o];h[p]=[1-S[0],S[1]]}return h}function f(c,b){b=b||{};for(var h=c.domain,o=c.range,p=o.length,S=new Array(p),A=0;A<p;A++){var E=P(o[A]).toRgb();S[A]=[E.r,E.g,E.b,E.a]}var m=g.scale.linear().domain(h).range(S).clamp(!0),M=b.noNumericCheck,w=b.returnArray,i;return M&&w?i=m:M?i=function(C){return x(m(C))}:w?i=function(C){return a(C)?m(C):P(C).isValid()?C:T.defaultLine}:i=function(C){return a(C)?x(m(C)):P(C).isValid()?C:T.defaultLine},i.domain=m.domain,i.range=function(){return o},i}function l(c,b){return f(n(c),b)}function x(c){var b={r:c[0],g:c[1],b:c[2],a:c[3]};return P(b).toRgbString()}H.exports={hasColorscale:d,extractOpts:u,extractScale:n,flipScale:s,makeColorScaleFunc:f,makeColorScaleFuncFromTrace:l}},21081:function(H,U,e){var g=e(63282),P=e(52075);H.exports={moduleType:"component",name:"colorscale",attributes:e(50693),layoutAttributes:e(72673),supplyLayoutDefaults:e(30959),handleDefaults:e(1586),crossTraceDefaults:e(33046),calc:e(78803),scales:g.scales,defaultScale:g.defaultScale,getScale:g.get,isValidScale:g.isValid,hasColorscale:P.hasColorscale,extractOpts:P.extractOpts,extractScale:P.extractScale,flipScale:P.flipScale,makeColorScaleFunc:P.makeColorScaleFunc,makeColorScaleFuncFromTrace:P.makeColorScaleFuncFromTrace}},72673:function(H,U,e){var g=e(1426).extendFlat,P=e(50693),a=e(63282).scales;H.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:a.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:a.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:a.RdBu,editType:"calc"}},coloraxis:g({_isSubplotObj:!0,editType:"calc"},P("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},30959:function(H,U,e){var g=e(71828),P=e(44467),a=e(72673),L=e(1586);H.exports=function(v,d){function t(c,b){return g.coerce(v,d,a,c,b)}t("colorscale.sequential"),t("colorscale.sequentialminus"),t("colorscale.diverging");var r=d._colorAxes,u,n;function s(c,b){return g.coerce(u,n,a.coloraxis,c,b)}for(var f in r){var l=r[f];if(l[0])u=v[f]||{},n=P.newContainer(d,f,"coloraxis"),n._name=f,L(u,n,d,s,{prefix:"",cLetter:"c"});else{for(var x=0;x<l[2].length;x++)l[2][x]();delete d._colorAxes[f]}}}},63282:function(H,U,e){var g=e(84267),P={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},a=P.RdBu;function L(d,t){if(t||(t=a),!d)return t;function r(){try{d=P[d]||JSON.parse(d)}catch{d=t}}return typeof d=="string"&&(r(),typeof d=="string"&&r()),T(d)?d:t}function T(d){var t=0;if(!Array.isArray(d)||d.length<2||!d[0]||!d[d.length-1]||+d[0][0]!=0||+d[d.length-1][0]!=1)return!1;for(var r=0;r<d.length;r++){var u=d[r];if(u.length!==2||+u[0]<t||!g(u[1]).isValid())return!1;t=+u[0]}return!0}function v(d){return P[d]!==void 0?!0:T(d)}H.exports={scales:P,defaultScale:a,get:L,isValid:v}},92807:function(H){H.exports=function(e,g,P,a,L){var T=(e-P)/(a-P),v=T+g/(a-P),d=(T+v)/2;return L==="left"||L==="bottom"?T:L==="center"||L==="middle"?d:L==="right"||L==="top"?v:T<.6666666666666666-d?T:v>1.3333333333333333-d?v:d}},70461:function(H,U,e){var g=e(71828),P=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];H.exports=function(L,T,v,d){return v==="left"?L=0:v==="center"?L=1:v==="right"?L=2:L=g.constrain(Math.floor(L*3),0,2),d==="bottom"?T=0:d==="middle"?T=1:d==="top"?T=2:T=g.constrain(Math.floor(T*3),0,2),P[T][L]}},64505:function(H,U){U.selectMode=function(e){return e==="lasso"||e==="select"},U.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},U.openMode=function(e){return e==="drawline"||e==="drawopenpath"},U.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},U.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},U.selectingOrDrawing=function(e){return U.freeMode(e)||U.rectMode(e)}},28569:function(H,U,e){var g=e(48956),P=e(57035),a=e(38520),L=e(71828).removeElement,T=e(85555),v=H.exports={};v.align=e(92807),v.getCursor=e(70461);var d=e(26041);v.unhover=d.wrapped,v.unhoverRaw=d.raw,v.init=function(n){var s=n.gd,f=1,l=s._context.doubleClickDelay,x=n.element,c,b,h,o,p,S,A,E;s._mouseDownTime||(s._mouseDownTime=0),x.style.pointerEvents="all",x.onmousedown=w,a?(x._ontouchstart&&x.removeEventListener("touchstart",x._ontouchstart),x._ontouchstart=w,x.addEventListener("touchstart",w,{passive:!1})):x.ontouchstart=w;function m(y,_,I){return Math.abs(y)<I&&(y=0),Math.abs(_)<I&&(_=0),[y,_]}var M=n.clampFn||m;function w(y){s._dragged=!1,s._dragging=!0;var _=r(y);c=_[0],b=_[1],A=y.target,S=y,E=y.buttons===2||y.ctrlKey,typeof y.clientX>"u"&&typeof y.clientY>"u"&&(y.clientX=c,y.clientY=b),h=new Date().getTime(),h-s._mouseDownTime<l?f+=1:(f=1,s._mouseDownTime=h),n.prepFn&&n.prepFn(y,c,b),P&&!E?(p=t(),p.style.cursor=window.getComputedStyle(x).cursor):P||(p=document,o=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(x).cursor),document.addEventListener("mouseup",C),document.addEventListener("touchend",C),n.dragmode!==!1&&(y.preventDefault(),document.addEventListener("mousemove",i),document.addEventListener("touchmove",i,{passive:!1}))}function i(y){y.preventDefault();var _=r(y),I=n.minDrag||T.MINDRAG,N=M(_[0]-c,_[1]-b,I),k=N[0],O=N[1];(k||O)&&(s._dragged=!0,v.unhover(s,y)),s._dragged&&n.moveFn&&!E&&(s._dragdata={element:x,dx:k,dy:O},n.moveFn(k,O))}function C(y){if(delete s._dragdata,n.dragmode!==!1&&(y.preventDefault(),document.removeEventListener("mousemove",i),document.removeEventListener("touchmove",i)),document.removeEventListener("mouseup",C),document.removeEventListener("touchend",C),P?L(p):o&&(p.documentElement.style.cursor=o,o=null),!s._dragging){s._dragged=!1;return}if(s._dragging=!1,new Date().getTime()-s._mouseDownTime>l&&(f=Math.max(f-1,1)),s._dragged)n.doneFn&&n.doneFn();else if(n.clickFn&&n.clickFn(f,S),!E){var _;try{_=new MouseEvent("click",y)}catch{var I=r(y);_=document.createEvent("MouseEvents"),_.initMouseEvent("click",y.bubbles,y.cancelable,y.view,y.detail,y.screenX,y.screenY,I[0],I[1],y.ctrlKey,y.altKey,y.shiftKey,y.metaKey,y.button,y.relatedTarget)}A.dispatchEvent(_)}s._dragging=!1,s._dragged=!1}};function t(){var u=document.createElement("div");u.className="dragcover";var n=u.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(u),u}v.coverSlip=t;function r(u){return g(u.changedTouches?u.changedTouches[0]:u,document.body)}},26041:function(H,U,e){var g=e(11086),P=e(79990),a=e(24401).getGraphDiv,L=e(26675),T=H.exports={};T.wrapped=function(v,d,t){v=a(v),v._fullLayout&&P.clear(v._fullLayout._uid+L.HOVERID),T.raw(v,d,t)},T.raw=function(d,t){var r=d._fullLayout,u=d._hoverdata;t||(t={}),!(t.target&&!d._dragged&&g.triggerHandler(d,"plotly_beforehover",t)===!1)&&(r._hoverlayer.selectAll("g").remove(),r._hoverlayer.selectAll("line").remove(),r._hoverlayer.selectAll("circle").remove(),d._hoverdata=void 0,t.target&&u&&d.emit("plotly_unhover",{event:t,points:u}))}},79952:function(H,U){U.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},U.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},91424:function(H,U,e){var g=e(39898),P=e(71828),a=P.numberFormat,L=e(92770),T=e(84267),v=e(73972),d=e(7901),t=e(21081),r=P.strTranslate,u=e(63893),n=e(77922),s=e(18783),f=s.LINE_SPACING,l=e(37822).DESELECTDIM,x=e(34098),c=e(39984),b=e(23469).appendArrayPointValue,h=H.exports={};h.font=function(Te,ye,Ae,Ne){P.isPlainObject(ye)&&(Ne=ye.color,Ae=ye.size,ye=ye.family),ye&&Te.style("font-family",ye),Ae+1&&Te.style("font-size",Ae+"px"),Ne&&Te.call(d.fill,Ne)},h.setPosition=function(Te,ye,Ae){Te.attr("x",ye).attr("y",Ae)},h.setSize=function(Te,ye,Ae){Te.attr("width",ye).attr("height",Ae)},h.setRect=function(Te,ye,Ae,Ne,Ue){Te.call(h.setPosition,ye,Ae).call(h.setSize,Ne,Ue)},h.translatePoint=function(Te,ye,Ae,Ne){var Ue=Ae.c2p(Te.x),Re=Ne.c2p(Te.y);if(L(Ue)&&L(Re)&&ye.node())ye.node().nodeName==="text"?ye.attr("x",Ue).attr("y",Re):ye.attr("transform",r(Ue,Re));else return!1;return!0},h.translatePoints=function(Te,ye,Ae){Te.each(function(Ne){var Ue=g.select(this);h.translatePoint(Ne,Ue,ye,Ae)})},h.hideOutsideRangePoint=function(Te,ye,Ae,Ne,Ue,Re){ye.attr("display",Ae.isPtWithinRange(Te,Ue)&&Ne.isPtWithinRange(Te,Re)?null:"none")},h.hideOutsideRangePoints=function(Te,ye){if(ye._hasClipOnAxisFalse){var Ae=ye.xaxis,Ne=ye.yaxis;Te.each(function(Ue){var Re=Ue[0].trace,Ve=Re.xcalendar,rt=Re.ycalendar,Qe=v.traceIs(Re,"bar-like")?".bartext":".point,.textpoint";Te.selectAll(Qe).each(function(Je){h.hideOutsideRangePoint(Je,g.select(this),Ae,Ne,Ve,rt)})})}},h.crispRound=function(Te,ye,Ae){return!ye||!L(ye)?Ae||0:Te._context.staticPlot?ye:ye<1?1:Math.round(ye)},h.singleLineStyle=function(Te,ye,Ae,Ne,Ue){ye.style("fill","none");var Re=(((Te||[])[0]||{}).trace||{}).line||{},Ve=Ae||Re.width||0,rt=Ue||Re.dash||"";d.stroke(ye,Ne||Re.color),h.dashLine(ye,rt,Ve)},h.lineGroupStyle=function(Te,ye,Ae,Ne){Te.style("fill","none").each(function(Ue){var Re=(((Ue||[])[0]||{}).trace||{}).line||{},Ve=ye||Re.width||0,rt=Ne||Re.dash||"";g.select(this).call(d.stroke,Ae||Re.color).call(h.dashLine,rt,Ve)})},h.dashLine=function(Te,ye,Ae){Ae=+Ae||0,ye=h.dashStyle(ye,Ae),Te.style({"stroke-dasharray":ye,"stroke-width":Ae+"px"})},h.dashStyle=function(Te,ye){ye=+ye||1;var Ae=Math.max(ye,3);return Te==="solid"?Te="":Te==="dot"?Te=Ae+"px,"+Ae+"px":Te==="dash"?Te=3*Ae+"px,"+3*Ae+"px":Te==="longdash"?Te=5*Ae+"px,"+5*Ae+"px":Te==="dashdot"?Te=3*Ae+"px,"+Ae+"px,"+Ae+"px,"+Ae+"px":Te==="longdashdot"&&(Te=5*Ae+"px,"+2*Ae+"px,"+Ae+"px,"+2*Ae+"px"),Te};function o(Te,ye,Ae){var Ne=ye.fillpattern,Ue=Ne&&h.getPatternAttr(Ne.shape,0,"");if(Ue){var Re=h.getPatternAttr(Ne.bgcolor,0,null),Ve=h.getPatternAttr(Ne.fgcolor,0,null),rt=Ne.fgopacity,Qe=h.getPatternAttr(Ne.size,0,8),Je=h.getPatternAttr(Ne.solidity,0,.3),qe=ye.uid;h.pattern(Te,"point",Ae,qe,Ue,Qe,Je,void 0,Ne.fillmode,Re,Ve,rt)}else ye.fillcolor&&Te.call(d.fill,ye.fillcolor)}h.singleFillStyle=function(Te,ye){var Ae=g.select(Te.node()),Ne=Ae.data(),Ue=((Ne[0]||[])[0]||{}).trace||{};o(Te,Ue,ye)},h.fillGroupStyle=function(Te,ye){Te.style("stroke-width",0).each(function(Ae){var Ne=g.select(this);Ae[0].trace&&o(Ne,Ae[0].trace,ye)})};var p=e(90998);h.symbolNames=[],h.symbolFuncs=[],h.symbolBackOffs=[],h.symbolNeedLines={},h.symbolNoDot={},h.symbolNoFill={},h.symbolList=[],Object.keys(p).forEach(function(Te){var ye=p[Te],Ae=ye.n;h.symbolList.push(Ae,String(Ae),Te,Ae+100,String(Ae+100),Te+"-open"),h.symbolNames[Ae]=Te,h.symbolFuncs[Ae]=ye.f,h.symbolBackOffs[Ae]=ye.backoff||0,ye.needLine&&(h.symbolNeedLines[Ae]=!0),ye.noDot?h.symbolNoDot[Ae]=!0:h.symbolList.push(Ae+200,String(Ae+200),Te+"-dot",Ae+300,String(Ae+300),Te+"-open-dot"),ye.noFill&&(h.symbolNoFill[Ae]=!0)});var S=h.symbolNames.length,A="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";h.symbolNumber=function(Te){if(L(Te))Te=+Te;else if(typeof Te=="string"){var ye=0;Te.indexOf("-open")>0&&(ye=100,Te=Te.replace("-open","")),Te.indexOf("-dot")>0&&(ye+=200,Te=Te.replace("-dot","")),Te=h.symbolNames.indexOf(Te),Te>=0&&(Te+=ye)}return Te%100>=S||Te>=400?0:Math.floor(Math.max(Te,0))};function E(Te,ye,Ae,Ne){var Ue=Te%100;return h.symbolFuncs[Ue](ye,Ae,Ne)+(Te>=200?A:"")}var m={x1:1,x2:0,y1:0,y2:0},M={x1:0,x2:0,y1:1,y2:0},w=a("~f"),i={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:m},horizontalreversed:{node:"linearGradient",attrs:m,reversed:!0},vertical:{node:"linearGradient",attrs:M},verticalreversed:{node:"linearGradient",attrs:M,reversed:!0}};h.gradient=function(Te,ye,Ae,Ne,Ue,Re){for(var Ve=Ue.length,rt=i[Ne],Qe=new Array(Ve),Je=0;Je<Ve;Je++)rt.reversed?Qe[Ve-1-Je]=[w((1-Ue[Je][0])*100),Ue[Je][1]]:Qe[Je]=[w(Ue[Je][0]*100),Ue[Je][1]];var qe=ye._fullLayout,dt="g"+qe._uid+"-"+Ae,pt=qe._defs.select(".gradients").selectAll("#"+dt).data([Ne+Qe.join(";")],P.identity);pt.exit().remove(),pt.enter().append(rt.node).each(function(){var mt=g.select(this);rt.attrs&&mt.attr(rt.attrs),mt.attr("id",dt);var Ct=mt.selectAll("stop").data(Qe);Ct.exit().remove(),Ct.enter().append("stop"),Ct.each(function(Rt){var Zt=T(Rt[1]);g.select(this).attr({offset:Rt[0]+"%","stop-color":d.tinyRGB(Zt),"stop-opacity":Zt.getAlpha()})})}),Te.style(Re,W(dt,ye)).style(Re+"-opacity",null),Te.classed("gradient_filled",!0)},h.pattern=function(Te,ye,Ae,Ne,Ue,Re,Ve,rt,Qe,Je,qe,dt){var pt=ye==="legend";rt&&(Qe==="overlay"?(Je=rt,qe=d.contrast(Je)):(Je=void 0,qe=rt));var mt=Ae._fullLayout,Ct="p"+mt._uid+"-"+Ne,Rt,Zt,Xe=function(At,Ft,Gt,Yt,Dt){return Yt+(Dt-Yt)*(At-Ft)/(Gt-Ft)},Le,Pe,ke,Ce,me={},oe=T(qe),pe=d.tinyRGB(oe),Me=oe.getAlpha(),_e=dt*Me;switch(Ue){case"/":Rt=Re*Math.sqrt(2),Zt=Re*Math.sqrt(2),Le="M-"+Rt/4+","+Zt/4+"l"+Rt/2+",-"+Zt/2+"M0,"+Zt+"L"+Rt+",0M"+Rt/4*3+","+Zt/4*5+"l"+Rt/2+",-"+Zt/2,Pe=Ve*Re,Ce="path",me={d:Le,opacity:_e,stroke:pe,"stroke-width":Pe+"px"};break;case"\\":Rt=Re*Math.sqrt(2),Zt=Re*Math.sqrt(2),Le="M"+Rt/4*3+",-"+Zt/4+"l"+Rt/2+","+Zt/2+"M0,0L"+Rt+","+Zt+"M-"+Rt/4+","+Zt/4*3+"l"+Rt/2+","+Zt/2,Pe=Ve*Re,Ce="path",me={d:Le,opacity:_e,stroke:pe,"stroke-width":Pe+"px"};break;case"x":Rt=Re*Math.sqrt(2),Zt=Re*Math.sqrt(2),Le="M-"+Rt/4+","+Zt/4+"l"+Rt/2+",-"+Zt/2+"M0,"+Zt+"L"+Rt+",0M"+Rt/4*3+","+Zt/4*5+"l"+Rt/2+",-"+Zt/2+"M"+Rt/4*3+",-"+Zt/4+"l"+Rt/2+","+Zt/2+"M0,0L"+Rt+","+Zt+"M-"+Rt/4+","+Zt/4*3+"l"+Rt/2+","+Zt/2,Pe=Re-Re*Math.sqrt(1-Ve),Ce="path",me={d:Le,opacity:_e,stroke:pe,"stroke-width":Pe+"px"};break;case"|":Rt=Re,Zt=Re,Ce="path",Le="M"+Rt/2+",0L"+Rt/2+","+Zt,Pe=Ve*Re,Ce="path",me={d:Le,opacity:_e,stroke:pe,"stroke-width":Pe+"px"};break;case"-":Rt=Re,Zt=Re,Ce="path",Le="M0,"+Zt/2+"L"+Rt+","+Zt/2,Pe=Ve*Re,Ce="path",me={d:Le,opacity:_e,stroke:pe,"stroke-width":Pe+"px"};break;case"+":Rt=Re,Zt=Re,Ce="path",Le="M"+Rt/2+",0L"+Rt/2+","+Zt+"M0,"+Zt/2+"L"+Rt+","+Zt/2,Pe=Re-Re*Math.sqrt(1-Ve),Ce="path",me={d:Le,opacity:_e,stroke:pe,"stroke-width":Pe+"px"};break;case".":Rt=Re,Zt=Re,Ve<Math.PI/4?ke=Math.sqrt(Ve*Re*Re/Math.PI):ke=Xe(Ve,Math.PI/4,1,Re/2,Re/Math.sqrt(2)),Ce="circle",me={cx:Rt/2,cy:Zt/2,r:ke,opacity:_e,fill:pe};break}var tt=[Ue||"noSh",Je||"noBg",qe||"noFg",Re,Ve].join(";"),at=mt._defs.select(".patterns").selectAll("#"+Ct).data([tt],P.identity);at.exit().remove(),at.enter().append("pattern").each(function(){var At=g.select(this);if(At.attr({id:Ct,width:Rt+"px",height:Zt+"px",patternUnits:"userSpaceOnUse",patternTransform:pt?"scale(0.8)":""}),Je){var Ft=T(Je),Gt=d.tinyRGB(Ft),Yt=Ft.getAlpha(),Dt=At.selectAll("rect").data([0]);Dt.exit().remove(),Dt.enter().append("rect").attr({width:Rt+"px",height:Zt+"px",fill:Gt,"fill-opacity":Yt})}var $t=At.selectAll(Ce).data([0]);$t.exit().remove(),$t.enter().append(Ce).attr(me)}),Te.style("fill",W(Ct,Ae)).style("fill-opacity",null),Te.classed("pattern_filled",!0)},h.initGradients=function(Te){var ye=Te._fullLayout,Ae=P.ensureSingle(ye._defs,"g","gradients");Ae.selectAll("linearGradient,radialGradient").remove(),g.select(Te).selectAll(".gradient_filled").classed("gradient_filled",!1)},h.initPatterns=function(Te){var ye=Te._fullLayout,Ae=P.ensureSingle(ye._defs,"g","patterns");Ae.selectAll("pattern").remove(),g.select(Te).selectAll(".pattern_filled").classed("pattern_filled",!1)},h.getPatternAttr=function(Te,ye,Ae){return Te&&P.isArrayOrTypedArray(Te)?ye<Te.length?Te[ye]:Ae:Te},h.pointStyle=function(Te,ye,Ae,Ne){if(Te.size()){var Ue=h.makePointStyleFns(ye);Te.each(function(Re){h.singlePointStyle(Re,g.select(this),ye,Ue,Ae,Ne)})}},h.singlePointStyle=function(Te,ye,Ae,Ne,Ue,Re){var Ve=Ae.marker,rt=Ve.line;if(Re&&Re.i>=0&&Te.i===void 0&&(Te.i=Re.i),ye.style("opacity",Ne.selectedOpacityFn?Ne.selectedOpacityFn(Te):Te.mo===void 0?Ve.opacity:Te.mo),Ne.ms2mrc){var Qe;Te.ms==="various"||Ve.size==="various"?Qe=3:Qe=Ne.ms2mrc(Te.ms),Te.mrc=Qe,Ne.selectedSizeFn&&(Qe=Te.mrc=Ne.selectedSizeFn(Te));var Je=h.symbolNumber(Te.mx||Ve.symbol)||0;Te.om=Je%200>=100;var qe=ze(Te,Ae),dt=$(Te,Ae);ye.attr("d",E(Je,Qe,qe,dt))}var pt=!1,mt,Ct,Rt;if(Te.so)Rt=rt.outlierwidth,Ct=rt.outliercolor,mt=Ve.outliercolor;else{var Zt=(rt||{}).width;Rt=(Te.mlw+1||Zt+1||(Te.trace?(Te.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in Te?Ct=Te.mlcc=Ne.lineScale(Te.mlc):P.isArrayOrTypedArray(rt.color)?Ct=d.defaultLine:Ct=rt.color,P.isArrayOrTypedArray(Ve.color)&&(mt=d.defaultLine,pt=!0),"mc"in Te?mt=Te.mcc=Ne.markerScale(Te.mc):mt=Ve.color||Ve.colors||"rgba(0,0,0,0)",Ne.selectedColorFn&&(mt=Ne.selectedColorFn(Te))}if(Te.om)ye.call(d.stroke,mt).style({"stroke-width":(Rt||1)+"px",fill:"none"});else{ye.style("stroke-width",(Te.isBlank?0:Rt)+"px");var Xe=Ve.gradient,Le=Te.mgt;Le?pt=!0:Le=Xe&&Xe.type,P.isArrayOrTypedArray(Le)&&(Le=Le[0],i[Le]||(Le=0));var Pe=Ve.pattern,ke=Pe&&h.getPatternAttr(Pe.shape,Te.i,"");if(Le&&Le!=="none"){var Ce=Te.mgc;Ce?pt=!0:Ce=Xe.color;var me=Ae.uid;pt&&(me+="-"+Te.i),h.gradient(ye,Ue,me,Le,[[0,Ce],[1,mt]],"fill")}else if(ke){var oe=!1,pe=Pe.fgcolor;!pe&&Re&&Re.color&&(pe=Re.color,oe=!0);var Me=h.getPatternAttr(pe,Te.i,Re&&Re.color||null),_e=h.getPatternAttr(Pe.bgcolor,Te.i,null),tt=Pe.fgopacity,at=h.getPatternAttr(Pe.size,Te.i,8),At=h.getPatternAttr(Pe.solidity,Te.i,.3);oe=oe||Te.mcc||P.isArrayOrTypedArray(Pe.shape)||P.isArrayOrTypedArray(Pe.bgcolor)||P.isArrayOrTypedArray(Pe.fgcolor)||P.isArrayOrTypedArray(Pe.size)||P.isArrayOrTypedArray(Pe.solidity);var Ft=Ae.uid;oe&&(Ft+="-"+Te.i),h.pattern(ye,"point",Ue,Ft,ke,at,At,Te.mcc,Pe.fillmode,_e,Me,tt)}else P.isArrayOrTypedArray(mt)?d.fill(ye,mt[Te.i]):d.fill(ye,mt);Rt&&d.stroke(ye,Ct)}},h.makePointStyleFns=function(Te){var ye={},Ae=Te.marker;return ye.markerScale=h.tryColorscale(Ae,""),ye.lineScale=h.tryColorscale(Ae,"line"),v.traceIs(Te,"symbols")&&(ye.ms2mrc=x.isBubble(Te)?c(Te):function(){return(Ae.size||6)/2}),Te.selectedpoints&&P.extendFlat(ye,h.makeSelectedPointStyleFns(Te)),ye},h.makeSelectedPointStyleFns=function(Te){var ye={},Ae=Te.selected||{},Ne=Te.unselected||{},Ue=Te.marker||{},Re=Ae.marker||{},Ve=Ne.marker||{},rt=Ue.opacity,Qe=Re.opacity,Je=Ve.opacity,qe=Qe!==void 0,dt=Je!==void 0;(P.isArrayOrTypedArray(rt)||qe||dt)&&(ye.selectedOpacityFn=function(ke){var Ce=ke.mo===void 0?Ue.opacity:ke.mo;return ke.selected?qe?Qe:Ce:dt?Je:l*Ce});var pt=Ue.color,mt=Re.color,Ct=Ve.color;(mt||Ct)&&(ye.selectedColorFn=function(ke){var Ce=ke.mcc||pt;return ke.selected?mt||Ce:Ct||Ce});var Rt=Ue.size,Zt=Re.size,Xe=Ve.size,Le=Zt!==void 0,Pe=Xe!==void 0;return v.traceIs(Te,"symbols")&&(Le||Pe)&&(ye.selectedSizeFn=function(ke){var Ce=ke.mrc||Rt/2;return ke.selected?Le?Zt/2:Ce:Pe?Xe/2:Ce}),ye},h.makeSelectedTextStyleFns=function(Te){var ye={},Ae=Te.selected||{},Ne=Te.unselected||{},Ue=Te.textfont||{},Re=Ae.textfont||{},Ve=Ne.textfont||{},rt=Ue.color,Qe=Re.color,Je=Ve.color;return ye.selectedTextColorFn=function(qe){var dt=qe.tc||rt;return qe.selected?Qe||dt:Je||(Qe?dt:d.addOpacity(dt,l))},ye},h.selectedPointStyle=function(Te,ye){if(!(!Te.size()||!ye.selectedpoints)){var Ae=h.makeSelectedPointStyleFns(ye),Ne=ye.marker||{},Ue=[];Ae.selectedOpacityFn&&Ue.push(function(Re,Ve){Re.style("opacity",Ae.selectedOpacityFn(Ve))}),Ae.selectedColorFn&&Ue.push(function(Re,Ve){d.fill(Re,Ae.selectedColorFn(Ve))}),Ae.selectedSizeFn&&Ue.push(function(Re,Ve){var rt=Ve.mx||Ne.symbol||0,Qe=Ae.selectedSizeFn(Ve);Re.attr("d",E(h.symbolNumber(rt),Qe,ze(Ve,ye),$(Ve,ye))),Ve.mrc2=Qe}),Ue.length&&Te.each(function(Re){for(var Ve=g.select(this),rt=0;rt<Ue.length;rt++)Ue[rt](Ve,Re)})}},h.tryColorscale=function(Te,ye){var Ae=ye?P.nestedProperty(Te,ye).get():Te;if(Ae){var Ne=Ae.color;if((Ae.colorscale||Ae._colorAx)&&P.isArrayOrTypedArray(Ne))return t.makeColorScaleFuncFromTrace(Ae)}return P.identity};var C={start:1,end:-1,middle:0,bottom:1,top:-1};function y(Te,ye,Ae,Ne,Ue){var Re=g.select(Te.node().parentNode),Ve=ye.indexOf("top")!==-1?"top":ye.indexOf("bottom")!==-1?"bottom":"middle",rt=ye.indexOf("left")!==-1?"end":ye.indexOf("right")!==-1?"start":"middle",Qe=Ne?Ne/.8+1:0,Je=(u.lineCount(Te)-1)*f+1,qe=C[rt]*Qe,dt=Ae*.75+C[Ve]*Qe+(C[Ve]-1)*Je*Ae/2;Te.attr("text-anchor",rt),Ue||Re.attr("transform",r(qe,dt))}function _(Te,ye){var Ae=Te.ts||ye.textfont.size;return L(Ae)&&Ae>0?Ae:0}h.textPointStyle=function(Te,ye,Ae){if(Te.size()){var Ne;if(ye.selectedpoints){var Ue=h.makeSelectedTextStyleFns(ye);Ne=Ue.selectedTextColorFn}var Re=ye.texttemplate,Ve=Ae._fullLayout;Te.each(function(rt){var Qe=g.select(this),Je=Re?P.extractOption(rt,ye,"txt","texttemplate"):P.extractOption(rt,ye,"tx","text");if(!Je&&Je!==0){Qe.remove();return}if(Re){var qe=ye._module.formatLabels,dt=qe?qe(rt,ye,Ve):{},pt={};b(pt,ye,rt.i);var mt=ye._meta||{};Je=P.texttemplateString(Je,dt,Ve._d3locale,pt,rt,mt)}var Ct=rt.tp||ye.textposition,Rt=_(rt,ye),Zt=Ne?Ne(rt):rt.tc||ye.textfont.color;Qe.call(h.font,rt.tf||ye.textfont.family,Rt,Zt).text(Je).call(u.convertToTspans,Ae).call(y,Ct,Rt,rt.mrc)})}},h.selectedTextStyle=function(Te,ye){if(!(!Te.size()||!ye.selectedpoints)){var Ae=h.makeSelectedTextStyleFns(ye);Te.each(function(Ne){var Ue=g.select(this),Re=Ae.selectedTextColorFn(Ne),Ve=Ne.tp||ye.textposition,rt=_(Ne,ye);d.fill(Ue,Re);var Qe=v.traceIs(ye,"bar-like");y(Ue,Ve,rt,Ne.mrc2||Ne.mrc,Qe)})}};var I=.5;h.smoothopen=function(Te,ye){if(Te.length<3)return"M"+Te.join("L");var Ae="M"+Te[0],Ne=[],Ue;for(Ue=1;Ue<Te.length-1;Ue++)Ne.push(B(Te[Ue-1],Te[Ue],Te[Ue+1],ye));for(Ae+="Q"+Ne[0][0]+" "+Te[1],Ue=2;Ue<Te.length-1;Ue++)Ae+="C"+Ne[Ue-2][1]+" "+Ne[Ue-1][0]+" "+Te[Ue];return Ae+="Q"+Ne[Te.length-3][1]+" "+Te[Te.length-1],Ae},h.smoothclosed=function(Te,ye){if(Te.length<3)return"M"+Te.join("L")+"Z";var Ae="M"+Te[0],Ne=Te.length-1,Ue=[B(Te[Ne],Te[0],Te[1],ye)],Re;for(Re=1;Re<Ne;Re++)Ue.push(B(Te[Re-1],Te[Re],Te[Re+1],ye));for(Ue.push(B(Te[Ne-1],Te[Ne],Te[0],ye)),Re=1;Re<=Ne;Re++)Ae+="C"+Ue[Re-1][1]+" "+Ue[Re][0]+" "+Te[Re];return Ae+="C"+Ue[Ne][1]+" "+Ue[0][0]+" "+Te[0]+"Z",Ae};var N,k;function O(Te,ye,Ae){return Ae&&(Te=ee(Te)),ye?F(Te[1]):z(Te[0])}function z(Te){var ye=g.round(Te,2);return N=ye,ye}function F(Te){var ye=g.round(Te,2);return k=ye,ye}function B(Te,ye,Ae,Ne){var Ue=Te[0]-ye[0],Re=Te[1]-ye[1],Ve=Ae[0]-ye[0],rt=Ae[1]-ye[1],Qe=Math.pow(Ue*Ue+Re*Re,I/2),Je=Math.pow(Ve*Ve+rt*rt,I/2),qe=(Je*Je*Ue-Qe*Qe*Ve)*Ne,dt=(Je*Je*Re-Qe*Qe*rt)*Ne,pt=3*Je*(Qe+Je),mt=3*Qe*(Qe+Je);return[[z(ye[0]+(pt&&qe/pt)),F(ye[1]+(pt&&dt/pt))],[z(ye[0]-(mt&&qe/mt)),F(ye[1]-(mt&&dt/mt))]]}var G={hv:function(Te,ye,Ae){return"H"+z(ye[0])+"V"+O(ye,1,Ae)},vh:function(Te,ye,Ae){return"V"+F(ye[1])+"H"+O(ye,0,Ae)},hvh:function(Te,ye,Ae){return"H"+z((Te[0]+ye[0])/2)+"V"+F(ye[1])+"H"+O(ye,0,Ae)},vhv:function(Te,ye,Ae){return"V"+F((Te[1]+ye[1])/2)+"H"+z(ye[0])+"V"+O(ye,1,Ae)}},Q=function(Te,ye,Ae){return"L"+O(ye,0,Ae)+","+O(ye,1,Ae)};h.steps=function(Te){var ye=G[Te]||Q;return function(Ae){for(var Ne="M"+z(Ae[0][0])+","+F(Ae[0][1]),Ue=Ae.length,Re=1;Re<Ue;Re++)Ne+=ye(Ae[Re-1],Ae[Re],Re===Ue-1);return Ne}};function ee(Te,ye){var Ae=Te.backoff,Ne=Te.trace,Ue=Te.d,Re=Te.i;if(Ae&&Ne&&Ne.marker&&Ne.marker.angle%360===0&&Ne.line&&Ne.line.shape!=="spline"){var Ve=P.isArrayOrTypedArray(Ae),rt=Te,Qe=ye?ye[0]:N||0,Je=ye?ye[1]:k||0,qe=rt[0],dt=rt[1],pt=qe-Qe,mt=dt-Je,Ct=Math.atan2(mt,pt),Rt=Ve?Ae[Re]:Ae;if(Rt==="auto"){var Zt=rt.i;Ne.type==="scatter"&&Zt--;var Xe=rt.marker,Le=Xe.symbol;P.isArrayOrTypedArray(Le)&&(Le=Le[Zt]);var Pe=Xe.size;P.isArrayOrTypedArray(Pe)&&(Pe=Pe[Zt]),Rt=Xe?h.symbolBackOffs[h.symbolNumber(Le)]*Pe:0,Rt+=h.getMarkerStandoff(Ue[Zt],Ne)||0}var ke=qe-Rt*Math.cos(Ct),Ce=dt-Rt*Math.sin(Ct);(ke<=qe&&ke>=Qe||ke>=qe&&ke<=Qe)&&(Ce<=dt&&Ce>=Je||Ce>=dt&&Ce<=Je)&&(Te=[ke,Ce])}return Te}h.applyBackoff=ee,h.makeTester=function(){var Te=P.ensureSingleById(g.select("body"),"svg","js-plotly-tester",function(Ae){Ae.attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),ye=P.ensureSingle(Te,"path","js-reference-point",function(Ae){Ae.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});h.tester=Te,h.testref=ye},h.savedBBoxes={};var ae=0,fe=1e4;h.bBox=function(Te,ye,Ae){Ae||(Ae=K(Te));var Ne;if(Ae){if(Ne=h.savedBBoxes[Ae],Ne)return P.extendFlat({},Ne)}else if(Te.childNodes.length===1){var Ue=Te.childNodes[0];if(Ae=K(Ue),Ae){var Re=+Ue.getAttribute("x")||0,Ve=+Ue.getAttribute("y")||0,rt=Ue.getAttribute("transform");if(!rt){var Qe=h.bBox(Ue,!1,Ae);return Re&&(Qe.left+=Re,Qe.right+=Re),Ve&&(Qe.top+=Ve,Qe.bottom+=Ve),Qe}if(Ae+="~"+Re+"~"+Ve+"~"+rt,Ne=h.savedBBoxes[Ae],Ne)return P.extendFlat({},Ne)}}var Je,qe;ye?Je=Te:(qe=h.tester.node(),Je=Te.cloneNode(!0),qe.appendChild(Je)),g.select(Je).attr("transform",null).call(u.positionText,0,0);var dt=Je.getBoundingClientRect(),pt=h.testref.node().getBoundingClientRect();ye||qe.removeChild(Je);var mt={height:dt.height,width:dt.width,left:dt.left-pt.left,top:dt.top-pt.top,right:dt.right-pt.left,bottom:dt.bottom-pt.top};return ae>=fe&&(h.savedBBoxes={},ae=0),Ae&&(h.savedBBoxes[Ae]=mt),ae++,P.extendFlat({},mt)};function K(Te){var ye=Te.getAttribute("data-unformatted");if(ye!==null)return ye+Te.getAttribute("data-math")+Te.getAttribute("text-anchor")+Te.getAttribute("style")}h.setClipUrl=function(Te,ye,Ae){Te.attr("clip-path",W(ye,Ae))};function W(Te,ye){if(!Te)return null;var Ae=ye._context,Ne=Ae._exportedPlot?"":Ae._baseUrl||"";return Ne?"url('"+Ne+"#"+Te+"')":"url(#"+Te+")"}h.getTranslate=function(Te){var ye=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,Ae=Te.attr?"attr":"getAttribute",Ne=Te[Ae]("transform")||"",Ue=Ne.replace(ye,function(Re,Ve,rt){return[Ve,rt].join(" ")}).split(" ");return{x:+Ue[0]||0,y:+Ue[1]||0}},h.setTranslate=function(Te,ye,Ae){var Ne=/(\btranslate\(.*?\);?)/,Ue=Te.attr?"attr":"getAttribute",Re=Te.attr?"attr":"setAttribute",Ve=Te[Ue]("transform")||"";return ye=ye||0,Ae=Ae||0,Ve=Ve.replace(Ne,"").trim(),Ve+=r(ye,Ae),Ve=Ve.trim(),Te[Re]("transform",Ve),Ve},h.getScale=function(Te){var ye=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,Ae=Te.attr?"attr":"getAttribute",Ne=Te[Ae]("transform")||"",Ue=Ne.replace(ye,function(Re,Ve,rt){return[Ve,rt].join(" ")}).split(" ");return{x:+Ue[0]||1,y:+Ue[1]||1}},h.setScale=function(Te,ye,Ae){var Ne=/(\bscale\(.*?\);?)/,Ue=Te.attr?"attr":"getAttribute",Re=Te.attr?"attr":"setAttribute",Ve=Te[Ue]("transform")||"";return ye=ye||1,Ae=Ae||1,Ve=Ve.replace(Ne,"").trim(),Ve+="scale("+ye+","+Ae+")",Ve=Ve.trim(),Te[Re]("transform",Ve),Ve};var Z=/\s*sc.*/;h.setPointGroupScale=function(Te,ye,Ae){if(ye=ye||1,Ae=Ae||1,!!Te){var Ne=ye===1&&Ae===1?"":"scale("+ye+","+Ae+")";Te.each(function(){var Ue=(this.getAttribute("transform")||"").replace(Z,"");Ue+=Ne,Ue=Ue.trim(),this.setAttribute("transform",Ue)})}};var X=/translate\([^)]*\)\s*$/;h.setTextPointsScale=function(Te,ye,Ae){Te&&Te.each(function(){var Ne,Ue=g.select(this),Re=Ue.select("text");if(Re.node()){var Ve=parseFloat(Re.attr("x")||0),rt=parseFloat(Re.attr("y")||0),Qe=(Ue.attr("transform")||"").match(X);ye===1&&Ae===1?Ne=[]:Ne=[r(Ve,rt),"scale("+ye+","+Ae+")",r(-Ve,-rt)],Qe&&Ne.push(Qe),Ue.attr("transform",Ne.join(""))}})};function $(Te,ye){var Ae;return Te&&(Ae=Te.mf),Ae===void 0&&(Ae=ye.marker&&ye.marker.standoff||0),!ye._geo&&!ye._xA?-Ae:Ae}h.getMarkerStandoff=$;var ie=Math.atan2,J=Math.cos,j=Math.sin;function se(Te,ye){var Ae=ye[0],Ne=ye[1];return[Ae*J(Te)-Ne*j(Te),Ae*j(Te)+Ne*J(Te)]}var ne,ue,ge,we,xe,Fe;function ze(Te,ye){var Ae=Te.ma;Ae===void 0&&(Ae=ye.marker.angle||0);var Ne,Ue,Re=ye.marker.angleref;if(Re==="previous"||Re==="north"){if(ye._geo){var Ve=ye._geo.project(Te.lonlat);Ne=Ve[0],Ue=Ve[1]}else{var rt=ye._xA,Qe=ye._yA;if(rt&&Qe)Ne=rt.c2p(Te.x),Ue=Qe.c2p(Te.y);else return 90}if(ye._geo){var Je=Te.lonlat[0],qe=Te.lonlat[1],dt=ye._geo.project([Je,qe+1e-5]),pt=ye._geo.project([Je+1e-5,qe]),mt=ie(pt[1]-Ue,pt[0]-Ne),Ct=ie(dt[1]-Ue,dt[0]-Ne),Rt;if(Re==="north")Rt=Ae/180*Math.PI;else if(Re==="previous"){var Zt=Je/180*Math.PI,Xe=qe/180*Math.PI,Le=ne/180*Math.PI,Pe=ue/180*Math.PI,ke=Le-Zt,Ce=J(Pe)*j(ke),me=j(Pe)*J(Xe)-J(Pe)*j(Xe)*J(ke);Rt=-ie(Ce,me)-Math.PI,ne=Je,ue=qe}var oe=se(mt,[J(Rt),0]),pe=se(Ct,[j(Rt),0]);Ae=ie(oe[1]+pe[1],oe[0]+pe[0])/Math.PI*180,Re==="previous"&&!(Fe===ye.uid&&Te.i===xe+1)&&(Ae=null)}if(Re==="previous"&&!ye._geo)if(Fe===ye.uid&&Te.i===xe+1&&L(Ne)&&L(Ue)){var Me=Ne-ge,_e=Ue-we,tt=ye.line&&ye.line.shape||"",at=tt.slice(tt.length-1);at==="h"&&(_e=0),at==="v"&&(Me=0),Ae+=ie(_e,Me)/Math.PI*180+90}else Ae=null}return ge=Ne,we=Ue,xe=Te.i,Fe=ye.uid,Ae}h.getMarkerAngle=ze},90998:function(H,U,e){var g=e(95616),P=e(39898).round,a="M0,0Z",L=Math.sqrt(2),T=Math.sqrt(3),v=Math.PI,d=Math.cos,t=Math.sin;H.exports={circle:{n:0,f:function(x,c,b){if(r(c))return a;var h=P(x,2),o="M"+h+",0A"+h+","+h+" 0 1,1 0,-"+h+"A"+h+","+h+" 0 0,1 "+h+",0Z";return b?l(c,b,o):o}},square:{n:1,f:function(x,c,b){if(r(c))return a;var h=P(x,2);return l(c,b,"M"+h+","+h+"H-"+h+"V-"+h+"H"+h+"Z")}},diamond:{n:2,f:function(x,c,b){if(r(c))return a;var h=P(x*1.3,2);return l(c,b,"M"+h+",0L0,"+h+"L-"+h+",0L0,-"+h+"Z")}},cross:{n:3,f:function(x,c,b){if(r(c))return a;var h=P(x*.4,2),o=P(x*1.2,2);return l(c,b,"M"+o+","+h+"H"+h+"V"+o+"H-"+h+"V"+h+"H-"+o+"V-"+h+"H-"+h+"V-"+o+"H"+h+"V-"+h+"H"+o+"Z")}},x:{n:4,f:function(x,c,b){if(r(c))return a;var h=P(x*.8/L,2),o="l"+h+","+h,p="l"+h+",-"+h,S="l-"+h+",-"+h,A="l-"+h+","+h;return l(c,b,"M0,"+h+o+p+S+p+S+A+S+A+o+A+o+"Z")}},"triangle-up":{n:5,f:function(x,c,b){if(r(c))return a;var h=P(x*2/T,2),o=P(x/2,2),p=P(x,2);return l(c,b,"M-"+h+","+o+"H"+h+"L0,-"+p+"Z")}},"triangle-down":{n:6,f:function(x,c,b){if(r(c))return a;var h=P(x*2/T,2),o=P(x/2,2),p=P(x,2);return l(c,b,"M-"+h+",-"+o+"H"+h+"L0,"+p+"Z")}},"triangle-left":{n:7,f:function(x,c,b){if(r(c))return a;var h=P(x*2/T,2),o=P(x/2,2),p=P(x,2);return l(c,b,"M"+o+",-"+h+"V"+h+"L-"+p+",0Z")}},"triangle-right":{n:8,f:function(x,c,b){if(r(c))return a;var h=P(x*2/T,2),o=P(x/2,2),p=P(x,2);return l(c,b,"M-"+o+",-"+h+"V"+h+"L"+p+",0Z")}},"triangle-ne":{n:9,f:function(x,c,b){if(r(c))return a;var h=P(x*.6,2),o=P(x*1.2,2);return l(c,b,"M-"+o+",-"+h+"H"+h+"V"+o+"Z")}},"triangle-se":{n:10,f:function(x,c,b){if(r(c))return a;var h=P(x*.6,2),o=P(x*1.2,2);return l(c,b,"M"+h+",-"+o+"V"+h+"H-"+o+"Z")}},"triangle-sw":{n:11,f:function(x,c,b){if(r(c))return a;var h=P(x*.6,2),o=P(x*1.2,2);return l(c,b,"M"+o+","+h+"H-"+h+"V-"+o+"Z")}},"triangle-nw":{n:12,f:function(x,c,b){if(r(c))return a;var h=P(x*.6,2),o=P(x*1.2,2);return l(c,b,"M-"+h+","+o+"V-"+h+"H"+o+"Z")}},pentagon:{n:13,f:function(x,c,b){if(r(c))return a;var h=P(x*.951,2),o=P(x*.588,2),p=P(-x,2),S=P(x*-.309,2),A=P(x*.809,2);return l(c,b,"M"+h+","+S+"L"+o+","+A+"H-"+o+"L-"+h+","+S+"L0,"+p+"Z")}},hexagon:{n:14,f:function(x,c,b){if(r(c))return a;var h=P(x,2),o=P(x/2,2),p=P(x*T/2,2);return l(c,b,"M"+p+",-"+o+"V"+o+"L0,"+h+"L-"+p+","+o+"V-"+o+"L0,-"+h+"Z")}},hexagon2:{n:15,f:function(x,c,b){if(r(c))return a;var h=P(x,2),o=P(x/2,2),p=P(x*T/2,2);return l(c,b,"M-"+o+","+p+"H"+o+"L"+h+",0L"+o+",-"+p+"H-"+o+"L-"+h+",0Z")}},octagon:{n:16,f:function(x,c,b){if(r(c))return a;var h=P(x*.924,2),o=P(x*.383,2);return l(c,b,"M-"+o+",-"+h+"H"+o+"L"+h+",-"+o+"V"+o+"L"+o+","+h+"H-"+o+"L-"+h+","+o+"V-"+o+"Z")}},star:{n:17,f:function(x,c,b){if(r(c))return a;var h=x*1.4,o=P(h*.225,2),p=P(h*.951,2),S=P(h*.363,2),A=P(h*.588,2),E=P(-h,2),m=P(h*-.309,2),M=P(h*.118,2),w=P(h*.809,2),i=P(h*.382,2);return l(c,b,"M"+o+","+m+"H"+p+"L"+S+","+M+"L"+A+","+w+"L0,"+i+"L-"+A+","+w+"L-"+S+","+M+"L-"+p+","+m+"H-"+o+"L0,"+E+"Z")}},hexagram:{n:18,f:function(x,c,b){if(r(c))return a;var h=P(x*.66,2),o=P(x*.38,2),p=P(x*.76,2);return l(c,b,"M-"+p+",0l-"+o+",-"+h+"h"+p+"l"+o+",-"+h+"l"+o+","+h+"h"+p+"l-"+o+","+h+"l"+o+","+h+"h-"+p+"l-"+o+","+h+"l-"+o+",-"+h+"h-"+p+"Z")}},"star-triangle-up":{n:19,f:function(x,c,b){if(r(c))return a;var h=P(x*T*.8,2),o=P(x*.8,2),p=P(x*1.6,2),S=P(x*4,2),A="A "+S+","+S+" 0 0 1 ";return l(c,b,"M-"+h+","+o+A+h+","+o+A+"0,-"+p+A+"-"+h+","+o+"Z")}},"star-triangle-down":{n:20,f:function(x,c,b){if(r(c))return a;var h=P(x*T*.8,2),o=P(x*.8,2),p=P(x*1.6,2),S=P(x*4,2),A="A "+S+","+S+" 0 0 1 ";return l(c,b,"M"+h+",-"+o+A+"-"+h+",-"+o+A+"0,"+p+A+h+",-"+o+"Z")}},"star-square":{n:21,f:function(x,c,b){if(r(c))return a;var h=P(x*1.1,2),o=P(x*2,2),p="A "+o+","+o+" 0 0 1 ";return l(c,b,"M-"+h+",-"+h+p+"-"+h+","+h+p+h+","+h+p+h+",-"+h+p+"-"+h+",-"+h+"Z")}},"star-diamond":{n:22,f:function(x,c,b){if(r(c))return a;var h=P(x*1.4,2),o=P(x*1.9,2),p="A "+o+","+o+" 0 0 1 ";return l(c,b,"M-"+h+",0"+p+"0,"+h+p+h+",0"+p+"0,-"+h+p+"-"+h+",0Z")}},"diamond-tall":{n:23,f:function(x,c,b){if(r(c))return a;var h=P(x*.7,2),o=P(x*1.4,2);return l(c,b,"M0,"+o+"L"+h+",0L0,-"+o+"L-"+h+",0Z")}},"diamond-wide":{n:24,f:function(x,c,b){if(r(c))return a;var h=P(x*1.4,2),o=P(x*.7,2);return l(c,b,"M0,"+o+"L"+h+",0L0,-"+o+"L-"+h+",0Z")}},hourglass:{n:25,f:function(x,c,b){if(r(c))return a;var h=P(x,2);return l(c,b,"M"+h+","+h+"H-"+h+"L"+h+",-"+h+"H-"+h+"Z")},noDot:!0},bowtie:{n:26,f:function(x,c,b){if(r(c))return a;var h=P(x,2);return l(c,b,"M"+h+","+h+"V-"+h+"L-"+h+","+h+"V-"+h+"Z")},noDot:!0},"circle-cross":{n:27,f:function(x,c,b){if(r(c))return a;var h=P(x,2);return l(c,b,"M0,"+h+"V-"+h+"M"+h+",0H-"+h+"M"+h+",0A"+h+","+h+" 0 1,1 0,-"+h+"A"+h+","+h+" 0 0,1 "+h+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(x,c,b){if(r(c))return a;var h=P(x,2),o=P(x/L,2);return l(c,b,"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o+"M"+h+",0A"+h+","+h+" 0 1,1 0,-"+h+"A"+h+","+h+" 0 0,1 "+h+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(x,c,b){if(r(c))return a;var h=P(x,2);return l(c,b,"M0,"+h+"V-"+h+"M"+h+",0H-"+h+"M"+h+","+h+"H-"+h+"V-"+h+"H"+h+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(x,c,b){if(r(c))return a;var h=P(x,2);return l(c,b,"M"+h+","+h+"L-"+h+",-"+h+"M"+h+",-"+h+"L-"+h+","+h+"M"+h+","+h+"H-"+h+"V-"+h+"H"+h+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(x,c,b){if(r(c))return a;var h=P(x*1.3,2);return l(c,b,"M"+h+",0L0,"+h+"L-"+h+",0L0,-"+h+"ZM0,-"+h+"V"+h+"M-"+h+",0H"+h)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(x,c,b){if(r(c))return a;var h=P(x*1.3,2),o=P(x*.65,2);return l(c,b,"M"+h+",0L0,"+h+"L-"+h+",0L0,-"+h+"ZM-"+o+",-"+o+"L"+o+","+o+"M-"+o+","+o+"L"+o+",-"+o)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(x,c,b){if(r(c))return a;var h=P(x*1.4,2);return l(c,b,"M0,"+h+"V-"+h+"M"+h+",0H-"+h)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(x,c,b){if(r(c))return a;var h=P(x,2);return l(c,b,"M"+h+","+h+"L-"+h+",-"+h+"M"+h+",-"+h+"L-"+h+","+h)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(x,c,b){if(r(c))return a;var h=P(x*1.2,2),o=P(x*.85,2);return l(c,b,"M0,"+h+"V-"+h+"M"+h+",0H-"+h+"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(x,c,b){if(r(c))return a;var h=P(x/2,2),o=P(x,2);return l(c,b,"M"+h+","+o+"V-"+o+"M"+(h-o)+",-"+o+"V"+o+"M"+o+","+h+"H-"+o+"M-"+o+","+(h-o)+"H"+o)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(x,c,b){if(r(c))return a;var h=P(x*1.2,2),o=P(x*1.6,2),p=P(x*.8,2);return l(c,b,"M-"+h+","+p+"L0,0M"+h+","+p+"L0,0M0,-"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(x,c,b){if(r(c))return a;var h=P(x*1.2,2),o=P(x*1.6,2),p=P(x*.8,2);return l(c,b,"M-"+h+",-"+p+"L0,0M"+h+",-"+p+"L0,0M0,"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(x,c,b){if(r(c))return a;var h=P(x*1.2,2),o=P(x*1.6,2),p=P(x*.8,2);return l(c,b,"M"+p+","+h+"L0,0M"+p+",-"+h+"L0,0M-"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(x,c,b){if(r(c))return a;var h=P(x*1.2,2),o=P(x*1.6,2),p=P(x*.8,2);return l(c,b,"M-"+p+","+h+"L0,0M-"+p+",-"+h+"L0,0M"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(x,c,b){if(r(c))return a;var h=P(x*1.4,2);return l(c,b,"M"+h+",0H-"+h)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(x,c,b){if(r(c))return a;var h=P(x*1.4,2);return l(c,b,"M0,"+h+"V-"+h)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(x,c,b){if(r(c))return a;var h=P(x,2);return l(c,b,"M"+h+",-"+h+"L-"+h+","+h)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(x,c,b){if(r(c))return a;var h=P(x,2);return l(c,b,"M"+h+","+h+"L-"+h+",-"+h)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(x,c,b){if(r(c))return a;var h=P(x,2),o=P(x*2,2);return l(c,b,"M0,0L-"+h+","+o+"H"+h+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(x,c,b){if(r(c))return a;var h=P(x,2),o=P(x*2,2);return l(c,b,"M0,0L-"+h+",-"+o+"H"+h+"Z")},noDot:!0},"arrow-left":{n:47,f:function(x,c,b){if(r(c))return a;var h=P(x*2,2),o=P(x,2);return l(c,b,"M0,0L"+h+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-right":{n:48,f:function(x,c,b){if(r(c))return a;var h=P(x*2,2),o=P(x,2);return l(c,b,"M0,0L-"+h+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(x,c,b){if(r(c))return a;var h=P(x,2),o=P(x*2,2);return l(c,b,"M-"+h+",0H"+h+"M0,0L-"+h+","+o+"H"+h+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(x,c,b){if(r(c))return a;var h=P(x,2),o=P(x*2,2);return l(c,b,"M-"+h+",0H"+h+"M0,0L-"+h+",-"+o+"H"+h+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(x,c,b){if(r(c))return a;var h=P(x*2,2),o=P(x,2);return l(c,b,"M0,-"+o+"V"+o+"M0,0L"+h+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(x,c,b){if(r(c))return a;var h=P(x*2,2),o=P(x,2);return l(c,b,"M0,-"+o+"V"+o+"M0,0L-"+h+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(x,c,b){if(r(c))return a;var h=v/2.5,o=2*x*d(h),p=2*x*t(h);return l(c,b,"M0,0L"+-o+","+p+"L"+o+","+p+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(x,c,b){if(r(c))return a;var h=v/4,o=2*x*d(h),p=2*x*t(h);return l(c,b,"M0,0L"+-o+","+p+"A "+2*x+","+2*x+" 0 0 1 "+o+","+p+"Z")},backoff:.4,noDot:!0}};function r(x){return x===null}var u,n,s,f;function l(x,c,b){if((!x||x%360===0)&&!c)return b;if(s===x&&f===c&&u===b)return n;s=x,f=c,u=b;function h(I,N){var k=d(I),O=t(I),z=N[0],F=N[1]+(c||0);return[z*k-F*O,z*O+F*k]}for(var o=x/180*v,p=0,S=0,A=g(b),E="",m=0;m<A.length;m++){var M=A[m],w=M[0],i=p,C=S;if(w==="M"||w==="L")p=+M[1],S=+M[2];else if(w==="m"||w==="l")p+=+M[1],S+=+M[2];else if(w==="H")p=+M[1];else if(w==="h")p+=+M[1];else if(w==="V")S=+M[1];else if(w==="v")S+=+M[1];else if(w==="A"){p=+M[1],S=+M[2];var y=h(o,[+M[6],+M[7]]);M[6]=y[0],M[7]=y[1],M[3]=+M[3]+x}(w==="H"||w==="V")&&(w="L"),(w==="h"||w==="v")&&(w="l"),(w==="m"||w==="l")&&(p-=i,S-=C);var _=h(o,[p,S]);(w==="H"||w==="V")&&(w="L"),(w==="M"||w==="L"||w==="m"||w==="l")&&(M[1]=_[0],M[2]=_[1]),M[0]=w,E+=M[0]+M.slice(1).join(",")}return n=E,E}},25673:function(H){H.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},84532:function(H,U,e){var g=e(92770),P=e(73972),a=e(89298),L=e(71828),T=e(45827);H.exports=function(t){for(var r=t.calcdata,u=0;u<r.length;u++){var n=r[u],s=n[0].trace;if(s.visible===!0&&P.traceIs(s,"errorBarsOK")){var f=a.getFromId(t,s.xaxis),l=a.getFromId(t,s.yaxis);v(n,s,f,"x"),v(n,s,l,"y")}}};function v(d,t,r,u){var n=t["error_"+u]||{},s=n.visible&&["linear","log"].indexOf(r.type)!==-1,f=[];if(s){for(var l=T(n),x=0;x<d.length;x++){var c=d[x],b=c.i;if(b===void 0)b=x;else if(b===null)continue;var h=c[u];if(g(r.c2l(h))){var o=l(h,b);if(g(o[0])&&g(o[1])){var p=c[u+"s"]=h-o[0],S=c[u+"h"]=h+o[1];f.push(p,S)}}}var A=r._id,E=t._extremes[A],m=a.findExtremes(r,f,L.extendFlat({tozero:E.opts.tozero},{padded:!0}));E.min=E.min.concat(m.min),E.max=E.max.concat(m.max)}}},45827:function(H){H.exports=function(g){var P=g.type,a=g.symmetric;if(P==="data"){var L=g.array||[];if(a)return function(r,u){var n=+L[u];return[n,n]};var T=g.arrayminus||[];return function(r,u){var n=+L[u],s=+T[u];return!isNaN(n)||!isNaN(s)?[s||0,n||0]:[NaN,NaN]}}else{var v=U(P,g.value),d=U(P,g.valueminus);return a||g.valueminus===void 0?function(r){var u=v(r);return[u,u]}:function(r){return[d(r),v(r)]}}};function U(e,g){if(e==="percent")return function(P){return Math.abs(P*g/100)};if(e==="constant")return function(){return Math.abs(g)};if(e==="sqrt")return function(P){return Math.sqrt(Math.abs(P))}}},97587:function(H,U,e){var g=e(92770),P=e(73972),a=e(71828),L=e(44467),T=e(25673);H.exports=function(v,d,t,r){var u="error_"+r.axis,n=L.newContainer(d,u),s=v[u]||{};function f(p,S){return a.coerce(s,n,T,p,S)}var l=s.array!==void 0||s.value!==void 0||s.type==="sqrt",x=f("visible",l);if(x!==!1){var c=f("type","array"in s?"data":"percent"),b=!0;c!=="sqrt"&&(b=f("symmetric",!((c==="data"?"arrayminus":"valueminus")in s))),c==="data"?(f("array"),f("traceref"),b||(f("arrayminus"),f("tracerefminus"))):(c==="percent"||c==="constant")&&(f("value"),b||f("valueminus"));var h="copy_"+r.inherit+"style";if(r.inherit){var o=d["error_"+r.inherit];(o||{}).visible&&f(h,!(s.color||g(s.thickness)||g(s.width)))}(!r.inherit||!n[h])&&(f("color",t),f("thickness"),f("width",P.traceIs(d,"gl3d")?0:4))}}},37369:function(H,U,e){var g=e(71828),P=e(30962).overrideAll,a=e(25673),L={error_x:g.extendFlat({},a),error_y:g.extendFlat({},a)};delete L.error_x.copy_zstyle,delete L.error_y.copy_zstyle,delete L.error_y.copy_ystyle;var T={error_x:g.extendFlat({},a),error_y:g.extendFlat({},a),error_z:g.extendFlat({},a)};delete T.error_x.copy_ystyle,delete T.error_y.copy_ystyle,delete T.error_z.copy_ystyle,delete T.error_z.copy_zstyle,H.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:L,bar:L,histogram:L,scatter3d:P(T,"calc","nested"),scattergl:P(L,"calc","nested")}},supplyDefaults:e(97587),calc:e(84532),makeComputeError:e(45827),plot:e(19398),style:e(62662),hoverInfo:v};function v(d,t,r){(t.error_y||{}).visible&&(r.yerr=d.yh-d.y,t.error_y.symmetric||(r.yerrneg=d.y-d.ys)),(t.error_x||{}).visible&&(r.xerr=d.xh-d.x,t.error_x.symmetric||(r.xerrneg=d.x-d.xs))}},19398:function(H,U,e){var g=e(39898),P=e(92770),a=e(91424),L=e(34098);H.exports=function(d,t,r,u){var n,s=r.xaxis,f=r.yaxis,l=u&&u.duration>0,x=d._context.staticPlot;t.each(function(c){var b=c[0].trace,h=b.error_x||{},o=b.error_y||{},p;b.ids&&(p=function(m){return m.id});var S=L.hasMarkers(b)&&b.marker.maxdisplayed>0;!o.visible&&!h.visible&&(c=[]);var A=g.select(this).selectAll("g.errorbar").data(c,p);if(A.exit().remove(),!!c.length){h.visible||A.selectAll("path.xerror").remove(),o.visible||A.selectAll("path.yerror").remove(),A.style("opacity",1);var E=A.enter().append("g").classed("errorbar",!0);l&&E.style("opacity",0).transition().duration(u.duration).style("opacity",1),a.setClipUrl(A,r.layerClipId,d),A.each(function(m){var M=g.select(this),w=T(m,s,f);if(!(S&&!m.vis)){var i,C=M.select("path.yerror");if(o.visible&&P(w.x)&&P(w.yh)&&P(w.ys)){var y=o.width;i="M"+(w.x-y)+","+w.yh+"h"+2*y+"m-"+y+",0V"+w.ys,w.noYS||(i+="m-"+y+",0h"+2*y),n=!C.size(),n?C=M.append("path").style("vector-effect",x?"none":"non-scaling-stroke").classed("yerror",!0):l&&(C=C.transition().duration(u.duration).ease(u.easing)),C.attr("d",i)}else C.remove();var _=M.select("path.xerror");if(h.visible&&P(w.y)&&P(w.xh)&&P(w.xs)){var I=(h.copy_ystyle?o:h).width;i="M"+w.xh+","+(w.y-I)+"v"+2*I+"m0,-"+I+"H"+w.xs,w.noXS||(i+="m0,-"+I+"v"+2*I),n=!_.size(),n?_=M.append("path").style("vector-effect",x?"none":"non-scaling-stroke").classed("xerror",!0):l&&(_=_.transition().duration(u.duration).ease(u.easing)),_.attr("d",i)}else _.remove()}})}})};function T(v,d,t){var r={x:d.c2p(v.x),y:t.c2p(v.y)};return v.yh!==void 0&&(r.yh=t.c2p(v.yh),r.ys=t.c2p(v.ys),P(r.ys)||(r.noYS=!0,r.ys=t.c2p(v.ys,!0))),v.xh!==void 0&&(r.xh=d.c2p(v.xh),r.xs=d.c2p(v.xs),P(r.xs)||(r.noXS=!0,r.xs=d.c2p(v.xs,!0))),r}},62662:function(H,U,e){var g=e(39898),P=e(7901);H.exports=function(L){L.each(function(T){var v=T[0].trace,d=v.error_y||{},t=v.error_x||{},r=g.select(this);r.selectAll("path.yerror").style("stroke-width",d.thickness+"px").call(P.stroke,d.color),t.copy_ystyle&&(t=d),r.selectAll("path.xerror").style("stroke-width",t.thickness+"px").call(P.stroke,t.color)})}},77914:function(H,U,e){var g=e(41940),P=e(528).hoverlabel,a=e(1426).extendFlat;H.exports={hoverlabel:{bgcolor:a({},P.bgcolor,{arrayOk:!0}),bordercolor:a({},P.bordercolor,{arrayOk:!0}),font:g({arrayOk:!0,editType:"none"}),align:a({},P.align,{arrayOk:!0}),namelength:a({},P.namelength,{arrayOk:!0}),editType:"none"}}},30732:function(H,U,e){var g=e(71828),P=e(73972);H.exports=function(T){var v=T.calcdata,d=T._fullLayout;function t(f){return function(l){return g.coerceHoverinfo({hoverinfo:l},{_module:f._module},d)}}for(var r=0;r<v.length;r++){var u=v[r],n=u[0].trace;if(!P.traceIs(n,"pie-like")){var s=P.traceIs(n,"2dMap")?a:g.fillArray;s(n.hoverinfo,u,"hi",t(n)),n.hovertemplate&&s(n.hovertemplate,u,"ht"),n.hoverlabel&&(s(n.hoverlabel.bgcolor,u,"hbg"),s(n.hoverlabel.bordercolor,u,"hbc"),s(n.hoverlabel.font.size,u,"hts"),s(n.hoverlabel.font.color,u,"htc"),s(n.hoverlabel.font.family,u,"htf"),s(n.hoverlabel.namelength,u,"hnl"),s(n.hoverlabel.align,u,"hta"))}}};function a(L,T,v,d){d=d||g.identity,Array.isArray(L)&&(T[0][v]=d(L))}},75914:function(H,U,e){var g=e(73972),P=e(88335).hover;H.exports=function(L,T,v){var d=g.getComponentMethod("annotations","onClick")(L,L._hoverdata);v!==void 0&&P(L,T,v,!0);function t(){L.emit("plotly_click",{points:L._hoverdata,event:T})}L._hoverdata&&T&&T.target&&(d&&d.then?d.then(t):t(),T.stopImmediatePropagation&&T.stopImmediatePropagation())}},26675:function(H){H.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},54268:function(H,U,e){var g=e(71828),P=e(77914),a=e(38048);H.exports=function(T,v,d,t){function r(n,s){return g.coerce(T,v,P,n,s)}var u=g.extendFlat({},t.hoverlabel);v.hovertemplate&&(u.namelength=-1),a(T,v,r,u)}},23469:function(H,U,e){var g=e(71828);U.getSubplot=function(d){return d.subplot||d.xaxis+d.yaxis||d.geo},U.isTraceInSubplots=function(d,t){if(d.type==="splom"){for(var r=d.xaxes||[],u=d.yaxes||[],n=0;n<r.length;n++)for(var s=0;s<u.length;s++)if(t.indexOf(r[n]+u[s])!==-1)return!0;return!1}return t.indexOf(U.getSubplot(d))!==-1},U.flat=function(d,t){for(var r=new Array(d.length),u=0;u<d.length;u++)r[u]=t;return r},U.p2c=function(d,t){for(var r=new Array(d.length),u=0;u<d.length;u++)r[u]=d[u].p2c(t);return r},U.getDistanceFunction=function(d,t,r,u){return d==="closest"?u||U.quadrature(t,r):d.charAt(0)==="x"?t:r},U.getClosest=function(d,t,r){if(r.index!==!1)r.index>=0&&r.index<d.length?r.distance=0:r.index=!1;else for(var u=0;u<d.length;u++){var n=t(d[u]);n<=r.distance&&(r.index=u,r.distance=n)}return r},U.inbox=function(d,t,r){return d*t<0||d===0?r:1/0},U.quadrature=function(d,t){return function(r){var u=d(r),n=t(r);return Math.sqrt(u*u+n*n)}},U.makeEventData=function(d,t,r){var u="index"in d?d.index:d.pointNumber,n={data:t._input,fullData:t,curveNumber:t.index,pointNumber:u};if(t._indexToPoints){var s=t._indexToPoints[u];s.length===1?n.pointIndex=s[0]:n.pointIndices=s}else n.pointIndex=u;return t._module.eventData?n=t._module.eventData(n,d,t,r,u):("xVal"in d?n.x=d.xVal:"x"in d&&(n.x=d.x),"yVal"in d?n.y=d.yVal:"y"in d&&(n.y=d.y),d.xa&&(n.xaxis=d.xa),d.ya&&(n.yaxis=d.ya),d.zLabelVal!==void 0&&(n.z=d.zLabelVal)),U.appendArrayPointValue(n,t,u),n},U.appendArrayPointValue=function(d,t,r){var u=t._arrayAttrs;if(u)for(var n=0;n<u.length;n++){var s=u[n],f=a(s);if(d[f]===void 0){var l=g.nestedProperty(t,s).get(),x=L(l,r);x!==void 0&&(d[f]=x)}}},U.appendArrayMultiPointValues=function(d,t,r){var u=t._arrayAttrs;if(u)for(var n=0;n<u.length;n++){var s=u[n],f=a(s);if(d[f]===void 0){for(var l=g.nestedProperty(t,s).get(),x=new Array(r.length),c=0;c<r.length;c++)x[c]=L(l,r[c]);d[f]=x}}};var P={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function a(d){return P[d]||d}function L(d,t){if(Array.isArray(t)){if(Array.isArray(d)&&Array.isArray(d[t[0]]))return d[t[0]][t[1]]}else return d[t]}var T={x:!0,y:!0},v={"x unified":!0,"y unified":!0};U.isUnifiedHover=function(d){return typeof d!="string"?!1:!!v[d]},U.isXYhover=function(d){return typeof d!="string"?!1:!!T[d]}},88335:function(H,U,e){var g=e(39898),P=e(92770),a=e(84267),L=e(71828),T=L.strTranslate,v=L.strRotate,d=e(11086),t=e(63893),r=e(39918),u=e(91424),n=e(7901),s=e(28569),f=e(89298),l=e(73972),x=e(23469),c=e(26675),b=e(99017),h=e(43969),o=c.YANGLE,p=Math.PI*o/180,S=1/Math.sin(p),A=Math.cos(p),E=Math.sin(p),m=c.HOVERARROWSIZE,M=c.HOVERTEXTPAD,w={box:!0,ohlc:!0,violin:!0,candlestick:!0},i={scatter:!0,scattergl:!0,splom:!0};U.hover=function(ie,J,j,se){ie=L.getGraphDiv(ie);var ne=J.target;L.throttle(ie._fullLayout._uid+c.HOVERID,c.HOVERMINTIME,function(){C(ie,J,j,se,ne)})},U.loneHover=function(ie,J){var j=!0;Array.isArray(ie)||(j=!1,ie=[ie]);var se=J.gd,ne=W(se),ue=Z(se),ge=ie.map(function(Ue){var Re=Ue._x0||Ue.x0||Ue.x||0,Ve=Ue._x1||Ue.x1||Ue.x||0,rt=Ue._y0||Ue.y0||Ue.y||0,Qe=Ue._y1||Ue.y1||Ue.y||0,Je=Ue.eventData;if(Je){var qe=Math.min(Re,Ve),dt=Math.max(Re,Ve),pt=Math.min(rt,Qe),mt=Math.max(rt,Qe),Ct=Ue.trace;if(l.traceIs(Ct,"gl3d")){var Rt=se._fullLayout[Ct.scene]._scene.container,Zt=Rt.offsetLeft,Xe=Rt.offsetTop;qe+=Zt,dt+=Zt,pt+=Xe,mt+=Xe}Je.bbox={x0:qe+ue,x1:dt+ue,y0:pt+ne,y1:mt+ne},J.inOut_bbox&&J.inOut_bbox.push(Je.bbox)}else Je=!1;return{color:Ue.color||n.defaultLine,x0:Ue.x0||Ue.x||0,x1:Ue.x1||Ue.x||0,y0:Ue.y0||Ue.y||0,y1:Ue.y1||Ue.y||0,xLabel:Ue.xLabel,yLabel:Ue.yLabel,zLabel:Ue.zLabel,text:Ue.text,name:Ue.name,idealAlign:Ue.idealAlign,borderColor:Ue.borderColor,fontFamily:Ue.fontFamily,fontSize:Ue.fontSize,fontColor:Ue.fontColor,nameLength:Ue.nameLength,textAlign:Ue.textAlign,trace:Ue.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Ue.hovertemplate||!1,hovertemplateLabels:Ue.hovertemplateLabels||!1,eventData:Je}}),we=!1,xe=I(ge,{gd:se,hovermode:"closest",rotateLabels:we,bgColor:J.bgColor||n.background,container:g.select(J.container),outerContainer:J.outerContainer||J.container}),Fe=xe.hoverLabels,ze=5,Te=0,ye=0;Fe.sort(function(Ue,Re){return Ue.y0-Re.y0}).each(function(Ue,Re){var Ve=Ue.y0-Ue.by/2;Ve-ze<Te?Ue.offset=Te-Ve+ze:Ue.offset=0,Te=Ve+Ue.by+Ue.offset,Re===J.anchorIndex&&(ye=Ue.offset)}).each(function(Ue){Ue.offset-=ye});var Ae=se._fullLayout._invScaleX,Ne=se._fullLayout._invScaleY;return F(Fe,we,Ae,Ne),j?Fe:Fe.node()};function C($,ie,J,j,se){J||(J="xy");var ne=Array.isArray(J)?J:[J],ue=$._fullLayout,ge=ue._plots||[],we=ge[J],xe=ue._has("cartesian");if(we){var Fe=we.overlays.map(function(Cr){return Cr.id});ne=ne.concat(Fe)}for(var ze=ne.length,Te=new Array(ze),ye=new Array(ze),Ae=!1,Ne=0;Ne<ze;Ne++){var Ue=ne[Ne];if(ge[Ue])Ae=!0,Te[Ne]=ge[Ue].xaxis,ye[Ne]=ge[Ue].yaxis;else if(ue[Ue]&&ue[Ue]._subplot){var Re=ue[Ue]._subplot;Te[Ne]=Re.xaxis,ye[Ne]=Re.yaxis}else{L.warn("Unrecognized subplot: "+Ue);return}}var Ve=ie.hovermode||ue.hovermode;if(Ve&&!Ae&&(Ve="closest"),["x","y","closest","x unified","y unified"].indexOf(Ve)===-1||!$.calcdata||$.querySelector(".zoombox")||$._dragging)return s.unhoverRaw($,ie);var rt=ue.hoverdistance;rt===-1&&(rt=1/0);var Qe=ue.spikedistance;Qe===-1&&(Qe=1/0);var Je=[],qe=[],dt,pt,mt,Ct,Rt,Zt,Xe,Le,Pe,ke,Ce,me,oe,pe={hLinePoint:null,vLinePoint:null},Me=!1;if(Array.isArray(ie))for(Ve="array",mt=0;mt<ie.length;mt++)Rt=$.calcdata[ie[mt].curveNumber||0],Rt&&(Zt=Rt[0].trace,Rt[0].trace.hoverinfo!=="skip"&&(qe.push(Rt),Zt.orientation==="h"&&(Me=!0)));else{for(Ct=0;Ct<$.calcdata.length;Ct++)Rt=$.calcdata[Ct],Zt=Rt[0].trace,Zt.hoverinfo!=="skip"&&x.isTraceInSubplots(Zt,ne)&&(qe.push(Rt),Zt.orientation==="h"&&(Me=!0));var _e=!se,tt,at;if(_e)"xpx"in ie?tt=ie.xpx:tt=Te[0]._length/2,"ypx"in ie?at=ie.ypx:at=ye[0]._length/2;else{if(d.triggerHandler($,"plotly_beforehover",ie)===!1)return;var At=se.getBoundingClientRect();tt=ie.clientX-At.left,at=ie.clientY-At.top,ue._calcInverseTransform($);var Ft=L.apply3DTransform(ue._invTransform)(tt,at);if(tt=Ft[0],at=Ft[1],tt<0||tt>Te[0]._length||at<0||at>ye[0]._length)return s.unhoverRaw($,ie)}if(ie.pointerX=tt+Te[0]._offset,ie.pointerY=at+ye[0]._offset,"xval"in ie?dt=x.flat(ne,ie.xval):dt=x.p2c(Te,tt),"yval"in ie?pt=x.flat(ne,ie.yval):pt=x.p2c(ye,at),!P(dt[0])||!P(pt[0]))return L.warn("Fx.hover failed",ie,$),s.unhoverRaw($,ie)}var Gt=1/0;function Yt(Cr,Yr){for(Ct=0;Ct<qe.length;Ct++)if(Rt=qe[Ct],!(!Rt||!Rt[0]||!Rt[0].trace)&&(Zt=Rt[0].trace,!(Zt.visible!==!0||Zt._length===0)&&["carpet","contourcarpet"].indexOf(Zt._module.name)===-1)){if(Zt.type==="splom"?(Le=0,Xe=ne[Le]):(Xe=x.getSubplot(Zt),Le=ne.indexOf(Xe)),Pe=Ve,x.isUnifiedHover(Pe)&&(Pe=Pe.charAt(0)),me={cd:Rt,trace:Zt,xa:Te[Le],ya:ye[Le],maxHoverDistance:rt,maxSpikeDistance:Qe,index:!1,distance:Math.min(Gt,rt),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:n.defaultLine,name:Zt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},ue[Xe]&&(me.subplot=ue[Xe]._subplot),ue._splomScenes&&ue._splomScenes[Zt.uid]&&(me.scene=ue._splomScenes[Zt.uid]),oe=Je.length,Pe==="array"){var Zr=ie[Ct];"pointNumber"in Zr?(me.index=Zr.pointNumber,Pe="closest"):(Pe="","xval"in Zr&&(ke=Zr.xval,Pe="x"),"yval"in Zr&&(Ce=Zr.yval,Pe=Pe?"closest":"y"))}else Cr!==void 0&&Yr!==void 0?(ke=Cr,Ce=Yr):(ke=dt[Le],Ce=pt[Le]);if(rt!==0)if(Zt._module&&Zt._module.hoverPoints){var un=Zt._module.hoverPoints(me,ke,Ce,Pe,{finiteRange:!0,hoverLayer:ue._hoverlayer});if(un)for(var mn,pn=0;pn<un.length;pn++)mn=un[pn],P(mn.x0)&&P(mn.y0)&&Je.push(B(mn,Ve))}else L.log("Unrecognized trace type in hover:",Zt);if(Ve==="closest"&&Je.length>oe&&(Je.splice(0,oe),Gt=Je[0].distance),xe&&Qe!==0&&Je.length===0){me.distance=Qe,me.index=!1;var Rn=Zt._module.hoverPoints(me,ke,Ce,"closest",{hoverLayer:ue._hoverlayer});if(Rn&&(Rn=Rn.filter(function(ca){return ca.spikeDistance<=Qe})),Rn&&Rn.length){var Un,oa=Rn.filter(function(ca){return ca.xa.showspikes&&ca.xa.spikesnap!=="hovered data"});if(oa.length){var ua=oa[0];P(ua.x0)&&P(ua.y0)&&(Un=$t(ua),(!pe.vLinePoint||pe.vLinePoint.spikeDistance>Un.spikeDistance)&&(pe.vLinePoint=Un))}var xa=Rn.filter(function(ca){return ca.ya.showspikes&&ca.ya.spikesnap!=="hovered data"});if(xa.length){var va=xa[0];P(va.x0)&&P(va.y0)&&(Un=$t(va),(!pe.hLinePoint||pe.hLinePoint.spikeDistance>Un.spikeDistance)&&(pe.hLinePoint=Un))}}}}}Yt();function Dt(Cr,Yr,Zr){for(var un=null,mn=1/0,pn,Rn=0;Rn<Cr.length;Rn++)pn=Cr[Rn].spikeDistance,Zr&&Rn===0&&(pn=-1/0),pn<=mn&&pn<=Yr&&(un=Cr[Rn],mn=pn);return un}function $t(Cr){return Cr?{xa:Cr.xa,ya:Cr.ya,x:Cr.xSpike!==void 0?Cr.xSpike:(Cr.x0+Cr.x1)/2,y:Cr.ySpike!==void 0?Cr.ySpike:(Cr.y0+Cr.y1)/2,distance:Cr.distance,spikeDistance:Cr.spikeDistance,curveNumber:Cr.trace.index,color:Cr.color,pointNumber:Cr.index}:null}var lr={fullLayout:ue,container:ue._hoverlayer,event:ie},Hr=$._spikepoints,xt={vLinePoint:pe.vLinePoint,hLinePoint:pe.hLinePoint};$._spikepoints=xt;var Qt=function(){Je.sort(function(Cr,Yr){return Cr.distance-Yr.distance}),Je=fe(Je,Ve)};Qt();var jt=Ve.charAt(0),Sr=(jt==="x"||jt==="y")&&Je[0]&&i[Je[0].trace.type];if(xe&&Qe!==0&&Je.length!==0){var gr=Je.filter(function(Cr){return Cr.ya.showspikes}),ut=Dt(gr,Qe,Sr);pe.hLinePoint=$t(ut);var st=Je.filter(function(Cr){return Cr.xa.showspikes}),bt=Dt(st,Qe,Sr);pe.vLinePoint=$t(bt)}if(Je.length===0){var St=s.unhoverRaw($,ie);return xe&&(pe.hLinePoint!==null||pe.vLinePoint!==null)&&ee(Hr)&&G($,pe,lr),St}if(xe&&ee(Hr)&&G($,pe,lr),x.isXYhover(Pe)&&Je[0].length!==0&&Je[0].trace.type!=="splom"){var Pt=Je[0];w[Pt.trace.type]?Je=Je.filter(function(Cr){return Cr.trace.index===Pt.trace.index}):Je=[Pt];var Et=Je.length,Bt=K("x",Pt,ue),Wt=K("y",Pt,ue);Yt(Bt,Wt);var tr=[],er={},ur=0,kr=function(Cr){var Yr=w[Cr.trace.type]?y(Cr):Cr.trace.index;if(!er[Yr])ur++,er[Yr]=ur,tr.push(Cr);else{var Zr=er[Yr]-1,un=tr[Zr];Zr>0&&Math.abs(Cr.distance)<Math.abs(un.distance)&&(tr[Zr]=Cr)}},We;for(We=0;We<Et;We++)kr(Je[We]);for(We=Je.length-1;We>Et-1;We--)kr(Je[We]);Je=tr,Qt()}var Ge=$._hoverdata,_t=[],Ot=W($),Kt=Z($);for(mt=0;mt<Je.length;mt++){var or=Je[mt],hr=x.makeEventData(or,or.trace,or.cd);if(or.hovertemplate!==!1){var ir=!1;or.cd[or.index]&&or.cd[or.index].ht&&(ir=or.cd[or.index].ht),or.hovertemplate=ir||or.trace.hovertemplate||!1}if(or.xa&&or.ya){var Nt=or.x0+or.xa._offset,vr=or.x1+or.xa._offset,mr=or.y0+or.ya._offset,xr=or.y1+or.ya._offset,yr=Math.min(Nt,vr),Kr=Math.max(Nt,vr),Nr=Math.min(mr,xr),Ur=Math.max(mr,xr);hr.bbox={x0:yr+Kt,x1:Kr+Kt,y0:Nr+Ot,y1:Ur+Ot}}or.eventData=[hr],_t.push(hr)}$._hoverdata=_t;var Tn=Ve==="y"&&(qe.length>1||Je.length>1)||Ve==="closest"&&Me&&Je.length>1,rn=n.combine(ue.plot_bgcolor||n.background,ue.paper_bgcolor),Gn=I(Je,{gd:$,hovermode:Ve,rotateLabels:Tn,bgColor:rn,container:ue._hoverlayer,outerContainer:ue._paper.node(),commonLabelOpts:ue.hoverlabel,hoverdistance:ue.hoverdistance}),Hn=Gn.hoverLabels;if(x.isUnifiedHover(Ve)||(k(Hn,Tn,ue,Gn.commonLabelBoundingBox),F(Hn,Tn,ue._invScaleX,ue._invScaleY)),se&&se.tagName){var Ar=l.getComponentMethod("annotations","hasClickToShow")($,_t);r(g.select(se),Ar?"pointer":"")}!se||j||!Q($,ie,Ge)||(Ge&&$.emit("plotly_unhover",{event:ie,points:Ge}),$.emit("plotly_hover",{event:ie,points:$._hoverdata,xaxes:Te,yaxes:ye,xvals:dt,yvals:pt}))}function y($){return[$.trace.index,$.index,$.x0,$.y0,$.name,$.attr,$.xa?$.xa._id:"",$.ya?$.ya._id:""].join(",")}var _=/<extra>([\s\S]*)<\/extra>/;function I($,ie){var J=ie.gd,j=J._fullLayout,se=ie.hovermode,ne=ie.rotateLabels,ue=ie.bgColor,ge=ie.container,we=ie.outerContainer,xe=ie.commonLabelOpts||{};if($.length===0)return[[]];var Fe=ie.fontFamily||c.HOVERFONT,ze=ie.fontSize||c.HOVERFONTSIZE,Te=$[0],ye=Te.xa,Ae=Te.ya,Ne=se.charAt(0),Ue=Ne+"Label",Re=Te[Ue];if(Re===void 0&&ye.type==="multicategory")for(var Ve=0;Ve<$.length&&(Re=$[Ve][Ue],Re===void 0);Ve++);var rt=X(J,we),Qe=rt.top,Je=rt.width,qe=rt.height,dt=Re!==void 0&&Te.distance<=ie.hoverdistance&&(se==="x"||se==="y");if(dt){var pt=!0,mt,Ct;for(mt=0;mt<$.length;mt++)if(pt&&$[mt].zLabel===void 0&&(pt=!1),Ct=$[mt].hoverinfo||$[mt].trace.hoverinfo,Ct){var Rt=Array.isArray(Ct)?Ct:Ct.split("+");if(Rt.indexOf("all")===-1&&Rt.indexOf(se)===-1){dt=!1;break}}pt&&(dt=!1)}var Zt=ge.selectAll("g.axistext").data(dt?[0]:[]);Zt.enter().append("g").classed("axistext",!0),Zt.exit().remove();var Xe={minX:0,maxX:0,minY:0,maxY:0};if(Zt.each(function(){var Et=g.select(this),Bt=L.ensureSingle(Et,"path","",function(Nr){Nr.style({"stroke-width":"1px"})}),Wt=L.ensureSingle(Et,"text","",function(Nr){Nr.attr("data-notex",1)}),tr=xe.bgcolor||n.defaultLine,er=xe.bordercolor||n.contrast(tr),ur=n.contrast(tr),kr={family:xe.font.family||Fe,size:xe.font.size||ze,color:xe.font.color||ur};Bt.style({fill:tr,stroke:er}),Wt.text(Re).call(u.font,kr).call(t.positionText,0,0).call(t.convertToTspans,J),Et.attr("transform","");var We=X(J,Wt.node()),Ge,_t;if(se==="x"){var Ot=ye.side==="top"?"-":"";Wt.attr("text-anchor","middle").call(t.positionText,0,ye.side==="top"?Qe-We.bottom-m-M:Qe-We.top+m+M),Ge=ye._offset+(Te.x0+Te.x1)/2,_t=Ae._offset+(ye.side==="top"?0:Ae._length);var Kt=We.width/2+M;Ge<Kt?(Ge=Kt,Bt.attr("d","M-"+(Kt-m)+",0L-"+(Kt-m*2)+","+Ot+m+"H"+Kt+"v"+Ot+(M*2+We.height)+"H-"+Kt+"V"+Ot+m+"Z")):Ge>j.width-Kt?(Ge=j.width-Kt,Bt.attr("d","M"+(Kt-m)+",0L"+Kt+","+Ot+m+"v"+Ot+(M*2+We.height)+"H-"+Kt+"V"+Ot+m+"H"+(Kt-m*2)+"Z")):Bt.attr("d","M0,0L"+m+","+Ot+m+"H"+Kt+"v"+Ot+(M*2+We.height)+"H-"+Kt+"V"+Ot+m+"H-"+m+"Z"),Xe.minX=Ge-Kt,Xe.maxX=Ge+Kt,ye.side==="top"?(Xe.minY=_t-(M*2+We.height),Xe.maxY=_t-M):(Xe.minY=_t+M,Xe.maxY=_t+(M*2+We.height))}else{var or,hr,ir;Ae.side==="right"?(or="start",hr=1,ir="",Ge=ye._offset+ye._length):(or="end",hr=-1,ir="-",Ge=ye._offset),_t=Ae._offset+(Te.y0+Te.y1)/2,Wt.attr("text-anchor",or),Bt.attr("d","M0,0L"+ir+m+","+m+"V"+(M+We.height/2)+"h"+ir+(M*2+We.width)+"V-"+(M+We.height/2)+"H"+ir+m+"V-"+m+"Z"),Xe.minY=_t-(M+We.height/2),Xe.maxY=_t+(M+We.height/2),Ae.side==="right"?(Xe.minX=Ge+m,Xe.maxX=Ge+m+(M*2+We.width)):(Xe.minX=Ge-m-(M*2+We.width),Xe.maxX=Ge-m);var Nt=We.height/2,vr=Qe-We.top-Nt,mr="clip"+j._uid+"commonlabel"+Ae._id,xr;if(Ge<We.width+2*M+m){xr="M-"+(m+M)+"-"+Nt+"h-"+(We.width-M)+"V"+Nt+"h"+(We.width-M)+"Z";var yr=We.width-Ge+M;t.positionText(Wt,yr,vr),or==="end"&&Wt.selectAll("tspan").each(function(){var Nr=g.select(this),Ur=u.tester.append("text").text(Nr.text()).call(u.font,kr),Tn=X(J,Ur.node());Math.round(Tn.width)<Math.round(We.width)&&Nr.attr("x",yr-Tn.width),Ur.remove()})}else t.positionText(Wt,hr*(M+m),vr),xr=null;var Kr=j._topclips.selectAll("#"+mr).data(xr?[0]:[]);Kr.enter().append("clipPath").attr("id",mr).append("path"),Kr.exit().remove(),Kr.select("path").attr("d",xr),u.setClipUrl(Wt,xr?mr:null,J)}Et.attr("transform",T(Ge,_t))}),x.isUnifiedHover(se)){ge.selectAll("g.hovertext").remove();var Le=$.filter(function(Et){return Et.hoverinfo!=="none"});if(Le.length===0)return[];var Pe=j.hoverlabel,ke=Pe.font,Ce={showlegend:!0,legend:{title:{text:Re,font:ke},font:ke,bgcolor:Pe.bgcolor,bordercolor:Pe.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:j.legend?j.legend.traceorder:void 0,orientation:"v"}},me={font:ke};b(Ce,me,J._fullData);var oe=me.legend;oe.entries=[];for(var pe=0;pe<Le.length;pe++){var Me=Le[pe];if(Me.hoverinfo!=="none"){var _e=N(Me,!0,se,j,Re),tt=_e[0],at=_e[1];Me.name=at,at!==""?Me.text=at+" : "+tt:Me.text=tt;var At=Me.cd[Me.index];At&&(At.mc&&(Me.mc=At.mc),At.mcc&&(Me.mc=At.mcc),At.mlc&&(Me.mlc=At.mlc),At.mlcc&&(Me.mlc=At.mlcc),At.mlw&&(Me.mlw=At.mlw),At.mrc&&(Me.mrc=At.mrc),At.dir&&(Me.dir=At.dir)),Me._distinct=!0,oe.entries.push([Me])}}oe.entries.sort(function(Et,Bt){return Et[0].trace.index-Bt[0].trace.index}),oe.layer=ge,oe._inHover=!0,oe._groupTitleFont=Pe.grouptitlefont,h(J,oe);var Ft=ge.select("g.legend"),Gt=X(J,Ft.node()),Yt=Gt.width+2*M,Dt=Gt.height+2*M,$t=Le[0],lr=($t.x0+$t.x1)/2,Hr=($t.y0+$t.y1)/2,xt=!(l.traceIs($t.trace,"bar-like")||l.traceIs($t.trace,"box-violin")),Qt,jt;Ne==="y"?xt?(jt=Hr-M,Qt=Hr+M):(jt=Math.min.apply(null,Le.map(function(Et){return Math.min(Et.y0,Et.y1)})),Qt=Math.max.apply(null,Le.map(function(Et){return Math.max(Et.y0,Et.y1)}))):jt=Qt=L.mean(Le.map(function(Et){return(Et.y0+Et.y1)/2}))-Dt/2;var Sr,gr;Ne==="x"?xt?(Sr=lr+M,gr=lr-M):(Sr=Math.max.apply(null,Le.map(function(Et){return Math.max(Et.x0,Et.x1)})),gr=Math.min.apply(null,Le.map(function(Et){return Math.min(Et.x0,Et.x1)}))):Sr=gr=L.mean(Le.map(function(Et){return(Et.x0+Et.x1)/2}))-Yt/2;var ut=ye._offset,st=Ae._offset;Qt+=st,Sr+=ut,gr+=ut-Yt,jt+=st-Dt;var bt,St;return Sr+Yt<Je&&Sr>=0?bt=Sr:gr+Yt<Je&&gr>=0?bt=gr:ut+Yt<Je?bt=ut:Sr-lr<lr-gr+Yt?bt=Je-Yt:bt=0,bt+=M,Qt+Dt<qe&&Qt>=0?St=Qt:jt+Dt<qe&&jt>=0?St=jt:st+Dt<qe?St=st:Qt-Hr<Hr-jt+Dt?St=qe-Dt:St=0,St+=M,Ft.attr("transform",T(bt-1,St-1)),Ft}var Pt=ge.selectAll("g.hovertext").data($,function(Et){return y(Et)});return Pt.enter().append("g").classed("hovertext",!0).each(function(){var Et=g.select(this);Et.append("rect").call(n.fill,n.addOpacity(ue,.8)),Et.append("text").classed("name",!0),Et.append("path").style("stroke-width","1px"),Et.append("text").classed("nums",!0).call(u.font,Fe,ze)}),Pt.exit().remove(),Pt.each(function(Et){var Bt=g.select(this).attr("transform",""),Wt=Et.color;Array.isArray(Wt)&&(Wt=Wt[Et.eventData[0].pointNumber]);var tr=Et.bgcolor||Wt,er=n.combine(n.opacity(tr)?tr:n.defaultLine,ue),ur=n.combine(n.opacity(Wt)?Wt:n.defaultLine,ue),kr=Et.borderColor||n.contrast(er),We=N(Et,dt,se,j,Re,Bt),Ge=We[0],_t=We[1],Ot=Bt.select("text.nums").call(u.font,Et.fontFamily||Fe,Et.fontSize||ze,Et.fontColor||kr).text(Ge).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,J),Kt=Bt.select("text.name"),or=0,hr=0;if(_t&&_t!==Ge){Kt.call(u.font,Et.fontFamily||Fe,Et.fontSize||ze,ur).text(_t).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,J);var ir=X(J,Kt.node());or=ir.width+2*M,hr=ir.height+2*M}else Kt.remove(),Bt.select("rect").remove();Bt.select("path").style({fill:er,stroke:kr});var Nt=Et.xa._offset+(Et.x0+Et.x1)/2,vr=Et.ya._offset+(Et.y0+Et.y1)/2,mr=Math.abs(Et.x1-Et.x0),xr=Math.abs(Et.y1-Et.y0),yr=X(J,Ot.node()),Kr=yr.width/j._invScaleX,Nr=yr.height/j._invScaleY;Et.ty0=(Qe-yr.top)/j._invScaleY,Et.bx=Kr+2*M,Et.by=Math.max(Nr+2*M,hr),Et.anchor="start",Et.txwidth=Kr,Et.tx2width=or,Et.offset=0;var Ur=(Kr+m+M+or)*j._invScaleX,Tn,rn;if(ne)Et.pos=Nt,Tn=vr+xr/2+Ur<=qe,rn=vr-xr/2-Ur>=0,(Et.idealAlign==="top"||!Tn)&&rn?(vr-=xr/2,Et.anchor="end"):Tn?(vr+=xr/2,Et.anchor="start"):Et.anchor="middle",Et.crossPos=vr;else{if(Et.pos=vr,Tn=Nt+mr/2+Ur<=Je,rn=Nt-mr/2-Ur>=0,(Et.idealAlign==="left"||!Tn)&&rn)Nt-=mr/2,Et.anchor="end";else if(Tn)Nt+=mr/2,Et.anchor="start";else{Et.anchor="middle";var Gn=Ur/2,Hn=Nt+Gn-Je,Ar=Nt-Gn;Hn>0&&(Nt-=Hn),Ar<0&&(Nt+=-Ar)}Et.crossPos=Nt}Ot.attr("text-anchor",Et.anchor),or&&Kt.attr("text-anchor",Et.anchor),Bt.attr("transform",T(Nt,vr)+(ne?v(o):""))}),{hoverLabels:Pt,commonLabelBoundingBox:Xe}}function N($,ie,J,j,se,ne){var ue="",ge="";$.nameOverride!==void 0&&($.name=$.nameOverride),$.name&&($.trace._meta&&($.name=L.templateString($.name,$.trace._meta)),ue=ae($.name,$.nameLength));var we=J.charAt(0),xe=we==="x"?"y":"x";$.zLabel!==void 0?($.xLabel!==void 0&&(ge+="x: "+$.xLabel+"<br>"),$.yLabel!==void 0&&(ge+="y: "+$.yLabel+"<br>"),$.trace.type!=="choropleth"&&$.trace.type!=="choroplethmapbox"&&(ge+=(ge?"z: ":"")+$.zLabel)):ie&&$[we+"Label"]===se?ge=$[xe+"Label"]||"":$.xLabel===void 0?$.yLabel!==void 0&&$.trace.type!=="scattercarpet"&&(ge=$.yLabel):$.yLabel===void 0?ge=$.xLabel:ge="("+$.xLabel+", "+$.yLabel+")",($.text||$.text===0)&&!Array.isArray($.text)&&(ge+=(ge?"<br>":"")+$.text),$.extraText!==void 0&&(ge+=(ge?"<br>":"")+$.extraText),ne&&ge===""&&!$.hovertemplate&&(ue===""&&ne.remove(),ge=ue);var Fe=$.hovertemplate||!1;if(Fe){var ze=$.hovertemplateLabels||$;$[we+"Label"]!==se&&(ze[we+"other"]=ze[we+"Val"],ze[we+"otherLabel"]=ze[we+"Label"]),ge=L.hovertemplateString(Fe,ze,j._d3locale,$.eventData[0]||{},$.trace._meta),ge=ge.replace(_,function(Te,ye){return ue=ae(ye,$.nameLength),""})}return[ge,ue]}function k($,ie,J,j){var se=ie?"xa":"ya",ne=ie?"ya":"xa",ue=0,ge=1,we=$.size(),xe=new Array(we),Fe=0,ze=j.minX,Te=j.maxX,ye=j.minY,Ae=j.maxY,Ne=function(ke){return ke*J._invScaleX},Ue=function(ke){return ke*J._invScaleY};$.each(function(ke){var Ce=ke[se],me=ke[ne],oe=Ce._id.charAt(0)==="x",pe=Ce.range;Fe===0&&pe&&pe[0]>pe[1]!==oe&&(ge=-1);var Me=0,_e=oe?J.width:J.height;if(J.hovermode==="x"||J.hovermode==="y"){var tt=O(ke,ie),at=ke.anchor,At=at==="end"?-1:1,Ft,Gt;if(at==="middle")Ft=ke.crossPos+(oe?Ue(tt.y-ke.by/2):Ne(ke.bx/2+ke.tx2width/2)),Gt=Ft+(oe?Ue(ke.by):Ne(ke.bx));else if(oe)Ft=ke.crossPos+Ue(m+tt.y)-Ue(ke.by/2-m),Gt=Ft+Ue(ke.by);else{var Yt=Ne(At*m+tt.x),Dt=Yt+Ne(At*ke.bx);Ft=ke.crossPos+Math.min(Yt,Dt),Gt=ke.crossPos+Math.max(Yt,Dt)}oe?ye!==void 0&&Ae!==void 0&&Math.min(Gt,Ae)-Math.max(Ft,ye)>1&&(me.side==="left"?(Me=me._mainLinePosition,_e=J.width):_e=me._mainLinePosition):ze!==void 0&&Te!==void 0&&Math.min(Gt,Te)-Math.max(Ft,ze)>1&&(me.side==="top"?(Me=me._mainLinePosition,_e=J.height):_e=me._mainLinePosition)}xe[Fe++]=[{datum:ke,traceIndex:ke.trace.index,dp:0,pos:ke.pos,posref:ke.posref,size:ke.by*(oe?S:1)/2,pmin:Me,pmax:_e}]}),xe.sort(function(ke,Ce){return ke[0].posref-Ce[0].posref||ge*(Ce[0].traceIndex-ke[0].traceIndex)});var Re,Ve,rt,Qe,Je,qe,dt;function pt(ke){var Ce=ke[0],me=ke[ke.length-1];if(Ve=Ce.pmin-Ce.pos-Ce.dp+Ce.size,rt=me.pos+me.dp+me.size-Ce.pmax,Ve>.01){for(Je=ke.length-1;Je>=0;Je--)ke[Je].dp+=Ve;Re=!1}if(!(rt<.01)){if(Ve<-.01){for(Je=ke.length-1;Je>=0;Je--)ke[Je].dp-=rt;Re=!1}if(Re){var oe=0;for(Qe=0;Qe<ke.length;Qe++)qe=ke[Qe],qe.pos+qe.dp+qe.size>Ce.pmax&&oe++;for(Qe=ke.length-1;Qe>=0&&!(oe<=0);Qe--)qe=ke[Qe],qe.pos>Ce.pmax-1&&(qe.del=!0,oe--);for(Qe=0;Qe<ke.length&&!(oe<=0);Qe++)if(qe=ke[Qe],qe.pos<Ce.pmin+1)for(qe.del=!0,oe--,rt=qe.size*2,Je=ke.length-1;Je>=0;Je--)ke[Je].dp-=rt;for(Qe=ke.length-1;Qe>=0&&!(oe<=0);Qe--)qe=ke[Qe],qe.pos+qe.dp+qe.size>Ce.pmax&&(qe.del=!0,oe--)}}}for(;!Re&&ue<=we;){for(ue++,Re=!0,Qe=0;Qe<xe.length-1;){var mt=xe[Qe],Ct=xe[Qe+1],Rt=mt[mt.length-1],Zt=Ct[0];if(Ve=Rt.pos+Rt.dp+Rt.size-Zt.pos-Zt.dp+Zt.size,Ve>.01&&Rt.pmin===Zt.pmin&&Rt.pmax===Zt.pmax){for(Je=Ct.length-1;Je>=0;Je--)Ct[Je].dp+=Ve;for(mt.push.apply(mt,Ct),xe.splice(Qe+1,1),dt=0,Je=mt.length-1;Je>=0;Je--)dt+=mt[Je].dp;for(rt=dt/mt.length,Je=mt.length-1;Je>=0;Je--)mt[Je].dp-=rt;Re=!1}else Qe++}xe.forEach(pt)}for(Qe=xe.length-1;Qe>=0;Qe--){var Xe=xe[Qe];for(Je=Xe.length-1;Je>=0;Je--){var Le=Xe[Je],Pe=Le.datum;Pe.offset=Le.dp,Pe.del=Le.del}}}function O($,ie){var J=0,j=$.offset;return ie&&(j*=-E,J=$.offset*A),{x:J,y:j}}function z($){var ie={start:1,end:-1,middle:0}[$.anchor],J=ie*(m+M),j=J+ie*($.txwidth+M),se=$.anchor==="middle";return se&&(J-=$.tx2width/2,j+=$.txwidth/2+M),{alignShift:ie,textShiftX:J,text2ShiftX:j}}function F($,ie,J,j){var se=function(ue){return ue*J},ne=function(ue){return ue*j};$.each(function(ue){var ge=g.select(this);if(ue.del)return ge.remove();var we=ge.select("text.nums"),xe=ue.anchor,Fe=xe==="end"?-1:1,ze=z(ue),Te=O(ue,ie),ye=Te.x,Ae=Te.y,Ne=xe==="middle";ge.select("path").attr("d",Ne?"M-"+se(ue.bx/2+ue.tx2width/2)+","+ne(Ae-ue.by/2)+"h"+se(ue.bx)+"v"+ne(ue.by)+"h-"+se(ue.bx)+"Z":"M0,0L"+se(Fe*m+ye)+","+ne(m+Ae)+"v"+ne(ue.by/2-m)+"h"+se(Fe*ue.bx)+"v-"+ne(ue.by)+"H"+se(Fe*m+ye)+"V"+ne(Ae-m)+"Z");var Ue=ye+ze.textShiftX,Re=Ae+ue.ty0-ue.by/2+M,Ve=ue.textAlign||"auto";Ve!=="auto"&&(Ve==="left"&&xe!=="start"?(we.attr("text-anchor","start"),Ue=Ne?-ue.bx/2-ue.tx2width/2+M:-ue.bx-M):Ve==="right"&&xe!=="end"&&(we.attr("text-anchor","end"),Ue=Ne?ue.bx/2-ue.tx2width/2-M:ue.bx+M)),we.call(t.positionText,se(Ue),ne(Re)),ue.tx2width&&(ge.select("text.name").call(t.positionText,se(ze.text2ShiftX+ze.alignShift*M+ye),ne(Ae+ue.ty0-ue.by/2+M)),ge.select("rect").call(u.setRect,se(ze.text2ShiftX+(ze.alignShift-1)*ue.tx2width/2+ye),ne(Ae-ue.by/2-1),se(ue.tx2width),ne(ue.by+2)))})}function B($,ie){var J=$.index,j=$.trace||{},se=$.cd[0],ne=$.cd[J]||{};function ue(Te){return Te||P(Te)&&Te===0}var ge=Array.isArray(J)?function(Te,ye){var Ae=L.castOption(se,J,Te);return ue(Ae)?Ae:L.extractOption({},j,"",ye)}:function(Te,ye){return L.extractOption(ne,j,Te,ye)};function we(Te,ye,Ae){var Ne=ge(ye,Ae);ue(Ne)&&($[Te]=Ne)}if(we("hoverinfo","hi","hoverinfo"),we("bgcolor","hbg","hoverlabel.bgcolor"),we("borderColor","hbc","hoverlabel.bordercolor"),we("fontFamily","htf","hoverlabel.font.family"),we("fontSize","hts","hoverlabel.font.size"),we("fontColor","htc","hoverlabel.font.color"),we("nameLength","hnl","hoverlabel.namelength"),we("textAlign","hta","hoverlabel.align"),$.posref=ie==="y"||ie==="closest"&&j.orientation==="h"?$.xa._offset+($.x0+$.x1)/2:$.ya._offset+($.y0+$.y1)/2,$.x0=L.constrain($.x0,0,$.xa._length),$.x1=L.constrain($.x1,0,$.xa._length),$.y0=L.constrain($.y0,0,$.ya._length),$.y1=L.constrain($.y1,0,$.ya._length),$.xLabelVal!==void 0&&($.xLabel="xLabel"in $?$.xLabel:f.hoverLabelText($.xa,$.xLabelVal,j.xhoverformat),$.xVal=$.xa.c2d($.xLabelVal)),$.yLabelVal!==void 0&&($.yLabel="yLabel"in $?$.yLabel:f.hoverLabelText($.ya,$.yLabelVal,j.yhoverformat),$.yVal=$.ya.c2d($.yLabelVal)),$.zLabelVal!==void 0&&$.zLabel===void 0&&($.zLabel=String($.zLabelVal)),!isNaN($.xerr)&&!($.xa.type==="log"&&$.xerr<=0)){var xe=f.tickText($.xa,$.xa.c2l($.xerr),"hover").text;$.xerrneg!==void 0?$.xLabel+=" +"+xe+" / -"+f.tickText($.xa,$.xa.c2l($.xerrneg),"hover").text:$.xLabel+=" ± "+xe,ie==="x"&&($.distance+=1)}if(!isNaN($.yerr)&&!($.ya.type==="log"&&$.yerr<=0)){var Fe=f.tickText($.ya,$.ya.c2l($.yerr),"hover").text;$.yerrneg!==void 0?$.yLabel+=" +"+Fe+" / -"+f.tickText($.ya,$.ya.c2l($.yerrneg),"hover").text:$.yLabel+=" ± "+Fe,ie==="y"&&($.distance+=1)}var ze=$.hoverinfo||$.trace.hoverinfo;return ze&&ze!=="all"&&(ze=Array.isArray(ze)?ze:ze.split("+"),ze.indexOf("x")===-1&&($.xLabel=void 0),ze.indexOf("y")===-1&&($.yLabel=void 0),ze.indexOf("z")===-1&&($.zLabel=void 0),ze.indexOf("text")===-1&&($.text=void 0),ze.indexOf("name")===-1&&($.name=void 0)),$}function G($,ie,J){var j=J.container,se=J.fullLayout,ne=se._size,ue=J.event,ge=!!ie.hLinePoint,we=!!ie.vLinePoint,xe,Fe;if(j.selectAll(".spikeline").remove(),!!(we||ge)){var ze=n.combine(se.plot_bgcolor,se.paper_bgcolor);if(ge){var Te=ie.hLinePoint,ye,Ae;xe=Te&&Te.xa,Fe=Te&&Te.ya;var Ne=Fe.spikesnap;Ne==="cursor"?(ye=ue.pointerX,Ae=ue.pointerY):(ye=xe._offset+Te.x,Ae=Fe._offset+Te.y);var Ue=a.readability(Te.color,ze)<1.5?n.contrast(ze):Te.color,Re=Fe.spikemode,Ve=Fe.spikethickness,rt=Fe.spikecolor||Ue,Qe=f.getPxPosition($,Fe),Je,qe;if(Re.indexOf("toaxis")!==-1||Re.indexOf("across")!==-1){if(Re.indexOf("toaxis")!==-1&&(Je=Qe,qe=ye),Re.indexOf("across")!==-1){var dt=Fe._counterDomainMin,pt=Fe._counterDomainMax;Fe.anchor==="free"&&(dt=Math.min(dt,Fe.position),pt=Math.max(pt,Fe.position)),Je=ne.l+dt*ne.w,qe=ne.l+pt*ne.w}j.insert("line",":first-child").attr({x1:Je,x2:qe,y1:Ae,y2:Ae,"stroke-width":Ve,stroke:rt,"stroke-dasharray":u.dashStyle(Fe.spikedash,Ve)}).classed("spikeline",!0).classed("crisp",!0),j.insert("line",":first-child").attr({x1:Je,x2:qe,y1:Ae,y2:Ae,"stroke-width":Ve+2,stroke:ze}).classed("spikeline",!0).classed("crisp",!0)}Re.indexOf("marker")!==-1&&j.insert("circle",":first-child").attr({cx:Qe+(Fe.side!=="right"?Ve:-Ve),cy:Ae,r:Ve,fill:rt}).classed("spikeline",!0)}if(we){var mt=ie.vLinePoint,Ct,Rt;xe=mt&&mt.xa,Fe=mt&&mt.ya;var Zt=xe.spikesnap;Zt==="cursor"?(Ct=ue.pointerX,Rt=ue.pointerY):(Ct=xe._offset+mt.x,Rt=Fe._offset+mt.y);var Xe=a.readability(mt.color,ze)<1.5?n.contrast(ze):mt.color,Le=xe.spikemode,Pe=xe.spikethickness,ke=xe.spikecolor||Xe,Ce=f.getPxPosition($,xe),me,oe;if(Le.indexOf("toaxis")!==-1||Le.indexOf("across")!==-1){if(Le.indexOf("toaxis")!==-1&&(me=Ce,oe=Rt),Le.indexOf("across")!==-1){var pe=xe._counterDomainMin,Me=xe._counterDomainMax;xe.anchor==="free"&&(pe=Math.min(pe,xe.position),Me=Math.max(Me,xe.position)),me=ne.t+(1-Me)*ne.h,oe=ne.t+(1-pe)*ne.h}j.insert("line",":first-child").attr({x1:Ct,x2:Ct,y1:me,y2:oe,"stroke-width":Pe,stroke:ke,"stroke-dasharray":u.dashStyle(xe.spikedash,Pe)}).classed("spikeline",!0).classed("crisp",!0),j.insert("line",":first-child").attr({x1:Ct,x2:Ct,y1:me,y2:oe,"stroke-width":Pe+2,stroke:ze}).classed("spikeline",!0).classed("crisp",!0)}Le.indexOf("marker")!==-1&&j.insert("circle",":first-child").attr({cx:Ct,cy:Ce-(xe.side!=="top"?Pe:-Pe),r:Pe,fill:ke}).classed("spikeline",!0)}}}function Q($,ie,J){if(!J||J.length!==$._hoverdata.length)return!0;for(var j=J.length-1;j>=0;j--){var se=J[j],ne=$._hoverdata[j];if(se.curveNumber!==ne.curveNumber||String(se.pointNumber)!==String(ne.pointNumber)||String(se.pointNumbers)!==String(ne.pointNumbers))return!0}return!1}function ee($,ie){return!ie||ie.vLinePoint!==$._spikepoints.vLinePoint||ie.hLinePoint!==$._spikepoints.hLinePoint}function ae($,ie){return t.plainText($||"",{len:ie,allowedTags:["br","sub","sup","b","i","em"]})}function fe($,ie){for(var J=ie.charAt(0),j=[],se=[],ne=[],ue=0;ue<$.length;ue++){var ge=$[ue];l.traceIs(ge.trace,"bar-like")||l.traceIs(ge.trace,"box-violin")?ne.push(ge):ge.trace[J+"period"]?se.push(ge):j.push(ge)}return j.concat(se).concat(ne)}function K($,ie,J){var j=ie[$+"a"],se=ie[$+"Val"],ne=ie.cd[0];if(j.type==="category"||j.type==="multicategory")se=j._categoriesMap[se];else if(j.type==="date"){var ue=ie.trace[$+"periodalignment"];if(ue){var ge=ie.cd[ie.index],we=ge[$+"Start"];we===void 0&&(we=ge[$]);var xe=ge[$+"End"];xe===void 0&&(xe=ge[$]);var Fe=xe-we;ue==="end"?se+=Fe:ue==="middle"&&(se+=Fe/2)}se=j.d2c(se)}return ne&&ne.t&&ne.t.posLetter===j._id&&(J.boxmode==="group"||J.violinmode==="group")&&(se+=ne.t.dPos),se}function W($){return $.offsetTop+$.clientTop}function Z($){return $.offsetLeft+$.clientLeft}function X($,ie){var J=$._fullLayout,j=ie.getBoundingClientRect(),se=j.left,ne=j.top,ue=se+j.width,ge=ne+j.height,we=L.apply3DTransform(J._invTransform)(se,ne),xe=L.apply3DTransform(J._invTransform)(ue,ge),Fe=we[0],ze=we[1],Te=xe[0],ye=xe[1];return{x:Fe,y:ze,width:Te-Fe,height:ye-ze,top:Math.min(ze,ye),left:Math.min(Fe,Te),right:Math.max(Fe,Te),bottom:Math.max(ze,ye)}}},38048:function(H,U,e){var g=e(71828),P=e(7901),a=e(23469).isUnifiedHover;H.exports=function(T,v,d,t){t=t||{};var r=v.legend;function u(n){t.font[n]||(t.font[n]=r?v.legend.font[n]:v.font[n])}v&&a(v.hovermode)&&(t.font||(t.font={}),u("size"),u("family"),u("color"),r?(t.bgcolor||(t.bgcolor=P.combine(v.legend.bgcolor,v.paper_bgcolor)),t.bordercolor||(t.bordercolor=v.legend.bordercolor)):t.bgcolor||(t.bgcolor=v.paper_bgcolor)),d("hoverlabel.bgcolor",t.bgcolor),d("hoverlabel.bordercolor",t.bordercolor),d("hoverlabel.namelength",t.namelength),g.coerceFont(d,"hoverlabel.font",t.font),d("hoverlabel.align",t.align)}},98212:function(H,U,e){var g=e(71828),P=e(528);H.exports=function(L,T){function v(d,t){return T[d]!==void 0?T[d]:g.coerce(L,T,P,d,t)}return v("clickmode"),v("hovermode")}},30211:function(H,U,e){var g=e(39898),P=e(71828),a=e(28569),L=e(23469),T=e(528),v=e(88335);H.exports={moduleType:"component",name:"fx",constants:e(26675),schema:{layout:T},attributes:e(77914),layoutAttributes:T,supplyLayoutGlobalDefaults:e(22774),supplyDefaults:e(54268),supplyLayoutDefaults:e(34938),calc:e(30732),getDistanceFunction:L.getDistanceFunction,getClosest:L.getClosest,inbox:L.inbox,quadrature:L.quadrature,appendArrayPointValue:L.appendArrayPointValue,castHoverOption:t,castHoverinfo:r,hover:v.hover,unhover:a.unhover,loneHover:v.loneHover,loneUnhover:d,click:e(75914)};function d(u){var n=P.isD3Selection(u)?u:g.select(u);n.selectAll("g.hovertext").remove(),n.selectAll(".spikeline").remove()}function t(u,n,s){return P.castOption(u,n,"hoverlabel."+s)}function r(u,n,s){function f(l){return P.coerceHoverinfo({hoverinfo:l},{_module:u._module},n)}return P.castOption(u,s,"hoverinfo",f)}},528:function(H,U,e){var g=e(26675),P=e(41940),a=P({editType:"none"});a.family.dflt=g.HOVERFONT,a.size.dflt=g.HOVERFONTSIZE,H.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:a,grouptitlefont:P({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},34938:function(H,U,e){var g=e(71828),P=e(528),a=e(98212),L=e(38048);H.exports=function(v,d){function t(l,x){return g.coerce(v,d,P,l,x)}var r=a(v,d);r&&(t("hoverdistance"),t("spikedistance"));var u=t("dragmode");u==="select"&&t("selectdirection");var n=d._has("mapbox"),s=d._has("geo"),f=d._basePlotModules.length;d.dragmode==="zoom"&&((n||s)&&f===1||n&&s&&f===2)&&(d.dragmode="pan"),L(v,d,t),g.coerceFont(t,"hoverlabel.grouptitlefont",d.hoverlabel.font)}},22774:function(H,U,e){var g=e(71828),P=e(38048),a=e(528);H.exports=function(T,v){function d(t,r){return g.coerce(T,v,a,t,r)}P(T,v,d)}},83312:function(H,U,e){var g=e(71828),P=e(30587).counter,a=e(27670).Y,L=e(85555).idRegex,T=e(44467),v={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[P("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[L.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[L.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:a({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function d(s,f,l){var x=f[l+"axes"],c=Object.keys((s._splomAxes||{})[l]||{});if(Array.isArray(x))return x;if(c.length)return c}function t(s,f){var l=s.grid||{},x=d(f,l,"x"),c=d(f,l,"y");if(!s.grid&&!x&&!c)return;var b=Array.isArray(l.subplots)&&Array.isArray(l.subplots[0]),h=Array.isArray(x),o=Array.isArray(c),p=h&&x!==l.xaxes&&o&&c!==l.yaxes,S,A;b?(S=l.subplots.length,A=l.subplots[0].length):(o&&(S=c.length),h&&(A=x.length));var E=T.newContainer(f,"grid");function m(O,z){return g.coerce(l,E,v,O,z)}var M=m("rows",S),w=m("columns",A);if(!(M*w>1)){delete f.grid;return}if(!b&&!h&&!o){var i=m("pattern")==="independent";i&&(b=!0)}E._hasSubplotGrid=b;var C=m("roworder"),y=C==="top to bottom",_=b?.2:.1,I=b?.3:.1,N,k;p&&f._splomGridDflt&&(N=f._splomGridDflt.xside,k=f._splomGridDflt.yside),E._domains={x:r("x",m,_,N,w),y:r("y",m,I,k,M,y)}}function r(s,f,l,x,c,b){var h=f(s+"gap",l),o=f("domain."+s);f(s+"side",x);for(var p=new Array(c),S=o[0],A=(o[1]-S)/(c-h),E=A*(1-h),m=0;m<c;m++){var M=S+A*m;p[b?c-1-m:m]=[M,M+E]}return p}function u(s,f){var l=f.grid;if(!(!l||!l._domains)){var x=s.grid||{},c=f._subplots,b=l._hasSubplotGrid,h=l.rows,o=l.columns,p=l.pattern==="independent",S,A,E,m,M,w,i,C=l._axisMap={};if(b){var y=x.subplots||[];w=l.subplots=new Array(h);var _=1;for(S=0;S<h;S++){var I=w[S]=new Array(o),N=y[S]||[];for(A=0;A<o;A++)if(p?(M=_===1?"xy":"x"+_+"y"+_,_++):M=N[A],I[A]="",c.cartesian.indexOf(M)!==-1){if(i=M.indexOf("y"),E=M.slice(0,i),m=M.slice(i),C[E]!==void 0&&C[E]!==A||C[m]!==void 0&&C[m]!==S)continue;I[A]=M,C[E]=A,C[m]=S}}}else{var k=d(f,x,"x"),O=d(f,x,"y");l.xaxes=n(k,c.xaxis,o,C,"x"),l.yaxes=n(O,c.yaxis,h,C,"y")}var z=l._anchors={},F=l.roworder==="top to bottom";for(var B in C){var G=B.charAt(0),Q=l[G+"side"],ee,ae,fe;if(Q.length<8)z[B]="free";else if(G==="x"){if(Q.charAt(0)==="t"===F?(ee=0,ae=1,fe=h):(ee=h-1,ae=-1,fe=-1),b){var K=C[B];for(S=ee;S!==fe;S+=ae)if(M=w[S][K],!!M&&(i=M.indexOf("y"),M.slice(0,i)===B)){z[B]=M.slice(i);break}}else for(S=ee;S!==fe;S+=ae)if(m=l.yaxes[S],c.cartesian.indexOf(B+m)!==-1){z[B]=m;break}}else if(Q.charAt(0)==="l"?(ee=0,ae=1,fe=o):(ee=o-1,ae=-1,fe=-1),b){var W=C[B];for(S=ee;S!==fe;S+=ae)if(M=w[W][S],!!M&&(i=M.indexOf("y"),M.slice(i)===B)){z[B]=M.slice(0,i);break}}else for(S=ee;S!==fe;S+=ae)if(E=l.xaxes[S],c.cartesian.indexOf(E+B)!==-1){z[B]=E;break}}}}function n(s,f,l,x,c){var b=new Array(l),h;function o(p,S){f.indexOf(S)!==-1&&x[S]===void 0?(b[p]=S,x[S]=p):b[p]=""}if(Array.isArray(s))for(h=0;h<l;h++)o(h,s[h]);else for(o(0,c),h=1;h<l;h++)o(h,c+(h+1));return b}H.exports={moduleType:"component",name:"grid",schema:{layout:{grid:v}},layoutAttributes:v,sizeDefaults:t,contentDefaults:u}},69819:function(H,U,e){var g=e(85555),P=e(44467).templatedArray;e(24695),H.exports=P("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",g.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",g.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},75378:function(H,U,e){var g=e(92770),P=e(58163);H.exports=function(L,T,v,d){T=T||{};var t=v==="log"&&T.type==="linear",r=v==="linear"&&T.type==="log";if(t||r){for(var u=L._fullLayout.images,n=T._id.charAt(0),s,f,l=0;l<u.length;l++)if(s=u[l],f="images["+l+"].",s[n+"ref"]===T._id){var x=s[n],c=s["size"+n],b=null,h=null;if(t){b=P(x,T.range);var o=c/Math.pow(10,b)/2;h=2*Math.log(o+Math.sqrt(1+o*o))/Math.LN10}else b=Math.pow(10,x),h=b*(Math.pow(10,c/2)-Math.pow(10,-c/2));g(b)?g(h)||(h=null):(b=null,h=null),d(f+n,b),d(f+"size"+n,h)}}}},81603:function(H,U,e){var g=e(71828),P=e(89298),a=e(85501),L=e(69819),T="images";H.exports=function(t,r){var u={name:T,handleItemDefaults:v};a(t,r,u)};function v(d,t,r){function u(o,p){return g.coerce(d,t,L,o,p)}var n=u("source"),s=u("visible",!!n);if(!s)return t;u("layer"),u("xanchor"),u("yanchor"),u("sizex"),u("sizey"),u("sizing"),u("opacity");for(var f={_fullLayout:r},l=["x","y"],x=0;x<2;x++){var c=l[x],b=P.coerceRef(d,t,f,c,"paper",void 0);if(b!=="paper"){var h=P.getFromId(f,b);h._imgIndices.push(t._index)}P.coercePosition(t,f,u,b,c,0)}return t}},80750:function(H,U,e){var g=e(39898),P=e(91424),a=e(89298),L=e(41675),T=e(77922);H.exports=function(d){var t=d._fullLayout,r=[],u={},n=[],s,f;for(f=0;f<t.images.length;f++){var l=t.images[f];if(l.visible)if(l.layer==="below"&&l.xref!=="paper"&&l.yref!=="paper"){s=L.ref2id(l.xref)+L.ref2id(l.yref);var x=t._plots[s];if(!x){n.push(l);continue}x.mainplot&&(s=x.mainplot.id),u[s]||(u[s]=[]),u[s].push(l)}else l.layer==="above"?r.push(l):n.push(l)}var c={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function b(m){var M=g.select(this);if(this._imgSrc!==m.source)if(M.attr("xmlns",T.svg),m.source&&m.source.slice(0,5)==="data:")M.attr("xlink:href",m.source),this._imgSrc=m.source;else{var w=new Promise((function(i){var C=new Image;this.img=C,C.setAttribute("crossOrigin","anonymous"),C.onerror=y,C.onload=function(){var _=document.createElement("canvas");_.width=this.width,_.height=this.height;var I=_.getContext("2d",{willReadFrequently:!0});I.drawImage(this,0,0);var N=_.toDataURL("image/png");M.attr("xlink:href",N),i()},M.on("error",y),C.src=m.source,this._imgSrc=m.source;function y(){M.remove(),i()}}).bind(this));d._promises.push(w)}}function h(m){var M=g.select(this),w=a.getFromId(d,m.xref),i=a.getFromId(d,m.yref),C=a.getRefType(m.xref)==="domain",y=a.getRefType(m.yref)==="domain",_=t._size,I,N;w!==void 0?I=typeof m.xref=="string"&&C?w._length*m.sizex:Math.abs(w.l2p(m.sizex)-w.l2p(0)):I=m.sizex*_.w,i!==void 0?N=typeof m.yref=="string"&&y?i._length*m.sizey:Math.abs(i.l2p(m.sizey)-i.l2p(0)):N=m.sizey*_.h;var k=I*c.x[m.xanchor].offset,O=N*c.y[m.yanchor].offset,z=c.x[m.xanchor].sizing+c.y[m.yanchor].sizing,F,B;switch(w!==void 0?F=typeof m.xref=="string"&&C?w._length*m.x+w._offset:w.r2p(m.x)+w._offset:F=m.x*_.w+_.l,F+=k,i!==void 0?B=typeof m.yref=="string"&&y?i._length*(1-m.y)+i._offset:i.r2p(m.y)+i._offset:B=_.h-m.y*_.h+_.t,B+=O,m.sizing){case"fill":z+=" slice";break;case"stretch":z="none";break}M.attr({x:F,y:B,width:I,height:N,preserveAspectRatio:z,opacity:m.opacity});var G=w&&a.getRefType(m.xref)!=="domain"?w._id:"",Q=i&&a.getRefType(m.yref)!=="domain"?i._id:"",ee=G+Q;P.setClipUrl(M,ee?"clip"+t._uid+ee:null,d)}var o=t._imageLowerLayer.selectAll("image").data(n),p=t._imageUpperLayer.selectAll("image").data(r);o.enter().append("image"),p.enter().append("image"),o.exit().remove(),p.exit().remove(),o.each(function(m){b.bind(this)(m),h.bind(this)(m)}),p.each(function(m){b.bind(this)(m),h.bind(this)(m)});var S=Object.keys(t._plots);for(f=0;f<S.length;f++){s=S[f];var A=t._plots[s];if(A.imagelayer){var E=A.imagelayer.selectAll("image").data(u[s]||[]);E.enter().append("image"),E.exit().remove(),E.each(function(m){b.bind(this)(m),h.bind(this)(m)})}}}},68804:function(H,U,e){H.exports={moduleType:"component",name:"images",layoutAttributes:e(69819),supplyLayoutDefaults:e(81603),includeBasePlot:e(76325)("images"),draw:e(80750),convertCoords:e(75378)}},33030:function(H,U,e){var g=e(41940),P=e(22399);H.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:P.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:g({editType:"legend"}),grouptitlefont:g({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:g({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},14928:function(H){H.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},99017:function(H,U,e){var g=e(73972),P=e(71828),a=e(44467),L=e(9012),T=e(33030),v=e(10820),d=e(10130);function t(r,u,n,s){var f=u[r]||{},l=a.newContainer(n,r);function x(fe,K){return P.coerce(f,l,T,fe,K)}var c=P.coerceFont(x,"font",n.font);x("bgcolor",n.paper_bgcolor),x("bordercolor");var b=x("visible");if(b){for(var h,o=function(fe,K){var W=h._input,Z=h;return P.coerce(W,Z,L,fe,K)},p=n.font||{},S=P.coerceFont(x,"grouptitlefont",P.extendFlat({},p,{size:Math.round(p.size*1.1)})),A=0,E=!1,m="normal",M=(n.shapes||[]).filter(function(fe){return fe.showlegend}),w=s.concat(M).filter(function(fe){return r===(fe.legend||"legend")}),i=0;i<w.length;i++)if(h=w[i],!!h.visible){var C=h._isShape;(h.showlegend||h._dfltShowLegend&&!(h._module&&h._module.attributes&&h._module.attributes.showlegend&&h._module.attributes.showlegend.dflt===!1))&&(A++,h.showlegend&&(E=!0,(!C&&g.traceIs(h,"pie-like")||h._input.showlegend===!0)&&A++),P.coerceFont(o,"legendgrouptitle.font",S)),(!C&&g.traceIs(h,"bar")&&n.barmode==="stack"||["tonextx","tonexty"].indexOf(h.fill)!==-1)&&(m=d.isGrouped({traceorder:m})?"grouped+reversed":"reversed"),h.legendgroup!==void 0&&h.legendgroup!==""&&(m=d.isReversed({traceorder:m})?"reversed+grouped":"grouped")}var y=P.coerce(u,n,v,"showlegend",E&&A>(r==="legend"?1:0));if(y===!1&&(n[r]=void 0),!(y===!1&&!f.uirevision)&&(x("uirevision",n.uirevision),y!==!1)){x("borderwidth");var _=x("orientation"),I=x("yref"),N=x("xref"),k=_==="h",O=I==="paper",z=N==="paper",F,B,G,Q="left";k?(F=0,g.getComponentMethod("rangeslider","isVisible")(u.xaxis)?O?(B=1.1,G="bottom"):(B=1,G="top"):O?(B=-.1,G="top"):(B=0,G="bottom")):(B=1,G="auto",z?F=1.02:(F=1,Q="right")),P.coerce(f,l,{x:{valType:"number",editType:"legend",min:z?-2:0,max:z?3:1,dflt:F}},"x"),P.coerce(f,l,{y:{valType:"number",editType:"legend",min:O?-2:0,max:O?3:1,dflt:B}},"y"),x("traceorder",m),d.isGrouped(n[r])&&x("tracegroupgap"),x("entrywidth"),x("entrywidthmode"),x("itemsizing"),x("itemwidth"),x("itemclick"),x("itemdoubleclick"),x("groupclick"),x("xanchor",Q),x("yanchor",G),x("valign"),P.noneOrAll(f,l,["x","y"]);var ee=x("title.text");if(ee){x("title.side",k?"left":"top");var ae=P.extendFlat({},c,{size:P.bigFont(c.size)});P.coerceFont(x,"title.font",ae)}}}}H.exports=function(u,n,s){var f,l=s.slice(),x=n.shapes;if(x)for(f=0;f<x.length;f++){var c=x[f];if(c.showlegend){var b={_input:c._input,visible:c.visible,showlegend:c.showlegend,legend:c.legend};l.push(b)}}var h=["legend"];for(f=0;f<l.length;f++)P.pushUnique(h,l[f].legend);for(n._legends=[],f=0;f<h.length;f++){var o=h[f];t(o,u,n,l),n[o]&&n[o].visible&&(n[o]._id=o),n._legends.push(o)}}},43969:function(H,U,e){var g=e(39898),P=e(71828),a=e(74875),L=e(73972),T=e(11086),v=e(28569),d=e(91424),t=e(7901),r=e(63893),u=e(85167),n=e(14928),s=e(18783),f=s.LINE_SPACING,l=s.FROM_TL,x=s.FROM_BR,c=e(82424),b=e(53630),h=e(10130),o=1,p=/^legend[0-9]*$/;H.exports=function(F,B){if(B)S(F,B);else{var G=F._fullLayout,Q=G._legends,ee=G._infolayer.selectAll('[class^="legend"]');ee.each(function(){var W=g.select(this),Z=W.attr("class"),X=Z.split(" ")[0];X.match(p)&&Q.indexOf(X)===-1&&W.remove()});for(var ae=0;ae<Q.length;ae++){var fe=Q[ae],K=F._fullLayout[fe];S(F,K)}}};function S(z,F){var B=F||{},G=z._fullLayout,Q=O(B),ee,ae,fe=B._inHover;if(fe?(ae=B.layer,ee="hover"):(ae=G._infolayer,ee=Q),!!ae){ee+=G._uid,z._legendMouseDownTime||(z._legendMouseDownTime=0);var K;if(fe){if(!B.entries)return;K=c(B.entries,B)}else{for(var W=(z.calcdata||[]).slice(),Z=G.shapes,X=0;X<Z.length;X++){var $=Z[X];if($.showlegend){var ie={_isShape:!0,_fullInput:$,index:$._index,name:$.name||$.label.text||"shape "+$._index,legend:$.legend,legendgroup:$.legendgroup,legendgrouptitle:$.legendgrouptitle,legendrank:$.legendrank,legendwidth:$.legendwidth,showlegend:$.showlegend,visible:$.visible,opacity:$.opacity,mode:$.type==="line"?"lines":"markers",line:$.line,marker:{line:$.line,color:$.fillcolor,size:12,symbol:$.type==="rect"?"square":$.type==="circle"?"circle":"hexagon2"}};W.push([{trace:ie}])}}K=G.showlegend&&c(W,B,G._legends.length>1)}var J=G.hiddenlabels||[];if(!fe&&(!G.showlegend||!K.length))return ae.selectAll("."+Q).remove(),G._topdefs.select("#"+ee).remove(),a.autoMargin(z,Q);var j=P.ensureSingle(ae,"g",Q,function(Te){fe||Te.attr("pointer-events","all")}),se=P.ensureSingleById(G._topdefs,"clipPath",ee,function(Te){Te.append("rect")}),ne=P.ensureSingle(j,"rect","bg",function(Te){Te.attr("shape-rendering","crispEdges")});ne.call(t.stroke,B.bordercolor).call(t.fill,B.bgcolor).style("stroke-width",B.borderwidth+"px");var ue=P.ensureSingle(j,"g","scrollbox"),ge=B.title;if(B._titleWidth=0,B._titleHeight=0,ge.text){var we=P.ensureSingle(ue,"text",Q+"titletext");we.attr("text-anchor","start").call(d.font,ge.font).text(ge.text),i(we,ue,z,B,o)}else ue.selectAll("."+Q+"titletext").remove();var xe=P.ensureSingle(j,"rect","scrollbar",function(Te){Te.attr(n.scrollBarEnterAttrs).call(t.fill,n.scrollBarColor)}),Fe=ue.selectAll("g.groups").data(K);Fe.enter().append("g").attr("class","groups"),Fe.exit().remove();var ze=Fe.selectAll("g.traces").data(P.identity);ze.enter().append("g").attr("class","traces"),ze.exit().remove(),ze.style("opacity",function(Te){var ye=Te[0].trace;return L.traceIs(ye,"pie-like")?J.indexOf(Te[0].label)!==-1?.5:1:ye.visible==="legendonly"?.5:1}).each(function(){g.select(this).call(m,z,B)}).call(b,z,B).each(function(){fe||g.select(this).call(w,z,Q)}),P.syncOrAsync([a.previousPromises,function(){return _(z,Fe,ze,B)},function(){var Te=G._size,ye=B.borderwidth,Ae=B.xref==="paper",Ne=B.yref==="paper";if(!fe){var Ue,Re;Ae?Ue=Te.l+Te.w*B.x-l[N(B)]*B._width:Ue=G.width*B.x-l[N(B)]*B._width,Ne?Re=Te.t+Te.h*(1-B.y)-l[k(B)]*B._effHeight:Re=G.height*(1-B.y)-l[k(B)]*B._effHeight;var Ve=I(z,Q,Ue,Re);if(Ve)return;if(G.margin.autoexpand){var rt=Ue,Qe=Re;Ue=Ae?P.constrain(Ue,0,G.width-B._width):rt,Re=Ne?P.constrain(Re,0,G.height-B._effHeight):Qe,Ue!==rt&&P.log("Constrain "+Q+".x to make legend fit inside graph"),Re!==Qe&&P.log("Constrain "+Q+".y to make legend fit inside graph")}d.setTranslate(j,Ue,Re)}if(xe.on(".drag",null),j.on("wheel",null),fe||B._height<=B._maxHeight||z._context.staticPlot){var Je=B._effHeight;fe&&(Je=B._height),ne.attr({width:B._width-ye,height:Je-ye,x:ye/2,y:ye/2}),d.setTranslate(ue,0,0),se.select("rect").attr({width:B._width-2*ye,height:Je-2*ye,x:ye,y:ye}),d.setClipUrl(ue,ee,z),d.setRect(xe,0,0,0,0),delete B._scrollY}else{var qe=Math.max(n.scrollBarMinHeight,B._effHeight*B._effHeight/B._height),dt=B._effHeight-qe-2*n.scrollBarMargin,pt=B._height-B._effHeight,mt=dt/pt,Ct=Math.min(B._scrollY||0,pt);ne.attr({width:B._width-2*ye+n.scrollBarWidth+n.scrollBarMargin,height:B._effHeight-ye,x:ye/2,y:ye/2}),se.select("rect").attr({width:B._width-2*ye+n.scrollBarWidth+n.scrollBarMargin,height:B._effHeight-2*ye,x:ye,y:ye+Ct}),d.setClipUrl(ue,ee,z),me(Ct,qe,mt),j.on("wheel",function(){Ct=P.constrain(B._scrollY+g.event.deltaY/dt*pt,0,pt),me(Ct,qe,mt),Ct!==0&&Ct!==pt&&g.event.preventDefault()});var Rt,Zt,Xe,Le=function(tt,at,At){var Ft=(At-at)/mt+tt;return P.constrain(Ft,0,pt)},Pe=function(tt,at,At){var Ft=(at-At)/mt+tt;return P.constrain(Ft,0,pt)},ke=g.behavior.drag().on("dragstart",function(){var tt=g.event.sourceEvent;tt.type==="touchstart"?Rt=tt.changedTouches[0].clientY:Rt=tt.clientY,Xe=Ct}).on("drag",function(){var tt=g.event.sourceEvent;tt.buttons===2||tt.ctrlKey||(tt.type==="touchmove"?Zt=tt.changedTouches[0].clientY:Zt=tt.clientY,Ct=Le(Xe,Rt,Zt),me(Ct,qe,mt))});xe.call(ke);var Ce=g.behavior.drag().on("dragstart",function(){var tt=g.event.sourceEvent;tt.type==="touchstart"&&(Rt=tt.changedTouches[0].clientY,Xe=Ct)}).on("drag",function(){var tt=g.event.sourceEvent;tt.type==="touchmove"&&(Zt=tt.changedTouches[0].clientY,Ct=Pe(Xe,Rt,Zt),me(Ct,qe,mt))});ue.call(Ce)}function me(tt,at,At){B._scrollY=z._fullLayout[Q]._scrollY=tt,d.setTranslate(ue,0,-tt),d.setRect(xe,B._width,n.scrollBarMargin+tt*At,n.scrollBarWidth,at),se.select("rect").attr("y",ye+tt)}if(z._context.edits.legendPosition){var oe,pe,Me,_e;j.classed("cursor-move",!0),v.init({element:j.node(),gd:z,prepFn:function(){var tt=d.getTranslate(j);Me=tt.x,_e=tt.y},moveFn:function(tt,at){var At=Me+tt,Ft=_e+at;d.setTranslate(j,At,Ft),oe=v.align(At,B._width,Te.l,Te.l+Te.w,B.xanchor),pe=v.align(Ft+B._height,-B._height,Te.t+Te.h,Te.t,B.yanchor)},doneFn:function(){if(oe!==void 0&&pe!==void 0){var tt={};tt[Q+".x"]=oe,tt[Q+".y"]=pe,L.call("_guiRelayout",z,tt)}},clickFn:function(tt,at){var At=ae.selectAll("g.traces").filter(function(){var Ft=this.getBoundingClientRect();return at.clientX>=Ft.left&&at.clientX<=Ft.right&&at.clientY>=Ft.top&&at.clientY<=Ft.bottom});At.size()>0&&E(z,j,At,tt,at)}})}}],z)}}function A(z,F,B){var G=z[0],Q=G.width,ee=F.entrywidthmode,ae=G.trace.legendwidth||F.entrywidth;return ee==="fraction"?F._maxWidth*ae:B+(ae||Q)}function E(z,F,B,G,Q){var ee=B.data()[0][0].trace,ae={event:Q,node:B.node(),curveNumber:ee.index,expandedIndex:ee._expandedIndex,data:z.data,layout:z.layout,frames:z._transitionData._frames,config:z._context,fullData:z._fullData,fullLayout:z._fullLayout};ee._group&&(ae.group=ee._group),L.traceIs(ee,"pie-like")&&(ae.label=B.datum()[0].label);var fe=T.triggerHandler(z,"plotly_legendclick",ae);if(fe!==!1){if(G===1)F._clickTimeout=setTimeout(function(){z._fullLayout&&u(B,z,G)},z._context.doubleClickDelay);else if(G===2){F._clickTimeout&&clearTimeout(F._clickTimeout),z._legendMouseDownTime=0;var K=T.triggerHandler(z,"plotly_legenddoubleclick",ae);K!==!1&&u(B,z,G)}}}function m(z,F,B){var G=O(B),Q=z.data()[0][0],ee=Q.trace,ae=L.traceIs(ee,"pie-like"),fe=!B._inHover&&F._context.edits.legendText&&!ae,K=B._maxNameLength,W,Z;Q.groupTitle?(W=Q.groupTitle.text,Z=Q.groupTitle.font):(Z=B.font,B.entries?W=Q.text:(W=ae?Q.label:ee.name,ee._meta&&(W=P.templateString(W,ee._meta))));var X=P.ensureSingle(z,"text",G+"text");X.attr("text-anchor","start").call(d.font,Z).text(fe?M(W,K):W);var $=B.itemwidth+n.itemGap*2;r.positionText(X,$,0),fe?X.call(r.makeEditable,{gd:F,text:W}).call(i,z,F,B).on("edit",function(ie){this.text(M(ie,K)).call(i,z,F,B);var J=Q.trace._fullInput||{},j={};if(L.hasTransform(J,"groupby")){var se=L.getTransformIndices(J,"groupby"),ne=se[se.length-1],ue=P.keyedContainer(J,"transforms["+ne+"].styles","target","value.name");ue.set(Q.trace._group,ie),j=ue.constructUpdate()}else j.name=ie;return J._isShape?L.call("_guiRelayout",F,"shapes["+ee.index+"].name",j.name):L.call("_guiRestyle",F,j,ee.index)}):i(X,z,F,B)}function M(z,F){var B=Math.max(4,F);if(z&&z.trim().length>=B/2)return z;z=z||"";for(var G=B-z.length;G>0;G--)z+=" ";return z}function w(z,F,B){var G=F._context.doubleClickDelay,Q,ee=1,ae=P.ensureSingle(z,"rect",B+"toggle",function(fe){F._context.staticPlot||fe.style("cursor","pointer").attr("pointer-events","all"),fe.call(t.fill,"rgba(0,0,0,0)")});F._context.staticPlot||(ae.on("mousedown",function(){Q=new Date().getTime(),Q-F._legendMouseDownTime<G?ee+=1:(ee=1,F._legendMouseDownTime=Q)}),ae.on("mouseup",function(){if(!(F._dragged||F._editing)){var fe=F._fullLayout[B];new Date().getTime()-F._legendMouseDownTime>G&&(ee=Math.max(ee-1,1)),E(F,fe,z,ee,g.event)}}))}function i(z,F,B,G,Q){G._inHover&&z.attr("data-notex",!0),r.convertToTspans(z,B,function(){C(F,B,G,Q)})}function C(z,F,B,G){var Q=z.data()[0][0];if(!B._inHover&&Q&&!Q.trace.showlegend){z.remove();return}var ee=z.select("g[class*=math-group]"),ae=ee.node(),fe=O(B);B||(B=F._fullLayout[fe]);var K=B.borderwidth,W;G===o?W=B.title.font:Q.groupTitle?W=Q.groupTitle.font:W=B.font;var Z=W.size*f,X,$;if(ae){var ie=d.bBox(ae);X=ie.height,$=ie.width,G===o?d.setTranslate(ee,K,K+X*.75):d.setTranslate(ee,0,X*.25)}else{var J="."+fe+(G===o?"title":"")+"text",j=z.select(J),se=r.lineCount(j),ne=j.node();if(X=Z*se,$=ne?d.bBox(ne).width:0,G===o){var ue=0;B.title.side==="left"?$+=n.itemGap*2:B.title.side==="top center"?B._width&&(ue=.5*(B._width-2*K-2*n.titlePad-$)):B.title.side==="top right"&&B._width&&(ue=B._width-2*K-2*n.titlePad-$),r.positionText(j,K+n.titlePad+ue,K+Z)}else{var ge=n.itemGap*2+B.itemwidth;Q.groupTitle&&(ge=n.itemGap,$-=B.itemwidth),r.positionText(j,ge,-Z*((se-1)/2-.3))}}G===o?(B._titleWidth=$,B._titleHeight=X):(Q.lineHeight=Z,Q.height=Math.max(X,16)+3,Q.width=$)}function y(z){var F=0,B=0,G=z.title.side;return G&&(G.indexOf("left")!==-1&&(F=z._titleWidth),G.indexOf("top")!==-1&&(B=z._titleHeight)),[F,B]}function _(z,F,B,G){var Q=z._fullLayout,ee=O(G);G||(G=Q[ee]);var ae=Q._size,fe=h.isVertical(G),K=h.isGrouped(G),W=G.entrywidthmode==="fraction",Z=G.borderwidth,X=2*Z,$=n.itemGap,ie=G.itemwidth+$*2,J=2*(Z+$),j=k(G),se=G.y<0||G.y===0&&j==="top",ne=G.y>1||G.y===1&&j==="bottom",ue=G.tracegroupgap,ge={};G._maxHeight=Math.max(se||ne?Q.height/2:ae.h,30);var we=0;G._width=0,G._height=0;var xe=y(G);if(fe)B.each(function(Xe){var Le=Xe[0].height;d.setTranslate(this,Z+xe[0],Z+xe[1]+G._height+Le/2+$),G._height+=Le,G._width=Math.max(G._width,Xe[0].width)}),we=ie+G._width,G._width+=$+ie+X,G._height+=J,K&&(F.each(function(Xe,Le){d.setTranslate(this,0,Le*G.tracegroupgap)}),G._height+=(G._lgroupsLength-1)*G.tracegroupgap);else{var Fe=N(G),ze=G.x<0||G.x===0&&Fe==="right",Te=G.x>1||G.x===1&&Fe==="left",ye=ne||se,Ae=Q.width/2;G._maxWidth=Math.max(ze?ye&&Fe==="left"?ae.l+ae.w:Ae:Te?ye&&Fe==="right"?ae.r+ae.w:Ae:ae.w,2*ie);var Ne=0,Ue=0;B.each(function(Xe){var Le=A(Xe,G,ie);Ne=Math.max(Ne,Le),Ue+=Le}),we=null;var Re=0;if(K){var Ve=0,rt=0,Qe=0;F.each(function(){var Xe=0,Le=0;g.select(this).selectAll("g.traces").each(function(ke){var Ce=A(ke,G,ie),me=ke[0].height;d.setTranslate(this,xe[0],xe[1]+Z+$+me/2+Le),Le+=me,Xe=Math.max(Xe,Ce),ge[ke[0].trace.legendgroup]=Xe});var Pe=Xe+$;rt>0&&Pe+Z+rt>G._maxWidth?(Re=Math.max(Re,rt),rt=0,Qe+=Ve+ue,Ve=Le):Ve=Math.max(Ve,Le),d.setTranslate(this,rt,Qe),rt+=Pe}),G._width=Math.max(Re,rt)+Z,G._height=Qe+Ve+J}else{var Je=B.size(),qe=Ue+X+(Je-1)*$<G._maxWidth,dt=0,pt=0,mt=0,Ct=0;B.each(function(Xe){var Le=Xe[0].height,Pe=A(Xe,G,ie),ke=qe?Pe:Ne;W||(ke+=$),ke+Z+pt-$>=G._maxWidth&&(Re=Math.max(Re,Ct),pt=0,mt+=dt,G._height+=dt,dt=0),d.setTranslate(this,xe[0]+Z+pt,xe[1]+Z+mt+Le/2+$),Ct=pt+Pe+$,pt+=ke,dt=Math.max(dt,Le)}),qe?(G._width=pt+X,G._height=dt+J):(G._width=Math.max(Re,Ct)+X,G._height+=dt+J)}}G._width=Math.ceil(Math.max(G._width+xe[0],G._titleWidth+2*(Z+n.titlePad))),G._height=Math.ceil(Math.max(G._height+xe[1],G._titleHeight+2*(Z+n.itemGap))),G._effHeight=Math.min(G._height,G._maxHeight);var Rt=z._context.edits,Zt=Rt.legendText||Rt.legendPosition;B.each(function(Xe){var Le=g.select(this).select("."+ee+"toggle"),Pe=Xe[0].height,ke=Xe[0].trace.legendgroup,Ce=A(Xe,G,ie);K&&ke!==""&&(Ce=ge[ke]);var me=Zt?ie:we||Ce;!fe&&!W&&(me+=$/2),d.setRect(Le,0,-Pe/2,me,Pe)})}function I(z,F,B,G){var Q=z._fullLayout,ee=Q[F],ae=N(ee),fe=k(ee),K=ee.xref==="paper",W=ee.yref==="paper";z._fullLayout._reservedMargin[F]={};var Z=ee.y<.5?"b":"t",X=ee.x<.5?"l":"r",$={r:Q.width-B,l:B+ee._width,b:Q.height-G,t:G+ee._effHeight};if(K&&W)return a.autoMargin(z,F,{x:ee.x,y:ee.y,l:ee._width*l[ae],r:ee._width*x[ae],b:ee._effHeight*x[fe],t:ee._effHeight*l[fe]});K?z._fullLayout._reservedMargin[F][Z]=$[Z]:W||ee.orientation==="v"?z._fullLayout._reservedMargin[F][X]=$[X]:z._fullLayout._reservedMargin[F][Z]=$[Z]}function N(z){return P.isRightAnchor(z)?"right":P.isCenterAnchor(z)?"center":"left"}function k(z){return P.isBottomAnchor(z)?"bottom":P.isMiddleAnchor(z)?"middle":"top"}function O(z){return z._id||"legend"}},82424:function(H,U,e){var g=e(73972),P=e(10130);H.exports=function(L,T,v){var d=T._inHover,t=P.isGrouped(T),r=P.isReversed(T),u={},n=[],s=!1,f={},l=0,x=0,c,b;function h(F,B,G){if(T.visible!==!1&&!(v&&F!==T._id))if(B===""||!P.isGrouped(T)){var Q="~~i"+l;n.push(Q),u[Q]=[G],l++}else n.indexOf(B)===-1?(n.push(B),s=!0,u[B]=[G]):u[B].push(G)}for(c=0;c<L.length;c++){var o=L[c],p=o[0],S=p.trace,A=S.legend,E=S.legendgroup;if(!(!d&&(!S.visible||!S.showlegend)))if(g.traceIs(S,"pie-like"))for(f[E]||(f[E]={}),b=0;b<o.length;b++){var m=o[b].label;f[E][m]||(h(A,E,{label:m,color:o[b].color,i:o[b].i,trace:S,pts:o[b].pts}),f[E][m]=!0,x=Math.max(x,(m||"").length))}else h(A,E,p),x=Math.max(x,(S.name||"").length)}if(!n.length)return[];var M=!s||!t,w=[];for(c=0;c<n.length;c++){var i=u[n[c]];M?w.push(i[0]):w.push(i)}for(M&&(w=[w]),c=0;c<w.length;c++){var C=1/0;for(b=0;b<w[c].length;b++){var y=w[c][b].trace.legendrank;C>y&&(C=y)}w[c][0]._groupMinRank=C,w[c][0]._preGroupSort=c}var _=function(F,B){return F[0]._groupMinRank-B[0]._groupMinRank||F[0]._preGroupSort-B[0]._preGroupSort},I=function(F,B){return F.trace.legendrank-B.trace.legendrank||F._preSort-B._preSort};for(w.forEach(function(F,B){F[0]._preGroupSort=B}),w.sort(_),c=0;c<w.length;c++){w[c].forEach(function(F,B){F._preSort=B}),w[c].sort(I);var N=w[c][0].trace,k=null;for(b=0;b<w[c].length;b++){var O=w[c][b].trace.legendgrouptitle;if(O&&O.text){k=O,d&&(O.font=T._groupTitleFont);break}}if(r&&w[c].reverse(),k){var z=!1;for(b=0;b<w[c].length;b++)if(g.traceIs(w[c][b].trace,"pie-like")){z=!0;break}w[c].unshift({i:-1,groupTitle:k,noClick:z,trace:{showlegend:N.showlegend,legendgroup:N.legendgroup,visible:T.groupclick==="toggleitem"?!0:N.visible}})}for(b=0;b<w[c].length;b++)w[c][b]=[w[c][b]]}return T._lgroupsLength=w.length,T._maxNameLength=x,w}},85167:function(H,U,e){var g=e(73972),P=e(71828),a=P.pushUnique,L=!0;H.exports=function(v,d,t){var r=d._fullLayout;if(d._dragged||d._editing)return;var u=r.legend.itemclick,n=r.legend.itemdoubleclick,s=r.legend.groupclick;t===1&&u==="toggle"&&n==="toggleothers"&&L&&d.data&&d._context.showTips&&P.notifier(P._(d,"Double-click on legend to isolate one trace"),"long"),L=!1;var f;if(t===1?f=u:t===2&&(f=n),!f)return;var l=s==="togglegroup",x=r.hiddenlabels?r.hiddenlabels.slice():[],c=v.data()[0][0];if(c.groupTitle&&c.noClick)return;var b=d._fullData,h=(r.shapes||[]).filter(function(Ne){return Ne.showlegend}),o=b.concat(h),p=c.trace;p._isShape&&(p=p._fullInput);var S=p.legendgroup,A,E,m,M,w,i,C={},y=[],_=[],I=[];function N(Ne,Ue){var Re=y.indexOf(Ne),Ve=C.visible;return Ve||(Ve=C.visible=[]),y.indexOf(Ne)===-1&&(y.push(Ne),Re=y.length-1),Ve[Re]=Ue,Re}var k=(r.shapes||[]).map(function(Ne){return Ne._input}),O=!1;function z(Ne,Ue){k[Ne].visible=Ue,O=!0}function F(Ne,Ue){if(!(c.groupTitle&&!l)){var Re=Ne._fullInput||Ne,Ve=Re._isShape,rt=Re.index;if(rt===void 0&&(rt=Re._index),g.hasTransform(Re,"groupby")){var Qe=_[rt];if(!Qe){var Je=g.getTransformIndices(Re,"groupby"),qe=Je[Je.length-1];Qe=P.keyedContainer(Re,"transforms["+qe+"].styles","target","value.visible"),_[rt]=Qe}var dt=Qe.get(Ne._group);dt===void 0&&(dt=!0),dt!==!1&&Qe.set(Ne._group,Ue),I[rt]=N(rt,Re.visible!==!1)}else{var pt=Re.visible===!1?!1:Ue;Ve?z(rt,pt):N(rt,pt)}}}var B=p.legend,G=p._fullInput,Q=G&&G._isShape;if(!Q&&g.traceIs(p,"pie-like")){var ee=c.label,ae=x.indexOf(ee);if(f==="toggle")ae===-1?x.push(ee):x.splice(ae,1);else if(f==="toggleothers"){var fe=ae!==-1,K=[];for(A=0;A<d.calcdata.length;A++){var W=d.calcdata[A];for(E=0;E<W.length;E++){var Z=W[E],X=Z.label;B===W[0].trace.legend&&ee!==X&&(x.indexOf(X)===-1&&(fe=!0),a(x,X),K.push(X))}}if(!fe)for(var $=0;$<K.length;$++){var ie=x.indexOf(K[$]);ie!==-1&&x.splice(ie,1)}}g.call("_guiRelayout",d,"hiddenlabels",x)}else{var J=S&&S.length,j=[],se;if(J)for(A=0;A<o.length;A++)se=o[A],se.visible&&se.legendgroup===S&&j.push(A);if(f==="toggle"){var ne;switch(p.visible){case!0:ne="legendonly";break;case!1:ne=!1;break;case"legendonly":ne=!0;break}if(J)if(l)for(A=0;A<o.length;A++){var ue=o[A];ue.visible!==!1&&ue.legendgroup===S&&F(ue,ne)}else F(p,ne);else F(p,ne)}else if(f==="toggleothers"){var ge,we,xe,Fe,ze,Te=!0;for(A=0;A<o.length;A++)if(ze=o[A],ge=ze===p,xe=ze.showlegend!==!0,!(ge||xe)&&(we=J&&ze.legendgroup===S,!we&&ze.legend===B&&ze.visible===!0&&!g.traceIs(ze,"notLegendIsolatable"))){Te=!1;break}for(A=0;A<o.length;A++)if(ze=o[A],!(ze.visible===!1||ze.legend!==B)&&!g.traceIs(ze,"notLegendIsolatable"))switch(p.visible){case"legendonly":F(ze,!0);break;case!0:Fe=Te?!0:"legendonly",ge=ze===p,xe=ze.showlegend!==!0&&!ze.legendgroup,we=ge||J&&ze.legendgroup===S,F(ze,we||xe?!0:Fe);break}}for(A=0;A<_.length;A++)if(m=_[A],!!m){var ye=m.constructUpdate(),Ae=Object.keys(ye);for(E=0;E<Ae.length;E++)M=Ae[E],i=C[M]=C[M]||[],i[I[A]]=ye[M]}for(w=Object.keys(C),A=0;A<w.length;A++)for(M=w[A],E=0;E<y.length;E++)C[M].hasOwnProperty(E)||(C[M][E]=void 0);O?g.call("_guiUpdate",d,C,{shapes:k},y):g.call("_guiRestyle",d,C,y)}}},10130:function(H,U){U.isGrouped=function(g){return(g.traceorder||"").indexOf("grouped")!==-1},U.isVertical=function(g){return g.orientation!=="h"},U.isReversed=function(g){return(g.traceorder||"").indexOf("reversed")!==-1}},2199:function(H,U,e){H.exports={moduleType:"component",name:"legend",layoutAttributes:e(33030),supplyLayoutDefaults:e(99017),draw:e(43969),style:e(53630)}},53630:function(H,U,e){var g=e(39898),P=e(73972),a=e(71828),L=a.strTranslate,T=e(91424),v=e(7901),d=e(52075).extractOpts,t=e(34098),r=e(63463),u=e(53581).castOption,n=e(14928),s=12,f=5,l=2,x=10,c=5;H.exports=function(S,A,E){var m=A._fullLayout;E||(E=m.legend);var M=E.itemsizing==="constant",w=E.itemwidth,i=(w+n.itemGap*2)/2,C=L(i,0),y=function(K,W,Z,X){var $;if(K+1)$=K;else if(W&&W.width>0)$=W.width;else return 0;return M?X:Math.min($,Z)};S.each(function(K){var W=g.select(this),Z=a.ensureSingle(W,"g","layers");Z.style("opacity",K[0].trace.opacity);var X=E.valign,$=K[0].lineHeight,ie=K[0].height;if(X==="middle"||!$||!ie)Z.attr("transform",null);else{var J={top:1,bottom:-1}[X],j=J*(.5*($-ie+3));Z.attr("transform",L(0,j))}var se=Z.selectAll("g.legendfill").data([K]);se.enter().append("g").classed("legendfill",!0);var ne=Z.selectAll("g.legendlines").data([K]);ne.enter().append("g").classed("legendlines",!0);var ue=Z.selectAll("g.legendsymbols").data([K]);ue.enter().append("g").classed("legendsymbols",!0),ue.selectAll("g.legendpoints").data([K]).enter().append("g").classed("legendpoints",!0)}).each(fe).each(N).each(O).each(k).each(F).each(ee).each(Q).each(_).each(I).each(B).each(G);function _(K){var W=h(K),Z=W.showFill,X=W.showLine,$=W.showGradientLine,ie=W.showGradientFill,J=W.anyFill,j=W.anyLine,se=K[0],ne=se.trace,ue,ge,we=d(ne),xe=we.colorscale,Fe=we.reversescale,ze=function(Ve){if(Ve.size())if(Z)T.fillGroupStyle(Ve,A);else{var rt="legendfill-"+ne.uid;T.gradient(Ve,A,rt,b(Fe),xe,"fill")}},Te=function(Ve){if(Ve.size()){var rt="legendline-"+ne.uid;T.lineGroupStyle(Ve),T.gradient(Ve,A,rt,b(Fe),xe,"stroke")}},ye=t.hasMarkers(ne)||!J?"M5,0":j?"M5,-2":"M5,-3",Ae=g.select(this),Ne=Ae.select(".legendfill").selectAll("path").data(Z||ie?[K]:[]);if(Ne.enter().append("path").classed("js-fill",!0),Ne.exit().remove(),Ne.attr("d",ye+"h"+w+"v6h-"+w+"z").call(ze),X||$){var Ue=y(void 0,ne.line,x,f);ge=a.minExtend(ne,{line:{width:Ue}}),ue=[a.minExtend(se,{trace:ge})]}var Re=Ae.select(".legendlines").selectAll("path").data(X||$?[ue]:[]);Re.enter().append("path").classed("js-line",!0),Re.exit().remove(),Re.attr("d",ye+($?"l"+w+",0.0001":"h"+w)).call(X?T.lineGroupStyle:Te)}function I(K){var W=h(K),Z=W.anyFill,X=W.anyLine,$=W.showLine,ie=W.showMarker,J=K[0],j=J.trace,se=!ie&&!X&&!Z&&t.hasText(j),ne,ue;function ge(Ne,Ue,Re,Ve){var rt=a.nestedProperty(j,Ne).get(),Qe=a.isArrayOrTypedArray(rt)&&Ue?Ue(rt):rt;if(M&&Qe&&Ve!==void 0&&(Qe=Ve),Re){if(Qe<Re[0])return Re[0];if(Qe>Re[1])return Re[1]}return Qe}function we(Ne){return J._distinct&&J.index&&Ne[J.index]?Ne[J.index]:Ne[0]}if(ie||se||$){var xe={},Fe={};if(ie){xe.mc=ge("marker.color",we),xe.mx=ge("marker.symbol",we),xe.mo=ge("marker.opacity",a.mean,[.2,1]),xe.mlc=ge("marker.line.color",we),xe.mlw=ge("marker.line.width",a.mean,[0,5],l),Fe.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var ze=ge("marker.size",a.mean,[2,16],s);xe.ms=ze,Fe.marker.size=ze}$&&(Fe.line={width:ge("line.width",we,[0,10],f)}),se&&(xe.tx="Aa",xe.tp=ge("textposition",we),xe.ts=10,xe.tc=ge("textfont.color",we),xe.tf=ge("textfont.family",we)),ne=[a.minExtend(J,xe)],ue=a.minExtend(j,Fe),ue.selectedpoints=null,ue.texttemplate=null}var Te=g.select(this).select("g.legendpoints"),ye=Te.selectAll("path.scatterpts").data(ie?ne:[]);ye.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",C),ye.exit().remove(),ye.call(T.pointStyle,ue,A),ie&&(ne[0].mrc=3);var Ae=Te.selectAll("g.pointtext").data(se?ne:[]);Ae.enter().append("g").classed("pointtext",!0).append("text").attr("transform",C),Ae.exit().remove(),Ae.selectAll("text").call(T.textPointStyle,ue,A)}function N(K){var W=K[0].trace,Z=W.type==="waterfall";if(K[0]._distinct&&Z){var X=K[0].trace[K[0].dir].marker;return K[0].mc=X.color,K[0].mlw=X.line.width,K[0].mlc=X.line.color,z(K,this,"waterfall")}var $=[];W.visible&&Z&&($=K[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var ie=g.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data($);ie.enter().append("path").classed("legendwaterfall",!0).attr("transform",C).style("stroke-miterlimit",1),ie.exit().remove(),ie.each(function(J){var j=g.select(this),se=W[J[0]].marker,ne=y(void 0,se.line,c,l);j.attr("d",J[1]).style("stroke-width",ne+"px").call(v.fill,se.color),ne&&j.call(v.stroke,se.line.color)})}function k(K){z(K,this)}function O(K){z(K,this,"funnel")}function z(K,W,Z){var X=K[0].trace,$=X.marker||{},ie=$.line||{},J=Z?X.visible&&X.type===Z:P.traceIs(X,"bar"),j=g.select(W).select("g.legendpoints").selectAll("path.legend"+Z).data(J?[K]:[]);j.enter().append("path").classed("legend"+Z,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",C),j.exit().remove(),j.each(function(se){var ne=g.select(this),ue=se[0],ge=y(ue.mlw,$.line,c,l);ne.style("stroke-width",ge+"px");var we=ue.mcc;if(!E._inHover&&"mc"in ue){var xe=d($),Fe=xe.mid;Fe===void 0&&(Fe=(xe.max+xe.min)/2),we=T.tryColorscale($,"")(Fe)}var ze=we||ue.mc||$.color,Te=$.pattern,ye=Te&&T.getPatternAttr(Te.shape,0,"");if(ye){var Ae=T.getPatternAttr(Te.bgcolor,0,null),Ne=T.getPatternAttr(Te.fgcolor,0,null),Ue=Te.fgopacity,Re=o(Te.size,8,10),Ve=o(Te.solidity,.5,1),rt="legend-"+X.uid;ne.call(T.pattern,"legend",A,rt,ye,Re,Ve,we,Te.fillmode,Ae,Ne,Ue)}else ne.call(v.fill,ze);ge&&v.stroke(ne,ue.mlc||ie.color)})}function F(K){var W=K[0].trace,Z=g.select(this).select("g.legendpoints").selectAll("path.legendbox").data(W.visible&&P.traceIs(W,"box-violin")?[K]:[]);Z.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",C),Z.exit().remove(),Z.each(function(){var X=g.select(this);if((W.boxpoints==="all"||W.points==="all")&&v.opacity(W.fillcolor)===0&&v.opacity((W.line||{}).color)===0){var $=a.minExtend(W,{marker:{size:M?s:a.constrain(W.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});Z.call(T.pointStyle,$,A)}else{var ie=y(void 0,W.line,c,l);X.style("stroke-width",ie+"px").call(v.fill,W.fillcolor),ie&&v.stroke(X,W.line.color)}})}function B(K){var W=K[0].trace,Z=g.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(W.visible&&W.type==="candlestick"?[K,K]:[]);Z.enter().append("path").classed("legendcandle",!0).attr("d",function(X,$){return $?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",C).style("stroke-miterlimit",1),Z.exit().remove(),Z.each(function(X,$){var ie=g.select(this),J=W[$?"increasing":"decreasing"],j=y(void 0,J.line,c,l);ie.style("stroke-width",j+"px").call(v.fill,J.fillcolor),j&&v.stroke(ie,J.line.color)})}function G(K){var W=K[0].trace,Z=g.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(W.visible&&W.type==="ohlc"?[K,K]:[]);Z.enter().append("path").classed("legendohlc",!0).attr("d",function(X,$){return $?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",C).style("stroke-miterlimit",1),Z.exit().remove(),Z.each(function(X,$){var ie=g.select(this),J=W[$?"increasing":"decreasing"],j=y(void 0,J.line,c,l);ie.style("fill","none").call(T.dashLine,J.line.dash,j),j&&v.stroke(ie,J.line.color)})}function Q(K){ae(K,this,"pie")}function ee(K){ae(K,this,"funnelarea")}function ae(K,W,Z){var X=K[0],$=X.trace,ie=Z?$.visible&&$.type===Z:P.traceIs($,Z),J=g.select(W).select("g.legendpoints").selectAll("path.legend"+Z).data(ie?[K]:[]);if(J.enter().append("path").classed("legend"+Z,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",C),J.exit().remove(),J.size()){var j=$.marker||{},se=y(u(j.line.width,X.pts),j.line,c,l),ne="pieLike",ue=a.minExtend($,{marker:{line:{width:se}}},ne),ge=a.minExtend(X,{trace:ue},ne);r(J,ge,ue,A)}}function fe(K){var W=K[0].trace,Z,X=[];if(W.visible)switch(W.type){case"histogram2d":case"heatmap":X=[["M-15,-2V4H15V-2Z"]],Z=!0;break;case"choropleth":case"choroplethmapbox":X=[["M-6,-6V6H6V-6Z"]],Z=!0;break;case"densitymapbox":X=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],Z="radial";break;case"cone":X=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],Z=!1;break;case"streamtube":X=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],Z=!1;break;case"surface":X=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],Z=!0;break;case"mesh3d":X=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],Z=!1;break;case"volume":X=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],Z=!0;break;case"isosurface":X=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],Z=!1;break}var $=g.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(X);$.enter().append("path").classed("legend3dandfriends",!0).attr("transform",C).style("stroke-miterlimit",1),$.exit().remove(),$.each(function(ie,J){var j=g.select(this),se=d(W),ne=se.colorscale,ue=se.reversescale,ge=function(ze){if(ze.size()){var Te="legendfill-"+W.uid;T.gradient(ze,A,Te,b(ue,Z==="radial"),ne,"fill")}},we;if(ne){if(!Z){var Fe=ne.length;we=J===0?ne[ue?Fe-1:0][1]:J===1?ne[ue?0:Fe-1][1]:ne[Math.floor((Fe-1)/2)][1]}}else{var xe=W.vertexcolor||W.facecolor||W.color;we=a.isArrayOrTypedArray(xe)?xe[J]||xe[0]:xe}j.attr("d",ie[0]),we?j.call(v.fill,we):j.call(ge)})}};function b(p,S){var A=S?"radial":"horizontal";return A+(p?"":"reversed")}function h(p){var S=p[0].trace,A=S.contours,E=t.hasLines(S),m=t.hasMarkers(S),M=S.visible&&S.fill&&S.fill!=="none",w=!1,i=!1;if(A){var C=A.coloring;C==="lines"?w=!0:E=C==="none"||C==="heatmap"||A.showlines,A.type==="constraint"?M=A._operation!=="=":(C==="fill"||C==="heatmap")&&(i=!0)}return{showMarker:m,showLine:E,showFill:M,showGradientLine:w,showGradientFill:i,anyLine:E||w,anyFill:M||i}}function o(p,S,A){return p&&a.isArrayOrTypedArray(p)?S:p>A?A:p}},42068:function(H,U,e){e(93348),H.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},26023:function(H,U,e){var g=e(73972),P=e(74875),a=e(41675),L=e(24255),T=e(34031).eraseActiveShape,v=e(71828),d=v._,t=H.exports={};t.toImage={name:"toImage",title:function(p){var S=p._context.toImageButtonOptions||{},A=S.format||"png";return A==="png"?d(p,"Download plot as a png"):d(p,"Download plot")},icon:L.camera,click:function(p){var S=p._context.toImageButtonOptions,A={format:S.format||"png"};v.notifier(d(p,"Taking snapshot - this may take a few seconds"),"long"),A.format!=="svg"&&v.isIE()&&(v.notifier(d(p,"IE only supports svg.  Changing format to svg."),"long"),A.format="svg"),["filename","width","height","scale"].forEach(function(E){E in S&&(A[E]=S[E])}),g.call("downloadImage",p,A).then(function(E){v.notifier(d(p,"Snapshot succeeded")+" - "+E,"long")}).catch(function(){v.notifier(d(p,"Sorry, there was a problem downloading your snapshot!"),"long")})}},t.sendDataToCloud={name:"sendDataToCloud",title:function(p){return d(p,"Edit in Chart Studio")},icon:L.disk,click:function(p){P.sendDataToCloud(p)}},t.editInChartStudio={name:"editInChartStudio",title:function(p){return d(p,"Edit in Chart Studio")},icon:L.pencil,click:function(p){P.sendDataToCloud(p)}},t.zoom2d={name:"zoom2d",_cat:"zoom",title:function(p){return d(p,"Zoom")},attr:"dragmode",val:"zoom",icon:L.zoombox,click:r},t.pan2d={name:"pan2d",_cat:"pan",title:function(p){return d(p,"Pan")},attr:"dragmode",val:"pan",icon:L.pan,click:r},t.select2d={name:"select2d",_cat:"select",title:function(p){return d(p,"Box Select")},attr:"dragmode",val:"select",icon:L.selectbox,click:r},t.lasso2d={name:"lasso2d",_cat:"lasso",title:function(p){return d(p,"Lasso Select")},attr:"dragmode",val:"lasso",icon:L.lasso,click:r},t.drawclosedpath={name:"drawclosedpath",title:function(p){return d(p,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:L.drawclosedpath,click:r},t.drawopenpath={name:"drawopenpath",title:function(p){return d(p,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:L.drawopenpath,click:r},t.drawline={name:"drawline",title:function(p){return d(p,"Draw line")},attr:"dragmode",val:"drawline",icon:L.drawline,click:r},t.drawrect={name:"drawrect",title:function(p){return d(p,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:L.drawrect,click:r},t.drawcircle={name:"drawcircle",title:function(p){return d(p,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:L.drawcircle,click:r},t.eraseshape={name:"eraseshape",title:function(p){return d(p,"Erase active shape")},icon:L.eraseshape,click:T},t.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(p){return d(p,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:r},t.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(p){return d(p,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:r},t.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(p){return d(p,"Autoscale")},attr:"zoom",val:"auto",icon:L.autoscale,click:r},t.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(p){return d(p,"Reset axes")},attr:"zoom",val:"reset",icon:L.home,click:r},t.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(p){return d(p,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:L.tooltip_basic,gravity:"ne",click:r},t.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(p){return d(p,"Compare data on hover")},attr:"hovermode",val:function(p){return p._fullLayout._isHoriz?"y":"x"},icon:L.tooltip_compare,gravity:"ne",click:r};function r(p,S){var A=S.currentTarget,E=A.getAttribute("data-attr"),m=A.getAttribute("data-val")||!0,M=p._fullLayout,w={},i=a.list(p,null,!0),C=M._cartesianSpikesEnabled,y,_;if(E==="zoom"){var I=m==="in"?.5:2,N=(1+I)/2,k=(1-I)/2,O;for(_=0;_<i.length;_++)if(y=i[_],!y.fixedrange)if(O=y._name,m==="auto")w[O+".autorange"]=!0;else if(m==="reset")y._rangeInitial0===void 0&&y._rangeInitial1===void 0?w[O+".autorange"]=!0:y._rangeInitial0===void 0?(w[O+".autorange"]=y._autorangeInitial,w[O+".range"]=[null,y._rangeInitial1]):y._rangeInitial1===void 0?(w[O+".range"]=[y._rangeInitial0,null],w[O+".autorange"]=y._autorangeInitial):w[O+".range"]=[y._rangeInitial0,y._rangeInitial1],y._showSpikeInitial!==void 0&&(w[O+".showspikes"]=y._showSpikeInitial,C==="on"&&!y._showSpikeInitial&&(C="off"));else{var z=[y.r2l(y.range[0]),y.r2l(y.range[1])],F=[N*z[0]+k*z[1],N*z[1]+k*z[0]];w[O+".range[0]"]=y.l2r(F[0]),w[O+".range[1]"]=y.l2r(F[1])}}else E==="hovermode"&&(m==="x"||m==="y")&&(m=M._isHoriz?"y":"x",A.setAttribute("data-val",m)),w[E]=m;M._cartesianSpikesEnabled=C,g.call("_guiRelayout",p,w)}t.zoom3d={name:"zoom3d",_cat:"zoom",title:function(p){return d(p,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:L.zoombox,click:u},t.pan3d={name:"pan3d",_cat:"pan",title:function(p){return d(p,"Pan")},attr:"scene.dragmode",val:"pan",icon:L.pan,click:u},t.orbitRotation={name:"orbitRotation",title:function(p){return d(p,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:L["3d_rotate"],click:u},t.tableRotation={name:"tableRotation",title:function(p){return d(p,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:L["z-axis"],click:u};function u(p,S){for(var A=S.currentTarget,E=A.getAttribute("data-attr"),m=A.getAttribute("data-val")||!0,M=p._fullLayout._subplots.gl3d||[],w={},i=E.split("."),C=0;C<M.length;C++)w[M[C]+"."+i[1]]=m;var y=m==="pan"?m:"zoom";w.dragmode=y,g.call("_guiRelayout",p,w)}t.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(p){return d(p,"Reset camera to default")},attr:"resetDefault",icon:L.home,click:n},t.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(p){return d(p,"Reset camera to last save")},attr:"resetLastSave",icon:L.movie,click:n};function n(p,S){for(var A=S.currentTarget,E=A.getAttribute("data-attr"),m=E==="resetLastSave",M=E==="resetDefault",w=p._fullLayout,i=w._subplots.gl3d||[],C={},y=0;y<i.length;y++){var _=i[y],I=_+".camera",N=_+".aspectratio",k=_+".aspectmode",O=w[_]._scene,z;m?(C[I+".up"]=O.viewInitial.up,C[I+".eye"]=O.viewInitial.eye,C[I+".center"]=O.viewInitial.center,z=!0):M&&(C[I+".up"]=null,C[I+".eye"]=null,C[I+".center"]=null,z=!0),z&&(C[N+".x"]=O.viewInitial.aspectratio.x,C[N+".y"]=O.viewInitial.aspectratio.y,C[N+".z"]=O.viewInitial.aspectratio.z,C[k]=O.viewInitial.aspectmode)}g.call("_guiRelayout",p,C)}t.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(p){return d(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:f};function s(p,S){var A=S.currentTarget,E=A._previousVal,m=p._fullLayout,M=m._subplots.gl3d||[],w=["xaxis","yaxis","zaxis"],i={},C={};if(E)C=E,A._previousVal=null;else{for(var y=0;y<M.length;y++){var _=M[y],I=m[_],N=_+".hovermode";i[N]=I.hovermode,C[N]=!1;for(var k=0;k<3;k++){var O=w[k],z=_+"."+O+".showspikes";C[z]=!1,i[z]=I[O].showspikes}}A._previousVal=i}return C}function f(p,S){var A=s(p,S);g.call("_guiRelayout",p,A)}t.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(p){return d(p,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:l},t.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(p){return d(p,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:l},t.resetGeo={name:"resetGeo",_cat:"reset",title:function(p){return d(p,"Reset")},attr:"reset",val:null,icon:L.autoscale,click:l},t.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(p){return d(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:c};function l(p,S){for(var A=S.currentTarget,E=A.getAttribute("data-attr"),m=A.getAttribute("data-val")||!0,M=p._fullLayout,w=M._subplots.geo||[],i=0;i<w.length;i++){var C=w[i],y=M[C];if(E==="zoom"){var _=y.projection.scale,I=m==="in"?2*_:.5*_;g.call("_guiRelayout",p,C+".projection.scale",I)}}E==="reset"&&o(p,"geo")}t.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(p){return d(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:c},t.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(p){return d(p,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:L.tooltip_basic,gravity:"ne",click:c};function x(p){var S=p._fullLayout;return S.hovermode?!1:S._has("cartesian")?S._isHoriz?"y":"x":"closest"}function c(p){var S=x(p);g.call("_guiRelayout",p,"hovermode",S)}t.resetViewSankey={name:"resetSankeyGroup",title:function(p){return d(p,"Reset view")},icon:L.home,click:function(p){for(var S={"node.groups":[],"node.x":[],"node.y":[]},A=0;A<p._fullData.length;A++){var E=p._fullData[A]._viewInitial;S["node.groups"].push(E.node.groups.slice()),S["node.x"].push(E.node.x.slice()),S["node.y"].push(E.node.y.slice())}g.call("restyle",p,S)}},t.toggleHover={name:"toggleHover",title:function(p){return d(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:function(p,S){var A=s(p,S);A.hovermode=x(p),g.call("_guiRelayout",p,A)}},t.resetViews={name:"resetViews",title:function(p){return d(p,"Reset views")},icon:L.home,click:function(p,S){var A=S.currentTarget;A.setAttribute("data-attr","zoom"),A.setAttribute("data-val","reset"),r(p,S),A.setAttribute("data-attr","resetLastSave"),n(p,S),o(p,"geo"),o(p,"mapbox")}},t.toggleSpikelines={name:"toggleSpikelines",title:function(p){return d(p,"Toggle Spike Lines")},icon:L.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(p){var S=p._fullLayout,A=S._cartesianSpikesEnabled;S._cartesianSpikesEnabled=A==="on"?"off":"on",g.call("_guiRelayout",p,b(p))}};function b(p){for(var S=p._fullLayout,A=S._cartesianSpikesEnabled==="on",E=a.list(p,null,!0),m={},M=0;M<E.length;M++){var w=E[M];m[w._name+".showspikes"]=A?!0:w._showSpikeInitial}return m}t.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(p){return d(p,"Reset view")},attr:"reset",icon:L.home,click:function(p){o(p,"mapbox")}},t.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(p){return d(p,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:h},t.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(p){return d(p,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:h};function h(p,S){for(var A=S.currentTarget,E=A.getAttribute("data-val"),m=p._fullLayout,M=m._subplots.mapbox||[],w=1.05,i={},C=0;C<M.length;C++){var y=M[C],_=m[y].zoom,I=E==="in"?w*_:_/w;i[y+".zoom"]=I}g.call("_guiRelayout",p,i)}function o(p,S){for(var A=p._fullLayout,E=A._subplots[S]||[],m={},M=0;M<E.length;M++)for(var w=E[M],i=A[w]._subplot,C=i.viewInitial,y=Object.keys(C),_=0;_<y.length;_++){var I=y[_];m[w+"."+I]=C[I]}g.call("_guiRelayout",p,m)}},93348:function(H,U,e){var g=e(26023),P=Object.keys(g),a=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],L=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(a),T=[],v=function(d){if(L.indexOf(d._cat||d.name)===-1){var t=d.name,r=(d._cat||d.name).toLowerCase();T.indexOf(t)===-1&&T.push(t),T.indexOf(r)===-1&&T.push(r)}};P.forEach(function(d){v(g[d])}),T.sort(),H.exports={DRAW_MODES:a,backButtons:L,foreButtons:T}},35750:function(H,U,e){var g=e(71828),P=e(7901),a=e(44467),L=e(42068);H.exports=function(v,d){var t=v.modebar||{},r=a.newContainer(d,"modebar");function u(s,f){return g.coerce(t,r,L,s,f)}u("orientation"),u("bgcolor",P.addOpacity(d.paper_bgcolor,.5));var n=P.contrast(P.rgb(d.modebar.bgcolor));u("color",P.addOpacity(n,.3)),u("activecolor",P.addOpacity(n,.7)),u("uirevision",d.uirevision),u("add"),u("remove")}},64168:function(H,U,e){H.exports={moduleType:"component",name:"modebar",layoutAttributes:e(42068),supplyLayoutDefaults:e(35750),manage:e(14192)}},14192:function(H,U,e){var g=e(41675),P=e(34098),a=e(73972),L=e(23469).isUnifiedHover,T=e(37676),v=e(26023),d=e(93348).DRAW_MODES,t=e(71828).extendDeep;H.exports=function(c){var b=c._fullLayout,h=c._context,o=b._modeBar;if(!h.displayModeBar&&!h.watermark){o&&(o.destroy(),delete b._modeBar);return}if(!Array.isArray(h.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(h.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var p=h.modeBarButtons,S;Array.isArray(p)&&p.length?S=l(p):!h.displayModeBar&&h.watermark?S=[]:S=r(c),o?o.update(c,S):b._modeBar=T(c,S)};function r(x){var c=x._fullLayout,b=x._fullData,h=x._context;function o(J,j){if(typeof j=="string"){if(j.toLowerCase()===J.toLowerCase())return!0}else{var se=j.name,ne=j._cat||j.name;if(se===J||ne===J.toLowerCase())return!0}return!1}var p=c.modebar.add;typeof p=="string"&&(p=[p]);var S=c.modebar.remove;typeof S=="string"&&(S=[S]);var A=h.modeBarButtonsToAdd.concat(p.filter(function(J){for(var j=0;j<h.modeBarButtonsToRemove.length;j++)if(o(J,h.modeBarButtonsToRemove[j]))return!1;return!0})),E=h.modeBarButtonsToRemove.concat(S.filter(function(J){for(var j=0;j<h.modeBarButtonsToAdd.length;j++)if(o(J,h.modeBarButtonsToAdd[j]))return!1;return!0})),m=c._has("cartesian"),M=c._has("gl3d"),w=c._has("geo"),i=c._has("pie"),C=c._has("funnelarea"),y=c._has("gl2d"),_=c._has("ternary"),I=c._has("mapbox"),N=c._has("polar"),k=c._has("smith"),O=c._has("sankey"),z=u(c),F=L(c.hovermode),B=[];function G(J){if(J.length){for(var j=[],se=0;se<J.length;se++){for(var ne=J[se],ue=v[ne],ge=ue.name.toLowerCase(),we=(ue._cat||ue.name).toLowerCase(),xe=!1,Fe=0;Fe<E.length;Fe++){var ze=E[Fe].toLowerCase();if(ze===ge||ze===we){xe=!0;break}}xe||j.push(v[ne])}B.push(j)}}var Q=["toImage"];h.showEditInChartStudio?Q.push("editInChartStudio"):h.showSendToCloud&&Q.push("sendDataToCloud"),G(Q);var ee=[],ae=[],fe=[],K=[];(m||y||i||C||_)+w+M+I+N+k>1?(ae=["toggleHover"],fe=["resetViews"]):w?(ee=["zoomInGeo","zoomOutGeo"],ae=["hoverClosestGeo"],fe=["resetGeo"]):M?(ae=["hoverClosest3d"],fe=["resetCameraDefault3d","resetCameraLastSave3d"]):I?(ee=["zoomInMapbox","zoomOutMapbox"],ae=["toggleHover"],fe=["resetViewMapbox"]):y?ae=["hoverClosestGl2d"]:i?ae=["hoverClosestPie"]:O?(ae=["hoverClosestCartesian","hoverCompareCartesian"],fe=["resetViewSankey"]):ae=["toggleHover"],m&&(ae=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(s(b)||F)&&(ae=[]),(m||y)&&!z&&(ee=["zoomIn2d","zoomOut2d","autoScale2d"],fe[0]!=="resetViews"&&(fe=["resetScale2d"])),M?K=["zoom3d","pan3d","orbitRotation","tableRotation"]:(m||y)&&!z||_?K=["zoom2d","pan2d"]:I||w?K=["pan2d"]:N&&(K=["zoom2d"]),n(b)&&K.push("select2d","lasso2d");var W=[],Z=function(J){W.indexOf(J)===-1&&ae.indexOf(J)!==-1&&W.push(J)};if(Array.isArray(A)){for(var X=[],$=0;$<A.length;$++){var ie=A[$];typeof ie=="string"?(ie=ie.toLowerCase(),d.indexOf(ie)!==-1?(c._has("mapbox")||c._has("cartesian"))&&K.push(ie):ie==="togglespikelines"?Z("toggleSpikelines"):ie==="togglehover"?Z("toggleHover"):ie==="hovercompare"?Z("hoverCompareCartesian"):ie==="hoverclosest"?(Z("hoverClosestCartesian"),Z("hoverClosestGeo"),Z("hoverClosest3d"),Z("hoverClosestGl2d"),Z("hoverClosestPie")):ie==="v1hovermode"&&(Z("toggleHover"),Z("hoverClosestCartesian"),Z("hoverCompareCartesian"),Z("hoverClosestGeo"),Z("hoverClosest3d"),Z("hoverClosestGl2d"),Z("hoverClosestPie"))):X.push(ie)}A=X}return G(K),G(ee.concat(fe)),G(W),f(B,A)}function u(x){for(var c=g.list({_fullLayout:x},null,!0),b=0;b<c.length;b++)if(!c[b].fixedrange)return!1;return!0}function n(x){for(var c=!1,b=0;b<x.length&&!c;b++){var h=x[b];!h._module||!h._module.selectPoints||(a.traceIs(h,"scatter-like")?(P.hasMarkers(h)||P.hasText(h))&&(c=!0):a.traceIs(h,"box-violin")?(h.boxpoints==="all"||h.points==="all")&&(c=!0):c=!0)}return c}function s(x){for(var c=0;c<x.length;c++)if(!a.traceIs(x[c],"noHover"))return!1;return!0}function f(x,c){if(c.length)if(Array.isArray(c[0]))for(var b=0;b<c.length;b++)x.push(c[b]);else x.push(c);return x}function l(x){for(var c=t([],x),b=0;b<c.length;b++)for(var h=c[b],o=0;o<h.length;o++){var p=h[o];if(typeof p=="string")if(v[p]!==void 0)c[b][o]=v[p];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return c}},37676:function(H,U,e){var g=e(39898),P=e(92770),a=e(71828),L=e(24255),T=e(11506).version,v=new DOMParser;function d(n){this.container=n.container,this.element=document.createElement("div"),this.update(n.graphInfo,n.buttons),this.container.appendChild(this.element)}var t=d.prototype;t.update=function(n,s){this.graphInfo=n;var f=this.graphInfo._context,l=this.graphInfo._fullLayout,x="modebar-"+l._uid;this.element.setAttribute("id",x),this._uid=x,this.element.className="modebar",f.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),l.modebar.orientation==="v"&&(this.element.className+=" vertical",s=s.reverse());var c=l.modebar,b=f.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";a.deleteRelatedStyleRule(x),a.addRelatedStyleRule(x,b+"#"+x+" .modebar-group","background-color: "+c.bgcolor),a.addRelatedStyleRule(x,"#"+x+" .modebar-btn .icon path","fill: "+c.color),a.addRelatedStyleRule(x,"#"+x+" .modebar-btn:hover .icon path","fill: "+c.activecolor),a.addRelatedStyleRule(x,"#"+x+" .modebar-btn.active .icon path","fill: "+c.activecolor);var h=!this.hasButtons(s),o=this.hasLogo!==f.displaylogo,p=this.locale!==f.locale;if(this.locale=f.locale,(h||o||p)&&(this.removeAllButtons(),this.updateButtons(s),f.watermark||f.displaylogo)){var S=this.getLogo();f.watermark&&(S.className=S.className+" watermark"),l.modebar.orientation==="v"?this.element.insertBefore(S,this.element.childNodes[0]):this.element.appendChild(S),this.hasLogo=!0}this.updateActiveButton()},t.updateButtons=function(n){var s=this;this.buttons=n,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(f){var l=s.createGroup();f.forEach(function(x){var c=x.name;if(!c)throw new Error("must provide button 'name' in button config");if(s.buttonsNames.indexOf(c)!==-1)throw new Error("button name '"+c+"' is taken");s.buttonsNames.push(c);var b=s.createButton(x);s.buttonElements.push(b),l.appendChild(b)}),s.element.appendChild(l)})},t.createGroup=function(){var n=document.createElement("div");return n.className="modebar-group",n},t.createButton=function(n){var s=this,f=document.createElement("a");f.setAttribute("rel","tooltip"),f.className="modebar-btn";var l=n.title;l===void 0?l=n.name:typeof l=="function"&&(l=l(this.graphInfo)),(l||l===0)&&f.setAttribute("data-title",l),n.attr!==void 0&&f.setAttribute("data-attr",n.attr);var x=n.val;x!==void 0&&(typeof x=="function"&&(x=x(this.graphInfo)),f.setAttribute("data-val",x));var c=n.click;if(typeof c!="function")throw new Error("must provide button 'click' function in button config");f.addEventListener("click",function(h){n.click(s.graphInfo,h),s.updateActiveButton(h.currentTarget)}),f.setAttribute("data-toggle",n.toggle||!1),n.toggle&&g.select(f).classed("active",!0);var b=n.icon;return typeof b=="function"?f.appendChild(b()):f.appendChild(this.createIcon(b||L.question)),f.setAttribute("data-gravity",n.gravity||"n"),f},t.createIcon=function(n){var s=P(n.height)?Number(n.height):n.ascent-n.descent,f="http://www.w3.org/2000/svg",l;if(n.path){l=document.createElementNS(f,"svg"),l.setAttribute("viewBox",[0,0,n.width,s].join(" ")),l.setAttribute("class","icon");var x=document.createElementNS(f,"path");x.setAttribute("d",n.path),n.transform?x.setAttribute("transform",n.transform):n.ascent!==void 0&&x.setAttribute("transform","matrix(1 0 0 -1 0 "+n.ascent+")"),l.appendChild(x)}if(n.svg){var c=v.parseFromString(n.svg,"application/xml");l=c.childNodes[0]}return l.setAttribute("height","1em"),l.setAttribute("width","1em"),l},t.updateActiveButton=function(n){var s=this.graphInfo._fullLayout,f=n!==void 0?n.getAttribute("data-attr"):null;this.buttonElements.forEach(function(l){var x=l.getAttribute("data-val")||!0,c=l.getAttribute("data-attr"),b=l.getAttribute("data-toggle")==="true",h=g.select(l);if(b)c===f&&h.classed("active",!h.classed("active"));else{var o=c===null?c:a.nestedProperty(s,c).get();h.classed("active",o===x)}})},t.hasButtons=function(n){var s=this.buttons;if(!s||n.length!==s.length)return!1;for(var f=0;f<n.length;++f){if(n[f].length!==s[f].length)return!1;for(var l=0;l<n[f].length;l++)if(n[f][l].name!==s[f][l].name)return!1}return!0};function r(n){return n+" (v"+T+")"}t.getLogo=function(){var n=this.createGroup(),s=document.createElement("a");return s.href="https://plotly.com/",s.target="_blank",s.setAttribute("data-title",r(a._(this.graphInfo,"Produced with Plotly.js"))),s.className="modebar-btn plotlyjsicon modebar-btn--logo",s.appendChild(this.createIcon(L.newplotlylogo)),n.appendChild(s),n},t.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},t.destroy=function(){a.removeElement(this.container.querySelector(".modebar")),a.deleteRelatedStyleRule(this._uid)};function u(n,s){var f=n._fullLayout,l=new d({graphInfo:n,container:f._modebardiv.node(),buttons:s});return f._privateplot&&g.select(l.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),l}H.exports=u},37113:function(H,U,e){var g=e(41940),P=e(22399),a=e(44467).templatedArray,L=a("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});H.exports={visible:{valType:"boolean",editType:"plot"},buttons:L,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:g({editType:"plot"}),bgcolor:{valType:"color",dflt:P.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:P.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},89573:function(H){H.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},28674:function(H,U,e){var g=e(71828),P=e(7901),a=e(44467),L=e(85501),T=e(37113),v=e(89573);H.exports=function(u,n,s,f,l){var x=u.rangeselector||{},c=a.newContainer(n,"rangeselector");function b(A,E){return g.coerce(x,c,T,A,E)}var h=L(x,c,{name:"buttons",handleItemDefaults:d,calendar:l}),o=b("visible",h.length>0);if(o){var p=t(n,s,f);b("x",p[0]),b("y",p[1]),g.noneOrAll(u,n,["x","y"]),b("xanchor"),b("yanchor"),g.coerceFont(b,"font",s.font);var S=b("bgcolor");b("activecolor",P.contrast(S,v.lightAmount,v.darkAmount)),b("bordercolor"),b("borderwidth")}};function d(r,u,n,s){var f=s.calendar;function l(b,h){return g.coerce(r,u,T.buttons,b,h)}var x=l("visible");if(x){var c=l("step");c!=="all"&&(f&&f!=="gregorian"&&(c==="month"||c==="year")?u.stepmode="backward":l("stepmode"),l("count")),l("label")}}function t(r,u,n){for(var s=n.filter(function(c){return u[c].anchor===r._id}),f=0,l=0;l<s.length;l++){var x=u[s[l]].domain;x&&(f=Math.max(x[1],f))}return[r.domain[0],f+v.yPad]}},21598:function(H,U,e){var g=e(39898),P=e(73972),a=e(74875),L=e(7901),T=e(91424),v=e(71828),d=v.strTranslate,t=e(63893),r=e(41675),u=e(18783),n=u.LINE_SPACING,s=u.FROM_TL,f=u.FROM_BR,l=e(89573),x=e(70565);H.exports=function(M){var w=M._fullLayout,i=w._infolayer.selectAll(".rangeselector").data(c(M),b);i.enter().append("g").classed("rangeselector",!0),i.exit().remove(),i.style({cursor:"pointer","pointer-events":"all"}),i.each(function(C){var y=g.select(this),_=C,I=_.rangeselector,N=y.selectAll("g.button").data(v.filterVisible(I.buttons));N.enter().append("g").classed("button",!0),N.exit().remove(),N.each(function(k){var O=g.select(this),z=x(_,k);k._isActive=h(_,k,z),O.call(o,I,k),O.call(S,I,k,M),O.on("click",function(){M._dragged||P.call("_guiRelayout",M,z)}),O.on("mouseover",function(){k._isHovered=!0,O.call(o,I,k)}),O.on("mouseout",function(){k._isHovered=!1,O.call(o,I,k)})}),E(M,N,I,_._name,y)})};function c(m){for(var M=r.list(m,"x",!0),w=[],i=0;i<M.length;i++){var C=M[i];C.rangeselector&&C.rangeselector.visible&&w.push(C)}return w}function b(m){return m._id}function h(m,M,w){if(M.step==="all")return m.autorange===!0;var i=Object.keys(w);return m.range[0]===w[i[0]]&&m.range[1]===w[i[1]]}function o(m,M,w){var i=v.ensureSingle(m,"rect","selector-rect",function(C){C.attr("shape-rendering","crispEdges")});i.attr({rx:l.rx,ry:l.ry}),i.call(L.stroke,M.bordercolor).call(L.fill,p(M,w)).style("stroke-width",M.borderwidth+"px")}function p(m,M){return M._isActive||M._isHovered?m.activecolor:m.bgcolor}function S(m,M,w,i){function C(_){t.convertToTspans(_,i)}var y=v.ensureSingle(m,"text","selector-text",function(_){_.attr("text-anchor","middle")});y.call(T.font,M.font).text(A(w,i._fullLayout._meta)).call(C)}function A(m,M){return m.label?M?v.templateString(m.label,M):m.label:m.step==="all"?"all":m.count+m.step.charAt(0)}function E(m,M,w,i,C){var y=0,_=0,I=w.borderwidth;M.each(function(){var B=g.select(this),G=B.select(".selector-text"),Q=w.font.size*n,ee=Math.max(Q*t.lineCount(G),16)+3;_=Math.max(_,ee)}),M.each(function(){var B=g.select(this),G=B.select(".selector-rect"),Q=B.select(".selector-text"),ee=Q.node()&&T.bBox(Q.node()).width,ae=w.font.size*n,fe=t.lineCount(Q),K=Math.max(ee+10,l.minButtonWidth);B.attr("transform",d(I+y,I)),G.attr({x:0,y:0,width:K,height:_}),t.positionText(Q,K/2,_/2-(fe-1)*ae/2+3),y+=K+5});var N=m._fullLayout._size,k=N.l+N.w*w.x,O=N.t+N.h*(1-w.y),z="left";v.isRightAnchor(w)&&(k-=y,z="right"),v.isCenterAnchor(w)&&(k-=y/2,z="center");var F="top";v.isBottomAnchor(w)&&(O-=_,F="bottom"),v.isMiddleAnchor(w)&&(O-=_/2,F="middle"),y=Math.ceil(y),_=Math.ceil(_),k=Math.round(k),O=Math.round(O),a.autoMargin(m,i+"-range-selector",{x:w.x,y:w.y,l:y*s[z],r:y*f[z],b:_*f[F],t:_*s[F]}),C.attr("transform",d(k,O))}},70565:function(H,U,e){var g=e(81041),P=e(71828).titleCase;H.exports=function(T,v){var d=T._name,t={};if(v.step==="all")t[d+".autorange"]=!0;else{var r=a(T,v);t[d+".range[0]"]=r[0],t[d+".range[1]"]=r[1]}return t};function a(L,T){var v=L.range,d=new Date(L.r2l(v[1])),t=T.step,r=g["utc"+P(t)],u=T.count,n;switch(T.stepmode){case"backward":n=L.l2r(+r.offset(d,-u));break;case"todate":var s=r.offset(d,-u);n=L.l2r(+r.ceil(s));break}var f=v[1];return[n,f]}},97218:function(H,U,e){H.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(37113)}}},layoutAttributes:e(37113),handleDefaults:e(28674),draw:e(21598)}},75148:function(H,U,e){var g=e(22399);H.exports={bgcolor:{valType:"color",dflt:g.background,editType:"plot"},bordercolor:{valType:"color",dflt:g.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},88443:function(H,U,e){var g=e(41675).list,P=e(71739).getAutoRange,a=e(73251);H.exports=function(T){for(var v=g(T,"x",!0),d=0;d<v.length;d++){var t=v[d],r=t[a.name];r&&r.visible&&r.autorange&&(r._input.autorange=!0,r._input.range=r.range=P(T,t))}}},73251:function(H){H.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},26377:function(H,U,e){var g=e(71828),P=e(44467),a=e(41675),L=e(75148),T=e(47850);H.exports=function(d,t,r){var u=d[r],n=t[r];if(!(u.rangeslider||t._requestRangeslider[n._id]))return;g.isPlainObject(u.rangeslider)||(u.rangeslider={});var s=u.rangeslider,f=P.newContainer(n,"rangeslider");function l(i,C){return g.coerce(s,f,L,i,C)}var x,c;function b(i,C){return g.coerce(x,c,T,i,C)}var h=l("visible");if(h){l("bgcolor",t.plot_bgcolor),l("bordercolor"),l("borderwidth"),l("thickness"),l("autorange",!n.isValidRange(s.range)),l("range");var o=t._subplots;if(o)for(var p=o.cartesian.filter(function(i){return i.substr(0,i.indexOf("y"))===a.name2id(r)}).map(function(i){return i.substr(i.indexOf("y"),i.length)}),S=g.simpleMap(p,a.id2name),A=0;A<S.length;A++){var E=S[A];x=s[E]||{},c=P.newContainer(f,E,"yaxis");var m=t[E],M;x.range&&m.isValidRange(x.range)&&(M="fixed");var w=b("rangemode",M);w!=="match"&&b("range",m.range.slice())}f._input=s}}},72413:function(H,U,e){var g=e(39898),P=e(73972),a=e(74875),L=e(71828),T=L.strTranslate,v=e(91424),d=e(7901),t=e(92998),r=e(93612),u=e(41675),n=e(28569),s=e(6964),f=e(73251);H.exports=function(m){for(var M=m._fullLayout,w=M._rangeSliderData,i=0;i<w.length;i++){var C=w[i][f.name];C._clipId=C._id+"-"+M._uid}function y(I){return I._name}var _=M._infolayer.selectAll("g."+f.containerClassName).data(w,y);_.exit().each(function(I){var N=I[f.name];M._topdefs.select("#"+N._clipId).remove()}).remove(),w.length!==0&&(_.enter().append("g").classed(f.containerClassName,!0).attr("pointer-events","all"),_.each(function(I){var N=g.select(this),k=I[f.name],O=M[u.id2name(I.anchor)],z=k[u.id2name(I.anchor)];if(k.range){var F=L.simpleMap(k.range,I.r2l),B=L.simpleMap(I.range,I.r2l),G;B[0]<B[1]?G=[Math.min(F[0],B[0]),Math.max(F[1],B[1])]:G=[Math.max(F[0],B[0]),Math.min(F[1],B[1])],k.range=k._input.range=L.simpleMap(G,I.l2r)}I.cleanRange("rangeslider.range");var Q=M._size,ee=I.domain;k._width=Q.w*(ee[1]-ee[0]);var ae=Math.round(Q.l+Q.w*ee[0]),fe=Math.round(Q.t+Q.h*(1-I._counterDomainMin)+(I.side==="bottom"?I._depth:0)+k._offsetShift+f.extraPad);N.attr("transform",T(ae,fe)),k._rl=L.simpleMap(k.range,I.r2l);var K=k._rl[0],W=k._rl[1],Z=W-K;if(k.p2d=function(we){return we/k._width*Z+K},k.d2p=function(we){return(we-K)/Z*k._width},I.rangebreaks){var X=I.locateBreaks(K,W);if(X.length){var $,ie,J=0;for($=0;$<X.length;$++)ie=X[$],J+=ie.max-ie.min;var j=k._width/(W-K-J),se=[-j*K];for($=0;$<X.length;$++)ie=X[$],se.push(se[se.length-1]-j*(ie.max-ie.min));for(k.d2p=function(we){for(var xe=se[0],Fe=0;Fe<X.length;Fe++){var ze=X[Fe];if(we>=ze.max)xe=se[Fe+1];else if(we<ze.min)break}return xe+j*we},$=0;$<X.length;$++)ie=X[$],ie.pmin=k.d2p(ie.min),ie.pmax=k.d2p(ie.max);k.p2d=function(we){for(var xe=se[0],Fe=0;Fe<X.length;Fe++){var ze=X[Fe];if(we>=ze.pmax)xe=se[Fe+1];else if(we<ze.pmin)break}return(we-xe)/j}}}if(z.rangemode!=="match"){var ne=O.r2l(z.range[0]),ue=O.r2l(z.range[1]),ge=ue-ne;k.d2pOppAxis=function(we){return(we-ne)/ge*k._height}}N.call(b,m,I,k).call(h,m,I,k).call(o,m,I,k).call(S,m,I,k,z).call(A,m,I,k).call(E,m,I,k),l(N,m,I,k),c(N,m,I,k,O,z),I.side==="bottom"&&t.draw(m,I._id+"title",{propContainer:I,propName:I._name+".title",placeholder:M._dfltTitle.x,attributes:{x:I._offset+I._length/2,y:fe+k._height+k._offsetShift+10+1.5*I.title.font.size,"text-anchor":"middle"}})}))};function l(m,M,w,i){if(M._context.staticPlot)return;var C=m.select("rect."+f.slideBoxClassName).node(),y=m.select("rect."+f.grabAreaMinClassName).node(),_=m.select("rect."+f.grabAreaMaxClassName).node();function I(){var N=g.event,k=N.target,O=N.clientX||N.touches[0].clientX,z=O-m.node().getBoundingClientRect().left,F=i.d2p(w._rl[0]),B=i.d2p(w._rl[1]),G=n.coverSlip();this.addEventListener("touchmove",Q),this.addEventListener("touchend",ee),G.addEventListener("mousemove",Q),G.addEventListener("mouseup",ee);function Q(ae){var fe=ae.clientX||ae.touches[0].clientX,K=+fe-O,W,Z,X;switch(k){case C:if(X="ew-resize",F+K>w._length||B+K<0)return;W=F+K,Z=B+K;break;case y:if(X="col-resize",F+K>w._length)return;W=F+K,Z=B;break;case _:if(X="col-resize",B+K<0)return;W=F,Z=B+K;break;default:X="ew-resize",W=z,Z=z+K;break}if(Z<W){var $=Z;Z=W,W=$}i._pixelMin=W,i._pixelMax=Z,s(g.select(G),X),x(m,M,w,i)}function ee(){G.removeEventListener("mousemove",Q),G.removeEventListener("mouseup",ee),this.removeEventListener("touchmove",Q),this.removeEventListener("touchend",ee),L.removeElement(G)}}m.on("mousedown",I),m.on("touchstart",I)}function x(m,M,w,i){function C(I){return w.l2r(L.constrain(I,i._rl[0],i._rl[1]))}var y=C(i.p2d(i._pixelMin)),_=C(i.p2d(i._pixelMax));window.requestAnimationFrame(function(){P.call("_guiRelayout",M,w._name+".range",[y,_])})}function c(m,M,w,i,C,y){var _=f.handleWidth/2;function I(ae){return L.constrain(ae,0,i._width)}function N(ae){return L.constrain(ae,0,i._height)}function k(ae){return L.constrain(ae,-_,i._width+_)}var O=I(i.d2p(w._rl[0])),z=I(i.d2p(w._rl[1]));if(m.select("rect."+f.slideBoxClassName).attr("x",O).attr("width",z-O),m.select("rect."+f.maskMinClassName).attr("width",O),m.select("rect."+f.maskMaxClassName).attr("x",z).attr("width",i._width-z),y.rangemode!=="match"){var F=i._height-N(i.d2pOppAxis(C._rl[1])),B=i._height-N(i.d2pOppAxis(C._rl[0]));m.select("rect."+f.maskMinOppAxisClassName).attr("x",O).attr("height",F).attr("width",z-O),m.select("rect."+f.maskMaxOppAxisClassName).attr("x",O).attr("y",B).attr("height",i._height-B).attr("width",z-O),m.select("rect."+f.slideBoxClassName).attr("y",F).attr("height",B-F)}var G=.5,Q=Math.round(k(O-_))-G,ee=Math.round(k(z-_))+G;m.select("g."+f.grabberMinClassName).attr("transform",T(Q,G)),m.select("g."+f.grabberMaxClassName).attr("transform",T(ee,G))}function b(m,M,w,i){var C=L.ensureSingle(m,"rect",f.bgClassName,function(N){N.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),y=i.borderwidth%2===0?i.borderwidth:i.borderwidth-1,_=-i._offsetShift,I=v.crispRound(M,i.borderwidth);C.attr({width:i._width+y,height:i._height+y,transform:T(_,_),"stroke-width":I}).call(d.stroke,i.bordercolor).call(d.fill,i.bgcolor)}function h(m,M,w,i){var C=M._fullLayout,y=L.ensureSingleById(C._topdefs,"clipPath",i._clipId,function(_){_.append("rect").attr({x:0,y:0})});y.select("rect").attr({width:i._width,height:i._height})}function o(m,M,w,i){var C=M.calcdata,y=m.selectAll("g."+f.rangePlotClassName).data(w._subplotsWith,L.identity);y.enter().append("g").attr("class",function(I){return f.rangePlotClassName+" "+I}).call(v.setClipUrl,i._clipId,M),y.order(),y.exit().remove();var _;y.each(function(I,N){var k=g.select(this),O=N===0,z=u.getFromId(M,I,"y"),F=z._name,B=i[F],G={data:[],layout:{xaxis:{type:w.type,domain:[0,1],range:i.range.slice(),calendar:w.calendar},width:i._width,height:i._height,margin:{t:0,b:0,l:0,r:0}},_context:M._context};w.rangebreaks&&(G.layout.xaxis.rangebreaks=w.rangebreaks),G.layout[F]={type:z.type,domain:[0,1],range:B.rangemode!=="match"?B.range.slice():z.range.slice(),calendar:z.calendar},z.rangebreaks&&(G.layout[F].rangebreaks=z.rangebreaks),a.supplyDefaults(G);var Q=G._fullLayout.xaxis,ee=G._fullLayout[F];Q.clearCalc(),Q.setScale(),ee.clearCalc(),ee.setScale();var ae={id:I,plotgroup:k,xaxis:Q,yaxis:ee,isRangePlot:!0};O?_=ae:(ae.mainplot="xy",ae.mainplotinfo=_),r.rangePlot(M,ae,p(C,I))})}function p(m,M){for(var w=[],i=0;i<m.length;i++){var C=m[i],y=C[0].trace;y.xaxis+y.yaxis===M&&w.push(C)}return w}function S(m,M,w,i,C){var y=L.ensureSingle(m,"rect",f.maskMinClassName,function(k){k.attr({x:0,y:0,"shape-rendering":"crispEdges"})});y.attr("height",i._height).call(d.fill,f.maskColor);var _=L.ensureSingle(m,"rect",f.maskMaxClassName,function(k){k.attr({y:0,"shape-rendering":"crispEdges"})});if(_.attr("height",i._height).call(d.fill,f.maskColor),C.rangemode!=="match"){var I=L.ensureSingle(m,"rect",f.maskMinOppAxisClassName,function(k){k.attr({y:0,"shape-rendering":"crispEdges"})});I.attr("width",i._width).call(d.fill,f.maskOppAxisColor);var N=L.ensureSingle(m,"rect",f.maskMaxOppAxisClassName,function(k){k.attr({y:0,"shape-rendering":"crispEdges"})});N.attr("width",i._width).style("border-top",f.maskOppBorder).call(d.fill,f.maskOppAxisColor)}}function A(m,M,w,i){if(!M._context.staticPlot){var C=L.ensureSingle(m,"rect",f.slideBoxClassName,function(y){y.attr({y:0,cursor:f.slideBoxCursor,"shape-rendering":"crispEdges"})});C.attr({height:i._height,fill:f.slideBoxFill})}}function E(m,M,w,i){var C=L.ensureSingle(m,"g",f.grabberMinClassName),y=L.ensureSingle(m,"g",f.grabberMaxClassName),_={x:0,width:f.handleWidth,rx:f.handleRadius,fill:d.background,stroke:d.defaultLine,"stroke-width":f.handleStrokeWidth,"shape-rendering":"crispEdges"},I={y:Math.round(i._height/4),height:Math.round(i._height/2)},N=L.ensureSingle(C,"rect",f.handleMinClassName,function(B){B.attr(_)});N.attr(I);var k=L.ensureSingle(y,"rect",f.handleMaxClassName,function(B){B.attr(_)});k.attr(I);var O={width:f.grabAreaWidth,x:0,y:0,fill:f.grabAreaFill,cursor:M._context.staticPlot?void 0:f.grabAreaCursor},z=L.ensureSingle(C,"rect",f.grabAreaMinClassName,function(B){B.attr(O)});z.attr("height",i._height);var F=L.ensureSingle(y,"rect",f.grabAreaMaxClassName,function(B){B.attr(O)});F.attr("height",i._height)}},549:function(H,U,e){var g=e(41675),P=e(63893),a=e(73251),L=e(18783).LINE_SPACING,T=a.name;function v(d){var t=d&&d[T];return t&&t.visible}U.isVisible=v,U.makeData=function(d){var t=g.list({_fullLayout:d},"x",!0),r=d.margin,u=[];if(!d._has("gl2d"))for(var n=0;n<t.length;n++){var s=t[n];if(v(s)){u.push(s);var f=s[T];f._id=T+s._id,f._height=(d.height-r.b-r.t)*f.thickness,f._offsetShift=Math.floor(f.borderwidth/2)}}d._rangeSliderData=u},U.autoMarginOpts=function(d,t){var r=d._fullLayout,u=t[T],n=t._id.charAt(0),s=0,f=0;if(t.side==="bottom"&&(s=t._depth,t.title.text!==r._dfltTitle[n])){f=1.5*t.title.font.size+10+u._offsetShift;var l=(t.title.text.match(P.BR_TAG_ALL)||[]).length;f+=l*t.title.font.size*L}return{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:u._height+s+Math.max(r.margin.b,f),pad:a.extraPad+u._offsetShift*2}}},13137:function(H,U,e){var g=e(71828),P=e(75148),a=e(47850),L=e(549);H.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:g.extendFlat({},P,{yaxis:a})}}},layoutAttributes:e(75148),handleDefaults:e(26377),calcAutorange:e(88443),draw:e(72413),isVisible:L.isVisible,makeData:L.makeData,autoMarginOpts:L.autoMarginOpts}},47850:function(H){H.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(H,U,e){var g=e(50215),P=e(82196).line,a=e(79952).P,L=e(1426).extendFlat,T=e(30962).overrideAll,v=e(44467).templatedArray;e(24695),H.exports=T(v("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:L({},g.xref,{}),yref:L({},g.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:P.color,width:L({},P.width,{min:1,dflt:1}),dash:L({},a,{dflt:"dot"})}}),"arraydraw","from-root")},34122:function(H){H.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},59402:function(H,U,e){var g=e(71828),P=e(89298),a=e(85501),L=e(8389),T=e(30477);H.exports=function(t,r){a(t,r,{name:"selections",handleItemDefaults:v});for(var u=r.selections,n=0;n<u.length;n++){var s=u[n];s&&s.path===void 0&&(s.x0===void 0||s.x1===void 0||s.y0===void 0||s.y1===void 0)&&(r.selections[n]=null)}};function v(d,t,r){function u(y,_){return g.coerce(d,t,L,y,_)}var n=u("path"),s=n?"path":"rect",f=u("type",s),l=f!=="path";l&&delete t.path,u("opacity"),u("line.color"),u("line.width"),u("line.dash");for(var x=["x","y"],c=0;c<2;c++){var b=x[c],h={_fullLayout:r},o,p,S,A=P.coerceRef(d,t,h,b);if(o=P.getFromId(h,A),o._selectionIndices.push(t._index),S=T.rangeToShapePosition(o),p=T.shapePositionToRange(o),l){var E=b+"0",m=b+"1",M=d[E],w=d[m];d[E]=p(d[E],!0),d[m]=p(d[m],!0),P.coercePosition(t,h,u,A,E),P.coercePosition(t,h,u,A,m);var i=t[E],C=t[m];i!==void 0&&C!==void 0&&(t[E]=S(i),t[m]=S(C),d[E]=M,d[m]=w)}}l&&g.noneOrAll(d,t,["x0","x1","y0","y1"])}},32485:function(H,U,e){var g=e(60165).readPaths,P=e(42359),a=e(51873).clearOutlineControllers,L=e(7901),T=e(91424),v=e(44467).arrayEditor,d=e(30477),t=d.getPathString;H.exports={draw:r,drawOne:n,activateLastSelection:l};function r(c){var b=c._fullLayout;a(c),b._selectionLayer.selectAll("path").remove();for(var h in b._plots){var o=b._plots[h].selectionLayer;o&&o.selectAll("path").remove()}for(var p=0;p<b.selections.length;p++)n(c,p)}function u(c){return c._context.editSelection}function n(c,b){c._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+b+'"]').remove();var h=d.makeSelectionsOptionsAndPlotinfo(c,b),o=h.options,p=h.plotinfo;if(!o._input)return;S(c._fullLayout._selectionLayer);function S(A){var E=t(c,o),m={"data-index":b,"fill-rule":"evenodd",d:E},M=o.opacity,w="rgba(0,0,0,0)",i=o.line.color||L.contrast(c._fullLayout.plot_bgcolor),C=o.line.width,y=o.line.dash;C||(C=5,y="solid");var _=u(c)&&c._fullLayout._activeSelectionIndex===b;_&&(w=c._fullLayout.activeselection.fillcolor,M=c._fullLayout.activeselection.opacity);for(var I=[],N=1;N>=0;N--){var k=A.append("path").attr(m).style("opacity",N?.1:M).call(L.stroke,i).call(L.fill,w).call(T.dashLine,N?"solid":y,N?4+C:C);if(s(k,c,o),_){var O=v(c.layout,"selections",o);k.style({cursor:"move"});var z={element:k.node(),plotinfo:p,gd:c,editHelpers:O,isActiveSelection:!0},F=g(E,c);P(F,k,z)}else k.style("pointer-events",N?"all":"none");I[N]=k}var B=I[0],G=I[1];G.node().addEventListener("click",function(){return f(c,B)})}}function s(c,b,h){var o=h.xref+h.yref;T.setClipUrl(c,"clip"+b._fullLayout._uid+o,b)}function f(c,b){if(u(c)){var h=b.node(),o=+h.getAttribute("data-index");if(o>=0){if(o===c._fullLayout._activeSelectionIndex){x(c);return}c._fullLayout._activeSelectionIndex=o,c._fullLayout._deactivateSelection=x,r(c)}}}function l(c){if(u(c)){var b=c._fullLayout.selections.length-1;c._fullLayout._activeSelectionIndex=b,c._fullLayout._deactivateSelection=x,r(c)}}function x(c){if(u(c)){var b=c._fullLayout._activeSelectionIndex;b>=0&&(a(c),delete c._fullLayout._activeSelectionIndex,r(c))}}},53777:function(H,U,e){var g=e(79952).P,P=e(1426).extendFlat;H.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:P({},g,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},90849:function(H){H.exports=function(e,g,P){P("newselection.mode");var a=P("newselection.line.width");a&&(P("newselection.line.color"),P("newselection.line.dash")),P("activeselection.fillcolor"),P("activeselection.opacity")}},35855:function(H,U,e){var g=e(64505),P=g.selectMode,a=e(51873),L=a.clearOutline,T=e(60165),v=T.readPaths,d=T.writePaths,t=T.fixDatesForPaths;H.exports=function(u,n){if(u.length){var s=u[0][0];if(s){var f=s.getAttribute("d"),l=n.gd,x=l._fullLayout.newselection,c=n.plotinfo,b=c.xaxis,h=c.yaxis,o=n.isActiveSelection,p=n.dragmode,S=(l.layout||{}).selections||[];if(!P(p)&&o!==void 0){var A=l._fullLayout._activeSelectionIndex;if(A<S.length)switch(l._fullLayout.selections[A].type){case"rect":p="select";break;case"path":p="lasso";break}}var E=v(f,l,c,o),m={xref:b._id,yref:h._id,opacity:x.opacity,line:{color:x.line.color,width:x.line.width,dash:x.line.dash}},M;E.length===1&&(M=E[0]),M&&M.length===5&&p==="select"?(m.type="rect",m.x0=M[0][1],m.y0=M[0][2],m.x1=M[2][1],m.y1=M[2][2]):(m.type="path",b&&h&&t(E,b,h),m.path=d(E),M=null),L(l);for(var w=n.editHelpers,i=(w||{}).modifyItem,C=[],y=0;y<S.length;y++){var _=l._fullLayout.selections[y];if(!_){C[y]=_;continue}if(C[y]=_._input,o!==void 0&&y===l._fullLayout._activeSelectionIndex){var I=m;switch(_.type){case"rect":i("x0",I.x0),i("x1",I.x1),i("y0",I.y0),i("y1",I.y1);break;case"path":i("path",I.path);break}}}return o===void 0?(C.push(m),C):w?w.getUpdateObj():{}}}}},75549:function(H,U,e){var g=e(71828).strTranslate;function P(v,d){switch(v.type){case"log":return v.p2d(d);case"date":return v.p2r(d,0,v.calendar);default:return v.p2r(d)}}function a(v,d){switch(v.type){case"log":return v.d2p(d);case"date":return v.r2p(d,0,v.calendar);default:return v.r2p(d)}}function L(v){var d=v._id.charAt(0)==="y"?1:0;return function(t){return P(v,t[d])}}function T(v){return g(v.xaxis._offset,v.yaxis._offset)}H.exports={p2r:P,r2p:a,axValue:L,getTransform:T}},47322:function(H,U,e){var g=e(32485),P=e(3937);H.exports={moduleType:"component",name:"selections",layoutAttributes:e(8389),supplyLayoutDefaults:e(59402),supplyDrawNewSelectionDefaults:e(90849),includeBasePlot:e(76325)("selections"),draw:g.draw,drawOne:g.drawOne,reselect:P.reselect,prepSelect:P.prepSelect,clearOutline:P.clearOutline,clearSelectionsCache:P.clearSelectionsCache,selectOnClick:P.selectOnClick}},3937:function(H,U,e){var g=e(52142),P=e(38258),a=e(73972),L=e(91424).dashStyle,T=e(7901),v=e(30211),d=e(23469).makeEventData,t=e(64505),r=t.freeMode,u=t.rectMode,n=t.drawMode,s=t.openMode,f=t.selectMode,l=e(30477),x=e(21459),c=e(42359),b=e(51873).clearOutline,h=e(60165),o=h.handleEllipse,p=h.readPaths,S=e(90551).newShapes,A=e(35855),E=e(32485).activateLastSelection,m=e(71828),M=m.sorterAsc,w=e(61082),i=e(79990),C=e(41675).getFromId,y=e(33306),_=e(61549).redrawReglTraces,I=e(34122),N=I.MINSELECT,k=w.filter,O=w.tester,z=e(75549),F=z.p2r,B=z.axValue,G=z.getTransform;function Q(ke){return ke.subplot!==void 0}function ee(ke,Ce,me,oe,pe){var Me=!Q(oe),_e=r(pe),tt=u(pe),at=s(pe),At=n(pe),Ft=f(pe),Gt=pe==="drawline",Yt=pe==="drawcircle",Dt=Gt||Yt,$t=oe.gd,lr=$t._fullLayout,Hr=Ft&&lr.newselection.mode==="immediate"&&Me,xt=lr._zoomlayer,Qt=oe.element.getBoundingClientRect(),jt=oe.plotinfo,Sr=G(jt),gr=Ce-Qt.left,ut=me-Qt.top;lr._calcInverseTransform($t);var st=m.apply3DTransform(lr._invTransform)(gr,ut);gr=st[0],ut=st[1];var bt=lr._invScaleX,St=lr._invScaleY,Pt=gr,Et=ut,Bt="M"+gr+","+ut,Wt=oe.xaxes[0],tr=oe.yaxes[0],er=Wt._length,ur=tr._length,kr=ke.altKey&&!(n(pe)&&at),We,Ge,_t,Ot,Kt,or,hr;X(ke,$t,oe),_e&&(We=k([[gr,ut]],I.BENDPX));var ir=xt.selectAll("path.select-outline-"+jt.id).data([1]),Nt=At?lr.newshape:lr.newselection;At&&(oe.hasText=Nt.label.text||Nt.label.texttemplate);var vr=At&&!at?Nt.fillcolor:"rgba(0,0,0,0)",mr=Nt.line.color||(Me?T.contrast($t._fullLayout.plot_bgcolor):"#7f7f7f");ir.enter().append("path").attr("class","select-outline select-outline-"+jt.id).style({opacity:At?Nt.opacity/2:1,"stroke-dasharray":L(Nt.line.dash,Nt.line.width),"stroke-width":Nt.line.width+"px","shape-rendering":"crispEdges"}).call(T.stroke,mr).call(T.fill,vr).attr("fill-rule","evenodd").classed("cursor-move",!!At).attr("transform",Sr).attr("d",Bt+"Z");var xr=xt.append("path").attr("class","zoombox-corners").style({fill:T.background,stroke:T.defaultLine,"stroke-width":1}).attr("transform",Sr).attr("d","M0,0Z");if(At&&oe.hasText){var yr=xt.select(".label-temp");yr.empty()&&(yr=xt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Kr=lr._uid+I.SELECTID,Nr=[],Ur=se($t,oe.xaxes,oe.yaxes,oe.subplot);Hr&&!ke.shiftKey&&(oe._clearSubplotSelections=function(){if(Me){var rn=Wt._id,Gn=tr._id;Qe($t,rn,Gn,Ur);for(var Hn=($t.layout||{}).selections||[],Ar=[],Cr=!1,Yr=0;Yr<Hn.length;Yr++){var Zr=lr.selections[Yr];Zr.xref!==rn||Zr.yref!==Gn?Ar.push(Hn[Yr]):Cr=!0}Cr&&($t._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",$t,{selections:Ar}))}});var Tn=Zt(oe);oe.moveFn=function(rn,Gn){oe._clearSubplotSelections&&(oe._clearSubplotSelections(),oe._clearSubplotSelections=void 0),Pt=Math.max(0,Math.min(er,bt*rn+gr)),Et=Math.max(0,Math.min(ur,St*Gn+ut));var Hn=Math.abs(Pt-gr),Ar=Math.abs(Et-ut);if(tt){var Cr,Yr,Zr;if(Ft){var un=lr.selectdirection;switch(un==="any"?Ar<Math.min(Hn*.6,N)?Cr="h":Hn<Math.min(Ar*.6,N)?Cr="v":Cr="d":Cr=un,Cr){case"h":Yr=Yt?ur/2:0,Zr=ur;break;case"v":Yr=Yt?er/2:0,Zr=er;break}}if(At)switch(lr.newshape.drawdirection){case"vertical":Cr="h",Yr=Yt?ur/2:0,Zr=ur;break;case"horizontal":Cr="v",Yr=Yt?er/2:0,Zr=er;break;case"ortho":Hn<Ar?(Cr="h",Yr=ut,Zr=Et):(Cr="v",Yr=gr,Zr=Pt);break;default:Cr="d"}Cr==="h"?(Ot=Dt?o(Yt,[Pt,Yr],[Pt,Zr]):[[gr,Yr],[gr,Zr],[Pt,Zr],[Pt,Yr]],Ot.xmin=Dt?Pt:Math.min(gr,Pt),Ot.xmax=Dt?Pt:Math.max(gr,Pt),Ot.ymin=Math.min(Yr,Zr),Ot.ymax=Math.max(Yr,Zr),xr.attr("d","M"+Ot.xmin+","+(ut-N)+"h-4v"+2*N+"h4ZM"+(Ot.xmax-1)+","+(ut-N)+"h4v"+2*N+"h-4Z")):Cr==="v"?(Ot=Dt?o(Yt,[Yr,Et],[Zr,Et]):[[Yr,ut],[Yr,Et],[Zr,Et],[Zr,ut]],Ot.xmin=Math.min(Yr,Zr),Ot.xmax=Math.max(Yr,Zr),Ot.ymin=Dt?Et:Math.min(ut,Et),Ot.ymax=Dt?Et:Math.max(ut,Et),xr.attr("d","M"+(gr-N)+","+Ot.ymin+"v-4h"+2*N+"v4ZM"+(gr-N)+","+(Ot.ymax-1)+"v4h"+2*N+"v-4Z")):Cr==="d"&&(Ot=Dt?o(Yt,[gr,ut],[Pt,Et]):[[gr,ut],[gr,Et],[Pt,Et],[Pt,ut]],Ot.xmin=Math.min(gr,Pt),Ot.xmax=Math.max(gr,Pt),Ot.ymin=Math.min(ut,Et),Ot.ymax=Math.max(ut,Et),xr.attr("d","M0,0Z"))}else _e&&(We.addPt([Pt,Et]),Ot=We.filtered);if(oe.selectionDefs&&oe.selectionDefs.length?(_t=ye(oe.mergedPolygons,Ot,kr),Ot.subtract=kr,Ge=Z(oe.selectionDefs.concat([Ot]))):(_t=[Ot],Ge=O(Ot)),c(Ne(_t,at),ir,oe),Ft){var mn=Re($t,!1),pn=mn.eventData?mn.eventData.points.slice():[];mn=Re($t,!1,Ge,Ur,oe),Ge=mn.selectionTesters,hr=mn.eventData;var Rn;We?Rn=We.filtered:Rn=mt(_t),i.throttle(Kr,I.SELECTDELAY,function(){Nr=Ue(Ge,Ur);for(var Un=Nr.slice(),oa=0;oa<pn.length;oa++){for(var ua=pn[oa],xa=!1,va=0;va<Un.length;va++)if(Un[va].curveNumber===ua.curveNumber&&Un[va].pointNumber===ua.pointNumber){xa=!0;break}xa||Un.push(ua)}Un.length&&(hr||(hr={}),hr.points=Un),Tn(hr,Rn),Xe($t,hr)})}},oe.clickFn=function(rn,Gn){if(xr.remove(),$t._fullLayout._activeShapeIndex>=0){$t._fullLayout._deactivateShape($t);return}if(!At){var Hn=lr.clickmode;i.done(Kr).then(function(){if(i.clear(Kr),rn===2){for(ir.remove(),Kt=0;Kt<Ur.length;Kt++)or=Ur[Kt],or._module.selectPoints(or,!1);if(ze($t,Ur),J(oe),Pe($t),Ur.length){var Ar=Ur[0].xaxis,Cr=Ur[0].yaxis;if(Ar&&Cr){for(var Yr=[],Zr=$t._fullLayout.selections,un=0;un<Zr.length;un++){var mn=Zr[un];mn&&(mn.xref!==Ar._id||mn.yref!==Cr._id)&&Yr.push(mn)}Yr.length<Zr.length&&($t._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",$t,{selections:Yr}))}}}else Hn.indexOf("select")>-1&&ae(Gn,$t,oe.xaxes,oe.yaxes,oe.subplot,oe,ir),Hn==="event"&&Le($t,void 0);v.click($t,Gn)}).catch(m.error)}},oe.doneFn=function(){xr.remove(),i.done(Kr).then(function(){i.clear(Kr),!Hr&&Ot&&oe.selectionDefs&&(Ot.subtract=kr,oe.selectionDefs.push(Ot),oe.mergedPolygons.length=0,[].push.apply(oe.mergedPolygons,_t)),(Hr||At)&&J(oe,Hr),oe.doneFnCompleted&&oe.doneFnCompleted(Nr),Ft&&Le($t,hr)}).catch(m.error)}}function ae(ke,Ce,me,oe,pe,Me,_e){var tt=Ce._hoverdata,at=Ce._fullLayout,At=at.clickmode,Ft=At.indexOf("event")>-1,Gt=[],Yt,Dt,$t,lr,Hr,xt,Qt,jt,Sr,gr;if(ue(tt)){X(ke,Ce,Me),Yt=se(Ce,me,oe,pe);var ut=ge(tt,Yt),st=ut.pointNumbers.length>0;if(st?xe(Yt,ut):Fe(Yt)&&(Qt=we(ut))){for(_e&&_e.remove(),gr=0;gr<Yt.length;gr++)Dt=Yt[gr],Dt._module.selectPoints(Dt,!1);ze(Ce,Yt),J(Me),Ft&&Pe(Ce)}else{jt=ke.shiftKey&&(Qt!==void 0?Qt:we(ut)),$t=fe(ut.pointNumber,ut.searchInfo,jt);var bt=Me.selectionDefs.concat([$t]);for(lr=Z(bt),gr=0;gr<Yt.length;gr++)if(Hr=Yt[gr]._module.selectPoints(Yt[gr],lr),xt=Ae(Hr,Yt[gr]),Gt.length)for(var St=0;St<xt.length;St++)Gt.push(xt[St]);else Gt=xt;if(Sr={points:Gt},ze(Ce,Yt,Sr),$t&&Me&&Me.selectionDefs.push($t),_e){var Pt=Me.mergedPolygons,Et=s(Me.dragmode);c(Ne(Pt,Et),_e,Me)}Ft&&Le(Ce,Sr)}}}function fe(ke,Ce,me){return{pointNumber:ke,searchInfo:Ce,subtract:!!me}}function K(ke){return"pointNumber"in ke&&"searchInfo"in ke}function W(ke){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Ce,me,oe,pe){var Me=ke.searchInfo.cd[0].trace._expandedIndex,_e=pe.cd[0].trace._expandedIndex;return _e===Me&&oe===ke.pointNumber},isRect:!1,degenerate:!1,subtract:!!ke.subtract}}function Z(ke){if(!ke.length)return;for(var Ce=[],me=K(ke[0])?0:ke[0][0][0],oe=me,pe=K(ke[0])?0:ke[0][0][1],Me=pe,_e=0;_e<ke.length;_e++)if(K(ke[_e]))Ce.push(W(ke[_e]));else{var tt=O(ke[_e]);tt.subtract=!!ke[_e].subtract,Ce.push(tt),me=Math.min(me,tt.xmin),oe=Math.max(oe,tt.xmax),pe=Math.min(pe,tt.ymin),Me=Math.max(Me,tt.ymax)}function at(At,Ft,Gt,Yt){for(var Dt=!1,$t=0;$t<Ce.length;$t++)Ce[$t].contains(At,Ft,Gt,Yt)&&(Dt=!Ce[$t].subtract);return Dt}return{xmin:me,xmax:oe,ymin:pe,ymax:Me,pts:[],contains:at,isRect:!1,degenerate:!1}}function X(ke,Ce,me){var oe=Ce._fullLayout,pe=me.plotinfo,Me=me.dragmode,_e=oe._lastSelectedSubplot&&oe._lastSelectedSubplot===pe.id,tt=(ke.shiftKey||ke.altKey)&&!(n(Me)&&s(Me));_e&&tt&&pe.selection&&pe.selection.selectionDefs&&!me.selectionDefs?(me.selectionDefs=pe.selection.selectionDefs,me.mergedPolygons=pe.selection.mergedPolygons):(!tt||!pe.selection)&&J(me),_e||(b(Ce),oe._lastSelectedSubplot=pe.id)}function $(ke){return ke._fullLayout._activeShapeIndex>=0}function ie(ke){return ke._fullLayout._activeSelectionIndex>=0}function J(ke,Ce){var me=ke.dragmode,oe=ke.plotinfo,pe=ke.gd;$(pe)&&pe._fullLayout._deactivateShape(pe),ie(pe)&&pe._fullLayout._deactivateSelection(pe);var Me=pe._fullLayout,_e=Me._zoomlayer,tt=n(me),at=f(me);if(tt||at){var At=_e.selectAll(".select-outline-"+oe.id);if(At&&pe._fullLayout._outlining){var Ft;tt&&(Ft=S(At,ke)),Ft&&a.call("_guiRelayout",pe,{shapes:Ft});var Gt;at&&!Q(ke)&&(Gt=A(At,ke)),Gt&&(pe._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",pe,{selections:Gt}).then(function(){Ce&&E(pe)})),pe._fullLayout._outlining=!1}}oe.selection={},oe.selection.selectionDefs=ke.selectionDefs=[],oe.selection.mergedPolygons=ke.mergedPolygons=[]}function j(ke){return ke._id}function se(ke,Ce,me,oe){if(!ke.calcdata)return[];var pe=[],Me=Ce.map(j),_e=me.map(j),tt,at,At;for(At=0;At<ke.calcdata.length;At++)if(tt=ke.calcdata[At],at=tt[0].trace,!(at.visible!==!0||!at._module||!at._module.selectPoints))if(Q({subplot:oe})&&(at.subplot===oe||at.geo===oe))pe.push(ne(at._module,tt,Ce[0],me[0]));else if(at.type==="splom"){if(at._xaxes[Me[0]]&&at._yaxes[_e[0]]){var Ft=ne(at._module,tt,Ce[0],me[0]);Ft.scene=ke._fullLayout._splomScenes[at.uid],pe.push(Ft)}}else if(at.type==="sankey"){var Gt=ne(at._module,tt,Ce[0],me[0]);pe.push(Gt)}else{if(Me.indexOf(at.xaxis)===-1||_e.indexOf(at.yaxis)===-1)continue;pe.push(ne(at._module,tt,C(ke,at.xaxis),C(ke,at.yaxis)))}return pe}function ne(ke,Ce,me,oe){return{_module:ke,cd:Ce,xaxis:me,yaxis:oe}}function ue(ke){return ke&&Array.isArray(ke)&&ke[0].hoverOnBox!==!0}function ge(ke,Ce){var me=ke[0],oe=-1,pe=[],Me,_e;for(_e=0;_e<Ce.length;_e++)if(Me=Ce[_e],me.fullData._expandedIndex===Me.cd[0].trace._expandedIndex){if(me.hoverOnBox===!0)break;me.pointNumber!==void 0?oe=me.pointNumber:me.binNumber!==void 0&&(oe=me.binNumber,pe=me.pointNumbers);break}return{pointNumber:oe,pointNumbers:pe,searchInfo:Me}}function we(ke){var Ce=ke.searchInfo.cd[0].trace,me=ke.pointNumber,oe=ke.pointNumbers,pe=oe.length>0,Me=pe?oe[0]:me;return Ce.selectedpoints?Ce.selectedpoints.indexOf(Me)>-1:!1}function xe(ke,Ce){var me=[],oe,pe,Me,_e;for(_e=0;_e<ke.length;_e++)oe=ke[_e],oe.cd[0].trace.selectedpoints&&oe.cd[0].trace.selectedpoints.length>0&&me.push(oe);if(me.length===1&&(Me=me[0]===Ce.searchInfo,Me&&(pe=Ce.searchInfo.cd[0].trace,pe.selectedpoints.length===Ce.pointNumbers.length))){for(_e=0;_e<Ce.pointNumbers.length;_e++)if(pe.selectedpoints.indexOf(Ce.pointNumbers[_e])<0)return!1;return!0}return!1}function Fe(ke){var Ce=0,me,oe,pe;for(pe=0;pe<ke.length;pe++)if(me=ke[pe],oe=me.cd[0].trace,oe.selectedpoints&&(oe.selectedpoints.length>1||(Ce+=oe.selectedpoints.length,Ce>1)))return!1;return Ce===1}function ze(ke,Ce,me){var oe;for(oe=0;oe<Ce.length;oe++){var pe=Ce[oe].cd[0].trace._fullInput,Me=ke._fullLayout._tracePreGUI[pe.uid]||{};Me.selectedpoints===void 0&&(Me.selectedpoints=pe._input.selectedpoints||null)}var _e;if(me){var tt=me.points||[];for(oe=0;oe<Ce.length;oe++)_e=Ce[oe].cd[0].trace,_e._input.selectedpoints=_e._fullInput.selectedpoints=[],_e._fullInput!==_e&&(_e.selectedpoints=[]);for(var at=0;at<tt.length;at++){var At=tt[at],Ft=At.data,Gt=At.fullData,Yt=At.pointIndex,Dt=At.pointIndices;Dt?([].push.apply(Ft.selectedpoints,Dt),_e._fullInput!==_e&&[].push.apply(Gt.selectedpoints,Dt)):(Ft.selectedpoints.push(Yt),_e._fullInput!==_e&&Gt.selectedpoints.push(Yt))}}else for(oe=0;oe<Ce.length;oe++)_e=Ce[oe].cd[0].trace,delete _e.selectedpoints,delete _e._input.selectedpoints,_e._fullInput!==_e&&delete _e._fullInput.selectedpoints;Te(ke,Ce)}function Te(ke,Ce){for(var me=!1,oe=0;oe<Ce.length;oe++){var pe=Ce[oe],Me=pe.cd;a.traceIs(Me[0].trace,"regl")&&(me=!0);var _e=pe._module,tt=_e.styleOnSelect||_e.style;tt&&(tt(ke,Me,Me[0].node3),Me[0].nodeRangePlot3&&tt(ke,Me,Me[0].nodeRangePlot3))}me&&(y(ke),_(ke))}function ye(ke,Ce,me){for(var oe=me?g.difference:g.union,pe=oe({regions:ke},{regions:[Ce]}),Me=pe.regions.reverse(),_e=0;_e<Me.length;_e++){var tt=Me[_e];tt.subtract=dt(tt,Me.slice(0,_e))}return Me}function Ae(ke,Ce){if(Array.isArray(ke))for(var me=Ce.cd,oe=Ce.cd[0].trace,pe=0;pe<ke.length;pe++)ke[pe]=d(ke[pe],oe,me);return ke}function Ne(ke,Ce){for(var me=[],oe=0;oe<ke.length;oe++){me[oe]=[];for(var pe=0;pe<ke[oe].length;pe++){me[oe][pe]=[],me[oe][pe][0]=pe?"L":"M";for(var Me=0;Me<ke[oe][pe].length;Me++)me[oe][pe].push(ke[oe][pe][Me])}Ce||me[oe].push(["Z",me[oe][0][1],me[oe][0][2]])}return me}function Ue(ke,Ce){for(var me=[],oe,pe,Me=0;Me<Ce.length;Me++){var _e=Ce[Me];pe=_e._module.selectPoints(_e,ke),oe=Ae(pe,_e),me=me.concat(oe)}return me}function Re(ke,Ce,me,oe,pe){var Me=!!oe,_e,tt,at;pe&&(_e=pe.plotinfo,tt=pe.xaxes[0]._id,at=pe.yaxes[0]._id);var At=[],Ft=[],Gt=qe(ke),Yt=ke._fullLayout;if(_e){var Dt=Yt._zoomlayer,$t=Yt.dragmode,lr=n($t),Hr=f($t);if(lr||Hr){var xt=C(ke,tt,"x"),Qt=C(ke,at,"y");if(xt&&Qt){var jt=Dt.selectAll(".select-outline-"+_e.id);if(jt&&ke._fullLayout._outlining&&jt.length){for(var Sr=jt[0][0],gr=Sr.getAttribute("d"),ut=p(gr,ke,_e),st=[],bt=0;bt<ut.length;bt++){for(var St=ut[bt],Pt=[],Et=0;Et<St.length;Et++)Pt.push([pt(xt,St[Et][1]),pt(Qt,St[Et][2])]);Pt.xref=tt,Pt.yref=at,Pt.subtract=dt(Pt,st),st.push(Pt)}Gt=Gt.concat(st)}}}}var Bt=tt&&at?[tt+at]:Yt._subplots.cartesian;Ve(ke);for(var Wt={},tr=0;tr<Bt.length;tr++){var er=Bt[tr],ur=er.indexOf("y"),kr=er.slice(0,ur),We=er.slice(ur),Ge=tt&&at?me:void 0;if(Ge=Je(Gt,kr,We,Ge),Ge){var _t=oe;if(!Me){var Ot=C(ke,kr,"x"),Kt=C(ke,We,"y");_t=se(ke,[Ot],[Kt],er);for(var or=0;or<_t.length;or++){var hr=_t[or],ir=hr.cd[0],Nt=ir.trace;if(hr._module.name==="scattergl"&&!ir.t.xpx){var vr=Nt.x,mr=Nt.y,xr=Nt._length;ir.t.xpx=[],ir.t.ypx=[];for(var yr=0;yr<xr;yr++)ir.t.xpx[yr]=Ot.c2p(vr[yr]),ir.t.ypx[yr]=Kt.c2p(mr[yr])}hr._module.name==="splom"&&(Wt[Nt.uid]||(Wt[Nt.uid]=!0))}}var Kr=Ue(Ge,_t);At=At.concat(Kr),Ft=Ft.concat(_t)}}var Nr={points:At};ze(ke,Ft,Nr);var Ur=Yt.clickmode,Tn=Ur.indexOf("event")>-1&&Ce;if(!_e&&Ce){var rn=qe(ke,!0);if(rn.length){var Gn=rn[0].xref,Hn=rn[0].yref;if(Gn&&Hn){var Ar=mt(rn),Cr=Rt([C(ke,Gn,"x"),C(ke,Hn,"y")]);Cr(Nr,Ar)}}ke._fullLayout._noEmitSelectedAtStart?ke._fullLayout._noEmitSelectedAtStart=!1:Tn&&Le(ke,Nr),Yt._reselect=!1}if(!_e&&Yt._deselect){var Yr=Yt._deselect;tt=Yr.xref,at=Yr.yref,rt(tt,at,Ft)||Qe(ke,tt,at,oe),Tn&&(Nr.points.length?Le(ke,Nr):Pe(ke)),Yt._deselect=!1}return{eventData:Nr,selectionTesters:me}}function Ve(ke){var Ce=ke.calcdata;if(Ce)for(var me=0;me<Ce.length;me++){var oe=Ce[me][0],pe=oe.trace,Me=ke._fullLayout._splomScenes;if(Me){var _e=Me[pe.uid];_e&&(_e.selectBatch=[])}}}function rt(ke,Ce,me){for(var oe=0;oe<me.length;oe++){var pe=me[oe];if(pe.xaxis&&pe.xaxis._id===ke&&pe.yaxis&&pe.yaxis._id===Ce)return!0}return!1}function Qe(ke,Ce,me,oe){oe=se(ke,[C(ke,Ce,"x")],[C(ke,me,"y")],Ce+me);for(var pe=0;pe<oe.length;pe++){var Me=oe[pe];Me._module.selectPoints(Me,!1)}ze(ke,oe)}function Je(ke,Ce,me,oe){for(var pe,Me=0;Me<ke.length;Me++){var _e=ke[Me];if(!(Ce!==_e.xref||me!==_e.yref))if(pe){var tt=!!_e.subtract;pe=ye(pe,_e,tt),oe=Z(pe)}else pe=[_e],oe=O(_e)}return oe}function qe(ke,Ce){for(var me=[],oe=ke._fullLayout,pe=oe.selections,Me=pe.length,_e=0;_e<Me;_e++)if(!(Ce&&_e!==oe._activeSelectionIndex)){var tt=pe[_e];if(tt){var at=tt.xref,At=tt.yref,Ft=C(ke,at,"x"),Gt=C(ke,At,"y"),Yt,Dt,$t,lr,Hr;if(tt.type==="rect"){Hr=[];var xt=pt(Ft,tt.x0),Qt=pt(Ft,tt.x1),jt=pt(Gt,tt.y0),Sr=pt(Gt,tt.y1);Hr=[[xt,jt],[xt,Sr],[Qt,Sr],[Qt,jt]],Yt=Math.min(xt,Qt),Dt=Math.max(xt,Qt),$t=Math.min(jt,Sr),lr=Math.max(jt,Sr),Hr.xmin=Yt,Hr.xmax=Dt,Hr.ymin=$t,Hr.ymax=lr,Hr.xref=at,Hr.yref=At,Hr.subtract=!1,Hr.isRect=!0,me.push(Hr)}else if(tt.type==="path")for(var gr=tt.path.split("Z"),ut=[],st=0;st<gr.length;st++){var bt=gr[st];if(bt){bt+="Z";var St=l.extractPathCoords(bt,x.paramIsX,"raw"),Pt=l.extractPathCoords(bt,x.paramIsY,"raw");Yt=1/0,Dt=-1/0,$t=1/0,lr=-1/0,Hr=[];for(var Et=0;Et<St.length;Et++){var Bt=pt(Ft,St[Et]),Wt=pt(Gt,Pt[Et]);Hr.push([Bt,Wt]),Yt=Math.min(Bt,Yt),Dt=Math.max(Bt,Dt),$t=Math.min(Wt,$t),lr=Math.max(Wt,lr)}Hr.xmin=Yt,Hr.xmax=Dt,Hr.ymin=$t,Hr.ymax=lr,Hr.xref=at,Hr.yref=At,Hr.subtract=dt(Hr,ut),ut.push(Hr),me.push(Hr)}}}}return me}function dt(ke,Ce){for(var me=!1,oe=0;oe<Ce.length;oe++)for(var pe=Ce[oe],Me=0;Me<ke.length;Me++)if(P(ke[Me],pe)){me=!me;break}return me}function pt(ke,Ce){return ke.type==="date"&&(Ce=Ce.replace("_"," ")),ke.type==="log"?ke.c2p(Ce):ke.r2p(Ce,null,ke.calendar)}function mt(ke){for(var Ce=ke.length,me=[],oe=0;oe<Ce;oe++){var pe=ke[oe];me=me.concat(pe),me=me.concat([pe[0]])}return Ct(me)}function Ct(ke){return ke.isRect=ke.length===5&&ke[0][0]===ke[4][0]&&ke[0][1]===ke[4][1]&&ke[0][0]===ke[1][0]&&ke[2][0]===ke[3][0]&&ke[0][1]===ke[3][1]&&ke[1][1]===ke[2][1]||ke[0][1]===ke[1][1]&&ke[2][1]===ke[3][1]&&ke[0][0]===ke[3][0]&&ke[1][0]===ke[2][0],ke.isRect&&(ke.xmin=Math.min(ke[0][0],ke[2][0]),ke.xmax=Math.max(ke[0][0],ke[2][0]),ke.ymin=Math.min(ke[0][1],ke[2][1]),ke.ymax=Math.max(ke[0][1],ke[2][1])),ke}function Rt(ke){return function(Ce,me){for(var oe,pe,Me=0;Me<ke.length;Me++){var _e=ke[Me],tt=_e._id,at=tt.charAt(0);if(me.isRect){oe||(oe={});var At=me[at+"min"],Ft=me[at+"max"];At!==void 0&&Ft!==void 0&&(oe[tt]=[F(_e,At),F(_e,Ft)].sort(M))}else pe||(pe={}),pe[tt]=me.map(B(_e))}oe&&(Ce.range=oe),pe&&(Ce.lassoPoints=pe)}}function Zt(ke){var Ce=ke.plotinfo;return Ce.fillRangeItems||Rt(ke.xaxes.concat(ke.yaxes))}function Xe(ke,Ce){ke.emit("plotly_selecting",Ce)}function Le(ke,Ce){Ce&&(Ce.selections=(ke.layout||{}).selections||[]),ke.emit("plotly_selected",Ce)}function Pe(ke){ke.emit("plotly_deselect",null)}H.exports={reselect:Re,prepSelect:ee,clearOutline:b,clearSelectionsCache:J,selectOnClick:ae}},89827:function(H,U,e){var g=e(50215),P=e(41940),a=e(82196).line,L=e(79952).P,T=e(1426).extendFlat,v=e(44467).templatedArray;e(24695);var d=e(9012),t=e(5386).R,r=e(37281);H.exports=v("shape",{visible:T({},d.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:T({},d.legend,{editType:"calc+arraydraw"}),legendgroup:T({},d.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:T({},d.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:P({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:T({},d.legendrank,{editType:"calc+arraydraw"}),legendwidth:T({},d.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:T({},g.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:T({},g.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:T({},a.color,{editType:"arraydraw"}),width:T({},a.width,{editType:"calc+arraydraw"}),dash:T({},L,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:t({},{keys:Object.keys(r)}),font:P({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(H,U,e){var g=e(71828),P=e(89298),a=e(21459),L=e(30477);H.exports=function(u){var n=u._fullLayout,s=g.filterVisible(n.shapes);if(!(!s.length||!u._fullData.length))for(var f=0;f<s.length;f++){var l=s[f];l._extremes={};var x,c,b=P.getRefType(l.xref),h=P.getRefType(l.yref);if(l.xref!=="paper"&&b!=="domain"){var o=l.xsizemode==="pixel"?l.xanchor:l.x0,p=l.xsizemode==="pixel"?l.xanchor:l.x1;x=P.getFromId(u,l.xref),c=t(x,o,p,l.path,a.paramIsX),c&&(l._extremes[x._id]=P.findExtremes(x,c,T(l)))}if(l.yref!=="paper"&&h!=="domain"){var S=l.ysizemode==="pixel"?l.yanchor:l.y0,A=l.ysizemode==="pixel"?l.yanchor:l.y1;x=P.getFromId(u,l.yref),c=t(x,S,A,l.path,a.paramIsY),c&&(l._extremes[x._id]=P.findExtremes(x,c,v(l)))}}};function T(r){return d(r.line.width,r.xsizemode,r.x0,r.x1,r.path,!1)}function v(r){return d(r.line.width,r.ysizemode,r.y0,r.y1,r.path,!0)}function d(r,u,n,s,f,l){var x=r/2,c=l;if(u==="pixel"){var b=f?L.extractPathCoords(f,l?a.paramIsY:a.paramIsX):[n,s],h=g.aggNums(Math.max,null,b),o=g.aggNums(Math.min,null,b),p=o<0?Math.abs(o)+x:x,S=h>0?h+x:x;return{ppad:x,ppadplus:c?p:S,ppadminus:c?S:p}}else return{ppad:x}}function t(r,u,n,s,f){var l=r.type==="category"||r.type==="multicategory"?r.r2c:r.d2c;if(u!==void 0)return[l(u),l(n)];if(s){var x=1/0,c=-1/0,b=s.match(a.segmentRE),h,o,p,S,A;for(r.type==="date"&&(l=L.decodeDate(l)),h=0;h<b.length;h++)o=b[h],p=f[o.charAt(0)].drawn,p!==void 0&&(S=b[h].substr(1).match(a.paramRE),!(!S||S.length<p)&&(A=l(S[p]),A<x&&(x=A),A>c&&(c=A)));if(c>=x)return[x,c]}}},21459:function(H){H.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},84726:function(H,U,e){var g=e(71828),P=e(89298),a=e(85501),L=e(89827),T=e(30477);H.exports=function(r,u){a(r,u,{name:"shapes",handleItemDefaults:d})};function v(t,r){return t?"bottom":r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle"}function d(t,r,u){function n(K,W){return g.coerce(t,r,L,K,W)}r._isShape=!0;var s=n("visible");if(s){var f=n("showlegend");f&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),g.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var l=n("path"),x=l?"path":"rect",c=n("type",x),b=c!=="path";b&&delete r.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var h=n("line.width");h&&(n("line.color"),n("line.dash"));for(var o=n("xsizemode"),p=n("ysizemode"),S=["x","y"],A=0;A<2;A++){var E=S[A],m=E+"anchor",M=E==="x"?o:p,w={_fullLayout:u},i,C,y,_=P.coerceRef(t,r,w,E,void 0,"paper"),I=P.getRefType(_);if(I==="range"?(i=P.getFromId(w,_),i._shapeIndices.push(r._index),y=T.rangeToShapePosition(i),C=T.shapePositionToRange(i)):C=y=g.identity,b){var N=.25,k=.75,O=E+"0",z=E+"1",F=t[O],B=t[z];t[O]=C(t[O],!0),t[z]=C(t[z],!0),M==="pixel"?(n(O,0),n(z,10)):(P.coercePosition(r,w,n,_,O,N),P.coercePosition(r,w,n,_,z,k)),r[O]=y(r[O]),r[z]=y(r[z]),t[O]=F,t[z]=B}if(M==="pixel"){var G=t[m];t[m]=C(t[m],!0),P.coercePosition(r,w,n,_,m,.25),r[m]=y(r[m]),t[m]=G}}b&&g.noneOrAll(t,r,["x0","x1","y0","y1"]);var Q=c==="line",ee,ae;if(b&&(ee=n("label.texttemplate")),ee||(ae=n("label.text")),ae||ee){n("label.textangle");var fe=n("label.textposition",Q?"middle":"middle center");n("label.xanchor"),n("label.yanchor",v(Q,fe)),n("label.padding"),g.coerceFont(n,"label.font",u.font)}}}},48100:function(H,U,e){var g=e(71828),P=e(89298),a=e(63893),L=e(91424),T=e(60165).readPaths,v=e(30477),d=v.getPathString,t=e(37281),r=e(18783).FROM_TL;H.exports=function(f,l,x,c){if(c.selectAll(".shape-label").remove(),!!(x.label.text||x.label.texttemplate)){var b;if(x.label.texttemplate){var h={};if(x.type!=="path"){var o=P.getFromId(f,x.xref),p=P.getFromId(f,x.yref);for(var S in t){var A=t[S](x,o,p);A!==void 0&&(h[S]=A)}}b=g.texttemplateStringForShapes(x.label.texttemplate,{},f._fullLayout._d3locale,h)}else b=x.label.text;var E={"data-index":l},m=x.label.font,M={"data-notex":1},w=c.append("g").attr(E).classed("shape-label",!0),i=w.append("text").attr(M).classed("shape-label-text",!0).text(b),C,y,_,I;if(x.path){var N=d(f,x),k=T(N,f);C=1/0,_=1/0,y=-1/0,I=-1/0;for(var O=0;O<k.length;O++)for(var z=0;z<k[O].length;z++)for(var F=k[O][z],B=1;B<F.length;B+=2){var G=F[B],Q=F[B+1];C=Math.min(C,G),y=Math.max(y,G),_=Math.min(_,Q),I=Math.max(I,Q)}}else{var ee=P.getFromId(f,x.xref),ae=P.getRefType(x.xref),fe=P.getFromId(f,x.yref),K=P.getRefType(x.yref),W=v.getDataToPixel(f,ee,!1,ae),Z=v.getDataToPixel(f,fe,!0,K);C=W(x.x0),y=W(x.x1),_=Z(x.y0),I=Z(x.y1)}var X=x.label.textangle;X==="auto"&&(x.type==="line"?X=u(C,_,y,I):X=0),i.call(function(ne){return ne.call(L.font,m).attr({}),a.convertToTspans(ne,f),ne});var $=L.bBox(i.node()),ie=n(C,_,y,I,x,X,$),J=ie.textx,j=ie.texty,se=ie.xanchor;i.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[se],y:j,x:J,transform:"rotate("+X+","+J+","+j+")"}).call(a.positionText,J,j)}};function u(s,f,l,x){var c,b;return b=Math.abs(l-s),l>=s?c=f-x:c=x-f,-180/Math.PI*Math.atan2(c,b)}function n(s,f,l,x,c,b,h){var o=c.label.textposition,p=c.label.textangle,S=c.label.padding,A=c.type,E=Math.PI/180*b,m=Math.sin(E),M=Math.cos(E),w=c.label.xanchor,i=c.label.yanchor,C,y,_,I;if(A==="line"){o==="start"?(C=s,y=f):o==="end"?(C=l,y=x):(C=(s+l)/2,y=(f+x)/2),w==="auto"&&(o==="start"?p==="auto"?l>s?w="left":l<s?w="right":w="center":l>s?w="right":l<s?w="left":w="center":o==="end"?p==="auto"?l>s?w="right":l<s?w="left":w="center":l>s?w="left":l<s?w="right":w="center":w="center");var N={left:1,center:0,right:-1},k={bottom:-1,middle:0,top:1};if(p==="auto"){var O=k[i];_=-S*m*O,I=S*M*O}else{var z=N[w],F=k[i];_=S*z,I=S*F}C=C+_,y=y+I}else _=S+3,o.indexOf("right")!==-1?(C=Math.max(s,l)-_,w==="auto"&&(w="right")):o.indexOf("left")!==-1?(C=Math.min(s,l)+_,w==="auto"&&(w="left")):(C=(s+l)/2,w==="auto"&&(w="center")),o.indexOf("top")!==-1?y=Math.min(f,x):o.indexOf("bottom")!==-1?y=Math.max(f,x):y=(f+x)/2,I=S,i==="bottom"?y=y-I:i==="top"&&(y=y+I);var B=r[i],G=c.label.font.size,Q=h.height,ee=(Q*B-G)*m,ae=-(Q*B-G)*M;return{textx:C+ee,texty:y+ae,xanchor:w}}},42359:function(H,U,e){var g=e(71828),P=g.strTranslate,a=e(28569),L=e(64505),T=L.drawMode,v=L.selectMode,d=e(73972),t=e(7901),r=e(89995),u=r.i000,n=r.i090,s=r.i180,f=r.i270,l=e(51873),x=l.clearOutlineControllers,c=e(60165),b=c.pointsOnRectangle,h=c.pointsOnEllipse,o=c.writePaths,p=e(90551).newShapes,S=e(90551).createShapeObj,A=e(35855),E=e(48100);H.exports=function i(C,y,_,I){I||(I=0);var N=_.gd;function k(){i(C,y,_,I++),(h(C[0])||_.hasText)&&O({redrawing:!0})}function O(ye){var Ae={};_.isActiveShape!==void 0&&(_.isActiveShape=!1,Ae=p(y,_)),_.isActiveSelection!==void 0&&(_.isActiveSelection=!1,Ae=A(y,_),N._fullLayout._reselect=!0),Object.keys(Ae).length&&d.call((ye||{}).redrawing?"relayout":"_guiRelayout",N,Ae)}var z=N._fullLayout,F=z._zoomlayer,B=_.dragmode,G=T(B),Q=v(B);(G||Q)&&(N._fullLayout._outlining=!0),x(N),y.attr("d",o(C));var ee,ae,fe,K,W;if(!I&&(_.isActiveShape||_.isActiveSelection)){W=m([],C);var Z=F.append("g").attr("class","outline-controllers");ue(Z),Te()}if(G&&_.hasText){var X=F.select(".label-temp"),$=S(y,_,_.dragmode);E(N,"label-temp",$,X)}function ie(ye){fe=+ye.srcElement.getAttribute("data-i"),K=+ye.srcElement.getAttribute("data-j"),ee[fe][K].moveFn=J}function J(ye,Ae){if(C.length){var Ne=W[fe][K][1],Ue=W[fe][K][2],Re=C[fe],Ve=Re.length;if(b(Re)){var rt=ye,Qe=Ae;if(_.isActiveSelection){var Je=M(Re,K);Je[1]===Re[K][1]?Qe=0:rt=0}for(var qe=0;qe<Ve;qe++)if(qe!==K){var dt=Re[qe];dt[1]===Re[K][1]&&(dt[1]=Ne+rt),dt[2]===Re[K][2]&&(dt[2]=Ue+Qe)}if(Re[K][1]=Ne+rt,Re[K][2]=Ue+Qe,!b(Re))for(var pt=0;pt<Ve;pt++)for(var mt=0;mt<Re[pt].length;mt++)Re[pt][mt]=W[fe][pt][mt]}else Re[K][1]=Ne+ye,Re[K][2]=Ue+Ae;k()}}function j(){O()}function se(){if(C.length&&C[fe]&&C[fe].length){for(var ye=[],Ae=0;Ae<C[fe].length;Ae++)Ae!==K&&ye.push(C[fe][Ae]);ye.length>1&&!(ye.length===2&&ye[1][0]==="Z")&&(K===0&&(ye[0][0]="M"),C[fe]=ye,k(),O())}}function ne(ye,Ae){if(ye===2){fe=+Ae.srcElement.getAttribute("data-i"),K=+Ae.srcElement.getAttribute("data-j");var Ne=C[fe];!b(Ne)&&!h(Ne)&&se()}}function ue(ye){ee=[];for(var Ae=0;Ae<C.length;Ae++){var Ne=C[Ae],Ue=b(Ne),Re=!Ue&&h(Ne);ee[Ae]=[];for(var Ve=Ne.length,rt=0;rt<Ve;rt++)if(Ne[rt][0]!=="Z"&&!(Re&&rt!==u&&rt!==n&&rt!==s&&rt!==f)){var Qe=Ue&&_.isActiveSelection,Je;Qe&&(Je=M(Ne,rt));var qe=Ne[rt][1],dt=Ne[rt][2],pt=ye.append(Qe?"rect":"circle").attr("data-i",Ae).attr("data-j",rt).style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(Qe){var mt=Je[1]-qe,Ct=Je[2]-dt,Rt=Ct?5:Math.max(Math.min(25,Math.abs(mt)-5),5),Zt=mt?5:Math.max(Math.min(25,Math.abs(Ct)-5),5);pt.classed(Ct?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Rt).attr("height",Zt).attr("x",qe-Rt/2).attr("y",dt-Zt/2).attr("transform",P(mt/2,Ct/2))}else pt.classed("cursor-grab",!0).attr("r",5).attr("cx",qe).attr("cy",dt);ee[Ae][rt]={element:pt.node(),gd:N,prepFn:ie,doneFn:j,clickFn:ne},a.init(ee[Ae][rt])}}}function ge(ye,Ae){if(C.length)for(var Ne=0;Ne<C.length;Ne++)for(var Ue=0;Ue<C[Ne].length;Ue++)for(var Re=0;Re+2<C[Ne][Ue].length;Re+=2)C[Ne][Ue][Re+1]=W[Ne][Ue][Re+1]+ye,C[Ne][Ue][Re+2]=W[Ne][Ue][Re+2]+Ae}function we(ye,Ae){ge(ye,Ae),k()}function xe(ye){fe=+ye.srcElement.getAttribute("data-i"),fe||(fe=0),ae[fe].moveFn=we}function Fe(){O()}function ze(ye){ye===2&&w(N)}function Te(){if(ae=[],!!C.length){var ye=0;ae[ye]={element:y[0][0],gd:N,prepFn:xe,doneFn:Fe,clickFn:ze},a.init(ae[ye])}}};function m(i,C){for(var y=0;y<C.length;y++){var _=C[y];i[y]=[];for(var I=0;I<_.length;I++){i[y][I]=[];for(var N=0;N<_[I].length;N++)i[y][I][N]=_[I][N]}}return i}function M(i,C){var y=i[C][1],_=i[C][2],I=i.length,N,k,O;return N=(C+1)%I,k=i[N][1],O=i[N][2],k===y&&O===_&&(N=(C+2)%I,k=i[N][1],O=i[N][2]),[N,k,O]}function w(i){if(v(i._fullLayout.dragmode)){x(i);var C=i._fullLayout._activeSelectionIndex,y=(i.layout||{}).selections||[];if(C<y.length){for(var _=[],I=0;I<y.length;I++)I!==C&&_.push(y[I]);delete i._fullLayout._activeSelectionIndex;var N=i._fullLayout.selections[C];i._fullLayout._deselect={xref:N.xref,yref:N.yref},d.call("_guiRelayout",i,{selections:_})}}}},34031:function(H,U,e){var g=e(39898),P=e(73972),a=e(71828),L=e(89298),T=e(60165).readPaths,v=e(42359),d=e(48100),t=e(51873).clearOutlineControllers,r=e(7901),u=e(91424),n=e(44467).arrayEditor,s=e(28569),f=e(6964),l=e(21459),x=e(30477),c=x.getPathString;H.exports={draw:b,drawOne:p,eraseActiveShape:w,drawLabel:d};function b(i){var C=i._fullLayout;C._shapeUpperLayer.selectAll("path").remove(),C._shapeLowerLayer.selectAll("path").remove(),C._shapeUpperLayer.selectAll("text").remove(),C._shapeLowerLayer.selectAll("text").remove();for(var y in C._plots){var _=C._plots[y].shapelayer;_&&(_.selectAll("path").remove(),_.selectAll("text").remove())}for(var I=0;I<C.shapes.length;I++)C.shapes[I].visible===!0&&p(i,I)}function h(i){return!!i._fullLayout._outlining}function o(i){return!i._context.edits.shapePosition}function p(i,C){i._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+C+'"]').remove();var y=x.makeShapesOptionsAndPlotinfo(i,C),_=y.options,I=y.plotinfo;if(!_._input||_.visible!==!0)return;if(_.layer!=="below")k(i._fullLayout._shapeUpperLayer);else if(_.xref==="paper"||_.yref==="paper")k(i._fullLayout._shapeLowerLayer);else if(I._hadPlotinfo){var N=I.mainplotinfo||I;k(N.shapelayer)}else k(i._fullLayout._shapeLowerLayer);function k(O){var z=c(i,_),F={"data-index":C,"fill-rule":_.fillrule,d:z},B=_.opacity,G=_.fillcolor,Q=_.line.width?_.line.color:"rgba(0,0,0,0)",ee=_.line.width,ae=_.line.dash;!ee&&_.editable===!0&&(ee=5,ae="solid");var fe=z[z.length-1]!=="Z",K=o(i)&&_.editable&&i._fullLayout._activeShapeIndex===C;K&&(G=fe?"rgba(0,0,0,0)":i._fullLayout.activeshape.fillcolor,B=i._fullLayout.activeshape.opacity);var W=O.append("g").classed("shape-group",!0).attr({"data-index":C}),Z=W.append("path").attr(F).style("opacity",B).call(r.stroke,Q).call(r.fill,G).call(u.dashLine,ae,ee);S(W,i,_),d(i,C,_,W);var X;if((K||i._context.edits.shapePosition)&&(X=n(i.layout,"shapes",_)),K){Z.style({cursor:"move"});var $={element:Z.node(),plotinfo:I,gd:i,editHelpers:X,hasText:_.label.text||_.label.texttemplate,isActiveShape:!0},ie=T(z,i);v(ie,Z,$)}else i._context.edits.shapePosition?A(i,Z,_,C,O,X):_.editable===!0&&Z.style("pointer-events",fe||r.opacity(G)*B<=.5?"stroke":"all");Z.node().addEventListener("click",function(){return m(i,Z)})}}function S(i,C,y){var _=(y.xref+y.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");u.setClipUrl(i,_?"clip"+C._fullLayout._uid+_:null,C)}function A(i,C,y,_,I,N){var k=10,O=10,z=y.xsizemode==="pixel",F=y.ysizemode==="pixel",B=y.type==="line",G=y.type==="path",Q=N.modifyItem,ee,ae,fe,K,W,Z,X,$,ie,J,j,se,ne,ue,ge,we=g.select(C.node().parentNode),xe=L.getFromId(i,y.xref),Fe=L.getRefType(y.xref),ze=L.getFromId(i,y.yref),Te=L.getRefType(y.yref),ye=x.getDataToPixel(i,xe,!1,Fe),Ae=x.getDataToPixel(i,ze,!0,Te),Ne=x.getPixelToData(i,xe,!1,Fe),Ue=x.getPixelToData(i,ze,!0,Te),Re=Qe(),Ve={element:Re.node(),gd:i,prepFn:dt,doneFn:pt,clickFn:mt},rt;s.init(Ve),Re.node().onmousemove=qe;function Qe(){return B?Je():C}function Je(){var Pe=10,ke=Math.max(y.line.width,Pe),Ce=I.append("g").attr("data-index",_).attr("drag-helper",!0);Ce.append("path").attr("d",C.attr("d")).style({cursor:"move","stroke-width":ke,"stroke-opacity":"0"});var me={"fill-opacity":"0"},oe=Math.max(ke/2,Pe);return Ce.append("circle").attr({"data-line-point":"start-point",cx:z?ye(y.xanchor)+y.x0:ye(y.x0),cy:F?Ae(y.yanchor)-y.y0:Ae(y.y0),r:oe}).style(me).classed("cursor-grab",!0),Ce.append("circle").attr({"data-line-point":"end-point",cx:z?ye(y.xanchor)+y.x1:ye(y.x1),cy:F?Ae(y.yanchor)-y.y1:Ae(y.y1),r:oe}).style(me).classed("cursor-grab",!0),Ce}function qe(Pe){if(h(i)){rt=null;return}if(B)Pe.target.tagName==="path"?rt="move":rt=Pe.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var ke=Ve.element.getBoundingClientRect(),Ce=ke.right-ke.left,me=ke.bottom-ke.top,oe=Pe.clientX-ke.left,pe=Pe.clientY-ke.top,Me=!G&&Ce>k&&me>O&&!Pe.shiftKey?s.getCursor(oe/Ce,1-pe/me):"move";f(C,Me),rt=Me.split("-")[0]}}function dt(Pe){h(i)||(z&&(W=ye(y.xanchor)),F&&(Z=Ae(y.yanchor)),y.type==="path"?ge=y.path:(ee=z?y.x0:ye(y.x0),ae=F?y.y0:Ae(y.y0),fe=z?y.x1:ye(y.x1),K=F?y.y1:Ae(y.y1)),ee<fe?(ie=ee,ne="x0",J=fe,ue="x1"):(ie=fe,ne="x1",J=ee,ue="x0"),!F&&ae<K||F&&ae>K?(X=ae,j="y0",$=K,se="y1"):(X=K,j="y1",$=ae,se="y0"),qe(Pe),Zt(I,y),Le(C,y,i),Ve.moveFn=rt==="move"?Ct:Rt,Ve.altKey=Pe.altKey)}function pt(){h(i)||(f(C),Xe(I),S(C,i,y),P.call("_guiRelayout",i,N.getUpdateObj()))}function mt(){h(i)||Xe(I)}function Ct(Pe,ke){if(y.type==="path"){var Ce=function(pe){return pe},me=Ce,oe=Ce;z?Q("xanchor",y.xanchor=Ne(W+Pe)):(me=function(Me){return Ne(ye(Me)+Pe)},xe&&xe.type==="date"&&(me=x.encodeDate(me))),F?Q("yanchor",y.yanchor=Ue(Z+ke)):(oe=function(Me){return Ue(Ae(Me)+ke)},ze&&ze.type==="date"&&(oe=x.encodeDate(oe))),Q("path",y.path=E(ge,me,oe))}else z?Q("xanchor",y.xanchor=Ne(W+Pe)):(Q("x0",y.x0=Ne(ee+Pe)),Q("x1",y.x1=Ne(fe+Pe))),F?Q("yanchor",y.yanchor=Ue(Z+ke)):(Q("y0",y.y0=Ue(ae+ke)),Q("y1",y.y1=Ue(K+ke)));C.attr("d",c(i,y)),Zt(I,y),d(i,_,y,we)}function Rt(Pe,ke){if(G){var Ce=function(xt){return xt},me=Ce,oe=Ce;z?Q("xanchor",y.xanchor=Ne(W+Pe)):(me=function(Qt){return Ne(ye(Qt)+Pe)},xe&&xe.type==="date"&&(me=x.encodeDate(me))),F?Q("yanchor",y.yanchor=Ue(Z+ke)):(oe=function(Qt){return Ue(Ae(Qt)+ke)},ze&&ze.type==="date"&&(oe=x.encodeDate(oe))),Q("path",y.path=E(ge,me,oe))}else if(B){if(rt==="resize-over-start-point"){var pe=ee+Pe,Me=F?ae-ke:ae+ke;Q("x0",y.x0=z?pe:Ne(pe)),Q("y0",y.y0=F?Me:Ue(Me))}else if(rt==="resize-over-end-point"){var _e=fe+Pe,tt=F?K-ke:K+ke;Q("x1",y.x1=z?_e:Ne(_e)),Q("y1",y.y1=F?tt:Ue(tt))}}else{var at=function(xt){return rt.indexOf(xt)!==-1},At=at("n"),Ft=at("s"),Gt=at("w"),Yt=at("e"),Dt=At?X+ke:X,$t=Ft?$+ke:$,lr=Gt?ie+Pe:ie,Hr=Yt?J+Pe:J;F&&(At&&(Dt=X-ke),Ft&&($t=$-ke)),(!F&&$t-Dt>O||F&&Dt-$t>O)&&(Q(j,y[j]=F?Dt:Ue(Dt)),Q(se,y[se]=F?$t:Ue($t))),Hr-lr>k&&(Q(ne,y[ne]=z?lr:Ne(lr)),Q(ue,y[ue]=z?Hr:Ne(Hr)))}C.attr("d",c(i,y)),Zt(I,y),d(i,_,y,we)}function Zt(Pe,ke){(z||F)&&Ce();function Ce(){var me=ke.type!=="path",oe=Pe.selectAll(".visual-cue").data([0]),pe=1;oe.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":pe}).classed("visual-cue",!0);var Me=ye(z?ke.xanchor:a.midRange(me?[ke.x0,ke.x1]:x.extractPathCoords(ke.path,l.paramIsX))),_e=Ae(F?ke.yanchor:a.midRange(me?[ke.y0,ke.y1]:x.extractPathCoords(ke.path,l.paramIsY)));if(Me=x.roundPositionForSharpStrokeRendering(Me,pe),_e=x.roundPositionForSharpStrokeRendering(_e,pe),z&&F){var tt="M"+(Me-1-pe)+","+(_e-1-pe)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";oe.attr("d",tt)}else if(z){var at="M"+(Me-1-pe)+","+(_e-9-pe)+"v18 h2 v-18 Z";oe.attr("d",at)}else{var At="M"+(Me-9-pe)+","+(_e-1-pe)+"h18 v2 h-18 Z";oe.attr("d",At)}}}function Xe(Pe){Pe.selectAll(".visual-cue").remove()}function Le(Pe,ke,Ce){var me=ke.xref,oe=ke.yref,pe=L.getFromId(Ce,me),Me=L.getFromId(Ce,oe),_e="";me!=="paper"&&!pe.autorange&&(_e+=me),oe!=="paper"&&!Me.autorange&&(_e+=oe),u.setClipUrl(Pe,_e?"clip"+Ce._fullLayout._uid+_e:null,Ce)}}function E(i,C,y){return i.replace(l.segmentRE,function(_){var I=0,N=_.charAt(0),k=l.paramIsX[N],O=l.paramIsY[N],z=l.numParams[N],F=_.substr(1).replace(l.paramRE,function(B){return I>=z||(k[I]?B=C(B):O[I]&&(B=y(B)),I++),B});return N+F})}function m(i,C){if(o(i)){var y=C.node(),_=+y.getAttribute("data-index");if(_>=0){if(_===i._fullLayout._activeShapeIndex){M(i);return}i._fullLayout._activeShapeIndex=_,i._fullLayout._deactivateShape=M,b(i)}}}function M(i){if(o(i)){var C=i._fullLayout._activeShapeIndex;C>=0&&(t(i),delete i._fullLayout._activeShapeIndex,b(i))}}function w(i){if(o(i)){t(i);var C=i._fullLayout._activeShapeIndex,y=(i.layout||{}).shapes||[];if(C<y.length){for(var _=[],I=0;I<y.length;I++)I!==C&&_.push(y[I]);return delete i._fullLayout._activeShapeIndex,P.call("_guiRelayout",i,{shapes:_})}}}},29241:function(H,U,e){var g=e(30962).overrideAll,P=e(9012),a=e(41940),L=e(79952).P,T=e(1426).extendFlat,v=e(5386).R,d=e(37281);H.exports=g({newshape:{visible:T({},P.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:T({},P.legend,{}),legendgroup:T({},P.legendgroup,{}),legendgrouptitle:{text:T({},P.legendgrouptitle.text,{}),font:a({})},legendrank:T({},P.legendrank,{}),legendwidth:T({},P.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:T({},L,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:T({},P.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:v({newshape:!0},{keys:Object.keys(d)}),font:a({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},89995:function(H){var U=32;H.exports={CIRCLE_SIDES:U,i000:0,i090:U/4,i180:U/2,i270:U/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},45547:function(H,U,e){var g=e(7901),P=e(71828);function a(L,T){return L?"bottom":T.indexOf("top")!==-1?"top":T.indexOf("bottom")!==-1?"bottom":"middle"}H.exports=function(T,v,d){d("newshape.visible"),d("newshape.name"),d("newshape.showlegend"),d("newshape.legend"),d("newshape.legendwidth"),d("newshape.legendgroup"),d("newshape.legendgrouptitle.text"),P.coerceFont(d,"newshape.legendgrouptitle.font"),d("newshape.legendrank"),d("newshape.drawdirection"),d("newshape.layer"),d("newshape.fillcolor"),d("newshape.fillrule"),d("newshape.opacity");var t=d("newshape.line.width");if(t){var r=(T||{}).plot_bgcolor||"#FFF";d("newshape.line.color",g.contrast(r)),d("newshape.line.dash")}var u=T.dragmode==="drawline",n=d("newshape.label.text"),s=d("newshape.label.texttemplate");if(n||s){d("newshape.label.textangle");var f=d("newshape.label.textposition",u?"middle":"middle center");d("newshape.label.xanchor"),d("newshape.label.yanchor",a(u,f)),d("newshape.label.padding"),P.coerceFont(d,"newshape.label.font",v.font)}d("activeshape.fillcolor"),d("activeshape.opacity")}},60165:function(H,U,e){var g=e(95616),P=e(89995),a=P.CIRCLE_SIDES,L=P.SQRT2,T=e(75549),v=T.p2r,d=T.r2p,t=[0,3,4,5,6,1,2],r=[0,3,4,1,2];U.writePaths=function(s){var f=s.length;if(!f)return"M0,0Z";for(var l="",x=0;x<f;x++)for(var c=s[x].length,b=0;b<c;b++){var h=s[x][b][0];if(h==="Z")l+="Z";else for(var o=s[x][b].length,p=0;p<o;p++){var S=p;h==="Q"||h==="S"?S=r[p]:h==="C"&&(S=t[p]),l+=s[x][b][S],p>0&&p<o-1&&(l+=",")}}return l},U.readPaths=function(s,f,l,x){var c=g(s),b=[],h=-1,o=function(){h++,b[h]=[]},p,S=0,A=0,E,m,M=function(){E=S,m=A};M();for(var w=0;w<c.length;w++){var i=[],C,y,_,I,N=c[w][0],k=N;switch(N){case"M":o(),S=+c[w][1],A=+c[w][2],i.push([k,S,A]),M();break;case"Q":case"S":C=+c[w][1],_=+c[w][2],S=+c[w][3],A=+c[w][4],i.push([k,S,A,C,_]);break;case"C":C=+c[w][1],_=+c[w][2],y=+c[w][3],I=+c[w][4],S=+c[w][5],A=+c[w][6],i.push([k,S,A,C,_,y,I]);break;case"T":case"L":S=+c[w][1],A=+c[w][2],i.push([k,S,A]);break;case"H":k="L",S=+c[w][1],i.push([k,S,A]);break;case"V":k="L",A=+c[w][1],i.push([k,S,A]);break;case"A":k="L";var O=+c[w][1],z=+c[w][2];+c[w][4]||(O=-O,z=-z);var F=S-O,B=A;for(p=1;p<=a/2;p++){var G=2*Math.PI*p/a;i.push([k,F+O*Math.cos(G),B+z*Math.sin(G)])}break;case"Z":(S!==E||A!==m)&&(S=E,A=m,i.push([k,S,A]));break}for(var Q=(l||{}).domain,ee=f._fullLayout._size,ae=l&&l.xsizemode==="pixel",fe=l&&l.ysizemode==="pixel",K=x===!1,W=0;W<i.length;W++){for(p=0;p+2<7;p+=2){var Z=i[W][p+1],X=i[W][p+2];Z===void 0||X===void 0||(S=Z,A=X,l&&(l.xaxis&&l.xaxis.p2r?(K&&(Z-=l.xaxis._offset),ae?Z=d(l.xaxis,l.xanchor)+Z:Z=v(l.xaxis,Z)):(K&&(Z-=ee.l),Q?Z=Q.x[0]+Z/ee.w:Z=Z/ee.w),l.yaxis&&l.yaxis.p2r?(K&&(X-=l.yaxis._offset),fe?X=d(l.yaxis,l.yanchor)-X:X=v(l.yaxis,X)):(K&&(X-=ee.t),Q?X=Q.y[1]-X/ee.h:X=1-X/ee.h)),i[W][p+1]=Z,i[W][p+2]=X)}b[h].push(i[W].slice())}}return b};function u(s,f){return Math.abs(s-f)<=1e-6}function n(s,f){var l=f[1]-s[1],x=f[2]-s[2];return Math.sqrt(l*l+x*x)}U.pointsOnRectangle=function(s){var f=s.length;if(f!==5)return!1;for(var l=1;l<3;l++){var x=s[0][l]-s[1][l],c=s[3][l]-s[2][l];if(!u(x,c))return!1;var b=s[0][l]-s[3][l],h=s[1][l]-s[2][l];if(!u(b,h))return!1}return!u(s[0][1],s[1][1])&&!u(s[0][1],s[3][1])?!1:!!(n(s[0],s[1])*n(s[0],s[3]))},U.pointsOnEllipse=function(s){var f=s.length;if(f!==a+1)return!1;f=a;for(var l=0;l<f;l++){var x=(f*2-l)%f,c=(f/2+x)%f,b=(f/2+l)%f;if(!u(n(s[l],s[b]),n(s[x],s[c])))return!1}return!0},U.handleEllipse=function(s,f,l){if(!s)return[f,l];var x=U.ellipseOver({x0:f[0],y0:f[1],x1:l[0],y1:l[1]}),c=(x.x1+x.x0)/2,b=(x.y1+x.y0)/2,h=(x.x1-x.x0)/2,o=(x.y1-x.y0)/2;h||(h=o=o/L),o||(o=h=h/L);for(var p=[],S=0;S<a;S++){var A=S*2*Math.PI/a;p.push([c+h*Math.cos(A),b+o*Math.sin(A)])}return p},U.ellipseOver=function(s){var f=s.x0,l=s.y0,x=s.x1,c=s.y1,b=x-f,h=c-l;f-=b,l-=h;var o=(f+x)/2,p=(l+c)/2,S=L;return b*=S,h*=S,{x0:o-b,y0:p-h,x1:o+b,y1:p+h}},U.fixDatesForPaths=function(s,f,l){var x=f.type==="date",c=l.type==="date";if(!x&&!c)return s;for(var b=0;b<s.length;b++)for(var h=0;h<s[b].length;h++)for(var o=0;o+2<s[b][h].length;o+=2)x&&(s[b][h][o+1]=s[b][h][o+1].replace(" ","_")),c&&(s[b][h][o+2]=s[b][h][o+2].replace(" ","_"));return s}},90551:function(H,U,e){var g=e(64505),P=g.drawMode,a=g.openMode,L=e(89995),T=L.i000,v=L.i090,d=L.i180,t=L.i270,r=L.cos45,u=L.sin45,n=e(75549),s=n.p2r,f=n.r2p,l=e(51873),x=l.clearOutline,c=e(60165),b=c.readPaths,h=c.writePaths,o=c.ellipseOver,p=c.fixDatesForPaths;function S(E,m){if(E.length){var M=E[0][0];if(M){var w=m.gd,i=m.isActiveShape,C=m.dragmode,y=(w.layout||{}).shapes||[];if(!P(C)&&i!==void 0){var _=w._fullLayout._activeShapeIndex;if(_<y.length)switch(w._fullLayout.shapes[_].type){case"rect":C="drawrect";break;case"circle":C="drawcircle";break;case"line":C="drawline";break;case"path":var I=y[_].path||"";I[I.length-1]==="Z"?C="drawclosedpath":C="drawopenpath";break}}var N=A(E,m,C);x(w);for(var k=m.editHelpers,O=(k||{}).modifyItem,z=[],F=0;F<y.length;F++){var B=w._fullLayout.shapes[F];if(z[F]=B._input,i!==void 0&&F===w._fullLayout._activeShapeIndex){var G=N;switch(B.type){case"line":case"rect":case"circle":O("x0",G.x0),O("x1",G.x1),O("y0",G.y0),O("y1",G.y1);break;case"path":O("path",G.path);break}}}return i===void 0?(z.push(N),z):k?k.getUpdateObj():{}}}}function A(E,m,M){var w=E[0][0],i=m.gd,C=w.getAttribute("d"),y=i._fullLayout.newshape,_=m.plotinfo,I=m.isActiveShape,N=_.xaxis,k=_.yaxis,O=!!_.domain||!_.xaxis,z=!!_.domain||!_.yaxis,F=a(M),B=b(C,i,_,I),G={editable:!0,visible:y.visible,name:y.name,showlegend:y.showlegend,legend:y.legend,legendwidth:y.legendwidth,legendgroup:y.legendgroup,legendgrouptitle:{text:y.legendgrouptitle.text,font:y.legendgrouptitle.font},legendrank:y.legendrank,label:y.label,xref:O?"paper":N._id,yref:z?"paper":k._id,layer:y.layer,opacity:y.opacity,line:{color:y.line.color,width:y.line.width,dash:y.line.dash}};F||(G.fillcolor=y.fillcolor,G.fillrule=y.fillrule);var Q;if(B.length===1&&(Q=B[0]),Q&&Q.length===5&&M==="drawrect")G.type="rect",G.x0=Q[0][1],G.y0=Q[0][2],G.x1=Q[2][1],G.y1=Q[2][2];else if(Q&&M==="drawline")G.type="line",G.x0=Q[0][1],G.y0=Q[0][2],G.x1=Q[1][1],G.y1=Q[1][2];else if(Q&&M==="drawcircle"){G.type="circle";var ee=Q[T][1],ae=Q[v][1],fe=Q[d][1],K=Q[t][1],W=Q[T][2],Z=Q[v][2],X=Q[d][2],$=Q[t][2],ie=_.xaxis&&(_.xaxis.type==="date"||_.xaxis.type==="log"),J=_.yaxis&&(_.yaxis.type==="date"||_.yaxis.type==="log");ie&&(ee=f(_.xaxis,ee),ae=f(_.xaxis,ae),fe=f(_.xaxis,fe),K=f(_.xaxis,K)),J&&(W=f(_.yaxis,W),Z=f(_.yaxis,Z),X=f(_.yaxis,X),$=f(_.yaxis,$));var j=(ae+K)/2,se=(W+X)/2,ne=(K-ae+fe-ee)/2,ue=($-Z+X-W)/2,ge=o({x0:j,y0:se,x1:j+ne*r,y1:se+ue*u});ie&&(ge.x0=s(_.xaxis,ge.x0),ge.x1=s(_.xaxis,ge.x1)),J&&(ge.y0=s(_.yaxis,ge.y0),ge.y1=s(_.yaxis,ge.y1)),G.x0=ge.x0,G.y0=ge.y0,G.x1=ge.x1,G.y1=ge.y1}else G.type="path",N&&k&&p(B,N,k),G.path=h(B),Q=null;return G}H.exports={newShapes:S,createShapeObj:A}},51873:function(H){function U(g){var P=g._fullLayout._zoomlayer;P&&P.selectAll(".outline-controllers").remove()}function e(g){var P=g._fullLayout._zoomlayer;P&&P.selectAll(".select-outline").remove(),g._fullLayout._outlining=!1}H.exports={clearOutlineControllers:U,clearOutline:e}},30477:function(H,U,e){var g=e(21459),P=e(71828),a=e(89298);U.rangeToShapePosition=function(T){return T.type==="log"?T.r2d:function(v){return v}},U.shapePositionToRange=function(T){return T.type==="log"?T.d2r:function(v){return v}},U.decodeDate=function(T){return function(v){return v.replace&&(v=v.replace("_"," ")),T(v)}},U.encodeDate=function(T){return function(v){return T(v).replace(" ","_")}},U.extractPathCoords=function(T,v,d){var t=[],r=T.match(g.segmentRE);return r.forEach(function(u){var n=v[u.charAt(0)].drawn;if(n!==void 0){var s=u.substr(1).match(g.paramRE);if(!(!s||s.length<n)){var f=s[n],l=d?f:P.cleanNumber(f);t.push(l)}}}),t},U.getDataToPixel=function(T,v,d,t){var r=T._fullLayout._size,u;if(v)if(t==="domain")u=function(s){return v._length*(d?1-s:s)+v._offset};else{var n=U.shapePositionToRange(v);u=function(s){return v._offset+v.r2p(n(s,!0))},v.type==="date"&&(u=U.decodeDate(u))}else d?u=function(s){return r.t+r.h*(1-s)}:u=function(s){return r.l+r.w*s};return u},U.getPixelToData=function(T,v,d,t){var r=T._fullLayout._size,u;if(v)if(t==="domain")u=function(s){var f=(s-v._offset)/v._length;return d?1-f:f};else{var n=U.rangeToShapePosition(v);u=function(s){return n(v.p2r(s-v._offset))}}else d?u=function(s){return 1-(s-r.t)/r.h}:u=function(s){return(s-r.l)/r.w};return u},U.roundPositionForSharpStrokeRendering=function(T,v){var d=Math.round(v%2)===1,t=Math.round(T);return d?t+.5:t},U.makeShapesOptionsAndPlotinfo=function(T,v){var d=T._fullLayout.shapes[v]||{},t=T._fullLayout._plots[d.xref+d.yref],r=!!t;return r?t._hadPlotinfo=!0:(t={},d.xref&&d.xref!=="paper"&&(t.xaxis=T._fullLayout[d.xref+"axis"]),d.yref&&d.yref!=="paper"&&(t.yaxis=T._fullLayout[d.yref+"axis"])),t.xsizemode=d.xsizemode,t.ysizemode=d.ysizemode,t.xanchor=d.xanchor,t.yanchor=d.yanchor,{options:d,plotinfo:t}},U.makeSelectionsOptionsAndPlotinfo=function(T,v){var d=T._fullLayout.selections[v]||{},t=T._fullLayout._plots[d.xref+d.yref],r=!!t;return r?t._hadPlotinfo=!0:(t={},d.xref&&(t.xaxis=T._fullLayout[d.xref+"axis"]),d.yref&&(t.yaxis=T._fullLayout[d.yref+"axis"])),{options:d,plotinfo:t}},U.getPathString=function(T,v){var d=v.type,t=a.getRefType(v.xref),r=a.getRefType(v.yref),u=a.getFromId(T,v.xref),n=a.getFromId(T,v.yref),s=T._fullLayout._size,f,l,x,c,b,h,o,p;if(u?t==="domain"?l=function(_){return u._offset+u._length*_}:(f=U.shapePositionToRange(u),l=function(_){return u._offset+u.r2p(f(_,!0))}):l=function(_){return s.l+s.w*_},n?r==="domain"?c=function(_){return n._offset+n._length*(1-_)}:(x=U.shapePositionToRange(n),c=function(_){return n._offset+n.r2p(x(_,!0))}):c=function(_){return s.t+s.h*(1-_)},d==="path")return u&&u.type==="date"&&(l=U.decodeDate(l)),n&&n.type==="date"&&(c=U.decodeDate(c)),L(v,l,c);if(v.xsizemode==="pixel"){var S=l(v.xanchor);b=S+v.x0,h=S+v.x1}else b=l(v.x0),h=l(v.x1);if(v.ysizemode==="pixel"){var A=c(v.yanchor);o=A-v.y0,p=A-v.y1}else o=c(v.y0),p=c(v.y1);if(d==="line")return"M"+b+","+o+"L"+h+","+p;if(d==="rect")return"M"+b+","+o+"H"+h+"V"+p+"H"+b+"Z";var E=(b+h)/2,m=(o+p)/2,M=Math.abs(E-b),w=Math.abs(m-o),i="A"+M+","+w,C=E+M+","+m,y=E+","+(m-w);return"M"+C+i+" 0 1,1 "+y+i+" 0 0,1 "+C+"Z"};function L(T,v,d){var t=T.path,r=T.xsizemode,u=T.ysizemode,n=T.xanchor,s=T.yanchor;return t.replace(g.segmentRE,function(f){var l=0,x=f.charAt(0),c=g.paramIsX[x],b=g.paramIsY[x],h=g.numParams[x],o=f.substr(1).replace(g.paramRE,function(p){return c[l]?r==="pixel"?p=v(n)+Number(p):p=v(p):b[l]&&(u==="pixel"?p=d(s)-Number(p):p=d(p)),l++,l>h&&(p="X"),p});return l>h&&(o=o.replace(/[\s,]*X.*/,""),P.log("Ignoring extra params in segment "+f)),x+o})}},89853:function(H,U,e){var g=e(34031);H.exports={moduleType:"component",name:"shapes",layoutAttributes:e(89827),supplyLayoutDefaults:e(84726),supplyDrawNewShapeDefaults:e(45547),includeBasePlot:e(76325)("shapes"),calcAutorange:e(5627),draw:g.draw,drawOne:g.drawOne}},37281:function(H){function U(f,l){return l?l.d2l(f):f}function e(f,l){return l?l.l2d(f):f}function g(f){return f.x0}function P(f){return f.x1}function a(f){return f.y0}function L(f){return f.y1}function T(f,l){return U(f.x1,l)-U(f.x0,l)}function v(f,l,x){return U(f.y1,x)-U(f.y0,x)}function d(f,l){return Math.abs(T(f,l))}function t(f,l,x){return Math.abs(v(f,l,x))}function r(f,l,x){return f.type!=="line"?void 0:Math.sqrt(Math.pow(T(f,l),2)+Math.pow(v(f,l,x),2))}function u(f,l){return e((U(f.x1,l)+U(f.x0,l))/2,l)}function n(f,l,x){return e((U(f.y1,x)+U(f.y0,x))/2,x)}function s(f,l,x){return f.type!=="line"?void 0:v(f,l,x)/T(f,l)}H.exports={x0:g,x1:P,y0:a,y1:L,slope:s,dx:T,dy:v,width:d,height:t,length:r,xcenter:u,ycenter:n}},75067:function(H,U,e){var g=e(41940),P=e(35025),a=e(1426).extendDeepAll,L=e(30962).overrideAll,T=e(85594),v=e(44467).templatedArray,d=e(98292),t=v("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});H.exports=L(v("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:t,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:a(P({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:T.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:g({})},font:g({}),activebgcolor:{valType:"color",dflt:d.gripBgActiveColor},bgcolor:{valType:"color",dflt:d.railBgColor},bordercolor:{valType:"color",dflt:d.railBorderColor},borderwidth:{valType:"number",min:0,dflt:d.railBorderWidth},ticklen:{valType:"number",min:0,dflt:d.tickLength},tickcolor:{valType:"color",dflt:d.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:d.minorTickLength}}),"arraydraw","from-root")},98292:function(H){H.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},12343:function(H,U,e){var g=e(71828),P=e(85501),a=e(75067),L=e(98292),T=L.name,v=a.steps;H.exports=function(u,n){P(u,n,{name:T,handleItemDefaults:d})};function d(r,u,n){function s(p,S){return g.coerce(r,u,a,p,S)}for(var f=P(r,u,{name:"steps",handleItemDefaults:t}),l=0,x=0;x<f.length;x++)f[x].visible&&l++;var c;if(l<2?c=u.visible=!1:c=s("visible"),!!c){u._stepCount=l;var b=u._visibleSteps=g.filterVisible(f),h=s("active");(f[h]||{}).visible||(u.active=b[0]._index),s("x"),s("y"),g.noneOrAll(r,u,["x","y"]),s("xanchor"),s("yanchor"),s("len"),s("lenmode"),s("pad.t"),s("pad.r"),s("pad.b"),s("pad.l"),g.coerceFont(s,"font",n.font);var o=s("currentvalue.visible");o&&(s("currentvalue.xanchor"),s("currentvalue.prefix"),s("currentvalue.suffix"),s("currentvalue.offset"),g.coerceFont(s,"currentvalue.font",u.font)),s("transition.duration"),s("transition.easing"),s("bgcolor"),s("activebgcolor"),s("bordercolor"),s("borderwidth"),s("ticklen"),s("tickwidth"),s("tickcolor"),s("minorticklen")}}function t(r,u){function n(l,x){return g.coerce(r,u,v,l,x)}var s;if(r.method!=="skip"&&!Array.isArray(r.args)?s=u.visible=!1:s=n("visible"),s){n("method"),n("args");var f=n("label","step-"+u._index);n("value",f),n("execute")}}},44504:function(H,U,e){var g=e(39898),P=e(74875),a=e(7901),L=e(91424),T=e(71828),v=T.strTranslate,d=e(63893),t=e(44467).arrayEditor,r=e(98292),u=e(18783),n=u.LINE_SPACING,s=u.FROM_TL,f=u.FROM_BR;H.exports=function(O){var z=O._context.staticPlot,F=O._fullLayout,B=x(F,O),G=F._infolayer.selectAll("g."+r.containerClassName).data(B.length>0?[0]:[]);G.enter().append("g").classed(r.containerClassName,!0).style("cursor",z?null:"ew-resize");function Q(K){K._commandObserver&&(K._commandObserver.remove(),delete K._commandObserver),P.autoMargin(O,l(K))}if(G.exit().each(function(){g.select(this).selectAll("g."+r.groupClassName).each(Q)}).remove(),B.length!==0){var ee=G.selectAll("g."+r.groupClassName).data(B,c);ee.enter().append("g").classed(r.groupClassName,!0),ee.exit().each(Q).remove();for(var ae=0;ae<B.length;ae++){var fe=B[ae];b(O,fe)}ee.each(function(K){var W=g.select(this);i(K),P.manageCommandObserver(O,K,K._visibleSteps,function(Z){var X=W.data()[0];X.active!==Z.index&&(X._dragging||m(O,W,X,Z.index,!1,!0))}),h(O,g.select(this),K)})}};function l(k){return r.autoMarginIdRoot+k._index}function x(k,O){for(var z=k[r.name],F=[],B=0;B<z.length;B++){var G=z[B];G.visible&&(G._gd=O,F.push(G))}return F}function c(k){return k._index}function b(k,O){var z=L.tester.selectAll("g."+r.labelGroupClass).data(O._visibleSteps);z.enter().append("g").classed(r.labelGroupClass,!0);var F=0,B=0;z.each(function($){var ie=g.select(this),J=S(ie,{step:$},O),j=J.node();if(j){var se=L.bBox(j);B=Math.max(B,se.height),F=Math.max(F,se.width)}}),z.remove();var G=O._dims={};G.inputAreaWidth=Math.max(r.railWidth,r.gripHeight);var Q=k._fullLayout._size;G.lx=Q.l+Q.w*O.x,G.ly=Q.t+Q.h*(1-O.y),O.lenmode==="fraction"?G.outerLength=Math.round(Q.w*O.len):G.outerLength=O.len,G.inputAreaStart=0,G.inputAreaLength=Math.round(G.outerLength-O.pad.l-O.pad.r);var ee=G.inputAreaLength-2*r.stepInset,ae=ee/(O._stepCount-1),fe=F+r.labelPadding;if(G.labelStride=Math.max(1,Math.ceil(fe/ae)),G.labelHeight=B,G.currentValueMaxWidth=0,G.currentValueHeight=0,G.currentValueTotalHeight=0,G.currentValueMaxLines=1,O.currentvalue.visible){var K=L.tester.append("g");z.each(function($){var ie=o(K,O,$.label),J=ie.node()&&L.bBox(ie.node())||{width:0,height:0},j=d.lineCount(ie);G.currentValueMaxWidth=Math.max(G.currentValueMaxWidth,Math.ceil(J.width)),G.currentValueHeight=Math.max(G.currentValueHeight,Math.ceil(J.height)),G.currentValueMaxLines=Math.max(G.currentValueMaxLines,j)}),G.currentValueTotalHeight=G.currentValueHeight+O.currentvalue.offset,K.remove()}G.height=G.currentValueTotalHeight+r.tickOffset+O.ticklen+r.labelOffset+G.labelHeight+O.pad.t+O.pad.b;var W="left";T.isRightAnchor(O)&&(G.lx-=G.outerLength,W="right"),T.isCenterAnchor(O)&&(G.lx-=G.outerLength/2,W="center");var Z="top";T.isBottomAnchor(O)&&(G.ly-=G.height,Z="bottom"),T.isMiddleAnchor(O)&&(G.ly-=G.height/2,Z="middle"),G.outerLength=Math.ceil(G.outerLength),G.height=Math.ceil(G.height),G.lx=Math.round(G.lx),G.ly=Math.round(G.ly);var X={y:O.y,b:G.height*f[Z],t:G.height*s[Z]};O.lenmode==="fraction"?(X.l=0,X.xl=O.x-O.len*s[W],X.r=0,X.xr=O.x+O.len*f[W]):(X.x=O.x,X.l=G.outerLength*s[W],X.r=G.outerLength*f[W]),P.autoMargin(k,l(O),X)}function h(k,O,z){(z.steps[z.active]||{}).visible||(z.active=z._visibleSteps[0]._index),O.call(o,z).call(N,z).call(A,z).call(w,z).call(I,k,z).call(p,k,z);var F=z._dims;L.setTranslate(O,F.lx+z.pad.l,F.ly+z.pad.t),O.call(C,z,!1),O.call(o,z)}function o(k,O,z){if(O.currentvalue.visible){var F=O._dims,B,G;switch(O.currentvalue.xanchor){case"right":B=F.inputAreaLength-r.currentValueInset-F.currentValueMaxWidth,G="left";break;case"center":B=F.inputAreaLength*.5,G="middle";break;default:B=r.currentValueInset,G="left"}var Q=T.ensureSingle(k,"text",r.labelClass,function(Z){Z.attr({"text-anchor":G,"data-notex":1})}),ee=O.currentvalue.prefix?O.currentvalue.prefix:"";if(typeof z=="string")ee+=z;else{var ae=O.steps[O.active].label,fe=O._gd._fullLayout._meta;fe&&(ae=T.templateString(ae,fe)),ee+=ae}O.currentvalue.suffix&&(ee+=O.currentvalue.suffix),Q.call(L.font,O.currentvalue.font).text(ee).call(d.convertToTspans,O._gd);var K=d.lineCount(Q),W=(F.currentValueMaxLines+1-K)*O.currentvalue.font.size*n;return d.positionText(Q,B,W),Q}}function p(k,O,z){var F=T.ensureSingle(k,"rect",r.gripRectClass,function(B){B.call(M,O,k,z).style("pointer-events","all")});F.attr({width:r.gripWidth,height:r.gripHeight,rx:r.gripRadius,ry:r.gripRadius}).call(a.stroke,z.bordercolor).call(a.fill,z.bgcolor).style("stroke-width",z.borderwidth+"px")}function S(k,O,z){var F=T.ensureSingle(k,"text",r.labelClass,function(Q){Q.attr({"text-anchor":"middle","data-notex":1})}),B=O.step.label,G=z._gd._fullLayout._meta;return G&&(B=T.templateString(B,G)),F.call(L.font,z.font).text(B).call(d.convertToTspans,z._gd),F}function A(k,O){var z=T.ensureSingle(k,"g",r.labelsClass),F=O._dims,B=z.selectAll("g."+r.labelGroupClass).data(F.labelSteps);B.enter().append("g").classed(r.labelGroupClass,!0),B.exit().remove(),B.each(function(G){var Q=g.select(this);Q.call(S,G,O),L.setTranslate(Q,y(O,G.fraction),r.tickOffset+O.ticklen+O.font.size*n+r.labelOffset+F.currentValueTotalHeight)})}function E(k,O,z,F,B){var G=Math.round(F*(z._stepCount-1)),Q=z._visibleSteps[G]._index;Q!==z.active&&m(k,O,z,Q,!0,B)}function m(k,O,z,F,B,G){var Q=z.active;z.active=F,t(k.layout,r.name,z).applyUpdate("active",F);var ee=z.steps[z.active];O.call(C,z,G),O.call(o,z),k.emit("plotly_sliderchange",{slider:z,step:z.steps[z.active],interaction:B,previousActive:Q}),ee&&ee.method&&B&&(O._nextMethod?(O._nextMethod.step=ee,O._nextMethod.doCallback=B,O._nextMethod.doTransition=G):(O._nextMethod={step:ee,doCallback:B,doTransition:G},O._nextMethodRaf=window.requestAnimationFrame(function(){var ae=O._nextMethod.step;ae.method&&(ae.execute&&P.executeAPICommand(k,ae.method,ae.args),O._nextMethod=null,O._nextMethodRaf=null)})))}function M(k,O,z){if(O._context.staticPlot)return;var F=z.node(),B=g.select(O);function G(){return z.data()[0]}function Q(){var ee=G();O.emit("plotly_sliderstart",{slider:ee});var ae=z.select("."+r.gripRectClass);g.event.stopPropagation(),g.event.preventDefault(),ae.call(a.fill,ee.activebgcolor);var fe=_(ee,g.mouse(F)[0]);E(O,z,ee,fe,!0),ee._dragging=!0;function K(){var Z=G(),X=_(Z,g.mouse(F)[0]);E(O,z,Z,X,!1)}B.on("mousemove",K),B.on("touchmove",K);function W(){var Z=G();Z._dragging=!1,ae.call(a.fill,Z.bgcolor),B.on("mouseup",null),B.on("mousemove",null),B.on("touchend",null),B.on("touchmove",null),O.emit("plotly_sliderend",{slider:Z,step:Z.steps[Z.active]})}B.on("mouseup",W),B.on("touchend",W)}k.on("mousedown",Q),k.on("touchstart",Q)}function w(k,O){var z=k.selectAll("rect."+r.tickRectClass).data(O._visibleSteps),F=O._dims;z.enter().append("rect").classed(r.tickRectClass,!0),z.exit().remove(),z.attr({width:O.tickwidth+"px","shape-rendering":"crispEdges"}),z.each(function(B,G){var Q=G%F.labelStride===0,ee=g.select(this);ee.attr({height:Q?O.ticklen:O.minorticklen}).call(a.fill,O.tickcolor),L.setTranslate(ee,y(O,G/(O._stepCount-1))-.5*O.tickwidth,(Q?r.tickOffset:r.minorTickOffset)+F.currentValueTotalHeight)})}function i(k){var O=k._dims;O.labelSteps=[];for(var z=k._stepCount,F=0;F<z;F+=O.labelStride)O.labelSteps.push({fraction:F/(z-1),step:k._visibleSteps[F]})}function C(k,O,z){for(var F=k.select("rect."+r.gripRectClass),B=0,G=0;G<O._stepCount;G++)if(O._visibleSteps[G]._index===O.active){B=G;break}var Q=y(O,B/(O._stepCount-1));if(!O._invokingCommand){var ee=F;z&&O.transition.duration>0&&(ee=ee.transition().duration(O.transition.duration).ease(O.transition.easing)),ee.attr("transform",v(Q-r.gripWidth*.5,O._dims.currentValueTotalHeight))}}function y(k,O){var z=k._dims;return z.inputAreaStart+r.stepInset+(z.inputAreaLength-2*r.stepInset)*Math.min(1,Math.max(0,O))}function _(k,O){var z=k._dims;return Math.min(1,Math.max(0,(O-r.stepInset-z.inputAreaStart)/(z.inputAreaLength-2*r.stepInset-2*z.inputAreaStart)))}function I(k,O,z){var F=z._dims,B=T.ensureSingle(k,"rect",r.railTouchRectClass,function(G){G.call(M,O,k,z).style("pointer-events","all")});B.attr({width:F.inputAreaLength,height:Math.max(F.inputAreaWidth,r.tickOffset+z.ticklen+F.labelHeight)}).call(a.fill,z.bgcolor).attr("opacity",0),L.setTranslate(B,0,F.currentValueTotalHeight)}function N(k,O){var z=O._dims,F=z.inputAreaLength-r.railInset*2,B=T.ensureSingle(k,"rect",r.railRectClass);B.attr({width:F,height:r.railWidth,rx:r.railRadius,ry:r.railRadius,"shape-rendering":"crispEdges"}).call(a.stroke,O.bordercolor).call(a.fill,O.bgcolor).style("stroke-width",O.borderwidth+"px"),L.setTranslate(B,r.railInset,(z.inputAreaWidth-r.railWidth)*.5+z.currentValueTotalHeight)}},23243:function(H,U,e){var g=e(98292);H.exports={moduleType:"component",name:g.name,layoutAttributes:e(75067),supplyLayoutDefaults:e(12343),draw:e(44504)}},92998:function(H,U,e){var g=e(39898),P=e(92770),a=e(74875),L=e(73972),T=e(71828),v=T.strTranslate,d=e(91424),t=e(7901),r=e(63893),u=e(37822),n=e(18783).OPPOSITE_SIDE,s=/ [XY][0-9]* /;function f(l,x,c){var b=c.propContainer,h=c.propName,o=c.placeholder,p=c.traceIndex,S=c.avoid||{},A=c.attributes,E=c.transform,m=c.containerGroup,M=l._fullLayout,w=1,i=!1,C=b.title,y=(C&&C.text?C.text:"").trim(),_=C&&C.font?C.font:{},I=_.family,N=_.size,k=_.color,O;h==="title.text"?O="titleText":h.indexOf("axis")!==-1?O="axisTitleText":h.indexOf("colorbar"!==-1)&&(O="colorbarTitleText");var z=l._context.edits[O];y===""?w=0:y.replace(s," % ")===o.replace(s," % ")&&(w=.2,i=!0,z||(y="")),c._meta?y=T.templateString(y,c._meta):M._meta&&(y=T.templateString(y,M._meta));var F=y||z,B;m||(m=T.ensureSingle(M._infolayer,"g","g-"+x),B=M._hColorbarMoveTitle);var G=m.selectAll("text").data(F?[0]:[]);if(G.enter().append("text"),G.text(y).attr("class",x),G.exit().remove(),!F)return m;function Q(K){T.syncOrAsync([ee,ae],K)}function ee(K){var W;return!E&&B&&(E={}),E?(W="",E.rotate&&(W+="rotate("+[E.rotate,A.x,A.y]+")"),(E.offset||B)&&(W+=v(0,(E.offset||0)-(B||0)))):W=null,K.attr("transform",W),K.style({"font-family":I,"font-size":g.round(N,2)+"px",fill:t.rgb(k),opacity:w*t.opacity(k),"font-weight":a.fontWeight}).attr(A).call(r.convertToTspans,l),a.previousPromises(l)}function ae(K){var W=g.select(K.node().parentNode);if(S&&S.selection&&S.side&&y){W.attr("transform",null);var Z=n[S.side],X=S.side==="left"||S.side==="top"?-1:1,$=P(S.pad)?S.pad:2,ie=d.bBox(W.node()),J={t:0,b:0,l:0,r:0},j=l._fullLayout._reservedMargin;for(var se in j)for(var ne in j[se]){var ue=j[se][ne];J[ne]=Math.max(J[ne],ue)}var ge={left:J.l,top:J.t,right:M.width-J.r,bottom:M.height-J.b},we=S.maxShift||X*(ge[S.side]-ie[S.side]),xe=0;if(we<0)xe=we;else{var Fe=S.offsetLeft||0,ze=S.offsetTop||0;ie.left-=Fe,ie.right-=Fe,ie.top-=ze,ie.bottom-=ze,S.selection.each(function(){var ye=d.bBox(this);T.bBoxIntersect(ie,ye,$)&&(xe=Math.max(xe,X*(ye[S.side]-ie[Z])+$))}),xe=Math.min(we,xe),b._titleScoot=Math.abs(xe)}if(xe>0||we<0){var Te={left:[-xe,0],right:[xe,0],top:[0,-xe],bottom:[0,xe]}[S.side];W.attr("transform",v(Te[0],Te[1]))}}}G.call(Q);function fe(){w=0,i=!0,G.text(o).on("mouseover.opacity",function(){g.select(this).transition().duration(u.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){g.select(this).transition().duration(u.HIDE_PLACEHOLDER).style("opacity",0)})}return z&&(y?G.on(".opacity",null):fe(),G.call(r.makeEditable,{gd:l}).on("edit",function(K){p!==void 0?L.call("_guiRestyle",l,h,K,p):L.call("_guiRelayout",l,h,K)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(Q)}).on("input",function(K){this.text(K||" ").call(r.positionText,A.x,A.y)})),G.classed("js-placeholder",i),m}H.exports={draw:f}},7163:function(H,U,e){var g=e(41940),P=e(22399),a=e(1426).extendFlat,L=e(30962).overrideAll,T=e(35025),v=e(44467).templatedArray,d=v("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});H.exports=L(v("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:d,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:a(T({editType:"arraydraw"}),{}),font:g({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:P.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},75909:function(H){H.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},64897:function(H,U,e){var g=e(71828),P=e(85501),a=e(7163),L=e(75909),T=L.name,v=a.buttons;H.exports=function(u,n){var s={name:T,handleItemDefaults:d};P(u,n,s)};function d(r,u,n){function s(x,c){return g.coerce(r,u,a,x,c)}var f=P(r,u,{name:"buttons",handleItemDefaults:t}),l=s("visible",f.length>0);l&&(s("active"),s("direction"),s("type"),s("showactive"),s("x"),s("y"),g.noneOrAll(r,u,["x","y"]),s("xanchor"),s("yanchor"),s("pad.t"),s("pad.r"),s("pad.b"),s("pad.l"),g.coerceFont(s,"font",n.font),s("bgcolor",n.paper_bgcolor),s("bordercolor"),s("borderwidth"))}function t(r,u){function n(f,l){return g.coerce(r,u,v,f,l)}var s=n("visible",r.method==="skip"||Array.isArray(r.args));s&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}},13689:function(H,U,e){var g=e(39898),P=e(74875),a=e(7901),L=e(91424),T=e(71828),v=e(63893),d=e(44467).arrayEditor,t=e(18783).LINE_SPACING,r=e(75909),u=e(25849);H.exports=function(_){var I=_._fullLayout,N=T.filterVisible(I[r.name]);function k(ae){P.autoMargin(_,w(ae))}var O=I._menulayer.selectAll("g."+r.containerClassName).data(N.length>0?[0]:[]);if(O.enter().append("g").classed(r.containerClassName,!0).style("cursor","pointer"),O.exit().each(function(){g.select(this).selectAll("g."+r.headerGroupClassName).each(k)}).remove(),N.length!==0){var z=O.selectAll("g."+r.headerGroupClassName).data(N,n);z.enter().append("g").classed(r.headerGroupClassName,!0);for(var F=T.ensureSingle(O,"g",r.dropdownButtonGroupClassName,function(ae){ae.style("pointer-events","all")}),B=0;B<N.length;B++){var G=N[B];M(_,G)}var Q="updatemenus"+I._uid,ee=new u(_,F,Q);z.enter().size()&&(F.node().parentNode.appendChild(F.node()),F.call(C)),z.exit().each(function(ae){F.call(C),k(ae)}).remove(),z.each(function(ae){var fe=g.select(this),K=ae.type==="dropdown"?F:null;P.manageCommandObserver(_,ae,ae.buttons,function(W){l(_,ae,ae.buttons[W.index],fe,K,ee,W.index,!0)}),ae.type==="dropdown"?(x(_,fe,F,ee,ae),f(F,ae)&&c(_,fe,F,ee,ae)):c(_,fe,null,null,ae)})}};function n(y){return y._index}function s(y){return+y.attr(r.menuIndexAttrName)==-1}function f(y,_){return+y.attr(r.menuIndexAttrName)===_._index}function l(y,_,I,N,k,O,z,F){_.active=z,d(y.layout,r.name,_).applyUpdate("active",z),_.type==="buttons"?c(y,N,null,null,_):_.type==="dropdown"&&(k.attr(r.menuIndexAttrName,"-1"),x(y,N,k,O,_),F||c(y,N,k,O,_))}function x(y,_,I,N,k){var O=T.ensureSingle(_,"g",r.headerClassName,function(ae){ae.style("pointer-events","all")}),z=k._dims,F=k.active,B=k.buttons[F]||r.blankHeaderOpts,G={y:k.pad.t,yPad:0,x:k.pad.l,xPad:0,index:0},Q={width:z.headerWidth,height:z.headerHeight};O.call(o,k,B,y).call(i,k,G,Q);var ee=T.ensureSingle(_,"text",r.headerArrowClassName,function(ae){ae.attr("text-anchor","end").call(L.font,k.font).text(r.arrowSymbol[k.direction])});ee.attr({x:z.headerWidth-r.arrowOffsetX+k.pad.l,y:z.headerHeight/2+r.textOffsetY+k.pad.t}),O.on("click",function(){I.call(C,String(f(I,k)?-1:k._index)),c(y,_,I,N,k)}),O.on("mouseover",function(){O.call(E)}),O.on("mouseout",function(){O.call(m,k)}),L.setTranslate(_,z.lx,z.ly)}function c(y,_,I,N,k){I||(I=_,I.attr("pointer-events","all"));var O=!s(I)||k.type==="buttons"?k.buttons:[],z=k.type==="dropdown"?r.dropdownButtonClassName:r.buttonClassName,F=I.selectAll("g."+z).data(T.filterVisible(O)),B=F.enter().append("g").classed(z,!0),G=F.exit();k.type==="dropdown"?(B.attr("opacity","0").transition().attr("opacity","1"),G.transition().attr("opacity","0").remove()):G.remove();var Q=0,ee=0,ae=k._dims,fe=["up","down"].indexOf(k.direction)!==-1;k.type==="dropdown"&&(fe?ee=ae.headerHeight+r.gapButtonHeader:Q=ae.headerWidth+r.gapButtonHeader),k.type==="dropdown"&&k.direction==="up"&&(ee=-r.gapButtonHeader+r.gapButton-ae.openHeight),k.type==="dropdown"&&k.direction==="left"&&(Q=-r.gapButtonHeader+r.gapButton-ae.openWidth);var K={x:ae.lx+Q+k.pad.l,y:ae.ly+ee+k.pad.t,yPad:r.gapButton,xPad:r.gapButton,index:0},W={l:K.x+k.borderwidth,t:K.y+k.borderwidth};F.each(function(Z,X){var $=g.select(this);$.call(o,k,Z,y).call(i,k,K),$.on("click",function(){g.event.defaultPrevented||(Z.execute&&(Z.args2&&k.active===X?(l(y,k,Z,_,I,N,-1),P.executeAPICommand(y,Z.method,Z.args2)):(l(y,k,Z,_,I,N,X),P.executeAPICommand(y,Z.method,Z.args))),y.emit("plotly_buttonclicked",{menu:k,button:Z,active:k.active}))}),$.on("mouseover",function(){$.call(E)}),$.on("mouseout",function(){$.call(m,k),F.call(A,k)})}),F.call(A,k),fe?(W.w=Math.max(ae.openWidth,ae.headerWidth),W.h=K.y-W.t):(W.w=K.x-W.l,W.h=Math.max(ae.openHeight,ae.headerHeight)),W.direction=k.direction,N&&(F.size()?b(y,_,I,N,k,W):h(N))}function b(y,_,I,N,k,O){var z=k.direction,F=z==="up"||z==="down",B=k._dims,G=k.active,Q,ee,ae;if(F)for(ee=0,ae=0;ae<G;ae++)ee+=B.heights[ae]+r.gapButton;else for(Q=0,ae=0;ae<G;ae++)Q+=B.widths[ae]+r.gapButton;N.enable(O,Q,ee),N.hbar&&N.hbar.attr("opacity","0").transition().attr("opacity","1"),N.vbar&&N.vbar.attr("opacity","0").transition().attr("opacity","1")}function h(y){var _=!!y.hbar,I=!!y.vbar;_&&y.hbar.transition().attr("opacity","0").each("end",function(){_=!1,I||y.disable()}),I&&y.vbar.transition().attr("opacity","0").each("end",function(){I=!1,_||y.disable()})}function o(y,_,I,N){y.call(p,_).call(S,_,I,N)}function p(y,_){var I=T.ensureSingle(y,"rect",r.itemRectClassName,function(N){N.attr({rx:r.rx,ry:r.ry,"shape-rendering":"crispEdges"})});I.call(a.stroke,_.bordercolor).call(a.fill,_.bgcolor).style("stroke-width",_.borderwidth+"px")}function S(y,_,I,N){var k=T.ensureSingle(y,"text",r.itemTextClassName,function(F){F.attr({"text-anchor":"start","data-notex":1})}),O=I.label,z=N._fullLayout._meta;z&&(O=T.templateString(O,z)),k.call(L.font,_.font).text(O).call(v.convertToTspans,N)}function A(y,_){var I=_.active;y.each(function(N,k){var O=g.select(this);k===I&&_.showactive&&O.select("rect."+r.itemRectClassName).call(a.fill,r.activeColor)})}function E(y){y.select("rect."+r.itemRectClassName).call(a.fill,r.hoverColor)}function m(y,_){y.select("rect."+r.itemRectClassName).call(a.fill,_.bgcolor)}function M(y,_){var I=_._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},N=L.tester.selectAll("g."+r.dropdownButtonClassName).data(T.filterVisible(_.buttons));N.enter().append("g").classed(r.dropdownButtonClassName,!0);var k=["up","down"].indexOf(_.direction)!==-1;N.each(function(Q,ee){var ae=g.select(this);ae.call(o,_,Q,y);var fe=ae.select("."+r.itemTextClassName),K=fe.node()&&L.bBox(fe.node()).width,W=Math.max(K+r.textPadX,r.minWidth),Z=_.font.size*t,X=v.lineCount(fe),$=Math.max(Z*X,r.minHeight)+r.textOffsetY;$=Math.ceil($),W=Math.ceil(W),I.widths[ee]=W,I.heights[ee]=$,I.height1=Math.max(I.height1,$),I.width1=Math.max(I.width1,W),k?(I.totalWidth=Math.max(I.totalWidth,W),I.openWidth=I.totalWidth,I.totalHeight+=$+r.gapButton,I.openHeight+=$+r.gapButton):(I.totalWidth+=W+r.gapButton,I.openWidth+=W+r.gapButton,I.totalHeight=Math.max(I.totalHeight,$),I.openHeight=I.totalHeight)}),k?I.totalHeight-=r.gapButton:I.totalWidth-=r.gapButton,I.headerWidth=I.width1+r.arrowPadX,I.headerHeight=I.height1,_.type==="dropdown"&&(k?(I.width1+=r.arrowPadX,I.totalHeight=I.height1):I.totalWidth=I.width1,I.totalWidth+=r.arrowPadX),N.remove();var O=I.totalWidth+_.pad.l+_.pad.r,z=I.totalHeight+_.pad.t+_.pad.b,F=y._fullLayout._size;I.lx=F.l+F.w*_.x,I.ly=F.t+F.h*(1-_.y);var B="left";T.isRightAnchor(_)&&(I.lx-=O,B="right"),T.isCenterAnchor(_)&&(I.lx-=O/2,B="center");var G="top";T.isBottomAnchor(_)&&(I.ly-=z,G="bottom"),T.isMiddleAnchor(_)&&(I.ly-=z/2,G="middle"),I.totalWidth=Math.ceil(I.totalWidth),I.totalHeight=Math.ceil(I.totalHeight),I.lx=Math.round(I.lx),I.ly=Math.round(I.ly),P.autoMargin(y,w(_),{x:_.x,y:_.y,l:O*({right:1,center:.5}[B]||0),r:O*({left:1,center:.5}[B]||0),b:z*({top:1,middle:.5}[G]||0),t:z*({bottom:1,middle:.5}[G]||0)})}function w(y){return r.autoMarginIdRoot+y._index}function i(y,_,I,N){N=N||{};var k=y.select("."+r.itemRectClassName),O=y.select("."+r.itemTextClassName),z=_.borderwidth,F=I.index,B=_._dims;L.setTranslate(y,z+I.x,z+I.y);var G=["up","down"].indexOf(_.direction)!==-1,Q=N.height||(G?B.heights[F]:B.height1);k.attr({x:0,y:0,width:N.width||(G?B.width1:B.widths[F]),height:Q});var ee=_.font.size*t,ae=v.lineCount(O),fe=(ae-1)*ee/2;v.positionText(O,r.textOffsetX,Q/2-fe+r.textOffsetY),G?I.y+=B.heights[F]+I.yPad:I.x+=B.widths[F]+I.xPad,I.index++}function C(y,_){y.attr(r.menuIndexAttrName,_||"-1").selectAll("g."+r.dropdownButtonClassName).remove()}},20763:function(H,U,e){var g=e(75909);H.exports={moduleType:"component",name:g.name,layoutAttributes:e(7163),supplyLayoutDefaults:e(64897),draw:e(13689)}},25849:function(H,U,e){H.exports=T;var g=e(39898),P=e(7901),a=e(91424),L=e(71828);function T(v,d,t){this.gd=v,this.container=d,this.id=t,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}T.barWidth=2,T.barLength=20,T.barRadius=2,T.barPad=1,T.barColor="#808BA4",T.prototype.enable=function(d,t,r){var u=this.gd._fullLayout,n=u.width,s=u.height;this.position=d;var f=this.position.l,l=this.position.w,x=this.position.t,c=this.position.h,b=this.position.direction,h=b==="down",o=b==="left",p=b==="right",S=b==="up",A=l,E=c,m,M,w,i;!h&&!o&&!p&&!S&&(this.position.direction="down",h=!0);var C=h||S;C?(m=f,M=m+A,h?(w=x,i=Math.min(w+E,s),E=i-w):(i=x+E,w=Math.max(i-E,0),E=i-w)):(w=x,i=w+E,o?(M=f+A,m=Math.max(M-A,0),A=M-m):(m=f,M=Math.min(m+A,n),A=M-m)),this._box={l:m,t:w,w:A,h:E};var y=l>A,_=T.barLength+2*T.barPad,I=T.barWidth+2*T.barPad,N=f,k=x+c;k+I>s&&(k=s-I);var O=this.container.selectAll("rect.scrollbar-horizontal").data(y?[0]:[]);O.exit().on(".drag",null).remove(),O.enter().append("rect").classed("scrollbar-horizontal",!0).call(P.fill,T.barColor),y?(this.hbar=O.attr({rx:T.barRadius,ry:T.barRadius,x:N,y:k,width:_,height:I}),this._hbarXMin=N+_/2,this._hbarTranslateMax=A-_):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var z=c>E,F=T.barWidth+2*T.barPad,B=T.barLength+2*T.barPad,G=f+l,Q=x;G+F>n&&(G=n-F);var ee=this.container.selectAll("rect.scrollbar-vertical").data(z?[0]:[]);ee.exit().on(".drag",null).remove(),ee.enter().append("rect").classed("scrollbar-vertical",!0).call(P.fill,T.barColor),z?(this.vbar=ee.attr({rx:T.barRadius,ry:T.barRadius,x:G,y:Q,width:F,height:B}),this._vbarYMin=Q+B/2,this._vbarTranslateMax=E-B):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var ae=this.id,fe=m-.5,K=z?M+F+.5:M+.5,W=w-.5,Z=y?i+I+.5:i+.5,X=u._topdefs.selectAll("#"+ae).data(y||z?[0]:[]);if(X.exit().remove(),X.enter().append("clipPath").attr("id",ae).append("rect"),y||z?(this._clipRect=X.select("rect").attr({x:Math.floor(fe),y:Math.floor(W),width:Math.ceil(K)-Math.floor(fe),height:Math.ceil(Z)-Math.floor(W)}),this.container.call(a.setClipUrl,ae,this.gd),this.bg.attr({x:f,y:x,width:l,height:c})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),y||z){var $=g.behavior.drag().on("dragstart",function(){g.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call($);var ie=g.behavior.drag().on("dragstart",function(){g.event.sourceEvent.preventDefault(),g.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));y&&this.hbar.on(".drag",null).call(ie),z&&this.vbar.on(".drag",null).call(ie)}this.setTranslate(t,r)},T.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},T.prototype._onBoxDrag=function(){var d=this.translateX,t=this.translateY;this.hbar&&(d-=g.event.dx),this.vbar&&(t-=g.event.dy),this.setTranslate(d,t)},T.prototype._onBoxWheel=function(){var d=this.translateX,t=this.translateY;this.hbar&&(d+=g.event.deltaY),this.vbar&&(t+=g.event.deltaY),this.setTranslate(d,t)},T.prototype._onBarDrag=function(){var d=this.translateX,t=this.translateY;if(this.hbar){var r=d+this._hbarXMin,u=r+this._hbarTranslateMax,n=L.constrain(g.event.x,r,u),s=(n-r)/(u-r),f=this.position.w-this._box.w;d=s*f}if(this.vbar){var l=t+this._vbarYMin,x=l+this._vbarTranslateMax,c=L.constrain(g.event.y,l,x),b=(c-l)/(x-l),h=this.position.h-this._box.h;t=b*h}this.setTranslate(d,t)},T.prototype.setTranslate=function(d,t){var r=this.position.w-this._box.w,u=this.position.h-this._box.h;if(d=L.constrain(d||0,0,r),t=L.constrain(t||0,0,u),this.translateX=d,this.translateY=t,this.container.call(a.setTranslate,this._box.l-this.position.l-d,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+d-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var n=d/r;this.hbar.call(a.setTranslate,d+n*this._hbarTranslateMax,t)}if(this.vbar){var s=t/u;this.vbar.call(a.setTranslate,d,t+s*this._vbarTranslateMax)}}},18783:function(H){H.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},24695:function(H){H.exports={axisRefDescription:function(U,e,g){return["If set to a",U,"axis id (e.g. *"+U+"* or","*"+U+"2*), the `"+U+"` position refers to a",U,"coordinate. If set to *paper*, the `"+U+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+g+"). If set to a",U,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+U+"2 domain* refers to the domain of the second",U," axis and a",U,"position of 0.5 refers to the","point between the",e,"and the",g,"of the domain of the","second",U,"axis."].join(" ")}}},22372:function(H){H.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"▲"},DECREASING:{COLOR:"#FF4136",SYMBOL:"▼"}}},31562:function(H){H.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},74808:function(H){H.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},29659:function(H){H.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87381:function(H){H.exports={circle:"●","circle-open":"○",square:"■","square-open":"□",diamond:"◆","diamond-open":"◇",cross:"+",x:"❌"}},37822:function(H){H.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},50606:function(H){H.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"−"}},32396:function(H,U){U.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],U.STYLE=U.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},77922:function(H,U){U.xmlns="http://www.w3.org/2000/xmlns/",U.svg="http://www.w3.org/2000/svg",U.xlink="http://www.w3.org/1999/xlink",U.svgAttrs={xmlns:U.svg,"xmlns:xlink":U.xlink}},8729:function(H,U,e){U.version=e(11506).version,e(7417),e(98847);for(var g=e(73972),P=U.register=g.register,a=e(10641),L=Object.keys(a),T=0;T<L.length;T++){var v=L[T];v.charAt(0)!=="_"&&(U[v]=a[v]),P({moduleType:"apiMethod",name:v,fn:a[v]})}P(e(67368)),P([e(32745),e(2468),e(47322),e(89853),e(68804),e(20763),e(23243),e(13137),e(97218),e(83312),e(37369),e(21081),e(12311),e(2199),e(30211),e(64168)]),P([e(92177),e(37815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(P(window.PlotlyLocales),delete window.PlotlyLocales),U.Icons=e(24255);var d=e(30211),t=e(74875);U.Plots={resize:t.resize,graphJson:t.graphJson,sendDataToCloud:t.sendDataToCloud},U.Fx={hover:d.hover,unhover:d.unhover,loneHover:d.loneHover,loneUnhover:d.loneUnhover},U.Snapshot=e(44511),U.PlotSchema=e(86281)},24255:function(H){H.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},99863:function(H,U){U.isLeftAnchor=function(g){return g.xanchor==="left"||g.xanchor==="auto"&&g.x<=.3333333333333333},U.isCenterAnchor=function(g){return g.xanchor==="center"||g.xanchor==="auto"&&g.x>.3333333333333333&&g.x<.6666666666666666},U.isRightAnchor=function(g){return g.xanchor==="right"||g.xanchor==="auto"&&g.x>=.6666666666666666},U.isTopAnchor=function(g){return g.yanchor==="top"||g.yanchor==="auto"&&g.y>=.6666666666666666},U.isMiddleAnchor=function(g){return g.yanchor==="middle"||g.yanchor==="auto"&&g.y>.3333333333333333&&g.y<.6666666666666666},U.isBottomAnchor=function(g){return g.yanchor==="bottom"||g.yanchor==="auto"&&g.y<=.3333333333333333}},26348:function(H,U,e){var g=e(64872),P=g.mod,a=g.modHalf,L=Math.PI,T=2*L;function v(b){return b/180*L}function d(b){return b/L*180}function t(b){return Math.abs(b[1]-b[0])>T-1e-14}function r(b,h){return a(h-b,T)}function u(b,h){return Math.abs(r(b,h))}function n(b,h){if(t(h))return!0;var o,p;h[0]<h[1]?(o=h[0],p=h[1]):(o=h[1],p=h[0]),o=P(o,T),p=P(p,T),o>p&&(p+=T);var S=P(b,T),A=S+T;return S>=o&&S<=p||A>=o&&A<=p}function s(b,h,o,p){if(!n(h,p))return!1;var S,A;return o[0]<o[1]?(S=o[0],A=o[1]):(S=o[1],A=o[0]),b>=S&&b<=A}function f(b,h,o,p,S,A,E){S=S||0,A=A||0;var m=t([o,p]),M,w,i,C,y;m?(M=0,w=L,i=T):o<p?(M=o,i=p):(M=p,i=o),b<h?(C=b,y=h):(C=h,y=b);function _(O,z){return[O*Math.cos(z)+S,A-O*Math.sin(z)]}var I=Math.abs(i-M)<=L?0:1;function N(O,z,F){return"A"+[O,O]+" "+[0,I,F]+" "+_(O,z)}var k;return m?C===null?k="M"+_(y,M)+N(y,w,0)+N(y,i,0)+"Z":k="M"+_(C,M)+N(C,w,0)+N(C,i,0)+"ZM"+_(y,M)+N(y,w,1)+N(y,i,1)+"Z":C===null?(k="M"+_(y,M)+N(y,i,0),E&&(k+="L0,0Z")):k="M"+_(C,M)+"L"+_(y,M)+N(y,i,0)+"L"+_(C,i)+N(C,M,1)+"Z",k}function l(b,h,o,p,S){return f(null,b,h,o,p,S,0)}function x(b,h,o,p,S){return f(null,b,h,o,p,S,1)}function c(b,h,o,p,S,A){return f(b,h,o,p,S,A,1)}H.exports={deg2rad:v,rad2deg:d,angleDelta:r,angleDist:u,isFullCircle:t,isAngleInsideSector:n,isPtInsideSector:s,pathArc:l,pathSector:x,pathAnnulus:c}},73627:function(H,U){var e=Array.isArray,g=ArrayBuffer,P=DataView;function a(d){return g.isView(d)&&!(d instanceof P)}U.isTypedArray=a;function L(d){return e(d)||a(d)}U.isArrayOrTypedArray=L;function T(d){return!L(d[0])}U.isArray1D=T,U.ensureArray=function(d,t){return e(d)||(d=[]),d.length=t,d},U.concat=function(){var d=[],t=!0,r=0,u,n,s,f,l,x,c,b;for(s=0;s<arguments.length;s++)f=arguments[s],x=f.length,x&&(n?d.push(f):(n=f,l=x),e(f)?u=!1:(t=!1,r?u!==f.constructor&&(u=!1):u=f.constructor),r+=x);if(!r)return[];if(!d.length)return n;if(t)return n.concat.apply(n,d);if(u){for(c=new u(r),c.set(n),s=0;s<d.length;s++)f=d[s],c.set(f,l),l+=f.length;return c}for(c=new Array(r),b=0;b<n.length;b++)c[b]=n[b];for(s=0;s<d.length;s++){for(f=d[s],b=0;b<f.length;b++)c[l+b]=f[b];l+=b}return c},U.maxRowLength=function(d){return v(d,Math.max,0)},U.minRowLength=function(d){return v(d,Math.min,1/0)};function v(d,t,r){if(L(d))if(L(d[0])){for(var u=r,n=0;n<d.length;n++)u=t(u,d[n].length);return u}else return d.length;return 0}},95218:function(H,U,e){var g=e(92770),P=e(50606).BADNUM,a=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;H.exports=function(T){return typeof T=="string"&&(T=T.replace(a,"")),g(T)?Number(T):P}},33306:function(H){H.exports=function(e){var g=e._fullLayout;g._glcanvas&&g._glcanvas.size()&&g._glcanvas.each(function(P){P.regl&&P.regl.clear({color:!0,depth:!0})})}},86367:function(H){H.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},96554:function(H,U,e){var g=e(92770),P=e(84267),a=e(9012),L=e(63282),T=e(7901),v=e(37822).DESELECTDIM,d=e(65487),t=e(30587).counter,r=e(64872).modHalf,u=e(73627).isArrayOrTypedArray;U.valObjectMeta={data_array:{coerceFunction:function(s,f,l){u(s)?f.set(s):l!==void 0&&f.set(l)}},enumerated:{coerceFunction:function(s,f,l,x){x.coerceNumber&&(s=+s),x.values.indexOf(s)===-1?f.set(l):f.set(s)},validateFunction:function(s,f){f.coerceNumber&&(s=+s);for(var l=f.values,x=0;x<l.length;x++){var c=String(l[x]);if(c.charAt(0)==="/"&&c.charAt(c.length-1)==="/"){var b=new RegExp(c.substr(1,c.length-2));if(b.test(s))return!0}else if(s===l[x])return!0}return!1}},boolean:{coerceFunction:function(s,f,l){s===!0||s===!1?f.set(s):f.set(l)}},number:{coerceFunction:function(s,f,l,x){!g(s)||x.min!==void 0&&s<x.min||x.max!==void 0&&s>x.max?f.set(l):f.set(+s)}},integer:{coerceFunction:function(s,f,l,x){s%1||!g(s)||x.min!==void 0&&s<x.min||x.max!==void 0&&s>x.max?f.set(l):f.set(+s)}},string:{coerceFunction:function(s,f,l,x){if(typeof s!="string"){var c=typeof s=="number";x.strict===!0||!c?f.set(l):f.set(String(s))}else x.noBlank&&!s?f.set(l):f.set(s)}},color:{coerceFunction:function(s,f,l){P(s).isValid()?f.set(s):f.set(l)}},colorlist:{coerceFunction:function(s,f,l){function x(c){return P(c).isValid()}!Array.isArray(s)||!s.length?f.set(l):s.every(x)?f.set(s):f.set(l)}},colorscale:{coerceFunction:function(s,f,l){f.set(L.get(s,l))}},angle:{coerceFunction:function(s,f,l){s==="auto"?f.set("auto"):g(s)?f.set(r(+s,360)):f.set(l)}},subplotid:{coerceFunction:function(s,f,l,x){var c=x.regex||t(l);if(typeof s=="string"&&c.test(s)){f.set(s);return}f.set(l)},validateFunction:function(s,f){var l=f.dflt;return s===l?!0:typeof s!="string"?!1:!!t(l).test(s)}},flaglist:{coerceFunction:function(s,f,l,x){if((x.extras||[]).indexOf(s)!==-1){f.set(s);return}if(typeof s!="string"){f.set(l);return}for(var c=s.split("+"),b=0;b<c.length;){var h=c[b];x.flags.indexOf(h)===-1||c.indexOf(h)<b?c.splice(b,1):b++}c.length?f.set(c.join("+")):f.set(l)}},any:{coerceFunction:function(s,f,l){s===void 0?f.set(l):f.set(s)}},info_array:{coerceFunction:function(s,f,l,x){function c(_,I,N){var k,O={set:function(z){k=z}};return N===void 0&&(N=I.dflt),U.valObjectMeta[I.valType].coerceFunction(_,O,N,I),k}var b=x.dimensions===2||x.dimensions==="1-2"&&Array.isArray(s)&&Array.isArray(s[0]);if(!Array.isArray(s)){f.set(l);return}var h=x.items,o=[],p=Array.isArray(h),S=p&&b&&Array.isArray(h[0]),A=b&&p&&!S,E=p&&!A?h.length:s.length,m,M,w,i,C,y;if(l=Array.isArray(l)?l:[],b)for(m=0;m<E;m++)for(o[m]=[],w=Array.isArray(s[m])?s[m]:[],A?C=h.length:p?C=h[m].length:C=w.length,M=0;M<C;M++)A?i=h[M]:p?i=h[m][M]:i=h,y=c(w[M],i,(l[m]||[])[M]),y!==void 0&&(o[m][M]=y);else for(m=0;m<E;m++)y=c(s[m],p?h[m]:h,l[m]),y!==void 0&&(o[m]=y);f.set(o)},validateFunction:function(s,f){if(!Array.isArray(s))return!1;var l=f.items,x=Array.isArray(l),c=f.dimensions===2;if(!f.freeLength&&s.length!==l.length)return!1;for(var b=0;b<s.length;b++)if(c){if(!Array.isArray(s[b])||!f.freeLength&&s[b].length!==l[b].length)return!1;for(var h=0;h<s[b].length;h++)if(!n(s[b][h],x?l[b][h]:l))return!1}else if(!n(s[b],x?l[b]:l))return!1;return!0}}},U.coerce=function(s,f,l,x,c){var b=d(l,x).get(),h=d(s,x),o=d(f,x),p=h.get(),S=f._template;if(p===void 0&&S&&(p=d(S,x).get(),S=0),c===void 0&&(c=b.dflt),b.arrayOk&&u(p))return o.set(p),p;var A=U.valObjectMeta[b.valType].coerceFunction;A(p,o,c,b);var E=o.get();return S&&E===c&&!n(p,b)&&(p=d(S,x).get(),A(p,o,c,b),E=o.get()),E},U.coerce2=function(s,f,l,x,c){var b=d(s,x),h=U.coerce(s,f,l,x,c),o=b.get();return o!=null?h:!1},U.coerceFont=function(s,f,l){var x={};return l=l||{},x.family=s(f+".family",l.family),x.size=s(f+".size",l.size),x.color=s(f+".color",l.color),x},U.coercePattern=function(s,f,l,x){var c=s(f+".shape");if(c){s(f+".solidity"),s(f+".size");var b=s(f+".fillmode"),h=b==="overlay";if(!x){var o=s(f+".bgcolor",h?l:void 0);s(f+".fgcolor",h?T.contrast(o):l)}s(f+".fgopacity",h?.5:1)}},U.coerceHoverinfo=function(s,f,l){var x=f._module.attributes,c=x.hoverinfo?x:a,b=c.hoverinfo,h;if(l._dataLength===1){var o=b.dflt==="all"?b.flags.slice():b.dflt.split("+");o.splice(o.indexOf("name"),1),h=o.join("+")}return U.coerce(s,f,c,"hoverinfo",h)},U.coerceSelectionMarkerOpacity=function(s,f){if(s.marker){var l=s.marker.opacity;if(l!==void 0){var x,c;!u(l)&&!s.selected&&!s.unselected&&(x=l,c=v*l),f("selected.marker.opacity",x),f("unselected.marker.opacity",c)}}};function n(s,f){var l=U.valObjectMeta[f.valType];if(f.arrayOk&&u(s))return!0;if(l.validateFunction)return l.validateFunction(s,f);var x={},c=x,b={set:function(h){c=h}};return l.coerceFunction(s,b,x,f),c!==x}U.validate=n},41631:function(H,U,e){var g=e(84096).i$,P=e(92770),a=e(47769),L=e(64872).mod,T=e(50606),v=T.BADNUM,d=T.ONEDAY,t=T.ONEHOUR,r=T.ONEMIN,u=T.ONESEC,n=T.EPOCHJD,s=e(73972),f=e(84096).g0,l=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,x=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,c=new Date().getFullYear()-70;function b(k){return k&&s.componentsRegistry.calendars&&typeof k=="string"&&k!=="gregorian"}U.dateTick0=function(k,O){var z=h(k,!!O);if(O<2)return z;var F=U.dateTime2ms(z,k);return F+=d*(O-1),U.ms2DateTime(F,0,k)};function h(k,O){return b(k)?O?s.getComponentMethod("calendars","CANONICAL_SUNDAY")[k]:s.getComponentMethod("calendars","CANONICAL_TICK")[k]:O?"2000-01-02":"2000-01-01"}U.dfltRange=function(k){return b(k)?s.getComponentMethod("calendars","DFLTRANGE")[k]:["2000-01-01","2001-01-01"]},U.isJSDate=function(k){return typeof k=="object"&&k!==null&&typeof k.getTime=="function"};var o,p;U.dateTime2ms=function(k,O){if(U.isJSDate(k)){var z=k.getTimezoneOffset()*r,F=(k.getUTCMinutes()-k.getMinutes())*r+(k.getUTCSeconds()-k.getSeconds())*u+(k.getUTCMilliseconds()-k.getMilliseconds());if(F){var B=3*r;z=z-B/2+L(F-z+B/2,B)}return k=Number(k)-z,k>=o&&k<=p?k:v}if(typeof k!="string"&&typeof k!="number")return v;k=String(k);var G=b(O),Q=k.charAt(0);G&&(Q==="G"||Q==="g")&&(k=k.substr(1),O="");var ee=G&&O.substr(0,7)==="chinese",ae=k.match(ee?x:l);if(!ae)return v;var fe=ae[1],K=ae[3]||"1",W=Number(ae[5]||1),Z=Number(ae[7]||0),X=Number(ae[9]||0),$=Number(ae[11]||0);if(G){if(fe.length===2)return v;fe=Number(fe);var ie;try{var J=s.getComponentMethod("calendars","getCal")(O);if(ee){var j=K.charAt(K.length-1)==="i";K=parseInt(K,10),ie=J.newDate(fe,J.toMonthIndex(fe,K,j),W)}else ie=J.newDate(fe,Number(K),W)}catch{return v}return ie?(ie.toJD()-n)*d+Z*t+X*r+$*u:v}fe.length===2?fe=(Number(fe)+2e3-c)%100+c:fe=Number(fe),K-=1;var se=new Date(Date.UTC(2e3,K,W,Z,X));return se.setUTCFullYear(fe),se.getUTCMonth()!==K||se.getUTCDate()!==W?v:se.getTime()+$*u},o=U.MIN_MS=U.dateTime2ms("-9999"),p=U.MAX_MS=U.dateTime2ms("9999-12-31 23:59:59.9999"),U.isDateTime=function(k,O){return U.dateTime2ms(k,O)!==v};function S(k,O){return String(k+Math.pow(10,O)).substr(1)}var A=90*d,E=3*t,m=5*r;U.ms2DateTime=function(k,O,z){if(typeof k!="number"||!(k>=o&&k<=p))return v;O||(O=0);var F=Math.floor(L(k+.05,1)*10),B=Math.round(k-F/10),G,Q,ee,ae,fe,K;if(b(z)){var W=Math.floor(B/d)+n,Z=Math.floor(L(k,d));try{G=s.getComponentMethod("calendars","getCal")(z).fromJD(W).formatDate("yyyy-mm-dd")}catch{G=f("G%Y-%m-%d")(new Date(B))}if(G.charAt(0)==="-")for(;G.length<11;)G="-0"+G.substr(1);else for(;G.length<10;)G="0"+G;Q=O<A?Math.floor(Z/t):0,ee=O<A?Math.floor(Z%t/r):0,ae=O<E?Math.floor(Z%r/u):0,fe=O<m?Z%u*10+F:0}else K=new Date(B),G=f("%Y-%m-%d")(K),Q=O<A?K.getUTCHours():0,ee=O<A?K.getUTCMinutes():0,ae=O<E?K.getUTCSeconds():0,fe=O<m?K.getUTCMilliseconds()*10+F:0;return M(G,Q,ee,ae,fe)},U.ms2DateTimeLocal=function(k){if(!(k>=o+d&&k<=p-d))return v;var O=Math.floor(L(k+.05,1)*10),z=new Date(Math.round(k-O/10)),F=g("%Y-%m-%d")(z),B=z.getHours(),G=z.getMinutes(),Q=z.getSeconds(),ee=z.getUTCMilliseconds()*10+O;return M(F,B,G,Q,ee)};function M(k,O,z,F,B){if((O||z||F||B)&&(k+=" "+S(O,2)+":"+S(z,2),(F||B)&&(k+=":"+S(F,2),B))){for(var G=4;B%10===0;)G-=1,B/=10;k+="."+S(B,G)}return k}U.cleanDate=function(k,O,z){if(k===v)return O;if(U.isJSDate(k)||typeof k=="number"&&isFinite(k)){if(b(z))return a.error("JS Dates and milliseconds are incompatible with world calendars",k),O;if(k=U.ms2DateTimeLocal(+k),!k&&O!==void 0)return O}else if(!U.isDateTime(k,z))return a.error("unrecognized date",k),O;return k};var w=/%\d?f/g,i=/%h/g,C={1:"1",2:"1",3:"2",4:"2"};function y(k,O,z,F){k=k.replace(w,function(G){var Q=Math.min(+G.charAt(1)||6,6),ee=(O/1e3%1+2).toFixed(Q).substr(2).replace(/0+$/,"")||"0";return ee});var B=new Date(Math.floor(O+.05));if(k=k.replace(i,function(){return C[z("%q")(B)]}),b(F))try{k=s.getComponentMethod("calendars","worldCalFmt")(k,O,F)}catch{return"Invalid"}return z(k)(B)}var _=[59,59.9,59.99,59.999,59.9999];function I(k,O){var z=L(k+.05,d),F=S(Math.floor(z/t),2)+":"+S(L(Math.floor(z/r),60),2);if(O!=="M"){P(O)||(O=0);var B=Math.min(L(k/u,60),_[O]),G=(100+B).toFixed(O).substr(1);O>0&&(G=G.replace(/0+$/,"").replace(/[\.]$/,"")),F+=":"+G}return F}U.formatDate=function(k,O,z,F,B,G){if(B=b(B)&&B,!O)if(z==="y")O=G.year;else if(z==="m")O=G.month;else if(z==="d")O=G.dayMonth+`
`+G.year;else return I(k,z)+`
`+y(G.dayMonthYear,k,F,B);return y(O,k,F,B)};var N=3*d;U.incrementMonth=function(k,O,z){z=b(z)&&z;var F=L(k,d);if(k=Math.round(k-F),z)try{var B=Math.round(k/d)+n,G=s.getComponentMethod("calendars","getCal")(z),Q=G.fromJD(B);return O%12?G.add(Q,O,"m"):G.add(Q,O/12,"y"),(Q.toJD()-n)*d+F}catch{a.error("invalid ms "+k+" in calendar "+z)}var ee=new Date(k+N);return ee.setUTCMonth(ee.getUTCMonth()+O)+F-N},U.findExactDates=function(k,O){for(var z=0,F=0,B=0,G=0,Q,ee,ae=b(O)&&s.getComponentMethod("calendars","getCal")(O),fe=0;fe<k.length;fe++){if(ee=k[fe],!P(ee)){G++;continue}if(!(ee%d))if(ae)try{Q=ae.fromJD(ee/d+n),Q.day()===1?Q.month()===1?z++:F++:B++}catch{}else Q=new Date(ee),Q.getUTCDate()===1?Q.getUTCMonth()===0?z++:F++:B++}F+=z,B+=F;var K=k.length-G;return{exactYears:z/K,exactMonths:F/K,exactDays:B/K}}},24401:function(H,U,e){var g=e(39898),P=e(47769),a=e(35657),L=e(79576);function T(c){var b;if(typeof c=="string"){if(b=document.getElementById(c),b===null)throw new Error("No DOM element with id '"+c+"' exists on the page.");return b}else if(c==null)throw new Error("DOM element provided is null or undefined");return c}function v(c){var b=g.select(c);return b.node()instanceof HTMLElement&&b.size()&&b.classed("js-plotly-plot")}function d(c){var b=c&&c.parentNode;b&&b.removeChild(c)}function t(c,b){r("global",c,b)}function r(c,b,h){var o="plotly.js-style-"+c,p=document.getElementById(o);p||(p=document.createElement("style"),p.setAttribute("id",o),p.appendChild(document.createTextNode("")),document.head.appendChild(p));var S=p.sheet;S.insertRule?S.insertRule(b+"{"+h+"}",0):S.addRule?S.addRule(b,h,0):P.warn("addStyleRule failed")}function u(c){var b="plotly.js-style-"+c,h=document.getElementById(b);h&&d(h)}function n(c){var b=f(c),h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return b.forEach(function(o){var p=s(o);if(p){var S=a.convertCssMatrix(p);h=L.multiply(h,h,S)}}),h}function s(c){var b=window.getComputedStyle(c,null),h=b.getPropertyValue("-webkit-transform")||b.getPropertyValue("-moz-transform")||b.getPropertyValue("-ms-transform")||b.getPropertyValue("-o-transform")||b.getPropertyValue("transform");return h==="none"?null:h.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(o){return+o})}function f(c){for(var b=[];l(c);)b.push(c),c=c.parentNode;return b}function l(c){return c&&(c instanceof Element||c instanceof HTMLElement)}function x(c,b){return c&&b&&c.top===b.top&&c.left===b.left&&c.right===b.right&&c.bottom===b.bottom}H.exports={getGraphDiv:T,isPlotDiv:v,removeElement:d,addStyleRule:t,addRelatedStyleRule:r,deleteRelatedStyleRule:u,getFullTransformMatrix:n,getElementTransformMatrix:s,getElementAndAncestors:f,equalDomRects:x}},11086:function(H,U,e){var g=e(15398).EventEmitter,P={init:function(a){if(a._ev instanceof g)return a;var L=new g,T=new g;return a._ev=L,a._internalEv=T,a.on=L.on.bind(L),a.once=L.once.bind(L),a.removeListener=L.removeListener.bind(L),a.removeAllListeners=L.removeAllListeners.bind(L),a._internalOn=T.on.bind(T),a._internalOnce=T.once.bind(T),a._removeInternalListener=T.removeListener.bind(T),a._removeAllInternalListeners=T.removeAllListeners.bind(T),a.emit=function(v,d){typeof jQuery<"u"&&jQuery(a).trigger(v,d),L.emit(v,d),T.emit(v,d)},a},triggerHandler:function(a,L,T){var v,d;typeof jQuery<"u"&&(v=jQuery(a).triggerHandler(L,T));var t=a._ev;if(!t)return v;var r=t._events[L];if(!r)return v;function u(s){if(s.listener){if(t.removeListener(L,s.listener),!s.fired)return s.fired=!0,s.listener.apply(t,[T])}else return s.apply(t,[T])}r=Array.isArray(r)?r:[r];var n;for(n=0;n<r.length-1;n++)u(r[n]);return d=u(r[n]),v!==void 0?v:d},purge:function(a){return delete a._ev,delete a.on,delete a.once,delete a.removeListener,delete a.removeAllListeners,delete a.emit,delete a._ev,delete a._internalEv,delete a._internalOn,delete a._internalOnce,delete a._removeInternalListener,delete a._removeAllInternalListeners,a}};H.exports=P},1426:function(H,U,e){var g=e(41965),P=Array.isArray;function a(T,v){var d,t;for(d=0;d<T.length;d++){if(t=T[d],t!==null&&typeof t=="object")return!1;t!==void 0&&(v[d]=t)}return!0}U.extendFlat=function(){return L(arguments,!1,!1,!1)},U.extendDeep=function(){return L(arguments,!0,!1,!1)},U.extendDeepAll=function(){return L(arguments,!0,!0,!1)},U.extendDeepNoArrays=function(){return L(arguments,!0,!1,!0)};function L(T,v,d,t){var r=T[0],u=T.length,n,s,f,l,x,c,b;if(u===2&&P(r)&&P(T[1])&&r.length===0){if(b=a(T[1],r),b)return r;r.splice(0,r.length)}for(var h=1;h<u;h++){n=T[h];for(s in n)f=r[s],l=n[s],t&&P(l)?r[s]=l:v&&l&&(g(l)||(x=P(l)))?(x?(x=!1,c=f&&P(f)?f:[]):c=f&&g(f)?f:{},r[s]=L([c,l],v,d,t)):(typeof l<"u"||d)&&(r[s]=l)}return r}},75744:function(H){H.exports=function(e){for(var g={},P=[],a=0,L=0;L<e.length;L++){var T=e[L];g[T]!==1&&(g[T]=1,P[a++]=T)}return P}},76756:function(H){H.exports=function(a){for(var L=g(a)?e:U,T=[],v=0;v<a.length;v++){var d=a[v];L(d)&&T.push(d)}return T};function U(P){return P.visible===!0}function e(P){var a=P[0].trace;return a.visible===!0&&a._length!==0}function g(P){return Array.isArray(P)&&Array.isArray(P[0])&&P[0][0]&&P[0][0].trace}},41327:function(H,U,e){var g=e(39898),P=e(24138),a=e(30774),L=e(29261),T=e(85268),v=e(23389),d=e(47769),t=e(41965),r=e(65487),u=e(61082),n=Object.keys(P),s={"ISO-3":v,"USA-states":v,"country names":f};function f(S){for(var A=0;A<n.length;A++){var E=n[A],m=new RegExp(P[E]);if(m.test(S.trim().toLowerCase()))return E}return d.log("Unrecognized country name: "+S+"."),!1}function l(S,A,E){if(!A||typeof A!="string")return!1;var m=s[S](A),M,w,i;if(m){if(S==="USA-states")for(M=[],i=0;i<E.length;i++)w=E[i],w.properties&&w.properties.gu&&w.properties.gu==="USA"&&M.push(w);else M=E;for(i=0;i<M.length;i++)if(w=M[i],w.id===m)return w;d.log(["Location with id",m,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function x(S){var A=S.geometry,E=A.coordinates,m=S.id,M=[],w,i,C,y;function _(I){for(var N=0;N<I.length-1;N++)if(I[N][0]>0&&I[N+1][0]<0)return N;return null}switch(m==="RUS"||m==="FJI"?w=function(I){var N;if(_(I)===null)N=I;else for(N=new Array(I.length),y=0;y<I.length;y++)N[y]=[I[y][0]<0?I[y][0]+360:I[y][0],I[y][1]];M.push(u.tester(N))}:m==="ATA"?w=function(I){var N=_(I);if(N===null)return M.push(u.tester(I));var k=new Array(I.length+1),O=0;for(y=0;y<I.length;y++)y>N?k[O++]=[I[y][0]+360,I[y][1]]:y===N?(k[O++]=I[y],k[O++]=[I[y][0],-90]):k[O++]=I[y];var z=u.tester(k);z.pts.pop(),M.push(z)}:w=function(I){M.push(u.tester(I))},A.type){case"MultiPolygon":for(i=0;i<E.length;i++)for(C=0;C<E[i].length;C++)w(E[i][C]);break;case"Polygon":for(i=0;i<E.length;i++)w(E[i]);break}return M}function c(S){var A=S.geojson,E=window.PlotlyGeoAssets||{},m=typeof A=="string"?E[A]:A;return t(m)?m:(d.error("Oops ... something went wrong when fetching "+A),!1)}function b(S){var A=S[0].trace,E=c(A);if(!E)return!1;var m={},M=[],w;for(w=0;w<A._length;w++){var i=S[w];(i.loc||i.loc===0)&&(m[i.loc]=i)}function C(I){var N=r(I,A.featureidkey||"id").get(),k=m[N];if(k){var O=I.geometry;if(O.type==="Polygon"||O.type==="MultiPolygon"){var z={type:"Feature",id:N,geometry:O,properties:{}};z.properties.ct=h(z),k.fIn=I,k.fOut=z,M.push(z)}else d.log(["Location",k.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete m[N]}switch(E.type){case"FeatureCollection":var y=E.features;for(w=0;w<y.length;w++)C(y[w]);break;case"Feature":C(E);break;default:return d.warn(["Invalid GeoJSON type",(E.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var _ in m)d.log(["Location *"+_+"*","does not have a matching feature with id-key","*"+A.featureidkey+"*."].join(" "));return M}function h(S){var A=S.geometry,E;if(A.type==="MultiPolygon")for(var m=A.coordinates,M=0,w=0;w<m.length;w++){var i={type:"Polygon",coordinates:m[w]},C=a.default(i);C>M&&(M=C,E=i)}else E=A;return L.default(E).geometry.coordinates}function o(S){var A=window.PlotlyGeoAssets||{},E=[];function m(y){return new Promise(function(_,I){g.json(y,function(N,k){if(N){delete A[y];var O=N.status===404?'GeoJSON at URL "'+y+'" does not exist.':"Unexpected error while fetching from "+y;return I(new Error(O))}return A[y]=k,_(k)})})}function M(y){return new Promise(function(_,I){var N=0,k=setInterval(function(){if(A[y]&&A[y]!=="pending")return clearInterval(k),_(A[y]);if(N>100)return clearInterval(k),I("Unexpected error while fetching from "+y);N++},50)})}for(var w=0;w<S.length;w++){var i=S[w][0].trace,C=i.geojson;typeof C=="string"&&(A[C]?A[C]==="pending"&&E.push(M(C)):(A[C]="pending",E.push(m(C))))}return E}function p(S){return T.default(S)}H.exports={locationToFeature:l,feature2polygons:x,getTraceGeojson:c,extractTraceFeature:b,fetchTraceGeoData:o,computeBbox:p}},18214:function(H,U,e){var g=e(50606).BADNUM;U.calcTraceToLineCoords=function(P){for(var a=P[0].trace,L=a.connectgaps,T=[],v=[],d=0;d<P.length;d++){var t=P[d],r=t.lonlat;r[0]!==g?v.push(r):!L&&v.length>0&&(T.push(v),v=[])}return v.length>0&&T.push(v),T},U.makeLine=function(P){return P.length===1?{type:"LineString",coordinates:P[0]}:{type:"MultiLineString",coordinates:P}},U.makePolygon=function(P){if(P.length===1)return{type:"Polygon",coordinates:P};for(var a=new Array(P.length),L=0;L<P.length;L++)a[L]=[P[L]];return{type:"MultiPolygon",coordinates:a}},U.makeBlank=function(){return{type:"Point",coordinates:[]}}},87642:function(H,U,e){var g=e(64872).mod;U.segmentsIntersect=P;function P(d,t,r,u,n,s,f,l){var x=r-d,c=n-d,b=f-n,h=u-t,o=s-t,p=l-s,S=x*p-b*h;if(S===0)return null;var A=(c*p-b*o)/S,E=(c*h-x*o)/S;return E<0||E>1||A<0||A>1?null:{x:d+x*A,y:t+h*A}}U.segmentDistance=function(t,r,u,n,s,f,l,x){if(P(t,r,u,n,s,f,l,x))return 0;var c=u-t,b=n-r,h=l-s,o=x-f,p=c*c+b*b,S=h*h+o*o,A=Math.min(a(c,b,p,s-t,f-r),a(c,b,p,l-t,x-r),a(h,o,S,t-s,r-f),a(h,o,S,u-s,n-f));return Math.sqrt(A)};function a(d,t,r,u,n){var s=u*d+n*t;if(s<0)return u*u+n*n;if(s>r){var f=u-d,l=n-t;return f*f+l*l}else{var x=u*t-n*d;return x*x/r}}var L,T,v;U.getTextLocation=function(t,r,u,n){if((t!==T||n!==v)&&(L={},T=t,v=n),L[u])return L[u];var s=t.getPointAtLength(g(u-n/2,r)),f=t.getPointAtLength(g(u+n/2,r)),l=Math.atan((f.y-s.y)/(f.x-s.x)),x=t.getPointAtLength(g(u,r)),c=(x.x*4+s.x+f.x)/6,b=(x.y*4+s.y+f.y)/6,h={x:c,y:b,theta:l};return L[u]=h,h},U.clearLocationCache=function(){T=null},U.getVisibleSegment=function(t,r,u){var n=r.left,s=r.right,f=r.top,l=r.bottom,x=0,c=t.getTotalLength(),b=c,h,o;function p(A){var E=t.getPointAtLength(A);A===0?h=E:A===c&&(o=E);var m=E.x<n?n-E.x:E.x>s?E.x-s:0,M=E.y<f?f-E.y:E.y>l?E.y-l:0;return Math.sqrt(m*m+M*M)}for(var S=p(x);S;){if(x+=S+u,x>b)return;S=p(x)}for(S=p(b);S;){if(b-=S+u,x>b)return;S=p(b)}return{min:x,max:b,len:b-x,total:c,isClosed:x===0&&b===c&&Math.abs(h.x-o.x)<.1&&Math.abs(h.y-o.y)<.1}},U.findPointOnPath=function(t,r,u,n){n=n||{};for(var s=n.pathLength||t.getTotalLength(),f=n.tolerance||.001,l=n.iterationLimit||30,x=t.getPointAtLength(0)[u]>t.getPointAtLength(s)[u]?-1:1,c=0,b=0,h=s,o,p,S;c<l;){if(o=(b+h)/2,p=t.getPointAtLength(o),S=p[u]-r,Math.abs(S)<f)return p;x*S>0?h=o:b=o,c++}return p}},81697:function(H,U,e){var g=e(92770),P=e(84267),a=e(25075),L=e(21081),T=e(22399).defaultLine,v=e(73627).isArrayOrTypedArray,d=a(T),t=1;function r(l,x){var c=l;return c[3]*=x,c}function u(l){if(g(l))return d;var x=a(l);return x.length?x:d}function n(l){return g(l)?l:t}function s(l,x,c){var b=l.color,h=v(b),o=v(x),p=L.extractOpts(l),S=[],A,E,m,M,w;if(p.colorscale!==void 0?A=L.makeColorScaleFuncFromTrace(l):A=u,h?E=function(C,y){return C[y]===void 0?d:a(A(C[y]))}:E=u,o?m=function(C,y){return C[y]===void 0?t:n(C[y])}:m=n,h||o)for(var i=0;i<c;i++)M=E(b,i),w=m(x,i),S[i]=r(M,w);else S=r(a(b),x);return S}function f(l){var x=L.extractOpts(l),c=x.colorscale;return x.reversescale&&(c=L.flipScale(x.colorscale)),c.map(function(b){var h=b[0],o=P(b[1]),p=o.toRgb();return{index:h,rgb:[p.r,p.g,p.b,p.a]}})}H.exports={formatColor:s,parseColorScale:f}},28984:function(H,U,e){var g=e(23389);function P(a){return[a]}H.exports={keyFun:function(a){return a.key},repeat:P,descend:g,wrap:P,unwrap:function(a){return a[0]}}},23389:function(H){H.exports=function(e){return e}},39240:function(H){H.exports=function(e,g){if(!g)return e;var P=1/Math.abs(g),a=P>1?(P*e+P*g)/P:e+g,L=String(a).length;if(L>16){var T=String(g).length,v=String(e).length;if(L>=v+T){var d=parseFloat(a).toPrecision(12);d.indexOf("e+")===-1&&(a=+d)}}return a}},71828:function(H,U,e){var g=e(39898),P=e(84096).g0,a=e(60721).WU,L=e(92770),T=e(50606),v=T.FP_SAFE,d=-v,t=T.BADNUM,r=H.exports={};r.adjustFormat=function(ie){return!ie||/^\d[.]\df/.test(ie)||/[.]\d%/.test(ie)?ie:ie==="0.f"?"~f":/^\d%/.test(ie)?"~%":/^\ds/.test(ie)?"~s":!/^[~,.0$]/.test(ie)&&/[&fps]/.test(ie)?"~"+ie:ie};var u={};r.warnBadFormat=function($){var ie=String($);u[ie]||(u[ie]=1,r.warn('encountered bad format: "'+ie+'"'))},r.noFormat=function($){return String($)},r.numberFormat=function($){var ie;try{ie=a(r.adjustFormat($))}catch{return r.warnBadFormat($),r.noFormat}return ie},r.nestedProperty=e(65487),r.keyedContainer=e(66636),r.relativeAttr=e(6962),r.isPlainObject=e(41965),r.toLogRange=e(58163),r.relinkPrivateKeys=e(51332);var n=e(73627);r.isTypedArray=n.isTypedArray,r.isArrayOrTypedArray=n.isArrayOrTypedArray,r.isArray1D=n.isArray1D,r.ensureArray=n.ensureArray,r.concat=n.concat,r.maxRowLength=n.maxRowLength,r.minRowLength=n.minRowLength;var s=e(64872);r.mod=s.mod,r.modHalf=s.modHalf;var f=e(96554);r.valObjectMeta=f.valObjectMeta,r.coerce=f.coerce,r.coerce2=f.coerce2,r.coerceFont=f.coerceFont,r.coercePattern=f.coercePattern,r.coerceHoverinfo=f.coerceHoverinfo,r.coerceSelectionMarkerOpacity=f.coerceSelectionMarkerOpacity,r.validate=f.validate;var l=e(41631);r.dateTime2ms=l.dateTime2ms,r.isDateTime=l.isDateTime,r.ms2DateTime=l.ms2DateTime,r.ms2DateTimeLocal=l.ms2DateTimeLocal,r.cleanDate=l.cleanDate,r.isJSDate=l.isJSDate,r.formatDate=l.formatDate,r.incrementMonth=l.incrementMonth,r.dateTick0=l.dateTick0,r.dfltRange=l.dfltRange,r.findExactDates=l.findExactDates,r.MIN_MS=l.MIN_MS,r.MAX_MS=l.MAX_MS;var x=e(65888);r.findBin=x.findBin,r.sorterAsc=x.sorterAsc,r.sorterDes=x.sorterDes,r.distinctVals=x.distinctVals,r.roundUp=x.roundUp,r.sort=x.sort,r.findIndexOfMin=x.findIndexOfMin,r.sortObjectKeys=e(78607);var c=e(80038);r.aggNums=c.aggNums,r.len=c.len,r.mean=c.mean,r.median=c.median,r.midRange=c.midRange,r.variance=c.variance,r.stdev=c.stdev,r.interp=c.interp;var b=e(35657);r.init2dArray=b.init2dArray,r.transposeRagged=b.transposeRagged,r.dot=b.dot,r.translationMatrix=b.translationMatrix,r.rotationMatrix=b.rotationMatrix,r.rotationXYMatrix=b.rotationXYMatrix,r.apply3DTransform=b.apply3DTransform,r.apply2DTransform=b.apply2DTransform,r.apply2DTransform2=b.apply2DTransform2,r.convertCssMatrix=b.convertCssMatrix,r.inverseTransformMatrix=b.inverseTransformMatrix;var h=e(26348);r.deg2rad=h.deg2rad,r.rad2deg=h.rad2deg,r.angleDelta=h.angleDelta,r.angleDist=h.angleDist,r.isFullCircle=h.isFullCircle,r.isAngleInsideSector=h.isAngleInsideSector,r.isPtInsideSector=h.isPtInsideSector,r.pathArc=h.pathArc,r.pathSector=h.pathSector,r.pathAnnulus=h.pathAnnulus;var o=e(99863);r.isLeftAnchor=o.isLeftAnchor,r.isCenterAnchor=o.isCenterAnchor,r.isRightAnchor=o.isRightAnchor,r.isTopAnchor=o.isTopAnchor,r.isMiddleAnchor=o.isMiddleAnchor,r.isBottomAnchor=o.isBottomAnchor;var p=e(87642);r.segmentsIntersect=p.segmentsIntersect,r.segmentDistance=p.segmentDistance,r.getTextLocation=p.getTextLocation,r.clearLocationCache=p.clearLocationCache,r.getVisibleSegment=p.getVisibleSegment,r.findPointOnPath=p.findPointOnPath;var S=e(1426);r.extendFlat=S.extendFlat,r.extendDeep=S.extendDeep,r.extendDeepAll=S.extendDeepAll,r.extendDeepNoArrays=S.extendDeepNoArrays;var A=e(47769);r.log=A.log,r.warn=A.warn,r.error=A.error;var E=e(30587);r.counterRegex=E.counter;var m=e(79990);r.throttle=m.throttle,r.throttleDone=m.done,r.clearThrottle=m.clear;var M=e(24401);r.getGraphDiv=M.getGraphDiv,r.isPlotDiv=M.isPlotDiv,r.removeElement=M.removeElement,r.addStyleRule=M.addStyleRule,r.addRelatedStyleRule=M.addRelatedStyleRule,r.deleteRelatedStyleRule=M.deleteRelatedStyleRule,r.getFullTransformMatrix=M.getFullTransformMatrix,r.getElementTransformMatrix=M.getElementTransformMatrix,r.getElementAndAncestors=M.getElementAndAncestors,r.equalDomRects=M.equalDomRects,r.clearResponsive=e(86367),r.preserveDrawingBuffer=e(45142),r.makeTraceGroups=e(77310),r._=e(15867),r.notifier=e(75046),r.filterUnique=e(75744),r.filterVisible=e(76756),r.pushUnique=e(75138),r.increment=e(39240),r.cleanNumber=e(95218),r.ensureNumber=function(ie){return L(ie)?(ie=Number(ie),ie>v||ie<d?t:ie):t},r.isIndex=function($,ie){return ie!==void 0&&$>=ie?!1:L($)&&$>=0&&$%1===0},r.noop=e(64213),r.identity=e(23389),r.repeat=function($,ie){for(var J=new Array(ie),j=0;j<ie;j++)J[j]=$;return J},r.swapAttrs=function($,ie,J,j){J||(J="x"),j||(j="y");for(var se=0;se<ie.length;se++){var ne=ie[se],ue=r.nestedProperty($,ne.replace("?",J)),ge=r.nestedProperty($,ne.replace("?",j)),we=ue.get();ue.set(ge.get()),ge.set(we)}},r.raiseToTop=function(ie){ie.parentNode.appendChild(ie)},r.cancelTransition=function($){return $.transition().duration(0)},r.constrain=function($,ie,J){return ie>J?Math.max(J,Math.min(ie,$)):Math.max(ie,Math.min(J,$))},r.bBoxIntersect=function($,ie,J){return J=J||0,$.left<=ie.right+J&&ie.left<=$.right+J&&$.top<=ie.bottom+J&&ie.top<=$.bottom+J},r.simpleMap=function($,ie,J,j,se){for(var ne=$.length,ue=new Array(ne),ge=0;ge<ne;ge++)ue[ge]=ie($[ge],J,j,se);return ue},r.randstr=function $(ie,J,j,se){if(j||(j=16),J===void 0&&(J=24),J<=0)return"0";var ne=Math.log(Math.pow(2,J))/Math.log(j),ue="",ge,we,xe;for(ge=2;ne===1/0;ge*=2)ne=Math.log(Math.pow(2,J/ge))/Math.log(j)*ge;var Fe=ne-Math.floor(ne);for(ge=0;ge<Math.floor(ne);ge++)xe=Math.floor(Math.random()*j).toString(j),ue=xe+ue;Fe&&(we=Math.pow(j,Fe),xe=Math.floor(Math.random()*we).toString(j),ue=xe+ue);var ze=parseInt(ue,j);return ie&&ie[ue]||ze!==1/0&&ze>=Math.pow(2,J)?se>10?(r.warn("randstr failed uniqueness"),ue):$(ie,J,j,(se||0)+1):ue},r.OptionControl=function($,ie){$||($={}),ie||(ie="opt");var J={};return J.optionList=[],J._newoption=function(j){j[ie]=$,J[j.name]=j,J.optionList.push(j)},J["_"+ie]=$,J},r.smooth=function($,ie){if(ie=Math.round(ie)||0,ie<2)return $;var J=$.length,j=2*J,se=2*ie-1,ne=new Array(se),ue=new Array(J),ge,we,xe,Fe;for(ge=0;ge<se;ge++)ne[ge]=(1-Math.cos(Math.PI*(ge+1)/ie))/(2*ie);for(ge=0;ge<J;ge++){for(Fe=0,we=0;we<se;we++)xe=ge+we+1-ie,xe<-J?xe-=j*Math.round(xe/j):xe>=j&&(xe-=j*Math.floor(xe/j)),xe<0?xe=-1-xe:xe>=J&&(xe=j-1-xe),Fe+=$[xe]*ne[we];ue[ge]=Fe}return ue},r.syncOrAsync=function($,ie,J){var j,se;function ne(){return r.syncOrAsync($,ie,J)}for(;$.length;)if(se=$.splice(0,1)[0],j=se(ie),j&&j.then)return j.then(ne);return J&&J(ie)},r.stripTrailingSlash=function($){return $.substr(-1)==="/"?$.substr(0,$.length-1):$},r.noneOrAll=function($,ie,J){if($){var j=!1,se=!0,ne,ue;for(ne=0;ne<J.length;ne++)ue=$[J[ne]],ue!=null?j=!0:se=!1;if(j&&!se)for(ne=0;ne<J.length;ne++)$[J[ne]]=ie[J[ne]]}},r.mergeArray=function($,ie,J,j){var se=typeof j=="function";if(r.isArrayOrTypedArray($))for(var ne=Math.min($.length,ie.length),ue=0;ue<ne;ue++){var ge=$[ue];ie[ue][J]=se?j(ge):ge}},r.mergeArrayCastPositive=function($,ie,J){return r.mergeArray($,ie,J,function(j){var se=+j;return isFinite(se)&&se>0?se:0})},r.fillArray=function($,ie,J,j){if(j=j||r.identity,r.isArrayOrTypedArray($))for(var se=0;se<ie.length;se++)ie[se][J]=j($[se])},r.castOption=function($,ie,J,j){j=j||r.identity;var se=r.nestedProperty($,J).get();return r.isArrayOrTypedArray(se)?Array.isArray(ie)&&r.isArrayOrTypedArray(se[ie[0]])?j(se[ie[0]][ie[1]]):j(se[ie]):se},r.extractOption=function($,ie,J,j){if(J in $)return $[J];var se=r.nestedProperty(ie,j).get();if(!Array.isArray(se))return se};function w($){var ie={};for(var J in $)for(var j=$[J],se=0;se<j.length;se++)ie[j[se]]=+J;return ie}r.tagSelected=function($,ie,J){var j=ie.selectedpoints,se=ie._indexToPoints,ne;se&&(ne=w(se));function ue(ze){return ze!==void 0&&ze<$.length}for(var ge=0;ge<j.length;ge++){var we=j[ge];if(r.isIndex(we)||r.isArrayOrTypedArray(we)&&r.isIndex(we[0])&&r.isIndex(we[1])){var xe=ne?ne[we]:we,Fe=J?J[xe]:xe;ue(Fe)&&($[Fe].selected=1)}}},r.selIndices2selPoints=function($){var ie=$.selectedpoints,J=$._indexToPoints;if(J){for(var j=w(J),se=[],ne=0;ne<ie.length;ne++){var ue=ie[ne];if(r.isIndex(ue)){var ge=j[ue];r.isIndex(ge)&&se.push(ge)}}return se}else return ie},r.getTargetArray=function($,ie){var J=ie.target;if(typeof J=="string"&&J){var j=r.nestedProperty($,J).get();return Array.isArray(j)?j:!1}else if(Array.isArray(J))return J;return!1};function i($,ie,J){var j={};typeof ie!="object"&&(ie={});var se=J==="pieLike"?-1:3,ne=Object.keys($),ue,ge,we;for(ue=0;ue<ne.length;ue++)ge=ne[ue],we=$[ge],!(ge.charAt(0)==="_"||typeof we=="function")&&(ge==="module"?j[ge]=we:Array.isArray(we)?ge==="colorscale"||se===-1?j[ge]=we.slice():j[ge]=we.slice(0,se):r.isTypedArray(we)?se===-1?j[ge]=we.subarray():j[ge]=we.subarray(0,se):we&&typeof we=="object"?j[ge]=i($[ge],ie[ge],J):j[ge]=we);for(ne=Object.keys(ie),ue=0;ue<ne.length;ue++)ge=ne[ue],we=ie[ge],(typeof we!="object"||!(ge in j)||typeof j[ge]!="object")&&(j[ge]=we);return j}r.minExtend=i,r.titleCase=function($){return $.charAt(0).toUpperCase()+$.substr(1)},r.containsAny=function($,ie){for(var J=0;J<ie.length;J++)if($.indexOf(ie[J])!==-1)return!0;return!1},r.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var C=/Version\/[\d\.]+.*Safari/;r.isSafari=function(){return C.test(window.navigator.userAgent)};var y=/iPad|iPhone|iPod/;r.isIOS=function(){return y.test(window.navigator.userAgent)};var _=/Firefox\/(\d+)\.\d+/;r.getFirefoxVersion=function(){var $=_.exec(window.navigator.userAgent);if($&&$.length===2){var ie=parseInt($[1]);if(!isNaN(ie))return ie}return null},r.isD3Selection=function($){return $ instanceof g.selection},r.ensureSingle=function($,ie,J,j){var se=$.select(ie+(J?"."+J:""));if(se.size())return se;var ne=$.append(ie);return J&&ne.classed(J,!0),j&&ne.call(j),ne},r.ensureSingleById=function($,ie,J,j){var se=$.select(ie+"#"+J);if(se.size())return se;var ne=$.append(ie).attr("id",J);return j&&ne.call(j),ne},r.objectFromPath=function($,ie){for(var J=$.split("."),j,se=j={},ne=0;ne<J.length;ne++){var ue=J[ne],ge=null,we=J[ne].match(/(.*)\[([0-9]+)\]/);we?(ue=we[1],ge=we[2],j=j[ue]=[],ne===J.length-1?j[ge]=ie:j[ge]={},j=j[ge]):(ne===J.length-1?j[ue]=ie:j[ue]={},j=j[ue])}return se};var I=/^([^\[\.]+)\.(.+)?/,N=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function k($){return $.slice(0,2)==="__"}r.expandObjectPaths=function($){var ie,J,j,se,ne,ue,ge;if(typeof $=="object"&&!Array.isArray($)){for(J in $)if($.hasOwnProperty(J))if(ie=J.match(I)){if(se=$[J],j=ie[1],k(j))continue;delete $[J],$[j]=r.extendDeepNoArrays($[j]||{},r.objectFromPath(J,r.expandObjectPaths(se))[j])}else if(ie=J.match(N)){if(se=$[J],j=ie[1],k(j))continue;if(ne=parseInt(ie[2]),delete $[J],$[j]=$[j]||[],ie[3]===".")ge=ie[4],ue=$[j][ne]=$[j][ne]||{},r.extendDeepNoArrays(ue,r.objectFromPath(ge,r.expandObjectPaths(se)));else{if(k(j))continue;$[j][ne]=r.expandObjectPaths(se)}}else{if(k(J))continue;$[J]=r.expandObjectPaths($[J])}}return $},r.numSeparate=function($,ie,J){if(J||(J=!1),typeof ie!="string"||ie.length===0)throw new Error("Separator string required for formatting!");typeof $=="number"&&($=String($));var j=/(\d+)(\d{3})/,se=ie.charAt(0),ne=ie.charAt(1),ue=$.split("."),ge=ue[0],we=ue.length>1?se+ue[1]:"";if(ne&&(ue.length>1||ge.length>4||J))for(;j.test(ge);)ge=ge.replace(j,"$1"+ne+"$2");return ge+we},r.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var O=/^\w*$/;r.templateString=function($,ie){var J={};return $.replace(r.TEMPLATE_STRING_REGEX,function(j,se){var ne;return O.test(se)?ne=ie[se]:(J[se]=J[se]||r.nestedProperty(ie,se).get,ne=J[se]()),r.isValidTextValue(ne)?ne:""})};var z={max:10,count:0,name:"hovertemplate"};r.hovertemplateString=function(){return ae.apply(z,arguments)};var F={max:10,count:0,name:"texttemplate"};r.texttemplateString=function(){return ae.apply(F,arguments)};var B=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function G($){var ie=$.match(B);return ie?{key:ie[1],op:ie[2],number:Number(ie[3])}:{key:$,op:null,number:null}}var Q={max:10,count:0,name:"texttemplate",parseMultDiv:!0};r.texttemplateStringForShapes=function(){return ae.apply(Q,arguments)};var ee=/^[:|\|]/;function ae($,ie,J){var j=this,se=arguments;ie||(ie={});var ne={};return $.replace(r.TEMPLATE_STRING_REGEX,function(ue,ge,we){var xe=ge==="xother"||ge==="yother",Fe=ge==="_xother"||ge==="_yother",ze=ge==="_xother_"||ge==="_yother_",Te=ge==="xother_"||ge==="yother_",ye=xe||Fe||Te||ze,Ae=ge;(Fe||ze)&&(Ae=Ae.substring(1)),(Te||ze)&&(Ae=Ae.substring(0,Ae.length-1));var Ne=null,Ue=null;if(j.parseMultDiv){var Re=G(Ae);Ae=Re.key,Ne=Re.op,Ue=Re.number}var Ve;if(ye){if(Ve=ie[Ae],Ve===void 0)return""}else{var rt,Qe;for(Qe=3;Qe<se.length;Qe++)if(rt=se[Qe],!!rt){if(rt.hasOwnProperty(Ae)){Ve=rt[Ae];break}if(O.test(Ae)||(Ve=r.nestedProperty(rt,Ae).get(),Ve=ne[Ae]||r.nestedProperty(rt,Ae).get(),Ve&&(ne[Ae]=Ve)),Ve!==void 0)break}}if(Ve!==void 0&&(Ne==="*"&&(Ve*=Ue),Ne==="/"&&(Ve/=Ue)),Ve===void 0&&j)return j.count<j.max&&(r.warn("Variable '"+Ae+"' in "+j.name+" could not be found!"),Ve=ue),j.count===j.max&&r.warn("Too many "+j.name+" warnings - additional warnings will be suppressed"),j.count++,ue;if(we){var Je;if(we[0]===":"&&(Je=J?J.numberFormat:r.numberFormat,Ve=Je(we.replace(ee,""))(Ve)),we[0]==="|"){Je=J?J.timeFormat:P;var qe=r.dateTime2ms(Ve);Ve=r.formatDate(qe,we.replace(ee,""),!1,Je)}}else{var dt=Ae+"Label";ie.hasOwnProperty(dt)&&(Ve=ie[dt])}return ye&&(Ve="("+Ve+")",(Fe||ze)&&(Ve=" "+Ve),(Te||ze)&&(Ve=Ve+" ")),Ve})}var fe=48,K=57;r.subplotSort=function($,ie){for(var J=Math.min($.length,ie.length)+1,j=0,se=0,ne=0;ne<J;ne++){var ue=$.charCodeAt(ne)||0,ge=ie.charCodeAt(ne)||0,we=ue>=fe&&ue<=K,xe=ge>=fe&&ge<=K;if(we&&(j=10*j+ue-fe),xe&&(se=10*se+ge-fe),!we||!xe){if(j!==se)return j-se;if(ue!==ge)return ue-ge}}return se-j};var W=2e9;r.seedPseudoRandom=function(){W=2e9},r.pseudoRandom=function(){var $=W;return W=(69069*W+1)%4294967296,Math.abs(W-$)<429496729?r.pseudoRandom():W/4294967296},r.fillText=function($,ie,J){var j=Array.isArray(J)?function(ue){J.push(ue)}:function(ue){J.text=ue},se=r.extractOption($,ie,"htx","hovertext");if(r.isValidTextValue(se))return j(se);var ne=r.extractOption($,ie,"tx","text");if(r.isValidTextValue(ne))return j(ne)},r.isValidTextValue=function($){return $||$===0},r.formatPercent=function($,ie){ie=ie||0;for(var J=(Math.round(100*$*Math.pow(10,ie))*Math.pow(.1,ie)).toFixed(ie)+"%",j=0;j<ie;j++)J.indexOf(".")!==-1&&(J=J.replace("0%","%"),J=J.replace(".%","%"));return J},r.isHidden=function($){var ie=window.getComputedStyle($).display;return!ie||ie==="none"},r.strTranslate=function($,ie){return $||ie?"translate("+$+","+ie+")":""},r.strRotate=function($){return $?"rotate("+$+")":""},r.strScale=function($){return $!==1?"scale("+$+")":""},r.getTextTransform=function($){var ie=$.noCenter,J=$.textX,j=$.textY,se=$.targetX,ne=$.targetY,ue=$.anchorX||0,ge=$.anchorY||0,we=$.rotate,xe=$.scale;return xe?xe>1&&(xe=1):xe=0,r.strTranslate(se-xe*(J+ue),ne-xe*(j+ge))+r.strScale(xe)+(we?"rotate("+we+(ie?"":" "+J+" "+j)+")":"")},r.setTransormAndDisplay=function($,ie){$.attr("transform",r.getTextTransform(ie)),$.style("display",ie.scale?null:"none")},r.ensureUniformFontSize=function($,ie){var J=r.extendFlat({},ie);return J.size=Math.max(ie.size,$._fullLayout.uniformtext.minsize||0),J},r.join2=function($,ie,J){var j=$.length;return j>1?$.slice(0,-1).join(ie)+J+$[j-1]:$.join(ie)},r.bigFont=function($){return Math.round(1.2*$)};var Z=r.getFirefoxVersion(),X=Z!==null&&Z<86;r.getPositionFromD3Event=function(){return X?[g.event.layerX,g.event.layerY]:[g.event.offsetX,g.event.offsetY]}},41965:function(H){H.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},66636:function(H,U,e){var g=e(65487),P=/^\w*$/,a=0,L=1,T=2,v=3,d=4;H.exports=function(r,u,n,s){n=n||"name",s=s||"value";var f,l,x,c={};u&&u.length?(x=g(r,u),l=x.get()):l=r,u=u||"";var b={};if(l)for(f=0;f<l.length;f++)b[l[f][n]]=f;var h=P.test(s),o={set:function(p,S){var A=S===null?d:a;if(!l){if(!x||A===d)return;l=[],x.set(l)}var E=b[p];if(E===void 0){if(A===d)return;A=A|v,E=l.length,b[p]=E}else S!==(h?l[E][s]:g(l[E],s).get())&&(A=A|T);var m=l[E]=l[E]||{};return m[n]=p,h?m[s]=S:g(m,s).set(S),S!==null&&(A=A&~d),c[E]=c[E]|A,o},get:function(p){if(l){var S=b[p];if(S!==void 0)return h?l[S][s]:g(l[S],s).get()}},rename:function(p,S){var A=b[p];return A===void 0||(c[A]=c[A]|L,b[S]=A,delete b[p],l[A][n]=S),o},remove:function(p){var S=b[p];if(S===void 0)return o;var A=l[S];if(Object.keys(A).length>2)return c[S]=c[S]|T,o.set(p,null);if(h){for(f=S;f<l.length;f++)c[f]=c[f]|v;for(f=S;f<l.length;f++)b[l[f][n]]--;l.splice(S,1),delete b[p]}else g(A,s).set(null),c[S]=c[S]|T|d;return o},constructUpdate:function(){for(var p,S,A={},E=Object.keys(c),m=0;m<E.length;m++)S=E[m],p=u+"["+S+"]",l[S]?(c[S]&L&&(A[p+"."+n]=l[S][n]),c[S]&T&&(h?A[p+"."+s]=c[S]&d?null:l[S][s]:A[p+"."+s]=c[S]&d?null:g(l[S],s).get())):A[p]=null;return A}};return o}},15867:function(H,U,e){var g=e(73972);H.exports=function(a,L){for(var T=a._context.locale,v=0;v<2;v++){for(var d=a._context.locales,t=0;t<2;t++){var r=(d[T]||{}).dictionary;if(r){var u=r[L];if(u)return u}d=g.localeRegistry}var n=T.split("-")[0];if(n===T)break;T=n}return L}},47769:function(H,U,e){var g=e(72075).dfltConfig,P=e(75046),a=H.exports={};a.log=function(){var L;if(g.logging>1){var T=["LOG:"];for(L=0;L<arguments.length;L++)T.push(arguments[L]);console.trace.apply(console,T)}if(g.notifyOnLogging>1){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);P(v.join("<br>"),"long")}},a.warn=function(){var L;if(g.logging>0){var T=["WARN:"];for(L=0;L<arguments.length;L++)T.push(arguments[L]);console.trace.apply(console,T)}if(g.notifyOnLogging>0){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);P(v.join("<br>"),"stick")}},a.error=function(){var L;if(g.logging>0){var T=["ERROR:"];for(L=0;L<arguments.length;L++)T.push(arguments[L]);console.error.apply(console,T)}if(g.notifyOnLogging>0){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);P(v.join("<br>"),"stick")}}},77310:function(H,U,e){var g=e(39898);H.exports=function(a,L,T){var v=a.selectAll("g."+T.replace(/\s/g,".")).data(L,function(t){return t[0].trace.uid});v.exit().remove(),v.enter().append("g").attr("class",T),v.order();var d=a.classed("rangeplot")?"nodeRangePlot3":"node3";return v.each(function(t){t[0][d]=g.select(this)}),v}},35657:function(H,U,e){var g=e(79576);U.init2dArray=function(P,a){for(var L=new Array(P),T=0;T<P;T++)L[T]=new Array(a);return L},U.transposeRagged=function(P){var a=0,L=P.length,T,v;for(T=0;T<L;T++)a=Math.max(a,P[T].length);var d=new Array(a);for(T=0;T<a;T++)for(d[T]=new Array(L),v=0;v<L;v++)d[T][v]=P[v][T];return d},U.dot=function(P,a){if(!(P.length&&a.length)||P.length!==a.length)return null;var L=P.length,T,v;if(P[0].length)for(T=new Array(L),v=0;v<L;v++)T[v]=U.dot(P[v],a);else if(a[0].length){var d=U.transposeRagged(a);for(T=new Array(d.length),v=0;v<d.length;v++)T[v]=U.dot(P,d[v])}else for(T=0,v=0;v<L;v++)T+=P[v]*a[v];return T},U.translationMatrix=function(P,a){return[[1,0,P],[0,1,a],[0,0,1]]},U.rotationMatrix=function(P){var a=P*Math.PI/180;return[[Math.cos(a),-Math.sin(a),0],[Math.sin(a),Math.cos(a),0],[0,0,1]]},U.rotationXYMatrix=function(P,a,L){return U.dot(U.dot(U.translationMatrix(a,L),U.rotationMatrix(P)),U.translationMatrix(-a,-L))},U.apply3DTransform=function(P){return function(){var a=arguments,L=arguments.length===1?a[0]:[a[0],a[1],a[2]||0];return U.dot(P,[L[0],L[1],L[2],1]).slice(0,3)}},U.apply2DTransform=function(P){return function(){var a=arguments;a.length===3&&(a=a[0]);var L=arguments.length===1?a[0]:[a[0],a[1]];return U.dot(P,[L[0],L[1],1]).slice(0,2)}},U.apply2DTransform2=function(P){var a=U.apply2DTransform(P);return function(L){return a(L.slice(0,2)).concat(a(L.slice(2,4)))}},U.convertCssMatrix=function(P){if(P){var a=P.length;if(a===16)return P;if(a===6)return[P[0],P[1],0,0,P[2],P[3],0,0,0,0,1,0,P[4],P[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},U.inverseTransformMatrix=function(P){var a=[];return g.invert(a,P),[[a[0],a[1],a[2],a[3]],[a[4],a[5],a[6],a[7]],[a[8],a[9],a[10],a[11]],[a[12],a[13],a[14],a[15]]]}},64872:function(H){function U(g,P){var a=g%P;return a<0?a+P:a}function e(g,P){return Math.abs(g)>P/2?g-Math.round(g/P)*P:g}H.exports={mod:U,modHalf:e}},65487:function(H,U,e){var g=e(92770),P=e(73627).isArrayOrTypedArray;H.exports=function(s,f){if(g(f))f=String(f);else if(typeof f!="string"||f.substr(f.length-4)==="[-1]")throw"bad property string";var l=f.split("."),x,c,b,h;for(h=0;h<l.length;h++)if(String(l[h]).slice(0,2)==="__")throw"bad property string";for(h=0;h<l.length;){if(x=String(l[h]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),x){if(x[1])l[h]=x[1];else if(h===0)l.splice(0,1);else throw"bad property string";for(c=x[2].substr(1,x[2].length-2).split("]["),b=0;b<c.length;b++)h++,l.splice(h,0,Number(c[b]))}h++}return typeof s!="object"?u(s,f,l):{set:v(s,l,f),get:a(s,l),astr:f,parts:l,obj:s}};function a(n,s){return function(){var f=n,l,x,c,b,h;for(b=0;b<s.length-1;b++){if(l=s[b],l===-1){for(x=!0,c=[],h=0;h<f.length;h++)c[h]=a(f[h],s.slice(b+1))(),c[h]!==c[0]&&(x=!1);return x?c[0]:c}if(typeof l=="number"&&!P(f)||(f=f[l],typeof f!="object"||f===null))return}if(!(typeof f!="object"||f===null)&&(c=f[s[b]],c!==null))return c}}var L=/(^|\.)args\[/;function T(n,s){return n===void 0||n===null&&!s.match(L)}function v(n,s,f){return function(l){var x=n,c="",b=T(l,f),h,o;for(o=0;o<s.length-1;o++){if(h=s[o],typeof h=="number"&&!P(x))throw"array index but container is not an array";if(h===-1){if(b=!t(x,s.slice(o+1),l,f),b)break;return}if(!r(x,h,s[o+1],b))break;if(x=x[h],typeof x!="object"||x===null)throw"container is not an object";c=d(c,h)}if(b){if(o===s.length-1&&(delete x[s[o]],Array.isArray(x)&&+s[o]===x.length-1))for(;x.length&&x[x.length-1]===void 0;)x.pop()}else x[s[o]]=l}}function d(n,s){var f=s;return g(s)?f="["+s+"]":n&&(f="."+s),n+f}function t(n,s,f,l){var x=P(f),c=!0,b=f,h=l.replace("-1",0),o=x?!1:T(f,h),p=s[0],S;for(S=0;S<n.length;S++)h=l.replace("-1",S),x&&(b=f[S%f.length],o=T(b,h)),o&&(c=!1),r(n,S,p,o)&&v(n[S],s,l.replace("-1",S))(b);return c}function r(n,s,f,l){if(n[s]===void 0){if(l)return!1;typeof f=="number"?n[s]=[]:n[s]={}}return!0}function u(n,s,f){return{set:function(){throw"bad container"},get:function(){},astr:s,parts:f,obj:n}}},64213:function(H){H.exports=function(){}},75046:function(H,U,e){var g=e(39898),P=e(92770),a=[];H.exports=function(L,T){if(a.indexOf(L)!==-1)return;a.push(L);var v=1e3;P(T)?v=T:T==="long"&&(v=3e3);var d=g.select("body").selectAll(".plotly-notifier").data([0]);d.enter().append("div").classed("plotly-notifier",!0);var t=d.selectAll(".notifier-note").data(a);function r(u){u.duration(700).style("opacity",0).each("end",function(n){var s=a.indexOf(n);s!==-1&&a.splice(s,1),g.select(this).remove()})}t.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(u){var n=g.select(this);n.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){n.transition().call(r)});for(var s=n.append("p"),f=u.split(/<br\s*\/?>/g),l=0;l<f.length;l++)l&&s.append("br"),s.append("span").text(f[l]);T==="stick"?n.transition().duration(350).style("opacity",1):n.transition().duration(700).style("opacity",1).transition().delay(v).call(r)})}},39918:function(H,U,e){var g=e(6964),P="data-savedcursor",a="!!";H.exports=function(T,v){var d=T.attr(P);if(v){if(!d){for(var t=(T.attr("class")||"").split(" "),r=0;r<t.length;r++){var u=t[r];u.indexOf("cursor-")===0&&T.attr(P,u.substr(7)).classed(u,!1)}T.attr(P)||T.attr(P,a)}g(T,v)}else d&&(T.attr(P,null),d===a?g(T):g(T,d))}},61082:function(H,U,e){var g=e(35657).dot,P=e(50606).BADNUM,a=H.exports={};a.tester=function(T){var v=T.slice(),d=v[0][0],t=d,r=v[0][1],u=r,n;for((v[v.length-1][0]!==v[0][0]||v[v.length-1][1]!==v[0][1])&&v.push(v[0]),n=1;n<v.length;n++)d=Math.min(d,v[n][0]),t=Math.max(t,v[n][0]),r=Math.min(r,v[n][1]),u=Math.max(u,v[n][1]);var s=!1,f;v.length===5&&(v[0][0]===v[1][0]?v[2][0]===v[3][0]&&v[0][1]===v[3][1]&&v[1][1]===v[2][1]&&(s=!0,f=function(h){return h[0]===v[0][0]}):v[0][1]===v[1][1]&&v[2][1]===v[3][1]&&v[0][0]===v[3][0]&&v[1][0]===v[2][0]&&(s=!0,f=function(h){return h[1]===v[0][1]}));function l(h,o){var p=h[0],S=h[1];return!(p===P||p<d||p>t||S===P||S<r||S>u||o&&f(h))}function x(h,o){var p=h[0],S=h[1];if(p===P||p<d||p>t||S===P||S<r||S>u)return!1;var A=v.length,E=v[0][0],m=v[0][1],M=0,w,i,C,y,_;for(w=1;w<A;w++)if(i=E,C=m,E=v[w][0],m=v[w][1],y=Math.min(i,E),!(p<y||p>Math.max(i,E)||S>Math.max(C,m)))if(S<Math.min(C,m))p!==y&&M++;else{if(E===i?_=S:_=C+(p-i)*(m-C)/(E-i),S===_)return!(w===1&&o);S<=_&&p!==y&&M++}return M%2===1}var c=!0,b=v[0];for(n=1;n<v.length;n++)if(b[0]!==v[n][0]||b[1]!==v[n][1]){c=!1;break}return{xmin:d,xmax:t,ymin:r,ymax:u,pts:v,contains:s?l:x,isRect:s,degenerate:c}},a.isSegmentBent=function(T,v,d,t){var r=T[v],u=[T[d][0]-r[0],T[d][1]-r[1]],n=g(u,u),s=Math.sqrt(n),f=[-u[1]/s,u[0]/s],l,x,c;for(l=v+1;l<d;l++)if(x=[T[l][0]-r[0],T[l][1]-r[1]],c=g(x,u),c<0||c>n||Math.abs(g(x,f))>t)return!0;return!1},a.filter=function(T,v){var d=[T[0]],t=0,r=0;function u(s){T.push(s);var f=d.length,l=t;d.splice(r+1);for(var x=l+1;x<T.length;x++)(x===T.length-1||a.isSegmentBent(T,l,x+1,v))&&(d.push(T[x]),d.length<f-2&&(t=x,r=d.length-1),l=x)}if(T.length>1){var n=T.pop();u(n)}return{addPt:u,raw:T,filtered:d}}},79749:function(H,U,e){var g=e(58617),P=e(98580);H.exports=function(L,T,v){var d=L._fullLayout,t=!0;return d._glcanvas.each(function(r){if(r.regl){r.regl.preloadCachedCode(v);return}if(!(r.pick&&!d._has("parcoords"))){try{r.regl=P({canvas:this,attributes:{antialias:!r.pick,preserveDrawingBuffer:!0},pixelRatio:L._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:T||[],cachedCode:v||{}})}catch{t=!1}r.regl||(t=!1),t&&this.addEventListener("webglcontextlost",function(u){L&&L.emit&&L.emit("plotly_webglcontextlost",{event:u,layer:r.key})},!1)}}),t||g({container:d._glcontainer.node()}),t}},45142:function(H,U,e){var g=e(92770),P=e(35791);H.exports=function(T){var v;if(T&&T.hasOwnProperty("userAgent")?v=T.userAgent:v=a(),typeof v!="string")return!0;var d=P({ua:{headers:{"user-agent":v}},tablet:!0,featureDetect:!1});if(!d)for(var t=v.split(" "),r=1;r<t.length;r++){var u=t[r];if(u.indexOf("Safari")!==-1)for(var n=r-1;n>-1;n--){var s=t[n];if(s.substr(0,8)==="Version/"){var f=s.substr(8).split(".")[0];if(g(f)&&(f=+f),f>=13)return!0}}}return d};function a(){var L;return typeof navigator<"u"&&(L=navigator.userAgent),L&&L.headers&&typeof L.headers["user-agent"]=="string"&&(L=L.headers["user-agent"]),L}},75138:function(H){H.exports=function(e,g){if(g instanceof RegExp){for(var P=g.toString(),a=0;a<e.length;a++)if(e[a]instanceof RegExp&&e[a].toString()===P)return e;e.push(g)}else(g||g===0)&&e.indexOf(g)===-1&&e.push(g);return e}},10847:function(H,U,e){var g=e(71828),P=e(72075).dfltConfig;function a(T,v){for(var d=[],t,r=0;r<v.length;r++)t=v[r],t===T?d[r]=t:typeof t=="object"?d[r]=Array.isArray(t)?g.extendDeep([],t):g.extendDeepAll({},t):d[r]=t;return d}var L={};L.add=function(T,v,d,t,r){var u,n;if(T.undoQueue=T.undoQueue||{index:0,queue:[],sequence:!1},n=T.undoQueue.index,T.autoplay){T.undoQueue.inSequence||(T.autoplay=!1);return}!T.undoQueue.sequence||T.undoQueue.beginSequence?(u={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},T.undoQueue.queue.splice(n,T.undoQueue.queue.length-n,u),T.undoQueue.index+=1):u=T.undoQueue.queue[n-1],T.undoQueue.beginSequence=!1,u&&(u.undo.calls.unshift(v),u.undo.args.unshift(d),u.redo.calls.push(t),u.redo.args.push(r)),T.undoQueue.queue.length>P.queueLength&&(T.undoQueue.queue.shift(),T.undoQueue.index--)},L.startSequence=function(T){T.undoQueue=T.undoQueue||{index:0,queue:[],sequence:!1},T.undoQueue.sequence=!0,T.undoQueue.beginSequence=!0},L.stopSequence=function(T){T.undoQueue=T.undoQueue||{index:0,queue:[],sequence:!1},T.undoQueue.sequence=!1,T.undoQueue.beginSequence=!1},L.undo=function(v){var d,t;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index<=0)){for(v.undoQueue.index--,d=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,t=0;t<d.undo.calls.length;t++)L.plotDo(v,d.undo.calls[t],d.undo.args[t]);v.undoQueue.inSequence=!1,v.autoplay=!1}},L.redo=function(v){var d,t;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index>=v.undoQueue.queue.length)){for(d=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,t=0;t<d.redo.calls.length;t++)L.plotDo(v,d.redo.calls[t],d.redo.args[t]);v.undoQueue.inSequence=!1,v.autoplay=!1,v.undoQueue.index++}},L.plotDo=function(T,v,d){T.autoplay=!0,d=a(T,d),v.apply(null,d)},H.exports=L},30587:function(H,U){U.counter=function(e,g,P,a){var L=(g||"")+(P?"":"$"),T=a===!1?"":"^";return e==="xy"?new RegExp(T+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+L):new RegExp(T+e+"([2-9]|[1-9][0-9]+)?"+L)}},6962:function(H){var U=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;H.exports=function(g,P){for(;P;){var a=g.match(U);if(a)g=a[1];else if(g.match(e))g="";else throw new Error("bad relativeAttr call:"+[g,P]);if(P.charAt(0)==="^")P=P.slice(1);else break}return g&&P.charAt(0)!=="["?g+"."+P:g+P}},51332:function(H,U,e){var g=e(73627).isArrayOrTypedArray,P=e(41965);H.exports=function a(L,T){for(var v in T){var d=T[v],t=L[v];if(t!==d)if(v.charAt(0)==="_"||typeof d=="function"){if(v in L)continue;L[v]=d}else if(g(d)&&g(t)&&P(d[0])){if(v==="customdata"||v==="ids")continue;for(var r=Math.min(d.length,t.length),u=0;u<r;u++)t[u]!==d[u]&&P(d[u])&&P(t[u])&&a(t[u],d[u])}else P(d)&&P(t)&&(a(t,d),Object.keys(t).length||delete L[v])}}},65888:function(H,U,e){var g=e(92770),P=e(47769),a=e(23389),L=e(50606).BADNUM,T=1e-9;U.findBin=function(u,n,s){if(g(n.start))return s?Math.ceil((u-n.start)/n.size-T)-1:Math.floor((u-n.start)/n.size+T);var f=0,l=n.length,x=0,c=l>1?(n[l-1]-n[0])/(l-1):1,b,h;for(c>=0?h=s?v:d:h=s?r:t,u+=c*T*(s?-1:1)*(c>=0?1:-1);f<l&&x++<100;)b=Math.floor((f+l)/2),h(n[b],u)?f=b+1:l=b;return x>90&&P.log("Long binary search..."),f-1};function v(u,n){return u<n}function d(u,n){return u<=n}function t(u,n){return u>n}function r(u,n){return u>=n}U.sorterAsc=function(u,n){return u-n},U.sorterDes=function(u,n){return n-u},U.distinctVals=function(u){var n=u.slice();n.sort(U.sorterAsc);var s;for(s=n.length-1;s>-1&&n[s]===L;s--);for(var f=n[s]-n[0]||1,l=f/(s||1)/1e4,x=[],c,b=0;b<=s;b++){var h=n[b],o=h-c;c===void 0?(x.push(h),c=h):o>l&&(f=Math.min(f,o),x.push(h),c=h)}return{vals:x,minDiff:f}},U.roundUp=function(u,n,s){for(var f=0,l=n.length-1,x,c=0,b=s?0:1,h=s?1:0,o=s?Math.ceil:Math.floor;f<l&&c++<100;)x=o((f+l)/2),n[x]<=u?f=x+b:l=x-h;return n[f]},U.sort=function(u,n){for(var s=0,f=0,l=1;l<u.length;l++){var x=n(u[l],u[l-1]);if(x<0?s=1:x>0&&(f=1),s&&f)return u.sort(n)}return f?u:u.reverse()},U.findIndexOfMin=function(u,n){n=n||a;for(var s=1/0,f,l=0;l<u.length;l++){var x=n(u[l]);x<s&&(s=x,f=l)}return f}},6964:function(H){H.exports=function(e,g){(e.attr("class")||"").split(" ").forEach(function(P){P.indexOf("cursor-")===0&&e.classed(P,!1)}),g&&e.classed("cursor-"+g,!0)}},58617:function(H,U,e){var g=e(7901),P=function(){};H.exports=function(L){for(var T in L)typeof L[T]=="function"&&(L[T]=P);L.destroy=function(){L.container.parentNode.removeChild(L.container)};var v=document.createElement("div");v.className="no-webgl",v.style.cursor="pointer",v.style.fontSize="24px",v.style.color=g.defaults[0],v.style.position="absolute",v.style.left=v.style.top="0px",v.style.width=v.style.height="100%",v.style["background-color"]=g.lightLine,v.style["z-index"]=30;var d=document.createElement("p");return d.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",d.style.position="relative",d.style.top="50%",d.style.left="50%",d.style.height="30%",d.style.width="50%",d.style.margin="-15% 0 0 -25%",v.appendChild(d),L.container.appendChild(v),L.container.style.background="#FFFFFF",L.container.onclick=function(){window.open("https://get.webgl.org")},!1}},78607:function(H){H.exports=function(e){return Object.keys(e).sort()}},80038:function(H,U,e){var g=e(92770),P=e(73627).isArrayOrTypedArray;U.aggNums=function(a,L,T,v){var d,t;if((!v||v>T.length)&&(v=T.length),g(L)||(L=!1),P(T[0])){for(t=new Array(v),d=0;d<v;d++)t[d]=U.aggNums(a,L,T[d]);T=t}for(d=0;d<v;d++)g(L)?g(T[d])&&(L=a(+L,+T[d])):L=T[d];return L},U.len=function(a){return U.aggNums(function(L){return L+1},0,a)},U.mean=function(a,L){return L||(L=U.len(a)),U.aggNums(function(T,v){return T+v},0,a)/L},U.midRange=function(a){if(!(a===void 0||a.length===0))return(U.aggNums(Math.max,null,a)+U.aggNums(Math.min,null,a))/2},U.variance=function(a,L,T){return L||(L=U.len(a)),g(T)||(T=U.mean(a,L)),U.aggNums(function(v,d){return v+Math.pow(d-T,2)},0,a)/L},U.stdev=function(a,L,T){return Math.sqrt(U.variance(a,L,T))},U.median=function(a){var L=a.slice().sort();return U.interp(L,.5)},U.interp=function(a,L){if(!g(L))throw"n should be a finite number";if(L=L*a.length-.5,L<0)return a[0];if(L>a.length-1)return a[a.length-1];var T=L%1;return T*a[Math.ceil(L)]+(1-T)*a[Math.floor(L)]}},78614:function(H,U,e){var g=e(25075);function P(a){return a?g(a):[0,0,0,1]}H.exports=P},3883:function(H,U,e){var g=e(32396),P=e(91424),a=e(71828),L=null;function T(){if(L!==null)return L;L=!1;var v=a.isIE()||a.isSafari()||a.isIOS();if(window.navigator.userAgent&&!v){var d=Array.from(g.CSS_DECLARATIONS).reverse(),t=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof t=="function")L=d.some(function(s){return t.apply(null,s)});else{var r=P.tester.append("image").attr("style",g.STYLE),u=window.getComputedStyle(r.node()),n=u.imageRendering;L=d.some(function(s){var f=s[1];return n===f||n===f.toLowerCase()}),r.remove()}}return L}H.exports=T},63893:function(H,U,e){var g=e(39898),P=e(71828),a=P.strTranslate,L=e(77922),T=e(18783).LINE_SPACING,v=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;U.convertToTspans=function(z,F,B){var G=z.text(),Q=!z.attr("data-notex")&&F&&F._context.typesetMath&&typeof MathJax<"u"&&G.match(v),ee=g.select(z.node().parentNode);if(ee.empty())return;var ae=z.attr("class")?z.attr("class").split(" ")[0]:"text";ae+="-math",ee.selectAll("svg."+ae).remove(),ee.selectAll("g."+ae+"-group").remove(),z.style("display",null).attr({"data-unformatted":G,"data-math":"N"});function fe(){ee.empty()||(ae=z.attr("class")+"-math",ee.select("svg."+ae).remove()),z.text("").style("white-space","pre");var K=I(z.node(),G);K&&z.style("pointer-events","all"),U.positionText(z),B&&B.call(z)}return Q?(F&&F._promises||[]).push(new Promise(function(K){z.style("display","none");var W=parseInt(z.node().style.fontSize,10),Z={fontSize:W};n(Q[2],Z,function(X,$,ie){ee.selectAll("svg."+ae).remove(),ee.selectAll("g."+ae+"-group").remove();var J=X&&X.select("svg");if(!J||!J.node()){fe(),K();return}var j=ee.append("g").classed(ae+"-group",!0).attr({"pointer-events":"none","data-unformatted":G,"data-math":"Y"});j.node().appendChild(J.node()),$&&$.node()&&J.node().insertBefore($.node().cloneNode(!0),J.node().firstChild);var se=ie.width,ne=ie.height;J.attr({class:ae,height:ne,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var ue=z.node().style.fill||"black",ge=J.select("g");ge.attr({fill:ue,stroke:ue});var we=ge.node().getBoundingClientRect(),xe=we.width,Fe=we.height;(xe>se||Fe>ne)&&(J.style("overflow","hidden"),we=J.node().getBoundingClientRect(),xe=we.width,Fe=we.height);var ze=+z.attr("x"),Te=+z.attr("y"),ye=W||z.node().getBoundingClientRect().height,Ae=-ye/4;if(ae[0]==="y")j.attr({transform:"rotate("+[-90,ze,Te]+")"+a(-xe/2,Ae-Fe/2)});else if(ae[0]==="l")Te=Ae-Fe/2;else if(ae[0]==="a"&&ae.indexOf("atitle")!==0)ze=0,Te=Ae;else{var Ne=z.attr("text-anchor");ze=ze-xe*(Ne==="middle"?.5:Ne==="end"?1:0),Te=Te+Ae-Fe/2}J.attr({x:ze,y:Te}),B&&B.call(z,j),K(j)})})):fe(),z};var d=/(<|&lt;|&#60;)/g,t=/(>|&gt;|&#62;)/g;function r(z){return z.replace(d,"\\lt ").replace(t,"\\gt ")}var u=[["$","$"],["\\(","\\)"]];function n(z,F,B){var G=parseInt((MathJax.version||"").split(".")[0]);if(G!==2&&G!==3){P.warn("No MathJax version:",MathJax.version);return}var Q,ee,ae,fe,K=function(){return ee=P.extendDeepAll({},MathJax.Hub.config),ae=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:u},displayAlign:"left"})},W=function(){ee=P.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=u},Z=function(){if(Q=MathJax.Hub.config.menuSettings.renderer,Q!=="SVG")return MathJax.Hub.setRenderer("SVG")},X=function(){Q=MathJax.config.startup.output,Q!=="svg"&&(MathJax.config.startup.output="svg")},$=function(){var ue="math-output-"+P.randstr({},64);fe=g.select("body").append("div").attr({id:ue}).style({visibility:"hidden",position:"absolute","font-size":F.fontSize+"px"}).text(r(z));var ge=fe.node();return G===2?MathJax.Hub.Typeset(ge):MathJax.typeset([ge])},ie=function(){var ue=fe.select(G===2?".MathJax_SVG":".MathJax"),ge=!ue.empty()&&fe.select("svg").node();if(!ge)P.log("There was an error in the tex syntax.",z),B();else{var we=ge.getBoundingClientRect(),xe;G===2?xe=g.select("body").select("#MathJax_SVG_glyphs"):xe=ue.select("defs"),B(ue,xe,we)}fe.remove()},J=function(){if(Q!=="SVG")return MathJax.Hub.setRenderer(Q)},j=function(){Q!=="svg"&&(MathJax.config.startup.output=Q)},se=function(){return ae!==void 0&&(MathJax.Hub.processSectionDelay=ae),MathJax.Hub.Config(ee)},ne=function(){MathJax.config=ee};G===2?MathJax.Hub.Queue(K,Z,$,ie,J,se):G===3&&(W(),X(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){$(),ie(),j(),ne()}))}var s={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},f={sub:"0.3em",sup:"-0.6em"},l={sub:"-0.21em",sup:"0.42em"},x="​",c=["http:","https:","mailto:","",void 0,":"],b=U.NEWLINES=/(\r\n?|\n)/g,h=/(<[^<>]*>)/,o=/<(\/?)([^ >]*)(\s+(.*))?>/i,p=/<br(\s+.*)?>/i;U.BR_TAG_ALL=/<br(\s+.*)?>/gi;var S=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,A=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,E=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,m=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function M(z,F){if(!z)return null;var B=z.match(F),G=B&&(B[3]||B[4]);return G&&y(G)}var w=/(^|;)\s*color:/;U.plainText=function(z,F){F=F||{};for(var B=F.len!==void 0&&F.len!==-1?F.len:1/0,G=F.allowedTags!==void 0?F.allowedTags:["br"],Q="...",ee=Q.length,ae=z.split(h),fe=[],K="",W=0,Z=0;Z<ae.length;Z++){var X=ae[Z],$=X.match(o),ie=$&&$[2].toLowerCase();if(ie)G.indexOf(ie)!==-1&&(fe.push(X),K=ie);else{var J=X.length;if(W+J<B)fe.push(X),W+=J;else if(W<B){var j=B-W;K&&(K!=="br"||j<=ee||J<=ee)&&fe.pop(),B>ee?fe.push(X.substr(0,j-ee)+Q):fe.push(X.substr(0,j));break}K=""}}return fe.join("")};var i={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},C=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function y(z){return z.replace(C,function(F,B){var G;return B.charAt(0)==="#"?G=_(B.charAt(1)==="x"?parseInt(B.substr(2),16):parseInt(B.substr(1),10)):G=i[B],G||F})}U.convertEntities=y;function _(z){if(!(z>1114111)){var F=String.fromCodePoint;if(F)return F(z);var B=String.fromCharCode;return z<=65535?B(z):B((z>>10)+55232,z%1024+56320)}}function I(z,F){F=F.replace(b," ");var B=!1,G=[],Q,ee=-1;function ae(){ee++;var Fe=document.createElementNS(L.svg,"tspan");g.select(Fe).attr({class:"line",dy:ee*T+"em"}),z.appendChild(Fe),Q=Fe;var ze=G;if(G=[{node:Fe}],ze.length>1)for(var Te=1;Te<ze.length;Te++)fe(ze[Te])}function fe(Fe){var ze=Fe.type,Te={},ye;if(ze==="a"){ye="a";var Ae=Fe.target,Ne=Fe.href,Ue=Fe.popup;Ne&&(Te={"xlink:xlink:show":Ae==="_blank"||Ae.charAt(0)!=="_"?"new":"replace",target:Ae,"xlink:xlink:href":Ne},Ue&&(Te.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Ue+'");return false;'))}else ye="tspan";Fe.style&&(Te.style=Fe.style);var Re=document.createElementNS(L.svg,ye);if(ze==="sup"||ze==="sub"){K(Q,x),Q.appendChild(Re);var Ve=document.createElementNS(L.svg,"tspan");K(Ve,x),g.select(Ve).attr("dy",l[ze]),Te.dy=f[ze],Q.appendChild(Re),Q.appendChild(Ve)}else Q.appendChild(Re);g.select(Re).attr(Te),Q=Fe.node=Re,G.push(Fe)}function K(Fe,ze){Fe.appendChild(document.createTextNode(ze))}function W(Fe){if(G.length===1){P.log("Ignoring unexpected end tag </"+Fe+">.",F);return}var ze=G.pop();Fe!==ze.type&&P.log("Start tag <"+ze.type+"> doesnt match end tag <"+Fe+">. Pretending it did match.",F),Q=G[G.length-1].node}var Z=p.test(F);Z?ae():(Q=z,G=[{node:z}]);for(var X=F.split(h),$=0;$<X.length;$++){var ie=X[$],J=ie.match(o),j=J&&J[2].toLowerCase(),se=s[j];if(j==="br")ae();else if(se===void 0)K(Q,y(ie));else if(J[1])W(j);else{var ne=J[4],ue={type:j},ge=M(ne,S);if(ge?(ge=ge.replace(w,"$1 fill:"),se&&(ge+=";"+se)):se&&(ge=se),ge&&(ue.style=ge),j==="a"){B=!0;var we=M(ne,A);if(we){var xe=N(we);xe&&(ue.href=xe,ue.target=M(ne,E)||"_blank",ue.popup=M(ne,m))}}fe(ue)}}return B}function N(z){var F=encodeURI(decodeURI(z)),B=document.createElement("a"),G=document.createElement("a");B.href=z,G.href=F;var Q=B.protocol,ee=G.protocol;return c.indexOf(Q)!==-1&&c.indexOf(ee)!==-1?F:""}U.sanitizeHTML=function(F){F=F.replace(b," ");for(var B=document.createElement("p"),G=B,Q=[],ee=F.split(h),ae=0;ae<ee.length;ae++){var fe=ee[ae],K=fe.match(o),W=K&&K[2].toLowerCase();if(W in s)if(K[1])Q.length&&(G=Q.pop());else{var Z=K[4],X=M(Z,S),$=X?{style:X}:{};if(W==="a"){var ie=M(Z,A);if(ie){var J=N(ie);if(J){$.href=J;var j=M(Z,E);j&&($.target=j)}}}var se=document.createElement(W);G.appendChild(se),g.select(se).attr($),G=se,Q.push(se)}else G.appendChild(document.createTextNode(y(fe)))}var ne="innerHTML";return B[ne]},U.lineCount=function(F){return F.selectAll("tspan.line").size()||1},U.positionText=function(F,B,G){return F.each(function(){var Q=g.select(this);function ee(K,W){return W===void 0?(W=Q.attr(K),W===null&&(Q.attr(K,0),W=0)):Q.attr(K,W),W}var ae=ee("x",B),fe=ee("y",G);this.nodeName==="text"&&Q.selectAll("tspan.line").attr({x:ae,y:fe})})};function k(z,F,B){var G=B.horizontalAlign,Q=B.verticalAlign||"top",ee=z.node().getBoundingClientRect(),ae=F.node().getBoundingClientRect(),fe,K,W;return Q==="bottom"?K=function(){return ee.bottom-fe.height}:Q==="middle"?K=function(){return ee.top+(ee.height-fe.height)/2}:K=function(){return ee.top},G==="right"?W=function(){return ee.right-fe.width}:G==="center"?W=function(){return ee.left+(ee.width-fe.width)/2}:W=function(){return ee.left},function(){fe=this.node().getBoundingClientRect();var Z=W()-ae.left,X=K()-ae.top,$=B.gd||{};if(B.gd){$._fullLayout._calcInverseTransform($);var ie=P.apply3DTransform($._fullLayout._invTransform)(Z,X);Z=ie[0],X=ie[1]}return this.style({top:X+"px",left:Z+"px","z-index":1e3}),this}}var O="1px ";U.makeTextShadow=function(z){var F=O,B=O,G=O;return F+B+G+z+", -"+F+"-"+B+G+z+", "+F+"-"+B+G+z+", -"+F+B+G+z},U.makeEditable=function(z,F){var B=F.gd,G=F.delegate,Q=g.dispatch("edit","input","cancel"),ee=G||z;if(z.style({"pointer-events":G?"none":"all"}),z.size()!==1)throw new Error("boo");function ae(){K(),z.style({opacity:0});var W=ee.attr("class"),Z;W?Z="."+W.split(" ")[0]+"-math-group":Z="[class*=-math-group]",Z&&g.select(z.node().parentNode).select(Z).style({opacity:0})}function fe(W){var Z=W.node(),X=document.createRange();X.selectNodeContents(Z);var $=window.getSelection();$.removeAllRanges(),$.addRange(X),Z.focus()}function K(){var W=g.select(B),Z=W.select(".svg-container"),X=Z.append("div"),$=z.node().style,ie=parseFloat($.fontSize||12),J=F.text;J===void 0&&(J=z.attr("data-unformatted")),X.classed("plugin-editable editable",!0).style({position:"absolute","font-family":$.fontFamily||"Arial","font-size":ie,color:F.fill||$.fill||"black",opacity:1,"background-color":F.background||"transparent",outline:"#ffffff33 1px solid",margin:[-ie/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(J).call(k(z,Z,F)).on("blur",function(){B._editing=!1,z.text(this.textContent).style({opacity:1});var j=g.select(this).attr("class"),se;j?se="."+j.split(" ")[0]+"-math-group":se="[class*=-math-group]",se&&g.select(z.node().parentNode).select(se).style({opacity:0});var ne=this.textContent;g.select(this).transition().duration(0).remove(),g.select(document).on("mouseup",null),Q.edit.call(z,ne)}).on("focus",function(){var j=this;B._editing=!0,g.select(document).on("mouseup",function(){if(g.event.target===j)return!1;document.activeElement===X.node()&&X.node().blur()})}).on("keyup",function(){g.event.which===27?(B._editing=!1,z.style({opacity:1}),g.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),Q.cancel.call(z,this.textContent)):(Q.input.call(z,this.textContent),g.select(this).call(k(z,Z,F)))}).on("keydown",function(){g.event.which===13&&this.blur()}).call(fe)}return F.immediate?ae():ee.on("click",ae),g.rebind(z,Q,"on")}},79990:function(H,U){var e={};U.throttle=function(a,L,T){var v=e[a],d=Date.now();if(!v){for(var t in e)e[t].ts<d-6e4&&delete e[t];v=e[a]={ts:0,timer:null}}g(v);function r(){T(),v.ts=Date.now(),v.onDone&&(v.onDone(),v.onDone=null)}if(d>v.ts+L){r();return}v.timer=setTimeout(function(){r(),v.timer=null},L)},U.done=function(P){var a=e[P];return!a||!a.timer?Promise.resolve():new Promise(function(L){var T=a.onDone;a.onDone=function(){T&&T(),L(),a.onDone=null}})},U.clear=function(P){if(P)g(e[P]),delete e[P];else for(var a in e)U.clear(a)};function g(P){P&&P.timer!==null&&(clearTimeout(P.timer),P.timer=null)}},58163:function(H,U,e){var g=e(92770);H.exports=function(a,L){if(a>0)return Math.log(a)/Math.LN10;var T=Math.log(Math.min(L[0],L[1]))/Math.LN10;return g(T)||(T=Math.log(Math.max(L[0],L[1]))/Math.LN10-6),T}},90973:function(H,U,e){var g=H.exports={},P=e(78776).locationmodeToLayer,a=e(96892).zL;g.getTopojsonName=function(L){return[L.scope.replace(/ /g,"-"),"_",L.resolution.toString(),"m"].join("")},g.getTopojsonPath=function(L,T){return L+T+".json"},g.getTopojsonFeatures=function(L,T){var v=P[L.locationmode],d=T.objects[v];return a(T,d).features}},37815:function(H){H.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},92177:function(H){H.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},14458:function(H,U,e){var g=e(73972);H.exports=function(a){for(var L=g.layoutArrayContainers,T=g.layoutArrayRegexes,v=a.split("[")[0],d,t,r=0;r<T.length;r++)if(t=a.match(T[r]),t&&t.index===0){d=t[0];break}if(d||(d=L[L.indexOf(v)]),!d)return!1;var u=a.substr(d.length);return u?(t=u.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),t?{array:d,index:Number(t[1]),property:t[3]||""}:!1):{array:d,index:"",property:""}}},30962:function(H,U,e){var g=e(1426).extendFlat,P=e(41965),a={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},L={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},T=a.flags.slice().concat(["fullReplot"]),v=L.flags.slice().concat("layoutReplot");H.exports={traces:a,layout:L,traceFlags:function(){return d(T)},layoutFlags:function(){return d(v)},update:function(u,n){var s=n.editType;if(s&&s!=="none")for(var f=s.split("+"),l=0;l<f.length;l++)u[f[l]]=!0},overrideAll:t};function d(u){for(var n={},s=0;s<u.length;s++)n[u[s]]=!1;return n}function t(u,n,s){var f=g({},u);for(var l in f){var x=f[l];P(x)&&(f[l]=r(x,n,s,l))}return s==="from-root"&&(f.editType=n),f}function r(u,n,s,f){if(u.valType){var l=g({},u);if(l.editType=n,Array.isArray(u.items)){l.items=new Array(u.items.length);for(var x=0;x<u.items.length;x++)l.items[x]=r(u.items[x],n)}return l}else return t(u,n,f.charAt(0)==="_"?"nested":"from-root")}},58377:function(H,U,e){var g=e(92770),P=e(27812),a=e(73972),L=e(71828),T=e(74875),v=e(41675),d=e(7901),t=v.cleanId,r=v.getFromTrace,u=a.traceIs;U.clearPromiseQueue=function(p){Array.isArray(p._promises)&&p._promises.length>0&&L.log("Clearing previous rejected promises from queue."),p._promises=[]},U.cleanLayout=function(p){var S,A;p||(p={}),p.xaxis1&&(p.xaxis||(p.xaxis=p.xaxis1),delete p.xaxis1),p.yaxis1&&(p.yaxis||(p.yaxis=p.yaxis1),delete p.yaxis1),p.scene1&&(p.scene||(p.scene=p.scene1),delete p.scene1);var E=(T.subplotsRegistry.cartesian||{}).attrRegex,m=(T.subplotsRegistry.polar||{}).attrRegex,M=(T.subplotsRegistry.ternary||{}).attrRegex,w=(T.subplotsRegistry.gl3d||{}).attrRegex,i=Object.keys(p);for(S=0;S<i.length;S++){var C=i[S];if(E&&E.test(C)){var y=p[C];y.anchor&&y.anchor!=="free"&&(y.anchor=t(y.anchor)),y.overlaying&&(y.overlaying=t(y.overlaying)),y.type||(y.isdate?y.type="date":y.islog?y.type="log":y.isdate===!1&&y.islog===!1&&(y.type="linear")),(y.autorange==="withzero"||y.autorange==="tozero")&&(y.autorange=!0,y.rangemode="tozero"),delete y.islog,delete y.isdate,delete y.categories,c(y,"domain")&&delete y.domain,y.autotick!==void 0&&(y.tickmode===void 0&&(y.tickmode=y.autotick?"auto":"linear"),delete y.autotick),s(y)}else if(m&&m.test(C)){var _=p[C];s(_.radialaxis)}else if(M&&M.test(C)){var I=p[C];s(I.aaxis),s(I.baxis),s(I.caxis)}else if(w&&w.test(C)){var N=p[C],k=N.cameraposition;if(Array.isArray(k)&&k[0].length===4){var O=k[0],z=k[1],F=k[2],B=P([],O),G=[];for(A=0;A<3;++A)G[A]=z[A]+F*B[2+4*A];N.camera={eye:{x:G[0],y:G[1],z:G[2]},center:{x:z[0],y:z[1],z:z[2]},up:{x:0,y:0,z:1}},delete N.cameraposition}s(N.xaxis),s(N.yaxis),s(N.zaxis)}}var Q=Array.isArray(p.annotations)?p.annotations.length:0;for(S=0;S<Q;S++){var ee=p.annotations[S];L.isPlainObject(ee)&&(ee.ref&&(ee.ref==="paper"?(ee.xref="paper",ee.yref="paper"):ee.ref==="data"&&(ee.xref="x",ee.yref="y"),delete ee.ref),n(ee,"xref"),n(ee,"yref"))}var ae=Array.isArray(p.shapes)?p.shapes.length:0;for(S=0;S<ae;S++){var fe=p.shapes[S];L.isPlainObject(fe)&&(n(fe,"xref"),n(fe,"yref"))}var K=Array.isArray(p.images)?p.images.length:0;for(S=0;S<K;S++){var W=p.images[S];L.isPlainObject(W)&&(n(W,"xref"),n(W,"yref"))}var Z=p.legend;return Z&&(Z.x>3?(Z.x=1.02,Z.xanchor="left"):Z.x<-2&&(Z.x=-.02,Z.xanchor="right"),Z.y>3?(Z.y=1.02,Z.yanchor="bottom"):Z.y<-2&&(Z.y=-.02,Z.yanchor="top")),s(p),p.dragmode==="rotate"&&(p.dragmode="orbit"),d.clean(p),p.template&&p.template.layout&&U.cleanLayout(p.template.layout),p};function n(p,S){var A=p[S],E=S.charAt(0);A&&A!=="paper"&&(p[S]=t(A,E,!0))}function s(p){p&&((typeof p.title=="string"||typeof p.title=="number")&&(p.title={text:p.title}),S("titlefont","font"),S("titleposition","position"),S("titleside","side"),S("titleoffset","offset"));function S(A,E){var m=p[A],M=p.title&&p.title[E];m&&!M&&(p.title||(p.title={}),p.title[E]=p[A],delete p[A])}}U.cleanData=function(p){for(var S=0;S<p.length;S++){var A=p[S],E;if(A.type==="histogramy"&&"xbins"in A&&!("ybins"in A)&&(A.ybins=A.xbins,delete A.xbins),A.error_y&&"opacity"in A.error_y){var m=d.defaults,M=A.error_y.color||(u(A,"bar")?d.defaultLine:m[S%m.length]);A.error_y.color=d.addOpacity(d.rgb(M),d.opacity(M)*A.error_y.opacity),delete A.error_y.opacity}if("bardir"in A&&(A.bardir==="h"&&(u(A,"bar")||A.type.substr(0,9)==="histogram")&&(A.orientation="h",U.swapXYData(A)),delete A.bardir),A.type==="histogramy"&&U.swapXYData(A),(A.type==="histogramx"||A.type==="histogramy")&&(A.type="histogram"),"scl"in A&&!("colorscale"in A)&&(A.colorscale=A.scl,delete A.scl),"reversescl"in A&&!("reversescale"in A)&&(A.reversescale=A.reversescl,delete A.reversescl),A.xaxis&&(A.xaxis=t(A.xaxis,"x")),A.yaxis&&(A.yaxis=t(A.yaxis,"y")),u(A,"gl3d")&&A.scene&&(A.scene=T.subplotsRegistry.gl3d.cleanId(A.scene)),!u(A,"pie-like")&&!u(A,"bar-like"))if(Array.isArray(A.textposition))for(E=0;E<A.textposition.length;E++)A.textposition[E]=x(A.textposition[E]);else A.textposition&&(A.textposition=x(A.textposition));var w=a.getModule(A);if(w&&w.colorbar){var i=w.colorbar.container,C=i?A[i]:A;C&&C.colorscale&&(C.colorscale==="YIGnBu"&&(C.colorscale="YlGnBu"),C.colorscale==="YIOrRd"&&(C.colorscale="YlOrRd"))}if(A.type==="surface"&&L.isPlainObject(A.contours)){var y=["x","y","z"];for(E=0;E<y.length;E++){var _=A.contours[y[E]];L.isPlainObject(_)&&(_.highlightColor&&(_.highlightcolor=_.highlightColor,delete _.highlightColor),_.highlightWidth&&(_.highlightwidth=_.highlightWidth,delete _.highlightWidth))}}if(A.type==="candlestick"||A.type==="ohlc"){var I=(A.increasing||{}).showlegend!==!1,N=(A.decreasing||{}).showlegend!==!1,k=f(A.increasing),O=f(A.decreasing);if(k!==!1&&O!==!1){var z=l(k,O,I,N);z&&(A.name=z)}else(k||O)&&!A.name&&(A.name=k||O)}if(Array.isArray(A.transforms)){var F=A.transforms;for(E=0;E<F.length;E++){var B=F[E];if(L.isPlainObject(B))switch(B.type){case"filter":B.filtersrc&&(B.target=B.filtersrc,delete B.filtersrc),B.calendar&&(B.valuecalendar||(B.valuecalendar=B.calendar),delete B.calendar);break;case"groupby":if(B.styles=B.styles||B.style,B.styles&&!Array.isArray(B.styles)){var G=B.styles,Q=Object.keys(G);B.styles=[];for(var ee=0;ee<Q.length;ee++)B.styles.push({target:Q[ee],value:G[Q[ee]]})}break}}}c(A,"line")&&delete A.line,"marker"in A&&(c(A.marker,"line")&&delete A.marker.line,c(A,"marker")&&delete A.marker),d.clean(A),A.autobinx&&(delete A.autobinx,delete A.xbins),A.autobiny&&(delete A.autobiny,delete A.ybins),s(A),A.colorbar&&s(A.colorbar),A.marker&&A.marker.colorbar&&s(A.marker.colorbar),A.line&&A.line.colorbar&&s(A.line.colorbar),A.aaxis&&s(A.aaxis),A.baxis&&s(A.baxis)}};function f(p){if(!L.isPlainObject(p))return!1;var S=p.name;return delete p.name,delete p.showlegend,(typeof S=="string"||typeof S=="number")&&String(S)}function l(p,S,A,E){if(A&&!E)return p;if(E&&!A||!p.trim())return S;if(!S.trim())return p;var m=Math.min(p.length,S.length),M;for(M=0;M<m&&p.charAt(M)===S.charAt(M);M++);var w=p.substr(0,M);return w.trim()}function x(p){var S="middle",A="center";return typeof p=="string"&&(p.indexOf("top")!==-1?S="top":p.indexOf("bottom")!==-1&&(S="bottom"),p.indexOf("left")!==-1?A="left":p.indexOf("right")!==-1&&(A="right")),S+" "+A}function c(p,S){return S in p&&typeof p[S]=="object"&&Object.keys(p[S]).length===0}U.swapXYData=function(p){var S;if(L.swapAttrs(p,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(p.z)&&Array.isArray(p.z[0])&&(p.transpose?delete p.transpose:p.transpose=!0),p.error_x&&p.error_y){var A=p.error_y,E="copy_ystyle"in A?A.copy_ystyle:!(A.color||A.thickness||A.width);L.swapAttrs(p,["error_?.copy_ystyle"]),E&&L.swapAttrs(p,["error_?.color","error_?.thickness","error_?.width"])}if(typeof p.hoverinfo=="string"){var m=p.hoverinfo.split("+");for(S=0;S<m.length;S++)m[S]==="x"?m[S]="y":m[S]==="y"&&(m[S]="x");p.hoverinfo=m.join("+")}},U.coerceTraceIndices=function(p,S){if(g(S))return[S];if(!Array.isArray(S)||!S.length)return p.data.map(function(m,M){return M});if(Array.isArray(S)){for(var A=[],E=0;E<S.length;E++)L.isIndex(S[E],p.data.length)?A.push(S[E]):L.warn("trace index (",S[E],") is not a number or is out of bounds");return A}return S},U.manageArrayContainers=function(p,S,A){var E=p.obj,m=p.parts,M=m.length,w=m[M-1],i=g(w);if(i&&S===null){var C=m.slice(0,M-1).join("."),y=L.nestedProperty(E,C).get();y.splice(w,1)}else i&&p.get()===void 0&&p.get()===void 0&&(A[p.astr]=null),p.set(S)};var b=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function h(p){var S=p.search(b);if(S>0)return p.substr(0,S)}U.hasParent=function(p,S){for(var A=h(S);A;){if(A in p)return!0;A=h(A)}return!1};var o=["x","y","z"];U.clearAxisTypes=function(p,S,A){for(var E=0;E<S.length;E++)for(var m=p._fullData[E],M=0;M<3;M++){var w=r(p,m,o[M]);if(w&&w.type!=="log"){var i=w._name,C=w._id.substr(1);if(C.substr(0,5)==="scene"){if(A[C]!==void 0)continue;i=C+"."+i}var y=i+".type";A[i]===void 0&&A[y]===void 0&&L.nestedProperty(p.layout,y).set(null)}}}},10641:function(H,U,e){var g=e(72391);U._doPlot=g._doPlot,U.newPlot=g.newPlot,U.restyle=g.restyle,U.relayout=g.relayout,U.redraw=g.redraw,U.update=g.update,U._guiRestyle=g._guiRestyle,U._guiRelayout=g._guiRelayout,U._guiUpdate=g._guiUpdate,U._storeDirectGUIEdit=g._storeDirectGUIEdit,U.react=g.react,U.extendTraces=g.extendTraces,U.prependTraces=g.prependTraces,U.addTraces=g.addTraces,U.deleteTraces=g.deleteTraces,U.moveTraces=g.moveTraces,U.purge=g.purge,U.addFrames=g.addFrames,U.deleteFrames=g.deleteFrames,U.animate=g.animate,U.setPlotConfig=g.setPlotConfig;var P=e(24401).getGraphDiv,a=e(34031).eraseActiveShape;U.deleteActiveShape=function(T){return a(P(T))},U.toImage=e(403),U.validate=e(84936),U.downloadImage=e(7239);var L=e(96318);U.makeTemplate=L.makeTemplate,U.validateTemplate=L.validateTemplate},6611:function(H,U,e){var g=e(41965),P=e(64213),a=e(47769),L=e(65888).sorterAsc,T=e(73972);U.containerArrayMatch=e(14458);var v=U.isAddVal=function(r){return r==="add"||g(r)},d=U.isRemoveVal=function(r){return r===null||r==="remove"};U.applyContainerArrayChanges=function(r,u,n,s,f){var l=u.astr,x=T.getComponentMethod(l,"supplyLayoutDefaults"),c=T.getComponentMethod(l,"draw"),b=T.getComponentMethod(l,"drawOne"),h=s.replot||s.recalc||x===P||c===P,o=r.layout,p=r._fullLayout;if(n[""]){Object.keys(n).length>1&&a.warn("Full array edits are incompatible with other edits",l);var S=n[""][""];if(d(S))u.set(null);else if(Array.isArray(S))u.set(S);else return a.warn("Unrecognized full array edit value",l,S),!0;return h?!1:(x(o,p),c(r),!0)}var A=Object.keys(n).map(Number).sort(L),E=u.get(),m=E||[],M=f(p,l).get(),w=[],i=-1,C=m.length,y,_,I,N,k,O,z,F;for(y=0;y<A.length;y++){if(I=A[y],N=n[I],k=Object.keys(N),O=N[""],z=v(O),I<0||I>m.length-(z?0:1)){a.warn("index out of range",l,I);continue}if(O!==void 0)k.length>1&&a.warn("Insertion & removal are incompatible with edits to the same index.",l,I),d(O)?w.push(I):z?(O==="add"&&(O={}),m.splice(I,0,O),M&&M.splice(I,0,{})):a.warn("Unrecognized full object edit value",l,I,O),i===-1&&(i=I);else for(_=0;_<k.length;_++)F=l+"["+I+"].",f(m[I],k[_],F).set(N[k[_]])}for(y=w.length-1;y>=0;y--)m.splice(w[y],1),M&&M.splice(w[y],1);if(m.length?E||u.set(m):u.set(null),h)return!1;if(x(o,p),b!==P){var B;if(i===-1)B=A;else{for(C=Math.max(m.length,C),B=[],y=0;y<A.length&&(I=A[y],!(I>=i));y++)B.push(I);for(y=i;y<C;y++)B.push(y)}for(y=0;y<B.length;y++)b(r,B[y])}else c(r);return!0}},72391:function(H,U,e){var g=e(39898),P=e(92770),a=e(57035),L=e(71828),T=L.nestedProperty,v=e(11086),d=e(10847),t=e(73972),r=e(86281),u=e(74875),n=e(89298),s=e(91424),f=e(7901),l=e(4305).initInteractions,x=e(77922),c=e(47322).clearOutline,b=e(72075).dfltConfig,h=e(6611),o=e(58377),p=e(61549),S=e(30962),A=e(85555).AX_NAME_PATTERN,E=0,m=5;function M(oe,pe,Me,_e){var tt;if(oe=L.getGraphDiv(oe),v.init(oe),L.isPlainObject(pe)){var at=pe;pe=at.data,Me=at.layout,_e=at.config,tt=at.frames}var At=v.triggerHandler(oe,"plotly_beforeplot",[pe,Me,_e]);if(At===!1)return Promise.reject();!pe&&!Me&&!L.isPlotDiv(oe)&&L.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",oe);function Ft(){if(tt)return U.addFrames(oe,tt)}_(oe,_e),Me||(Me={}),g.select(oe).classed("js-plotly-plot",!0),s.makeTester(),Array.isArray(oe._promises)||(oe._promises=[]);var Gt=(oe.data||[]).length===0&&Array.isArray(pe);Array.isArray(pe)&&(o.cleanData(pe),Gt?oe.data=pe:oe.data.push.apply(oe.data,pe),oe.empty=!1),(!oe.layout||Gt)&&(oe.layout=o.cleanLayout(Me)),u.supplyDefaults(oe);var Yt=oe._fullLayout,Dt=Yt._has("cartesian");Yt._replotting=!0,(Gt||Yt._shouldCreateBgLayer)&&(me(oe),Yt._shouldCreateBgLayer&&delete Yt._shouldCreateBgLayer),s.initGradients(oe),s.initPatterns(oe),Gt&&n.saveShowSpikeInitial(oe);var $t=!oe.calcdata||oe.calcdata.length!==(oe._fullData||[]).length;$t&&u.doCalcdata(oe);for(var lr=0;lr<oe.calcdata.length;lr++)oe.calcdata[lr][0].trace=oe._fullData[lr];oe._context.responsive?oe._responsiveChartHandler||(oe._responsiveChartHandler=function(){L.isHidden(oe)||u.resize(oe)},window.addEventListener("resize",oe._responsiveChartHandler)):L.clearResponsive(oe);var Hr=L.extendFlat({},Yt._size),xt=0;function Qt(){for(var Et=Yt._basePlotModules,Bt=0;Bt<Et.length;Bt++)Et[Bt].drawFramework&&Et[Bt].drawFramework(oe);!Yt._glcanvas&&Yt._has("gl")&&(Yt._glcanvas=Yt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(ur){return ur.key}),Yt._glcanvas.enter().append("canvas").attr("class",function(ur){return"gl-canvas gl-canvas-"+ur.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Wt=oe._context.plotGlPixelRatio;if(Yt._glcanvas){Yt._glcanvas.attr("width",Yt.width*Wt).attr("height",Yt.height*Wt).style("width",Yt.width+"px").style("height",Yt.height+"px");var tr=Yt._glcanvas.data()[0].regl;if(tr&&(Math.floor(Yt.width*Wt)!==tr._gl.drawingBufferWidth||Math.floor(Yt.height*Wt)!==tr._gl.drawingBufferHeight)){var er="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(xt)L.error(er);else return L.log(er+" Clearing graph and plotting again."),u.cleanPlot([],{},oe._fullData,Yt),u.supplyDefaults(oe),Yt=oe._fullLayout,u.doCalcdata(oe),xt++,Qt()}}return Yt.modebar.orientation==="h"?Yt._modebardiv.style("height",null).style("width","100%"):Yt._modebardiv.style("width",null).style("height",Yt.height+"px"),u.previousPromises(oe)}function jt(){if(u.clearAutoMarginIds(oe),p.drawMarginPushers(oe),n.allowAutoMargin(oe),oe._fullLayout.title.text&&oe._fullLayout.title.automargin&&u.allowAutoMargin(oe,"title.automargin"),Yt._has("pie"))for(var Et=oe._fullData,Bt=0;Bt<Et.length;Bt++){var Wt=Et[Bt];Wt.type==="pie"&&Wt.automargin&&u.allowAutoMargin(oe,"pie."+Wt.uid+".automargin")}return u.doAutoMargin(oe),u.previousPromises(oe)}function Sr(){if(u.didMarginChange(Hr,Yt._size))return L.syncOrAsync([jt,p.layoutStyles],oe)}function gr(){if(!$t){ut();return}return L.syncOrAsync([t.getComponentMethod("shapes","calcAutorange"),t.getComponentMethod("annotations","calcAutorange"),ut],oe)}function ut(){oe._transitioning||(p.doAutoRangeAndConstraints(oe),Gt&&n.saveRangeInitial(oe),t.getComponentMethod("rangeslider","calcAutorange")(oe))}function st(){return n.draw(oe,Gt?"":"redraw")}var bt=[u.previousPromises,Ft,Qt,jt,Sr];Dt&&bt.push(gr),bt.push(p.layoutStyles),Dt&&bt.push(st,function(Bt){Bt._fullLayout._insideTickLabelsAutorange&&ue(Bt,Bt._fullLayout._insideTickLabelsAutorange).then(function(){Bt._fullLayout._insideTickLabelsAutorange=void 0})}),bt.push(p.drawData,p.finalDraw,l,u.addLinks,u.rehover,u.redrag,u.reselect,u.doAutoMargin,St,u.previousPromises);function St(Et){Et._fullLayout._insideTickLabelsAutorange&&Gt&&n.saveRangeInitial(Et,!0)}var Pt=L.syncOrAsync(bt,oe);return(!Pt||!Pt.then)&&(Pt=Promise.resolve()),Pt.then(function(){return w(oe),oe})}function w(oe){var pe=oe._fullLayout;pe._redrawFromAutoMarginCount?pe._redrawFromAutoMarginCount--:oe.emit("plotly_afterplot")}function i(oe){return L.extendFlat(b,oe)}function C(oe,pe){try{oe._fullLayout._paper.style("background",pe)}catch(Me){L.error(Me)}}function y(oe,pe){var Me=f.combine(pe,"white");C(oe,Me)}function _(oe,pe){if(!oe._context){oe._context=L.extendDeep({},b);var Me=g.select("base");oe._context._baseUrl=Me.size()&&Me.attr("href")?window.location.href.split("#")[0]:""}var _e=oe._context,tt,at,At;if(pe){for(at=Object.keys(pe),tt=0;tt<at.length;tt++)At=at[tt],!(At==="editable"||At==="edits")&&At in _e&&(At==="setBackground"&&pe[At]==="opaque"?_e[At]=y:_e[At]=pe[At]);pe.plot3dPixelRatio&&!_e.plotGlPixelRatio&&(_e.plotGlPixelRatio=_e.plot3dPixelRatio);var Ft=pe.editable;if(Ft!==void 0)for(_e.editable=Ft,at=Object.keys(_e.edits),tt=0;tt<at.length;tt++)_e.edits[at[tt]]=Ft;if(pe.edits)for(at=Object.keys(pe.edits),tt=0;tt<at.length;tt++)At=at[tt],At in _e.edits&&(_e.edits[At]=pe.edits[At]);_e._exportedPlot=pe._exportedPlot}_e.staticPlot&&(_e.editable=!1,_e.edits={},_e.autosizable=!1,_e.scrollZoom=!1,_e.doubleClick=!1,_e.showTips=!1,_e.showLink=!1,_e.displayModeBar=!1),_e.displayModeBar==="hover"&&!a&&(_e.displayModeBar=!0),(_e.setBackground==="transparent"||typeof _e.setBackground!="function")&&(_e.setBackground=C),_e._hasZeroHeight=_e._hasZeroHeight||oe.clientHeight===0,_e._hasZeroWidth=_e._hasZeroWidth||oe.clientWidth===0;var Gt=_e.scrollZoom,Yt=_e._scrollZoom={};if(Gt===!0)Yt.cartesian=1,Yt.gl3d=1,Yt.geo=1,Yt.mapbox=1;else if(typeof Gt=="string"){var Dt=Gt.split("+");for(tt=0;tt<Dt.length;tt++)Yt[Dt[tt]]=1}else Gt!==!1&&(Yt.gl3d=1,Yt.geo=1,Yt.mapbox=1)}function I(oe){if(oe=L.getGraphDiv(oe),!L.isPlotDiv(oe))throw new Error("This element is not a Plotly plot: "+oe);return o.cleanData(oe.data),o.cleanLayout(oe.layout),oe.calcdata=void 0,U._doPlot(oe).then(function(){return oe.emit("plotly_redraw"),oe})}function N(oe,pe,Me,_e){return oe=L.getGraphDiv(oe),u.cleanPlot([],{},oe._fullData||[],oe._fullLayout||{}),u.purge(oe),U._doPlot(oe,pe,Me,_e)}function k(oe,pe){var Me=pe+1,_e=[],tt,at;for(tt=0;tt<oe.length;tt++)at=oe[tt],at<0?_e.push(Me+at):_e.push(at);return _e}function O(oe,pe,Me){var _e,tt;for(_e=0;_e<pe.length;_e++){if(tt=pe[_e],tt!==parseInt(tt,10))throw new Error("all values in "+Me+" must be integers");if(tt>=oe.data.length||tt<-oe.data.length)throw new Error(Me+" must be valid indices for gd.data.");if(pe.indexOf(tt,_e+1)>-1||tt>=0&&pe.indexOf(-oe.data.length+tt)>-1||tt<0&&pe.indexOf(oe.data.length+tt)>-1)throw new Error("each index in "+Me+" must be unique.")}}function z(oe,pe,Me){if(!Array.isArray(oe.data))throw new Error("gd.data must be an array.");if(typeof pe>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(pe)||(pe=[pe]),O(oe,pe,"currentIndices"),typeof Me<"u"&&!Array.isArray(Me)&&(Me=[Me]),typeof Me<"u"&&O(oe,Me,"newIndices"),typeof Me<"u"&&pe.length!==Me.length)throw new Error("current and new indices must be of equal length.")}function F(oe,pe,Me){var _e,tt;if(!Array.isArray(oe.data))throw new Error("gd.data must be an array.");if(typeof pe>"u")throw new Error("traces must be defined.");for(Array.isArray(pe)||(pe=[pe]),_e=0;_e<pe.length;_e++)if(tt=pe[_e],typeof tt!="object"||Array.isArray(tt)||tt===null)throw new Error("all values in traces array must be non-array objects");if(typeof Me<"u"&&!Array.isArray(Me)&&(Me=[Me]),typeof Me<"u"&&Me.length!==pe.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function B(oe,pe,Me,_e){var tt=L.isPlainObject(_e);if(!Array.isArray(oe.data))throw new Error("gd.data must be an array");if(!L.isPlainObject(pe))throw new Error("update must be a key:value object");if(typeof Me>"u")throw new Error("indices must be an integer or array of integers");O(oe,Me,"indices");for(var at in pe){if(!Array.isArray(pe[at])||pe[at].length!==Me.length)throw new Error("attribute "+at+" must be an array of length equal to indices array length");if(tt&&(!(at in _e)||!Array.isArray(_e[at])||_e[at].length!==pe[at].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function G(oe,pe,Me,_e){var tt=L.isPlainObject(_e),at=[],At,Ft,Gt,Yt,Dt;Array.isArray(Me)||(Me=[Me]),Me=k(Me,oe.data.length-1);for(var $t in pe)for(var lr=0;lr<Me.length;lr++){if(At=oe.data[Me[lr]],Gt=T(At,$t),Ft=Gt.get(),Yt=pe[$t][lr],!L.isArrayOrTypedArray(Yt))throw new Error("attribute: "+$t+" index: "+lr+" must be an array");if(!L.isArrayOrTypedArray(Ft))throw new Error("cannot extend missing or non-array attribute: "+$t);if(Ft.constructor!==Yt.constructor)throw new Error("cannot extend array with an array of a different type: "+$t);Dt=tt?_e[$t][lr]:_e,P(Dt)||(Dt=-1),at.push({prop:Gt,target:Ft,insert:Yt,maxp:Math.floor(Dt)})}return at}function Q(oe,pe,Me,_e,tt){B(oe,pe,Me,_e);for(var at=G(oe,pe,Me,_e),At={},Ft={},Gt=0;Gt<at.length;Gt++){var Yt=at[Gt].prop,Dt=at[Gt].maxp,$t=tt(at[Gt].target,at[Gt].insert,Dt);Yt.set($t[0]),Array.isArray(At[Yt.astr])||(At[Yt.astr]=[]),At[Yt.astr].push($t[1]),Array.isArray(Ft[Yt.astr])||(Ft[Yt.astr]=[]),Ft[Yt.astr].push(at[Gt].target.length)}return{update:At,maxPoints:Ft}}function ee(oe,pe){var Me=new oe.constructor(oe.length+pe.length);return Me.set(oe),Me.set(pe,oe.length),Me}function ae(oe,pe,Me,_e){oe=L.getGraphDiv(oe);function tt(Gt,Yt,Dt){var $t,lr;if(L.isTypedArray(Gt))if(Dt<0){var Hr=new Gt.constructor(0),xt=ee(Gt,Yt);Dt<0?($t=xt,lr=Hr):($t=Hr,lr=xt)}else if($t=new Gt.constructor(Dt),lr=new Gt.constructor(Gt.length+Yt.length-Dt),Dt===Yt.length)$t.set(Yt),lr.set(Gt);else if(Dt<Yt.length){var Qt=Yt.length-Dt;$t.set(Yt.subarray(Qt)),lr.set(Gt),lr.set(Yt.subarray(0,Qt),Gt.length)}else{var jt=Dt-Yt.length,Sr=Gt.length-jt;$t.set(Gt.subarray(Sr)),$t.set(Yt,jt),lr.set(Gt.subarray(0,Sr))}else $t=Gt.concat(Yt),lr=Dt>=0&&Dt<$t.length?$t.splice(0,$t.length-Dt):[];return[$t,lr]}var at=Q(oe,pe,Me,_e,tt),At=U.redraw(oe),Ft=[oe,at.update,Me,at.maxPoints];return d.add(oe,U.prependTraces,Ft,ae,arguments),At}function fe(oe,pe,Me,_e){oe=L.getGraphDiv(oe);function tt(Gt,Yt,Dt){var $t,lr;if(L.isTypedArray(Gt))if(Dt<=0){var Hr=new Gt.constructor(0),xt=ee(Yt,Gt);Dt<0?($t=xt,lr=Hr):($t=Hr,lr=xt)}else if($t=new Gt.constructor(Dt),lr=new Gt.constructor(Gt.length+Yt.length-Dt),Dt===Yt.length)$t.set(Yt),lr.set(Gt);else if(Dt<Yt.length){var Qt=Yt.length-Dt;$t.set(Yt.subarray(0,Qt)),lr.set(Yt.subarray(Qt)),lr.set(Gt,Qt)}else{var jt=Dt-Yt.length;$t.set(Yt),$t.set(Gt.subarray(0,jt),Yt.length),lr.set(Gt.subarray(jt))}else $t=Yt.concat(Gt),lr=Dt>=0&&Dt<$t.length?$t.splice(Dt,$t.length):[];return[$t,lr]}var at=Q(oe,pe,Me,_e,tt),At=U.redraw(oe),Ft=[oe,at.update,Me,at.maxPoints];return d.add(oe,U.extendTraces,Ft,fe,arguments),At}function K(oe,pe,Me){oe=L.getGraphDiv(oe);var _e=[],tt=U.deleteTraces,at=K,At=[oe,_e],Ft=[oe,pe],Gt,Yt;for(F(oe,pe,Me),Array.isArray(pe)||(pe=[pe]),pe=pe.map(function(Dt){return L.extendFlat({},Dt)}),o.cleanData(pe),Gt=0;Gt<pe.length;Gt++)oe.data.push(pe[Gt]);for(Gt=0;Gt<pe.length;Gt++)_e.push(-pe.length+Gt);if(typeof Me>"u")return Yt=U.redraw(oe),d.add(oe,tt,At,at,Ft),Yt;Array.isArray(Me)||(Me=[Me]);try{z(oe,_e,Me)}catch(Dt){throw oe.data.splice(oe.data.length-pe.length,pe.length),Dt}return d.startSequence(oe),d.add(oe,tt,At,at,Ft),Yt=U.moveTraces(oe,_e,Me),d.stopSequence(oe),Yt}function W(oe,pe){oe=L.getGraphDiv(oe);var Me=[],_e=U.addTraces,tt=W,at=[oe,Me,pe],At=[oe,pe],Ft,Gt;if(typeof pe>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(pe)||(pe=[pe]),O(oe,pe,"indices"),pe=k(pe,oe.data.length-1),pe.sort(L.sorterDes),Ft=0;Ft<pe.length;Ft+=1)Gt=oe.data.splice(pe[Ft],1)[0],Me.push(Gt);var Yt=U.redraw(oe);return d.add(oe,_e,at,tt,At),Yt}function Z(oe,pe,Me){oe=L.getGraphDiv(oe);var _e=[],tt=[],at=Z,At=Z,Ft=[oe,Me,pe],Gt=[oe,pe,Me],Yt;if(z(oe,pe,Me),pe=Array.isArray(pe)?pe:[pe],typeof Me>"u")for(Me=[],Yt=0;Yt<pe.length;Yt++)Me.push(-pe.length+Yt);for(Me=Array.isArray(Me)?Me:[Me],pe=k(pe,oe.data.length-1),Me=k(Me,oe.data.length-1),Yt=0;Yt<oe.data.length;Yt++)pe.indexOf(Yt)===-1&&_e.push(oe.data[Yt]);for(Yt=0;Yt<pe.length;Yt++)tt.push({newIndex:Me[Yt],trace:oe.data[pe[Yt]]});for(tt.sort(function($t,lr){return $t.newIndex-lr.newIndex}),Yt=0;Yt<tt.length;Yt+=1)_e.splice(tt[Yt].newIndex,0,tt[Yt].trace);oe.data=_e;var Dt=U.redraw(oe);return d.add(oe,at,Ft,At,Gt),Dt}function X(oe,pe,Me,_e){oe=L.getGraphDiv(oe),o.clearPromiseQueue(oe);var tt={};if(typeof pe=="string")tt[pe]=Me;else if(L.isPlainObject(pe))tt=L.extendFlat({},pe),_e===void 0&&(_e=Me);else return L.warn("Restyle fail.",pe,Me,_e),Promise.reject();Object.keys(tt).length&&(oe.changed=!0);var at=o.coerceTraceIndices(oe,_e),At=se(oe,tt,at),Ft=At.flags;Ft.calc&&(oe.calcdata=void 0),Ft.clearAxisTypes&&o.clearAxisTypes(oe,at,{});var Gt=[];Ft.fullReplot?Gt.push(U._doPlot):(Gt.push(u.previousPromises),u.supplyDefaults(oe),Ft.markerSize&&(u.doCalcdata(oe),we(Gt)),Ft.style&&Gt.push(p.doTraceStyle),Ft.colorbars&&Gt.push(p.doColorBars),Gt.push(w)),Gt.push(u.rehover,u.redrag,u.reselect),d.add(oe,X,[oe,At.undoit,At.traces],X,[oe,At.redoit,At.traces]);var Yt=L.syncOrAsync(Gt,oe);return(!Yt||!Yt.then)&&(Yt=Promise.resolve()),Yt.then(function(){return oe.emit("plotly_restyle",At.eventData),oe})}function $(oe){return oe===void 0?null:oe}function ie(oe,pe){return pe?function(Me,_e,tt){var at=T(Me,_e),At=at.set;return at.set=function(Ft){var Gt=(tt||"")+_e;J(Gt,at.get(),Ft,oe),At(Ft)},at}:T}function J(oe,pe,Me,_e){if(Array.isArray(pe)||Array.isArray(Me))for(var tt=Array.isArray(pe)?pe:[],at=Array.isArray(Me)?Me:[],At=Math.max(tt.length,at.length),Ft=0;Ft<At;Ft++)J(oe+"["+Ft+"]",tt[Ft],at[Ft],_e);else if(L.isPlainObject(pe)||L.isPlainObject(Me)){var Gt=L.isPlainObject(pe)?pe:{},Yt=L.isPlainObject(Me)?Me:{},Dt=L.extendFlat({},Gt,Yt);for(var $t in Dt)J(oe+"."+$t,Gt[$t],Yt[$t],_e)}else _e[oe]===void 0&&(_e[oe]=$(pe))}function j(oe,pe,Me){for(var _e in Me){var tt=T(oe,_e);J(_e,tt.get(),Me[_e],pe)}}function se(oe,pe,Me){var _e=oe._fullLayout,tt=oe._fullData,at=oe.data,At=_e._guiEditing,Ft=ie(_e._preGUI,At),Gt=L.extendDeepAll({},pe),Yt;ne(pe);var Dt=S.traceFlags(),$t={},lr={},Hr;function xt(){return Me.map(function(){})}function Qt(rn){var Gn=n.id2name(rn);Hr.indexOf(Gn)===-1&&Hr.push(Gn)}function jt(rn){return"LAYOUT"+rn+".autorange"}function Sr(rn){return"LAYOUT"+rn+".range"}function gr(rn){for(var Gn=rn;Gn<tt.length;Gn++)if(tt[Gn]._input===at[rn])return tt[Gn]}function ut(rn,Gn,Hn){if(Array.isArray(rn)){rn.forEach(function(Zr){ut(Zr,Gn,Hn)});return}if(!(rn in pe||o.hasParent(pe,rn))){var Ar;if(rn.substr(0,6)==="LAYOUT")Ar=Ft(oe.layout,rn.replace("LAYOUT",""));else{var Cr=Me[Hn],Yr=_e._tracePreGUI[gr(Cr)._fullInput.uid];Ar=ie(Yr,At)(at[Cr],rn)}rn in lr||(lr[rn]=xt()),lr[rn][Hn]===void 0&&(lr[rn][Hn]=$(Ar.get())),Gn!==void 0&&Ar.set(Gn)}}function st(rn){return function(Gn){return tt[Gn][rn]}}function bt(rn){return function(Gn,Hn){return Gn===!1?tt[Me[Hn]][rn]:null}}for(var St in pe){if(o.hasParent(pe,St))throw new Error("cannot set "+St+" and a parent attribute simultaneously");var Pt=pe[St],Et,Bt,Wt,tr,er,ur;if((St==="autobinx"||St==="autobiny")&&(St=St.charAt(St.length-1)+"bins",Array.isArray(Pt)?Pt=Pt.map(bt(St)):Pt===!1?Pt=Me.map(st(St)):Pt=null),$t[St]=Pt,St.substr(0,6)==="LAYOUT"){Wt=Ft(oe.layout,St.replace("LAYOUT","")),lr[St]=[$(Wt.get())],Wt.set(Array.isArray(Pt)?Pt[0]:Pt),Dt.calc=!0;continue}for(lr[St]=xt(),Yt=0;Yt<Me.length;Yt++){Et=at[Me[Yt]],Bt=gr(Me[Yt]);var kr=_e._tracePreGUI[Bt._fullInput.uid];if(Wt=ie(kr,At)(Et,St),tr=Wt.get(),er=Array.isArray(Pt)?Pt[Yt%Pt.length]:Pt,er!==void 0){var We=Wt.parts[Wt.parts.length-1],Ge=St.substr(0,St.length-We.length-1),_t=Ge?Ge+".":"",Ot=Ge?T(Bt,Ge).get():Bt;if(ur=r.getTraceValObject(Bt,Wt.parts),ur&&ur.impliedEdits&&er!==null)for(var Kt in ur.impliedEdits)ut(L.relativeAttr(St,Kt),ur.impliedEdits[Kt],Yt);else if((We==="thicknessmode"||We==="lenmode")&&tr!==er&&(er==="fraction"||er==="pixels")&&Ot){var or=_e._size,hr=Ot.orient,ir=hr==="top"||hr==="bottom";if(We==="thicknessmode"){var Nt=ir?or.h:or.w;ut(_t+"thickness",Ot.thickness*(er==="fraction"?1/Nt:Nt),Yt)}else{var vr=ir?or.w:or.h;ut(_t+"len",Ot.len*(er==="fraction"?1/vr:vr),Yt)}}else if(St==="type"&&(er==="pie"!=(tr==="pie")||er==="funnelarea"!=(tr==="funnelarea"))){var mr="x",xr="y";(er==="bar"||tr==="bar")&&Et.orientation==="h"&&(mr="y",xr="x"),L.swapAttrs(Et,["?","?src"],"labels",mr),L.swapAttrs(Et,["d?","?0"],"label",mr),L.swapAttrs(Et,["?","?src"],"values",xr),tr==="pie"||tr==="funnelarea"?(T(Et,"marker.color").set(T(Et,"marker.colors").get()),_e._pielayer.selectAll("g.trace").remove()):t.traceIs(Et,"cartesian")&&T(Et,"marker.colors").set(T(Et,"marker.color").get())}lr[St][Yt]=$(tr);var yr=["swapxy","swapxyaxes","orientation","orientationaxes"];if(yr.indexOf(St)!==-1){if(St==="orientation"){Wt.set(er);var Kr=Et.x&&!Et.y?"h":"v";if((Wt.get()||Kr)===Bt.orientation)continue}else St==="orientationaxes"&&(Et.orientation={v:"h",h:"v"}[Bt.orientation]);o.swapXYData(Et),Dt.calc=Dt.clearAxisTypes=!0}else u.dataArrayContainers.indexOf(Wt.parts[0])!==-1?(o.manageArrayContainers(Wt,er,lr),Dt.calc=!0):(ur?ur.arrayOk&&!t.traceIs(Bt,"regl")&&(L.isArrayOrTypedArray(er)||L.isArrayOrTypedArray(tr))?Dt.calc=!0:S.update(Dt,ur):Dt.calc=!0,Wt.set(er))}}if(["swapxyaxes","orientationaxes"].indexOf(St)!==-1&&n.swap(oe,Me),St==="orientationaxes"){var Nr=T(oe.layout,"hovermode"),Ur=Nr.get();Ur==="x"?Nr.set("y"):Ur==="y"?Nr.set("x"):Ur==="x unified"?Nr.set("y unified"):Ur==="y unified"&&Nr.set("x unified")}if(["orientation","type"].indexOf(St)!==-1){for(Hr=[],Yt=0;Yt<Me.length;Yt++){var Tn=at[Me[Yt]];t.traceIs(Tn,"cartesian")&&(Qt(Tn.xaxis||"x"),Qt(Tn.yaxis||"y"))}ut(Hr.map(jt),!0,0),ut(Hr.map(Sr),[0,1],0)}}return(Dt.calc||Dt.plot)&&(Dt.fullReplot=!0),{flags:Dt,undoit:lr,redoit:$t,traces:Me,eventData:L.extendDeepNoArrays([],[Gt,Me])}}function ne(oe){var pe=L.counterRegex("axis",".title",!1,!1),Me=/colorbar\.title$/,_e=Object.keys(oe),tt,at,At;for(tt=0;tt<_e.length;tt++)at=_e[tt],At=oe[at],(at==="title"||pe.test(at)||Me.test(at))&&(typeof At=="string"||typeof At=="number")?Ft(at,at.replace("title","title.text")):at.indexOf("titlefont")>-1&&at.indexOf("grouptitlefont")===-1?Ft(at,at.replace("titlefont","title.font")):at.indexOf("titleposition")>-1?Ft(at,at.replace("titleposition","title.position")):at.indexOf("titleside")>-1?Ft(at,at.replace("titleside","title.side")):at.indexOf("titleoffset")>-1&&Ft(at,at.replace("titleoffset","title.offset"));function Ft(Gt,Yt){oe[Yt]=oe[Gt],delete oe[Gt]}}function ue(oe,pe,Me){oe=L.getGraphDiv(oe),o.clearPromiseQueue(oe);var _e={};if(typeof pe=="string")_e[pe]=Me;else if(L.isPlainObject(pe))_e=L.extendFlat({},pe);else return L.warn("Relayout fail.",pe,Me),Promise.reject();Object.keys(_e).length&&(oe.changed=!0);var tt=Te(oe,_e),at=tt.flags;at.calc&&(oe.calcdata=void 0);var At=[u.previousPromises];at.layoutReplot?At.push(p.layoutReplot):Object.keys(_e).length&&(ge(oe,at,tt)||u.supplyDefaults(oe),at.legend&&At.push(p.doLegend),at.layoutstyle&&At.push(p.layoutStyles),at.axrange&&we(At,tt.rangesAltered),at.ticks&&At.push(p.doTicksRelayout),at.modebar&&At.push(p.doModeBar),at.camera&&At.push(p.doCamera),at.colorbars&&At.push(p.doColorBars),At.push(w)),At.push(u.rehover,u.redrag,u.reselect),d.add(oe,ue,[oe,tt.undoit],ue,[oe,tt.redoit]);var Ft=L.syncOrAsync(At,oe);return(!Ft||!Ft.then)&&(Ft=Promise.resolve(oe)),Ft.then(function(){return oe.emit("plotly_relayout",tt.eventData),oe})}function ge(oe,pe,Me){var _e=oe._fullLayout;if(!pe.axrange)return!1;for(var tt in pe)if(tt!=="axrange"&&pe[tt])return!1;for(var at in Me.rangesAltered){var At=n.id2name(at),Ft=oe.layout[At],Gt=_e[At];Gt.autorange=Ft.autorange;var Yt=Gt._rangeInitial0,Dt=Gt._rangeInitial1;if(Yt===void 0&&Dt!==void 0||Yt!==void 0&&Dt===void 0)return!1;if(Ft.range&&(Gt.range=Ft.range.slice()),Gt.cleanRange(),Gt._matchGroup){for(var $t in Gt._matchGroup)if($t!==at){var lr=_e[n.id2name($t)];lr.autorange=Gt.autorange,lr.range=Gt.range.slice(),lr._input.range=Gt.range.slice()}}}return!0}function we(oe,pe){var Me=pe?function(_e){var tt=[],at=!0;for(var At in pe){var Ft=n.getFromId(_e,At);if(tt.push(At),(Ft.ticklabelposition||"").indexOf("inside")!==-1&&Ft._anchorAxis&&tt.push(Ft._anchorAxis._id),Ft._matchGroup)for(var Gt in Ft._matchGroup)pe[Gt]||tt.push(Gt)}return n.draw(_e,tt,{skipTitle:at})}:function(_e){return n.draw(_e,"redraw")};oe.push(c,p.doAutoRangeAndConstraints,Me,p.drawData,p.finalDraw)}var xe=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Fe=/^[xyz]axis[0-9]*\.autorange$/,ze=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Te(oe,pe){var Me=oe.layout,_e=oe._fullLayout,tt=_e._guiEditing,at=ie(_e._preGUI,tt),At=Object.keys(pe),Ft=n.list(oe),Gt=L.extendDeepAll({},pe),Yt={},Dt,$t,lr;for(ne(pe),At=Object.keys(pe),$t=0;$t<At.length;$t++)if(At[$t].indexOf("allaxes")===0){for(lr=0;lr<Ft.length;lr++){var Hr=Ft[lr]._id.substr(1),xt=Hr.indexOf("scene")!==-1?Hr+".":"",Qt=At[$t].replace("allaxes",xt+Ft[lr]._name);pe[Qt]||(pe[Qt]=pe[At[$t]])}delete pe[At[$t]]}var jt=S.layoutFlags(),Sr={},gr={};function ut(Yr,Zr){if(Array.isArray(Yr)){Yr.forEach(function(mn){ut(mn,Zr)});return}if(!(Yr in pe||o.hasParent(pe,Yr))){var un=at(Me,Yr);Yr in gr||(gr[Yr]=$(un.get())),Zr!==void 0&&un.set(Zr)}}var st={},bt;function St(Yr){var Zr=n.name2id(Yr.split(".")[0]);return st[Zr]=1,Zr}for(var Pt in pe){if(o.hasParent(pe,Pt))throw new Error("cannot set "+Pt+" and a parent attribute simultaneously");for(var Et=at(Me,Pt),Bt=pe[Pt],Wt=Et.parts.length,tr=Wt-1;tr>0&&typeof Et.parts[tr]!="string";)tr--;var er=Et.parts[tr],ur=Et.parts[tr-1]+"."+er,kr=Et.parts.slice(0,tr).join("."),We=T(oe.layout,kr).get(),Ge=T(_e,kr).get(),_t=Et.get();if(Bt!==void 0){Sr[Pt]=Bt,gr[Pt]=er==="reverse"?Bt:$(_t);var Ot=r.getLayoutValObject(_e,Et.parts);if(Ot&&Ot.impliedEdits&&Bt!==null)for(var Kt in Ot.impliedEdits)ut(L.relativeAttr(Pt,Kt),Ot.impliedEdits[Kt]);if(["width","height"].indexOf(Pt)!==-1)if(Bt){ut("autosize",null);var or=Pt==="height"?"width":"height";ut(or,_e[or])}else _e[Pt]=oe._initialAutoSize[Pt];else if(Pt==="autosize")ut("width",Bt?null:_e.width),ut("height",Bt?null:_e.height);else if(ur.match(xe))St(ur),T(_e,kr+"._inputRange").set(null);else if(ur.match(Fe)){St(ur),T(_e,kr+"._inputRange").set(null);var hr=T(_e,kr).get();hr._inputDomain&&(hr._input.domain=hr._inputDomain.slice())}else ur.match(ze)&&T(_e,kr+"._inputDomain").set(null);if(er==="type"){bt=We;var ir=Ge.type==="linear"&&Bt==="log",Nt=Ge.type==="log"&&Bt==="linear";if(ir||Nt){if(!bt||!bt.range)ut(kr+".autorange",!0);else if(Ge.autorange)ir&&(bt.range=bt.range[1]>bt.range[0]?[1,2]:[2,1]);else{var vr=bt.range[0],mr=bt.range[1];ir?(vr<=0&&mr<=0&&ut(kr+".autorange",!0),vr<=0?vr=mr/1e6:mr<=0&&(mr=vr/1e6),ut(kr+".range[0]",Math.log(vr)/Math.LN10),ut(kr+".range[1]",Math.log(mr)/Math.LN10)):(ut(kr+".range[0]",Math.pow(10,vr)),ut(kr+".range[1]",Math.pow(10,mr)))}Array.isArray(_e._subplots.polar)&&_e._subplots.polar.length&&_e[Et.parts[0]]&&Et.parts[1]==="radialaxis"&&delete _e[Et.parts[0]]._subplot.viewInitial["radialaxis.range"],t.getComponentMethod("annotations","convertCoords")(oe,Ge,Bt,ut),t.getComponentMethod("images","convertCoords")(oe,Ge,Bt,ut)}else ut(kr+".autorange",!0),ut(kr+".range",null);T(_e,kr+"._inputRange").set(null)}else if(er.match(A)){var xr=T(_e,Pt).get(),yr=(Bt||{}).type;(!yr||yr==="-")&&(yr="linear"),t.getComponentMethod("annotations","convertCoords")(oe,xr,yr,ut),t.getComponentMethod("images","convertCoords")(oe,xr,yr,ut)}var Kr=h.containerArrayMatch(Pt);if(Kr){Dt=Kr.array,$t=Kr.index;var Nr=Kr.property,Ur=Ot||{editType:"calc"};$t!==""&&Nr===""&&(h.isAddVal(Bt)?gr[Pt]=null:h.isRemoveVal(Bt)?gr[Pt]=(T(Me,Dt).get()||[])[$t]:L.warn("unrecognized full object value",pe)),S.update(jt,Ur),Yt[Dt]||(Yt[Dt]={});var Tn=Yt[Dt][$t];Tn||(Tn=Yt[Dt][$t]={}),Tn[Nr]=Bt,delete pe[Pt]}else er==="reverse"?(We.range?We.range.reverse():(ut(kr+".autorange",!0),We.range=[1,0]),Ge.autorange?jt.calc=!0:jt.plot=!0):(Pt==="dragmode"&&(Bt===!1&&_t!==!1||Bt!==!1&&_t===!1)||_e._has("scatter-like")&&_e._has("regl")&&Pt==="dragmode"&&(Bt==="lasso"||Bt==="select")&&!(_t==="lasso"||_t==="select")||_e._has("gl2d")?jt.plot=!0:Ot?S.update(jt,Ot):jt.calc=!0,Et.set(Bt))}}for(Dt in Yt){var rn=h.applyContainerArrayChanges(oe,at(Me,Dt),Yt[Dt],jt,at);rn||(jt.plot=!0)}for(var Gn in st){bt=n.getFromId(oe,Gn);var Hn=bt&&bt._constraintGroup;if(Hn){jt.calc=!0;for(var Ar in Hn)st[Ar]||(n.getFromId(oe,Ar)._constraintShrinkable=!0)}}(ye(oe)||pe.height||pe.width)&&(jt.plot=!0);var Cr=_e.shapes;for($t=0;$t<Cr.length;$t++)if(Cr[$t].showlegend){jt.calc=!0;break}return(jt.plot||jt.calc)&&(jt.layoutReplot=!0),{flags:jt,rangesAltered:st,undoit:gr,redoit:Sr,eventData:Gt}}function ye(oe){var pe=oe._fullLayout,Me=pe.width,_e=pe.height;return oe.layout.autosize&&u.plotAutoSize(oe,oe.layout,pe),pe.width!==Me||pe.height!==_e}function Ae(oe,pe,Me,_e){oe=L.getGraphDiv(oe),o.clearPromiseQueue(oe),L.isPlainObject(pe)||(pe={}),L.isPlainObject(Me)||(Me={}),Object.keys(pe).length&&(oe.changed=!0),Object.keys(Me).length&&(oe.changed=!0);var tt=o.coerceTraceIndices(oe,_e),at=se(oe,L.extendFlat({},pe),tt),At=at.flags,Ft=Te(oe,L.extendFlat({},Me)),Gt=Ft.flags;(At.calc||Gt.calc)&&(oe.calcdata=void 0),At.clearAxisTypes&&o.clearAxisTypes(oe,tt,Me);var Yt=[];Gt.layoutReplot?Yt.push(p.layoutReplot):At.fullReplot?Yt.push(U._doPlot):(Yt.push(u.previousPromises),ge(oe,Gt,Ft)||u.supplyDefaults(oe),At.style&&Yt.push(p.doTraceStyle),(At.colorbars||Gt.colorbars)&&Yt.push(p.doColorBars),Gt.legend&&Yt.push(p.doLegend),Gt.layoutstyle&&Yt.push(p.layoutStyles),Gt.axrange&&we(Yt,Ft.rangesAltered),Gt.ticks&&Yt.push(p.doTicksRelayout),Gt.modebar&&Yt.push(p.doModeBar),Gt.camera&&Yt.push(p.doCamera),Yt.push(w)),Yt.push(u.rehover,u.redrag,u.reselect),d.add(oe,Ae,[oe,at.undoit,Ft.undoit,at.traces],Ae,[oe,at.redoit,Ft.redoit,at.traces]);var Dt=L.syncOrAsync(Yt,oe);return(!Dt||!Dt.then)&&(Dt=Promise.resolve(oe)),Dt.then(function(){return oe.emit("plotly_update",{data:at.eventData,layout:Ft.eventData}),oe})}function Ne(oe){return function(Me){Me._fullLayout._guiEditing=!0;var _e=oe.apply(null,arguments);return Me._fullLayout._guiEditing=!1,_e}}var Ue=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],Re=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function Ve(oe,pe){for(var Me=0;Me<pe.length;Me++){var _e=pe[Me],tt=oe.match(_e.pattern);if(tt){var at=tt[1]||"";return{head:at,tail:oe.substr(at.length+1),attr:_e.attr}}}}function rt(oe,pe){var Me=T(pe,oe).get();if(Me!==void 0)return Me;var _e=oe.split(".");for(_e.pop();_e.length>1;)if(_e.pop(),Me=T(pe,_e.join(".")+".uirevision").get(),Me!==void 0)return Me;return pe.uirevision}function Qe(oe,pe){for(var Me=0;Me<pe.length;Me++)if(pe[Me]._fullInput.uid===oe)return Me;return-1}function Je(oe,pe,Me){for(var _e=0;_e<pe.length;_e++)if(pe[_e].uid===oe)return _e;return!pe[Me]||pe[Me].uid?-1:Me}function qe(oe,pe){var Me=L.isPlainObject(oe),_e=Array.isArray(oe);return Me||_e?(Me&&L.isPlainObject(pe)||_e&&Array.isArray(pe))&&JSON.stringify(oe)===JSON.stringify(pe):oe===pe}function dt(oe,pe,Me,_e){var tt=_e._preGUI,at,At,Ft,Gt,Yt,Dt,$t,lr,Hr,xt,Qt=[],jt={},Sr={};for(at in tt){if(Yt=Ve(at,Ue),Yt){if(Hr=Yt.head,xt=Yt.tail,At=Yt.attr||Hr+".uirevision",Ft=T(_e,At).get(),Gt=Ft&&rt(At,pe),Gt&&Gt===Ft){if(Dt=tt[at],Dt===null&&(Dt=void 0),$t=T(pe,at),lr=$t.get(),qe(lr,Dt)){lr===void 0&&xt==="autorange"&&Qt.push(Hr),$t.set($(T(_e,at).get()));continue}else if(xt==="autorange"||xt.substr(0,6)==="range["){var gr=tt[Hr+".range[0]"],ut=tt[Hr+".range[1]"],st=tt[Hr+".autorange"];if(st||st===null&&gr===null&&ut===null){if(!(Hr in jt)){var bt=T(pe,Hr).get();jt[Hr]=bt&&(bt.autorange||bt.autorange!==!1&&(!bt.range||bt.range.length!==2))}if(jt[Hr]){$t.set($(T(_e,at).get()));continue}}}}}else L.warn("unrecognized GUI edit: "+at);delete tt[at],Yt&&Yt.tail.substr(0,6)==="range["&&(Sr[Yt.head]=1)}for(var St=0;St<Qt.length;St++){var Pt=Qt[St];if(Sr[Pt]){var Et=T(pe,Pt).get();Et&&delete Et.autorange}}var Bt=_e._tracePreGUI;for(var Wt in Bt){var tr=Bt[Wt],er=null,ur;for(at in tr){if(!er){var kr=Qe(Wt,Me);if(kr<0){delete Bt[Wt];break}var We=Me[kr];ur=We._fullInput;var Ge=Je(Wt,oe,ur.index);if(Ge<0){delete Bt[Wt];break}er=oe[Ge]}if(Yt=Ve(at,Re),Yt){if(Yt.attr?(Ft=T(_e,Yt.attr).get(),Gt=Ft&&rt(Yt.attr,pe)):(Ft=ur.uirevision,Gt=er.uirevision,Gt===void 0&&(Gt=pe.uirevision)),Gt&&Gt===Ft&&(Dt=tr[at],Dt===null&&(Dt=void 0),$t=T(er,at),lr=$t.get(),qe(lr,Dt))){$t.set($(T(ur,at).get()));continue}}else L.warn("unrecognized GUI edit: "+at+" in trace uid "+Wt);delete tr[at]}}}function pt(oe,pe,Me,_e){var tt,at;function At(){return U.addFrames(oe,tt)}oe=L.getGraphDiv(oe),o.clearPromiseQueue(oe);var Ft=oe._fullData,Gt=oe._fullLayout;if(!L.isPlotDiv(oe)||!Ft||!Gt)at=U.newPlot(oe,pe,Me,_e);else{if(L.isPlainObject(pe)){var Yt=pe;pe=Yt.data,Me=Yt.layout,_e=Yt.config,tt=Yt.frames}var Dt=!1;if(_e){var $t=L.extendDeep({},oe._context);oe._context=void 0,_(oe,_e),Dt=Zt($t,oe._context)}oe.data=pe||[],o.cleanData(oe.data),oe.layout=Me||{},o.cleanLayout(oe.layout),dt(oe.data,oe.layout,Ft,Gt),u.supplyDefaults(oe,{skipUpdateCalc:!0});var lr=oe._fullData,Hr=oe._fullLayout,xt=Hr.datarevision===void 0,Qt=Hr.transition,jt=Ct(oe,Gt,Hr,xt,Qt),Sr=jt.newDataRevision,gr=mt(oe,Ft,lr,xt,Qt,Sr);if(ye(oe)&&(jt.layoutReplot=!0),gr.calc||jt.calc){oe.calcdata=void 0;for(var ut=Object.getOwnPropertyNames(Hr),st=0;st<ut.length;st++){var bt=ut[st],St=bt.substring(0,5);if(St==="xaxis"||St==="yaxis"){var Pt=Hr[bt]._emptyCategories;Pt&&Pt()}}}else u.supplyDefaultsUpdateCalc(oe.calcdata,lr);var Et=[];if(tt&&(oe._transitionData={},u.createTransitionData(oe),Et.push(At)),Hr.transition&&!Dt&&(gr.anim||jt.anim))jt.ticks&&Et.push(p.doTicksRelayout),u.doCalcdata(oe),p.doAutoRangeAndConstraints(oe),Et.push(function(){return u.transitionFromReact(oe,gr,jt,Gt)});else if(gr.fullReplot||jt.layoutReplot||Dt)oe._fullLayout._skipDefaults=!0,Et.push(U._doPlot);else{for(var Bt in jt.arrays){var Wt=jt.arrays[Bt];if(Wt.length){var tr=t.getComponentMethod(Bt,"drawOne");if(tr!==L.noop)for(var er=0;er<Wt.length;er++)tr(oe,Wt[er]);else{var ur=t.getComponentMethod(Bt,"draw");if(ur===L.noop)throw new Error("cannot draw components: "+Bt);ur(oe)}}}Et.push(u.previousPromises),gr.style&&Et.push(p.doTraceStyle),(gr.colorbars||jt.colorbars)&&Et.push(p.doColorBars),jt.legend&&Et.push(p.doLegend),jt.layoutstyle&&Et.push(p.layoutStyles),jt.axrange&&we(Et),jt.ticks&&Et.push(p.doTicksRelayout),jt.modebar&&Et.push(p.doModeBar),jt.camera&&Et.push(p.doCamera),Et.push(w)}Et.push(u.rehover,u.redrag,u.reselect),at=L.syncOrAsync(Et,oe),(!at||!at.then)&&(at=Promise.resolve(oe))}return at.then(function(){return oe.emit("plotly_react",{data:pe,layout:Me}),oe})}function mt(oe,pe,Me,_e,tt,at){var At=pe.length===Me.length;if(!tt&&!At)return{fullReplot:!0,calc:!0};var Ft=S.traceFlags();Ft.arrays={},Ft.nChanges=0,Ft.nChangesAnim=0;var Gt,Yt;function Dt(Hr){var xt=r.getTraceValObject(Yt,Hr);return!Yt._module.animatable&&xt.anim&&(xt.anim=!1),xt}var $t={getValObject:Dt,flags:Ft,immutable:_e,transition:tt,newDataRevision:at,gd:oe},lr={};for(Gt=0;Gt<pe.length;Gt++)if(Me[Gt]){if(Yt=Me[Gt]._fullInput,u.hasMakesDataTransform(Yt)&&(Yt=Me[Gt]),lr[Yt.uid])continue;lr[Yt.uid]=1,Rt(pe[Gt]._fullInput,Yt,[],$t)}return(Ft.calc||Ft.plot)&&(Ft.fullReplot=!0),tt&&Ft.nChanges&&Ft.nChangesAnim&&(Ft.anim=Ft.nChanges===Ft.nChangesAnim&&At?"all":"some"),Ft}function Ct(oe,pe,Me,_e,tt){var at=S.layoutFlags();at.arrays={},at.rangesAltered={},at.nChanges=0,at.nChangesAnim=0;function At(Gt){return r.getLayoutValObject(Me,Gt)}var Ft={getValObject:At,flags:at,immutable:_e,transition:tt,gd:oe};return Rt(pe,Me,[],Ft),(at.plot||at.calc)&&(at.layoutReplot=!0),tt&&at.nChanges&&at.nChangesAnim&&(at.anim=at.nChanges===at.nChangesAnim?"all":"some"),at}function Rt(oe,pe,Me,_e){var tt,at,At,Ft=_e.getValObject,Gt=_e.flags,Yt=_e.immutable,Dt=_e.inArray,$t=_e.arrayIndex;function lr(){var kr=tt.editType;if(Dt&&kr.indexOf("arraydraw")!==-1){L.pushUnique(Gt.arrays[Dt],$t);return}S.update(Gt,tt),kr!=="none"&&Gt.nChanges++,_e.transition&&tt.anim&&Gt.nChangesAnim++,(xe.test(At)||Fe.test(At))&&(Gt.rangesAltered[Me[0]]=1),ze.test(At)&&T(pe,"_inputDomain").set(null),at==="datarevision"&&(Gt.newDataRevision=1)}function Hr(kr){return kr.valType==="data_array"||kr.arrayOk}for(at in oe){if(Gt.calc&&!_e.transition)return;var xt=oe[at],Qt=pe[at],jt=Me.concat(at);if(At=jt.join("."),!(at.charAt(0)==="_"||typeof xt=="function"||xt===Qt)){if((at==="tick0"||at==="dtick")&&Me[0]!=="geo"){var Sr=pe.tickmode;if(Sr==="auto"||Sr==="array"||!Sr)continue}if(!(at==="range"&&pe.autorange)&&!((at==="zmin"||at==="zmax")&&pe.type==="contourcarpet")&&(tt=Ft(jt),!!tt&&!(tt._compareAsJSON&&JSON.stringify(xt)===JSON.stringify(Qt)))){var gr=tt.valType,ut,st=Hr(tt),bt=Array.isArray(xt),St=Array.isArray(Qt);if(bt&&St){var Pt="_input_"+at,Et=oe[Pt],Bt=pe[Pt];if(Array.isArray(Et)&&Et===Bt)continue}if(Qt===void 0)st&&bt?Gt.calc=!0:lr();else if(tt._isLinkedToArray){var Wt=[],tr=!1;Dt||(Gt.arrays[at]=Wt);var er=Math.min(xt.length,Qt.length),ur=Math.max(xt.length,Qt.length);if(er!==ur)if(tt.editType==="arraydraw")tr=!0;else{lr();continue}for(ut=0;ut<er;ut++)Rt(xt[ut],Qt[ut],jt.concat(ut),L.extendFlat({inArray:at,arrayIndex:ut},_e));if(tr)for(ut=er;ut<ur;ut++)Wt.push(ut)}else!gr&&L.isPlainObject(xt)?Rt(xt,Qt,jt,_e):st?bt&&St?(Yt&&(Gt.calc=!0),(Yt||_e.newDataRevision)&&lr()):bt!==St?Gt.calc=!0:lr():bt&&St?(xt.length!==Qt.length||String(xt)!==String(Qt))&&lr():lr()}}}for(at in pe)if(!(at in oe||at.charAt(0)==="_"||typeof pe[at]=="function"))if(tt=Ft(Me.concat(at)),Hr(tt)&&Array.isArray(pe[at])){Gt.calc=!0;return}else lr()}function Zt(oe,pe){var Me;for(Me in oe)if(Me.charAt(0)!=="_"){var _e=oe[Me],tt=pe[Me];if(_e!==tt)if(L.isPlainObject(_e)&&L.isPlainObject(tt)){if(Zt(_e,tt))return!0}else if(Array.isArray(_e)&&Array.isArray(tt)){if(_e.length!==tt.length)return!0;for(var at=0;at<_e.length;at++)if(_e[at]!==tt[at])if(L.isPlainObject(_e[at])&&L.isPlainObject(tt[at])){if(Zt(_e[at],tt[at]))return!0}else return!0}else return!0}}function Xe(oe,pe,Me){if(oe=L.getGraphDiv(oe),!L.isPlotDiv(oe))throw new Error("This element is not a Plotly plot: "+oe+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var _e=oe._transitionData;_e._frameQueue||(_e._frameQueue=[]),Me=u.supplyAnimationDefaults(Me);var tt=Me.transition,at=Me.frame;_e._frameWaitingCnt===void 0&&(_e._frameWaitingCnt=0);function At(Yt){return Array.isArray(tt)?Yt>=tt.length?tt[0]:tt[Yt]:tt}function Ft(Yt){return Array.isArray(at)?Yt>=at.length?at[0]:at[Yt]:at}function Gt(Yt,Dt){var $t=0;return function(){if(Yt&&++$t===Dt)return Yt()}}return new Promise(function(Yt,Dt){function $t(){if(_e._frameQueue.length!==0){for(;_e._frameQueue.length;){var er=_e._frameQueue.pop();er.onInterrupt&&er.onInterrupt()}oe.emit("plotly_animationinterrupted",[])}}function lr(er){if(er.length!==0){for(var ur=0;ur<er.length;ur++){var kr;er[ur].type==="byname"?kr=u.computeFrame(oe,er[ur].name):kr=er[ur].data;var We=Ft(ur),Ge=At(ur);Ge.duration=Math.min(Ge.duration,We.duration);var _t={frame:kr,name:er[ur].name,frameOpts:We,transitionOpts:Ge};ur===er.length-1&&(_t.onComplete=Gt(Yt,2),_t.onInterrupt=Dt),_e._frameQueue.push(_t)}Me.mode==="immediate"&&(_e._lastFrameAt=-1/0),_e._animationRaf||Qt()}}function Hr(){oe.emit("plotly_animated"),window.cancelAnimationFrame(_e._animationRaf),_e._animationRaf=null}function xt(){_e._currentFrame&&_e._currentFrame.onComplete&&_e._currentFrame.onComplete();var er=_e._currentFrame=_e._frameQueue.shift();if(er){var ur=er.name?er.name.toString():null;oe._fullLayout._currentFrame=ur,_e._lastFrameAt=Date.now(),_e._timeToNext=er.frameOpts.duration,u.transition(oe,er.frame.data,er.frame.layout,o.coerceTraceIndices(oe,er.frame.traces),er.frameOpts,er.transitionOpts).then(function(){er.onComplete&&er.onComplete()}),oe.emit("plotly_animatingframe",{name:ur,frame:er.frame,animation:{frame:er.frameOpts,transition:er.transitionOpts}})}else Hr()}function Qt(){oe.emit("plotly_animating"),_e._lastFrameAt=-1/0,_e._timeToNext=0,_e._runningTransitions=0,_e._currentFrame=null;var er=function(){_e._animationRaf=window.requestAnimationFrame(er),Date.now()-_e._lastFrameAt>_e._timeToNext&&xt()};er()}var jt=0;function Sr(er){return Array.isArray(tt)?jt>=tt.length?er.transitionOpts=tt[jt]:er.transitionOpts=tt[0]:er.transitionOpts=tt,jt++,er}var gr,ut,st=[],bt=pe==null,St=Array.isArray(pe),Pt=!bt&&!St&&L.isPlainObject(pe);if(Pt)st.push({type:"object",data:Sr(L.extendFlat({},pe))});else if(bt||["string","number"].indexOf(typeof pe)!==-1)for(gr=0;gr<_e._frames.length;gr++)ut=_e._frames[gr],ut&&(bt||String(ut.group)===String(pe))&&st.push({type:"byname",name:String(ut.name),data:Sr({name:ut.name})});else if(St)for(gr=0;gr<pe.length;gr++){var Et=pe[gr];["number","string"].indexOf(typeof Et)!==-1?(Et=String(Et),st.push({type:"byname",name:Et,data:Sr({name:Et})})):L.isPlainObject(Et)&&st.push({type:"object",data:Sr(L.extendFlat({},Et))})}for(gr=0;gr<st.length;gr++)if(ut=st[gr],ut.type==="byname"&&!_e._frameHash[ut.data.name]){L.warn('animate failure: frame not found: "'+ut.data.name+'"'),Dt();return}["next","immediate"].indexOf(Me.mode)!==-1&&$t(),Me.direction==="reverse"&&st.reverse();var Bt=oe._fullLayout._currentFrame;if(Bt&&Me.fromcurrent){var Wt=-1;for(gr=0;gr<st.length;gr++)if(ut=st[gr],ut.type==="byname"&&ut.name===Bt){Wt=gr;break}if(Wt>0&&Wt<st.length-1){var tr=[];for(gr=0;gr<st.length;gr++)ut=st[gr],(st[gr].type!=="byname"||gr>Wt)&&tr.push(ut);st=tr}}st.length>0?lr(st):(oe.emit("plotly_animated"),Yt())})}function Le(oe,pe,Me){if(oe=L.getGraphDiv(oe),pe==null)return Promise.resolve();if(!L.isPlotDiv(oe))throw new Error("This element is not a Plotly plot: "+oe+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var _e,tt,at,At,Ft=oe._transitionData._frames,Gt=oe._transitionData._frameHash;if(!Array.isArray(pe))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+pe);var Yt=Ft.length+pe.length*2,Dt=[],$t={};for(_e=pe.length-1;_e>=0;_e--)if(L.isPlainObject(pe[_e])){var lr=pe[_e].name,Hr=(Gt[lr]||$t[lr]||{}).name,xt=pe[_e].name,Qt=Gt[Hr]||$t[Hr];Hr&&xt&&typeof xt=="number"&&Qt&&E<m&&(E++,L.warn('addFrames: overwriting frame "'+(Gt[Hr]||$t[Hr]).name+'" with a frame whose name of type "number" also equates to "'+Hr+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),E===m&&L.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),$t[lr]={name:lr},Dt.push({frame:u.supplyFrameDefaults(pe[_e]),index:Me&&Me[_e]!==void 0&&Me[_e]!==null?Me[_e]:Yt+_e})}Dt.sort(function(Pt,Et){return Pt.index>Et.index?-1:Pt.index<Et.index?1:0});var jt=[],Sr=[],gr=Ft.length;for(_e=Dt.length-1;_e>=0;_e--){if(tt=Dt[_e].frame,typeof tt.name=="number"&&L.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!tt.name)for(;Gt[tt.name="frame "+oe._transitionData._counter++];);if(Gt[tt.name]){for(at=0;at<Ft.length&&(Ft[at]||{}).name!==tt.name;at++);jt.push({type:"replace",index:at,value:tt}),Sr.unshift({type:"replace",index:at,value:Ft[at]})}else At=Math.max(0,Math.min(Dt[_e].index,gr)),jt.push({type:"insert",index:At,value:tt}),Sr.unshift({type:"delete",index:At}),gr++}var ut=u.modifyFrames,st=u.modifyFrames,bt=[oe,Sr],St=[oe,jt];return d&&d.add(oe,ut,bt,st,St),u.modifyFrames(oe,jt)}function Pe(oe,pe){if(oe=L.getGraphDiv(oe),!L.isPlotDiv(oe))throw new Error("This element is not a Plotly plot: "+oe);var Me,_e,tt=oe._transitionData._frames,at=[],At=[];if(!pe)for(pe=[],Me=0;Me<tt.length;Me++)pe.push(Me);for(pe=pe.slice(),pe.sort(),Me=pe.length-1;Me>=0;Me--)_e=pe[Me],at.push({type:"delete",index:_e}),At.unshift({type:"insert",index:_e,value:tt[_e]});var Ft=u.modifyFrames,Gt=u.modifyFrames,Yt=[oe,At],Dt=[oe,at];return d&&d.add(oe,Ft,Yt,Gt,Dt),u.modifyFrames(oe,at)}function ke(oe){oe=L.getGraphDiv(oe);var pe=oe._fullLayout||{},Me=oe._fullData||[];return u.cleanPlot([],{},Me,pe),u.purge(oe),v.purge(oe),pe._container&&pe._container.remove(),delete oe._context,oe}function Ce(oe){var pe=oe._fullLayout,Me=oe.getBoundingClientRect();if(!L.equalDomRects(Me,pe._lastBBox)){var _e=pe._invTransform=L.inverseTransformMatrix(L.getFullTransformMatrix(oe));pe._invScaleX=Math.sqrt(_e[0][0]*_e[0][0]+_e[0][1]*_e[0][1]+_e[0][2]*_e[0][2]),pe._invScaleY=Math.sqrt(_e[1][0]*_e[1][0]+_e[1][1]*_e[1][1]+_e[1][2]*_e[1][2]),pe._lastBBox=Me}}function me(oe){var pe=g.select(oe),Me=oe._fullLayout;if(Me._calcInverseTransform=Ce,Me._calcInverseTransform(oe),Me._container=pe.selectAll(".plot-container").data([0]),Me._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Me._paperdiv=Me._container.selectAll(".svg-container").data([0]),Me._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Me._glcontainer=Me._paperdiv.selectAll(".gl-container").data([{}]),Me._glcontainer.enter().append("div").classed("gl-container",!0),Me._paperdiv.selectAll(".main-svg").remove(),Me._paperdiv.select(".modebar-container").remove(),Me._paper=Me._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Me._toppaper=Me._paperdiv.append("svg").classed("main-svg",!0),Me._modebardiv=Me._paperdiv.append("div"),delete Me._modeBar,Me._hoverpaper=Me._paperdiv.append("svg").classed("main-svg",!0),!Me._uid){var _e={};g.selectAll("defs").each(function(){this.id&&(_e[this.id.split("-")[1]]=1)}),Me._uid=L.randstr(_e)}Me._paperdiv.selectAll(".main-svg").attr(x.svgAttrs),Me._defs=Me._paper.append("defs").attr("id","defs-"+Me._uid),Me._clips=Me._defs.append("g").classed("clips",!0),Me._topdefs=Me._toppaper.append("defs").attr("id","topdefs-"+Me._uid),Me._topclips=Me._topdefs.append("g").classed("clips",!0),Me._bgLayer=Me._paper.append("g").classed("bglayer",!0),Me._draggers=Me._paper.append("g").classed("draglayer",!0);var tt=Me._paper.append("g").classed("layer-below",!0);Me._imageLowerLayer=tt.append("g").classed("imagelayer",!0),Me._shapeLowerLayer=tt.append("g").classed("shapelayer",!0),Me._cartesianlayer=Me._paper.append("g").classed("cartesianlayer",!0),Me._polarlayer=Me._paper.append("g").classed("polarlayer",!0),Me._smithlayer=Me._paper.append("g").classed("smithlayer",!0),Me._ternarylayer=Me._paper.append("g").classed("ternarylayer",!0),Me._geolayer=Me._paper.append("g").classed("geolayer",!0),Me._funnelarealayer=Me._paper.append("g").classed("funnelarealayer",!0),Me._pielayer=Me._paper.append("g").classed("pielayer",!0),Me._iciclelayer=Me._paper.append("g").classed("iciclelayer",!0),Me._treemaplayer=Me._paper.append("g").classed("treemaplayer",!0),Me._sunburstlayer=Me._paper.append("g").classed("sunburstlayer",!0),Me._indicatorlayer=Me._toppaper.append("g").classed("indicatorlayer",!0),Me._glimages=Me._paper.append("g").classed("glimages",!0);var at=Me._toppaper.append("g").classed("layer-above",!0);Me._imageUpperLayer=at.append("g").classed("imagelayer",!0),Me._shapeUpperLayer=at.append("g").classed("shapelayer",!0),Me._selectionLayer=Me._toppaper.append("g").classed("selectionlayer",!0),Me._infolayer=Me._toppaper.append("g").classed("infolayer",!0),Me._menulayer=Me._toppaper.append("g").classed("menulayer",!0),Me._zoomlayer=Me._toppaper.append("g").classed("zoomlayer",!0),Me._hoverlayer=Me._hoverpaper.append("g").classed("hoverlayer",!0),Me._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),oe.emit("plotly_framework")}U.animate=Xe,U.addFrames=Le,U.deleteFrames=Pe,U.addTraces=K,U.deleteTraces=W,U.extendTraces=ae,U.moveTraces=Z,U.prependTraces=fe,U.newPlot=N,U._doPlot=M,U.purge=ke,U.react=pt,U.redraw=I,U.relayout=ue,U.restyle=X,U.setPlotConfig=i,U.update=Ae,U._guiRelayout=Ne(ue),U._guiRestyle=Ne(X),U._guiUpdate=Ne(Ae),U._storeDirectGUIEdit=j},72075:function(H){var U={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function g(P,a){for(var L in P){var T=P[L];T.valType?a[L]=T.dflt:(a[L]||(a[L]={}),g(T,a[L]))}}g(U,e),H.exports={configAttributes:U,dfltConfig:e}},86281:function(H,U,e){var g=e(73972),P=e(71828),a=e(9012),L=e(10820),T=e(31391),v=e(85594),d=e(72075).configAttributes,t=e(30962),r=P.extendDeepAll,u=P.isPlainObject,n=P.isArrayOrTypedArray,s=P.nestedProperty,f=P.valObjectMeta,l="_isSubplotObj",x="_isLinkedToArray",c="_arrayAttrRegexps",b="_deprecated",h=[l,x,c,b];U.IS_SUBPLOT_OBJ=l,U.IS_LINKED_TO_ARRAY=x,U.DEPRECATED=b,U.UNDERSCORE_ATTRS=h,U.get=function(){var N={};g.allTypes.forEach(function(O){N[O]=A(O)});var k={};return Object.keys(g.transformsRegistry).forEach(function(O){k[O]=m(O)}),{defs:{valObjects:f,metaKeys:h.concat(["description","role","editType","impliedEdits"]),editType:{traces:t.traces,layout:t.layout},impliedEdits:{}},traces:N,layout:E(),transforms:k,frames:M(),animation:w(v),config:w(d)}},U.crawl=function(N,k,O,z){var F=O||0;z=z||"",Object.keys(N).forEach(function(B){var G=N[B];if(h.indexOf(B)===-1){var Q=(z?z+".":"")+B;k(G,B,N,F,Q),!U.isValObject(G)&&u(G)&&B!=="impliedEdits"&&U.crawl(G,k,F+1,Q)}})},U.isValObject=function(N){return N&&N.valType!==void 0},U.findArrayAttributes=function(N){var k=[],O=[],z=[],F,B;function G(W,Z,X,$){O=O.slice(0,$).concat([Z]),z=z.slice(0,$).concat([W&&W._isLinkedToArray]);var ie=W&&(W.valType==="data_array"||W.arrayOk===!0)&&!(O[$-1]==="colorbar"&&(Z==="ticktext"||Z==="tickvals"));ie&&Q(F,0,"")}function Q(W,Z,X){var $=W[O[Z]],ie=X+O[Z];if(Z===O.length-1)n($)&&k.push(B+ie);else if(z[Z]){if(Array.isArray($))for(var J=0;J<$.length;J++)u($[J])&&Q($[J],Z+1,ie+"["+J+"].")}else u($)&&Q($,Z+1,ie+".")}F=N,B="",U.crawl(a,G),N._module&&N._module.attributes&&U.crawl(N._module.attributes,G);var ee=N.transforms;if(ee)for(var ae=0;ae<ee.length;ae++){var fe=ee[ae],K=fe._module;K&&(B="transforms["+ae+"].",F=fe,U.crawl(K.attributes,G))}return k},U.getTraceValObject=function(N,k){var O=k[0],z=1,F,B;if(O==="transforms"){if(k.length===1)return a.transforms;var G=N.transforms;if(!Array.isArray(G)||!G.length)return!1;var Q=k[1];if(!S(Q)||Q>=G.length)return!1;F=(g.transformsRegistry[G[Q].type]||{}).attributes,B=F&&F[k[2]],z=3}else{var ee=N._module;if(ee||(ee=(g.modules[N.type||a.type.dflt]||{})._module),!ee)return!1;if(F=ee.attributes,B=F&&F[O],!B){var ae=ee.basePlotModule;ae&&ae.attributes&&(B=ae.attributes[O])}B||(B=a[O])}return p(B,k,z)},U.getLayoutValObject=function(N,k){var O=o(N,k[0]);return p(O,k,1)};function o(N,k){var O,z,F,B,G=N._basePlotModules;if(G){var Q;for(O=0;O<G.length;O++){if(F=G[O],F.attrRegex&&F.attrRegex.test(k)){if(F.layoutAttrOverrides)return F.layoutAttrOverrides;!Q&&F.layoutAttributes&&(Q=F.layoutAttributes)}var ee=F.baseLayoutAttrOverrides;if(ee&&k in ee)return ee[k]}if(Q)return Q}var ae=N._modules;if(ae){for(O=0;O<ae.length;O++)if(B=ae[O].layoutAttributes,B&&k in B)return B[k]}for(z in g.componentsRegistry){if(F=g.componentsRegistry[z],F.name==="colorscale"&&k.indexOf("coloraxis")===0)return F.layoutAttributes[k];if(!F.schema&&k===F.name)return F.layoutAttributes}return k in L?L[k]:!1}function p(N,k,O){if(!N)return!1;if(N._isLinkedToArray){if(S(k[O]))O++;else if(O<k.length)return!1}for(;O<k.length;O++){var z=N[k[O]];if(u(z))N=z;else break;if(O===k.length-1)break;if(N._isLinkedToArray){if(O++,!S(k[O]))return!1}else if(N.valType==="info_array"){O++;var F=k[O];if(!S(F))return!1;var B=N.items;if(Array.isArray(B)){if(F>=B.length)return!1;if(N.dimensions===2){if(O++,k.length===O)return N;var G=k[O];if(!S(G))return!1;N=B[F][G]}else N=B[F]}else N=B}}return N}function S(N){return N===Math.round(N)&&N>=0}function A(N){var k,O;k=g.modules[N]._module,O=k.basePlotModule;var z={};z.type=null;var F=r({},a),B=r({},k.attributes);U.crawl(B,function(ee,ae,fe,K,W){s(F,W).set(void 0),ee===void 0&&s(B,W).set(void 0)}),r(z,F),g.traceIs(N,"noOpacity")&&delete z.opacity,g.traceIs(N,"showLegend")||(delete z.showlegend,delete z.legendgroup),g.traceIs(N,"noHover")&&(delete z.hoverinfo,delete z.hoverlabel),k.selectPoints||delete z.selectedpoints,r(z,B),O.attributes&&r(z,O.attributes),z.type=N;var G={meta:k.meta||{},categories:k.categories||{},animatable:!!k.animatable,type:N,attributes:w(z)};if(k.layoutAttributes){var Q={};r(Q,k.layoutAttributes),G.layoutAttributes=w(Q)}return k.animatable||U.crawl(G,function(ee){U.isValObject(ee)&&"anim"in ee&&delete ee.anim}),G}function E(){var N={},k,O;r(N,L);for(k in g.subplotsRegistry)if(O=g.subplotsRegistry[k],!!O.layoutAttributes)if(Array.isArray(O.attr))for(var z=0;z<O.attr.length;z++)_(N,O,O.attr[z]);else{var F=O.attr==="subplot"?O.name:O.attr;_(N,O,F)}for(k in g.componentsRegistry){O=g.componentsRegistry[k];var B=O.schema;if(B&&(B.subplots||B.layout)){var G=B.subplots;if(G&&G.xaxis&&!G.yaxis)for(var Q in G.xaxis)delete N.yaxis[Q];delete N.xaxis.shift,delete N.xaxis.autoshift}else O.name==="colorscale"?r(N,O.layoutAttributes):O.layoutAttributes&&I(N,O.layoutAttributes,O.name)}return{layoutAttributes:w(N)}}function m(N){var k=g.transformsRegistry[N],O=r({},k.attributes);return Object.keys(g.componentsRegistry).forEach(function(z){var F=g.componentsRegistry[z];F.schema&&F.schema.transforms&&F.schema.transforms[N]&&Object.keys(F.schema.transforms[N]).forEach(function(B){I(O,F.schema.transforms[N][B],B)})}),{attributes:w(O)}}function M(){var N={frames:r({},T)};return w(N),N.frames}function w(N){return i(N),C(N),y(N),N}function i(N){function k(z){return{valType:"string",editType:"none"}}function O(z,F,B){U.isValObject(z)?(z.arrayOk===!0||z.valType==="data_array")&&(B[F+"src"]=k()):u(z)&&(z.role="object")}U.crawl(N,O)}function C(N){function k(O,z,F){if(O){var B=O[x];B&&(delete O[x],F[z]={items:{}},F[z].items[B]=O,F[z].role="object")}}U.crawl(N,k)}function y(N){function k(O){for(var z in O)if(u(O[z]))k(O[z]);else if(Array.isArray(O[z]))for(var F=0;F<O[z].length;F++)k(O[z][F]);else O[z]instanceof RegExp&&(O[z]=O[z].toString())}k(N)}function _(N,k,O){var z=s(N,O),F=r({},k.layoutAttributes);F[l]=!0,z.set(F)}function I(N,k,O){var z=s(N,O);z.set(r(z.get()||{},k))}},44467:function(H,U,e){var g=e(71828),P=e(9012),a="templateitemname",L={name:{valType:"string",editType:"none"}};L[a]={valType:"string",editType:"calc"},U.templatedArray=function(d,t){return t._isLinkedToArray=d,t.name=L.name,t[a]=L[a],t},U.traceTemplater=function(d){var t={},r,u;for(r in d)u=d[r],Array.isArray(u)&&u.length&&(t[r]=0);function n(s){r=g.coerce(s,{},P,"type");var f={type:r,_template:null};if(r in t){u=d[r];var l=t[r]%u.length;t[r]++,f._template=u[l]}return f}return{newTrace:n}},U.newContainer=function(d,t,r){var u=d._template,n=u&&(u[t]||r&&u[r]);g.isPlainObject(n)||(n=null);var s=d[t]={_template:n};return s},U.arrayTemplater=function(d,t,r){var u=d._template,n=u&&u[v(t)],s=u&&u[t];(!Array.isArray(s)||!s.length)&&(s=[]);var f={};function l(c){var b={name:c.name,_input:c},h=b[a]=c[a];if(!T(h))return b._template=n,b;for(var o=0;o<s.length;o++){var p=s[o];if(p.name===h)return f[h]=1,b._template=p,b}return b[r]=c[r]||!1,b._template=!1,b}function x(){for(var c=[],b=0;b<s.length;b++){var h=s[b],o=h.name;if(T(o)&&!f[o]){var p={_template:h,name:o,_input:{_templateitemname:o}};p[a]=h[a],c.push(p),f[o]=1}}return c}return{newItem:l,defaultItems:x}};function T(d){return d&&typeof d=="string"}function v(d){var t=d.length-1;return d.charAt(t)!=="s"&&g.warn("bad argument to arrayDefaultKey: "+d),d.substr(0,d.length-1)+"defaults"}U.arrayDefaultKey=v,U.arrayEditor=function(d,t,r){var u=(g.nestedProperty(d,t).get()||[]).length,n=r._index,s=n>=u&&(r._input||{})._templateitemname;s&&(n=u);var f=t+"["+n+"]",l;function x(){l={},s&&(l[f]={},l[f][a]=s)}x();function c(p,S){l[p]=S}function b(p,S){s?g.nestedProperty(l[f],p).set(S):l[f+"."+p]=S}function h(){var p=l;return x(),p}function o(p,S){p&&b(p,S);var A=h();for(var E in A)g.nestedProperty(d,E).set(A[E])}return{modifyBase:c,modifyItem:b,getUpdateObj:h,applyUpdate:o}}},61549:function(H,U,e){var g=e(39898),P=e(73972),a=e(74875),L=e(71828),T=e(63893),v=e(33306),d=e(7901),t=e(91424),r=e(92998),u=e(64168),n=e(89298),s=e(18783),f=e(99082),l=f.enforce,x=f.clean,c=e(71739).doAutoRange,b="start",h="middle",o="end";U.layoutStyles=function(O){return L.syncOrAsync([a.doAutoMargin,S],O)};function p(O,z,F){for(var B=0;B<F.length;B++){var G=F[B][0],Q=F[B][1];if(!(G[0]>=O[1]||G[1]<=O[0])&&Q[0]<z[1]&&Q[1]>z[0])return!0}return!1}function S(O){var z=O._fullLayout,F=z._size,B=F.p,G=n.list(O,"",!0),Q,ee,ae,fe,K,W;if(z._paperdiv.style({width:O._context.responsive&&z.autosize&&!O._context._hasZeroWidth&&!O.layout.width?"100%":z.width+"px",height:O._context.responsive&&z.autosize&&!O._context._hasZeroHeight&&!O.layout.height?"100%":z.height+"px"}).selectAll(".main-svg").call(t.setSize,z.width,z.height),O._context.setBackground(O,z.paper_bgcolor),U.drawMainTitle(O),u.manage(O),!z._has("cartesian"))return a.previousPromises(O);function Z(me,oe,pe){var Me=me._lw/2;if(me._id.charAt(0)==="x"){if(oe){if(pe==="top")return oe._offset-B-Me}else return F.t+F.h*(1-(me.position||0))+Me%1;return oe._offset+oe._length+B+Me}if(oe){if(pe==="right")return oe._offset+oe._length+B+Me}else return F.l+F.w*(me.position||0)+Me%1;return oe._offset-B-Me}for(Q=0;Q<G.length;Q++){fe=G[Q];var X=fe._anchorAxis;fe._linepositions={},fe._lw=t.crispRound(O,fe.linewidth,1),fe._mainLinePosition=Z(fe,X,fe.side),fe._mainMirrorPosition=fe.mirror&&X?Z(fe,X,s.OPPOSITE_SIDE[fe.side]):null}var $=[],ie=[],J=[],j=d.opacity(z.paper_bgcolor)===1&&d.opacity(z.plot_bgcolor)===1&&z.paper_bgcolor===z.plot_bgcolor;for(ee in z._plots)if(ae=z._plots[ee],ae.mainplot)ae.bg&&ae.bg.remove(),ae.bg=void 0;else{var se=ae.xaxis.domain,ne=ae.yaxis.domain,ue=ae.plotgroup;if(p(se,ne,J)){var ge=ue.node(),we=ae.bg=L.ensureSingle(ue,"rect","bg");ge.insertBefore(we.node(),ge.childNodes[0]),ie.push(ee)}else ue.select("rect.bg").remove(),J.push([se,ne]),j||($.push(ee),ie.push(ee))}var xe=z._bgLayer.selectAll(".bg").data($);for(xe.enter().append("rect").classed("bg",!0),xe.exit().remove(),xe.each(function(me){z._plots[me].bg=g.select(this)}),Q=0;Q<ie.length;Q++)ae=z._plots[ie[Q]],K=ae.xaxis,W=ae.yaxis,ae.bg&&K._offset!==void 0&&W._offset!==void 0&&ae.bg.call(t.setRect,K._offset-B,W._offset-B,K._length+2*B,W._length+2*B).call(d.fill,z.plot_bgcolor).style("stroke-width",0);if(!z._hasOnlyLargeSploms)for(ee in z._plots){ae=z._plots[ee],K=ae.xaxis,W=ae.yaxis;var Fe=ae.clipId="clip"+z._uid+ee+"plot",ze=L.ensureSingleById(z._clips,"clipPath",Fe,function(me){me.classed("plotclip",!0).append("rect")});ae.clipRect=ze.select("rect").attr({width:K._length,height:W._length}),t.setTranslate(ae.plot,K._offset,W._offset);var Te,ye;ae._hasClipOnAxisFalse?(Te=null,ye=Fe):(Te=Fe,ye=null),t.setClipUrl(ae.plot,Te,O),ae.layerClipId=ye}var Ae,Ne,Ue,Re,Ve,rt,Qe,Je,qe,dt,pt,mt,Ct;function Rt(me){return"M"+Ae+","+me+"H"+Ne}function Zt(me){return"M"+K._offset+","+me+"h"+K._length}function Xe(me){return"M"+me+","+Je+"V"+Qe}function Le(me){return W._shift!==void 0&&(me+=W._shift),"M"+me+","+W._offset+"v"+W._length}function Pe(me,oe,pe){if(!me.showline||ee!==me._mainSubplot)return"";if(!me._anchorAxis)return pe(me._mainLinePosition);var Me=oe(me._mainLinePosition);return me.mirror&&(Me+=oe(me._mainMirrorPosition)),Me}for(ee in z._plots){ae=z._plots[ee],K=ae.xaxis,W=ae.yaxis;var ke="M0,0";A(K,ee)&&(Ve=m(K,"left",W,G),Ae=K._offset-(Ve?B+Ve:0),rt=m(K,"right",W,G),Ne=K._offset+K._length+(rt?B+rt:0),Ue=Z(K,W,"bottom"),Re=Z(K,W,"top"),Ct=!K._anchorAxis||ee!==K._mainSubplot,Ct&&(K.mirror==="allticks"||K.mirror==="all")&&(K._linepositions[ee]=[Ue,Re]),ke=Pe(K,Rt,Zt),Ct&&K.showline&&(K.mirror==="all"||K.mirror==="allticks")&&(ke+=Rt(Ue)+Rt(Re)),ae.xlines.style("stroke-width",K._lw+"px").call(d.stroke,K.showline?K.linecolor:"rgba(0,0,0,0)")),ae.xlines.attr("d",ke);var Ce="M0,0";A(W,ee)&&(pt=m(W,"bottom",K,G),Qe=W._offset+W._length+(pt?B:0),mt=m(W,"top",K,G),Je=W._offset-(mt?B:0),qe=Z(W,K,"left"),dt=Z(W,K,"right"),Ct=!W._anchorAxis||ee!==W._mainSubplot,Ct&&(W.mirror==="allticks"||W.mirror==="all")&&(W._linepositions[ee]=[qe,dt]),Ce=Pe(W,Xe,Le),Ct&&W.showline&&(W.mirror==="all"||W.mirror==="allticks")&&(Ce+=Xe(qe)+Xe(dt)),ae.ylines.style("stroke-width",W._lw+"px").call(d.stroke,W.showline?W.linecolor:"rgba(0,0,0,0)")),ae.ylines.attr("d",Ce)}return n.makeClipPaths(O),a.previousPromises(O)}function A(O,z){return(O.ticks||O.showline)&&(z===O._mainSubplot||O.mirror==="all"||O.mirror==="allticks")}function E(O,z,F){if(!F.showline||!F._lw)return!1;if(F.mirror==="all"||F.mirror==="allticks")return!0;var B=F._anchorAxis;if(!B)return!1;var G=s.FROM_BL[z];return F.side===z?B.domain[G]===O.domain[G]:F.mirror&&B.domain[1-G]===O.domain[1-G]}function m(O,z,F,B){if(E(O,z,F))return F._lw;for(var G=0;G<B.length;G++){var Q=B[G];if(Q._mainAxis===F._mainAxis&&E(O,z,Q))return Q._lw}return 0}U.drawMainTitle=function(O){var z=O._fullLayout.title,F=O._fullLayout,B=N(F),G=k(F),Q=_(F,G),ee=y(F,B);if(r.draw(O,"gtitle",{propContainer:F,propName:"title.text",placeholder:F._dfltTitle.plot,attributes:{x:ee,y:Q,"text-anchor":B,dy:G}}),z.text&&z.automargin){var ae=g.selectAll(".gtitle"),fe=t.bBox(ae.node()).height,K=i(O,z,fe);K>0&&(C(O,Q,K,fe),ae.attr({x:ee,y:Q,"text-anchor":B,dy:I(z.yanchor)}).call(T.positionText,ee,Q))}};function M(O,z,F,B,G){var Q=z.yref==="paper"?O._fullLayout._size.h:O._fullLayout.height,ee=L.isTopAnchor(z)?B:B-G,ae=F==="b"?Q-ee:ee;return L.isTopAnchor(z)&&F==="t"||L.isBottomAnchor(z)&&F==="b"?!1:ae<G}function w(O,z,F,B,G){var Q=0;return F==="middle"&&(Q+=G/2),O==="t"?(F==="top"&&(Q+=G),Q+=B-z*B):(F==="bottom"&&(Q+=G),Q+=z*B),Q}function i(O,z,F){var B=z.y,G=z.yanchor,Q=B>.5?"t":"b",ee=O._fullLayout.margin[Q],ae=0;return z.yref==="paper"?ae=F+z.pad.t+z.pad.b:z.yref==="container"&&(ae=w(Q,B,G,O._fullLayout.height,F)+z.pad.t+z.pad.b),ae>ee?ae:0}function C(O,z,F,B){var G="title.automargin",Q=O._fullLayout.title,ee=Q.y>.5?"t":"b",ae={x:Q.x,y:Q.y,t:0,b:0},fe={};Q.yref==="paper"&&M(O,Q,ee,z,B)?ae[ee]=F:Q.yref==="container"&&(fe[ee]=F,O._fullLayout._reservedMargin[G]=fe),a.allowAutoMargin(O,G),a.autoMargin(O,G,ae)}function y(O,z){var F=O.title,B=O._size,G=0;switch(z===b?G=F.pad.l:z===o&&(G=-F.pad.r),F.xref){case"paper":return B.l+B.w*F.x+G;case"container":default:return O.width*F.x+G}}function _(O,z){var F=O.title,B=O._size,G=0;if(z==="0em"||!z?G=-F.pad.b:z===s.CAP_SHIFT+"em"&&(G=F.pad.t),F.y==="auto")return B.t/2;switch(F.yref){case"paper":return B.t+B.h-B.h*F.y+G;case"container":default:return O.height-O.height*F.y+G}}function I(O){return O==="top"?s.CAP_SHIFT+.3+"em":O==="bottom"?"-0.3em":s.MID_SHIFT+"em"}function N(O){var z=O.title,F=h;return L.isRightAnchor(z)?F=o:L.isLeftAnchor(z)&&(F=b),F}function k(O){var z=O.title,F="0em";return L.isTopAnchor(z)?F=s.CAP_SHIFT+"em":L.isMiddleAnchor(z)&&(F=s.MID_SHIFT+"em"),F}U.doTraceStyle=function(O){var z=O.calcdata,F=[],B;for(B=0;B<z.length;B++){var G=z[B],Q=G[0]||{},ee=Q.trace||{},ae=ee._module||{},fe=ae.arraysToCalcdata;fe&&fe(G,ee);var K=ae.editStyle;K&&F.push({fn:K,cd0:Q})}if(F.length){for(B=0;B<F.length;B++){var W=F[B];W.fn(O,W.cd0)}v(O),U.redrawReglTraces(O)}return a.style(O),P.getComponentMethod("legend","draw")(O),a.previousPromises(O)},U.doColorBars=function(O){return P.getComponentMethod("colorbar","draw")(O),a.previousPromises(O)},U.layoutReplot=function(O){var z=O.layout;return O.layout=void 0,P.call("_doPlot",O,"",z)},U.doLegend=function(O){return P.getComponentMethod("legend","draw")(O),a.previousPromises(O)},U.doTicksRelayout=function(O){return n.draw(O,"redraw"),O._fullLayout._hasOnlyLargeSploms&&(P.subplotsRegistry.splom.updateGrid(O),v(O),U.redrawReglTraces(O)),U.drawMainTitle(O),a.previousPromises(O)},U.doModeBar=function(O){var z=O._fullLayout;u.manage(O);for(var F=0;F<z._basePlotModules.length;F++){var B=z._basePlotModules[F].updateFx;B&&B(O)}return a.previousPromises(O)},U.doCamera=function(O){for(var z=O._fullLayout,F=z._subplots.gl3d,B=0;B<F.length;B++){var G=z[F[B]],Q=G._scene;Q.setViewport(G)}},U.drawData=function(O){var z=O._fullLayout;v(O);for(var F=z._basePlotModules,B=0;B<F.length;B++)F[B].plot(O);return U.redrawReglTraces(O),a.style(O),P.getComponentMethod("selections","draw")(O),P.getComponentMethod("shapes","draw")(O),P.getComponentMethod("annotations","draw")(O),P.getComponentMethod("images","draw")(O),z._replotting=!1,a.previousPromises(O)},U.redrawReglTraces=function(O){var z=O._fullLayout;if(z._has("regl")){var F=O._fullData,B=[],G=[],Q,ee;for(z._hasOnlyLargeSploms&&z._splomGrid.draw(),Q=0;Q<F.length;Q++){var ae=F[Q];ae.visible===!0&&ae._length!==0&&(ae.type==="splom"?z._splomScenes[ae.uid].draw():ae.type==="scattergl"?L.pushUnique(B,ae.xaxis+ae.yaxis):ae.type==="scatterpolargl"&&L.pushUnique(G,ae.subplot))}for(Q=0;Q<B.length;Q++)ee=z._plots[B[Q]],ee._scene&&ee._scene.draw();for(Q=0;Q<G.length;Q++)ee=z[G[Q]]._subplot,ee._scene&&ee._scene.draw()}},U.doAutoRangeAndConstraints=function(O){for(var z=n.list(O,"",!0),F,B={},G=0;G<z.length;G++)if(F=z[G],!B[F._id]){B[F._id]=1,x(O,F),c(O,F);var Q=F._matchGroup;if(Q)for(var ee in Q){var ae=n.getFromId(O,ee);c(O,ae,F.range),B[ee]=1}}l(O)},U.finalDraw=function(O){P.getComponentMethod("rangeslider","draw")(O),P.getComponentMethod("rangeselector","draw")(O)},U.drawMarginPushers=function(O){P.getComponentMethod("legend","draw")(O),P.getComponentMethod("rangeselector","draw")(O),P.getComponentMethod("sliders","draw")(O),P.getComponentMethod("updatemenus","draw")(O),P.getComponentMethod("colorbar","draw")(O)}},96318:function(H,U,e){var g=e(71828),P=g.isPlainObject,a=e(86281),L=e(74875),T=e(9012),v=e(44467),d=e(72075).dfltConfig;U.makeTemplate=function(c){c=g.isPlainObject(c)?c:g.getGraphDiv(c),c=g.extendDeep({_context:d},{data:c.data,layout:c.layout}),L.supplyDefaults(c);var b=c.data||[],h=c.layout||{};h._basePlotModules=c._fullLayout._basePlotModules,h._modules=c._fullLayout._modules;var o={data:{},layout:{}};b.forEach(function(y){var _={};u(y,_,s.bind(null,y));var I=g.coerce(y,{},T,"type"),N=o.data[I];N||(N=o.data[I]=[]),N.push(_)}),u(h,o.layout,n.bind(null,h)),delete o.layout.template;var p=h.template;if(P(p)){var S=p.layout,A,E,m,M,w,i;P(S)&&t(S,o.layout);var C=p.data;if(P(C)){for(E in o.data)if(m=C[E],Array.isArray(m)){for(w=o.data[E],i=w.length,M=m.length,A=0;A<i;A++)t(m[A%M],w[A]);for(A=i;A<M;A++)w.push(g.extendDeep({},m[A]))}for(E in C)E in o.data||(o.data[E]=g.extendDeep([],C[E]))}}return o};function t(c,b){c=g.extendDeep({},c);var h=Object.keys(c).sort(),o,p;function S(w,i,C){if(P(i)&&P(w))t(w,i);else if(Array.isArray(i)&&Array.isArray(w)){var y=v.arrayTemplater({_template:c},C);for(p=0;p<i.length;p++){var _=i[p],I=y.newItem(_)._template;I&&t(I,_)}var N=y.defaultItems();for(p=0;p<N.length;p++)i.push(N[p]._template);for(p=0;p<i.length;p++)delete i[p].templateitemname}}for(o=0;o<h.length;o++){var A=h[o],E=c[A];if(A in b?S(E,b[A],A):b[A]=E,r(A)===A)for(var m in b){var M=r(m);m!==M&&M===A&&!(m in c)&&S(E,b[m],A)}}}function r(c){return c.replace(/[0-9]+$/,"")}function u(c,b,h,o,p){var S=p&&h(p);for(var A in c){var E=c[A],m=f(c,A,o),M=f(c,A,p),w=h(M);if(!w){var i=r(A);i!==A&&(M=f(c,i,p),w=h(M))}if(!(S&&S===w)&&!(!w||w._noTemplating||w.valType==="data_array"||w.arrayOk&&Array.isArray(E)))if(!w.valType&&P(E))u(E,b,h,m,M);else if(w._isLinkedToArray&&Array.isArray(E))for(var C=!1,y=0,_={},I=0;I<E.length;I++){var N=E[I];if(P(N)){var k=N.name;if(k)_[k]||(u(N,b,h,f(E,y,m),f(E,y,M)),y++,_[k]=1);else if(!C){var O=v.arrayDefaultKey(A),z=f(c,O,o),F=f(E,y,m);u(N,b,h,F,f(E,y,M));var B=g.nestedProperty(b,F),G=g.nestedProperty(b,z);G.set(B.get()),B.set(null),C=!0}}}else{var Q=g.nestedProperty(b,m);Q.set(E)}}}function n(c,b){return a.getLayoutValObject(c,g.nestedProperty({},b).parts)}function s(c,b){return a.getTraceValObject(c,g.nestedProperty({},b).parts)}function f(c,b,h){var o;return h?Array.isArray(c)?o=h+"["+b+"]":o=h+"."+b:o=b,o}U.validateTemplate=function(c,b){var h=g.extendDeep({},{_context:d,data:c.data,layout:c.layout}),o=h.layout||{};P(b)||(b=o.template||{});var p=b.layout,S=b.data,A=[];h.layout=o,h.layout.template=b,L.supplyDefaults(h);var E=h._fullLayout,m=h._fullData,M={};function w(z,F){for(var B in z)if(B.charAt(0)!=="_"&&P(z[B])){var G=r(B),Q=[],ee;for(ee=0;ee<F.length;ee++)Q.push(f(z,B,F[ee])),G!==B&&Q.push(f(z,G,F[ee]));for(ee=0;ee<Q.length;ee++)M[Q[ee]]=1;w(z[B],Q)}}function i(z,F){for(var B in z)if(B.indexOf("defaults")===-1&&P(z[B])){var G=f(z,B,F);M[G]?i(z[B],G):A.push({code:"unused",path:G})}}if(P(p)?(w(E,["layout"]),i(p,"layout")):A.push({code:"layout"}),!P(S))A.push({code:"data"});else{for(var C={},y,_=0;_<m.length;_++){var I=m[_];y=I.type,C[y]=(C[y]||0)+1,I._fullInput._template||A.push({code:"missing",index:I._fullInput.index,traceType:y})}for(y in S){var N=S[y].length,k=C[y]||0;N>k?A.push({code:"unused",traceType:y,templateCount:N,dataCount:k}):k>N&&A.push({code:"reused",traceType:y,templateCount:N,dataCount:k})}}function O(z,F){for(var B in z)if(B.charAt(0)!=="_"){var G=z[B],Q=f(z,B,F);P(G)?(Array.isArray(z)&&G._template===!1&&G.templateitemname&&A.push({code:"missing",path:Q,templateitemname:G.templateitemname}),O(G,Q)):Array.isArray(G)&&l(G)&&O(G,Q)}}if(O({data:m,layout:E},""),A.length)return A.map(x)};function l(c){for(var b=0;b<c.length;b++)if(P(c[b]))return!0}function x(c){var b;switch(c.code){case"data":b="The template has no key data.";break;case"layout":b="The template has no key layout.";break;case"missing":c.path?b="There are no templates for item "+c.path+" with name "+c.templateitemname:b="There are no templates for trace "+c.index+", of type "+c.traceType+".";break;case"unused":c.path?b="The template item at "+c.path+" was not used in constructing the plot.":c.dataCount?b="Some of the templates of type "+c.traceType+" were not used. The template has "+c.templateCount+" traces, the data only has "+c.dataCount+" of this type.":b="The template has "+c.templateCount+" traces of type "+c.traceType+" but there are none in the data.";break;case"reused":b="Some of the templates of type "+c.traceType+" were used more than once. The template has "+c.templateCount+" traces, the data has "+c.dataCount+" of this type.";break}return c.msg=b,c}},403:function(H,U,e){var g=e(92770),P=e(72391),a=e(74875),L=e(71828),T=e(25095),v=e(5900),d=e(70942),t=e(11506).version,r={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function u(n,s){s=s||{};var f,l,x,c;L.isPlainObject(n)?(f=n.data||[],l=n.layout||{},x=n.config||{},c={}):(n=L.getGraphDiv(n),f=L.extendDeep([],n.data),l=L.extendDeep({},n.layout),x=n._context,c=n._fullLayout||{});function b(k){return!(k in s)||L.validate(s[k],r[k])}if(!b("width")&&s.width!==null||!b("height")&&s.height!==null)throw new Error("Height and width should be pixel values.");if(!b("format"))throw new Error("Export format is not "+L.join2(r.format.values,", "," or ")+".");var h={};function o(k,O){return L.coerce(s,h,r,k,O)}var p=o("format"),S=o("width"),A=o("height"),E=o("scale"),m=o("setBackground"),M=o("imageDataOnly"),w=document.createElement("div");w.style.position="absolute",w.style.left="-5000px",document.body.appendChild(w);var i=L.extendFlat({},l);S?i.width=S:s.width===null&&g(c.width)&&(i.width=c.width),A?i.height=A:s.height===null&&g(c.height)&&(i.height=c.height);var C=L.extendFlat({},x,{_exportedPlot:!0,staticPlot:!0,setBackground:m}),y=T.getRedrawFunc(w);function _(){return new Promise(function(k){setTimeout(k,T.getDelay(w._fullLayout))})}function I(){return new Promise(function(k,O){var z=v(w,p,E),F=w._fullLayout.width,B=w._fullLayout.height;function G(){P.purge(w),document.body.removeChild(w)}if(p==="full-json"){var Q=a.graphJson(w,!1,"keepdata","object",!0,!0);return Q.version=t,Q=JSON.stringify(Q),G(),k(M?Q:T.encodeJSON(Q))}if(G(),p==="svg")return k(M?z:T.encodeSVG(z));var ee=document.createElement("canvas");ee.id=L.randstr(),d({format:p,width:F,height:B,scale:E,canvas:ee,svg:z,promise:!0}).then(k).catch(O)})}function N(k){return M?k.replace(T.IMAGE_URL_PREFIX,""):k}return new Promise(function(k,O){P.newPlot(w,f,i,C).then(y).then(_).then(I).then(function(z){k(N(z))}).catch(function(z){O(z)})})}H.exports=u},84936:function(H,U,e){var g=e(71828),P=e(74875),a=e(86281),L=e(72075).dfltConfig,T=g.isPlainObject,v=Array.isArray,d=g.isArrayOrTypedArray;H.exports=function(o,p){o===void 0&&(o=[]),p===void 0&&(p={});var S=a.get(),A=[],E={_context:g.extendFlat({},L)},m,M;v(o)?(E.data=g.extendDeep([],o),m=o):(E.data=[],m=[],A.push(s("array","data"))),T(p)?(E.layout=g.extendDeep({},p),M=p):(E.layout={},M={},arguments.length>1&&A.push(s("object","layout"))),P.supplyDefaults(E);for(var w=E._fullData,i=m.length,C=0;C<i;C++){var y=m[C],_=["data",C];if(!T(y)){A.push(s("object",_));continue}var I=w[C],N=I.type,k=S.traces[N].attributes;k.type={valType:"enumerated",values:[N]},I.visible===!1&&y.visible!==!1&&A.push(s("invisible",_)),t(y,I,k,A,_);var O=y.transforms,z=I.transforms;if(O){v(O)||A.push(s("array",_,["transforms"])),_.push("transforms");for(var F=0;F<O.length;F++){var B=["transforms",F],G=O[F].type;if(!T(O[F])){A.push(s("object",_,B));continue}var Q=S.transforms[G]?S.transforms[G].attributes:{};Q.type={valType:"enumerated",values:Object.keys(S.transforms)},t(O[F],z[F],Q,A,_,B)}}}var ee=E._fullLayout,ae=r(S,w);return t(M,ee,ae,A,"layout"),A.length===0?void 0:A};function t(h,o,p,S,A,E){E=E||[];for(var m=Object.keys(h),M=0;M<m.length;M++){var w=m[M];if(w!=="transforms"){var i=E.slice();i.push(w);var C=h[w],y=o[w],_=l(p,w),I=(_||{}).valType,N=I==="info_array",k=I==="colorscale",O=(_||{}).items;if(!f(p,w))S.push(s("schema",A,i));else if(T(C)&&T(y)&&I!=="any")t(C,y,_,S,A,i);else if(N&&v(C)){C.length>y.length&&S.push(s("unused",A,i.concat(y.length)));var z=y.length,F=Array.isArray(O);F&&(z=Math.min(z,O.length));var B,G,Q,ee,ae;if(_.dimensions===2)for(G=0;G<z;G++)if(v(C[G])){C[G].length>y[G].length&&S.push(s("unused",A,i.concat(G,y[G].length)));var fe=y[G].length;for(B=0;B<(F?Math.min(fe,O[G].length):fe);B++)Q=F?O[G][B]:O,ee=C[G][B],ae=y[G][B],g.validate(ee,Q)?ae!==ee&&ae!==+ee&&S.push(s("dynamic",A,i.concat(G,B),ee,ae)):S.push(s("value",A,i.concat(G,B),ee))}else S.push(s("array",A,i.concat(G),C[G]));else for(G=0;G<z;G++)Q=F?O[G]:O,ee=C[G],ae=y[G],g.validate(ee,Q)?ae!==ee&&ae!==+ee&&S.push(s("dynamic",A,i.concat(G),ee,ae)):S.push(s("value",A,i.concat(G),ee))}else if(_.items&&!N&&v(C)){var K=O[Object.keys(O)[0]],W=[],Z,X;for(Z=0;Z<y.length;Z++){var $=y[Z]._index||Z;if(X=i.slice(),X.push($),T(C[$])&&T(y[Z])){W.push($);var ie=C[$],J=y[Z];T(ie)&&ie.visible!==!1&&J.visible===!1?S.push(s("invisible",A,X)):t(ie,J,K,S,A,X)}}for(Z=0;Z<C.length;Z++)X=i.slice(),X.push(Z),T(C[Z])?W.indexOf(Z)===-1&&S.push(s("unused",A,X)):S.push(s("object",A,X,C[Z]))}else!T(C)&&T(y)?S.push(s("object",A,i,C)):!d(C)&&d(y)&&!N&&!k?S.push(s("array",A,i,C)):w in o?g.validate(C,_)?_.valType==="enumerated"&&(_.coerceNumber&&C!==+y||C!==y)&&S.push(s("dynamic",A,i,C,y)):S.push(s("value",A,i,C)):S.push(s("unused",A,i,C))}}return S}function r(h,o){for(var p=h.layout.layoutAttributes,S=0;S<o.length;S++){var A=o[S],E=h.traces[A.type],m=E.layoutAttributes;m&&(A.subplot?g.extendFlat(p[E.attributes.subplot.dflt],m):g.extendFlat(p,m))}return p}var u={object:function(h,o){var p;return h==="layout"&&o===""?p="The layout argument":h[0]==="data"&&o===""?p="Trace "+h[1]+" in the data argument":p=n(h)+"key "+o,p+" must be linked to an object container"},array:function(h,o){var p;return h==="data"?p="The data argument":p=n(h)+"key "+o,p+" must be linked to an array container"},schema:function(h,o){return n(h)+"key "+o+" is not part of the schema"},unused:function(h,o,p){var S=T(p)?"container":"key";return n(h)+S+" "+o+" did not get coerced"},dynamic:function(h,o,p,S){return[n(h)+"key",o,"(set to '"+p+"')","got reset to","'"+S+"'","during defaults."].join(" ")},invisible:function(h,o){return(o?n(h)+"item "+o:"Trace "+h[1])+" got defaulted to be not visible"},value:function(h,o,p){return[n(h)+"key "+o,"is set to an invalid value ("+p+")"].join(" ")}};function n(h){return v(h)?"In data trace "+h[1]+", ":"In "+h+", "}function s(h,o,p,S,A){p=p||"";var E,m;v(o)?(E=o[0],m=o[1]):(E=o,m=null);var M=b(p),w=u[h](o,M,S,A);return g.log(w),{code:h,container:E,trace:m,path:p,astr:M,msg:w}}function f(h,o){var p=c(o),S=p.keyMinusId,A=p.id;return S in h&&h[S]._isSubplotObj&&A?!0:o in h}function l(h,o){if(o in h)return h[o];var p=c(o);return h[p.keyMinusId]}var x=g.counterRegex("([a-z]+)");function c(h){var o=h.match(x);return{keyMinusId:o&&o[1],id:o&&o[2]}}function b(h){if(!v(h))return String(h);for(var o="",p=0;p<h.length;p++){var S=h[p];typeof S=="number"?o=o.substr(0,o.length-1)+"["+S+"]":o+=S,p<h.length-1&&(o+=".")}return o}},85594:function(H){H.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},85501:function(H,U,e){var g=e(71828),P=e(44467);H.exports=function(L,T,v){var d=v.name,t=v.inclusionAttr||"visible",r=T[d],u=g.isArrayOrTypedArray(L[d])?L[d]:[],n=T[d]=[],s=P.arrayTemplater(T,d,t),f,l;for(f=0;f<u.length;f++){var x=u[f];g.isPlainObject(x)?l=s.newItem(x):(l=s.newItem({}),l[t]=!1),l._index=f,l[t]!==!1&&v.handleItemDefaults(x,l,T,v),n.push(l)}var c=s.defaultItems();for(f=0;f<c.length;f++)l=c[f],l._index=n.length,v.handleItemDefaults({},l,T,v,{}),n.push(l);if(g.isArrayOrTypedArray(r)){var b=Math.min(r.length,n.length);for(f=0;f<b;f++)g.relinkPrivateKeys(n[f],r[f])}return n}},9012:function(H,U,e){var g=e(41940),P=e(77914);H.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:g({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:P.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},42973:function(H,U,e){var g=e(92770),P=e(71828),a=P.dateTime2ms,L=P.incrementMonth,T=e(50606),v=T.ONEAVGMONTH;H.exports=function(t,r,u,n){if(r.type!=="date")return{vals:n};var s=t[u+"periodalignment"];if(!s)return{vals:n};var f=t[u+"period"],l;if(g(f)){if(f=+f,f<=0)return{vals:n}}else if(typeof f=="string"&&f.charAt(0)==="M"){var x=+f.substring(1);if(x>0&&Math.round(x)===x)l=x;else return{vals:n}}for(var c=r.calendar,b=s==="start",h=s==="end",o=t[u+"period0"],p=a(o,c)||0,S=[],A=[],E=[],m=n.length,M=0;M<m;M++){var w=n[M],i,C,y;if(l){for(i=Math.round((w-p)/(l*v)),y=L(p,l*i,c);y>w;)y=L(y,-l,c);for(;y<=w;)y=L(y,l,c);C=L(y,-l,c)}else{for(i=Math.round((w-p)/f),y=p+i*f;y>w;)y-=f;for(;y<=w;)y+=f;C=y-f}S[M]=b?C:h?y:(C+y)/2,A[M]=C,E[M]=y}return{vals:S,starts:A,ends:E}}},89502:function(H){H.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},71739:function(H,U,e){var g=e(39898),P=e(92770),a=e(71828),L=e(50606).FP_SAFE,T=e(73972),v=e(91424),d=e(41675),t=d.getFromId,r=d.isLinked;H.exports={applyAutorangeOptions:i,getAutoRange:u,makePadFn:s,doAutoRange:c,findExtremes:b,concatExtremes:x};function u(C,y){var _,I,N=[],k=C._fullLayout,O=s(k,y,0),z=s(k,y,1),F=x(C,y),B=F.min,G=F.max;if(B.length===0||G.length===0)return a.simpleMap(y.range,y.r2l);var Q=B[0].val,ee=G[0].val;for(_=1;_<B.length&&Q===ee;_++)Q=Math.min(Q,B[_].val);for(_=1;_<G.length&&Q===ee;_++)ee=Math.max(ee,G[_].val);var ae=y.autorange,fe=ae==="reversed"||ae==="min reversed"||ae==="max reversed";if(!fe&&y.range){var K=a.simpleMap(y.range,y.r2l);fe=K[1]<K[0]}y.autorange==="reversed"&&(y.autorange=!0);var W=y.rangemode,Z=W==="tozero",X=W==="nonnegative",$=y._length,ie=$/10,J=0,j,se,ne,ue,ge,we;for(_=0;_<B.length;_++)for(j=B[_],I=0;I<G.length;I++)se=G[I],we=se.val-j.val-n(y,j.val,se.val),we>0&&(ge=$-O(j)-z(se),ge>ie?we/ge>J&&(ne=j,ue=se,J=we/ge):we/$>J&&(ne={val:j.val,nopad:1},ue={val:se.val,nopad:1},J=we/$));function xe(Ae,Ne){return Math.max(Ae,z(Ne))}if(Q===ee){var Fe=Q-1,ze=Q+1;if(Z)if(Q===0)N=[0,1];else{var Te=(Q>0?G:B).reduce(xe,0),ye=Q/(1-Math.min(.5,Te/$));N=Q>0?[0,ye]:[ye,0]}else X?N=[Math.max(0,Fe),Math.max(1,ze)]:N=[Fe,ze]}else Z?(ne.val>=0&&(ne={val:0,nopad:1}),ue.val<=0&&(ue={val:0,nopad:1})):X&&(ne.val-J*O(ne)<0&&(ne={val:0,nopad:1}),ue.val<=0&&(ue={val:1,nopad:1})),J=(ue.val-ne.val-n(y,j.val,se.val))/($-O(ne)-z(ue)),N=[ne.val-J*O(ne),ue.val+J*z(ue)];return N=i(N,y),y.limitRange&&y.limitRange(),fe&&N.reverse(),a.simpleMap(N,y.l2r||Number)}function n(C,y,_){var I=0;if(C.rangebreaks)for(var N=C.locateBreaks(y,_),k=0;k<N.length;k++){var O=N[k];I+=O.max-O.min}return I}function s(C,y,_){var I=.05*y._length,N=y._anchorAxis||{};if((y.ticklabelposition||"").indexOf("inside")!==-1||(N.ticklabelposition||"").indexOf("inside")!==-1){var k=y.isReversed();if(!k){var O=a.simpleMap(y.range,y.r2l);k=O[1]<O[0]}k&&(_=!_)}var z=0;return r(C,y._id)||(z=l(C,y,_)),I=Math.max(z,I),y.constrain==="domain"&&y._inputDomain&&(I*=(y._inputDomain[1]-y._inputDomain[0])/(y.domain[1]-y.domain[0])),function(B){return B.nopad?0:B.pad+(B.extrapad?I:z)}}var f=3;function l(C,y,_){var I=0,N=y._id.charAt(0)==="x";for(var k in C._plots){var O=C._plots[k];if(!(y._id!==O.xaxis._id&&y._id!==O.yaxis._id)){var z=(N?O.yaxis:O.xaxis)||{};if((z.ticklabelposition||"").indexOf("inside")!==-1&&(!_&&(z.side==="left"||z.side==="bottom")||_&&(z.side==="top"||z.side==="right"))){if(z._vals){var F=a.deg2rad(z._tickAngles[z._id+"tick"]||0),B=Math.abs(Math.cos(F)),G=Math.abs(Math.sin(F));if(!z._vals[0].bb){var Q=z._id+"tick",ee=z._selections[Q];ee.each(function(X){var $=g.select(this),ie=$.select(".text-math-group");ie.empty()&&(X.bb=v.bBox($.node()))})}for(var ae=0;ae<z._vals.length;ae++){var fe=z._vals[ae],K=fe.bb;if(K){var W=2*f+K.width,Z=2*f+K.height;I=Math.max(I,N?Math.max(W*B,Z*G):Math.max(Z*B,W*G))}}}z.ticks==="inside"&&z.ticklabelposition==="inside"&&(I+=z.ticklen||0)}}}return I}function x(C,y,_){var I=y._id,N=C._fullData,k=C._fullLayout,O=[],z=[],F,B,G;function Q(W,Z){for(F=0;F<Z.length;F++){var X=W[Z[F]],$=(X._extremes||{})[I];if(X.visible===!0&&$){for(B=0;B<$.min.length;B++)G=$.min[B],h(O,G.val,G.pad,{extrapad:G.extrapad});for(B=0;B<$.max.length;B++)G=$.max[B],o(z,G.val,G.pad,{extrapad:G.extrapad})}}}if(Q(N,y._traceIndices),Q(k.annotations||[],y._annIndices||[]),Q(k.shapes||[],y._shapeIndices||[]),y._matchGroup&&!_){for(var ee in y._matchGroup)if(ee!==y._id){var ae=t(C,ee),fe=x(C,ae,!0),K=y._length/ae._length;for(B=0;B<fe.min.length;B++)G=fe.min[B],h(O,G.val,G.pad*K,{extrapad:G.extrapad});for(B=0;B<fe.max.length;B++)G=fe.max[B],o(z,G.val,G.pad*K,{extrapad:G.extrapad})}}return{min:O,max:z}}function c(C,y,_){if(y.setScale(),y.autorange){y.range=_?_.slice():u(C,y),y._r=y.range.slice(),y._rl=a.simpleMap(y._r,y.r2l);var I=y._input,N={};N[y._attr+".range"]=y.range,N[y._attr+".autorange"]=y.autorange,T.call("_storeDirectGUIEdit",C.layout,C._fullLayout._preGUI,N),I.range=y.range.slice(),I.autorange=y.autorange}var k=y._anchorAxis;if(k&&k.rangeslider){var O=k.rangeslider[y._name];O&&O.rangemode==="auto"&&(O.range=u(C,y)),k._input.rangeslider[y._name]=a.extendFlat({},O)}}function b(C,y,_){_||(_={}),C._m||C.setScale();var I=[],N=[],k=y.length,O=_.padded||!1,z=_.tozero&&(C.type==="linear"||C.type==="-"),F=C.type==="log",B=!1,G=_.vpadLinearized||!1,Q,ee,ae,fe,K,W,Z,X,$;function ie(xe){if(Array.isArray(xe))return B=!0,function(ze){return Math.max(Number(xe[ze]||0),0)};var Fe=Math.max(Number(xe||0),0);return function(){return Fe}}var J=ie((C._m>0?_.ppadplus:_.ppadminus)||_.ppad||0),j=ie((C._m>0?_.ppadminus:_.ppadplus)||_.ppad||0),se=ie(_.vpadplus||_.vpad),ne=ie(_.vpadminus||_.vpad);if(!B){if(X=1/0,$=-1/0,F)for(Q=0;Q<k;Q++)ee=y[Q],ee<X&&ee>0&&(X=ee),ee>$&&ee<L&&($=ee);else for(Q=0;Q<k;Q++)ee=y[Q],ee<X&&ee>-L&&(X=ee),ee>$&&ee<L&&($=ee);y=[X,$],k=2}var ue={tozero:z,extrapad:O};function ge(xe){ae=y[xe],P(ae)&&(W=J(xe),Z=j(xe),G?(fe=C.c2l(ae)-ne(xe),K=C.c2l(ae)+se(xe)):(X=ae-ne(xe),$=ae+se(xe),F&&X<$/10&&(X=$/10),fe=C.c2l(X),K=C.c2l($)),z&&(fe=Math.min(0,fe),K=Math.max(0,K)),S(fe)&&h(I,fe,Z,ue),S(K)&&o(N,K,W,ue))}var we=Math.min(6,k);for(Q=0;Q<we;Q++)ge(Q);for(Q=k-1;Q>=we;Q--)ge(Q);return{min:I,max:N,opts:_}}function h(C,y,_,I){p(C,y,_,I,A)}function o(C,y,_,I){p(C,y,_,I,E)}function p(C,y,_,I,N){for(var k=I.tozero,O=I.extrapad,z=!0,F=0;F<C.length&&z;F++){var B=C[F];if(N(B.val,y)&&B.pad>=_&&(B.extrapad||!O)){z=!1;break}else N(y,B.val)&&B.pad<=_&&(O||!B.extrapad)&&(C.splice(F,1),F--)}if(z){var G=k&&y===0;C.push({val:y,pad:G?0:_,extrapad:G?!1:O})}}function S(C){return P(C)&&Math.abs(C)<L}function A(C,y){return C<=y}function E(C,y){return C>=y}function m(C,y){var _=y.autorangeoptions;return _&&_.minallowed!==void 0&&w(y,_.minallowed,_.maxallowed)?_.minallowed:_&&_.clipmin!==void 0&&w(y,_.clipmin,_.clipmax)?Math.max(C,y.d2l(_.clipmin)):C}function M(C,y){var _=y.autorangeoptions;return _&&_.maxallowed!==void 0&&w(y,_.minallowed,_.maxallowed)?_.maxallowed:_&&_.clipmax!==void 0&&w(y,_.clipmin,_.clipmax)?Math.min(C,y.d2l(_.clipmax)):C}function w(C,y,_){return y!==void 0&&_!==void 0?(y=C.d2l(y),_=C.d2l(_),y<_):!0}function i(C,y){if(!y||!y.autorangeoptions)return C;var _=C[0],I=C[1],N=y.autorangeoptions.include;if(N!==void 0){var k=y.d2l(_),O=y.d2l(I);a.isArrayOrTypedArray(N)||(N=[N]);for(var z=0;z<N.length;z++){var F=y.d2l(N[z]);k>=F&&(k=F,_=F),O<=F&&(O=F,I=F)}}return _=m(_,y),I=M(I,y),[_,I]}},23074:function(H){H.exports=function(e,g,P){var a,L;if(P){var T=g==="reversed"||g==="min reversed"||g==="max reversed";a=P[T?1:0],L=P[T?0:1]}var v=e("autorangeoptions.minallowed",L===null?a:void 0),d=e("autorangeoptions.maxallowed",a===null?L:void 0);v===void 0&&e("autorangeoptions.clipmin"),d===void 0&&e("autorangeoptions.clipmax"),e("autorangeoptions.include")}},89298:function(H,U,e){var g=e(39898),P=e(92770),a=e(74875),L=e(73972),T=e(71828),v=T.strTranslate,d=e(63893),t=e(92998),r=e(7901),u=e(91424),n=e(13838),s=e(66287),f=e(50606),l=f.ONEMAXYEAR,x=f.ONEAVGYEAR,c=f.ONEMINYEAR,b=f.ONEMAXQUARTER,h=f.ONEAVGQUARTER,o=f.ONEMINQUARTER,p=f.ONEMAXMONTH,S=f.ONEAVGMONTH,A=f.ONEMINMONTH,E=f.ONEWEEK,m=f.ONEDAY,M=m/2,w=f.ONEHOUR,i=f.ONEMIN,C=f.ONESEC,y=f.MINUS_SIGN,_=f.BADNUM,I={K:"zeroline"},N={K:"gridline",L:"path"},k={K:"minor-gridline",L:"path"},O={K:"tick",L:"path"},z={K:"tick",L:"text"},F={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},B=e(18783),G=B.MID_SHIFT,Q=B.CAP_SHIFT,ee=B.LINE_SPACING,ae=B.OPPOSITE_SIDE,fe=3,K=H.exports={};K.setConvert=e(21994);var W=e(4322),Z=e(41675),X=Z.idSort,$=Z.isLinked;K.id2name=Z.id2name,K.name2id=Z.name2id,K.cleanId=Z.cleanId,K.list=Z.list,K.listIds=Z.listIds,K.getFromId=Z.getFromId,K.getFromTrace=Z.getFromTrace;var ie=e(71739);K.getAutoRange=ie.getAutoRange,K.findExtremes=ie.findExtremes;var J=1e-4;function j(We){var Ge=(We[1]-We[0])*J;return[We[0]-Ge,We[1]+Ge]}K.coerceRef=function(We,Ge,_t,Ot,Kt,or){var hr=Ot.charAt(Ot.length-1),ir=_t._fullLayout._subplots[hr+"axis"],Nt=Ot+"ref",vr={};return Kt||(Kt=ir[0]||(typeof or=="string"?or:or[0])),or||(or=Kt),ir=ir.concat(ir.map(function(mr){return mr+" domain"})),vr[Nt]={valType:"enumerated",values:ir.concat(or?typeof or=="string"?[or]:or:[]),dflt:Kt},T.coerce(We,Ge,vr,Nt)},K.getRefType=function(We){return We===void 0?We:We==="paper"?"paper":We==="pixel"?"pixel":/( domain)$/.test(We)?"domain":"range"},K.coercePosition=function(We,Ge,_t,Ot,Kt,or){var hr,ir,Nt=K.getRefType(Ot);if(Nt!=="range")hr=T.ensureNumber,ir=_t(Kt,or);else{var vr=K.getFromId(Ge,Ot);or=vr.fraction2r(or),ir=_t(Kt,or),hr=vr.cleanPos}We[Kt]=hr(ir)},K.cleanPosition=function(We,Ge,_t){var Ot=_t==="paper"||_t==="pixel"?T.ensureNumber:K.getFromId(Ge,_t).cleanPos;return Ot(We)},K.redrawComponents=function(We,Ge){Ge=Ge||K.listIds(We);var _t=We._fullLayout;function Ot(Kt,or,hr,ir){for(var Nt=L.getComponentMethod(Kt,or),vr={},mr=0;mr<Ge.length;mr++)for(var xr=_t[K.id2name(Ge[mr])],yr=xr[hr],Kr=0;Kr<yr.length;Kr++){var Nr=yr[Kr];if(!vr[Nr]&&(Nt(We,Nr),vr[Nr]=1,ir))return}}Ot("annotations","drawOne","_annIndices"),Ot("shapes","drawOne","_shapeIndices"),Ot("images","draw","_imgIndices",!0),Ot("selections","drawOne","_selectionIndices")};var se=K.getDataConversions=function(We,Ge,_t,Ot){var Kt,or=_t==="x"||_t==="y"||_t==="z"?_t:Ot;if(Array.isArray(or)){if(Kt={type:W(Ot,void 0,{autotypenumbers:We._fullLayout.autotypenumbers}),_categories:[]},K.setConvert(Kt),Kt.type==="category")for(var hr=0;hr<Ot.length;hr++)Kt.d2c(Ot[hr])}else Kt=K.getFromTrace(We,Ge,or);return Kt?{d2c:Kt.d2c,c2d:Kt.c2d}:or==="ids"?{d2c:ue,c2d:ue}:{d2c:ne,c2d:ne}};function ne(We){return+We}function ue(We){return String(We)}K.getDataToCoordFunc=function(We,Ge,_t,Ot){return se(We,Ge,_t,Ot).d2c},K.counterLetter=function(We){var Ge=We.charAt(0);if(Ge==="x")return"y";if(Ge==="y")return"x"},K.minDtick=function(We,Ge,_t,Ot){["log","category","multicategory"].indexOf(We.type)!==-1||!Ot?We._minDtick=0:We._minDtick===void 0?(We._minDtick=Ge,We._forceTick0=_t):We._minDtick&&((We._minDtick/Ge+1e-6)%1<2e-6&&((_t-We._forceTick0)/Ge%1+1.000001)%1<2e-6?(We._minDtick=Ge,We._forceTick0=_t):((Ge/We._minDtick+1e-6)%1>2e-6||((_t-We._forceTick0)/We._minDtick%1+1.000001)%1>2e-6)&&(We._minDtick=0))},K.saveRangeInitial=function(We,Ge){for(var _t=K.list(We,"",!0),Ot=!1,Kt=0;Kt<_t.length;Kt++){var or=_t[Kt],hr=or._rangeInitial0===void 0&&or._rangeInitial1===void 0,ir=hr||or.range[0]!==or._rangeInitial0||or.range[1]!==or._rangeInitial1,Nt=or.autorange;(hr&&Nt!==!0||Ge&&ir)&&(or._rangeInitial0=Nt==="min"||Nt==="max reversed"?void 0:or.range[0],or._rangeInitial1=Nt==="max"||Nt==="min reversed"?void 0:or.range[1],or._autorangeInitial=Nt,Ot=!0)}return Ot},K.saveShowSpikeInitial=function(We,Ge){for(var _t=K.list(We,"",!0),Ot=!1,Kt="on",or=0;or<_t.length;or++){var hr=_t[or],ir=hr._showSpikeInitial===void 0,Nt=ir||hr.showspikes!==hr._showspikes;(ir||Ge&&Nt)&&(hr._showSpikeInitial=hr.showspikes,Ot=!0),Kt==="on"&&!hr.showspikes&&(Kt="off")}return We._fullLayout._cartesianSpikesEnabled=Kt,Ot},K.autoBin=function(We,Ge,_t,Ot,Kt,or){var hr=T.aggNums(Math.min,null,We),ir=T.aggNums(Math.max,null,We);if(Ge.type==="category"||Ge.type==="multicategory")return{start:hr-.5,end:ir+.5,size:Math.max(1,Math.round(or)||1),_dataSpan:ir-hr};Kt||(Kt=Ge.calendar);var Nt;if(Ge.type==="log"?Nt={type:"linear",range:[hr,ir]}:Nt={type:Ge.type,range:T.simpleMap([hr,ir],Ge.c2r,0,Kt),calendar:Kt},K.setConvert(Nt),or=or&&s.dtick(or,Nt.type),or)Nt.dtick=or,Nt.tick0=s.tick0(void 0,Nt.type,Kt);else{var vr;if(_t)vr=(ir-hr)/_t;else{var mr=T.distinctVals(We),xr=Math.pow(10,Math.floor(Math.log(mr.minDiff)/Math.LN10)),yr=xr*T.roundUp(mr.minDiff/xr,[.9,1.9,4.9,9.9],!0);vr=Math.max(yr,2*T.stdev(We)/Math.pow(We.length,Ot?.25:.4)),P(vr)||(vr=1)}K.autoTicks(Nt,vr)}var Kr=Nt.dtick,Nr=K.tickIncrement(K.tickFirst(Nt),Kr,"reverse",Kt),Ur,Tn;if(typeof Kr=="number")Nr=ge(Nr,We,Nt,hr,ir),Tn=1+Math.floor((ir-Nr)/Kr),Ur=Nr+Tn*Kr;else for(Nt.dtick.charAt(0)==="M"&&(Nr=we(Nr,We,Kr,hr,Kt)),Ur=Nr,Tn=0;Ur<=ir;)Ur=K.tickIncrement(Ur,Kr,!1,Kt),Tn++;return{start:Ge.c2r(Nr,0,Kt),end:Ge.c2r(Ur,0,Kt),size:Kr,_dataSpan:ir-hr}};function ge(We,Ge,_t,Ot,Kt){var or=0,hr=0,ir=0,Nt=0;function vr(Kr){return(1+(Kr-We)*100/_t.dtick)%100<2}for(var mr=0;mr<Ge.length;mr++)Ge[mr]%1===0?ir++:P(Ge[mr])||Nt++,vr(Ge[mr])&&or++,vr(Ge[mr]+_t.dtick/2)&&hr++;var xr=Ge.length-Nt;if(ir===xr&&_t.type!=="date")_t.dtick<1?We=Ot-.5*_t.dtick:(We-=.5,We+_t.dtick<Ot&&(We+=_t.dtick));else if(hr<xr*.1&&(or>xr*.3||vr(Ot)||vr(Kt))){var yr=_t.dtick/2;We+=We+yr<Ot?yr:-yr}return We}function we(We,Ge,_t,Ot,Kt){var or=T.findExactDates(Ge,Kt),hr=.8;if(or.exactDays>hr){var ir=Number(_t.substr(1));or.exactYears>hr&&ir%12===0?We=K.tickIncrement(We,"M6","reverse")+m*1.5:or.exactMonths>hr?We=K.tickIncrement(We,"M1","reverse")+m*15.5:We-=M;var Nt=K.tickIncrement(We,_t);if(Nt<=Ot)return Nt}return We}K.prepMinorTicks=function(We,Ge,_t){if(!Ge.minor.dtick){delete We.dtick;var Ot=Ge.dtick&&P(Ge._tmin),Kt;if(Ot){var or=K.tickIncrement(Ge._tmin,Ge.dtick,!0);Kt=[Ge._tmin,or*.99+Ge._tmin*.01]}else{var hr=T.simpleMap(Ge.range,Ge.r2l);Kt=[hr[0],.8*hr[0]+.2*hr[1]]}if(We.range=T.simpleMap(Kt,Ge.l2r),We._isMinor=!0,K.prepTicks(We,_t),Ot){var ir=P(Ge.dtick),Nt=P(We.dtick),vr=ir?Ge.dtick:+Ge.dtick.substring(1),mr=Nt?We.dtick:+We.dtick.substring(1);ir&&Nt?xe(vr,mr)?vr===2*E&&mr===2*m&&(We.dtick=E):vr===2*E&&mr===3*m?We.dtick=E:vr===E&&!(Ge._input.minor||{}).nticks?We.dtick=m:Fe(vr/mr,2.5)?We.dtick=vr/2:We.dtick=vr:String(Ge.dtick).charAt(0)==="M"?Nt?We.dtick="M1":xe(vr,mr)?vr>=12&&mr===2&&(We.dtick="M3"):We.dtick=Ge.dtick:String(We.dtick).charAt(0)==="L"?String(Ge.dtick).charAt(0)==="L"?xe(vr,mr)||(We.dtick=Fe(vr/mr,2.5)?Ge.dtick/2:Ge.dtick):We.dtick="D1":We.dtick==="D2"&&+Ge.dtick>1&&(We.dtick=1)}We.range=Ge.range}Ge.minor._tick0Init===void 0&&(We.tick0=Ge.tick0)};function xe(We,Ge){return Math.abs((We/Ge+.5)%1-.5)<.001}function Fe(We,Ge){return Math.abs(We/Ge-1)<.001}K.prepTicks=function(We,Ge){var _t=T.simpleMap(We.range,We.r2l,void 0,void 0,Ge);if(We.tickmode==="auto"||!We.dtick){var Ot=We.nticks,Kt;Ot||(We.type==="category"||We.type==="multicategory"?(Kt=We.tickfont?T.bigFont(We.tickfont.size||12):15,Ot=We._length/Kt):(Kt=We._id.charAt(0)==="y"?40:80,Ot=T.constrain(We._length/Kt,4,9)+1),We._name==="radialaxis"&&(Ot*=2)),We.minor&&We.minor.tickmode!=="array"||We.tickmode==="array"&&(Ot*=100),We._roughDTick=Math.abs(_t[1]-_t[0])/Ot,K.autoTicks(We,We._roughDTick),We._minDtick>0&&We.dtick<We._minDtick*2&&(We.dtick=We._minDtick,We.tick0=We.l2r(We._forceTick0))}We.ticklabelmode==="period"&&Te(We),We.tick0||(We.tick0=We.type==="date"?"2000-01-01":0),We.type==="date"&&We.dtick<.1&&(We.dtick=.1),mt(We)};function ze(We){return+We.substring(1)}function Te(We){var Ge;function _t(){return!(P(We.dtick)||We.dtick.charAt(0)!=="M")}var Ot=_t(),Kt=K.getTickFormat(We);if(Kt){var or=We._dtickInit!==We.dtick;/%[fLQsSMX]/.test(Kt)||(/%[HI]/.test(Kt)?(Ge=w,or&&!Ot&&We.dtick<w&&(We.dtick=w)):/%p/.test(Kt)?(Ge=M,or&&!Ot&&We.dtick<M&&(We.dtick=M)):/%[Aadejuwx]/.test(Kt)?(Ge=m,or&&!Ot&&We.dtick<m&&(We.dtick=m)):/%[UVW]/.test(Kt)?(Ge=E,or&&!Ot&&We.dtick<E&&(We.dtick=E)):/%[Bbm]/.test(Kt)?(Ge=S,or&&(Ot?ze(We.dtick)<1:We.dtick<A)&&(We.dtick="M1")):/%[q]/.test(Kt)?(Ge=h,or&&(Ot?ze(We.dtick)<3:We.dtick<o)&&(We.dtick="M3")):/%[Yy]/.test(Kt)&&(Ge=x,or&&(Ot?ze(We.dtick)<12:We.dtick<c)&&(We.dtick="M12")))}Ot=_t(),Ot&&We.tick0===We._dowTick0&&(We.tick0=We._rawTick0),We._definedDelta=Ge}function ye(We,Ge,_t){for(var Ot=0;Ot<We.length;Ot++){var Kt=We[Ot].value,or=Ot,hr=Ot+1;Ot<We.length-1?(or=Ot,hr=Ot+1):Ot>0?(or=Ot-1,hr=Ot):(or=Ot,hr=Ot);var ir=We[or].value,Nt=We[hr].value,vr=Math.abs(Nt-ir),mr=_t||vr,xr=0;mr>=c?vr>=c&&vr<=l?xr=vr:xr=x:_t===h&&mr>=o?vr>=o&&vr<=b?xr=vr:xr=h:mr>=A?vr>=A&&vr<=p?xr=vr:xr=S:_t===E&&mr>=E?xr=E:mr>=m?xr=m:_t===M&&mr>=M?xr=M:_t===w&&mr>=w&&(xr=w);var yr;xr>=vr&&(xr=vr,yr=!0);var Kr=Kt+xr;if(Ge.rangebreaks&&xr>0){for(var Nr=84,Ur=0,Tn=0;Tn<Nr;Tn++){var rn=(Tn+.5)/Nr;Ge.maskBreaks(Kt*(1-rn)+rn*Kr)!==_&&Ur++}xr*=Ur/Nr,xr||(We[Ot].drop=!0),yr&&vr>E&&(xr=vr)}(xr>0||Ot===0)&&(We[Ot].periodX=Kt+xr/2)}}K.calcTicks=function(Ge,_t){for(var Ot=Ge.type,Kt=Ge.calendar,or=Ge.ticklabelstep,hr=Ge.ticklabelmode==="period",ir=T.simpleMap(Ge.range,Ge.r2l,void 0,void 0,_t),Nt=ir[1]<ir[0],vr=Math.min(ir[0],ir[1]),mr=Math.max(ir[0],ir[1]),xr=Math.max(1e3,Ge._length||0),yr=[],Kr=[],Nr=[],Ur=[],Tn=Ge.minor&&(Ge.minor.ticks||Ge.minor.showgrid),rn=1;rn>=(Tn?0:1);rn--){var Gn=!rn;rn?(Ge._dtickInit=Ge.dtick,Ge._tick0Init=Ge.tick0):(Ge.minor._dtickInit=Ge.minor.dtick,Ge.minor._tick0Init=Ge.minor.tick0);var Hn=rn?Ge:T.extendFlat({},Ge,Ge.minor);if(Gn?K.prepMinorTicks(Hn,Ge,_t):K.prepTicks(Hn,_t),Hn.tickmode==="array"){rn?(Nr=[],yr=Ue(Ge)):(Ur=[],Kr=Ue(Ge));continue}if(Hn.tickmode==="sync"){Nr=[],yr=Ne(Ge);continue}var Ar=j(ir),Cr=Ar[0],Yr=Ar[1],Zr=P(Hn.dtick),un=Ot==="log"&&!(Zr||Hn.dtick.charAt(0)==="L"),mn=K.tickFirst(Hn,_t);if(rn){if(Ge._tmin=mn,mn<Cr!==Nt)break;(Ot==="category"||Ot==="multicategory")&&(Yr=Nt?Math.max(-.5,Yr):Math.min(Ge._categories.length-.5,Yr))}var pn=null,Rn=mn,Un;if(rn){var oa;Zr?oa=Ge.dtick:Ot==="date"?typeof Ge.dtick=="string"&&Ge.dtick.charAt(0)==="M"&&(oa=S*Ge.dtick.substring(1)):oa=Ge._roughDTick,Un=Math.round((Ge.r2l(Rn)-Ge.r2l(Ge.tick0))/oa)-1}var ua=Hn.dtick;for(Hn.rangebreaks&&Hn._tick0Init!==Hn.tick0&&(Rn=Wt(Rn,Ge),Nt||(Rn=K.tickIncrement(Rn,ua,!Nt,Kt))),rn&&hr&&(Rn=K.tickIncrement(Rn,ua,!Nt,Kt),Un--);Nt?Rn>=Yr:Rn<=Yr;Rn=K.tickIncrement(Rn,ua,Nt,Kt)){if(rn&&Un++,Hn.rangebreaks&&!Nt){if(Rn<Cr)continue;if(Hn.maskBreaks(Rn)===_&&Wt(Rn,Hn)>=mr)break}if(Nr.length>xr||Rn===pn)break;pn=Rn;var xa={value:Rn};rn?(un&&Rn!==(Rn|0)&&(xa.simpleLabel=!0),or>1&&Un%or&&(xa.skipLabel=!0),Nr.push(xa)):(xa.minor=!0,Ur.push(xa))}}if(Tn){var va=Ge.minor.ticks==="inside"&&Ge.ticks==="outside"||Ge.minor.ticks==="outside"&&Ge.ticks==="inside";if(!va){for(var ca=Nr.map(function(Pn){return Pn.value}),Pr=[],dn=0;dn<Ur.length;dn++){var cn=Ur[dn],An=cn.value;if(ca.indexOf(An)===-1){for(var Qn=!1,zn=0;!Qn&&zn<Nr.length;zn++)1e7+Nr[zn].value===1e7+An&&(Qn=!0);Qn||Pr.push(cn)}}Ur=Pr}}hr&&ye(Nr,Ge,Ge._definedDelta);var Bn;if(Ge.rangebreaks){var qn=Ge._id.charAt(0)==="y",ya=1;Ge.tickmode==="auto"&&(ya=Ge.tickfont?Ge.tickfont.size:12);var Na=NaN;for(Bn=Nr.length-1;Bn>-1;Bn--){if(Nr[Bn].drop){Nr.splice(Bn,1);continue}Nr[Bn].value=Wt(Nr[Bn].value,Ge);var ii=Ge.c2p(Nr[Bn].value);(qn?Na>ii-ya:Na<ii+ya)?Nr.splice(Nt?Bn+1:Bn,1):Na=ii}}Bt(Ge)&&Math.abs(ir[1]-ir[0])===360&&Nr.pop(),Ge._tmax=(Nr[Nr.length-1]||{}).value,Ge._prevDateHead="",Ge._inCalcTicks=!0;var Jt,Mr=function(Pn){Pn.text="",Ge._prevDateHead=Jt};Nr=Nr.concat(Ur);var hn,xn;for(Bn=0;Bn<Nr.length;Bn++){var bn=Nr[Bn].minor,Nn=Nr[Bn].value;bn?Kr.push({x:Nn,minor:!0}):(Jt=Ge._prevDateHead,hn=K.tickText(Ge,Nn,!1,Nr[Bn].simpleLabel),xn=Nr[Bn].periodX,xn!==void 0&&(hn.periodX=xn,(xn>mr||xn<vr)&&(xn>mr&&(hn.periodX=mr),xn<vr&&(hn.periodX=vr),Mr(hn))),Nr[Bn].skipLabel&&Mr(hn),yr.push(hn))}return yr=yr.concat(Kr),Ge._inCalcTicks=!1,hr&&yr.length&&(yr[0].noTick=!0),yr};function Ae(We,Ge){return We.rangebreaks&&(Ge=Ge.filter(function(_t){return We.maskBreaks(_t.x)!==_})),Ge}function Ne(We){var Ge=We._mainAxis,_t=[];if(Ge._vals){for(var Ot=0;Ot<Ge._vals.length;Ot++)if(!Ge._vals[Ot].noTick){var Kt=Ge.l2p(Ge._vals[Ot].x),or=We.p2l(Kt),hr=K.tickText(We,or);Ge._vals[Ot].minor&&(hr.minor=!0,hr.text=""),_t.push(hr)}}return _t=Ae(We,_t),_t}function Ue(We){var Ge=T.simpleMap(We.range,We.r2l),_t=j(Ge),Ot=Math.min(_t[0],_t[1]),Kt=Math.max(_t[0],_t[1]),or=We.type==="category"?We.d2l_noadd:We.d2l;We.type==="log"&&String(We.dtick).charAt(0)!=="L"&&(We.dtick="L"+Math.pow(10,Math.floor(Math.min(We.range[0],We.range[1]))-1));for(var hr=[],ir=0;ir<=1;ir++)if(!(ir&&!We.minor)){var Nt=ir?We.minor.tickvals:We.tickvals,vr=ir?[]:We.ticktext;if(Nt){Array.isArray(vr)||(vr=[]);for(var mr=0;mr<Nt.length;mr++){var xr=or(Nt[mr]);if(xr>Ot&&xr<Kt){var yr=vr[mr]===void 0?K.tickText(We,xr):Ct(We,xr,String(vr[mr]));ir&&(yr.minor=!0,yr.text=""),hr.push(yr)}}}}return hr=Ae(We,hr),hr}var Re=[2,5,10],Ve=[1,2,3,6,12],rt=[1,2,5,10,15,30],Qe=[1,2,3,7,14],Je=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],qe=[-.301,0,.301,.699,1],dt=[15,30,45,90,180];function pt(We,Ge,_t){return Ge*T.roundUp(We/Ge,_t)}K.autoTicks=function(We,Ge,_t){var Ot;function Kt(xr){return Math.pow(xr,Math.floor(Math.log(Ge)/Math.LN10))}if(We.type==="date"){We.tick0=T.dateTick0(We.calendar,0);var or=2*Ge;if(or>x)Ge/=x,Ot=Kt(10),We.dtick="M"+12*pt(Ge,Ot,Re);else if(or>S)Ge/=S,We.dtick="M"+pt(Ge,1,Ve);else if(or>m){if(We.dtick=pt(Ge,m,We._hasDayOfWeekBreaks?[1,2,7,14]:Qe),!_t){var hr=K.getTickFormat(We),ir=We.ticklabelmode==="period";ir&&(We._rawTick0=We.tick0),/%[uVW]/.test(hr)?We.tick0=T.dateTick0(We.calendar,2):We.tick0=T.dateTick0(We.calendar,1),ir&&(We._dowTick0=We.tick0)}}else or>w?We.dtick=pt(Ge,w,Ve):or>i?We.dtick=pt(Ge,i,rt):or>C?We.dtick=pt(Ge,C,rt):(Ot=Kt(10),We.dtick=pt(Ge,Ot,Re))}else if(We.type==="log"){We.tick0=0;var Nt=T.simpleMap(We.range,We.r2l);if(We._isMinor&&(Ge*=1.5),Ge>.7)We.dtick=Math.ceil(Ge);else if(Math.abs(Nt[1]-Nt[0])<1){var vr=1.5*Math.abs((Nt[1]-Nt[0])/Ge);Ge=Math.abs(Math.pow(10,Nt[1])-Math.pow(10,Nt[0]))/vr,Ot=Kt(10),We.dtick="L"+pt(Ge,Ot,Re)}else We.dtick=Ge>.3?"D2":"D1"}else We.type==="category"||We.type==="multicategory"?(We.tick0=0,We.dtick=Math.ceil(Math.max(Ge,1))):Bt(We)?(We.tick0=0,Ot=1,We.dtick=pt(Ge,Ot,dt)):(We.tick0=0,Ot=Kt(10),We.dtick=pt(Ge,Ot,Re));if(We.dtick===0&&(We.dtick=1),!P(We.dtick)&&typeof We.dtick!="string"){var mr=We.dtick;throw We.dtick=1,"ax.dtick error: "+String(mr)}};function mt(We){var Ge=We.dtick;if(We._tickexponent=0,!P(Ge)&&typeof Ge!="string"&&(Ge=1),(We.type==="category"||We.type==="multicategory")&&(We._tickround=null),We.type==="date"){var _t=We.r2l(We.tick0),Ot=We.l2r(_t).replace(/(^-|i)/g,""),Kt=Ot.length;if(String(Ge).charAt(0)==="M")Kt>10||Ot.substr(5)!=="01-01"?We._tickround="d":We._tickround=+Ge.substr(1)%12===0?"y":"m";else if(Ge>=m&&Kt<=10||Ge>=m*15)We._tickround="d";else if(Ge>=i&&Kt<=16||Ge>=w)We._tickround="M";else if(Ge>=C&&Kt<=19||Ge>=i)We._tickround="S";else{var or=We.l2r(_t+Ge).replace(/^-/,"").length;We._tickround=Math.max(Kt,or)-20,We._tickround<0&&(We._tickround=4)}}else if(P(Ge)||Ge.charAt(0)==="L"){var hr=We.range.map(We.r2d||Number);P(Ge)||(Ge=Number(Ge.substr(1))),We._tickround=2-Math.floor(Math.log(Ge)/Math.LN10+.01);var ir=Math.max(Math.abs(hr[0]),Math.abs(hr[1])),Nt=Math.floor(Math.log(ir)/Math.LN10+.01),vr=We.minexponent===void 0?3:We.minexponent;Math.abs(Nt)>vr&&(oe(We.exponentformat)&&!pe(Nt)?We._tickexponent=3*Math.round((Nt-1)/3):We._tickexponent=Nt)}else We._tickround=null}K.tickIncrement=function(We,Ge,_t,Ot){var Kt=_t?-1:1;if(P(Ge))return T.increment(We,Kt*Ge);var or=Ge.charAt(0),hr=Kt*Number(Ge.substr(1));if(or==="M")return T.incrementMonth(We,hr,Ot);if(or==="L")return Math.log(Math.pow(10,We)+hr)/Math.LN10;if(or==="D"){var ir=Ge==="D2"?qe:Je,Nt=We+Kt*.01,vr=T.roundUp(T.mod(Nt,1),ir,_t);return Math.floor(Nt)+Math.log(g.round(Math.pow(10,vr),1))/Math.LN10}throw"unrecognized dtick "+String(Ge)},K.tickFirst=function(We,Ge){var _t=We.r2l||Number,Ot=T.simpleMap(We.range,_t,void 0,void 0,Ge),Kt=Ot[1]<Ot[0],or=Kt?Math.floor:Math.ceil,hr=j(Ot)[0],ir=We.dtick,Nt=_t(We.tick0);if(P(ir)){var vr=or((hr-Nt)/ir)*ir+Nt;return(We.type==="category"||We.type==="multicategory")&&(vr=T.constrain(vr,0,We._categories.length-1)),vr}var mr=ir.charAt(0),xr=Number(ir.substr(1));if(mr==="M"){for(var yr=0,Kr=Nt,Nr,Ur,Tn;yr<10;){if(Nr=K.tickIncrement(Kr,ir,Kt,We.calendar),(Nr-hr)*(Kr-hr)<=0)return Kt?Math.min(Kr,Nr):Math.max(Kr,Nr);Ur=(hr-(Kr+Nr)/2)/(Nr-Kr),Tn=mr+(Math.abs(Math.round(Ur))||1)*xr,Kr=K.tickIncrement(Kr,Tn,Ur<0?!Kt:Kt,We.calendar),yr++}return T.error("tickFirst did not converge",We),Kr}else{if(mr==="L")return Math.log(or((Math.pow(10,hr)-Nt)/xr)*xr+Nt)/Math.LN10;if(mr==="D"){var rn=ir==="D2"?qe:Je,Gn=T.roundUp(T.mod(hr,1),rn,Kt);return Math.floor(hr)+Math.log(g.round(Math.pow(10,Gn),1))/Math.LN10}else throw"unrecognized dtick "+String(ir)}},K.tickText=function(We,Ge,_t,Ot){var Kt=Ct(We,Ge),or=We.tickmode==="array",hr=_t||or,ir=We.type,Nt=ir==="category"?We.d2l_noadd:We.d2l,vr;if(or&&Array.isArray(We.ticktext)){var mr=T.simpleMap(We.range,We.r2l),xr=(Math.abs(mr[1]-mr[0])-(We._lBreaks||0))/1e4;for(vr=0;vr<We.ticktext.length&&!(Math.abs(Ge-Nt(We.tickvals[vr]))<xr);vr++);if(vr<We.ticktext.length)return Kt.text=String(We.ticktext[vr]),Kt}function yr(Tn){if(Tn===void 0)return!0;if(_t)return Tn==="none";var rn={first:We._tmin,last:We._tmax}[Tn];return Tn!=="all"&&Ge!==rn}var Kr=_t?"never":We.exponentformat!=="none"&&yr(We.showexponent)?"hide":"";if(ir==="date"?Rt(We,Kt,_t,hr):ir==="log"?Zt(We,Kt,_t,hr,Kr):ir==="category"?Xe(We,Kt):ir==="multicategory"?Le(We,Kt,_t):Bt(We)?ke(We,Kt,_t,hr,Kr):Pe(We,Kt,_t,hr,Kr),Ot||(We.tickprefix&&!yr(We.showtickprefix)&&(Kt.text=We.tickprefix+Kt.text),We.ticksuffix&&!yr(We.showticksuffix)&&(Kt.text+=We.ticksuffix)),We.labelalias&&We.labelalias.hasOwnProperty(Kt.text)){var Nr=We.labelalias[Kt.text];typeof Nr=="string"&&(Kt.text=Nr)}if(We.tickson==="boundaries"||We.showdividers){var Ur=function(Tn){var rn=We.l2p(Tn);return rn>=0&&rn<=We._length?Tn:null};Kt.xbnd=[Ur(Kt.x-.5),Ur(Kt.x+We.dtick-.5)]}return Kt},K.hoverLabelText=function(We,Ge,_t){_t&&(We=T.extendFlat({},We,{hoverformat:_t}));var Ot=Array.isArray(Ge)?Ge[0]:Ge,Kt=Array.isArray(Ge)?Ge[1]:void 0;if(Kt!==void 0&&Kt!==Ot)return K.hoverLabelText(We,Ot,_t)+" - "+K.hoverLabelText(We,Kt,_t);var or=We.type==="log"&&Ot<=0,hr=K.tickText(We,We.c2l(or?-Ot:Ot),"hover").text;return or?Ot===0?"0":y+hr:hr};function Ct(We,Ge,_t){var Ot=We.tickfont||{};return{x:Ge,dx:0,dy:0,text:_t||"",fontSize:Ot.size,font:Ot.family,fontColor:Ot.color}}function Rt(We,Ge,_t,Ot){var Kt=We._tickround,or=_t&&We.hoverformat||K.getTickFormat(We);Ot&&(P(Kt)?Kt=4:Kt={y:"m",m:"d",d:"M",M:"S",S:4}[Kt]);var hr=T.formatDate(Ge.x,or,Kt,We._dateFormat,We.calendar,We._extraFormat),ir,Nt=hr.indexOf(`
`);if(Nt!==-1&&(ir=hr.substr(Nt+1),hr=hr.substr(0,Nt)),Ot&&(hr==="00:00:00"||hr==="00:00"?(hr=ir,ir=""):hr.length===8&&(hr=hr.replace(/:00$/,""))),ir)if(_t)Kt==="d"?hr+=", "+ir:hr=ir+(hr?", "+hr:"");else if(!We._inCalcTicks||We._prevDateHead!==ir)We._prevDateHead=ir,hr+="<br>"+ir;else{var vr=tr(We),mr=We._trueSide||We.side;(!vr&&mr==="top"||vr&&mr==="bottom")&&(hr+="<br> ")}Ge.text=hr}function Zt(We,Ge,_t,Ot,Kt){var or=We.dtick,hr=Ge.x,ir=We.tickformat,Nt=typeof or=="string"&&or.charAt(0);if(Kt==="never"&&(Kt=""),Ot&&Nt!=="L"&&(or="L3",Nt="L"),ir||Nt==="L")Ge.text=Me(Math.pow(10,hr),We,Kt,Ot);else if(P(or)||Nt==="D"&&T.mod(hr+.01,1)<.1){var vr=Math.round(hr),mr=Math.abs(vr),xr=We.exponentformat;xr==="power"||oe(xr)&&pe(vr)?(vr===0?Ge.text=1:vr===1?Ge.text="10":Ge.text="10<sup>"+(vr>1?"":y)+mr+"</sup>",Ge.fontSize*=1.25):(xr==="e"||xr==="E")&&mr>2?Ge.text="1"+xr+(vr>0?"+":y)+mr:(Ge.text=Me(Math.pow(10,hr),We,"","fakehover"),or==="D1"&&We._id.charAt(0)==="y"&&(Ge.dy-=Ge.fontSize/6))}else if(Nt==="D")Ge.text=String(Math.round(Math.pow(10,T.mod(hr,1)))),Ge.fontSize*=.75;else throw"unrecognized dtick "+String(or);if(We.dtick==="D1"){var yr=String(Ge.text).charAt(0);(yr==="0"||yr==="1")&&(We._id.charAt(0)==="y"?Ge.dx-=Ge.fontSize/4:(Ge.dy+=Ge.fontSize/2,Ge.dx+=(We.range[1]>We.range[0]?1:-1)*Ge.fontSize*(hr<0?.5:.25)))}}function Xe(We,Ge){var _t=We._categories[Math.round(Ge.x)];_t===void 0&&(_t=""),Ge.text=String(_t)}function Le(We,Ge,_t){var Ot=Math.round(Ge.x),Kt=We._categories[Ot]||[],or=Kt[1]===void 0?"":String(Kt[1]),hr=Kt[0]===void 0?"":String(Kt[0]);_t?Ge.text=hr+" - "+or:(Ge.text=or,Ge.text2=hr)}function Pe(We,Ge,_t,Ot,Kt){Kt==="never"?Kt="":We.showexponent==="all"&&Math.abs(Ge.x/We.dtick)<1e-6&&(Kt="hide"),Ge.text=Me(Ge.x,We,Kt,Ot)}function ke(We,Ge,_t,Ot,Kt){if(We.thetaunit==="radians"&&!_t){var or=Ge.x/180;if(or===0)Ge.text="0";else{var hr=Ce(or);if(hr[1]>=100)Ge.text=Me(T.deg2rad(Ge.x),We,Kt,Ot);else{var ir=Ge.x<0;hr[1]===1?hr[0]===1?Ge.text="π":Ge.text=hr[0]+"π":Ge.text=["<sup>",hr[0],"</sup>","⁄","<sub>",hr[1],"</sub>","π"].join(""),ir&&(Ge.text=y+Ge.text)}}}else Ge.text=Me(Ge.x,We,Kt,Ot)}function Ce(We){function Ge(ir,Nt){return Math.abs(ir-Nt)<=1e-6}function _t(ir,Nt){return Ge(Nt,0)?ir:_t(Nt,ir%Nt)}function Ot(ir){for(var Nt=1;!Ge(Math.round(ir*Nt)/Nt,ir);)Nt*=10;return Nt}var Kt=Ot(We),or=We*Kt,hr=Math.abs(_t(or,Kt));return[Math.round(or/hr),Math.round(Kt/hr)]}var me=["f","p","n","μ","m","","k","M","G","T"];function oe(We){return We==="SI"||We==="B"}function pe(We){return We>14||We<-15}function Me(We,Ge,_t,Ot){var Kt=We<0,or=Ge._tickround,hr=_t||Ge.exponentformat||"B",ir=Ge._tickexponent,Nt=K.getTickFormat(Ge),vr=Ge.separatethousands;if(Ot){var mr={exponentformat:hr,minexponent:Ge.minexponent,dtick:Ge.showexponent==="none"?Ge.dtick:P(We)&&Math.abs(We)||1,range:Ge.showexponent==="none"?Ge.range.map(Ge.r2d):[0,We||1]};mt(mr),or=(Number(mr._tickround)||0)+4,ir=mr._tickexponent,Ge.hoverformat&&(Nt=Ge.hoverformat)}if(Nt)return Ge._numFormat(Nt)(We).replace(/-/g,y);var xr=Math.pow(10,-or)/2;if(hr==="none"&&(ir=0),We=Math.abs(We),We<xr)We="0",Kt=!1;else{if(We+=xr,ir&&(We*=Math.pow(10,-ir),or+=ir),or===0)We=String(Math.floor(We));else if(or<0){We=String(Math.round(We)),We=We.substr(0,We.length+or);for(var yr=or;yr<0;yr++)We+="0"}else{We=String(We);var Kr=We.indexOf(".")+1;Kr&&(We=We.substr(0,Kr+or).replace(/\.?0+$/,""))}We=T.numSeparate(We,Ge._separators,vr)}if(ir&&hr!=="hide"){oe(hr)&&pe(ir)&&(hr="power");var Nr;ir<0?Nr=y+-ir:hr!=="power"?Nr="+"+ir:Nr=String(ir),hr==="e"||hr==="E"?We+=hr+Nr:hr==="power"?We+="×10<sup>"+Nr+"</sup>":hr==="B"&&ir===9?We+="B":oe(hr)&&(We+=me[ir/3+5])}return Kt?y+We:We}K.getTickFormat=function(We){var Ge;function _t(Nt){return typeof Nt!="string"?Nt:Number(Nt.replace("M",""))*S}function Ot(Nt,vr){var mr=["L","D"];if(typeof Nt==typeof vr){if(typeof Nt=="number")return Nt-vr;var xr=mr.indexOf(Nt.charAt(0)),yr=mr.indexOf(vr.charAt(0));return xr===yr?Number(Nt.replace(/(L|D)/g,""))-Number(vr.replace(/(L|D)/g,"")):xr-yr}else return typeof Nt=="number"?1:-1}function Kt(Nt,vr,mr){var xr=mr||function(Nr){return Nr},yr=vr[0],Kr=vr[1];return(!yr&&typeof yr!="number"||xr(yr)<=xr(Nt))&&(!Kr&&typeof Kr!="number"||xr(Kr)>=xr(Nt))}function or(Nt,vr){var mr=vr[0]===null,xr=vr[1]===null,yr=Ot(Nt,vr[0])>=0,Kr=Ot(Nt,vr[1])<=0;return(mr||yr)&&(xr||Kr)}var hr,ir;if(We.tickformatstops&&We.tickformatstops.length>0)switch(We.type){case"date":case"linear":{for(Ge=0;Ge<We.tickformatstops.length;Ge++)if(ir=We.tickformatstops[Ge],ir.enabled&&Kt(We.dtick,ir.dtickrange,_t)){hr=ir;break}break}case"log":{for(Ge=0;Ge<We.tickformatstops.length;Ge++)if(ir=We.tickformatstops[Ge],ir.enabled&&or(We.dtick,ir.dtickrange)){hr=ir;break}break}}return hr?hr.value:We.tickformat},K.getSubplots=function(We,Ge){var _t=We._fullLayout._subplots,Ot=_t.cartesian.concat(_t.gl2d||[]),Kt=Ge?K.findSubplotsWithAxis(Ot,Ge):Ot;return Kt.sort(function(or,hr){var ir=or.substr(1).split("y"),Nt=hr.substr(1).split("y");return ir[0]===Nt[0]?+ir[1]-+Nt[1]:+ir[0]-+Nt[0]}),Kt},K.findSubplotsWithAxis=function(We,Ge){for(var _t=new RegExp(Ge._id.charAt(0)==="x"?"^"+Ge._id+"y":Ge._id+"$"),Ot=[],Kt=0;Kt<We.length;Kt++){var or=We[Kt];_t.test(or)&&Ot.push(or)}return Ot},K.makeClipPaths=function(We){var Ge=We._fullLayout;if(!Ge._hasOnlyLargeSploms){var _t={_offset:0,_length:Ge.width,_id:""},Ot={_offset:0,_length:Ge.height,_id:""},Kt=K.list(We,"x",!0),or=K.list(We,"y",!0),hr=[],ir,Nt;for(ir=0;ir<Kt.length;ir++)for(hr.push({x:Kt[ir],y:Ot}),Nt=0;Nt<or.length;Nt++)ir===0&&hr.push({x:_t,y:or[Nt]}),hr.push({x:Kt[ir],y:or[Nt]});var vr=Ge._clips.selectAll(".axesclip").data(hr,function(mr){return mr.x._id+mr.y._id});vr.enter().append("clipPath").classed("axesclip",!0).attr("id",function(mr){return"clip"+Ge._uid+mr.x._id+mr.y._id}).append("rect"),vr.exit().remove(),vr.each(function(mr){g.select(this).select("rect").attr({x:mr.x._offset||0,y:mr.y._offset||0,width:mr.x._length||1,height:mr.y._length||1})})}},K.draw=function(We,Ge,_t){var Ot=We._fullLayout;Ge==="redraw"&&Ot._paper.selectAll("g.subplot").each(function(Nt){var vr=Nt[0],mr=Ot._plots[vr];if(mr){var xr=mr.xaxis,yr=mr.yaxis;mr.xaxislayer.selectAll("."+xr._id+"tick").remove(),mr.yaxislayer.selectAll("."+yr._id+"tick").remove(),mr.xaxislayer.selectAll("."+xr._id+"tick2").remove(),mr.yaxislayer.selectAll("."+yr._id+"tick2").remove(),mr.xaxislayer.selectAll("."+xr._id+"divider").remove(),mr.yaxislayer.selectAll("."+yr._id+"divider").remove(),mr.minorGridlayer&&mr.minorGridlayer.selectAll("path").remove(),mr.gridlayer&&mr.gridlayer.selectAll("path").remove(),mr.zerolinelayer&&mr.zerolinelayer.selectAll("path").remove(),Ot._infolayer.select(".g-"+xr._id+"title").remove(),Ot._infolayer.select(".g-"+yr._id+"title").remove()}});var Kt=!Ge||Ge==="redraw"?K.listIds(We):Ge,or=K.list(We),hr=or.filter(function(Nt){return Nt.autoshift}).map(function(Nt){return Nt.overlaying});Kt.map(function(Nt){var vr=K.getFromId(We,Nt);if(vr.tickmode==="sync"&&vr.overlaying){var mr=Kt.findIndex(function(xr){return xr===vr.overlaying});mr>=0&&Kt.unshift(Kt.splice(mr,1).shift())}});var ir={false:{left:0,right:0}};return T.syncOrAsync(Kt.map(function(Nt){return function(){if(Nt){var vr=K.getFromId(We,Nt);_t||(_t={}),_t.axShifts=ir,_t.overlayingShiftedAx=hr;var mr=K.drawOne(We,vr,_t);return vr._shiftPusher&&ur(vr,vr._fullDepth||0,ir,!0),vr._r=vr.range.slice(),vr._rl=T.simpleMap(vr._r,vr.r2l),mr}}}))},K.drawOne=function(We,Ge,_t){_t=_t||{};var Ot=_t.axShifts||{},Kt=_t.overlayingShiftedAx||[],or,hr,ir;Ge.setScale();var Nt=We._fullLayout,vr=Ge._id,mr=vr.charAt(0),xr=K.counterLetter(vr),yr=Nt._plots[Ge._mainSubplot];if(!yr)return;if(Ge._shiftPusher=Ge.autoshift||Kt.indexOf(Ge._id)!==-1||Kt.indexOf(Ge.overlaying)!==-1,Ge._shiftPusher&Ge.anchor==="free"){var Kr=Ge.linewidth/2||0;Ge.ticks==="inside"&&(Kr+=Ge.ticklen),ur(Ge,Kr,Ot,!0),ur(Ge,Ge.shift||0,Ot,!1)}(_t.skipTitle!==!0||Ge._shift===void 0)&&(Ge._shift=kr(Ge,Ot));var Nr=yr[mr+"axislayer"],Ur=Ge._mainLinePosition,Tn=Ur+=Ge._shift,rn=Ge._mainMirrorPosition,Gn=Ge._vals=K.calcTicks(Ge),Hn=[Ge.mirror,Tn,rn].join("_");for(or=0;or<Gn.length;or++)Gn[or].axInfo=Hn;Ge._selections={},Ge._tickAngles&&(Ge._prevTickAngles=Ge._tickAngles),Ge._tickAngles={},Ge._depth=null;var Ar={};function Cr(Gr){var wn=vr+(Gr||"tick");return Ar[wn]||(Ar[wn]=Ft(Ge,wn)),Ar[wn]}if(Ge.visible){var Yr=K.makeTransTickFn(Ge),Zr=K.makeTransTickLabelFn(Ge),un,mn,pn=Ge.ticks==="inside",Rn=Ge.ticks==="outside";if(Ge.tickson==="boundaries"){var Un=tt(Ge,Gn);mn=K.clipEnds(Ge,Un),un=pn?mn:Un}else mn=K.clipEnds(Ge,Gn),un=pn&&Ge.ticklabelmode!=="period"?mn:Gn;var oa=Ge._gridVals=mn,ua=At(Ge,Gn);if(!Nt._hasOnlyLargeSploms){var xa=Ge._subplotsWith,va={};for(or=0;or<xa.length;or++){hr=xa[or],ir=Nt._plots[hr];var ca=ir[xr+"axis"],Pr=ca._mainAxis._id;if(!va[Pr]){va[Pr]=1;var dn=mr==="x"?"M0,"+ca._offset+"v"+ca._length:"M"+ca._offset+",0h"+ca._length;K.drawGrid(We,Ge,{vals:oa,counterAxis:ca,layer:ir.gridlayer.select("."+vr),minorLayer:ir.minorGridlayer.select("."+vr),path:dn,transFn:Yr}),K.drawZeroLine(We,Ge,{counterAxis:ca,layer:ir.zerolinelayer,path:dn,transFn:Yr})}}}var cn,An=K.getTickSigns(Ge),Qn=K.getTickSigns(Ge,"minor");if(Ge.ticks||Ge.minor&&Ge.minor.ticks){var zn=K.makeTickPath(Ge,Tn,An[2]),Bn=K.makeTickPath(Ge,Tn,Qn[2],{minor:!0}),qn,ya,Na,ii;if(Ge._anchorAxis&&Ge.mirror&&Ge.mirror!==!0?(qn=K.makeTickPath(Ge,rn,An[3]),ya=K.makeTickPath(Ge,rn,Qn[3],{minor:!0}),Na=zn+qn,ii=Bn+ya):(qn="",ya="",Na=zn,ii=Bn),Ge.showdividers&&Rn&&Ge.tickson==="boundaries"){var Jt={};for(or=0;or<ua.length;or++)Jt[ua[or].x]=1;cn=function(Gr){return Jt[Gr.x]?qn:Na}}else cn=function(Gr){return Gr.minor?ii:Na}}if(K.drawTicks(We,Ge,{vals:un,layer:Nr,path:cn,transFn:Yr}),Ge.mirror==="allticks"){var Mr=Object.keys(Ge._linepositions||{});for(or=0;or<Mr.length;or++){hr=Mr[or],ir=Nt._plots[hr];var hn=Ge._linepositions[hr]||[],xn=hn[0],bn=hn[1],Nn=hn[2],Pn=K.makeTickPath(Ge,xn,Nn?An[0]:Qn[0],{minor:Nn})+K.makeTickPath(Ge,bn,Nn?An[1]:Qn[1],{minor:Nn});K.drawTicks(We,Ge,{vals:un,layer:ir[mr+"axislayer"],path:Pn,transFn:Yr})}}var yn=[];if(yn.push(function(){return K.drawLabels(We,Ge,{vals:Gn,layer:Nr,plotinfo:ir,transFn:Zr,labelFns:K.makeLabelFns(Ge,Tn)})}),Ge.type==="multicategory"){var zr={x:2,y:10}[mr];yn.push(function(){var Gr={x:"height",y:"width"}[mr],wn=Cr()[Gr]+zr+(Ge._tickAngles[vr+"tick"]?Ge.tickfont.size*ee:0);return K.drawLabels(We,Ge,{vals:at(Ge,Gn),layer:Nr,cls:vr+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Yr,labelFns:K.makeLabelFns(Ge,Tn+wn*An[4])})}),yn.push(function(){return Ge._depth=An[4]*(Cr("tick2")[Ge.side]-Tn),$t(We,Ge,{vals:ua,layer:Nr,path:K.makeTickPath(Ge,Tn,An[4],{len:Ge._depth}),transFn:Yr})})}else Ge.title.hasOwnProperty("standoff")&&yn.push(function(){Ge._depth=An[4]*(Cr()[Ge.side]-Tn)});var _r=L.getComponentMethod("rangeslider","isVisible")(Ge);return!_t.skipTitle&&!(_r&&Ge.side==="bottom")&&yn.push(function(){return Hr(We,Ge)}),yn.push(function(){var Gr=Ge.side.charAt(0),wn=ae[Ge.side].charAt(0),Yn=K.getPxPosition(We,Ge),ta=Rn?Ge.ticklen:0,Mn,jn,fa,Ta;(Ge.automargin||_r||Ge._shiftPusher)&&(Ge.type==="multicategory"?Mn=Cr("tick2"):(Mn=Cr(),mr==="x"&&Gr==="b"&&(Ge._depth=Math.max(Mn.width>0?Mn.bottom-Yn:0,ta))));var ba=0,ma=0;if(Ge._shiftPusher&&(ba=Math.max(ta,Mn.height>0?Gr==="l"?Yn-Mn.left:Mn.right-Yn:0),Ge.title.text!==Nt._dfltTitle[mr]&&(ma=(Ge._titleStandoff||0)+(Ge._titleScoot||0),Gr==="l"&&(ma+=lr(Ge))),Ge._fullDepth=Math.max(ba,ma)),Ge.automargin){jn={x:0,y:0,r:0,l:0,t:0,b:0};var Pa=[0,1],$i=typeof Ge._shift=="number"?Ge._shift:0;if(mr==="x"){if(Gr==="b"?jn[Gr]=Ge._depth:(jn[Gr]=Ge._depth=Math.max(Mn.width>0?Yn-Mn.top:0,ta),Pa.reverse()),Mn.width>0){var ho=Mn.right-(Ge._offset+Ge._length);ho>0&&(jn.xr=1,jn.r=ho);var mo=Ge._offset-Mn.left;mo>0&&(jn.xl=0,jn.l=mo)}}else if(Gr==="l"?(Ge._depth=Math.max(Mn.height>0?Yn-Mn.left:0,ta),jn[Gr]=Ge._depth-$i):(Ge._depth=Math.max(Mn.height>0?Mn.right-Yn:0,ta),jn[Gr]=Ge._depth+$i,Pa.reverse()),Mn.height>0){var xo=Mn.bottom-(Ge._offset+Ge._length);xo>0&&(jn.yb=0,jn.b=xo);var bo=Ge._offset-Mn.top;bo>0&&(jn.yt=1,jn.t=bo)}jn[xr]=Ge.anchor==="free"?Ge.position:Ge._anchorAxis.domain[Pa[0]],Ge.title.text!==Nt._dfltTitle[mr]&&(jn[Gr]+=lr(Ge)+(Ge.title.standoff||0)),Ge.mirror&&Ge.anchor!=="free"&&(fa={x:0,y:0,r:0,l:0,t:0,b:0},fa[wn]=Ge.linewidth,Ge.mirror&&Ge.mirror!==!0&&(fa[wn]+=ta),Ge.mirror===!0||Ge.mirror==="ticks"?fa[xr]=Ge._anchorAxis.domain[Pa[1]]:(Ge.mirror==="all"||Ge.mirror==="allticks")&&(fa[xr]=[Ge._counterDomainMin,Ge._counterDomainMax][Pa[1]]))}_r&&(Ta=L.getComponentMethod("rangeslider","autoMarginOpts")(We,Ge)),typeof Ge.automargin=="string"&&(_e(jn,Ge.automargin),_e(fa,Ge.automargin)),a.autoMargin(We,gr(Ge),jn),a.autoMargin(We,ut(Ge),fa),a.autoMargin(We,st(Ge),Ta)}),T.syncOrAsync(yn)}};function _e(We,Ge){if(We){var _t=Object.keys(F).reduce(function(Ot,Kt){return Ge.indexOf(Kt)!==-1&&F[Kt].forEach(function(or){Ot[or]=1}),Ot},{});Object.keys(We).forEach(function(Ot){_t[Ot]||(Ot.length===1?We[Ot]=0:delete We[Ot])})}}function tt(We,Ge){var _t=[],Ot,Kt=function(or,hr){var ir=or.xbnd[hr];ir!==null&&_t.push(T.extendFlat({},or,{x:ir}))};if(Ge.length){for(Ot=0;Ot<Ge.length;Ot++)Kt(Ge[Ot],0);Kt(Ge[Ot-1],1)}return _t}function at(We,Ge){for(var _t=[],Ot={},Kt=0;Kt<Ge.length;Kt++){var or=Ge[Kt];Ot[or.text2]?Ot[or.text2].push(or.x):Ot[or.text2]=[or.x]}for(var hr in Ot)_t.push(Ct(We,T.interp(Ot[hr],.5),hr));return _t}function At(We,Ge){var _t=[],Ot,Kt,or=Ge.length&&Ge[Ge.length-1].x<Ge[0].x,hr=function(Nt,vr){var mr=Nt.xbnd[vr];mr!==null&&_t.push(T.extendFlat({},Nt,{x:mr}))};if(We.showdividers&&Ge.length){for(Ot=0;Ot<Ge.length;Ot++){var ir=Ge[Ot];ir.text2!==Kt&&hr(ir,or?1:0),Kt=ir.text2}hr(Ge[Ot-1],or?0:1)}return _t}function Ft(We,Ge){var _t,Ot,Kt,or;return We._selections[Ge].size()?(_t=1/0,Ot=-1/0,Kt=1/0,or=-1/0,We._selections[Ge].each(function(){var hr=Sr(this),ir=u.bBox(hr.node().parentNode);_t=Math.min(_t,ir.top),Ot=Math.max(Ot,ir.bottom),Kt=Math.min(Kt,ir.left),or=Math.max(or,ir.right)})):(_t=0,Ot=0,Kt=0,or=0),{top:_t,bottom:Ot,left:Kt,right:or,height:Ot-_t,width:or-Kt}}K.getTickSigns=function(We,Ge){var _t=We._id.charAt(0),Ot={x:"top",y:"right"}[_t],Kt=We.side===Ot?1:-1,or=[-1,1,Kt,-Kt],hr=Ge?(We.minor||{}).ticks:We.ticks;return hr!=="inside"==(_t==="x")&&(or=or.map(function(ir){return-ir})),We.side&&or.push({l:-1,t:-1,r:1,b:1}[We.side.charAt(0)]),or},K.makeTransTickFn=function(We){return We._id.charAt(0)==="x"?function(Ge){return v(We._offset+We.l2p(Ge.x),0)}:function(Ge){return v(0,We._offset+We.l2p(Ge.x))}},K.makeTransTickLabelFn=function(We){var Ge=Yt(We),_t=Ge[0],Ot=Ge[1];return We._id.charAt(0)==="x"?function(Kt){return v(_t+We._offset+We.l2p(Gt(Kt)),Ot)}:function(Kt){return v(Ot,_t+We._offset+We.l2p(Gt(Kt)))}};function Gt(We){return We.periodX!==void 0?We.periodX:We.x}function Yt(We){var Ge=We.ticklabelposition||"",_t=function(Kr){return Ge.indexOf(Kr)!==-1},Ot=_t("top"),Kt=_t("left"),or=_t("right"),hr=_t("bottom"),ir=_t("inside"),Nt=hr||Kt||Ot||or;if(!Nt&&!ir)return[0,0];var vr=We.side,mr=Nt?(We.tickwidth||0)/2:0,xr=fe,yr=We.tickfont?We.tickfont.size:12;return(hr||Ot)&&(mr+=yr*Q,xr+=(We.linewidth||0)/2),(Kt||or)&&(mr+=(We.linewidth||0)/2,xr+=fe),ir&&vr==="top"&&(xr-=yr*(1-Q)),(Kt||Ot)&&(mr=-mr),(vr==="bottom"||vr==="right")&&(xr=-xr),[Nt?mr:0,ir?xr:0]}K.makeTickPath=function(We,Ge,_t,Ot){Ot||(Ot={});var Kt=Ot.minor;if(Kt&&!We.minor)return"";var or=Ot.len!==void 0?Ot.len:Kt?We.minor.ticklen:We.ticklen,hr=We._id.charAt(0),ir=(We.linewidth||1)/2;return hr==="x"?"M0,"+(Ge+ir*_t)+"v"+or*_t:"M"+(Ge+ir*_t)+",0h"+or*_t},K.makeLabelFns=function(We,Ge,_t){var Ot=We.ticklabelposition||"",Kt=function(Un){return Ot.indexOf(Un)!==-1},or=Kt("top"),hr=Kt("left"),ir=Kt("right"),Nt=Kt("bottom"),vr=Nt||hr||or||ir,mr=Kt("inside"),xr=Ot==="inside"&&We.ticks==="inside"||!mr&&We.ticks==="outside"&&We.tickson!=="boundaries",yr=0,Kr=0,Nr=xr?We.ticklen:0;if(mr?Nr*=-1:vr&&(Nr=0),xr&&(yr+=Nr,_t)){var Ur=T.deg2rad(_t);yr=Nr*Math.cos(Ur)+1,Kr=Nr*Math.sin(Ur)}We.showticklabels&&(xr||We.showline)&&(yr+=.2*We.tickfont.size),yr+=(We.linewidth||1)/2*(mr?-1:1);var Tn={labelStandoff:yr,labelShift:Kr},rn,Gn,Hn,Ar,Cr=0,Yr=We.side,Zr=We._id.charAt(0),un=We.tickangle,mn;if(Zr==="x")mn=!mr&&Yr==="bottom"||mr&&Yr==="top",Ar=mn?1:-1,mr&&(Ar*=-1),rn=Kr*Ar,Gn=Ge+yr*Ar,Hn=mn?1:-.2,Math.abs(un)===90&&(mr?Hn+=G:un===-90&&Yr==="bottom"?Hn=Q:un===90&&Yr==="top"?Hn=G:Hn=.5,Cr=G/2*(un/90)),Tn.xFn=function(Un){return Un.dx+rn+Cr*Un.fontSize},Tn.yFn=function(Un){return Un.dy+Gn+Un.fontSize*Hn},Tn.anchorFn=function(Un,oa){if(vr){if(hr)return"end";if(ir)return"start"}return!P(oa)||oa===0||oa===180?"middle":oa*Ar<0!==mr?"end":"start"},Tn.heightFn=function(Un,oa,ua){return oa<-60||oa>60?-.5*ua:We.side==="top"!==mr?-ua:0};else if(Zr==="y"){if(mn=!mr&&Yr==="left"||mr&&Yr==="right",Ar=mn?1:-1,mr&&(Ar*=-1),rn=yr,Gn=Kr*Ar,Hn=0,!mr&&Math.abs(un)===90&&(un===-90&&Yr==="left"||un===90&&Yr==="right"?Hn=Q:Hn=.5),mr){var pn=P(un)?+un:0;if(pn!==0){var Rn=T.deg2rad(pn);Cr=Math.abs(Math.sin(Rn))*Q*Ar,Hn=0}}Tn.xFn=function(Un){return Un.dx+Ge-(rn+Un.fontSize*Hn)*Ar+Cr*Un.fontSize},Tn.yFn=function(Un){return Un.dy+Gn+Un.fontSize*G},Tn.anchorFn=function(Un,oa){return P(oa)&&Math.abs(oa)===90?"middle":mn?"end":"start"},Tn.heightFn=function(Un,oa,ua){return We.side==="right"&&(oa*=-1),oa<-30?-ua:oa<30?-.5*ua:0}}return Tn};function Dt(We){return[We.text,We.x,We.axInfo,We.font,We.fontSize,We.fontColor].join("_")}K.drawTicks=function(We,Ge,_t){_t=_t||{};var Ot=Ge._id+"tick",Kt=[].concat(Ge.minor&&Ge.minor.ticks?_t.vals.filter(function(hr){return hr.minor&&!hr.noTick}):[]).concat(Ge.ticks?_t.vals.filter(function(hr){return!hr.minor&&!hr.noTick}):[]),or=_t.layer.selectAll("path."+Ot).data(Kt,Dt);or.exit().remove(),or.enter().append("path").classed(Ot,1).classed("ticks",1).classed("crisp",_t.crisp!==!1).each(function(hr){return r.stroke(g.select(this),hr.minor?Ge.minor.tickcolor:Ge.tickcolor)}).style("stroke-width",function(hr){return u.crispRound(We,hr.minor?Ge.minor.tickwidth:Ge.tickwidth,1)+"px"}).attr("d",_t.path).style("display",null),er(Ge,[O]),or.attr("transform",_t.transFn)},K.drawGrid=function(We,Ge,_t){if(_t=_t||{},Ge.tickmode!=="sync"){var Ot=Ge._id+"grid",Kt=Ge.minor&&Ge.minor.showgrid,or=Kt?_t.vals.filter(function(rn){return rn.minor}):[],hr=Ge.showgrid?_t.vals.filter(function(rn){return!rn.minor}):[],ir=_t.counterAxis;if(ir&&K.shouldShowZeroLine(We,Ge,ir))for(var Nt=Ge.tickmode==="array",vr=0;vr<hr.length;vr++){var mr=hr[vr].x;if(Nt?!mr:Math.abs(mr)<Ge.dtick/100)if(hr=hr.slice(0,vr).concat(hr.slice(vr+1)),Nt)vr--;else break}Ge._gw=u.crispRound(We,Ge.gridwidth,1);for(var xr=Kt?u.crispRound(We,Ge.minor.gridwidth,1):0,yr=_t.layer,Kr=_t.minorLayer,Nr=1;Nr>=0;Nr--){var Ur=Nr?yr:Kr;if(Ur){var Tn=Ur.selectAll("path."+Ot).data(Nr?hr:or,Dt);Tn.exit().remove(),Tn.enter().append("path").classed(Ot,1).classed("crisp",_t.crisp!==!1),Tn.attr("transform",_t.transFn).attr("d",_t.path).each(function(rn){return r.stroke(g.select(this),rn.minor?Ge.minor.gridcolor:Ge.gridcolor||"#ddd")}).style("stroke-dasharray",function(rn){return u.dashStyle(rn.minor?Ge.minor.griddash:Ge.griddash,rn.minor?Ge.minor.gridwidth:Ge.gridwidth)}).style("stroke-width",function(rn){return(rn.minor?xr:Ge._gw)+"px"}).style("display",null),typeof _t.path=="function"&&Tn.attr("d",_t.path)}}er(Ge,[N,k])}},K.drawZeroLine=function(We,Ge,_t){_t=_t||_t;var Ot=Ge._id+"zl",Kt=K.shouldShowZeroLine(We,Ge,_t.counterAxis),or=_t.layer.selectAll("path."+Ot).data(Kt?[{x:0,id:Ge._id}]:[]);or.exit().remove(),or.enter().append("path").classed(Ot,1).classed("zl",1).classed("crisp",_t.crisp!==!1).each(function(){_t.layer.selectAll("path").sort(function(hr,ir){return X(hr.id,ir.id)})}),or.attr("transform",_t.transFn).attr("d",_t.path).call(r.stroke,Ge.zerolinecolor||r.defaultLine).style("stroke-width",u.crispRound(We,Ge.zerolinewidth,Ge._gw||1)+"px").style("display",null),er(Ge,[I])},K.drawLabels=function(We,Ge,_t){_t=_t||{};var Ot=We._fullLayout,Kt=Ge._id,or=Kt.charAt(0),hr=_t.cls||Kt+"tick",ir=_t.vals.filter(function(Ar){return Ar.text}),Nt=_t.labelFns,vr=_t.secondary?0:Ge.tickangle,mr=(Ge._prevTickAngles||{})[hr],xr=_t.layer.selectAll("g."+hr).data(Ge.showticklabels?ir:[],Dt),yr=[];xr.enter().append("g").classed(hr,1).append("text").attr("text-anchor","middle").each(function(Ar){var Cr=g.select(this),Yr=We._promises.length;Cr.call(d.positionText,Nt.xFn(Ar),Nt.yFn(Ar)).call(u.font,Ar.font,Ar.fontSize,Ar.fontColor).text(Ar.text).call(d.convertToTspans,We),We._promises[Yr]?yr.push(We._promises.pop().then(function(){Kr(Cr,vr)})):Kr(Cr,vr)}),er(Ge,[z]),xr.exit().remove(),_t.repositionOnUpdate&&xr.each(function(Ar){g.select(this).select("text").call(d.positionText,Nt.xFn(Ar),Nt.yFn(Ar))});function Kr(Ar,Cr){Ar.each(function(Yr){var Zr=g.select(this),un=Zr.select(".text-math-group"),mn=Nt.anchorFn(Yr,Cr),pn=_t.transFn.call(Zr.node(),Yr)+(P(Cr)&&+Cr!=0?" rotate("+Cr+","+Nt.xFn(Yr)+","+(Nt.yFn(Yr)-Yr.fontSize/2)+")":""),Rn=d.lineCount(Zr),Un=ee*Yr.fontSize,oa=Nt.heightFn(Yr,P(Cr)?+Cr:0,(Rn-1)*Un);if(oa&&(pn+=v(0,oa)),un.empty()){var ua=Zr.select("text");ua.attr({transform:pn,"text-anchor":mn}),ua.style("opacity",1),Ge._adjustTickLabelsOverflow&&Ge._adjustTickLabelsOverflow()}else{var xa=u.bBox(un.node()).width,va=xa*{end:-.5,start:.5}[mn];un.attr("transform",pn+v(va,0))}})}Ge._adjustTickLabelsOverflow=function(){var Ar=Ge.ticklabeloverflow;if(!(!Ar||Ar==="allow")){var Cr=Ar.indexOf("hide")!==-1,Yr=Ge._id.charAt(0)==="x",Zr=0,un=Yr?We._fullLayout.width:We._fullLayout.height;if(Ar.indexOf("domain")!==-1){var mn=T.simpleMap(Ge.range,Ge.r2l);Zr=Ge.l2p(mn[0])+Ge._offset,un=Ge.l2p(mn[1])+Ge._offset}var pn=Math.min(Zr,un),Rn=Math.max(Zr,un),Un=Ge.side,oa=1/0,ua=-1/0;xr.each(function(Pr){var dn=g.select(this),cn=dn.select(".text-math-group");if(cn.empty()){var An=u.bBox(dn.node()),Qn=0;Yr?(An.right>Rn||An.left<pn)&&(Qn=1):(An.bottom>Rn||An.top+(Ge.tickangle?0:Pr.fontSize/4)<pn)&&(Qn=1);var zn=dn.select("text");Qn?Cr&&zn.style("opacity",0):(zn.style("opacity",1),Un==="bottom"||Un==="right"?oa=Math.min(oa,Yr?An.top:An.left):oa=-1/0,Un==="top"||Un==="left"?ua=Math.max(ua,Yr?An.bottom:An.right):ua=1/0)}});for(var xa in Ot._plots){var va=Ot._plots[xa];if(!(Ge._id!==va.xaxis._id&&Ge._id!==va.yaxis._id)){var ca=Yr?va.yaxis:va.xaxis;ca&&(ca["_visibleLabelMin_"+Ge._id]=oa,ca["_visibleLabelMax_"+Ge._id]=ua)}}}},Ge._hideCounterAxisInsideTickLabels=function(Ar){var Cr=Ge._id.charAt(0)==="x",Yr=[];for(var Zr in Ot._plots){var un=Ot._plots[Zr];Ge._id!==un.xaxis._id&&Ge._id!==un.yaxis._id||Yr.push(Cr?un.yaxis:un.xaxis)}Yr.forEach(function(mn,pn){mn&&tr(mn)&&(Ar||[I,k,N,O,z]).forEach(function(Rn){var Un=Rn.K==="tick"&&Rn.L==="text"&&Ge.ticklabelmode==="period",oa=Ot._plots[Ge._mainSubplot],ua;Rn.K===I.K?ua=oa.zerolinelayer.selectAll("."+Ge._id+"zl"):Rn.K===k.K?ua=oa.minorGridlayer.selectAll("."+Ge._id):Rn.K===N.K?ua=oa.gridlayer.selectAll("."+Ge._id):ua=oa[Ge._id.charAt(0)+"axislayer"],ua.each(function(){var xa=g.select(this);Rn.L&&(xa=xa.selectAll(Rn.L)),xa.each(function(va){var ca=Ge.l2p(Un?Gt(va):va.x)+Ge._offset,Pr=g.select(this);ca<Ge["_visibleLabelMax_"+mn._id]&&ca>Ge["_visibleLabelMin_"+mn._id]?Pr.style("display","none"):Rn.K==="tick"&&!pn&&Pr.style("display",null)})})})})},Kr(xr,mr+1?mr:vr);function Nr(){return yr.length&&Promise.all(yr)}var Ur=null;function Tn(){if(Kr(xr,vr),ir.length&&or==="x"&&!P(vr)&&(Ge.type!=="log"||String(Ge.dtick).charAt(0)!=="D")){Ur=0;var Ar=0,Cr=[],Yr;if(xr.each(function(An){Ar=Math.max(Ar,An.fontSize);var Qn=Ge.l2p(An.x),zn=Sr(this),Bn=u.bBox(zn.node());Cr.push({top:0,bottom:10,height:10,left:Qn-Bn.width/2,right:Qn+Bn.width/2+2,width:Bn.width+2})}),(Ge.tickson==="boundaries"||Ge.showdividers)&&!_t.secondary){var Zr=2;for(Ge.ticks&&(Zr+=Ge.tickwidth/2),Yr=0;Yr<Cr.length;Yr++){var un=ir[Yr].xbnd,mn=Cr[Yr];if(un[0]!==null&&mn.left-Ge.l2p(un[0])<Zr||un[1]!==null&&Ge.l2p(un[1])-mn.right<Zr){Ur=90;break}}}else{var pn=ir.length,Rn=Math.abs((ir[pn-1].x-ir[0].x)*Ge._m)/(pn-1),Un=Ge.ticklabelposition||"",oa=function(An){return Un.indexOf(An)!==-1},ua=oa("top"),xa=oa("left"),va=oa("right"),ca=oa("bottom"),Pr=ca||xa||ua||va,dn=Pr?(Ge.tickwidth||0)+2*fe:0,cn=Rn<Ar*2.5||Ge.type==="multicategory"||Ge._name==="realaxis";for(Yr=0;Yr<Cr.length-1;Yr++)if(T.bBoxIntersect(Cr[Yr],Cr[Yr+1],dn)){Ur=cn?90:30;break}}Ur&&Kr(xr,Ur)}}Ge._selections&&(Ge._selections[hr]=xr);var rn=[Nr];Ge.automargin&&Ot._redrawFromAutoMarginCount&&mr===90?(Ur=90,rn.push(function(){Kr(xr,mr)})):rn.push(Tn),Ge._tickAngles&&rn.push(function(){Ge._tickAngles[hr]=Ur===null?P(vr)?vr:0:Ur});var Gn=Ge._anchorAxis;Gn&&Gn.autorange&&tr(Ge)&&!$(Ot,Ge._id)&&(Ot._insideTickLabelsAutorange||(Ot._insideTickLabelsAutorange={}),Ot._insideTickLabelsAutorange[Gn._name+".autorange"]=Gn.autorange,rn.push(function(){xr.each(function(Cr,Yr){var Zr=Sr(this),un=Zr.select(".text-math-group");un.empty()&&(Ge._vals[Yr].bb=u.bBox(Zr.node()))})}));var Hn=T.syncOrAsync(rn);return Hn&&Hn.then&&We._promises.push(Hn),Hn};function $t(We,Ge,_t){var Ot=Ge._id+"divider",Kt=_t.vals,or=_t.layer.selectAll("path."+Ot).data(Kt,Dt);or.exit().remove(),or.enter().insert("path",":first-child").classed(Ot,1).classed("crisp",1).call(r.stroke,Ge.dividercolor).style("stroke-width",u.crispRound(We,Ge.dividerwidth,1)+"px"),or.attr("transform",_t.transFn).attr("d",_t.path)}K.getPxPosition=function(We,Ge){var _t=We._fullLayout._size,Ot=Ge._id.charAt(0),Kt=Ge.side,or;if(Ge.anchor!=="free"?or=Ge._anchorAxis:Ot==="x"?or={_offset:_t.t+(1-(Ge.position||0))*_t.h,_length:0}:Ot==="y"&&(or={_offset:_t.l+(Ge.position||0)*_t.w+Ge._shift,_length:0}),Kt==="top"||Kt==="left")return or._offset;if(Kt==="bottom"||Kt==="right")return or._offset+or._length};function lr(We){var Ge=We.title.font.size,_t=(We.title.text.match(d.BR_TAG_ALL)||[]).length;return We.title.hasOwnProperty("standoff")?_t?Ge*(Q+_t*ee):Ge*Q:_t?Ge*(_t+1)*ee:Ge}function Hr(We,Ge){var _t=We._fullLayout,Ot=Ge._id,Kt=Ot.charAt(0),or=Ge.title.font.size,hr;if(Ge.title.hasOwnProperty("standoff"))hr=Ge._depth+Ge.title.standoff+lr(Ge);else{var ir=tr(Ge);if(Ge.type==="multicategory")hr=Ge._depth;else{var Nt=1.5*or;ir&&(Nt=.5*or,Ge.ticks==="outside"&&(Nt+=Ge.ticklen)),hr=10+Nt+(Ge.linewidth?Ge.linewidth-1:0)}ir||(Kt==="x"?hr+=Ge.side==="top"?or*(Ge.showticklabels?1:0):or*(Ge.showticklabels?1.5:.5):hr+=Ge.side==="right"?or*(Ge.showticklabels?1:.5):or*(Ge.showticklabels?.5:0))}var vr=K.getPxPosition(We,Ge),mr,xr,yr;Kt==="x"?(xr=Ge._offset+Ge._length/2,yr=Ge.side==="top"?vr-hr:vr+hr):(yr=Ge._offset+Ge._length/2,xr=Ge.side==="right"?vr+hr:vr-hr,mr={rotate:"-90",offset:0});var Kr;if(Ge.type!=="multicategory"){var Nr=Ge._selections[Ge._id+"tick"];if(Kr={selection:Nr,side:Ge.side},Nr&&Nr.node()&&Nr.node().parentNode){var Ur=u.getTranslate(Nr.node().parentNode);Kr.offsetLeft=Ur.x,Kr.offsetTop=Ur.y}Ge.title.hasOwnProperty("standoff")&&(Kr.pad=0)}return Ge._titleStandoff=hr,t.draw(We,Ot+"title",{propContainer:Ge,propName:Ge._name+".title.text",placeholder:_t._dfltTitle[Kt],avoid:Kr,transform:mr,attributes:{x:xr,y:yr,"text-anchor":"middle"}})}K.shouldShowZeroLine=function(We,Ge,_t){var Ot=T.simpleMap(Ge.range,Ge.r2l);return Ot[0]*Ot[1]<=0&&Ge.zeroline&&(Ge.type==="linear"||Ge.type==="-")&&!(Ge.rangebreaks&&Ge.maskBreaks(0)===_)&&(xt(Ge,0)||!Qt(We,Ge,_t,Ot)||jt(We,Ge))},K.clipEnds=function(We,Ge){return Ge.filter(function(_t){return xt(We,_t.x)})};function xt(We,Ge){var _t=We.l2p(Ge);return _t>1&&_t<We._length-1}function Qt(We,Ge,_t,Ot){var Kt=_t._mainAxis;if(!Kt)return;var or=We._fullLayout,hr=Ge._id.charAt(0),ir=K.counterLetter(Ge._id),Nt=Ge._offset+(Math.abs(Ot[0])<Math.abs(Ot[1])==(hr==="x")?0:Ge._length);function vr(Nr){if(!Nr.showline||!Nr.linewidth)return!1;var Ur=Math.max((Nr.linewidth+Ge.zerolinewidth)/2,1);function Tn(Hn){return typeof Hn=="number"&&Math.abs(Hn-Nt)<Ur}if(Tn(Nr._mainLinePosition)||Tn(Nr._mainMirrorPosition))return!0;var rn=Nr._linepositions||{};for(var Gn in rn)if(Tn(rn[Gn][0])||Tn(rn[Gn][1]))return!0}var mr=or._plots[_t._mainSubplot];if(!(mr.mainplotinfo||mr).overlays.length)return vr(_t);for(var xr=K.list(We,ir),yr=0;yr<xr.length;yr++){var Kr=xr[yr];if(Kr._mainAxis===Kt&&vr(Kr))return!0}}function jt(We,Ge){for(var _t=We._fullData,Ot=Ge._mainSubplot,Kt=Ge._id.charAt(0),or=0;or<_t.length;or++){var hr=_t[or];if(hr.visible===!0&&hr.xaxis+hr.yaxis===Ot&&(L.traceIs(hr,"bar-like")&&hr.orientation==={x:"h",y:"v"}[Kt]||hr.fill&&hr.fill.charAt(hr.fill.length-1)===Kt))return!0}return!1}function Sr(We){var Ge=g.select(We),_t=Ge.select(".text-math-group");return _t.empty()?Ge.select("text"):_t}K.allowAutoMargin=function(We){for(var Ge=K.list(We,"",!0),_t=0;_t<Ge.length;_t++){var Ot=Ge[_t];Ot.automargin&&(a.allowAutoMargin(We,gr(Ot)),Ot.mirror&&a.allowAutoMargin(We,ut(Ot))),L.getComponentMethod("rangeslider","isVisible")(Ot)&&a.allowAutoMargin(We,st(Ot))}};function gr(We){return We._id+".automargin"}function ut(We){return gr(We)+".mirror"}function st(We){return We._id+".rangeslider"}K.swap=function(We,Ge){for(var _t=bt(We,Ge),Ot=0;Ot<_t.length;Ot++)Pt(We,_t[Ot].x,_t[Ot].y)};function bt(We,Ge){var _t=[],Ot,Kt;for(Ot=0;Ot<Ge.length;Ot++){var or=[],hr=We._fullData[Ge[Ot]].xaxis,ir=We._fullData[Ge[Ot]].yaxis;if(!(!hr||!ir)){for(Kt=0;Kt<_t.length;Kt++)(_t[Kt].x.indexOf(hr)!==-1||_t[Kt].y.indexOf(ir)!==-1)&&or.push(Kt);if(!or.length){_t.push({x:[hr],y:[ir]});continue}var Nt=_t[or[0]],vr;if(or.length>1)for(Kt=1;Kt<or.length;Kt++)vr=_t[or[Kt]],St(Nt.x,vr.x),St(Nt.y,vr.y);St(Nt.x,[hr]),St(Nt.y,[ir])}}return _t}function St(We,Ge){for(var _t=0;_t<Ge.length;_t++)We.indexOf(Ge[_t])===-1&&We.push(Ge[_t])}function Pt(We,Ge,_t){var Ot=[],Kt=[],or=We.layout,hr,ir;for(hr=0;hr<Ge.length;hr++)Ot.push(K.getFromId(We,Ge[hr]));for(hr=0;hr<_t.length;hr++)Kt.push(K.getFromId(We,_t[hr]));var Nt=Object.keys(n),vr=["anchor","domain","overlaying","position","side","tickangle","editType"],mr=["linear","log"];for(hr=0;hr<Nt.length;hr++){var xr=Nt[hr],yr=Ot[0][xr],Kr=Kt[0][xr],Nr=!0,Ur=!1,Tn=!1;if(!(xr.charAt(0)==="_"||typeof yr=="function"||vr.indexOf(xr)!==-1)){for(ir=1;ir<Ot.length&&Nr;ir++){var rn=Ot[ir][xr];xr==="type"&&mr.indexOf(yr)!==-1&&mr.indexOf(rn)!==-1&&yr!==rn?Ur=!0:rn!==yr&&(Nr=!1)}for(ir=1;ir<Kt.length&&Nr;ir++){var Gn=Kt[ir][xr];xr==="type"&&mr.indexOf(Kr)!==-1&&mr.indexOf(Gn)!==-1&&Kr!==Gn?Tn=!0:Kt[ir][xr]!==Kr&&(Nr=!1)}Nr&&(Ur&&(or[Ot[0]._name].type="linear"),Tn&&(or[Kt[0]._name].type="linear"),Et(or,xr,Ot,Kt,We._fullLayout._dfltTitle))}}for(hr=0;hr<We._fullLayout.annotations.length;hr++){var Hn=We._fullLayout.annotations[hr];Ge.indexOf(Hn.xref)!==-1&&_t.indexOf(Hn.yref)!==-1&&T.swapAttrs(or.annotations[hr],["?"])}}function Et(We,Ge,_t,Ot,Kt){var or=T.nestedProperty,hr=or(We[_t[0]._name],Ge).get(),ir=or(We[Ot[0]._name],Ge).get(),Nt;for(Ge==="title"&&(hr&&hr.text===Kt.x&&(hr.text=Kt.y),ir&&ir.text===Kt.y&&(ir.text=Kt.x)),Nt=0;Nt<_t.length;Nt++)or(We,_t[Nt]._name+"."+Ge).set(ir);for(Nt=0;Nt<Ot.length;Nt++)or(We,Ot[Nt]._name+"."+Ge).set(hr)}function Bt(We){return We._id==="angularaxis"}function Wt(We,Ge){for(var _t=Ge._rangebreaks.length,Ot=0;Ot<_t;Ot++){var Kt=Ge._rangebreaks[Ot];if(We>=Kt.min&&We<Kt.max)return Kt.max}return We}function tr(We){return(We.ticklabelposition||"").indexOf("inside")!==-1}function er(We,Ge){tr(We._anchorAxis||{})&&We._hideCounterAxisInsideTickLabels&&We._hideCounterAxisInsideTickLabels(Ge)}function ur(We,Ge,_t,Ot){var Kt=We.anchor!=="free"&&(We.overlaying===void 0||We.overlaying===!1)?We._id:We.overlaying,or;Ot?or=We.side==="right"?Ge:-Ge:or=Ge,Kt in _t||(_t[Kt]={}),We.side in _t[Kt]||(_t[Kt][We.side]=0),_t[Kt][We.side]+=or}function kr(We,Ge){return We.autoshift?Ge[We.overlaying][We.side]:We.shift||0}},4322:function(H,U,e){var g=e(92770),P=e(71828),a=e(50606).BADNUM,L=P.isArrayOrTypedArray,T=P.isDateTime,v=P.cleanNumber,d=Math.round;H.exports=function(x,c,b){var h=x,o=b.noMultiCategory;if(L(h)&&!h.length)return"-";if(!o&&f(h))return"multicategory";if(o&&Array.isArray(h[0])){for(var p=[],S=0;S<h.length;S++)if(L(h[S]))for(var A=0;A<h[S].length;A++)p.push(h[S][A]);h=p}if(u(h,c))return"date";var E=b.autotypenumbers!=="strict";return s(h,E)?"category":r(h,E)?"linear":"-"};function t(l,x){return x?g(l):typeof l=="number"}function r(l,x){for(var c=l.length,b=0;b<c;b++)if(t(l[b],x))return!0;return!1}function u(l,x){for(var c=l.length,b=n(c),h=0,o=0,p={},S=0;S<c;S+=b){var A=d(S),E=l[A],m=String(E);p[m]||(p[m]=1,T(E,x)&&h++,g(E)&&o++)}return h>o*2}function n(l){return Math.max(1,(l-1)/1e3)}function s(l,x){for(var c=l.length,b=n(c),h=0,o=0,p={},S=0;S<c;S+=b){var A=d(S),E=l[A],m=String(E);if(!p[m]){p[m]=1;var M=typeof E;M==="boolean"?o++:(x?v(E)!==a:M==="number")?h++:M==="string"&&o++}}return o>h*2}function f(l){return L(l[0])&&L(l[1])}},71453:function(H,U,e){var g=e(92770),P=e(73972),a=e(71828),L=e(44467),T=e(85501),v=e(13838),d=e(26218),t=e(38701),r=e(96115),u=e(89426),n=e(15258),s=e(92128),f=e(23074),l=e(21994),x=e(85555).WEEKDAY_PATTERN,c=e(85555).HOUR_PATTERN;H.exports=function(S,A,E,m,M){var w=m.letter,i=m.font||{},C=m.splomStash||{},y=E("visible",!m.visibleDflt),_=A._template||{},I=A.type||_.type||"-",N;if(I==="date"){var k=P.getComponentMethod("calendars","handleDefaults");k(S,A,"calendar",m.calendar),m.noTicklabelmode||(N=E("ticklabelmode"))}var O="";(!m.noTicklabelposition||I==="multicategory")&&(O=a.coerce(S,A,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:N==="period"?["outside","inside"]:w==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),m.noTicklabeloverflow||E("ticklabeloverflow",O.indexOf("inside")!==-1?"hide past domain":I==="category"||I==="multicategory"?"allow":"hide past div"),l(A,M),E("minallowed"),E("maxallowed");var z=E("range"),F=A.getAutorangeDflt(z,m),B=E("autorange",F),G;z&&(z[0]===null&&z[1]===null||(z[0]===null||z[1]===null)&&(B==="reversed"||B===!0)||z[0]!==null&&(B==="min"||B==="max reversed")||z[1]!==null&&(B==="max"||B==="min reversed"))&&(z=void 0,delete A.range,A.autorange=!0,G=!0),G||(F=A.getAutorangeDflt(z,m),B=E("autorange",F)),B&&(f(E,B,z),(I==="linear"||I==="-")&&E("rangemode")),A.cleanRange(),n(S,A,E,m),I!=="category"&&!m.noHover&&E("hoverformat");var Q=E("color"),ee=Q!==v.color.dflt?Q:i.color,ae=C.label||M._dfltTitle[w];if(u(S,A,E,I,m),!y)return A;E("title.text",ae),a.coerceFont(E,"title.font",{family:i.family,size:a.bigFont(i.size),color:ee}),d(S,A,E,I);var fe=m.hasMinor;if(fe&&(L.newContainer(A,"minor"),d(S,A,E,I,{isMinor:!0})),r(S,A,E,I,m),t(S,A,E,m),fe){var K=m.isMinor;m.isMinor=!0,t(S,A,E,m),m.isMinor=K}s(S,A,E,{dfltColor:Q,bgColor:m.bgColor,showGrid:m.showGrid,hasMinor:fe,attributes:v}),fe&&!A.minor.ticks&&!A.minor.showgrid&&delete A.minor,(A.showline||A.ticks)&&E("mirror");var W=I==="multicategory";if(!m.noTickson&&(I==="category"||W)&&(A.ticks||A.showgrid)){var Z;W&&(Z="boundaries");var X=E("tickson",Z);X==="boundaries"&&delete A.ticklabelposition}if(W){var $=E("showdividers");$&&(E("dividercolor"),E("dividerwidth"))}if(I==="date")if(T(S,A,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:b}),!A.rangebreaks.length)delete A.rangebreaks;else{for(var ie=0;ie<A.rangebreaks.length;ie++)if(A.rangebreaks[ie].pattern===x){A._hasDayOfWeekBreaks=!0;break}if(l(A,M),M._has("scattergl")||M._has("splom"))for(var J=0;J<m.data.length;J++){var j=m.data[J];(j.type==="scattergl"||j.type==="splom")&&(j.visible=!1,a.warn(j.type+" traces do not work on axes with rangebreaks. Setting trace "+j.index+" to `visible: false`."))}}return A};function b(p,S,A){function E(N,k){return a.coerce(p,S,v.rangebreaks,N,k)}var m=E("enabled");if(m){var M=E("bounds");if(M&&M.length>=2){var w="",i,C;if(M.length===2){for(i=0;i<2;i++)if(C=o(M[i]),C){w=x;break}}var y=E("pattern",w);if(y===x)for(i=0;i<2;i++)C=o(M[i]),C&&(S.bounds[i]=M[i]=C-1);if(y)for(i=0;i<2;i++)switch(C=M[i],y){case x:if(!g(C)){S.enabled=!1;return}if(C=+C,C!==Math.floor(C)||C<0||C>=7){S.enabled=!1;return}S.bounds[i]=M[i]=C;break;case c:if(!g(C)){S.enabled=!1;return}if(C=+C,C<0||C>24){S.enabled=!1;return}S.bounds[i]=M[i]=C;break}if(A.autorange===!1){var _=A.range;if(_[0]<_[1]){if(M[0]<_[0]&&M[1]>_[1]){S.enabled=!1;return}}else if(M[0]>_[0]&&M[1]<_[1]){S.enabled=!1;return}}}else{var I=E("values");if(I&&I.length)E("dvalue");else{S.enabled=!1;return}}}}var h={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function o(p){if(typeof p=="string")return h[p.substr(0,3).toLowerCase()]}},12663:function(H,U,e){var g=e(31562),P=g.FORMAT_LINK,a=g.DATE_FORMAT_LINK;function L(d,t){return{valType:"string",dflt:"",editType:"none",description:(t?T:v)("hover text",d)+["By default the values are formatted using "+(t?"generic number format":"`"+d+"axis.hoverformat`")+"."].join(" ")}}function T(d,t){return["Sets the "+d+" formatting rule"+(t?"for `"+t+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+P+"."].join(" ")}function v(d,t){return T(d,t)+[" And for dates see: "+a+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}H.exports={axisHoverFormat:L,descriptionOnlyNumbers:T,descriptionWithDates:v}},41675:function(H,U,e){var g=e(73972),P=e(85555);U.id2name=function(T){if(!(typeof T!="string"||!T.match(P.AX_ID_PATTERN))){var v=T.split(" ")[0].substr(1);return v==="1"&&(v=""),T.charAt(0)+"axis"+v}},U.name2id=function(T){if(T.match(P.AX_NAME_PATTERN)){var v=T.substr(5);return v==="1"&&(v=""),T.charAt(0)+v}},U.cleanId=function(T,v,d){var t=/( domain)$/.test(T);if(!(typeof T!="string"||!T.match(P.AX_ID_PATTERN))&&!(v&&T.charAt(0)!==v)&&!(t&&!d)){var r=T.split(" ")[0].substr(1).replace(/^0+/,"");return r==="1"&&(r=""),T.charAt(0)+r+(t&&d?" domain":"")}},U.list=function(L,T,v){var d=L._fullLayout;if(!d)return[];var t=U.listIds(L,T),r=new Array(t.length),u;for(u=0;u<t.length;u++){var n=t[u];r[u]=d[n.charAt(0)+"axis"+n.substr(1)]}if(!v){var s=d._subplots.gl3d||[];for(u=0;u<s.length;u++){var f=d[s[u]];T?r.push(f[T+"axis"]):r.push(f.xaxis,f.yaxis,f.zaxis)}}return r},U.listIds=function(L,T){var v=L._fullLayout;if(!v)return[];var d=v._subplots;return T?d[T+"axis"]:d.xaxis.concat(d.yaxis)},U.getFromId=function(L,T,v){var d=L._fullLayout;return T=T===void 0||typeof T!="string"?T:T.replace(" domain",""),v==="x"?T=T.replace(/y[0-9]*/,""):v==="y"&&(T=T.replace(/x[0-9]*/,"")),d[U.id2name(T)]},U.getFromTrace=function(L,T,v){var d=L._fullLayout,t=null;if(g.traceIs(T,"gl3d")){var r=T.scene;r.substr(0,5)==="scene"&&(t=d[r][v+"axis"])}else t=U.getFromId(L,T[v+"axis"]||v);return t},U.idSort=function(L,T){var v=L.charAt(0),d=T.charAt(0);return v!==d?v>d?1:-1:+(L.substr(1)||1)-+(T.substr(1)||1)},U.ref2id=function(L){return/^[xyz]/.test(L)?L.split(" ")[0]:!1};function a(L,T){if(T&&T.length){for(var v=0;v<T.length;v++)if(T[v][L])return!0}return!1}U.isLinked=function(L,T){return a(T,L._axisMatchGroups)||a(T,L._axisConstraintGroups)}},15258:function(H){function U(e,g){var P=g.dataAttr||e._id.charAt(0),a={},L,T,v;if(g.axData)L=g.axData;else for(L=[],T=0;T<g.data.length;T++){var d=g.data[T];d[P+"axis"]===e._id&&L.push(d)}for(T=0;T<L.length;T++){var t=L[T][P];for(v=0;v<t.length;v++){var r=t[v];r!=null&&(a[r]=1)}}return Object.keys(a)}H.exports=function(g,P,a,L){if(P.type==="category"){var T=g.categoryarray,v=Array.isArray(T)&&T.length>0,d;v&&(d="array");var t=a("categoryorder",d),r;t==="array"&&(r=a("categoryarray")),!v&&t==="array"&&(t=P.categoryorder="trace"),t==="trace"?P._initialCategories=[]:t==="array"?P._initialCategories=r.slice():(r=U(P,L).sort(),t==="category ascending"?P._initialCategories=r:t==="category descending"&&(P._initialCategories=r.reverse()))}}},66287:function(H,U,e){var g=e(92770),P=e(71828),a=e(50606),L=a.ONEDAY,T=a.ONEWEEK;U.dtick=function(v,d){var t=d==="log",r=d==="date",u=d==="category",n=r?L:1;if(!v)return n;if(g(v))return v=Number(v),v<=0?n:u?Math.max(1,Math.round(v)):r?Math.max(.1,v):v;if(typeof v!="string"||!(r||t))return n;var s=v.charAt(0),f=v.substr(1);return f=g(f)?Number(f):0,f<=0||!(r&&s==="M"&&f===Math.round(f)||t&&s==="L"||t&&s==="D"&&(f===1||f===2))?n:v},U.tick0=function(v,d,t,r){if(d==="date")return P.cleanDate(v,P.dateTick0(t,r%T===0?1:0));if(!(r==="D1"||r==="D2"))return g(v)?Number(v):0}},85555:function(H,U,e){var g=e(30587).counter;H.exports={idRegex:{x:g("x","( domain)?"),y:g("y","( domain)?")},attrRegex:g("[xy]axis"),xAxisMatch:g("xaxis"),yAxisMatch:g("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},99082:function(H,U,e){var g=e(71828),P=e(71739),a=e(41675).id2name,L=e(13838),T=e(42449),v=e(21994),d=e(50606).ALMOST_EQUAL,t=e(18783).FROM_BL;U.handleDefaults=function(c,b,h){var o=h.axIds,p=h.axHasImage,S=b._axisConstraintGroups=[],A=b._axisMatchGroups=[],E,m,M,w,i,C,y,_;for(E=0;E<o.length;E++)w=a(o[E]),i=c[w],C=b[w],r(i,C,{axIds:o,layoutOut:b,hasImage:p[w]});function I(ee,ae){for(E=0;E<ee.length;E++){m=ee[E];for(M in m)b[a(M)][ae]=m}}for(I(A,"_matchGroup"),E=0;E<S.length;E++){m=S[E];for(M in m)if(C=b[a(M)],C.fixedrange){for(var N in m){var k=a(N);(c[k]||{}).fixedrange===!1&&g.warn("fixedrange was specified as false for axis "+k+" but was overridden because another axis in its constraint group has fixedrange true"),b[k].fixedrange=!0}break}}for(E=0;E<S.length;){m=S[E];for(M in m){C=b[a(M)],C._matchGroup&&Object.keys(C._matchGroup).length===Object.keys(m).length&&(S.splice(E,1),E--);break}E++}I(S,"_constraintGroup");var O=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],z=!1,F=!1;function B(){_=C[y],y==="rangebreaks"&&(F=C._hasDayOfWeekBreaks)}for(E=0;E<A.length;E++){m=A[E];for(var G=0;G<O.length;G++){y=O[G],_=null;var Q;for(M in m)if(w=a(M),i=c[w],C=b[w],y in C){if(!C.matches&&(Q=C,y in i)){B();break}_===null&&y in i&&B()}if(y==="range"&&_&&i.range&&i.range.length===2&&i.range[0]!==null&&i.range[1]!==null&&(z=!0),y==="autorange"&&_===null&&z&&(_=!1),_===null&&y in Q&&(_=Q[y]),_!==null)for(M in m)C=b[a(M)],C[y]=y==="range"?_.slice():_,y==="rangebreaks"&&(C._hasDayOfWeekBreaks=F,v(C,b))}}};function r(c,b,h){var o=h.axIds,p=h.layoutOut,S=h.hasImage,A=p._axisConstraintGroups,E=p._axisMatchGroups,m=b._id,M=m.charAt(0),w=((p._splomAxes||{})[M]||{})[m]||{},i=b._id,C=i.charAt(0)==="x";b._matchGroup=null,b._constraintGroup=null;function y(W,Z){return g.coerce(c,b,L,W,Z)}y("constrain",S?"domain":"range"),g.coerce(c,b,{constraintoward:{valType:"enumerated",values:C?["left","center","right"]:["bottom","middle","top"],dflt:C?"center":"middle"}},"constraintoward");var _=b.type,I,N,k=[];for(I=0;I<o.length;I++)if(N=o[I],N!==i){var O=p[a(N)];O.type===_&&k.push(N)}var z=n(A,i);if(z){var F=[];for(I=0;I<k.length;I++)N=k[I],z[N]||F.push(N);k=F}var B=k.length,G,Q;B&&(c.matches||w.matches)&&(G=g.coerce(c,b,{matches:{valType:"enumerated",values:k,dflt:k.indexOf(w.matches)!==-1?w.matches:void 0}},"matches"));var ee=S&&!C?b.anchor:void 0;if(B&&!G&&(c.scaleanchor||ee)&&(Q=g.coerce(c,b,{scaleanchor:{valType:"enumerated",values:k.concat([!1])}},"scaleanchor",ee)),G){b._matchGroup=s(E,i,G,1);var ae=p[a(G)],fe=u(p,b)/u(p,ae);C!==(G.charAt(0)==="x")&&(fe=(C?"x":"y")+fe),s(A,i,G,fe)}else c.matches&&o.indexOf(c.matches)!==-1&&g.warn("ignored "+b._name+'.matches: "'+c.matches+'" to avoid an infinite loop');if(Q){var K=y("scaleratio");K||(K=b.scaleratio=1),s(A,i,Q,K)}else c.scaleanchor&&o.indexOf(c.scaleanchor)!==-1&&g.warn("ignored "+b._name+'.scaleanchor: "'+c.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function u(c,b){var h=b.domain;return h||(h=c[a(b.overlaying)].domain),h[1]-h[0]}function n(c,b){for(var h=0;h<c.length;h++)if(c[h][b])return c[h];return null}function s(c,b,h,o){var p,S,A,E,m,M=n(c,b);M===null?(M={},M[b]=1,m=c.length,c.push(M)):m=c.indexOf(M);var w=Object.keys(M);for(p=0;p<c.length;p++)if(A=c[p],p!==m&&A[h]){var i=A[h];for(S=0;S<w.length;S++)E=w[S],A[E]=f(i,f(o,M[E]));c.splice(m,1);return}if(o!==1)for(S=0;S<w.length;S++){var C=w[S];M[C]=f(o,M[C])}M[h]=1}function f(c,b){var h="",o="",p,S;typeof c=="string"&&(h=c.match(/^[xy]*/)[0],p=h.length,c=+c.substr(p)),typeof b=="string"&&(o=b.match(/^[xy]*/)[0],S=o.length,b=+b.substr(S));var A=c*b;return!p&&!S?A:!p||!S||h.charAt(0)===o.charAt(0)?h+o+c*b:p===S?A:(p>S?h.substr(S):o.substr(p))+A}function l(c,b){for(var h=b._size,o=h.h/h.w,p={},S=Object.keys(c),A=0;A<S.length;A++){var E=S[A],m=c[E];if(typeof m=="string"){var M=m.match(/^[xy]*/)[0],w=M.length;m=+m.substr(w);for(var i=M.charAt(0)==="y"?o:1/o,C=0;C<w;C++)m*=i}p[E]=m}return p}U.enforce=function(b){var h=b._fullLayout,o=h._axisConstraintGroups||[],p,S,A,E,m,M,w,i;for(p=0;p<o.length;p++){A=l(o[p],h);var C=Object.keys(A),y=1/0,_=0,I=1/0,N={},k={},O=!1;for(S=0;S<C.length;S++)E=C[S],k[E]=m=h[a(E)],m._inputDomain?m.domain=m._inputDomain.slice():m._inputDomain=m.domain.slice(),m._inputRange||(m._inputRange=m.range.slice()),m.setScale(),N[E]=M=Math.abs(m._m)/A[E],y=Math.min(y,M),(m.constrain==="domain"||!m._constraintShrinkable)&&(I=Math.min(I,M)),delete m._constraintShrinkable,_=Math.max(_,M),m.constrain==="domain"&&(O=!0);if(!(y>d*_&&!O)){for(S=0;S<C.length;S++)if(E=C[S],M=N[E],m=k[E],w=m.constrain,M!==I||w==="domain")if(i=M/I,w==="range")T(m,i);else{var z=m._inputDomain,F=(m.domain[1]-m.domain[0])/(z[1]-z[0]),B=(m.r2l(m.range[1])-m.r2l(m.range[0]))/(m.r2l(m._inputRange[1])-m.r2l(m._inputRange[0]));if(i/=F,i*B<1){m.domain=m._input.domain=z.slice(),T(m,i);continue}if(B<1&&(m.range=m._input.range=m._inputRange.slice(),i*=B),m.autorange){var G=m.r2l(m.range[0]),Q=m.r2l(m.range[1]),ee=(G+Q)/2,ae=ee,fe=ee,K=Math.abs(Q-ee),W=ee-K*i*1.0001,Z=ee+K*i*1.0001,X=P.makePadFn(h,m,0),$=P.makePadFn(h,m,1);x(m,i);var ie=Math.abs(m._m),J=P.concatExtremes(b,m),j=J.min,se=J.max,ne,ue;for(ue=0;ue<j.length;ue++)ne=j[ue].val-X(j[ue])/ie,ne>W&&ne<ae&&(ae=ne);for(ue=0;ue<se.length;ue++)ne=se[ue].val+$(se[ue])/ie,ne<Z&&ne>fe&&(fe=ne);var ge=(fe-ae)/(2*K);i/=ge,ae=m.l2r(ae),fe=m.l2r(fe),m.range=m._input.range=G<Q?[ae,fe]:[fe,ae]}x(m,i)}}}},U.getAxisGroup=function(b,h){for(var o=b._axisMatchGroups,p=0;p<o.length;p++){var S=o[p];if(S[h])return"g"+p}return h},U.clean=function(b,h){if(h._inputDomain){for(var o=!1,p=h._id,S=b._fullLayout._axisConstraintGroups,A=0;A<S.length;A++)if(S[A][p]){o=!0;break}(!o||h.constrain!=="domain")&&(h._input.domain=h.domain=h._inputDomain,delete h._inputDomain)}};function x(c,b){var h=c._inputDomain,o=t[c.constraintoward],p=h[0]+(h[1]-h[0])*o;c.domain=c._input.domain=[p+(h[0]-p)/b,p+(h[1]-p)/b],c.setScale()}},29323:function(H,U,e){var g=e(39898),P=e(71828),a=P.numberFormat,L=e(84267),T=e(38520),v=e(73972),d=P.strTranslate,t=e(63893),r=e(7901),u=e(91424),n=e(30211),s=e(89298),f=e(6964),l=e(28569),x=e(64505),c=x.selectingOrDrawing,b=x.freeMode,h=e(18783).FROM_TL,o=e(33306),p=e(61549).redrawReglTraces,S=e(74875),A=e(41675).getFromId,E=e(47322).prepSelect,m=e(47322).clearOutline,M=e(47322).selectOnClick,w=e(42449),i=e(85555),C=i.MINDRAG,y=i.MINZOOM,_=!0;function I(ne,ue,ge,we,xe,Fe,ze,Te){var ye=ne._fullLayout._zoomlayer,Ae=ze+Te==="nsew",Ne=(ze+Te).length===1,Ue,Re,Ve,rt,Qe,Je,qe,dt,pt,mt,Ct,Rt,Zt,Xe,Le,Pe,ke,Ce,me,oe,pe,Me,_e;ge+=ue.yaxis._shift;function tt(){if(Ue=ue.xaxis,Re=ue.yaxis,pt=Ue._length,mt=Re._length,qe=Ue._offset,dt=Re._offset,Ve={},Ve[Ue._id]=Ue,rt={},rt[Re._id]=Re,ze&&Te)for(var ir=ue.overlays,Nt=0;Nt<ir.length;Nt++){var vr=ir[Nt].xaxis;Ve[vr._id]=vr;var mr=ir[Nt].yaxis;rt[mr._id]=mr}Qe=se(Ve),Je=se(rt),Zt=O(Qe,Te),Xe=O(Je,ze),Le=!Xe&&!Zt,Rt=J(ne,ne._fullLayout._axisMatchGroups,Ve,rt),Ct=J(ne,ne._fullLayout._axisConstraintGroups,Ve,rt,Rt);var xr=Ct.isSubplotConstrained||Rt.isSubplotConstrained;Pe=Te||xr,ke=ze||xr;var yr=ne._fullLayout;Ce=yr._has("scattergl"),me=yr._has("splom"),oe=yr._has("svg")}tt();var at=Q(Xe+Zt,ne._fullLayout.dragmode,Ae),At=k(ue,ze+Te+"drag",at,ge,we,xe,Fe);if(Le&&!Ae)return At.onmousedown=null,At.style.pointerEvents="none",At;var Ft={element:At,gd:ne,plotinfo:ue};Ft.prepFn=function(ir,Nt,vr){var mr=Ft.dragmode,xr=ne._fullLayout.dragmode;xr!==mr&&(Ft.dragmode=xr),tt(),Me=ne._fullLayout._invScaleX,_e=ne._fullLayout._invScaleY,Le||(Ae?ir.shiftKey?xr==="pan"?xr="zoom":c(xr)||(xr="pan"):ir.ctrlKey&&(xr="pan"):xr="pan"),b(xr)?Ft.minDrag=1:Ft.minDrag=void 0,c(xr)?(Ft.xaxes=Qe,Ft.yaxes=Je,E(ir,Nt,vr,Ft,xr)):(Ft.clickFn=Yt,c(mr)&&Gt(),Le||(xr==="zoom"?(Ft.moveFn=bt,Ft.doneFn=Pt,Ft.minDrag=1,st(ir,Nt,vr)):xr==="pan"&&(Ft.moveFn=ur,Ft.doneFn=_t))),ne._fullLayout._redrag=function(){var yr=ne._dragdata;if(yr&&yr.element===At){var Kr=ne._fullLayout.dragmode;c(Kr)||(tt(),Ot([0,0,pt,mt]),Ft.moveFn(yr.dx,yr.dy))}}};function Gt(){Ft.plotinfo.selection=!1,m(ne)}function Yt(ir,Nt){var vr=Ft.gd;if(vr._fullLayout._activeShapeIndex>=0){vr._fullLayout._deactivateShape(vr);return}var mr=vr._fullLayout.clickmode;if(W(vr),ir===2&&!Ne&&Ge(),Ae)mr.indexOf("select")>-1&&M(Nt,vr,Qe,Je,ue.id,Ft),mr.indexOf("event")>-1&&n.click(vr,Nt,ue.id);else if(ir===1&&Ne){var xr=ze?Re:Ue,yr=ze==="s"||Te==="w"?0:1,Kr=xr._name+".range["+yr+"]",Nr=z(xr,yr),Ur="left",Tn="middle";if(xr.fixedrange)return;ze?(Tn=ze==="n"?"top":"bottom",xr.side==="right"&&(Ur="right")):Te==="e"&&(Ur="right"),vr._context.showAxisRangeEntryBoxes&&g.select(At).call(t.makeEditable,{gd:vr,immediate:!0,background:vr._fullLayout.paper_bgcolor,text:String(Nr),fill:xr.tickfont?xr.tickfont.color:"#444",horizontalAlign:Ur,verticalAlign:Tn}).on("edit",function(rn){var Gn=xr.d2r(rn);Gn!==void 0&&v.call("_guiRelayout",vr,Kr,Gn)})}}l.init(Ft);var Dt,$t,lr,Hr,xt,Qt,jt,Sr,gr,ut;function st(ir,Nt,vr){var mr=At.getBoundingClientRect();Dt=Nt-mr.left,$t=vr-mr.top,ne._fullLayout._calcInverseTransform(ne);var xr=P.apply3DTransform(ne._fullLayout._invTransform)(Dt,$t);Dt=xr[0],$t=xr[1],lr={l:Dt,r:Dt,w:0,t:$t,b:$t,h:0},Hr=ne._hmpixcount?ne._hmlumcount/ne._hmpixcount:L(ne._fullLayout.plot_bgcolor).getLuminance(),xt="M0,0H"+pt+"V"+mt+"H0V0",Qt=!1,jt="xy",ut=!1,Sr=ee(ye,Hr,qe,dt,xt),gr=ae(ye,qe,dt)}function bt(ir,Nt){if(ne._transitioningWithDuration)return!1;var vr=Math.max(0,Math.min(pt,Me*ir+Dt)),mr=Math.max(0,Math.min(mt,_e*Nt+$t)),xr=Math.abs(vr-Dt),yr=Math.abs(mr-$t);lr.l=Math.min(Dt,vr),lr.r=Math.max(Dt,vr),lr.t=Math.min($t,mr),lr.b=Math.max($t,mr);function Kr(){jt="",lr.r=lr.l,lr.t=lr.b,gr.attr("d","M0,0Z")}if(Ct.isSubplotConstrained)xr>y||yr>y?(jt="xy",xr/pt>yr/mt?(yr=xr*mt/pt,$t>mr?lr.t=$t-yr:lr.b=$t+yr):(xr=yr*pt/mt,Dt>vr?lr.l=Dt-xr:lr.r=Dt+xr),gr.attr("d",ie(lr))):Kr();else if(Rt.isSubplotConstrained)if(xr>y||yr>y){jt="xy";var Nr=Math.min(lr.l/pt,(mt-lr.b)/mt),Ur=Math.max(lr.r/pt,(mt-lr.t)/mt);lr.l=Nr*pt,lr.r=Ur*pt,lr.b=(1-Nr)*mt,lr.t=(1-Ur)*mt,gr.attr("d",ie(lr))}else Kr();else!Xe||yr<Math.min(Math.max(xr*.6,C),y)?xr<C||!Zt?Kr():(lr.t=0,lr.b=mt,jt="x",gr.attr("d",X(lr,$t))):!Zt||xr<Math.min(yr*.6,y)?(lr.l=0,lr.r=pt,jt="y",gr.attr("d",$(lr,Dt))):(jt="xy",gr.attr("d",ie(lr)));lr.w=lr.r-lr.l,lr.h=lr.b-lr.t,jt&&(ut=!0),ne._dragged=ut,fe(Sr,gr,lr,xt,Qt,Hr),St(),ne.emit("plotly_relayouting",pe),Qt=!0}function St(){pe={},(jt==="xy"||jt==="x")&&(F(Qe,lr.l/pt,lr.r/pt,pe,Ct.xaxes),kr("x",pe)),(jt==="xy"||jt==="y")&&(F(Je,(mt-lr.b)/mt,(mt-lr.t)/mt,pe,Ct.yaxes),kr("y",pe))}function Pt(){St(),W(ne),_t(),Z(ne)}var Et=[0,0,pt,mt],Bt=null,Wt=i.REDRAWDELAY,tr=ue.mainplot?ne._fullLayout._plots[ue.mainplot]:ue;function er(ir){if(!ne._context._scrollZoom.cartesian&&!ne._fullLayout._enablescrollzoom)return;if(Gt(),ne._transitioningWithDuration){ir.preventDefault(),ir.stopPropagation();return}tt(),clearTimeout(Bt);var Nt=-ir.deltaY;if(isFinite(Nt)||(Nt=ir.wheelDelta/10),!isFinite(Nt)){P.log("Did not find wheel motion attributes: ",ir);return}var vr=Math.exp(-Math.min(Math.max(Nt,-20),20)/200),mr=tr.draglayer.select(".nsewdrag").node().getBoundingClientRect(),xr=(ir.clientX-mr.left)/mr.width,yr=(mr.bottom-ir.clientY)/mr.height,Kr;function Nr(Ur,Tn,rn){if(Ur.fixedrange)return;var Gn=P.simpleMap(Ur.range,Ur.r2l),Hn=Gn[0]+(Gn[1]-Gn[0])*Tn;function Ar(Cr){return Ur.l2r(Hn+(Cr-Hn)*rn)}Ur.range=Gn.map(Ar)}if(Pe){for(Te||(xr=.5),Kr=0;Kr<Qe.length;Kr++)Nr(Qe[Kr],xr,vr);kr("x"),Et[2]*=vr,Et[0]+=Et[2]*xr*(1/vr-1)}if(ke){for(ze||(yr=.5),Kr=0;Kr<Je.length;Kr++)Nr(Je[Kr],yr,vr);kr("y"),Et[3]*=vr,Et[1]+=Et[3]*(1-yr)*(1/vr-1)}Ot(Et),We(),ne.emit("plotly_relayouting",pe),Bt=setTimeout(function(){ne._fullLayout&&(Et=[0,0,pt,mt],_t())},Wt),ir.preventDefault()}ze.length*Te.length!==1&&j(At,er);function ur(ir,Nt){if(ir=ir*Me,Nt=Nt*_e,ne._transitioningWithDuration)return;if(ne._fullLayout._replotting=!0,Zt==="ew"||Xe==="ns"){var vr=Zt?-ir:0,mr=Xe?-Nt:0;if(Rt.isSubplotConstrained){if(Zt&&Xe){var xr=(ir/pt-Nt/mt)/2;ir=xr*pt,Nt=-xr*mt,vr=-ir,mr=-Nt}Xe?vr=-mr*pt/mt:mr=-vr*mt/pt}Zt&&(B(Qe,ir),kr("x")),Xe&&(B(Je,Nt),kr("y")),Ot([vr,mr,pt,mt]),We(),ne.emit("plotly_relayouting",pe);return}function yr(Ar,Cr,Yr){for(var Zr=1-Cr,un,mn,pn=0;pn<Ar.length;pn++){var Rn=Ar[pn];if(!Rn.fixedrange){un=Rn,mn=Rn._rl[Zr]+(Rn._rl[Cr]-Rn._rl[Zr])/G(Yr/Rn._length);var Un=Rn.l2r(mn);Un!==!1&&Un!==void 0&&(Rn.range[Cr]=Un)}}return un._length*(un._rl[Cr]-mn)/(un._rl[Cr]-un._rl[Zr])}var Kr=Zt==="w"==(Xe==="n")?1:-1;if(Zt&&Xe&&(Ct.isSubplotConstrained||Rt.isSubplotConstrained)){var Nr=(ir/pt+Kr*Nt/mt)/2;ir=Nr*pt,Nt=Kr*Nr*mt}var Ur,Tn;if(Zt==="w"?ir=yr(Qe,0,ir):Zt==="e"?ir=yr(Qe,1,-ir):Zt||(ir=0),Xe==="n"?Nt=yr(Je,1,Nt):Xe==="s"?Nt=yr(Je,0,-Nt):Xe||(Nt=0),Ur=Zt==="w"?ir:0,Tn=Xe==="n"?Nt:0,Ct.isSubplotConstrained&&!Rt.isSubplotConstrained||Rt.isSubplotConstrained&&Zt&&Xe&&Kr>0){var rn;if(Rt.isSubplotConstrained||!Zt&&Xe.length===1){for(rn=0;rn<Qe.length;rn++)Qe[rn].range=Qe[rn]._r.slice(),w(Qe[rn],1-Nt/mt);ir=Nt*pt/mt,Ur=ir/2}if(Rt.isSubplotConstrained||!Xe&&Zt.length===1){for(rn=0;rn<Je.length;rn++)Je[rn].range=Je[rn]._r.slice(),w(Je[rn],1-ir/pt);Nt=ir*mt/pt,Tn=Nt/2}}(!Rt.isSubplotConstrained||!Xe)&&kr("x"),(!Rt.isSubplotConstrained||!Zt)&&kr("y");var Gn=pt-ir,Hn=mt-Nt;Rt.isSubplotConstrained&&!(Zt&&Xe)&&(Zt?(Tn=Ur?0:ir*mt/pt,Hn=Gn*mt/pt):(Ur=Tn?0:Nt*pt/mt,Gn=Hn*pt/mt)),Ot([Ur,Tn,Gn,Hn]),We(),ne.emit("plotly_relayouting",pe)}function kr(ir,Nt){for(var vr=Rt.isSubplotConstrained?{x:Je,y:Qe}[ir]:Rt[ir+"axes"],mr=Rt.isSubplotConstrained?{x:Qe,y:Je}[ir]:[],xr=0;xr<vr.length;xr++){var yr=vr[xr],Kr=yr._id,Nr=Rt.xLinks[Kr]||Rt.yLinks[Kr],Ur=mr[0]||Ve[Nr]||rt[Nr];Ur&&(Nt?(Nt[yr._name+".range[0]"]=Nt[Ur._name+".range[0]"],Nt[yr._name+".range[1]"]=Nt[Ur._name+".range[1]"]):yr.range=Ur.range.slice())}}function We(){var ir=[],Nt;function vr(Kr){for(Nt=0;Nt<Kr.length;Nt++)Kr[Nt].fixedrange||ir.push(Kr[Nt]._id)}function mr(Kr,Nr){for(Nt=0;Nt<Kr.length;Nt++){var Ur=Kr[Nt],Tn=Ur[Nr];!Ur.fixedrange&&Tn.tickmode==="sync"&&ir.push(Tn._id)}}for(Pe&&(vr(Qe),vr(Ct.xaxes),vr(Rt.xaxes),mr(ue.overlays,"xaxis")),ke&&(vr(Je),vr(Ct.yaxes),vr(Rt.yaxes),mr(ue.overlays,"yaxis")),pe={},Nt=0;Nt<ir.length;Nt++){var xr=ir[Nt],yr=A(ne,xr);s.drawOne(ne,yr,{skipTitle:!0}),pe[yr._name+".range[0]"]=yr.range[0],pe[yr._name+".range[1]"]=yr.range[1]}s.redrawComponents(ne,ir)}function Ge(){if(!ne._transitioningWithDuration){var ir=ne._context.doubleClick,Nt=[];Zt&&(Nt=Nt.concat(Qe)),Xe&&(Nt=Nt.concat(Je)),Rt.xaxes&&(Nt=Nt.concat(Rt.xaxes)),Rt.yaxes&&(Nt=Nt.concat(Rt.yaxes));var vr={},mr,xr;if(ir==="reset+autosize")for(ir="autosize",xr=0;xr<Nt.length;xr++){mr=Nt[xr];var yr=mr._rangeInitial0,Kr=mr._rangeInitial1,Nr=yr!==void 0||Kr!==void 0;if(Nr&&(yr!==void 0&&yr!==mr.range[0]||Kr!==void 0&&Kr!==mr.range[1])||!Nr&&mr.autorange!==!0){ir="reset";break}}if(ir==="autosize")for(xr=0;xr<Nt.length;xr++)mr=Nt[xr],mr.fixedrange||(vr[mr._name+".autorange"]=!0);else if(ir==="reset"){for((Zt||Ct.isSubplotConstrained)&&(Nt=Nt.concat(Ct.xaxes)),Xe&&!Ct.isSubplotConstrained&&(Nt=Nt.concat(Ct.yaxes)),Ct.isSubplotConstrained&&(Zt?Xe||(Nt=Nt.concat(Je)):Nt=Nt.concat(Qe)),xr=0;xr<Nt.length;xr++)if(mr=Nt[xr],!mr.fixedrange){var Ur=mr._name,Tn=mr._autorangeInitial;mr._rangeInitial0===void 0&&mr._rangeInitial1===void 0?vr[Ur+".autorange"]=!0:mr._rangeInitial0===void 0?(vr[Ur+".autorange"]=Tn,vr[Ur+".range"]=[null,mr._rangeInitial1]):mr._rangeInitial1===void 0?(vr[Ur+".range"]=[mr._rangeInitial0,null],vr[Ur+".autorange"]=Tn):vr[Ur+".range"]=[mr._rangeInitial0,mr._rangeInitial1]}}ne.emit("plotly_doubleclick",null),v.call("_guiRelayout",ne,vr)}}function _t(){Ot([0,0,pt,mt]),P.syncOrAsync([S.previousPromises,function(){ne._fullLayout._replotting=!1,v.call("_guiRelayout",ne,pe)}],ne)}function Ot(ir){var Nt=ne._fullLayout,vr=Nt._plots,mr=Nt._subplots.cartesian,xr,yr,Kr,Nr;if(me&&v.subplotsRegistry.splom.drag(ne),Ce){for(xr=0;xr<mr.length;xr++)if(yr=vr[mr[xr]],Kr=yr.xaxis,Nr=yr.yaxis,yr._scene){var Ur=P.simpleMap(Kr.range,Kr.r2l),Tn=P.simpleMap(Nr.range,Nr.r2l);Kr.limitRange&&Kr.limitRange(),Nr.limitRange&&Nr.limitRange(),Ur=Kr.range,Tn=Nr.range,yr._scene.update({range:[Ur[0],Tn[0],Ur[1],Tn[1]]})}}if((me||Ce)&&(o(ne),p(ne)),oe){var rn=ir[2]/Ue._length,Gn=ir[3]/Re._length;for(xr=0;xr<mr.length;xr++){yr=vr[mr[xr]],Kr=yr.xaxis,Nr=yr.yaxis;var Hn=(Pe||Rt.isSubplotConstrained)&&!Kr.fixedrange&&Ve[Kr._id],Ar=(ke||Rt.isSubplotConstrained)&&!Nr.fixedrange&&rt[Nr._id],Cr,Yr,Zr,un;if(Hn?(Cr=rn,Zr=Te||Rt.isSubplotConstrained?ir[0]:hr(Kr,Cr)):Rt.xaHash[Kr._id]?(Cr=rn,Zr=ir[0]*Kr._length/Ue._length):Rt.yaHash[Kr._id]?(Cr=Gn,Zr=Xe==="ns"?-ir[1]*Kr._length/Re._length:hr(Kr,Cr,{n:"top",s:"bottom"}[Xe])):(Cr=Kt(Kr,rn,Gn),Zr=or(Kr,Cr)),Cr>1&&(Kr.maxallowed!==void 0&&Pe===(Kr.range[0]<Kr.range[1]?"e":"w")||Kr.minallowed!==void 0&&Pe===(Kr.range[0]<Kr.range[1]?"w":"e"))&&(Cr=1,Zr=0),Ar?(Yr=Gn,un=ze||Rt.isSubplotConstrained?ir[1]:hr(Nr,Yr)):Rt.yaHash[Nr._id]?(Yr=Gn,un=ir[1]*Nr._length/Re._length):Rt.xaHash[Nr._id]?(Yr=rn,un=Zt==="ew"?-ir[0]*Nr._length/Ue._length:hr(Nr,Yr,{e:"right",w:"left"}[Zt])):(Yr=Kt(Nr,rn,Gn),un=or(Nr,Yr)),Yr>1&&(Nr.maxallowed!==void 0&&ke===(Nr.range[0]<Nr.range[1]?"n":"s")||Nr.minallowed!==void 0&&ke===(Nr.range[0]<Nr.range[1]?"s":"n"))&&(Yr=1,un=0),!(!Cr&&!Yr)){Cr||(Cr=1),Yr||(Yr=1);var mn=Kr._offset-Zr/Cr,pn=Nr._offset-un/Yr;yr.clipRect.call(u.setTranslate,Zr,un).call(u.setScale,Cr,Yr),yr.plot.call(u.setTranslate,mn,pn).call(u.setScale,1/Cr,1/Yr),(Cr!==yr.xScaleFactor||Yr!==yr.yScaleFactor)&&(u.setPointGroupScale(yr.zoomScalePts,Cr,Yr),u.setTextPointsScale(yr.zoomScaleTxt,Cr,Yr)),u.hideOutsideRangePoints(yr.clipOnAxisFalseTraces,yr),yr.xScaleFactor=Cr,yr.yScaleFactor=Yr}}}}function Kt(ir,Nt,vr){return ir.fixedrange?0:Pe&&Ct.xaHash[ir._id]?Nt:ke&&(Ct.isSubplotConstrained?Ct.xaHash:Ct.yaHash)[ir._id]?vr:0}function or(ir,Nt){return Nt?(ir.range=ir._r.slice(),w(ir,Nt),hr(ir,Nt)):0}function hr(ir,Nt,vr){return ir._length*(1-Nt)*h[vr||ir.constraintoward||"middle"]}return At}function N(ne,ue,ge,we){var xe=P.ensureSingle(ne.draglayer,ue,ge,function(Fe){Fe.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",ne.id)});return xe.call(f,we),xe.node()}function k(ne,ue,ge,we,xe,Fe,ze){var Te=N(ne,"rect",ue,ge);return g.select(Te).call(u.setRect,we,xe,Fe,ze),Te}function O(ne,ue){for(var ge=0;ge<ne.length;ge++)if(!ne[ge].fixedrange)return ue;return""}function z(ne,ue){var ge=ne.range[ue],we=Math.abs(ge-ne.range[1-ue]),xe;return ne.type==="date"?ge:ne.type==="log"?(xe=Math.ceil(Math.max(0,-Math.log(we)/Math.LN10))+3,a("."+xe+"g")(Math.pow(10,ge))):(xe=Math.floor(Math.log(Math.abs(ge))/Math.LN10)-Math.floor(Math.log(we)/Math.LN10)+4,a("."+String(xe)+"g")(ge))}function F(ne,ue,ge,we,xe){for(var Fe=0;Fe<ne.length;Fe++){var ze=ne[Fe];if(!ze.fixedrange)if(ze.rangebreaks){var Te=ze._id.charAt(0)==="y",ye=Te?1-ue:ue,Ae=Te?1-ge:ge;we[ze._name+".range[0]"]=ze.l2r(ze.p2l(ye*ze._length)),we[ze._name+".range[1]"]=ze.l2r(ze.p2l(Ae*ze._length))}else{var Ne=ze._rl[0],Ue=ze._rl[1]-Ne;we[ze._name+".range[0]"]=ze.l2r(Ne+Ue*ue),we[ze._name+".range[1]"]=ze.l2r(Ne+Ue*ge)}}if(xe&&xe.length){var Re=(ue+(1-ge))/2;F(xe,Re,1-Re,we,[])}}function B(ne,ue){for(var ge=0;ge<ne.length;ge++){var we=ne[ge];if(!we.fixedrange){if(we.rangebreaks){var xe=0,Fe=we._length,ze=we.p2l(xe+ue)-we.p2l(xe),Te=we.p2l(Fe+ue)-we.p2l(Fe),ye=(ze+Te)/2;we.range=[we.l2r(we._rl[0]-ye),we.l2r(we._rl[1]-ye)]}else we.range=[we.l2r(we._rl[0]-ue/we._m),we.l2r(we._rl[1]-ue/we._m)];we.limitRange&&we.limitRange()}}}function G(ne){return 1-(ne>=0?Math.min(ne,.9):1/(1/Math.max(ne,-.3)+3.222))}function Q(ne,ue,ge){return ne?ne==="nsew"?ge?"":ue==="pan"?"move":"crosshair":ne.toLowerCase()+"-resize":"pointer"}function ee(ne,ue,ge,we,xe){return ne.append("path").attr("class","zoombox").style({fill:ue>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",d(ge,we)).attr("d",xe+"Z")}function ae(ne,ue,ge){return ne.append("path").attr("class","zoombox-corners").style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,opacity:0}).attr("transform",d(ue,ge)).attr("d","M0,0Z")}function fe(ne,ue,ge,we,xe,Fe){ne.attr("d",we+"M"+ge.l+","+ge.t+"v"+ge.h+"h"+ge.w+"v-"+ge.h+"h-"+ge.w+"Z"),K(ne,ue,xe,Fe)}function K(ne,ue,ge,we){ge||(ne.transition().style("fill",we>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ue.transition().style("opacity",1).duration(200))}function W(ne){g.select(ne).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function Z(ne){_&&ne.data&&ne._context.showTips&&(P.notifier(P._(ne,"Double-click to zoom back out"),"long"),_=!1)}function X(ne,ue){return"M"+(ne.l-.5)+","+(ue-y-.5)+"h-3v"+(2*y+1)+"h3ZM"+(ne.r+.5)+","+(ue-y-.5)+"h3v"+(2*y+1)+"h-3Z"}function $(ne,ue){return"M"+(ue-y-.5)+","+(ne.t-.5)+"v-3h"+(2*y+1)+"v3ZM"+(ue-y-.5)+","+(ne.b+.5)+"v3h"+(2*y+1)+"v-3Z"}function ie(ne){var ue=Math.floor(Math.min(ne.b-ne.t,ne.r-ne.l,y)/2);return"M"+(ne.l-3.5)+","+(ne.t-.5+ue)+"h3v"+-ue+"h"+ue+"v-3h-"+(ue+3)+"ZM"+(ne.r+3.5)+","+(ne.t-.5+ue)+"h-3v"+-ue+"h"+-ue+"v-3h"+(ue+3)+"ZM"+(ne.r+3.5)+","+(ne.b+.5-ue)+"h-3v"+ue+"h"+-ue+"v3h"+(ue+3)+"ZM"+(ne.l-3.5)+","+(ne.b+.5-ue)+"h3v"+ue+"h"+ue+"v3h-"+(ue+3)+"Z"}function J(ne,ue,ge,we,xe){for(var Fe=!1,ze={},Te={},ye,Ae,Ne,Ue,Re=(xe||{}).xaHash,Ve=(xe||{}).yaHash,rt=0;rt<ue.length;rt++){var Qe=ue[rt];for(ye in ge)if(Qe[ye]){for(Ne in Qe)!(xe&&(Re[Ne]||Ve[Ne]))&&!(Ne.charAt(0)==="x"?ge:we)[Ne]&&(ze[Ne]=ye);for(Ae in we)!(xe&&(Re[Ae]||Ve[Ae]))&&Qe[Ae]&&(Fe=!0)}for(Ae in we)if(Qe[Ae])for(Ue in Qe)!(xe&&(Re[Ue]||Ve[Ue]))&&!(Ue.charAt(0)==="x"?ge:we)[Ue]&&(Te[Ue]=Ae)}Fe&&(P.extendFlat(ze,Te),Te={});var Je={},qe=[];for(Ne in ze){var dt=A(ne,Ne);qe.push(dt),Je[dt._id]=dt}var pt={},mt=[];for(Ue in Te){var Ct=A(ne,Ue);mt.push(Ct),pt[Ct._id]=Ct}return{xaHash:Je,yaHash:pt,xaxes:qe,yaxes:mt,xLinks:ze,yLinks:Te,isSubplotConstrained:Fe}}function j(ne,ue){if(!T)ne.onwheel!==void 0?ne.onwheel=ue:ne.onmousewheel!==void 0?ne.onmousewheel=ue:ne.isAddedWheelEvent||(ne.isAddedWheelEvent=!0,ne.addEventListener("wheel",ue,{passive:!1}));else{var ge=ne.onwheel!==void 0?"wheel":"mousewheel";ne._onwheel&&ne.removeEventListener(ge,ne._onwheel),ne._onwheel=ue,ne.addEventListener(ge,ue,{passive:!1})}}function se(ne){var ue=[];for(var ge in ne)ue.push(ne[ge]);return ue}H.exports={makeDragBox:I,makeDragger:N,makeRectDragger:k,makeZoombox:ee,makeCorners:ae,updateZoombox:fe,xyCorners:ie,transitionZoombox:K,removeZoombox:W,showDoubleClickNotifier:Z,attachWheelEventHandler:j}},4305:function(H,U,e){var g=e(39898),P=e(30211),a=e(28569),L=e(6964),T=e(29323).makeDragBox,v=e(85555).DRAGGERSIZE;U.initInteractions=function(t){var r=t._fullLayout;if(t._context.staticPlot){g.select(t).selectAll(".drag").remove();return}if(!(!r._has("cartesian")&&!r._has("splom"))){var u=Object.keys(r._plots||{}).sort(function(s,f){if((r._plots[s].mainplot&&!0)===(r._plots[f].mainplot&&!0)){var l=s.split("y"),x=f.split("y");return l[0]===x[0]?Number(l[1]||1)-Number(x[1]||1):Number(l[0]||1)-Number(x[0]||1)}return r._plots[s].mainplot?1:-1});u.forEach(function(s){var f=r._plots[s],l=f.xaxis,x=f.yaxis;if(!f.mainplot){var c=T(t,f,l._offset,x._offset,l._length,x._length,"ns","ew");c.onmousemove=function(o){t._fullLayout._rehover=function(){t._fullLayout._hoversubplot===s&&t._fullLayout._plots[s]&&P.hover(t,o,s)},P.hover(t,o,s),t._fullLayout._lasthover=c,t._fullLayout._hoversubplot=s},c.onmouseout=function(o){t._dragging||(t._fullLayout._hoversubplot=null,a.unhover(t,o))},t._context.showAxisDragHandles&&(T(t,f,l._offset-v,x._offset-v,v,v,"n","w"),T(t,f,l._offset+l._length,x._offset-v,v,v,"n","e"),T(t,f,l._offset-v,x._offset+x._length,v,v,"s","w"),T(t,f,l._offset+l._length,x._offset+x._length,v,v,"s","e"))}if(t._context.showAxisDragHandles){if(s===l._mainSubplot){var b=l._mainLinePosition;l.side==="top"&&(b-=v),T(t,f,l._offset+l._length*.1,b,l._length*.8,v,"","ew"),T(t,f,l._offset,b,l._length*.1,v,"","w"),T(t,f,l._offset+l._length*.9,b,l._length*.1,v,"","e")}if(s===x._mainSubplot){var h=x._mainLinePosition;x.side!=="right"&&(h-=v),T(t,f,h,x._offset+x._length*.1,v,x._length*.8,"ns",""),T(t,f,h,x._offset+x._length*.9,v,x._length*.1,"s",""),T(t,f,h,x._offset,v,x._length*.1,"n","")}}});var n=r._hoverlayer.node();n.onmousemove=function(s){s.target=t._fullLayout._lasthover,P.hover(t,s,r._hoversubplot)},n.onclick=function(s){s.target=t._fullLayout._lasthover,P.click(t,s)},n.onmousedown=function(s){t._fullLayout._lasthover.onmousedown(s)},U.updateFx(t)}},U.updateFx=function(d){var t=d._fullLayout,r=t.dragmode==="pan"?"move":"crosshair";L(t._draggers,r)}},76325:function(H,U,e){var g=e(73972),P=e(71828),a=e(41675);H.exports=function(T){return function(d,t){var r=d[T];if(Array.isArray(r))for(var u=g.subplotsRegistry.cartesian,n=u.idRegex,s=t._subplots,f=s.xaxis,l=s.yaxis,x=s.cartesian,c=t._has("cartesian")||t._has("gl2d"),b=0;b<r.length;b++){var h=r[b];if(P.isPlainObject(h)){var o=a.cleanId(h.xref,"x",!1),p=a.cleanId(h.yref,"y",!1),S=n.x.test(o),A=n.y.test(p);if(S||A){c||P.pushUnique(t._basePlotModules,u);var E=!1;S&&f.indexOf(o)===-1&&(f.push(o),E=!0),A&&l.indexOf(p)===-1&&(l.push(p),E=!0),E&&S&&A&&x.push(o+p)}}}}}},93612:function(H,U,e){var g=e(39898),P=e(73972),a=e(71828),L=e(74875),T=e(91424),v=e(27659).a0,d=e(41675),t=e(85555),r=e(77922),u=a.ensureSingle;function n(b,h,o){return a.ensureSingle(b,h,o,function(p){p.datum(o)})}U.name="cartesian",U.attr=["xaxis","yaxis"],U.idRoot=["x","y"],U.idRegex=t.idRegex,U.attrRegex=t.attrRegex,U.attributes=e(89502),U.layoutAttributes=e(13838),U.supplyLayoutDefaults=e(86763),U.transitionAxes=e(66847),U.finalizeSubplots=function(b,h){var o=h._subplots,p=o.xaxis,S=o.yaxis,A=o.cartesian,E=A.concat(o.gl2d||[]),m={},M={},w,i,C;for(w=0;w<E.length;w++){var y=E[w].split("y");m[y[0]]=1,M["y"+y[1]]=1}for(w=0;w<p.length;w++)i=p[w],m[i]||(C=(b[d.id2name(i)]||{}).anchor,t.idRegex.y.test(C)||(C="y"),A.push(i+C),E.push(i+C),M[C]||(M[C]=1,a.pushUnique(S,C)));for(w=0;w<S.length;w++)C=S[w],M[C]||(i=(b[d.id2name(C)]||{}).anchor,t.idRegex.x.test(i)||(i="x"),A.push(i+C),E.push(i+C),m[i]||(m[i]=1,a.pushUnique(p,i)));if(!E.length){i="",C="";for(var _ in b)if(t.attrRegex.test(_)){var I=_.charAt(0);I==="x"?(!i||+_.substr(5)<+i.substr(5))&&(i=_):(!C||+_.substr(5)<+C.substr(5))&&(C=_)}i=i?d.name2id(i):"x",C=C?d.name2id(C):"y",p.push(i),S.push(C),A.push(i+C)}},U.plot=function(b,h,o,p){var S=b._fullLayout,A=S._subplots.cartesian,E=b.calcdata,m;if(!Array.isArray(h))for(h=[],m=0;m<E.length;m++)h.push(m);for(m=0;m<A.length;m++){for(var M=A[m],w=S._plots[M],i=[],C,y=0;y<E.length;y++){var _=E[y],I=_[0].trace;I.xaxis+I.yaxis===M&&((h.indexOf(I.index)!==-1||I.carpet)&&(C&&C[0].trace.xaxis+C[0].trace.yaxis===M&&["tonextx","tonexty","tonext"].indexOf(I.fill)!==-1&&i.indexOf(C)===-1&&i.push(C),i.push(_)),C=_)}s(b,w,i,o,p)}};function s(b,h,o,p,S){for(var A=t.traceLayerClasses,E=b._fullLayout,m=E._modules,M,w,i,C=[],y=[],_=0;_<m.length;_++){M=m[_];var I=M.name,N=P.modules[I].categories;if(N.svg){var k=M.layerName||I+"layer",O=M.plot;w=v(o,O),i=w[0],o=w[1],i.length&&C.push({i:A.indexOf(k),className:k,plotMethod:O,cdModule:i}),N.zoomScale&&y.push("."+k)}}C.sort(function(B,G){return B.i-G.i});var z=h.plot.selectAll("g.mlayer").data(C,function(B){return B.className});if(z.enter().append("g").attr("class",function(B){return B.className}).classed("mlayer",!0).classed("rangeplot",h.isRangePlot),z.exit().remove(),z.order(),z.each(function(B){var G=g.select(this),Q=B.className;B.plotMethod(b,h,B.cdModule,G,p,S),t.clipOnAxisFalseQuery.indexOf("."+Q)===-1&&T.setClipUrl(G,h.layerClipId,b)}),E._has("scattergl")&&(M=P.getModule("scattergl"),i=v(o,M)[0],M.plot(b,h,i)),!b._context.staticPlot&&(h._hasClipOnAxisFalse&&(h.clipOnAxisFalseTraces=h.plot.selectAll(t.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),y.length)){var F=h.plot.selectAll(y.join(",")).selectAll(".trace");h.zoomScalePts=F.selectAll("path.point"),h.zoomScaleTxt=F.selectAll(".textpoint")}}U.clean=function(b,h,o,p){var S=p._plots||{},A=h._plots||{},E=p._subplots||{},m,M,w;if(p._hasOnlyLargeSploms&&!h._hasOnlyLargeSploms)for(w in S)m=S[w],m.plotgroup&&m.plotgroup.remove();var i=p._has&&p._has("gl"),C=h._has&&h._has("gl");if(i&&!C)for(w in S)m=S[w],m._scene&&m._scene.destroy();if(E.xaxis&&E.yaxis){var y=d.listIds({_fullLayout:p});for(M=0;M<y.length;M++){var _=y[M];h[d.id2name(_)]||p._infolayer.selectAll(".g-"+_+"title").remove()}}var I=p._has&&p._has("cartesian"),N=h._has&&h._has("cartesian");if(I&&!N)x(p._cartesianlayer.selectAll(".subplot"),p),p._defs.selectAll(".axesclip").remove(),delete p._axisConstraintGroups,delete p._axisMatchGroups;else if(E.cartesian)for(M=0;M<E.cartesian.length;M++){var k=E.cartesian[M];if(!A[k]){var O="."+k+",."+k+"-x,."+k+"-y";p._cartesianlayer.selectAll(O).remove(),c(k,p)}}},U.drawFramework=function(b){var h=b._fullLayout,o=f(b),p=h._cartesianlayer.selectAll(".subplot").data(o,String);p.enter().append("g").attr("class",function(S){return"subplot "+S[0]}),p.order(),p.exit().call(x,h),p.each(function(S){var A=S[0],E=h._plots[A];E.plotgroup=g.select(this),l(b,E),E.draglayer=u(h._draggers,"g",A)})},U.rangePlot=function(b,h,o){l(b,h),s(b,h,o),L.style(b)};function f(b){var h=b._fullLayout,o=h._subplots.cartesian,p=o.length,S,A,E,m,M,w,i=[],C=[];for(S=0;S<p;S++){E=o[S],m=h._plots[E],M=m.xaxis,w=m.yaxis;var y=M._mainAxis,_=w._mainAxis,I=y._id+_._id,N=h._plots[I];m.overlays=[],I!==E&&N?(m.mainplot=I,m.mainplotinfo=N,C.push(E)):(m.mainplot=void 0,m.mainplotinfo=void 0,i.push(E))}for(S=0;S<C.length;S++)E=C[S],m=h._plots[E],m.mainplotinfo.overlays.push(m);var k=i.concat(C),O=new Array(p);for(S=0;S<p;S++){E=k[S],m=h._plots[E],M=m.xaxis,w=m.yaxis;var z=[E,M.layer,w.layer,M.overlaying||"",w.overlaying||""];for(A=0;A<m.overlays.length;A++)z.push(m.overlays[A].id);O[S]=z}return O}function l(b,h){var o=h.plotgroup,p=h.id,S=t.layerValue2layerClass[h.xaxis.layer],A=t.layerValue2layerClass[h.yaxis.layer],E=b._fullLayout._hasOnlyLargeSploms;if(h.mainplot){var M=h.mainplotinfo,w=M.plotgroup,i=p+"-x",C=p+"-y";h.minorGridlayer=M.minorGridlayer,h.gridlayer=M.gridlayer,h.zerolinelayer=M.zerolinelayer,u(M.overlinesBelow,"path",i),u(M.overlinesBelow,"path",C),u(M.overaxesBelow,"g",i),u(M.overaxesBelow,"g",C),h.plot=u(M.overplot,"g",p),u(M.overlinesAbove,"path",i),u(M.overlinesAbove,"path",C),u(M.overaxesAbove,"g",i),u(M.overaxesAbove,"g",C),h.xlines=w.select(".overlines-"+S).select("."+i),h.ylines=w.select(".overlines-"+A).select("."+C),h.xaxislayer=w.select(".overaxes-"+S).select("."+i),h.yaxislayer=w.select(".overaxes-"+A).select("."+C)}else if(E)h.xlines=u(o,"path","xlines-above"),h.ylines=u(o,"path","ylines-above"),h.xaxislayer=u(o,"g","xaxislayer-above"),h.yaxislayer=u(o,"g","yaxislayer-above");else{var m=u(o,"g","layer-subplot");h.shapelayer=u(m,"g","shapelayer"),h.imagelayer=u(m,"g","imagelayer"),h.minorGridlayer=u(o,"g","minor-gridlayer"),h.gridlayer=u(o,"g","gridlayer"),h.zerolinelayer=u(o,"g","zerolinelayer"),u(o,"path","xlines-below"),u(o,"path","ylines-below"),h.overlinesBelow=u(o,"g","overlines-below"),u(o,"g","xaxislayer-below"),u(o,"g","yaxislayer-below"),h.overaxesBelow=u(o,"g","overaxes-below"),h.plot=u(o,"g","plot"),h.overplot=u(o,"g","overplot"),h.xlines=u(o,"path","xlines-above"),h.ylines=u(o,"path","ylines-above"),h.overlinesAbove=u(o,"g","overlines-above"),u(o,"g","xaxislayer-above"),u(o,"g","yaxislayer-above"),h.overaxesAbove=u(o,"g","overaxes-above"),h.xlines=o.select(".xlines-"+S),h.ylines=o.select(".ylines-"+A),h.xaxislayer=o.select(".xaxislayer-"+S),h.yaxislayer=o.select(".yaxislayer-"+A)}E||(n(h.minorGridlayer,"g",h.xaxis._id),n(h.minorGridlayer,"g",h.yaxis._id),h.minorGridlayer.selectAll("g").map(function(y){return y[0]}).sort(d.idSort),n(h.gridlayer,"g",h.xaxis._id),n(h.gridlayer,"g",h.yaxis._id),h.gridlayer.selectAll("g").map(function(y){return y[0]}).sort(d.idSort)),h.xlines.style("fill","none").classed("crisp",!0),h.ylines.style("fill","none").classed("crisp",!0)}function x(b,h){if(b){var o={};b.each(function(M){var w=M[0],i=g.select(this);i.remove(),c(w,h),o[w]=!0});for(var p in h._plots)for(var S=h._plots[p],A=S.overlays||[],E=0;E<A.length;E++){var m=A[E];o[m.id]&&m.plot.selectAll(".trace").remove()}}}function c(b,h){h._draggers.selectAll("g."+b).remove(),h._defs.select("#clip"+h._uid+b+"plot").remove()}U.toSVG=function(b){var h=b._fullLayout._glimages,o=g.select(b).selectAll(".svg-container"),p=o.filter(function(A,E){return E===o.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function S(){var A=this,E=A.toDataURL("image/png"),m=h.append("svg:image");m.attr({xmlns:r.svg,"xlink:href":E,preserveAspectRatio:"none",x:0,y:0,width:A.style.width,height:A.style.height})}p.each(S)},U.updateFx=e(4305).updateFx},13838:function(H,U,e){var g=e(41940),P=e(22399),a=e(79952).P,L=e(1426).extendFlat,T=e(44467).templatedArray,v=e(12663).descriptionWithDates,d=e(50606).ONEDAY,t=e(85555),r=t.HOUR_PATTERN,u=t.WEEKDAY_PATTERN,n={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},s=L({},n,{values:n.values.slice().concat(["sync"])});function f(M){return{valType:"integer",min:0,dflt:M?5:0,editType:"ticks"}}var l={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},x={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},c={valType:"data_array",editType:"ticks"},b={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function h(M){var w={valType:"number",min:0,editType:"ticks"};return M||(w.dflt=5),w}function o(M){var w={valType:"number",min:0,editType:"ticks"};return M||(w.dflt=1),w}var p={valType:"color",dflt:P.defaultLine,editType:"ticks"},S={valType:"color",dflt:P.lightLine,editType:"ticks"};function A(M){var w={valType:"number",min:0,editType:"ticks"};return M||(w.dflt=1),w}var E=L({},a,{editType:"ticks"}),m={valType:"boolean",editType:"ticks"};H.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:P.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:g({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"calc"},rangebreaks:T("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[u,r,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:d},editType:"calc"}),tickmode:s,nticks:f(),tick0:l,dtick:x,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:c,ticktext:{valType:"data_array",editType:"ticks"},ticks:b,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:h(),tickwidth:o(),tickcolor:p,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:L({},a,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:g({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:v("tick label")},tickformatstops:T("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:v("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:P.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:m,gridcolor:S,gridwidth:A(),griddash:E,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:P.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:P.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},minor:{tickmode:n,nticks:f("minor"),tick0:l,dtick:x,tickvals:c,ticks:b,ticklen:h("minor"),tickwidth:o("minor"),tickcolor:p,gridcolor:S,gridwidth:A("minor"),griddash:E,showgrid:m,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:g({editType:"ticks"})}}},86763:function(H,U,e){var g=e(71828),P=e(7901),a=e(23469).isUnifiedHover,L=e(98212),T=e(44467),v=e(10820),d=e(13838),t=e(951),r=e(71453),u=e(99082),n=e(52830),s=e(41675),f=s.id2name,l=s.name2id,x=e(85555).AX_ID_PATTERN,c=e(73972),b=c.traceIs,h=c.getComponentMethod;function o(p,S,A){Array.isArray(p[S])?p[S].push(A):p[S]=[A]}H.exports=function(S,A,E){var m=A.autotypenumbers,M={},w={},i={},C={},y={},_={},I={},N={},k={},O={},z,F;for(z=0;z<E.length;z++){var B=E[z];if(!(!b(B,"cartesian")&&!b(B,"gl2d"))){var G;if(B.xaxis)G=f(B.xaxis),o(M,G,B);else if(B.xaxes)for(F=0;F<B.xaxes.length;F++)o(M,f(B.xaxes[F]),B);var Q;if(B.yaxis)Q=f(B.yaxis),o(M,Q,B);else if(B.yaxes)for(F=0;F<B.yaxes.length;F++)o(M,f(B.yaxes[F]),B);if(B.type==="funnel"?B.orientation==="h"?(G&&(w[G]=!0),Q&&(I[Q]=!0)):Q&&(i[Q]=!0):B.type==="image"?(Q&&(N[Q]=!0),G&&(N[G]=!0)):(Q&&(y[Q]=!0,_[Q]=!0),(!b(B,"carpet")||B.type==="carpet"&&!B._cheater)&&G&&(C[G]=!0)),B.type==="carpet"&&B._cheater&&G&&(w[G]=!0),b(B,"2dMap")&&(k[G]=!0,k[Q]=!0),b(B,"oriented")){var ee=B.orientation==="h"?Q:G;O[ee]=!0}}}var ae=A._subplots,fe=ae.xaxis,K=ae.yaxis,W=g.simpleMap(fe,f),Z=g.simpleMap(K,f),X=W.concat(Z),$=P.background;fe.length&&K.length&&($=g.coerce(S,A,v,"plot_bgcolor"));var ie=P.combine($,A.paper_bgcolor),J,j,se,ne,ue;function ge(){var Me=M[J]||[];ue._traceIndices=Me.map(function(_e){return _e._expandedIndex}),ue._annIndices=[],ue._shapeIndices=[],ue._selectionIndices=[],ue._imgIndices=[],ue._subplotsWith=[],ue._counterAxes=[],ue._name=ue._attr=J,ue._id=j}function we(Me,_e){return g.coerce(ne,ue,d,Me,_e)}function xe(Me,_e){return g.coerce2(ne,ue,d,Me,_e)}function Fe(Me){return Me==="x"?K:fe}function ze(Me,_e){for(var tt=Me==="x"?W:Z,at=[],At=0;At<tt.length;At++){var Ft=tt[At];Ft!==_e&&!(S[Ft]||{}).overlaying&&at.push(l(Ft))}return at}var Te={x:Fe("x"),y:Fe("y")},ye=Te.x.concat(Te.y),Ae={},Ne=[];function Ue(){var Me=ne.matches;x.test(Me)&&ye.indexOf(Me)===-1&&(Ae[Me]=ne.type,Ne=Object.keys(Ae))}var Re=L(S,A),Ve=a(Re);for(z=0;z<X.length;z++){J=X[z],j=l(J),se=J.charAt(0),g.isPlainObject(S[J])||(S[J]={}),ne=S[J],ue=T.newContainer(A,J,se+"axis"),ge();var rt=se==="x"&&!C[J]&&w[J]||se==="y"&&!y[J]&&i[J],Qe=se==="y"&&(!_[J]&&I[J]||N[J]),Je={hasMinor:!0,letter:se,font:A.font,outerTicks:k[J],showGrid:!O[J],data:M[J]||[],bgColor:ie,calendar:A.calendar,automargin:!0,visibleDflt:rt,reverseDflt:Qe,autotypenumbersDflt:m,splomStash:((A._splomAxes||{})[se]||{})[j]};we("uirevision",A.uirevision),t(ne,ue,we,Je),r(ne,ue,we,Je,A);var qe=Ve&&se===Re.charAt(0),dt=xe("spikecolor",Ve?ue.color:void 0),pt=xe("spikethickness",Ve?1.5:void 0),mt=xe("spikedash",Ve?"dot":void 0),Ct=xe("spikemode",Ve?"across":void 0),Rt=xe("spikesnap"),Zt=we("showspikes",!!qe||!!dt||!!pt||!!mt||!!Ct||!!Rt);Zt||(delete ue.spikecolor,delete ue.spikethickness,delete ue.spikedash,delete ue.spikemode,delete ue.spikesnap);var Xe=f(ne.overlaying),Le=[0,1];if(A[Xe]!==void 0){var Pe=f(A[Xe].anchor);A[Pe]!==void 0&&(Le=A[Pe].domain)}n(ne,ue,we,{letter:se,counterAxes:Te[se],overlayableAxes:ze(se,J),grid:A.grid,overlayingDomain:Le}),we("title.standoff"),Ue(),ue._input=ne}for(z=0;z<Ne.length;){j=Ne[z++],J=f(j),se=J.charAt(0),g.isPlainObject(S[J])||(S[J]={}),ne=S[J],ue=T.newContainer(A,J,se+"axis"),ge();var ke={letter:se,font:A.font,outerTicks:k[J],showGrid:!O[J],data:[],bgColor:ie,calendar:A.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:m,splomStash:((A._splomAxes||{})[se]||{})[j]};we("uirevision",A.uirevision),ue.type=Ae[j]||"linear",r(ne,ue,we,ke,A),n(ne,ue,we,{letter:se,counterAxes:Te[se],overlayableAxes:ze(se,J),grid:A.grid}),we("fixedrange"),Ue(),ue._input=ne}var Ce=h("rangeslider","handleDefaults"),me=h("rangeselector","handleDefaults");for(z=0;z<W.length;z++)J=W[z],ne=S[J],ue=A[J],Ce(S,A,J),ue.type==="date"&&me(ne,ue,A,Z,ue.calendar),we("fixedrange");for(z=0;z<Z.length;z++){J=Z[z],ne=S[J],ue=A[J];var oe=A[f(ue.anchor)],pe=h("rangeslider","isVisible")(oe);we("fixedrange",pe)}u.handleDefaults(S,A,{axIds:ye.concat(Ne).sort(s.idSort),axHasImage:N})}},92128:function(H,U,e){var g=e(84267).mix,P=e(22399),a=e(71828);H.exports=function(T,v,d,t){t=t||{};var r=t.dfltColor;function u(i,C){return a.coerce2(T,v,t.attributes,i,C)}var n=u("linecolor",r),s=u("linewidth"),f=d("showline",t.showLine||!!n||!!s);f||(delete v.linecolor,delete v.linewidth);var l=g(r,t.bgColor,t.blend||P.lightFraction).toRgbString(),x=u("gridcolor",l),c=u("gridwidth"),b=u("griddash"),h=d("showgrid",t.showGrid||!!x||!!c||!!b);if(h||(delete v.gridcolor,delete v.gridwidth,delete v.griddash),t.hasMinor){var o=g(v.gridcolor,t.bgColor,67).toRgbString(),p=u("minor.gridcolor",o),S=u("minor.gridwidth",v.gridwidth||1),A=u("minor.griddash",v.griddash||"solid"),E=d("minor.showgrid",!!p||!!S||!!A);E||(delete v.minor.gridcolor,delete v.minor.gridwidth,delete v.minor.griddash)}if(!t.noZeroLine){var m=u("zerolinecolor",r),M=u("zerolinewidth"),w=d("zeroline",t.showGrid||!!m||!!M);w||(delete v.zerolinecolor,delete v.zerolinewidth)}}},52830:function(H,U,e){var g=e(92770),P=e(71828);H.exports=function(L,T,v,d){var t=d.counterAxes||[],r=d.overlayableAxes||[],u=d.letter,n=d.grid,s=d.overlayingDomain,f,l,x,c,b,h;n&&(l=n._domains[u][n._axisMap[T._id]],f=n._anchors[T._id],l&&(x=n[u+"side"].split(" ")[0],c=n.domain[u][x==="right"||x==="top"?1:0])),l=l||[0,1],f=f||(g(L.position)?"free":t[0]||"free"),x=x||(u==="x"?"bottom":"left"),c=c||0,b=0,h=!1;var o=P.coerce(L,T,{anchor:{valType:"enumerated",values:["free"].concat(t),dflt:f}},"anchor"),p=P.coerce(L,T,{side:{valType:"enumerated",values:u==="x"?["bottom","top"]:["left","right"],dflt:x}},"side");if(o==="free"){if(u==="y"){var S=v("autoshift");S&&(c=p==="left"?s[0]:s[1],h=T.automargin?T.automargin:!0,b=p==="left"?-3:3),v("shift",b)}v("position",c)}v("automargin",h);var A=!1;if(r.length&&(A=P.coerce(L,T,{overlaying:{valType:"enumerated",values:[!1].concat(r),dflt:!1}},"overlaying")),!A){var E=v("domain",l);E[0]>E[1]-.000244140625&&(T.domain=l),P.noneOrAll(L.domain,T.domain,l),T.tickmode==="sync"&&(T.tickmode="auto")}return v("layer"),T}},89426:function(H,U,e){var g=e(59652);H.exports=function(a,L,T,v,d){d||(d={});var t=d.tickSuffixDflt,r=g(a),u=T("tickprefix");u&&T("showtickprefix",r);var n=T("ticksuffix",t);n&&T("showticksuffix",r)}},42449:function(H,U,e){var g=e(18783).FROM_BL;H.exports=function(a,L,T){T===void 0&&(T=g[a.constraintoward||"center"]);var v=[a.r2l(a.range[0]),a.r2l(a.range[1])],d=v[0]+(v[1]-v[0])*T;a.range=a._input.range=[a.l2r(d+(v[0]-d)*L),a.l2r(d+(v[1]-d)*L)],a.setScale()}},21994:function(H,U,e){var g=e(39898),P=e(84096).g0,a=e(71828),L=a.numberFormat,T=e(92770),v=a.cleanNumber,d=a.ms2DateTime,t=a.dateTime2ms,r=a.ensureNumber,u=a.isArrayOrTypedArray,n=e(50606),s=n.FP_SAFE,f=n.BADNUM,l=n.LOG_CLIP,x=n.ONEWEEK,c=n.ONEDAY,b=n.ONEHOUR,h=n.ONEMIN,o=n.ONESEC,p=e(41675),S=e(85555),A=S.HOUR_PATTERN,E=S.WEEKDAY_PATTERN;function m(w){return Math.pow(10,w)}function M(w){return w!=null}H.exports=function(i,C){C=C||{};var y=i._id||"x",_=y.charAt(0);function I(X,$){if(X>0)return Math.log(X)/Math.LN10;if(X<=0&&$&&i.range&&i.range.length===2){var ie=i.range[0],J=i.range[1];return .5*(ie+J-2*l*Math.abs(ie-J))}else return f}function N(X,$,ie,J){if((J||{}).msUTC&&T(X))return+X;var j=t(X,ie||i.calendar);if(j===f)if(T(X)){X=+X;var se=Math.floor(a.mod(X+.05,1)*10),ne=Math.round(X-se/10);j=t(new Date(ne))+se/10}else return f;return j}function k(X,$,ie){return d(X,$,ie||i.calendar)}function O(X){return i._categories[Math.round(X)]}function z(X){if(M(X)){if(i._categoriesMap===void 0&&(i._categoriesMap={}),i._categoriesMap[X]!==void 0)return i._categoriesMap[X];i._categories.push(typeof X=="number"?String(X):X);var $=i._categories.length-1;return i._categoriesMap[X]=$,$}return f}function F(X,$){for(var ie=new Array($),J=0;J<$;J++){var j=(X[0]||[])[J],se=(X[1]||[])[J];ie[J]=B([j,se])}return ie}function B(X){if(i._categoriesMap)return i._categoriesMap[X]}function G(X){var $=B(X);if($!==void 0)return $;if(T(X))return+X}function Q(X){return T(X)?+X:B(X)}function ee(X,$,ie){return g.round(ie+$*X,2)}function ae(X,$,ie){return(X-ie)/$}var fe=function($){return T($)?ee($,i._m,i._b):f},K=function(X){return ae(X,i._m,i._b)};if(i.rangebreaks){var W=_==="y";fe=function(X){if(!T(X))return f;var $=i._rangebreaks.length;if(!$)return ee(X,i._m,i._b);var ie=W;i.range[0]>i.range[1]&&(ie=!ie);for(var J=ie?-1:1,j=J*X,se=0,ne=0;ne<$;ne++){var ue=J*i._rangebreaks[ne].min,ge=J*i._rangebreaks[ne].max;if(j<ue)break;if(j>ge)se=ne+1;else{se=j<(ue+ge)/2?ne:ne+1;break}}var we=i._B[se]||0;return isFinite(we)?ee(X,i._m2,we):0},K=function(X){var $=i._rangebreaks.length;if(!$)return ae(X,i._m,i._b);for(var ie=0,J=0;J<$&&!(X<i._rangebreaks[J].pmin);J++)X>i._rangebreaks[J].pmax&&(ie=J+1);return ae(X,i._m2,i._B[ie])}}i.c2l=i.type==="log"?I:r,i.l2c=i.type==="log"?m:r,i.l2p=fe,i.p2l=K,i.c2p=i.type==="log"?function(X,$){return fe(I(X,$))}:fe,i.p2c=i.type==="log"?function(X){return m(K(X))}:K,["linear","-"].indexOf(i.type)!==-1?(i.d2r=i.r2d=i.d2c=i.r2c=i.d2l=i.r2l=v,i.c2d=i.c2r=i.l2d=i.l2r=r,i.d2p=i.r2p=function(X){return i.l2p(v(X))},i.p2d=i.p2r=K,i.cleanPos=r):i.type==="log"?(i.d2r=i.d2l=function(X,$){return I(v(X),$)},i.r2d=i.r2c=function(X){return m(v(X))},i.d2c=i.r2l=v,i.c2d=i.l2r=r,i.c2r=I,i.l2d=m,i.d2p=function(X,$){return i.l2p(i.d2r(X,$))},i.p2d=function(X){return m(K(X))},i.r2p=function(X){return i.l2p(v(X))},i.p2r=K,i.cleanPos=r):i.type==="date"?(i.d2r=i.r2d=a.identity,i.d2c=i.r2c=i.d2l=i.r2l=N,i.c2d=i.c2r=i.l2d=i.l2r=k,i.d2p=i.r2p=function(X,$,ie){return i.l2p(N(X,0,ie))},i.p2d=i.p2r=function(X,$,ie){return k(K(X),$,ie)},i.cleanPos=function(X){return a.cleanDate(X,f,i.calendar)}):i.type==="category"?(i.d2c=i.d2l=z,i.r2d=i.c2d=i.l2d=O,i.d2r=i.d2l_noadd=G,i.r2c=function(X){var $=Q(X);return $!==void 0?$:i.fraction2r(.5)},i.l2r=i.c2r=r,i.r2l=Q,i.d2p=function(X){return i.l2p(i.r2c(X))},i.p2d=function(X){return O(K(X))},i.r2p=i.d2p,i.p2r=K,i.cleanPos=function(X){return typeof X=="string"&&X!==""?X:r(X)}):i.type==="multicategory"&&(i.r2d=i.c2d=i.l2d=O,i.d2r=i.d2l_noadd=G,i.r2c=function(X){var $=G(X);return $!==void 0?$:i.fraction2r(.5)},i.r2c_just_indices=B,i.l2r=i.c2r=r,i.r2l=G,i.d2p=function(X){return i.l2p(i.r2c(X))},i.p2d=function(X){return O(K(X))},i.r2p=i.d2p,i.p2r=K,i.cleanPos=function(X){return Array.isArray(X)||typeof X=="string"&&X!==""?X:r(X)},i.setupMultiCategory=function(X){var $=i._traceIndices,ie,J,j=i._matchGroup;if(j&&i._categories.length===0){for(var se in j)if(se!==y){var ne=C[p.id2name(se)];$=$.concat(ne._traceIndices)}}var ue=[[0,{}],[0,{}]],ge=[];for(ie=0;ie<$.length;ie++){var we=X[$[ie]];if(_ in we){var xe=we[_],Fe=we._length||a.minRowLength(xe);if(u(xe[0])&&u(xe[1]))for(J=0;J<Fe;J++){var ze=xe[0][J],Te=xe[1][J];M(ze)&&M(Te)&&(ge.push([ze,Te]),ze in ue[0][1]||(ue[0][1][ze]=ue[0][0]++),Te in ue[1][1]||(ue[1][1][Te]=ue[1][0]++))}}}for(ge.sort(function(ye,Ae){var Ne=ue[0][1],Ue=Ne[ye[0]]-Ne[Ae[0]];if(Ue)return Ue;var Re=ue[1][1];return Re[ye[1]]-Re[Ae[1]]}),ie=0;ie<ge.length;ie++)z(ge[ie])}),i.fraction2r=function(X){var $=i.r2l(i.range[0]),ie=i.r2l(i.range[1]);return i.l2r($+X*(ie-$))},i.r2fraction=function(X){var $=i.r2l(i.range[0]),ie=i.r2l(i.range[1]);return(i.r2l(X)-$)/(ie-$)},i.limitRange=function(X){var $=i.minallowed,ie=i.maxallowed;if(!($===void 0&&ie===void 0)){X||(X="range");var J=a.nestedProperty(i,X).get(),j=a.simpleMap(J,i.r2l),se=j[1]<j[0];se&&j.reverse();var ne=a.simpleMap([$,ie],i.r2l);$!==void 0&&j[0]<ne[0]&&(J[se?1:0]=$),ie!==void 0&&j[1]>ne[1]&&(J[se?0:1]=ie)}},i.cleanRange=function(X,$){i._cleanRange(X,$),i.limitRange(X)},i._cleanRange=function(X,$){$||($={}),X||(X="range");var ie=a.nestedProperty(i,X).get(),J,j;if(i.type==="date"?j=a.dfltRange(i.calendar):_==="y"?j=S.DFLTRANGEY:i._name==="realaxis"?j=[0,1]:j=$.dfltRange||S.DFLTRANGEX,j=j.slice(),(i.rangemode==="tozero"||i.rangemode==="nonnegative")&&(j[0]=0),!ie||ie.length!==2){a.nestedProperty(i,X).set(j);return}var se=ie[0]===null,ne=ie[1]===null;for(i.type==="date"&&!i.autorange&&(ie[0]=a.cleanDate(ie[0],f,i.calendar),ie[1]=a.cleanDate(ie[1],f,i.calendar)),J=0;J<2;J++)if(i.type==="date"){if(!a.isDateTime(ie[J],i.calendar)){i[X]=j;break}if(i.r2l(ie[0])===i.r2l(ie[1])){var ue=a.constrain(i.r2l(ie[0]),a.MIN_MS+1e3,a.MAX_MS-1e3);ie[0]=i.l2r(ue-1e3),ie[1]=i.l2r(ue+1e3);break}}else{if(!T(ie[J]))if(!(se||ne)&&T(ie[1-J]))ie[J]=ie[1-J]*(J?10:.1);else{i[X]=j;break}if(ie[J]<-s?ie[J]=-s:ie[J]>s&&(ie[J]=s),ie[0]===ie[1]){var ge=Math.max(1,Math.abs(ie[0]*1e-6));ie[0]-=ge,ie[1]+=ge}}},i.setScale=function(X){var $=C._size;if(i.overlaying){var ie=p.getFromId({_fullLayout:C},i.overlaying);i.domain=ie.domain}var J=X&&i._r?"_r":"range",j=i.calendar;i.cleanRange(J);var se=i.r2l(i[J][0],j),ne=i.r2l(i[J][1],j),ue=_==="y";if(ue?(i._offset=$.t+(1-i.domain[1])*$.h,i._length=$.h*(i.domain[1]-i.domain[0]),i._m=i._length/(se-ne),i._b=-i._m*ne):(i._offset=$.l+i.domain[0]*$.w,i._length=$.w*(i.domain[1]-i.domain[0]),i._m=i._length/(ne-se),i._b=-i._m*se),i._rangebreaks=[],i._lBreaks=0,i._m2=0,i._B=[],i.rangebreaks){var ge,we;if(i._rangebreaks=i.locateBreaks(Math.min(se,ne),Math.max(se,ne)),i._rangebreaks.length){for(ge=0;ge<i._rangebreaks.length;ge++)we=i._rangebreaks[ge],i._lBreaks+=Math.abs(we.max-we.min);var xe=ue;se>ne&&(xe=!xe),xe&&i._rangebreaks.reverse();var Fe=xe?-1:1;for(i._m2=Fe*i._length/(Math.abs(ne-se)-i._lBreaks),i._B.push(-i._m2*(ue?ne:se)),ge=0;ge<i._rangebreaks.length;ge++)we=i._rangebreaks[ge],i._B.push(i._B[i._B.length-1]-Fe*i._m2*(we.max-we.min));for(ge=0;ge<i._rangebreaks.length;ge++)we=i._rangebreaks[ge],we.pmin=fe(we.min),we.pmax=fe(we.max)}}if(!isFinite(i._m)||!isFinite(i._b)||i._length<0)throw C._replotting=!1,new Error("Something went wrong with axis scaling")},i.maskBreaks=function(X){var $=i.rangebreaks||[],ie,J,j,se,ne;$._cachedPatterns||($._cachedPatterns=$.map(function(Ne){return Ne.enabled&&Ne.bounds?a.simpleMap(Ne.bounds,Ne.pattern?v:i.d2c):null})),$._cachedValues||($._cachedValues=$.map(function(Ne){return Ne.enabled&&Ne.values?a.simpleMap(Ne.values,i.d2c).sort(a.sorterAsc):null}));for(var ue=0;ue<$.length;ue++){var ge=$[ue];if(ge.enabled){if(ge.bounds){var we=ge.pattern;switch(ie=$._cachedPatterns[ue],J=ie[0],j=ie[1],we){case E:ne=new Date(X),se=ne.getUTCDay(),J>j&&(j+=7,se<J&&(se+=7));break;case A:ne=new Date(X);var xe=ne.getUTCHours(),Fe=ne.getUTCMinutes(),ze=ne.getUTCSeconds(),Te=ne.getUTCMilliseconds();se=xe+(Fe/60+ze/3600+Te/36e5),J>j&&(j+=24,se<J&&(se+=24));break;case"":se=X;break}if(se>=J&&se<j)return f}else for(var ye=$._cachedValues[ue],Ae=0;Ae<ye.length;Ae++)if(J=ye[Ae],j=J+ge.dvalue,X>=J&&X<j)return f}}return X},i.locateBreaks=function(X,$){var ie,J,j,se,ne=[];if(!i.rangebreaks)return ne;var ue=i.rangebreaks.slice().sort(function(Re,Ve){return Re.pattern===E&&Ve.pattern===A?-1:Ve.pattern===E&&Re.pattern===A?1:0}),ge=function(Re,Ve){if(Re=a.constrain(Re,X,$),Ve=a.constrain(Ve,X,$),Re!==Ve){for(var rt=!0,Qe=0;Qe<ne.length;Qe++){var Je=ne[Qe];Re<Je.max&&Ve>=Je.min&&(Re<Je.min&&(Je.min=Re),Ve>Je.max&&(Je.max=Ve),rt=!1)}rt&&ne.push({min:Re,max:Ve})}};for(ie=0;ie<ue.length;ie++){var we=ue[ie];if(we.enabled)if(we.bounds){var xe=X,Fe=$;we.pattern&&(xe=Math.floor(xe)),J=a.simpleMap(we.bounds,we.pattern?v:i.r2l),j=J[0],se=J[1];var ze=new Date(xe),Te,ye;switch(we.pattern){case E:ye=x,Te=((se<j?7:0)+(se-j))*c,xe+=j*c-(ze.getUTCDay()*c+ze.getUTCHours()*b+ze.getUTCMinutes()*h+ze.getUTCSeconds()*o+ze.getUTCMilliseconds());break;case A:ye=c,Te=((se<j?24:0)+(se-j))*b,xe+=j*b-(ze.getUTCHours()*b+ze.getUTCMinutes()*h+ze.getUTCSeconds()*o+ze.getUTCMilliseconds());break;default:xe=Math.min(J[0],J[1]),Fe=Math.max(J[0],J[1]),ye=Fe-xe,Te=ye}for(var Ae=xe;Ae<Fe;Ae+=ye)ge(Ae,Ae+Te)}else for(var Ne=a.simpleMap(we.values,i.d2c),Ue=0;Ue<Ne.length;Ue++)j=Ne[Ue],se=j+we.dvalue,ge(j,se)}return ne.sort(function(Re,Ve){return Re.min-Ve.min}),ne},i.makeCalcdata=function(X,$,ie){var J,j,se,ne,ue=i.type,ge=ue==="date"&&X[$+"calendar"];if($ in X){if(J=X[$],ne=X._length||a.minRowLength(J),a.isTypedArray(J)&&(ue==="linear"||ue==="log")){if(ne===J.length)return J;if(J.subarray)return J.subarray(0,ne)}if(ue==="multicategory")return F(J,ne);for(j=new Array(ne),se=0;se<ne;se++)j[se]=i.d2c(J[se],0,ge,ie)}else{var we=$+"0"in X?i.d2c(X[$+"0"],0,ge):0,xe=X["d"+$]?Number(X["d"+$]):1;for(J=X[{x:"y",y:"x"}[$]],ne=X._length||J.length,j=new Array(ne),se=0;se<ne;se++)j[se]=we+se*xe}if(i.rangebreaks)for(se=0;se<ne;se++)j[se]=i.maskBreaks(j[se]);return j},i.isValidRange=function(X,$){return Array.isArray(X)&&X.length===2&&($&&X[0]===null||T(i.r2l(X[0])))&&($&&X[1]===null||T(i.r2l(X[1])))},i.getAutorangeDflt=function(X,$){var ie=!i.isValidRange(X,"nullOk");return ie&&$&&$.reverseDflt?ie="reversed":X&&(X[0]===null&&X[1]===null?ie=!0:X[0]===null&&X[1]!==null?ie="min":X[0]!==null&&X[1]===null&&(ie="max")),ie},i.isReversed=function(){var X=i.autorange;return X==="reversed"||X==="min reversed"||X==="max reversed"},i.isPtWithinRange=function(X,$){var ie=i.c2l(X[_],null,$),J=i.r2l(i.range[0]),j=i.r2l(i.range[1]);return J<j?J<=ie&&ie<=j:j<=ie&&ie<=J},i._emptyCategories=function(){i._categories=[],i._categoriesMap={}},i.clearCalc=function(){var X=i._matchGroup;if(X){var $=null,ie=null;for(var J in X){var j=C[p.id2name(J)];if(j._categories){$=j._categories,ie=j._categoriesMap;break}}$&&ie?(i._categories=$,i._categoriesMap=ie):i._emptyCategories()}else i._emptyCategories();if(i._initialCategories)for(var se=0;se<i._initialCategories.length;se++)z(i._initialCategories[se])},i.sortByInitialCategories=function(){var X=[];if(i._emptyCategories(),i._initialCategories)for(var $=0;$<i._initialCategories.length;$++)z(i._initialCategories[$]);X=X.concat(i._traceIndices);var ie=i._matchGroup;for(var J in ie)if(y!==J){var j=C[p.id2name(J)];j._categories=i._categories,j._categoriesMap=i._categoriesMap,X=X.concat(j._traceIndices)}return X};var Z=C._d3locale;i.type==="date"&&(i._dateFormat=Z?Z.timeFormat:P,i._extraFormat=C._extraFormat),i._separators=C.separators,i._numFormat=Z?Z.numberFormat:L,delete i._minDtick,delete i._forceTick0}},59652:function(H){H.exports=function(e){var g=["showexponent","showtickprefix","showticksuffix"],P=g.filter(function(L){return e[L]!==void 0}),a=function(L){return e[L]===e[P[0]]};if(P.every(a)||P.length===1)return e[P[0]]}},96115:function(H,U,e){var g=e(71828),P=e(7901).contrast,a=e(13838),L=e(59652),T=e(85501);H.exports=function(t,r,u,n,s){s||(s={});var f=u("labelalias");g.isPlainObject(f)||delete r.labelalias;var l=L(t),x=u("showticklabels");if(x){var c=s.font||{},b=r.color,h=r.ticklabelposition||"",o=h.indexOf("inside")!==-1?P(s.bgColor):b&&b!==a.color.dflt?b:c.color;if(g.coerceFont(u,"tickfont",{family:c.family,size:c.size,color:o}),!s.noTicklabelstep&&n!=="multicategory"&&n!=="log"&&u("ticklabelstep"),s.noAng||u("tickangle"),n!=="category"){var p=u("tickformat");T(t,r,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:v}),r.tickformatstops.length||delete r.tickformatstops,!s.noExp&&!p&&n!=="date"&&(u("showexponent",l),u("exponentformat"),u("minexponent"),u("separatethousands"))}}};function v(d,t){function r(n,s){return g.coerce(d,t,a.tickformatstops,n,s)}var u=r("enabled");u&&(r("dtickrange"),r("value"))}},38701:function(H,U,e){var g=e(71828),P=e(13838);H.exports=function(L,T,v,d){var t=d.isMinor,r=t?L.minor||{}:L,u=t?T.minor:T,n=t?P.minor:P,s=t?"minor.":"",f=g.coerce2(r,u,n,"ticklen",t?(T.ticklen||5)*.6:void 0),l=g.coerce2(r,u,n,"tickwidth",t?T.tickwidth||1:void 0),x=g.coerce2(r,u,n,"tickcolor",(t?T.tickcolor:void 0)||u.color),c=v(s+"ticks",!t&&d.outerTicks||f||l||x?"outside":"");c||(delete u.ticklen,delete u.tickwidth,delete u.tickcolor)}},26218:function(H,U,e){var g=e(66287),P=e(71828).isArrayOrTypedArray;H.exports=function(L,T,v,d,t){t||(t={});var r=t.isMinor,u=r?L.minor||{}:L,n=r?T.minor:T,s=r?"minor.":"";function f(S){var A=u[S];return A!==void 0?A:(n._template||{})[S]}var l=f("tick0"),x=f("dtick"),c=f("tickvals"),b=P(c)?"array":x?"linear":"auto",h=v(s+"tickmode",b);if(h==="auto"||h==="sync")v(s+"nticks");else if(h==="linear"){var o=n.dtick=g.dtick(x,d);n.tick0=g.tick0(l,d,T.calendar,o)}else if(d!=="multicategory"){var p=v(s+"tickvals");p===void 0?n.tickmode="auto":r||v("ticktext")}}},66847:function(H,U,e){var g=e(39898),P=e(73972),a=e(71828),L=e(91424),T=e(89298);H.exports=function(d,t,r,u){var n=d._fullLayout;if(t.length===0){T.redrawComponents(d);return}function s(A){var E=A.xaxis,m=A.yaxis;n._defs.select("#"+A.clipId+"> rect").call(L.setTranslate,0,0).call(L.setScale,1,1),A.plot.call(L.setTranslate,E._offset,m._offset).call(L.setScale,1,1);var M=A.plot.selectAll(".scatterlayer .trace");M.selectAll(".point").call(L.setPointGroupScale,1,1),M.selectAll(".textpoint").call(L.setTextPointsScale,1,1),M.call(L.hideOutsideRangePoints,A)}function f(A,E){var m=A.plotinfo,M=m.xaxis,w=m.yaxis,i=M._length,C=w._length,y=!!A.xr1,_=!!A.yr1,I=[];if(y){var N=a.simpleMap(A.xr0,M.r2l),k=a.simpleMap(A.xr1,M.r2l),O=N[1]-N[0],z=k[1]-k[0];I[0]=(N[0]*(1-E)+E*k[0]-N[0])/(N[1]-N[0])*i,I[2]=i*(1-E+E*z/O),M.range[0]=M.l2r(N[0]*(1-E)+E*k[0]),M.range[1]=M.l2r(N[1]*(1-E)+E*k[1])}else I[0]=0,I[2]=i;if(_){var F=a.simpleMap(A.yr0,w.r2l),B=a.simpleMap(A.yr1,w.r2l),G=F[1]-F[0],Q=B[1]-B[0];I[1]=(F[1]*(1-E)+E*B[1]-F[1])/(F[0]-F[1])*C,I[3]=C*(1-E+E*Q/G),w.range[0]=M.l2r(F[0]*(1-E)+E*B[0]),w.range[1]=w.l2r(F[1]*(1-E)+E*B[1])}else I[1]=0,I[3]=C;T.drawOne(d,M,{skipTitle:!0}),T.drawOne(d,w,{skipTitle:!0}),T.redrawComponents(d,[M._id,w._id]);var ee=y?i/I[2]:1,ae=_?C/I[3]:1,fe=y?I[0]:0,K=_?I[1]:0,W=y?I[0]/I[2]*i:0,Z=_?I[1]/I[3]*C:0,X=M._offset-W,$=w._offset-Z;m.clipRect.call(L.setTranslate,fe,K).call(L.setScale,1/ee,1/ae),m.plot.call(L.setTranslate,X,$).call(L.setScale,ee,ae),L.setPointGroupScale(m.zoomScalePts,1/ee,1/ae),L.setTextPointsScale(m.zoomScaleTxt,1/ee,1/ae)}var l;u&&(l=u());function x(){for(var A={},E=0;E<t.length;E++){var m=t[E],M=m.plotinfo.xaxis,w=m.plotinfo.yaxis;m.xr1&&(A[M._name+".range"]=m.xr1.slice()),m.yr1&&(A[w._name+".range"]=m.yr1.slice())}return l&&l(),P.call("relayout",d,A).then(function(){for(var i=0;i<t.length;i++)s(t[i].plotinfo)})}function c(){for(var A={},E=0;E<t.length;E++){var m=t[E],M=m.plotinfo.xaxis,w=m.plotinfo.yaxis;m.xr0&&(A[M._name+".range"]=m.xr0.slice()),m.yr0&&(A[w._name+".range"]=m.yr0.slice())}return P.call("relayout",d,A).then(function(){for(var i=0;i<t.length;i++)s(t[i].plotinfo)})}var b,h,o,p=g.ease(r.easing);d._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(o),o=null,c()});function S(){h=Date.now();for(var A=Math.min(1,(h-b)/r.duration),E=p(A),m=0;m<t.length;m++)f(t[m],E);h-b>r.duration?(x(),o=window.cancelAnimationFrame(S)):o=window.requestAnimationFrame(S)}return b=Date.now(),o=window.requestAnimationFrame(S),Promise.resolve()}},951:function(H,U,e){var g=e(73972).traceIs,P=e(4322);H.exports=function(t,r,u,n){u("autotypenumbers",n.autotypenumbersDflt);var s=u("type",(n.splomStash||{}).type);s==="-"&&(a(r,n.data),r.type==="-"?r.type="linear":t.type=r.type)};function a(d,t){if(d.type==="-"){var r=d._id,u=r.charAt(0),n;r.indexOf("scene")!==-1&&(r=u);var s=L(t,r,u);if(s){if(s.type==="histogram"&&u==={v:"y",h:"x"}[s.orientation||"v"]){d.type="linear";return}var f=u+"calendar",l=s[f],x={noMultiCategory:!g(s,"cartesian")||g(s,"noMultiCategory")};if(s.type==="box"&&s._hasPreCompStats&&u==={h:"x",v:"y"}[s.orientation||"v"]&&(x.noMultiCategory=!0),x.autotypenumbers=d.autotypenumbers,v(s,u)){var c=T(s),b=[];for(n=0;n<t.length;n++){var h=t[n];!g(h,"box-violin")||(h[u+"axis"]||u)!==r||(h[c]!==void 0?b.push(h[c][0]):h.name!==void 0?b.push(h.name):b.push("text"),h[f]!==l&&(l=void 0))}d.type=P(b,l,x)}else if(s.type==="splom"){var o=s.dimensions,p=o[s._axesDim[r]];p.visible&&(d.type=P(p.values,l,x))}else d.type=P(s[u]||[s[u+"0"]],l,x)}}}function L(d,t,r){for(var u=0;u<d.length;u++){var n=d[u];if(n.type==="splom"&&n._length>0&&(n["_"+r+"axes"]||{})[t])return n;if((n[r+"axis"]||r)===t){if(v(n,r))return n;if((n[r]||[]).length||n[r+"0"])return n}}}function T(d){return{v:"x",h:"y"}[d.orientation||"v"]}function v(d,t){var r=T(d),u=g(d,"box-violin"),n=g(d._fullInput||{},"candlestick");return u&&!n&&t===r&&d[r]===void 0&&d[r+"0"]===void 0}},31137:function(H,U,e){var g=e(73972),P=e(71828);U.manageCommandObserver=function(t,r,u,n){var s={},f=!0;r&&r._commandObserver&&(s=r._commandObserver),s.cache||(s.cache={}),s.lookupTable={};var l=U.hasSimpleAPICommandBindings(t,u,s.lookupTable);if(r&&r._commandObserver){if(l)return s;if(r._commandObserver.remove)return r._commandObserver.remove(),r._commandObserver=null,s}if(l){a(t,l,s.cache),s.check=function(){if(f){var h=a(t,l,s.cache);return h.changed&&n&&s.lookupTable[h.value]!==void 0&&(s.disable(),Promise.resolve(n({value:h.value,type:l.type,prop:l.prop,traces:l.traces,index:s.lookupTable[h.value]})).then(s.enable,s.enable)),h.changed}};for(var x=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],c=0;c<x.length;c++)t._internalOn(x[c],s.check);s.remove=function(){for(var b=0;b<x.length;b++)t._removeInternalListener(x[b],s.check)}}else P.log("Unable to automatically bind plot updates to API command"),s.lookupTable={},s.remove=function(){};return s.disable=function(){f=!1},s.enable=function(){f=!0},r&&(r._commandObserver=s),s},U.hasSimpleAPICommandBindings=function(t,r,u){var n,s=r.length,f;for(n=0;n<s;n++){var l,x=r[n],c=x.method,b=x.args;if(Array.isArray(b)||(b=[]),!c)return!1;var h=U.computeAPICommandBindings(t,c,b);if(h.length!==1)return!1;if(!f)f=h[0],Array.isArray(f.traces)&&f.traces.sort();else{if(l=h[0],l.type!==f.type||l.prop!==f.prop)return!1;if(Array.isArray(f.traces))if(Array.isArray(l.traces)){l.traces.sort();for(var o=0;o<f.traces.length;o++)if(f.traces[o]!==l.traces[o])return!1}else return!1;else if(l.prop!==f.prop)return!1}l=h[0];var p=l.value;if(Array.isArray(p))if(p.length===1)p=p[0];else return!1;u&&(u[p]=n)}return f};function a(t,r,u){var n,s,f,l=!1;if(r.type==="data")n=t._fullData[r.traces!==null?r.traces[0]:0];else if(r.type==="layout")n=t._fullLayout;else return!1;return s=P.nestedProperty(n,r.prop).get(),f=u[r.type]=u[r.type]||{},f.hasOwnProperty(r.prop)&&f[r.prop]!==s&&(l=!0),f[r.prop]=s,{changed:l,value:s}}U.executeAPICommand=function(t,r,u){if(r==="skip")return Promise.resolve();var n=g.apiMethodRegistry[r],s=[t];Array.isArray(u)||(u=[]);for(var f=0;f<u.length;f++)s.push(u[f]);return n.apply(null,s).catch(function(l){return P.warn("API call to Plotly."+r+" rejected.",l),Promise.reject(l)})},U.computeAPICommandBindings=function(t,r,u){var n;switch(Array.isArray(u)||(u=[]),r){case"restyle":n=v(t,u);break;case"relayout":n=T(t,u);break;case"update":n=v(t,[u[0],u[2]]).concat(T(t,[u[1]]));break;case"animate":n=L(t,u);break;default:n=[]}return n};function L(t,r){return Array.isArray(r[0])&&r[0].length===1&&["string","number"].indexOf(typeof r[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:r[0][0].toString()}]:[]}function T(t,r){var u=[],n=r[0],s={};if(typeof n=="string")s[n]=r[1];else if(P.isPlainObject(n))s=n;else return u;return d(s,function(f,l,x){u.push({type:"layout",prop:f,value:x})},"",0),u}function v(t,r){var u,n,s,f,l=[];if(n=r[0],s=r[1],u=r[2],f={},typeof n=="string")f[n]=s;else if(P.isPlainObject(n))f=n,u===void 0&&(u=s);else return l;return u===void 0&&(u=null),d(f,function(x,c,b){var h,o;if(Array.isArray(b)){o=b.slice();var p=Math.min(o.length,t.data.length);u&&(p=Math.min(p,u.length)),h=[];for(var S=0;S<p;S++)h[S]=u?u[S]:S}else o=b,h=u?u.slice():null;if(h===null)Array.isArray(o)&&(o=o[0]);else if(Array.isArray(h)){if(!Array.isArray(o)){var A=o;o=[];for(var E=0;E<h.length;E++)o[E]=A}o.length=Math.min(h.length,o.length)}l.push({type:"data",prop:x,traces:h,value:o})},"",0),l}function d(t,r,u,n){Object.keys(t).forEach(function(s){var f=t[s];if(s[0]!=="_"){var l=u+(n>0?".":"")+s;P.isPlainObject(f)?d(f,r,l,n+1):r(l,s,f)}})}},27670:function(H,U,e){var g=e(1426).extendFlat;U.Y=function(P,a){P=P||{},a=a||{};var L={valType:"info_array",editType:P.editType,items:[{valType:"number",min:0,max:1,editType:P.editType},{valType:"number",min:0,max:1,editType:P.editType}],dflt:[0,1]};P.name&&P.name+"",P.trace,a.description&&""+a.description;var T={x:g({},L,{}),y:g({},L,{}),editType:P.editType};return P.noGridCell||(T.row={valType:"integer",min:0,dflt:0,editType:P.editType},T.column={valType:"integer",min:0,dflt:0,editType:P.editType}),T},U.c=function(P,a,L,T){var v=T&&T.x||[0,1],d=T&&T.y||[0,1],t=a.grid;if(t){var r=L("domain.column");r!==void 0&&(r<t.columns?v=t._domains.x[r]:delete P.domain.column);var u=L("domain.row");u!==void 0&&(u<t.rows?d=t._domains.y[u]:delete P.domain.row)}var n=L("domain.x",v),s=L("domain.y",d);n[0]<n[1]||(P.domain.x=v.slice()),s[0]<s[1]||(P.domain.y=d.slice())}},41940:function(H){H.exports=function(U){var e=U.editType,g=U.colorEditType;g===void 0&&(g=e);var P={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:g},editType:e};return U.autoSize&&(P.size.dflt="auto"),U.autoColor&&(P.color.dflt="auto"),U.arrayOk&&(P.family.arrayOk=!0,P.size.arrayOk=!0,P.color.arrayOk=!0),P}},31391:function(H){H.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},78776:function(H,U){U.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},U.axesNames=["lonaxis","lataxis"],U.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},U.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},U.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},U.clipPad=.001,U.precision=.1,U.landColor="#F0DC82",U.waterColor="#3399FF",U.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},U.sphereSVG={type:"Sphere"},U.fillLayers={ocean:1,land:1,lakes:1},U.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},U.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],U.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],U.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},69082:function(H,U,e){var g=e(39898),P=e(27362),a=P.geoPath,L=P.geoDistance,T=e(65704),v=e(73972),d=e(71828),t=d.strTranslate,r=e(7901),u=e(91424),n=e(30211),s=e(74875),f=e(89298),l=e(71739).getAutoRange,x=e(28569),c=e(47322).prepSelect,b=e(47322).clearOutline,h=e(47322).selectOnClick,o=e(74455),p=e(78776),S=e(41327),A=e(90973),E=e(96892).zL;function m(y){this.id=y.id,this.graphDiv=y.graphDiv,this.container=y.container,this.topojsonURL=y.topojsonURL,this.isStatic=y.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var M=m.prototype;H.exports=function(_){return new m(_)},M.plot=function(y,_,I,N){var k=this;if(N)return k.update(y,_,!0);k._geoCalcData=y,k._fullLayout=_;var O=_[this.id],z=[],F=!1;for(var B in p.layerNameToAdjective)if(B!=="frame"&&O["show"+B]){F=!0;break}for(var G=!1,Q=0;Q<y.length;Q++){var ee=y[0][0].trace;ee._geo=k,ee.locationmode&&(F=!0);var ae=ee.marker;if(ae){var fe=ae.angle,K=ae.angleref;(fe||K==="north"||K==="previous")&&(G=!0)}}if(this._hasMarkerAngles=G,F){var W=A.getTopojsonName(O);(k.topojson===null||W!==k.topojsonName)&&(k.topojsonName=W,PlotlyGeoAssets.topojson[k.topojsonName]===void 0&&z.push(k.fetchTopojson()))}z=z.concat(S.fetchTraceGeoData(y)),I.push(new Promise(function(Z,X){Promise.all(z).then(function(){k.topojson=PlotlyGeoAssets.topojson[k.topojsonName],k.update(y,_),Z()}).catch(X)}))},M.fetchTopojson=function(){var y=this,_=A.getTopojsonPath(y.topojsonURL,y.topojsonName);return new Promise(function(I,N){g.json(_,function(k,O){if(k)return k.status===404?N(new Error(["plotly.js could not find topojson file at",_+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):N(new Error(["unexpected error while fetching topojson file at",_].join(" ")));PlotlyGeoAssets.topojson[y.topojsonName]=O,I()})})},M.update=function(y,_,I){var N=_[this.id];this.hasChoropleth=!1;for(var k=0;k<y.length;k++){var O=y[k],z=O[0].trace;z.type==="choropleth"&&(this.hasChoropleth=!0),z.visible===!0&&z._length>0&&z._module.calcGeoJSON(O,_)}if(!I){var F=this.updateProjection(y,_);if(F)return;(!this.viewInitial||this.scope!==N.scope)&&this.saveViewInitial(N)}this.scope=N.scope,this.updateBaseLayers(_,N),this.updateDims(_,N),this.updateFx(_,N),s.generalUpdatePerTraceModule(this.graphDiv,this,y,N);var B=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=B.selectAll(".point"),this.dataPoints.text=B.selectAll("text"),this.dataPaths.line=B.selectAll(".js-line");var G=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=G.selectAll("path"),this._render()},M.updateProjection=function(y,_){var I=this.graphDiv,N=_[this.id],k=_._size,O=N.domain,z=N.projection,F=N.lonaxis,B=N.lataxis,G=F._ax,Q=B._ax,ee=this.projection=w(N),ae=[[k.l+k.w*O.x[0],k.t+k.h*(1-O.y[1])],[k.l+k.w*O.x[1],k.t+k.h*(1-O.y[0])]],fe=N.center||{},K=z.rotation||{},W=F.range||[],Z=B.range||[];if(N.fitbounds){G._length=ae[1][0]-ae[0][0],Q._length=ae[1][1]-ae[0][1],G.range=l(I,G),Q.range=l(I,Q);var X=(G.range[0]+G.range[1])/2,$=(Q.range[0]+Q.range[1])/2;if(N._isScoped)fe={lon:X,lat:$};else if(N._isClipped){fe={lon:X,lat:$},K={lon:X,lat:$,roll:K.roll};var ie=z.type,J=p.lonaxisSpan[ie]/2||180,j=p.lataxisSpan[ie]/2||90;W=[X-J,X+J],Z=[$-j,$+j]}else fe={lon:X,lat:$},K={lon:X,lat:K.lat,roll:K.roll}}ee.center([fe.lon-K.lon,fe.lat-K.lat]).rotate([-K.lon,-K.lat,K.roll]).parallels(z.parallels);var se=C(W,Z);ee.fitExtent(ae,se);var ne=this.bounds=ee.getBounds(se),ue=this.fitScale=ee.scale(),ge=ee.translate();if(N.fitbounds){var we=ee.getBounds(C(G.range,Q.range)),xe=Math.min((ne[1][0]-ne[0][0])/(we[1][0]-we[0][0]),(ne[1][1]-ne[0][1])/(we[1][1]-we[0][1]));isFinite(xe)?ee.scale(xe*ue):d.warn("Something went wrong during"+this.id+"fitbounds computations.")}else ee.scale(z.scale*ue);var Fe=this.midPt=[(ne[0][0]+ne[1][0])/2,(ne[0][1]+ne[1][1])/2];if(ee.translate([ge[0]+(Fe[0]-ge[0]),ge[1]+(Fe[1]-ge[1])]).clipExtent(ne),N._isAlbersUsa){var ze=ee([fe.lon,fe.lat]),Te=ee.translate();ee.translate([Te[0]-(ze[0]-Te[0]),Te[1]-(ze[1]-Te[1])])}},M.updateBaseLayers=function(y,_){var I=this,N=I.topojson,k=I.layers,O=I.basePaths;function z(ae){return ae==="lonaxis"||ae==="lataxis"}function F(ae){return!!p.lineLayers[ae]}function B(ae){return!!p.fillLayers[ae]}var G=this.hasChoropleth?p.layersForChoropleth:p.layers,Q=G.filter(function(ae){return F(ae)||B(ae)?_["show"+ae]:z(ae)?_[ae].showgrid:!0}),ee=I.framework.selectAll(".layer").data(Q,String);ee.exit().each(function(ae){delete k[ae],delete O[ae],g.select(this).remove()}),ee.enter().append("g").attr("class",function(ae){return"layer "+ae}).each(function(ae){var fe=k[ae]=g.select(this);ae==="bg"?I.bgRect=fe.append("rect").style("pointer-events","all"):z(ae)?O[ae]=fe.append("path").style("fill","none"):ae==="backplot"?fe.append("g").classed("choroplethlayer",!0):ae==="frontplot"?fe.append("g").classed("scatterlayer",!0):F(ae)?O[ae]=fe.append("path").style("fill","none").style("stroke-miterlimit",2):B(ae)&&(O[ae]=fe.append("path").style("stroke","none"))}),ee.order(),ee.each(function(ae){var fe=O[ae],K=p.layerNameToAdjective[ae];ae==="frame"?fe.datum(p.sphereSVG):F(ae)||B(ae)?fe.datum(E(N,N.objects[ae])):z(ae)&&fe.datum(i(ae,_,y)).call(r.stroke,_[ae].gridcolor).call(u.dashLine,_[ae].griddash,_[ae].gridwidth),F(ae)?fe.call(r.stroke,_[K+"color"]).call(u.dashLine,"",_[K+"width"]):B(ae)&&fe.call(r.fill,_[K+"color"])})},M.updateDims=function(y,_){var I=this.bounds,N=(_.framewidth||0)/2,k=I[0][0]-N,O=I[0][1]-N,z=I[1][0]-k+N,F=I[1][1]-O+N;u.setRect(this.clipRect,k,O,z,F),this.bgRect.call(u.setRect,k,O,z,F).call(r.fill,_.bgcolor),this.xaxis._offset=k,this.xaxis._length=z,this.yaxis._offset=O,this.yaxis._length=F},M.updateFx=function(y,_){var I=this,N=I.graphDiv,k=I.bgRect,O=y.dragmode,z=y.clickmode;if(I.isStatic)return;function F(){var ee=I.viewInitial,ae={};for(var fe in ee)ae[I.id+"."+fe]=ee[fe];v.call("_guiRelayout",N,ae),N.emit("plotly_doubleclick",null)}function B(ee){return I.projection.invert([ee[0]+I.xaxis._offset,ee[1]+I.yaxis._offset])}var G=function(ee,ae){if(ae.isRect){var fe=ee.range={};fe[I.id]=[B([ae.xmin,ae.ymin]),B([ae.xmax,ae.ymax])]}else{var K=ee.lassoPoints={};K[I.id]=ae.map(B)}},Q={element:I.bgRect.node(),gd:N,plotinfo:{id:I.id,xaxis:I.xaxis,yaxis:I.yaxis,fillRangeItems:G},xaxes:[I.xaxis],yaxes:[I.yaxis],subplot:I.id,clickFn:function(ee){ee===2&&b(N)}};O==="pan"?(k.node().onmousedown=null,k.call(o(I,_)),k.on("dblclick.zoom",F),N._context._scrollZoom.geo||k.on("wheel.zoom",null)):(O==="select"||O==="lasso")&&(k.on(".zoom",null),Q.prepFn=function(ee,ae,fe){c(ee,ae,fe,Q,O)},x.init(Q)),k.on("mousemove",function(){var ee=I.projection.invert(d.getPositionFromD3Event());if(!ee)return x.unhover(N,g.event);I.xaxis.p2c=function(){return ee[0]},I.yaxis.p2c=function(){return ee[1]},n.hover(N,g.event,I.id)}),k.on("mouseout",function(){N._dragging||x.unhover(N,g.event)}),k.on("click",function(){O!=="select"&&O!=="lasso"&&(z.indexOf("select")>-1&&h(g.event,N,[I.xaxis],[I.yaxis],I.id,Q),z.indexOf("event")>-1&&n.click(N,g.event))})},M.makeFramework=function(){var y=this,_=y.graphDiv,I=_._fullLayout,N="clip"+I._uid+y.id;y.clipDef=I._clips.append("clipPath").attr("id",N),y.clipRect=y.clipDef.append("rect"),y.framework=g.select(y.container).append("g").attr("class","geo "+y.id).call(u.setClipUrl,N,_),y.project=function(k){var O=y.projection(k);return O?[O[0]-y.xaxis._offset,O[1]-y.yaxis._offset]:[null,null]},y.xaxis={_id:"x",c2p:function(k){return y.project(k)[0]}},y.yaxis={_id:"y",c2p:function(k){return y.project(k)[1]}},y.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},f.setConvert(y.mockAxis,I)},M.saveViewInitial=function(y){var _=y.center||{},I=y.projection,N=I.rotation||{};this.viewInitial={fitbounds:y.fitbounds,"projection.scale":I.scale};var k;y._isScoped?k={"center.lon":_.lon,"center.lat":_.lat}:y._isClipped?k={"projection.rotation.lon":N.lon,"projection.rotation.lat":N.lat}:k={"center.lon":_.lon,"center.lat":_.lat,"projection.rotation.lon":N.lon},d.extendFlat(this.viewInitial,k)},M.render=function(y){this._hasMarkerAngles&&y?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},M._render=function(){var y=this.projection,_=y.getPath(),I;function N(O){var z=y(O.lonlat);return z?t(z[0],z[1]):null}function k(O){return y.isLonLatOverEdges(O.lonlat)?"none":null}for(I in this.basePaths)this.basePaths[I].attr("d",_);for(I in this.dataPaths)this.dataPaths[I].attr("d",function(O){return _(O.geojson)});for(I in this.dataPoints)this.dataPoints[I].attr("display",k).attr("transform",N)};function w(y){var _=y.projection,I=_.type,N=p.projNames[I];N="geo"+d.titleCase(N);for(var k=P[N]||T[N],O=k(),z=y._isSatellite?Math.acos(1/_.distance)*180/Math.PI:y._isClipped?p.lonaxisSpan[I]/2:null,F=["center","rotate","parallels","clipExtent"],B=function(ee){return ee?O:[]},G=0;G<F.length;G++){var Q=F[G];typeof O[Q]!="function"&&(O[Q]=B)}return O.isLonLatOverEdges=function(ee){if(O(ee)===null)return!0;if(z){var ae=O.rotate(),fe=L(ee,[-ae[0],-ae[1]]),K=z*Math.PI/180;return fe>K}else return!1},O.getPath=function(){return a().projection(O)},O.getBounds=function(ee){return O.getPath().bounds(ee)},O.precision(p.precision),y._isSatellite&&O.tilt(_.tilt).distance(_.distance),z&&O.clipAngle(z-p.clipPad),O}function i(y,_,I){var N=1e-6,k=2.5,O=_[y],z=p.scopeDefaults[_.scope],F,B,G;y==="lonaxis"?(F=z.lonaxisRange,B=z.lataxisRange,G=function($,ie){return[$,ie]}):y==="lataxis"&&(F=z.lataxisRange,B=z.lonaxisRange,G=function($,ie){return[ie,$]});var Q={type:"linear",range:[F[0],F[1]-N],tick0:O.tick0,dtick:O.dtick};f.setConvert(Q,I);var ee=f.calcTicks(Q);!_.isScoped&&y==="lonaxis"&&ee.pop();for(var ae=ee.length,fe=new Array(ae),K=0;K<ae;K++)for(var W=ee[K].x,Z=fe[K]=[],X=B[0];X<B[1]+k;X+=k)Z.push(G(W,X));return{type:"MultiLineString",coordinates:fe}}function C(y,_){var I=p.clipPad,N=y[0]+I,k=y[1]-I,O=_[0]+I,z=_[1]-I;N>0&&k<0&&(k+=360);var F=(k-N)/4;return{type:"Polygon",coordinates:[[[N,O],[N,z],[N+F,z],[N+2*F,z],[N+3*F,z],[k,z],[k,O],[k-F,O],[k-2*F,O],[k-3*F,O],[N,O]]]}}},44622:function(H,U,e){var g=e(27659).AU,P=e(71828).counterRegex,a=e(69082),L="geo",T=P(L),v={};v[L]={valType:"subplotid",dflt:L,editType:"calc"};function d(u){for(var n=u._fullLayout,s=u.calcdata,f=n._subplots[L],l=0;l<f.length;l++){var x=f[l],c=g(s,L,x),b=n[x],h=b._subplot;h||(h=a({id:x,graphDiv:u,container:n._geolayer.node(),topojsonURL:u._context.topojsonURL,staticPlot:u._context.staticPlot}),n[x]._subplot=h),h.plot(c,n,u._promises)}}function t(u,n,s,f){for(var l=f._subplots[L]||[],x=0;x<l.length;x++){var c=l[x],b=f[c]._subplot;!n[c]&&b&&(b.framework.remove(),b.clipDef.remove())}}function r(u){for(var n=u._fullLayout,s=n._subplots[L],f=0;f<s.length;f++){var l=n[s[f]],x=l._subplot;x.updateFx(n,l)}}H.exports={attr:L,name:L,idRoot:L,idRegex:T,attrRegex:T,attributes:v,layoutAttributes:e(77519),supplyLayoutDefaults:e(82161),plot:d,updateFx:r,clean:t}},77519:function(H,U,e){var g=e(22399),P=e(27670).Y,a=e(79952).P,L=e(78776),T=e(30962).overrideAll,v=e(78607),d={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:g.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:a},t=H.exports=T({domain:P({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:v(L.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:v(L.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:g.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:L.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:L.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:L.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:L.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:g.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:g.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:g.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:g.background},lonaxis:d,lataxis:d},"plot","from-root");t.uirevision={valType:"any",editType:"none"}},82161:function(H,U,e){var g=e(71828),P=e(49119),a=e(27659).NG,L=e(78776),T=e(77519),v=L.axesNames;H.exports=function(r,u,n){P(r,u,n,{type:"geo",attributes:T,handleDefaults:d,fullData:n,partition:"y"})};function d(t,r,u,n){var s=a(n.fullData,"geo",n.id),f=s.map(function(Z){return Z._expandedIndex}),l=u("resolution"),x=u("scope"),c=L.scopeDefaults[x],b=u("projection.type",c.projType),h=r._isAlbersUsa=b==="albers usa";h&&(x=r.scope="usa");var o=r._isScoped=x!=="world",p=r._isSatellite=b==="satellite",S=r._isConic=b.indexOf("conic")!==-1||b==="albers",A=r._isClipped=!!L.lonaxisSpan[b];if(t.visible===!1){var E=g.extendDeep({},r._template);E.showcoastlines=!1,E.showcountries=!1,E.showframe=!1,E.showlakes=!1,E.showland=!1,E.showocean=!1,E.showrivers=!1,E.showsubunits=!1,E.lonaxis&&(E.lonaxis.showgrid=!1),E.lataxis&&(E.lataxis.showgrid=!1),r._template=E}for(var m=u("visible"),M,w=0;w<v.length;w++){var i=v[w],C=[30,10][w],y;if(o)y=c[i+"Range"];else{var _=L[i+"Span"],I=(_[b]||_["*"])/2,N=u("projection.rotation."+i.substr(0,3),c.projRotate[w]);y=[N-I,N+I]}var k=u(i+".range",y);u(i+".tick0"),u(i+".dtick",C),M=u(i+".showgrid",m?void 0:!1),M&&(u(i+".gridcolor"),u(i+".gridwidth"),u(i+".griddash")),r[i]._ax={type:"linear",_id:i.slice(0,3),_traceIndices:f,setScale:g.identity,c2l:g.identity,r2l:g.identity,autorange:!0,range:k.slice(),_m:1,_input:{}}}var O=r.lonaxis.range,z=r.lataxis.range,F=O[0],B=O[1];F>0&&B<0&&(B+=360);var G=(F+B)/2,Q;if(!h){var ee=o?c.projRotate:[G,0,0];Q=u("projection.rotation.lon",ee[0]),u("projection.rotation.lat",ee[1]),u("projection.rotation.roll",ee[2]),M=u("showcoastlines",!o&&m),M&&(u("coastlinecolor"),u("coastlinewidth")),M=u("showocean",m?void 0:!1),M&&u("oceancolor")}var ae,fe;if(h?(ae=-96.6,fe=38.7):(ae=o?G:Q,fe=(z[0]+z[1])/2),u("center.lon",ae),u("center.lat",fe),p&&(u("projection.tilt"),u("projection.distance")),S){var K=c.projParallels||[0,60];u("projection.parallels",K)}u("projection.scale"),M=u("showland",m?void 0:!1),M&&u("landcolor"),M=u("showlakes",m?void 0:!1),M&&u("lakecolor"),M=u("showrivers",m?void 0:!1),M&&(u("rivercolor"),u("riverwidth")),M=u("showcountries",o&&x!=="usa"&&m),M&&(u("countrycolor"),u("countrywidth")),(x==="usa"||x==="north america"&&l===50)&&(u("showsubunits",m),u("subunitcolor"),u("subunitwidth")),o||(M=u("showframe",m),M&&(u("framecolor"),u("framewidth"))),u("bgcolor");var W=u("fitbounds");W&&(delete r.projection.scale,o?(delete r.center.lon,delete r.center.lat):A?(delete r.center.lon,delete r.center.lat,delete r.projection.rotation.lon,delete r.projection.rotation.lat,delete r.lonaxis.range,delete r.lataxis.range):(delete r.center.lon,delete r.center.lat,delete r.projection.rotation.lon))}},74455:function(H,U,e){var g=e(39898),P=e(71828),a=e(73972),L=Math.PI/180,T=180/Math.PI,v={cursor:"pointer"},d={cursor:"auto"};function t(i,C){var y=i.projection,_;return C._isScoped?_=n:C._isClipped?_=f:_=s,_(i,y)}H.exports=t;function r(i,C){return g.behavior.zoom().translate(C.translate()).scale(C.scale())}function u(i,C,y){var _=i.id,I=i.graphDiv,N=I.layout,k=N[_],O=I._fullLayout,z=O[_],F={},B={};function G(Q,ee){F[_+"."+Q]=P.nestedProperty(k,Q).get(),a.call("_storeDirectGUIEdit",N,O._preGUI,F);var ae=P.nestedProperty(z,Q);ae.get()!==ee&&(ae.set(ee),P.nestedProperty(k,Q).set(ee),B[_+"."+Q]=ee)}y(G),G("projection.scale",C.scale()/i.fitScale),G("fitbounds",!1),I.emit("plotly_relayout",B)}function n(i,C){var y=r(i,C);function _(){g.select(this).style(v)}function I(){C.scale(g.event.scale).translate(g.event.translate),i.render(!0);var O=C.invert(i.midPt);i.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":C.scale()/i.fitScale,"geo.center.lon":O[0],"geo.center.lat":O[1]})}function N(O){var z=C.invert(i.midPt);O("center.lon",z[0]),O("center.lat",z[1])}function k(){g.select(this).style(d),u(i,C,N)}return y.on("zoomstart",_).on("zoom",I).on("zoomend",k),y}function s(i,C){var y=r(i,C),_=2,I,N,k,O,z,F,B,G,Q;function ee(X){return C.invert(X)}function ae(X){var $=ee(X);if(!$)return!0;var ie=C($);return Math.abs(ie[0]-X[0])>_||Math.abs(ie[1]-X[1])>_}function fe(){g.select(this).style(v),I=g.mouse(this),N=C.rotate(),k=C.translate(),O=N,z=ee(I)}function K(){if(F=g.mouse(this),ae(I)){y.scale(C.scale()),y.translate(C.translate());return}C.scale(g.event.scale),C.translate([k[0],g.event.translate[1]]),z?ee(F)&&(G=ee(F),B=[O[0]+(G[0]-z[0]),N[1],N[2]],C.rotate(B),O=B):(I=F,z=ee(I)),Q=!0,i.render(!0);var X=C.rotate(),$=C.invert(i.midPt);i.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":C.scale()/i.fitScale,"geo.center.lon":$[0],"geo.center.lat":$[1],"geo.projection.rotation.lon":-X[0]})}function W(){g.select(this).style(d),Q&&u(i,C,Z)}function Z(X){var $=C.rotate(),ie=C.invert(i.midPt);X("projection.rotation.lon",-$[0]),X("center.lon",ie[0]),X("center.lat",ie[1])}return y.on("zoomstart",fe).on("zoom",K).on("zoomend",W),y}function f(i,C){C.rotate(),C.scale();var y=r(i,C),_=w(y,"zoomstart","zoom","zoomend"),I=0,N=y.on,k;y.on("zoomstart",function(){g.select(this).style(v);var G=g.mouse(this),Q=C.rotate(),ee=Q,ae=C.translate(),fe=x(Q);k=l(C,G),N.call(y,"zoom",function(){var K=g.mouse(this);if(C.scale(g.event.scale),!k)G=K,k=l(C,G);else if(l(C,K)){C.rotate(Q).translate(ae);var W=l(C,K),Z=b(k,W),X=A(c(fe,Z)),$=h(X,k,ee);(!isFinite($[0])||!isFinite($[1])||!isFinite($[2]))&&($=ee),C.rotate($),ee=$}z(_.of(this,arguments))}),O(_.of(this,arguments))}).on("zoomend",function(){g.select(this).style(d),N.call(y,"zoom",null),F(_.of(this,arguments)),u(i,C,B)}).on("zoom.redraw",function(){i.render(!0);var G=C.rotate();i.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":C.scale()/i.fitScale,"geo.projection.rotation.lon":-G[0],"geo.projection.rotation.lat":-G[1]})});function O(G){I++||G({type:"zoomstart"})}function z(G){G({type:"zoom"})}function F(G){--I||G({type:"zoomend"})}function B(G){var Q=C.rotate();G("projection.rotation.lon",-Q[0]),G("projection.rotation.lat",-Q[1])}return g.rebind(y,_,"on")}function l(i,C){var y=i.invert(C);return y&&isFinite(y[0])&&isFinite(y[1])&&E(y)}function x(i){var C=.5*i[0]*L,y=.5*i[1]*L,_=.5*i[2]*L,I=Math.sin(C),N=Math.cos(C),k=Math.sin(y),O=Math.cos(y),z=Math.sin(_),F=Math.cos(_);return[N*O*F+I*k*z,I*O*F-N*k*z,N*k*F+I*O*z,N*O*z-I*k*F]}function c(i,C){var y=i[0],_=i[1],I=i[2],N=i[3],k=C[0],O=C[1],z=C[2],F=C[3];return[y*k-_*O-I*z-N*F,y*O+_*k+I*F-N*z,y*z-_*F+I*k+N*O,y*F+_*z-I*O+N*k]}function b(i,C){if(!(!i||!C)){var y=M(i,C),_=Math.sqrt(m(y,y)),I=.5*Math.acos(Math.max(-1,Math.min(1,m(i,C)))),N=Math.sin(I)/_;return _&&[Math.cos(I),y[2]*N,-y[1]*N,y[0]*N]}}function h(i,C,y){var _=S(C,2,i[0]);_=S(_,1,i[1]),_=S(_,0,i[2]-y[2]);var I=C[0],N=C[1],k=C[2],O=_[0],z=_[1],F=_[2],B=Math.atan2(N,I)*T,G=Math.sqrt(I*I+N*N),Q,ee;Math.abs(z)>G?(ee=(z>0?90:-90)-B,Q=0):(ee=Math.asin(z/G)*T-B,Q=Math.sqrt(G*G-z*z));var ae=180-ee-2*B,fe=(Math.atan2(F,O)-Math.atan2(k,Q))*T,K=(Math.atan2(F,O)-Math.atan2(k,-Q))*T,W=o(y[0],y[1],ee,fe),Z=o(y[0],y[1],ae,K);return W<=Z?[ee,fe,y[2]]:[ae,K,y[2]]}function o(i,C,y,_){var I=p(y-i),N=p(_-C);return Math.sqrt(I*I+N*N)}function p(i){return(i%360+540)%360-180}function S(i,C,y){var _=y*L,I=i.slice(),N=C===0?1:0,k=C===2?1:2,O=Math.cos(_),z=Math.sin(_);return I[N]=i[N]*O-i[k]*z,I[k]=i[k]*O+i[N]*z,I}function A(i){return[Math.atan2(2*(i[0]*i[1]+i[2]*i[3]),1-2*(i[1]*i[1]+i[2]*i[2]))*T,Math.asin(Math.max(-1,Math.min(1,2*(i[0]*i[2]-i[3]*i[1]))))*T,Math.atan2(2*(i[0]*i[3]+i[1]*i[2]),1-2*(i[2]*i[2]+i[3]*i[3]))*T]}function E(i){var C=i[0]*L,y=i[1]*L,_=Math.cos(y);return[_*Math.cos(C),_*Math.sin(C),Math.sin(y)]}function m(i,C){for(var y=0,_=0,I=i.length;_<I;++_)y+=i[_]*C[_];return y}function M(i,C){return[i[1]*C[2]-i[2]*C[1],i[2]*C[0]-i[0]*C[2],i[0]*C[1]-i[1]*C[0]]}function w(i){for(var C=0,y=arguments.length,_=[];++C<y;)_.push(arguments[C]);var I=g.dispatch.apply(null,_);return I.of=function(N,k){return function(O){var z;try{z=O.sourceEvent=g.event,O.target=i,g.event=O,I[O.type].apply(N,k)}finally{g.event=z}}},I}},27659:function(H,U,e){var g=e(73972),P=e(85555).SUBPLOT_PATTERN;U.AU=function(a,L,T){var v=g.subplotsRegistry[L];if(!v)return[];for(var d=v.attr,t=[],r=0;r<a.length;r++){var u=a[r],n=u[0].trace;n[d]===T&&t.push(u)}return t},U.a0=function(a,L){var T=[],v=[],d;if(typeof L=="string"?d=g.getModule(L).plot:typeof L=="function"?d=L:d=L.plot,!d)return[T,a];for(var t=0;t<a.length;t++){var r=a[t],u=r[0].trace;u.visible!==!0||u._length===0||(u._module&&u._module.plot===d?T.push(r):v.push(r))}return[T,v]},U.NG=function(L,T,v){if(!g.subplotsRegistry[T])return[];var d=g.subplotsRegistry[T].attr,t=[],r,u,n;if(T==="gl2d"){var s=v.match(P);u="x"+s[1],n="y"+s[2]}for(var f=0;f<L.length;f++)r=L[f],T==="gl2d"&&g.traceIs(r,"gl2d")?r[d[0]]===u&&r[d[1]]===n&&t.push(r):r[d]===v&&t.push(r);return t}},75071:function(H,U,e){var g=e(16825),P=e(1195),a=e(48956),L=e(85555),T=e(38520);H.exports=d;function v(t,r){this.element=t,this.plot=r,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function d(t){var r=t.mouseContainer,u=t.glplot,n=new v(r,u);function s(){t.xaxis.autorange=!1,t.yaxis.autorange=!1}function f(){for(var x=t.graphDiv._fullLayout._axisConstraintGroups,c=t.xaxis._id,b=t.yaxis._id,h=0;h<x.length;h++)if(x[h][c]!==-1){if(x[h][b]!==-1)return!0;break}return!1}n.mouseListener=g(r,l),r.addEventListener("touchstart",function(x){var c=a(x.changedTouches[0],r);l(0,c[0],c[1]),l(1,c[0],c[1]),x.preventDefault()},T?{passive:!1}:!1),r.addEventListener("touchmove",function(x){x.preventDefault();var c=a(x.changedTouches[0],r);l(1,c[0],c[1]),x.preventDefault()},T?{passive:!1}:!1),r.addEventListener("touchend",function(x){l(0,n.lastPos[0],n.lastPos[1]),x.preventDefault()},T?{passive:!1}:!1);function l(x,c,b){var h=t.calcDataBox(),o=u.viewBox,p=n.lastPos[0],S=n.lastPos[1],A=L.MINDRAG*u.pixelRatio,E=L.MINZOOM*u.pixelRatio,m,M;c*=u.pixelRatio,b*=u.pixelRatio,b=o[3]-o[1]-b;function w(N,k,O){var z=Math.min(k,O),F=Math.max(k,O);z!==F?(h[N]=z,h[N+2]=F,n.dataBox=h,t.setRanges(h)):(t.selectBox.selectBox=[0,0,1,1],t.glplot.setDirty())}switch(t.fullLayout.dragmode){case"zoom":if(x){var i=c/(o[2]-o[0])*(h[2]-h[0])+h[0],C=b/(o[3]-o[1])*(h[3]-h[1])+h[1];n.boxInited||(n.boxStart[0]=i,n.boxStart[1]=C,n.dragStart[0]=c,n.dragStart[1]=b),n.boxEnd[0]=i,n.boxEnd[1]=C,n.boxInited=!0,!n.boxEnabled&&(n.boxStart[0]!==n.boxEnd[0]||n.boxStart[1]!==n.boxEnd[1])&&(n.boxEnabled=!0);var y=Math.abs(n.dragStart[0]-c)<E,_=Math.abs(n.dragStart[1]-b)<E;if(f()&&!(y&&_)){m=n.boxEnd[0]-n.boxStart[0],M=n.boxEnd[1]-n.boxStart[1];var I=(h[3]-h[1])/(h[2]-h[0]);Math.abs(m*I)>Math.abs(M)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(m)*I*(M>=0?1:-1),n.boxEnd[1]<h[1]?(n.boxEnd[1]=h[1],n.boxEnd[0]=n.boxStart[0]+(h[1]-n.boxStart[1])/Math.abs(I)):n.boxEnd[1]>h[3]&&(n.boxEnd[1]=h[3],n.boxEnd[0]=n.boxStart[0]+(h[3]-n.boxStart[1])/Math.abs(I))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(M)/I*(m>=0?1:-1),n.boxEnd[0]<h[0]?(n.boxEnd[0]=h[0],n.boxEnd[1]=n.boxStart[1]+(h[0]-n.boxStart[0])*Math.abs(I)):n.boxEnd[0]>h[2]&&(n.boxEnd[0]=h[2],n.boxEnd[1]=n.boxStart[1]+(h[2]-n.boxStart[0])*Math.abs(I)))}else y&&(n.boxEnd[0]=n.boxStart[0]),_&&(n.boxEnd[1]=n.boxStart[1])}else n.boxEnabled?(m=n.boxStart[0]!==n.boxEnd[0],M=n.boxStart[1]!==n.boxEnd[1],m||M?(m&&(w(0,n.boxStart[0],n.boxEnd[0]),t.xaxis.autorange=!1),M&&(w(1,n.boxStart[1],n.boxEnd[1]),t.yaxis.autorange=!1),t.relayoutCallback()):t.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,x?(n.panning||(n.dragStart[0]=c,n.dragStart[1]=b),Math.abs(n.dragStart[0]-c)<A&&(c=n.dragStart[0]),Math.abs(n.dragStart[1]-b)<A&&(b=n.dragStart[1]),m=(p-c)*(h[2]-h[0])/(u.viewBox[2]-u.viewBox[0]),M=(S-b)*(h[3]-h[1])/(u.viewBox[3]-u.viewBox[1]),h[0]+=m,h[2]+=m,h[1]+=M,h[3]+=M,t.setRanges(h),n.panning=!0,n.lastInputTime=Date.now(),s(),t.cameraChanged(),t.handleAnnotations()):n.panning&&(n.panning=!1,t.relayoutCallback());break}n.lastPos[0]=c,n.lastPos[1]=b}return n.wheelListener=P(r,function(x,c){if(!t.scrollZoom)return!1;var b=t.calcDataBox(),h=u.viewBox,o=n.lastPos[0],p=n.lastPos[1],S=Math.exp(5*c/(h[3]-h[1])),A=o/(h[2]-h[0])*(b[2]-b[0])+b[0],E=p/(h[3]-h[1])*(b[3]-b[1])+b[1];return b[0]=(b[0]-A)*S+A,b[2]=(b[2]-A)*S+A,b[1]=(b[1]-E)*S+E,b[3]=(b[3]-E)*S+E,t.setRanges(b),n.lastInputTime=Date.now(),s(),t.cameraChanged(),t.handleAnnotations(),t.relayoutCallback(),!0},!0),n}},82961:function(H,U,e){var g=e(89298),P=e(78614);function a(d){this.scene=d,this.gl=d.gl,this.pixelRatio=d.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var L=a.prototype,T=["xaxis","yaxis"];L.merge=function(d){this.titleEnable=!1,this.backgroundColor=P(d.plot_bgcolor);var t,r,u,n,s,f,l,x,c,b,h;for(b=0;b<2;++b){t=T[b];var o=t.charAt(0);for(r=d[this.scene[t]._name],u=r.title.text===this.scene.fullLayout._dfltTitle[o]?"":r.title.text,h=0;h<=2;h+=2)this.labelEnable[b+h]=!1,this.labels[b+h]=u,this.labelColor[b+h]=P(r.title.font.color),this.labelFont[b+h]=r.title.font.family,this.labelSize[b+h]=r.title.font.size,this.labelPad[b+h]=this.getLabelPad(t,r),this.tickEnable[b+h]=!1,this.tickColor[b+h]=P((r.tickfont||{}).color),this.tickAngle[b+h]=r.tickangle==="auto"?0:Math.PI*-r.tickangle/180,this.tickPad[b+h]=this.getTickPad(r),this.tickMarkLength[b+h]=0,this.tickMarkWidth[b+h]=r.tickwidth||0,this.tickMarkColor[b+h]=P(r.tickcolor),this.borderLineEnable[b+h]=!1,this.borderLineColor[b+h]=P(r.linecolor),this.borderLineWidth[b+h]=r.linewidth||0;l=this.hasSharedAxis(r),s=this.hasAxisInDfltPos(t,r)&&!l,f=this.hasAxisInAltrPos(t,r)&&!l,n=r.mirror||!1,x=l?String(n).indexOf("all")!==-1:!!n,c=l?n==="allticks":String(n).indexOf("ticks")!==-1,s?this.labelEnable[b]=!0:f&&(this.labelEnable[b+2]=!0),s?this.tickEnable[b]=r.showticklabels:f&&(this.tickEnable[b+2]=r.showticklabels),(s||x)&&(this.borderLineEnable[b]=r.showline),(f||x)&&(this.borderLineEnable[b+2]=r.showline),(s||c)&&(this.tickMarkLength[b]=this.getTickMarkLength(r)),(f||c)&&(this.tickMarkLength[b+2]=this.getTickMarkLength(r)),this.gridLineEnable[b]=r.showgrid,this.gridLineColor[b]=P(r.gridcolor),this.gridLineWidth[b]=r.gridwidth,this.zeroLineEnable[b]=r.zeroline,this.zeroLineColor[b]=P(r.zerolinecolor),this.zeroLineWidth[b]=r.zerolinewidth}},L.hasSharedAxis=function(d){var t=this.scene,r=t.fullLayout._subplots.gl2d,u=g.findSubplotsWithAxis(r,d);return u.indexOf(t.id)!==0},L.hasAxisInDfltPos=function(d,t){var r=t.side;if(d==="xaxis")return r==="bottom";if(d==="yaxis")return r==="left"},L.hasAxisInAltrPos=function(d,t){var r=t.side;if(d==="xaxis")return r==="top";if(d==="yaxis")return r==="right"},L.getLabelPad=function(d,t){var r=1.5,u=t.title.font.size,n=t.showticklabels;if(d==="xaxis")return t.side==="top"?-10+u*(r+(n?1:0)):-10+u*(r+(n?.5:0));if(d==="yaxis")return t.side==="right"?10+u*(r+(n?1:.5)):10+u*(r+(n?.5:0))},L.getTickPad=function(d){return d.ticks==="outside"?10+d.ticklen:15},L.getTickMarkLength=function(d){if(!d.ticks)return 0;var t=d.ticklen;return d.ticks==="inside"?-t:t};function v(d){return new a(d)}H.exports=v},4796:function(H,U,e){var g=e(30962).overrideAll,P=e(92918),a=e(10820),L=e(77922),T=e(85555),v=e(93612),d=e(528),t=e(27659).NG;U.name="gl2d",U.attr=["xaxis","yaxis"],U.idRoot=["x","y"],U.idRegex=T.idRegex,U.attrRegex=T.attrRegex,U.attributes=e(89502),U.supplyLayoutDefaults=function(r,u,n){u._has("cartesian")||v.supplyLayoutDefaults(r,u,n)},U.layoutAttrOverrides=g(v.layoutAttributes,"plot","from-root"),U.baseLayoutAttrOverrides=g({plot_bgcolor:a.plot_bgcolor,hoverlabel:d.hoverlabel},"plot","nested"),U.plot=function(u){for(var n=u._fullLayout,s=u._fullData,f=n._subplots.gl2d,l=0;l<f.length;l++){var x=f[l],c=n._plots[x],b=t(s,"gl2d",x),h=c._scene2d;h===void 0&&(h=new P({id:x,graphDiv:u,container:u.querySelector(".gl-container"),staticPlot:u._context.staticPlot,plotGlPixelRatio:u._context.plotGlPixelRatio},n),c._scene2d=h),h.plot(b,u.calcdata,n,u.layout)}},U.clean=function(r,u,n,s){for(var f=s._subplots.gl2d||[],l=0;l<f.length;l++){var x=f[l],c=s._plots[x];if(c._scene2d){var b=t(r,"gl2d",x);b.length===0&&(c._scene2d.destroy(),delete s._plots[x])}}v.clean.apply(this,arguments)},U.drawFramework=function(r){r._context.staticPlot||v.drawFramework(r)},U.toSVG=function(r){for(var u=r._fullLayout,n=u._subplots.gl2d,s=0;s<n.length;s++){var f=u._plots[n[s]],l=f._scene2d,x=l.toImage("png"),c=u._glimages.append("svg:image");c.attr({xmlns:L.svg,"xlink:href":x,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),l.destroy()}},U.updateFx=function(r){for(var u=r._fullLayout,n=u._subplots.gl2d,s=0;s<n.length;s++){var f=u._plots[n[s]]._scene2d;f.updateFx(u.dragmode)}}},92918:function(H,U,e){var g=e(73972),P=e(89298),a=e(30211),L=e(9330).gl_plot2d,T=e(9330).gl_spikes2d,v=e(9330).gl_select_box,d=e(40372),t=e(82961),r=e(75071),u=e(58617),n=e(99082),s=n.enforce,f=n.clean,l=e(71739).doAutoRange,x=e(64505),c=x.drawMode,b=x.selectMode,h=["xaxis","yaxis"],o,p,S=e(85555).SUBPLOT_PATTERN;function A(M,w){this.container=M.container,this.graphDiv=M.graphDiv,this.pixelRatio=M.plotGlPixelRatio||window.devicePixelRatio,this.id=M.id,this.staticPlot=!!M.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(w),this.makeFramework(),!this.stopped&&(this.glplotOptions=t(this),this.glplotOptions.merge(w),this.glplot=L(this.glplotOptions),this.camera=r(this),this.traces={},this.spikes=T(this.glplot),this.selectBox=v(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}H.exports=A;var E=A.prototype;E.makeFramework=function(){if(this.staticPlot){if(!p&&(o=document.createElement("canvas"),p=d({canvas:o,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!p))throw new Error("Error creating static canvas/context for image server");this.canvas=o,this.gl=p}else{var M=this.container.querySelector(".gl-canvas-focus"),w=d({canvas:M,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!w){u(this),this.stopped=!0;return}this.canvas=M,this.gl=w}var i=this.canvas;i.style.width="100%",i.style.height="100%",i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style["pointer-events"]="none",this.updateSize(i);var C=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");C.style.position="absolute",C.style.top=C.style.left="0px",C.style.width=C.style.height="100%",C.style["z-index"]=20,C.style["pointer-events"]="none";var y=this.mouseContainer=document.createElement("div");y.style.position="absolute",y.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var _=this.container;_.appendChild(C),_.appendChild(y);var I=this;y.addEventListener("mouseout",function(){I.isMouseOver=!1,I.unhover()}),y.addEventListener("mouseover",function(){I.isMouseOver=!0})},E.toImage=function(M){M||(M="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(o),this.updateSize(this.canvas);var w=this.glplot.gl,i=w.drawingBufferWidth,C=w.drawingBufferHeight;w.clearColor(1,1,1,0),w.clear(w.COLOR_BUFFER_BIT|w.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),w.bindFramebuffer(w.FRAMEBUFFER,null);var y=new Uint8Array(i*C*4);w.readPixels(0,0,i,C,w.RGBA,w.UNSIGNED_BYTE,y);for(var _=0,I=C-1;_<I;++_,--I)for(var N=0;N<i;++N)for(var k=0;k<4;++k){var O=y[4*(i*_+N)+k];y[4*(i*_+N)+k]=y[4*(i*I+N)+k],y[4*(i*I+N)+k]=O}var z=document.createElement("canvas");z.width=i,z.height=C;var F=z.getContext("2d",{willReadFrequently:!0}),B=F.createImageData(i,C);B.data.set(y),F.putImageData(B,0,0);var G;switch(M){case"jpeg":G=z.toDataURL("image/jpeg");break;case"webp":G=z.toDataURL("image/webp");break;default:G=z.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(o),G},E.updateSize=function(M){M||(M=this.canvas);var w=this.pixelRatio,i=this.fullLayout,C=i.width,y=i.height,_=Math.ceil(w*C)|0,I=Math.ceil(w*y)|0;return(M.width!==_||M.height!==I)&&(M.width=_,M.height=I),M},E.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var M=[P.calcTicks(this.xaxis),P.calcTicks(this.yaxis)],w=0;w<2;++w)for(var i=0;i<M[w].length;++i)M[w][i].text=M[w][i].text+"";return M};function m(M,w){for(var i=0;i<2;++i){var C=M[i],y=w[i];if(C.length!==y.length)return!0;for(var _=0;_<C.length;++_)if(C[_].x!==y[_].x)return!0}return!1}E.updateRefs=function(M){this.fullLayout=M;var w=this.id.match(S),i="xaxis"+w[1],C="yaxis"+w[2];this.xaxis=this.fullLayout[i],this.yaxis=this.fullLayout[C]},E.relayoutCallback=function(){var M=this.graphDiv,w=this.xaxis,i=this.yaxis,C=M.layout,y={},_=y[w._name+".range"]=w.range.slice(),I=y[i._name+".range"]=i.range.slice();y[w._name+".autorange"]=w.autorange,y[i._name+".autorange"]=i.autorange,g.call("_storeDirectGUIEdit",M.layout,M._fullLayout._preGUI,y);var N=C[w._name];N.range=_,N.autorange=w.autorange;var k=C[i._name];k.range=I,k.autorange=i.autorange,y.lastInputTime=this.camera.lastInputTime,M.emit("plotly_relayout",y)},E.cameraChanged=function(){var M=this.camera;this.glplot.setDataBox(this.calcDataBox());var w=this.computeTickMarks(),i=this.glplotOptions.ticks;m(w,i)&&(this.glplotOptions.ticks=w,this.glplotOptions.dataBox=M.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},E.handleAnnotations=function(){for(var M=this.graphDiv,w=this.fullLayout.annotations,i=0;i<w.length;i++){var C=w[i];C.xref===this.xaxis._id&&C.yref===this.yaxis._id&&g.getComponentMethod("annotations","drawOne")(M,i)}},E.destroy=function(){if(this.glplot){var M=this.traces;M&&Object.keys(M).map(function(w){M[w].dispose(),delete M[w]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},E.plot=function(M,w,i){var C=this.glplot;this.updateRefs(i),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(M,w),this.updateFx(i.dragmode);var y=i.width,_=i.height;this.updateSize(this.canvas);var I=this.glplotOptions;I.merge(i),I.screenBox=[0,0,y,_];var N={_fullLayout:{_axisConstraintGroups:i._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:i._size}};f(N,this.xaxis),f(N,this.yaxis);var k=i._size,O=this.xaxis.domain,z=this.yaxis.domain;I.viewBox=[k.l+O[0]*k.w,k.b+z[0]*k.h,y-k.r-(1-O[1])*k.w,_-k.t-(1-z[1])*k.h],this.mouseContainer.style.width=k.w*(O[1]-O[0])+"px",this.mouseContainer.style.height=k.h*(z[1]-z[0])+"px",this.mouseContainer.height=k.h*(z[1]-z[0]),this.mouseContainer.style.left=k.l+O[0]*k.w+"px",this.mouseContainer.style.top=k.t+(1-z[1])*k.h+"px";var F,B;for(B=0;B<2;++B)F=this[h[B]],F._length=I.viewBox[B+2]-I.viewBox[B],l(this.graphDiv,F),F.setScale();s(N),I.ticks=this.computeTickMarks(),I.dataBox=this.calcDataBox(),I.merge(i),C.update(I),this.glplot.draw()},E.calcDataBox=function(){var M=this.xaxis,w=this.yaxis,i=M.range,C=w.range,y=M.r2l,_=w.r2l;return[y(i[0]),_(C[0]),y(i[1]),_(C[1])]},E.setRanges=function(M){var w=this.xaxis,i=this.yaxis,C=w.l2r,y=i.l2r;w.range=[C(M[0]),C(M[2])],i.range=[y(M[1]),y(M[3])]},E.updateTraces=function(M,w){var i=Object.keys(this.traces),C,y,_;this.fullData=M;e:for(C=0;C<i.length;C++){var I=i[C],N=this.traces[I];for(y=0;y<M.length;y++)if(_=M[y],_.uid===I&&_.type===N.type)continue e;N.dispose(),delete this.traces[I]}for(C=0;C<M.length;C++){_=M[C];var k=w[C],O=this.traces[_.uid];O?O.update(_,k):(O=_._module.plot(this,_,k),this.traces[_.uid]=O)}this.glplot.objects.sort(function(z,F){return z._trace.index-F._trace.index})},E.updateFx=function(M){b(M)||c(M)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),M==="pan"?this.mouseContainer.style.cursor="move":M==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},E.emitPointAction=function(M,w){for(var i=M.trace.uid,C=M.pointIndex,y,_=0;_<this.fullData.length;_++)this.fullData[_].uid===i&&(y=this.fullData[_]);var I={x:M.traceCoord[0],y:M.traceCoord[1],curveNumber:y.index,pointNumber:C,data:y._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};a.appendArrayPointValue(I,y,C),this.graphDiv.emit(w,{points:[I]})},E.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var M=this.glplot,w=this.camera,i=w.mouseListener,C=this.lastButtonState===1&&i.buttons===0,y=this.fullLayout;this.lastButtonState=i.buttons,this.cameraChanged();var _=i.x*M.pixelRatio,I=this.canvas.height-M.pixelRatio*i.y,N;if(w.boxEnabled&&y.dragmode==="zoom"){this.selectBox.enabled=!0;for(var k=this.selectBox.selectBox=[Math.min(w.boxStart[0],w.boxEnd[0]),Math.min(w.boxStart[1],w.boxEnd[1]),Math.max(w.boxStart[0],w.boxEnd[0]),Math.max(w.boxStart[1],w.boxEnd[1])],O=0;O<2;O++)w.boxStart[O]===w.boxEnd[O]&&(k[O]=M.dataBox[O],k[O+2]=M.dataBox[O+2]);M.setDirty()}else if(!w.panning&&this.isMouseOver){this.selectBox.enabled=!1;var z=y._size,F=this.xaxis.domain,B=this.yaxis.domain;N=M.pick(_/M.pixelRatio+z.l+F[0]*z.w,I/M.pixelRatio-(z.t+(1-B[1])*z.h));var G=N&&N.object._trace.handlePick(N);if(G&&C&&this.emitPointAction(G,"plotly_click"),N&&N.object._trace.hoverinfo!=="skip"&&y.hovermode&&G&&(!this.lastPickResult||this.lastPickResult.traceUid!==G.trace.uid||this.lastPickResult.dataCoord[0]!==G.dataCoord[0]||this.lastPickResult.dataCoord[1]!==G.dataCoord[1])){var Q=G;this.lastPickResult={traceUid:G.trace?G.trace.uid:null,dataCoord:G.dataCoord.slice()},this.spikes.update({center:N.dataCoord}),Q.screenCoord=[((M.viewBox[2]-M.viewBox[0])*(N.dataCoord[0]-M.dataBox[0])/(M.dataBox[2]-M.dataBox[0])+M.viewBox[0])/M.pixelRatio,(this.canvas.height-(M.viewBox[3]-M.viewBox[1])*(N.dataCoord[1]-M.dataBox[1])/(M.dataBox[3]-M.dataBox[1])-M.viewBox[1])/M.pixelRatio],this.emitPointAction(G,"plotly_hover");var ee=this.fullData[Q.trace.index]||{},ae=Q.pointIndex,fe=a.castHoverinfo(ee,y,ae);if(fe&&fe!=="all"){var K=fe.split("+");K.indexOf("x")===-1&&(Q.traceCoord[0]=void 0),K.indexOf("y")===-1&&(Q.traceCoord[1]=void 0),K.indexOf("z")===-1&&(Q.traceCoord[2]=void 0),K.indexOf("text")===-1&&(Q.textLabel=void 0),K.indexOf("name")===-1&&(Q.name=void 0)}a.loneHover({x:Q.screenCoord[0],y:Q.screenCoord[1],xLabel:this.hoverFormatter("xaxis",Q.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",Q.traceCoord[1]),zLabel:Q.traceCoord[2],text:Q.textLabel,name:Q.name,color:a.castHoverOption(ee,ae,"bgcolor")||Q.color,borderColor:a.castHoverOption(ee,ae,"bordercolor"),fontFamily:a.castHoverOption(ee,ae,"font.family"),fontSize:a.castHoverOption(ee,ae,"font.size"),fontColor:a.castHoverOption(ee,ae,"font.color"),nameLength:a.castHoverOption(ee,ae,"namelength"),textAlign:a.castHoverOption(ee,ae,"align")},{container:this.svgContainer,gd:this.graphDiv})}}N||this.unhover(),M.draw()}},E.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),a.loneUnhover(this.svgContainer))},E.hoverFormatter=function(M,w){if(w!==void 0){var i=this[M];return P.tickText(i,i.c2l(w),"hover").text}}},58547:function(H,U,e){var g=e(30962).overrideAll,P=e(528),a=e(33539),L=e(27659).NG,T=e(71828),v=e(77922),d="gl3d",t="scene";U.name=d,U.attr=t,U.idRoot=t,U.idRegex=U.attrRegex=T.counterRegex("scene"),U.attributes=e(59084),U.layoutAttributes=e(65500),U.baseLayoutAttrOverrides=g({hoverlabel:P.hoverlabel},"plot","nested"),U.supplyLayoutDefaults=e(24682),U.plot=function(u){for(var n=u._fullLayout,s=u._fullData,f=n._subplots[d],l=0;l<f.length;l++){var x=f[l],c=L(s,d,x),b=n[x],h=b.camera,o=b._scene;o||(o=new a({id:x,graphDiv:u,container:u.querySelector(".gl-container"),staticPlot:u._context.staticPlot,plotGlPixelRatio:u._context.plotGlPixelRatio,camera:h},n),b._scene=o),o.viewInitial||(o.viewInitial={up:{x:h.up.x,y:h.up.y,z:h.up.z},eye:{x:h.eye.x,y:h.eye.y,z:h.eye.z},center:{x:h.center.x,y:h.center.y,z:h.center.z}}),o.plot(c,n,u.layout)}},U.clean=function(r,u,n,s){for(var f=s._subplots[d]||[],l=0;l<f.length;l++){var x=f[l];!u[x]&&s[x]._scene&&(s[x]._scene.destroy(),s._infolayer&&s._infolayer.selectAll(".annotation-"+x).remove())}},U.toSVG=function(r){for(var u=r._fullLayout,n=u._subplots[d],s=u._size,f=0;f<n.length;f++){var l=u[n[f]],x=l.domain,c=l._scene,b=c.toImage("png"),h=u._glimages.append("svg:image");h.attr({xmlns:v.svg,"xlink:href":b,x:s.l+s.w*x.x[0],y:s.t+s.h*(1-x.y[1]),width:s.w*(x.x[1]-x.x[0]),height:s.h*(x.y[1]-x.y[0]),preserveAspectRatio:"none"}),c.destroy()}},U.cleanId=function(u){if(u.match(/^scene[0-9]*$/)){var n=u.substr(5);return n==="1"&&(n=""),t+n}},U.updateFx=function(r){for(var u=r._fullLayout,n=u._subplots[d],s=0;s<n.length;s++){var f=u[n[s]]._scene;f.updateFx(u.dragmode,u.hovermode)}}},59084:function(H){H.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},77894:function(H,U,e){var g=e(7901),P=e(13838),a=e(1426).extendFlat,L=e(30962).overrideAll;H.exports=L({visible:P.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:g.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:P.color,categoryorder:P.categoryorder,categoryarray:P.categoryarray,title:{text:P.title.text,font:P.title.font},type:a({},P.type,{values:["-","linear","log","date","category"]}),autotypenumbers:P.autotypenumbers,autorange:P.autorange,autorangeoptions:{minallowed:P.autorangeoptions.minallowed,maxallowed:P.autorangeoptions.maxallowed,clipmin:P.autorangeoptions.clipmin,clipmax:P.autorangeoptions.clipmax,include:P.autorangeoptions.include,editType:"plot"},rangemode:P.rangemode,minallowed:P.minallowed,maxallowed:P.maxallowed,range:a({},P.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:P.minor.tickmode,nticks:P.nticks,tick0:P.tick0,dtick:P.dtick,tickvals:P.tickvals,ticktext:P.ticktext,ticks:P.ticks,mirror:P.mirror,ticklen:P.ticklen,tickwidth:P.tickwidth,tickcolor:P.tickcolor,showticklabels:P.showticklabels,labelalias:P.labelalias,tickfont:P.tickfont,tickangle:P.tickangle,tickprefix:P.tickprefix,showtickprefix:P.showtickprefix,ticksuffix:P.ticksuffix,showticksuffix:P.showticksuffix,showexponent:P.showexponent,exponentformat:P.exponentformat,minexponent:P.minexponent,separatethousands:P.separatethousands,tickformat:P.tickformat,tickformatstops:P.tickformatstops,hoverformat:P.hoverformat,showline:P.showline,linecolor:P.linecolor,linewidth:P.linewidth,showgrid:P.showgrid,gridcolor:a({},P.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:P.gridwidth,zeroline:P.zeroline,zerolinecolor:P.zerolinecolor,zerolinewidth:P.zerolinewidth,_deprecated:{title:P._deprecated.title,titlefont:P._deprecated.titlefont}},"plot","from-root")},3277:function(H,U,e){var g=e(84267).mix,P=e(71828),a=e(44467),L=e(77894),T=e(951),v=e(71453),d=["xaxis","yaxis","zaxis"],t=100*(204-68)/(255-68);H.exports=function(u,n,s){var f,l;function x(h,o){return P.coerce(f,l,L,h,o)}for(var c=0;c<d.length;c++){var b=d[c];f=u[b]||{},l=a.newContainer(n,b),l._id=b[0]+s.scene,l._name=b,T(f,l,x,s),v(f,l,x,{font:s.font,letter:b[0],data:s.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,bgColor:s.bgColor,calendar:s.calendar},s.fullLayout),x("gridcolor",g(l.color,s.bgColor,t).toRgbString()),x("title.text",b[0]),l.setScale=P.noop,x("showspikes")&&(x("spikesides"),x("spikethickness"),x("spikecolor",l.color)),x("showaxeslabels"),x("showbackground")&&x("backgroundcolor")}}},30422:function(H,U,e){var g=e(78614),P=e(71828),a=["xaxis","yaxis","zaxis"];function L(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var T=L.prototype;T.merge=function(d,t){for(var r=this,u=0;u<3;++u){var n=t[a[u]];if(!n.visible){r.tickEnable[u]=!1,r.labelEnable[u]=!1,r.lineEnable[u]=!1,r.lineTickEnable[u]=!1,r.gridEnable[u]=!1,r.zeroEnable[u]=!1,r.backgroundEnable[u]=!1;continue}r.labels[u]=d._meta?P.templateString(n.title.text,d._meta):n.title.text,"font"in n.title&&(n.title.font.color&&(r.labelColor[u]=g(n.title.font.color)),n.title.font.family&&(r.labelFont[u]=n.title.font.family),n.title.font.size&&(r.labelSize[u]=n.title.font.size)),"showline"in n&&(r.lineEnable[u]=n.showline),"linecolor"in n&&(r.lineColor[u]=g(n.linecolor)),"linewidth"in n&&(r.lineWidth[u]=n.linewidth),"showgrid"in n&&(r.gridEnable[u]=n.showgrid),"gridcolor"in n&&(r.gridColor[u]=g(n.gridcolor)),"gridwidth"in n&&(r.gridWidth[u]=n.gridwidth),n.type==="log"?r.zeroEnable[u]=!1:"zeroline"in n&&(r.zeroEnable[u]=n.zeroline),"zerolinecolor"in n&&(r.zeroLineColor[u]=g(n.zerolinecolor)),"zerolinewidth"in n&&(r.zeroLineWidth[u]=n.zerolinewidth),"ticks"in n&&n.ticks?r.lineTickEnable[u]=!0:r.lineTickEnable[u]=!1,"ticklen"in n&&(r.lineTickLength[u]=r._defaultLineTickLength[u]=n.ticklen),"tickcolor"in n&&(r.lineTickColor[u]=g(n.tickcolor)),"tickwidth"in n&&(r.lineTickWidth[u]=n.tickwidth),"tickangle"in n&&(r.tickAngle[u]=n.tickangle==="auto"?-3600:Math.PI*-n.tickangle/180),"showticklabels"in n&&(r.tickEnable[u]=n.showticklabels),"tickfont"in n&&(n.tickfont.color&&(r.tickColor[u]=g(n.tickfont.color)),n.tickfont.family&&(r.tickFont[u]=n.tickfont.family),n.tickfont.size&&(r.tickSize[u]=n.tickfont.size)),"mirror"in n?["ticks","all","allticks"].indexOf(n.mirror)!==-1?(r.lineTickMirror[u]=!0,r.lineMirror[u]=!0):n.mirror===!0?(r.lineTickMirror[u]=!1,r.lineMirror[u]=!0):(r.lineTickMirror[u]=!1,r.lineMirror[u]=!1):r.lineMirror[u]=!1,"showbackground"in n&&n.showbackground!==!1?(r.backgroundEnable[u]=!0,r.backgroundColor[u]=g(n.backgroundcolor)):r.backgroundEnable[u]=!1}};function v(d,t){var r=new L;return r.merge(d,t),r}H.exports=v},24682:function(H,U,e){var g=e(71828),P=e(7901),a=e(73972),L=e(49119),T=e(3277),v=e(65500),d=e(27659).NG,t="gl3d";H.exports=function(n,s,f){var l=s._basePlotModules.length>1;function x(c){if(!l){var b=g.validate(n[c],v[c]);if(b)return n[c]}}L(n,s,f,{type:t,attributes:v,handleDefaults:r,fullLayout:s,font:s.font,fullData:f,getDfltFromLayout:x,autotypenumbersDflt:s.autotypenumbers,paper_bgcolor:s.paper_bgcolor,calendar:s.calendar})};function r(u,n,s,f){for(var l=s("bgcolor"),x=P.combine(l,f.paper_bgcolor),c=["up","center","eye"],b=0;b<c.length;b++)s("camera."+c[b]+".x"),s("camera."+c[b]+".y"),s("camera."+c[b]+".z");s("camera.projection.type");var h=!!s("aspectratio.x")&&!!s("aspectratio.y")&&!!s("aspectratio.z"),o=h?"manual":"auto",p=s("aspectmode",o);h||(u.aspectratio=n.aspectratio={x:1,y:1,z:1},p==="manual"&&(n.aspectmode="auto"),u.aspectmode=n.aspectmode);var S=d(f.fullData,t,f.id);T(u,n,{font:f.font,scene:f.id,data:S,bgColor:x,calendar:f.calendar,autotypenumbersDflt:f.autotypenumbersDflt,fullLayout:f.fullLayout}),a.getComponentMethod("annotations3d","handleDefaults")(u,n,f);var A=f.getDfltFromLayout("dragmode");if(A!==!1&&!A)if(A="orbit",u.camera&&u.camera.up){var E=u.camera.up.x,m=u.camera.up.y,M=u.camera.up.z;M!==0&&(!E||!m||!M||M/Math.sqrt(E*E+m*m+M*M)>.999)&&(A="turntable")}else A="turntable";s("dragmode",A),s("hovermode",f.getDfltFromLayout("hovermode"))}},65500:function(H,U,e){var g=e(77894),P=e(27670).Y,a=e(1426).extendFlat,L=e(71828).counterRegex;function T(v,d,t){return{x:{valType:"number",dflt:v,editType:"camera"},y:{valType:"number",dflt:d,editType:"camera"},z:{valType:"number",dflt:t,editType:"camera"},editType:"camera"}}H.exports={_arrayAttrRegexps:[L("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:a(T(0,0,1),{}),center:a(T(0,0,0),{}),eye:a(T(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:P({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:g,yaxis:g,zaxis:g,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},13133:function(H,U,e){var g=e(78614),P=["xaxis","yaxis","zaxis"];function a(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var L=a.prototype;L.merge=function(v){for(var d=0;d<3;++d){var t=v[P[d]];if(!t.visible){this.enabled[d]=!1,this.drawSides[d]=!1;continue}this.enabled[d]=t.showspikes,this.colors[d]=g(t.spikecolor),this.drawSides[d]=t.spikesides,this.lineWidth[d]=t.spikethickness}};function T(v){var d=new a;return d.merge(v),d}H.exports=T},96085:function(H,U,e){H.exports=T;var g=e(89298),P=e(71828),a=["xaxis","yaxis","zaxis"];function L(v){for(var d=new Array(3),t=0;t<3;++t){for(var r=v[t],u=new Array(r.length),n=0;n<r.length;++n)u[n]=r[n].x;d[t]=u}return d}function T(v){for(var d=v.axesOptions,t=v.glplot.axesPixels,r=v.fullSceneLayout,u=[[],[],[]],n=0;n<3;++n){var s=r[a[n]];if(s._length=(t[n].hi-t[n].lo)*t[n].pixelsPerDataUnit/v.dataScale[n],Math.abs(s._length)===1/0||isNaN(s._length))u[n]=[];else{s._input_range=s.range.slice(),s.range[0]=t[n].lo/v.dataScale[n],s.range[1]=t[n].hi/v.dataScale[n],s._m=1/(v.dataScale[n]*t[n].pixelsPerDataUnit),s.range[0]===s.range[1]&&(s.range[0]-=1,s.range[1]+=1);var f=s.tickmode;if(s.tickmode==="auto"){s.tickmode="linear";var l=s.nticks||P.constrain(s._length/40,4,9);g.autoTicks(s,Math.abs(s.range[1]-s.range[0])/l)}for(var x=g.calcTicks(s,{msUTC:!0}),c=0;c<x.length;++c)x[c].x=x[c].x*v.dataScale[n],s.type==="date"&&(x[c].text=x[c].text.replace(/\<br\>/g," "));u[n]=x,s.tickmode=f}}d.ticks=u;for(var n=0;n<3;++n){.5*(v.glplot.bounds[0][n]+v.glplot.bounds[1][n]);for(var c=0;c<2;++c)d.bounds[c][n]=v.glplot.bounds[c][n]}v.contourLevels=L(u)}},63538:function(H){function U(g,P){var a=[0,0,0,0],L,T;for(L=0;L<4;++L)for(T=0;T<4;++T)a[T]+=g[4*L+T]*P[L];return a}function e(g,P){var a=U(g.projection,U(g.view,U(g.model,[P[0],P[1],P[2],1])));return a}H.exports=e},33539:function(H,U,e){var g=e(9330).gl_plot3d,P=g.createCamera,a=g.createScene,L=e(40372),T=e(38520),v=e(73972),d=e(71828),t=d.preserveDrawingBuffer(),r=e(89298),u=e(30211),n=e(78614),s=e(58617),f=e(63538),l=e(30422),x=e(13133),c=e(96085),b=e(71739).applyAutorangeOptions,h,o,p=!1;function S(I,N){var k=document.createElement("div"),O=I.container;this.graphDiv=I.graphDiv;var z=document.createElementNS("http://www.w3.org/2000/svg","svg");z.style.position="absolute",z.style.top=z.style.left="0px",z.style.width=z.style.height="100%",z.style["z-index"]=20,z.style["pointer-events"]="none",k.appendChild(z),this.svgContainer=z,k.id=I.id,k.style.position="absolute",k.style.top=k.style.left="0px",k.style.width=k.style.height="100%",O.appendChild(k),this.fullLayout=N,this.id=I.id||"scene",this.fullSceneLayout=N[this.id],this.plotArgs=[[],{},{}],this.axesOptions=l(N,N[this.id]),this.spikeOptions=x(N[this.id]),this.container=k,this.staticMode=!!I.staticPlot,this.pixelRatio=this.pixelRatio||I.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=v.getComponentMethod("annotations3d","convert"),this.drawAnnotations=v.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var A=S.prototype;A.prepareOptions=function(){var I=this,N={canvas:I.canvas,gl:I.gl,glOptions:{preserveDrawingBuffer:t,premultipliedAlpha:!0,antialias:!0},container:I.container,axes:I.axesOptions,spikes:I.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:I.camera,pixelRatio:I.pixelRatio};if(I.staticMode){if(!o&&(h=document.createElement("canvas"),o=L({canvas:h,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!o))throw new Error("error creating static canvas/context for image server");N.gl=o,N.canvas=h}return N};var E=!0;A.tryCreatePlot=function(){var I=this,N=I.prepareOptions(),k=!0;try{I.glplot=a(N)}catch{if(I.staticMode||!E||t)k=!1;else{d.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{t=N.glOptions.preserveDrawingBuffer=!0,I.glplot=a(N)}catch{t=N.glOptions.preserveDrawingBuffer=!1,k=!1}}}return E=!1,k},A.initializeGLCamera=function(){var I=this,N=I.fullSceneLayout.camera,k=N.projection.type==="orthographic";I.camera=P(I.container,{center:[N.center.x,N.center.y,N.center.z],eye:[N.eye.x,N.eye.y,N.eye.z],up:[N.up.x,N.up.y,N.up.z],_ortho:k,zoomMin:.01,zoomMax:100,mode:"orbit"})},A.initializeGLPlot=function(){var I=this;I.initializeGLCamera();var N=I.tryCreatePlot();if(!N)return s(I);I.traces={},I.make4thDimension();var k=I.graphDiv,O=k.layout,z=function(){var B={};return I.isCameraChanged(O)&&(B[I.id+".camera"]=I.getCamera()),I.isAspectChanged(O)&&(B[I.id+".aspectratio"]=I.glplot.getAspectratio(),O[I.id].aspectmode!=="manual"&&(I.fullSceneLayout.aspectmode=O[I.id].aspectmode=B[I.id+".aspectmode"]="manual")),B},F=function(B){if(B.fullSceneLayout.dragmode!==!1){var G=z();B.saveLayout(O),B.graphDiv.emit("plotly_relayout",G)}};return I.glplot.canvas&&(I.glplot.canvas.addEventListener("mouseup",function(){F(I)}),I.glplot.canvas.addEventListener("touchstart",function(){p=!0}),I.glplot.canvas.addEventListener("wheel",function(B){if(k._context._scrollZoom.gl3d){if(I.camera._ortho){var G=B.deltaX>B.deltaY?1.1:.9090909090909091,Q=I.glplot.getAspectratio();I.glplot.setAspectratio({x:G*Q.x,y:G*Q.y,z:G*Q.z})}F(I)}},T?{passive:!1}:!1),I.glplot.canvas.addEventListener("mousemove",function(){if(I.fullSceneLayout.dragmode!==!1&&I.camera.mouseListener.buttons!==0){var B=z();I.graphDiv.emit("plotly_relayouting",B)}}),I.staticMode||I.glplot.canvas.addEventListener("webglcontextlost",function(B){k&&k.emit&&k.emit("plotly_webglcontextlost",{event:B,layer:I.id})},!1)),I.glplot.oncontextloss=function(){I.recoverContext()},I.glplot.onrender=function(){I.render()},!0},A.render=function(){var I=this,N=I.graphDiv,k,O=I.svgContainer,z=I.container.getBoundingClientRect();N._fullLayout._calcInverseTransform(N);var F=N._fullLayout._invScaleX,B=N._fullLayout._invScaleY,G=z.width*F,Q=z.height*B;O.setAttributeNS(null,"viewBox","0 0 "+G+" "+Q),O.setAttributeNS(null,"width",G),O.setAttributeNS(null,"height",Q),c(I),I.glplot.axes.update(I.axesOptions);for(var ee=Object.keys(I.traces),ae=null,fe=I.glplot.selection,K=0;K<ee.length;++K)k=I.traces[ee[K]],k.data.hoverinfo!=="skip"&&k.handlePick(fe)&&(ae=k),k.setContourLevels&&k.setContourLevels();function W(Fe,ze,Te){var ye=I.fullSceneLayout[Fe+"axis"];return ye.type!=="log"&&(ze=ye.d2l(ze)),r.hoverLabelText(ye,ze,Te)}if(ae!==null){var Z=f(I.glplot.cameraParams,fe.dataCoordinate);k=ae.data;var X=N._fullData[k.index],$=fe.index,ie={xLabel:W("x",fe.traceCoordinate[0],k.xhoverformat),yLabel:W("y",fe.traceCoordinate[1],k.yhoverformat),zLabel:W("z",fe.traceCoordinate[2],k.zhoverformat)},J=u.castHoverinfo(X,I.fullLayout,$),j=(J||"").split("+"),se=J&&J==="all";!X.hovertemplate&&!se&&(j.indexOf("x")===-1&&(ie.xLabel=void 0),j.indexOf("y")===-1&&(ie.yLabel=void 0),j.indexOf("z")===-1&&(ie.zLabel=void 0),j.indexOf("text")===-1&&(fe.textLabel=void 0),j.indexOf("name")===-1&&(ae.name=void 0));var ne,ue=[];k.type==="cone"||k.type==="streamtube"?(ie.uLabel=W("x",fe.traceCoordinate[3],k.uhoverformat),(se||j.indexOf("u")!==-1)&&ue.push("u: "+ie.uLabel),ie.vLabel=W("y",fe.traceCoordinate[4],k.vhoverformat),(se||j.indexOf("v")!==-1)&&ue.push("v: "+ie.vLabel),ie.wLabel=W("z",fe.traceCoordinate[5],k.whoverformat),(se||j.indexOf("w")!==-1)&&ue.push("w: "+ie.wLabel),ie.normLabel=fe.traceCoordinate[6].toPrecision(3),(se||j.indexOf("norm")!==-1)&&ue.push("norm: "+ie.normLabel),k.type==="streamtube"&&(ie.divergenceLabel=fe.traceCoordinate[7].toPrecision(3),(se||j.indexOf("divergence")!==-1)&&ue.push("divergence: "+ie.divergenceLabel)),fe.textLabel&&ue.push(fe.textLabel),ne=ue.join("<br>")):k.type==="isosurface"||k.type==="volume"?(ie.valueLabel=r.hoverLabelText(I._mockAxis,I._mockAxis.d2l(fe.traceCoordinate[3]),k.valuehoverformat),ue.push("value: "+ie.valueLabel),fe.textLabel&&ue.push(fe.textLabel),ne=ue.join("<br>")):ne=fe.textLabel;var ge={x:fe.traceCoordinate[0],y:fe.traceCoordinate[1],z:fe.traceCoordinate[2],data:X._input,fullData:X,curveNumber:X.index,pointNumber:$};u.appendArrayPointValue(ge,X,$),k._module.eventData&&(ge=X._module.eventData(ge,fe,X,{},$));var we={points:[ge]};if(I.fullSceneLayout.hovermode){var xe=[];u.loneHover({trace:X,x:(.5+.5*Z[0]/Z[3])*G,y:(.5-.5*Z[1]/Z[3])*Q,xLabel:ie.xLabel,yLabel:ie.yLabel,zLabel:ie.zLabel,text:ne,name:ae.name,color:u.castHoverOption(X,$,"bgcolor")||ae.color,borderColor:u.castHoverOption(X,$,"bordercolor"),fontFamily:u.castHoverOption(X,$,"font.family"),fontSize:u.castHoverOption(X,$,"font.size"),fontColor:u.castHoverOption(X,$,"font.color"),nameLength:u.castHoverOption(X,$,"namelength"),textAlign:u.castHoverOption(X,$,"align"),hovertemplate:d.castOption(X,$,"hovertemplate"),hovertemplateLabels:d.extendFlat({},ge,ie),eventData:[ge]},{container:O,gd:N,inOut_bbox:xe}),ge.bbox=xe[0]}fe.distance<5&&(fe.buttons||p)?N.emit("plotly_click",we):N.emit("plotly_hover",we),this.oldEventData=we}else u.loneUnhover(O),this.oldEventData&&N.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;I.drawAnnotations(I)},A.recoverContext=function(){var I=this;I.glplot.dispose();var N=function(){if(I.glplot.gl.isContextLost()){requestAnimationFrame(N);return}if(!I.initializeGLPlot()){d.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}I.plot.apply(I,I.plotArgs)};requestAnimationFrame(N)};var m=["xaxis","yaxis","zaxis"];function M(I,N,k){for(var O=I.fullSceneLayout,z=0;z<3;z++){var F=m[z],B=F.charAt(0),G=O[F],Q=N[B],ee=N[B+"calendar"],ae=N["_"+B+"length"];if(!d.isArrayOrTypedArray(Q))k[0][z]=Math.min(k[0][z],0),k[1][z]=Math.max(k[1][z],ae-1);else for(var fe,K=0;K<(ae||Q.length);K++)if(d.isArrayOrTypedArray(Q[K]))for(var W=0;W<Q[K].length;++W)fe=G.d2l(Q[K][W],0,ee),!isNaN(fe)&&isFinite(fe)&&(k[0][z]=Math.min(k[0][z],fe),k[1][z]=Math.max(k[1][z],fe));else fe=G.d2l(Q[K],0,ee),!isNaN(fe)&&isFinite(fe)&&(k[0][z]=Math.min(k[0][z],fe),k[1][z]=Math.max(k[1][z],fe))}}function w(I,N){for(var k=I.fullSceneLayout,O=k.annotations||[],z=0;z<3;z++)for(var F=m[z],B=F.charAt(0),G=k[F],Q=0;Q<O.length;Q++){var ee=O[Q];if(ee.visible){var ae=G.r2l(ee[B]);!isNaN(ae)&&isFinite(ae)&&(N[0][z]=Math.min(N[0][z],ae),N[1][z]=Math.max(N[1][z],ae))}}}A.plot=function(I,N,k){var O=this;if(O.plotArgs=[I,N,k],!O.glplot.contextLost){var z,F,B,G,Q,ee,ae=N[O.id],fe=k[O.id];O.fullLayout=N,O.fullSceneLayout=ae,O.axesOptions.merge(N,ae),O.spikeOptions.merge(ae),O.setViewport(ae),O.updateFx(ae.dragmode,ae.hovermode),O.camera.enableWheel=O.graphDiv._context._scrollZoom.gl3d,O.glplot.setClearColor(n(ae.bgcolor)),O.setConvert(Q),I?Array.isArray(I)||(I=[I]):I=[];var K=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(B=0;B<I.length;++B)z=I[B],!(z.visible!==!0||z._length===0)&&M(this,z,K);w(this,K);var W=[1,1,1];for(G=0;G<3;++G)K[1][G]===K[0][G]?W[G]=1:W[G]=1/(K[1][G]-K[0][G]);for(O.dataScale=W,O.convertAnnotations(this),B=0;B<I.length;++B)z=I[B],!(z.visible!==!0||z._length===0)&&(F=O.traces[z.uid],F?F.data.type===z.type?F.update(z):(F.dispose(),F=z._module.plot(this,z),O.traces[z.uid]=F):(F=z._module.plot(this,z),O.traces[z.uid]=F),F.name=z.name);var Z=Object.keys(O.traces);e:for(B=0;B<Z.length;++B){for(G=0;G<I.length;++G)if(I[G].uid===Z[B]&&I[G].visible===!0&&I[G]._length!==0)continue e;F=O.traces[Z[B]],F.dispose(),delete O.traces[Z[B]]}O.glplot.objects.sort(function(Qe,Je){return Qe._trace.data.index-Je._trace.data.index});var X=[[0,0,0],[0,0,0]],$={};for(B=0;B<3;++B){Q=ae[m[B]],ee=Q.type,ee in $?($[ee].acc*=W[B],$[ee].count+=1):$[ee]={acc:W[B],count:1};var ie;if(Q.autorange){X[0][B]=1/0,X[1][B]=-1/0;var J=O.glplot.objects,j=O.fullSceneLayout.annotations||[],se=Q._name.charAt(0);for(G=0;G<J.length;G++){var ne=J[G],ue=ne.bounds,ge=ne._trace.data._pad||0;ne.constructor.name==="ErrorBars"&&Q._lowerLogErrorBound?X[0][B]=Math.min(X[0][B],Q._lowerLogErrorBound):X[0][B]=Math.min(X[0][B],ue[0][B]/W[B]-ge),X[1][B]=Math.max(X[1][B],ue[1][B]/W[B]+ge)}for(G=0;G<j.length;G++){var we=j[G];if(we.visible){var xe=Q.r2l(we[se]);X[0][B]=Math.min(X[0][B],xe),X[1][B]=Math.max(X[1][B],xe)}}if("rangemode"in Q&&Q.rangemode==="tozero"&&(X[0][B]=Math.min(X[0][B],0),X[1][B]=Math.max(X[1][B],0)),X[0][B]>X[1][B])X[0][B]=-1,X[1][B]=1;else{var Fe=X[1][B]-X[0][B];X[0][B]-=Fe/32,X[1][B]+=Fe/32}if(ie=[X[0][B],X[1][B]],ie=b(ie,Q),X[0][B]=ie[0],X[1][B]=ie[1],Q.isReversed()){var ze=X[0][B];X[0][B]=X[1][B],X[1][B]=ze}}else ie=Q.range,X[0][B]=Q.r2l(ie[0]),X[1][B]=Q.r2l(ie[1]);X[0][B]===X[1][B]&&(X[0][B]-=1,X[1][B]+=1),Q.range=[X[0][B],X[1][B]],Q.limitRange(),O.glplot.setBounds(B,{min:Q.range[0]*W[B],max:Q.range[1]*W[B]})}var Te,ye=ae.aspectmode;if(ye==="cube")Te=[1,1,1];else if(ye==="manual"){var Ae=ae.aspectratio;Te=[Ae.x,Ae.y,Ae.z]}else if(ye==="auto"||ye==="data"){var Ne=[1,1,1];for(B=0;B<3;++B){Q=ae[m[B]],ee=Q.type;var Ue=$[ee];Ne[B]=Math.pow(Ue.acc,1/Ue.count)/W[B]}ye==="data"||Math.max.apply(null,Ne)/Math.min.apply(null,Ne)<=4?Te=Ne:Te=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");ae.aspectratio.x=fe.aspectratio.x=Te[0],ae.aspectratio.y=fe.aspectratio.y=Te[1],ae.aspectratio.z=fe.aspectratio.z=Te[2],O.glplot.setAspectratio(ae.aspectratio),O.viewInitial.aspectratio||(O.viewInitial.aspectratio={x:ae.aspectratio.x,y:ae.aspectratio.y,z:ae.aspectratio.z}),O.viewInitial.aspectmode||(O.viewInitial.aspectmode=ae.aspectmode);var Re=ae.domain||null,Ve=N._size||null;if(Re&&Ve){var rt=O.container.style;rt.position="absolute",rt.left=Ve.l+Re.x[0]*Ve.w+"px",rt.top=Ve.t+(1-Re.y[1])*Ve.h+"px",rt.width=Ve.w*(Re.x[1]-Re.x[0])+"px",rt.height=Ve.h*(Re.y[1]-Re.y[0])+"px"}O.glplot.redraw()}},A.destroy=function(){var I=this;I.glplot&&(I.camera.mouseListener.enabled=!1,I.container.removeEventListener("wheel",I.camera.wheelListener),I.camera=null,I.glplot.dispose(),I.container.parentNode.removeChild(I.container),I.glplot=null)};function i(I){return[[I.eye.x,I.eye.y,I.eye.z],[I.center.x,I.center.y,I.center.z],[I.up.x,I.up.y,I.up.z]]}function C(I){return{up:{x:I.up[0],y:I.up[1],z:I.up[2]},center:{x:I.center[0],y:I.center[1],z:I.center[2]},eye:{x:I.eye[0],y:I.eye[1],z:I.eye[2]},projection:{type:I._ortho===!0?"orthographic":"perspective"}}}A.getCamera=function(){var I=this;return I.camera.view.recalcMatrix(I.camera.view.lastT()),C(I.camera)},A.setViewport=function(I){var N=this,k=I.camera;N.camera.lookAt.apply(this,i(k)),N.glplot.setAspectratio(I.aspectratio);var O=k.projection.type==="orthographic",z=N.camera._ortho;O!==z&&(N.glplot.redraw(),N.glplot.clearRGBA(),N.glplot.dispose(),N.initializeGLPlot())},A.isCameraChanged=function(I){var N=this,k=N.getCamera(),O=d.nestedProperty(I,N.id+".camera"),z=O.get();function F(ee,ae,fe,K){var W=["up","center","eye"],Z=["x","y","z"];return ae[W[fe]]&&ee[W[fe]][Z[K]]===ae[W[fe]][Z[K]]}var B=!1;if(z===void 0)B=!0;else{for(var G=0;G<3;G++)for(var Q=0;Q<3;Q++)if(!F(k,z,G,Q)){B=!0;break}(!z.projection||k.projection&&k.projection.type!==z.projection.type)&&(B=!0)}return B},A.isAspectChanged=function(I){var N=this,k=N.glplot.getAspectratio(),O=d.nestedProperty(I,N.id+".aspectratio"),z=O.get();return z===void 0||z.x!==k.x||z.y!==k.y||z.z!==k.z},A.saveLayout=function(I){var N=this,k=N.fullLayout,O,z,F,B,G,Q,ee=N.isCameraChanged(I),ae=N.isAspectChanged(I),fe=ee||ae;if(fe){var K={};if(ee&&(O=N.getCamera(),z=d.nestedProperty(I,N.id+".camera"),F=z.get(),K[N.id+".camera"]=F),ae&&(B=N.glplot.getAspectratio(),G=d.nestedProperty(I,N.id+".aspectratio"),Q=G.get(),K[N.id+".aspectratio"]=Q),v.call("_storeDirectGUIEdit",I,k._preGUI,K),ee){z.set(O);var W=d.nestedProperty(k,N.id+".camera");W.set(O)}if(ae){G.set(B);var Z=d.nestedProperty(k,N.id+".aspectratio");Z.set(B),N.glplot.redraw()}}return fe},A.updateFx=function(I,N){var k=this,O=k.camera;if(O)if(I==="orbit")O.mode="orbit",O.keyBindingMode="rotate";else if(I==="turntable"){O.up=[0,0,1],O.mode="turntable",O.keyBindingMode="rotate";var z=k.graphDiv,F=z._fullLayout,B=k.fullSceneLayout.camera,G=B.up.x,Q=B.up.y,ee=B.up.z;if(ee/Math.sqrt(G*G+Q*Q+ee*ee)<.999){var ae=k.id+".camera.up",fe={x:0,y:0,z:1},K={};K[ae]=fe;var W=z.layout;v.call("_storeDirectGUIEdit",W,F._preGUI,K),B.up=fe,d.nestedProperty(W,ae).set(fe)}}else O.keyBindingMode=I;k.fullSceneLayout.hovermode=N};function y(I,N,k){for(var O=0,z=k-1;O<z;++O,--z)for(var F=0;F<N;++F)for(var B=0;B<4;++B){var G=4*(N*O+F)+B,Q=4*(N*z+F)+B,ee=I[G];I[G]=I[Q],I[Q]=ee}}function _(I,N,k){for(var O=0;O<k;++O)for(var z=0;z<N;++z){var F=4*(N*O+z),B=I[F+3];if(B>0)for(var G=255/B,Q=0;Q<3;++Q)I[F+Q]=Math.min(G*I[F+Q],255)}}A.toImage=function(I){var N=this;I||(I="png"),N.staticMode&&N.container.appendChild(h),N.glplot.redraw();var k=N.glplot.gl,O=k.drawingBufferWidth,z=k.drawingBufferHeight;k.bindFramebuffer(k.FRAMEBUFFER,null);var F=new Uint8Array(O*z*4);k.readPixels(0,0,O,z,k.RGBA,k.UNSIGNED_BYTE,F),y(F,O,z),_(F,O,z);var B=document.createElement("canvas");B.width=O,B.height=z;var G=B.getContext("2d",{willReadFrequently:!0}),Q=G.createImageData(O,z);Q.data.set(F),G.putImageData(Q,0,0);var ee;switch(I){case"jpeg":ee=B.toDataURL("image/jpeg");break;case"webp":ee=B.toDataURL("image/webp");break;default:ee=B.toDataURL("image/png")}return N.staticMode&&N.container.removeChild(h),ee},A.setConvert=function(){for(var I=this,N=0;N<3;N++){var k=I.fullSceneLayout[m[N]];r.setConvert(k,I.fullLayout),k.setScale=d.noop}},A.make4thDimension=function(){var I=this,N=I.graphDiv,k=N._fullLayout;I._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},r.setConvert(I._mockAxis,k)},H.exports=S},90060:function(H){H.exports=function(e,g,P,a){a=a||e.length;for(var L=new Array(a),T=0;T<a;T++)L[T]=[e[T],g[T],P[T]];return L}},10820:function(H,U,e){var g=e(41940),P=e(85594),a=e(22399),L=e(29241),T=e(53777),v=e(35025),d=e(1426).extendFlat,t=g({editType:"calc"});t.family.dflt='"Open Sans", verdana, arial, sans-serif',t.size.dflt=12,t.color.dflt=a.defaultLine,H.exports={font:t,title:{text:{valType:"string",editType:"layoutstyle"},font:g({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:d(v({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:a.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:a.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:a.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:L.newshape,activeshape:L.activeshape,newselection:T.newselection,activeselection:T.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:d({},P.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:g({editType:"layoutstyle"})}}},77734:function(H,U,e){var g=e(78607),P="1.10.1",a='© <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',L=['© <a target="_blank" href="https://carto.com/">Carto</a>',a].join(" "),T=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),v=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),d={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:a,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:L,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:L,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:T,tiles:["https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:T,tiles:["https://stamen-tiles.a.ssl.fastly.net/toner/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:v,tiles:["https://stamen-tiles.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},t=g(d);H.exports={requiredVersion:P,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:d,styleValuesNonMapbox:t,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install mapbox-gl@"+P+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",t.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},13056:function(H,U,e){var g=e(71828);H.exports=function(a,L){var T=a.split(" "),v=T[0],d=T[1],t=g.isArrayOrTypedArray(L)?g.mean(L):L,r=.5+t/100,u=1.5+t/100,n=["",""],s=[0,0];switch(v){case"top":n[0]="top",s[1]=-u;break;case"bottom":n[0]="bottom",s[1]=u;break}switch(d){case"left":n[1]="right",s[0]=-r;break;case"right":n[1]="left",s[0]=r;break}var f;return n[0]&&n[1]?f=n.join("-"):n[0]?f=n[0]:n[1]?f=n[1]:f="center",{anchor:f,offset:s}}},50101:function(H,U,e){var g=e(44517),P=e(71828),a=P.strTranslate,L=P.strScale,T=e(27659).AU,v=e(77922),d=e(39898),t=e(91424),r=e(63893),u=e(10481),n="mapbox",s=U.constants=e(77734);U.name=n,U.attr="subplot",U.idRoot=n,U.idRegex=U.attrRegex=P.counterRegex(n),U.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},U.layoutAttributes=e(23585),U.supplyLayoutDefaults=e(77882),U.plot=function(c){var b=c._fullLayout,h=c.calcdata,o=b._subplots[n];if(g.version!==s.requiredVersion)throw new Error(s.wrongVersionErrorMsg);var p=f(c,o);g.accessToken=p;for(var S=0;S<o.length;S++){var A=o[S],E=T(h,n,A),m=b[A],M=m._subplot;M||(M=new u(c,A),b[A]._subplot=M),M.viewInitial||(M.viewInitial={center:P.extendFlat({},m.center),zoom:m.zoom,bearing:m.bearing,pitch:m.pitch}),M.plot(E,b,c._promises)}},U.clean=function(x,c,b,h){for(var o=h._subplots[n]||[],p=0;p<o.length;p++){var S=o[p];!c[S]&&h[S]._subplot&&h[S]._subplot.destroy()}},U.toSVG=function(x){for(var c=x._fullLayout,b=c._subplots[n],h=c._size,o=0;o<b.length;o++){var p=c[b[o]],S=p.domain,A=p._subplot,E=A.toImage("png"),m=c._glimages.append("svg:image");m.attr({xmlns:v.svg,"xlink:href":E,x:h.l+h.w*S.x[0],y:h.t+h.h*(1-S.y[1]),width:h.w*(S.x[1]-S.x[0]),height:h.h*(S.y[1]-S.y[0]),preserveAspectRatio:"none"});var M=d.select(p._subplot.div),w=M.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!w){var i=c._glimages.append("g");i.attr("transform",a(h.l+h.w*S.x[0]+10,h.t+h.h*(1-S.y[0])-31)),i.append("path").attr("d",s.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),i.append("path").attr("d",s.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),i.append("path").attr("d",s.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),i.append("polygon").attr("points",s.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var C=M.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),y=c._glimages.append("g"),_=y.append("text");_.text(C).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":C});var I=t.bBox(_.node()),N=h.w*(S.x[1]-S.x[0]);if(I.width>N/2){var k=C.split("|").join("<br>");_.text(k).attr("data-unformatted",k).call(r.convertToTspans,x),I=t.bBox(_.node())}_.attr("transform",a(-3,-I.height+8)),y.insert("rect",".static-attribution").attr({x:-I.width-6,y:-I.height-3,width:I.width+6,height:I.height+3,fill:"rgba(255, 255, 255, 0.75)"});var O=1;I.width+6>N&&(O=N/(I.width+6));var z=[h.l+h.w*S.x[1],h.t+h.h*(1-S.y[0])];y.attr("transform",a(z[0],z[1])+L(O))}};function f(x,c){var b=x._fullLayout,h=x._context;if(h.mapboxAccessToken==="")return"";for(var o=[],p=[],S=!1,A=!1,E=0;E<c.length;E++){var m=b[c[E]],M=m.accesstoken;l(m.style)&&(M?P.pushUnique(o,M):(l(m._input.style)&&(P.error("Uses Mapbox map style, but did not set an access token."),S=!0),A=!0)),M&&P.pushUnique(p,M)}if(A){var w=S?s.noAccessTokenErrorMsg:s.missingStyleErrorMsg;throw P.error(w),new Error(w)}return o.length?(o.length>1&&P.warn(s.multipleTokensErrorMsg),o[0]):(p.length&&P.log(["Listed mapbox access token(s)",p.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function l(x){return typeof x=="string"&&(s.styleValuesMapbox.indexOf(x)!==-1||x.indexOf("mapbox://")===0)}U.updateFx=function(x){for(var c=x._fullLayout,b=c._subplots[n],h=0;h<b.length;h++){var o=c[b[h]]._subplot;o.updateFx(c)}}},67911:function(H,U,e){var g=e(71828),P=e(63893).sanitizeHTML,a=e(13056),L=e(77734);function T(u,n){this.subplot=u,this.uid=u.uid+"-"+n,this.index=n,this.idSource="source-"+this.uid,this.idLayer=L.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var v=T.prototype;v.update=function(n){this.visible?this.needsNewImage(n)?this.updateImage(n):this.needsNewSource(n)?(this.removeLayer(),this.updateSource(n),this.updateLayer(n)):this.needsNewLayer(n)?this.updateLayer(n):this.updateStyle(n):(this.updateSource(n),this.updateLayer(n)),this.visible=d(n)},v.needsNewImage=function(u){var n=this.subplot.map;return n.getSource(this.idSource)&&this.sourceType==="image"&&u.sourcetype==="image"&&(this.source!==u.source||JSON.stringify(this.coordinates)!==JSON.stringify(u.coordinates))},v.needsNewSource=function(u){return this.sourceType!==u.sourcetype||JSON.stringify(this.source)!==JSON.stringify(u.source)||this.layerType!==u.type},v.needsNewLayer=function(u){return this.layerType!==u.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},v.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},v.updateImage=function(u){var n=this.subplot.map;n.getSource(this.idSource).updateImage({url:u.source,coordinates:u.coordinates});var s=this.findFollowingMapboxLayerId(this.lookupBelow());s!==null&&this.subplot.map.moveLayer(this.idLayer,s)},v.updateSource=function(u){var n=this.subplot.map;if(n.getSource(this.idSource)&&n.removeSource(this.idSource),this.sourceType=u.sourcetype,this.source=u.source,!!d(u)){var s=r(u);n.addSource(this.idSource,s)}},v.findFollowingMapboxLayerId=function(u){if(u==="traces")for(var n=this.subplot.getMapLayers(),s=0;s<n.length;s++){var f=n[s].id;if(typeof f=="string"&&f.indexOf(L.traceLayerPrefix)===0){u=f;break}}return u},v.updateLayer=function(u){var n=this.subplot,s=t(u),f=this.lookupBelow(),l=this.findFollowingMapboxLayerId(f);this.removeLayer(),d(u)&&n.addLayer({id:this.idLayer,source:this.idSource,"source-layer":u.sourcelayer||"",type:u.type,minzoom:u.minzoom,maxzoom:u.maxzoom,layout:s.layout,paint:s.paint},l),this.layerType=u.type,this.below=f},v.updateStyle=function(u){if(d(u)){var n=t(u);this.subplot.setOptions(this.idLayer,"setLayoutProperty",n.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",n.paint)}},v.removeLayer=function(){var u=this.subplot.map;u.getLayer(this.idLayer)&&u.removeLayer(this.idLayer)},v.dispose=function(){var u=this.subplot.map;u.getLayer(this.idLayer)&&u.removeLayer(this.idLayer),u.getSource(this.idSource)&&u.removeSource(this.idSource)};function d(u){if(!u.visible)return!1;var n=u.source;if(Array.isArray(n)&&n.length>0){for(var s=0;s<n.length;s++)if(typeof n[s]!="string"||n[s].length===0)return!1;return!0}return g.isPlainObject(n)||typeof n=="string"&&n.length>0}function t(u){var n={},s={};switch(u.type){case"circle":g.extendFlat(s,{"circle-radius":u.circle.radius,"circle-color":u.color,"circle-opacity":u.opacity});break;case"line":g.extendFlat(s,{"line-width":u.line.width,"line-color":u.color,"line-opacity":u.opacity,"line-dasharray":u.line.dash});break;case"fill":g.extendFlat(s,{"fill-color":u.color,"fill-outline-color":u.fill.outlinecolor,"fill-opacity":u.opacity});break;case"symbol":var f=u.symbol,l=a(f.textposition,f.iconsize);g.extendFlat(n,{"icon-image":f.icon+"-15","icon-size":f.iconsize/10,"text-field":f.text,"text-size":f.textfont.size,"text-anchor":l.anchor,"text-offset":l.offset,"symbol-placement":f.placement}),g.extendFlat(s,{"icon-color":u.color,"text-color":f.textfont.color,"text-opacity":u.opacity});break;case"raster":g.extendFlat(s,{"raster-fade-duration":0,"raster-opacity":u.opacity});break}return{layout:n,paint:s}}function r(u){var n=u.sourcetype,s=u.source,f={type:n},l;return n==="geojson"?l="data":n==="vector"?l=typeof s=="string"?"url":"tiles":n==="raster"?(l="tiles",f.tileSize=256):n==="image"&&(l="url",f.coordinates=u.coordinates),f[l]=s,u.sourceattribution&&(f.attribution=P(u.sourceattribution)),f}H.exports=function(n,s,f){var l=new T(n,s);return l.update(f),l}},23585:function(H,U,e){var g=e(71828),P=e(7901).defaultLine,a=e(27670).Y,L=e(41940),T=e(82196).textposition,v=e(30962).overrideAll,d=e(44467).templatedArray,t=e(77734),r=L({});r.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var u=H.exports=v({_arrayAttrRegexps:[g.counterRegex("mapbox",".layers",!0)],domain:a({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:t.styleValuesMapbox.concat(t.styleValuesNonMapbox),dflt:t.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:d("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:P},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:P}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:r,textposition:g.extendFlat({},T,{arrayOk:!1})}})},"plot","from-root");u.uirevision={valType:"any",editType:"none"}},77882:function(H,U,e){var g=e(71828),P=e(49119),a=e(85501),L=e(23585);H.exports=function(t,r,u){P(t,r,u,{type:"mapbox",attributes:L,handleDefaults:T,partition:"y",accessToken:r._mapboxAccessToken})};function T(d,t,r,u){r("accesstoken",u.accessToken),r("style"),r("center.lon"),r("center.lat"),r("zoom"),r("bearing"),r("pitch");var n=r("bounds.west"),s=r("bounds.east"),f=r("bounds.south"),l=r("bounds.north");(n===void 0||s===void 0||f===void 0||l===void 0)&&delete t.bounds,a(d,t,{name:"layers",handleItemDefaults:v}),t._input=d}function v(d,t){function r(x,c){return g.coerce(d,t,L.layers,x,c)}var u=r("visible");if(u){var n=r("sourcetype"),s=n==="raster"||n==="image";r("source"),r("sourceattribution"),n==="vector"&&r("sourcelayer"),n==="image"&&r("coordinates");var f;s&&(f="raster");var l=r("type",f);s&&l!=="raster"&&(l=t.type="raster",g.log("Source types *raster* and *image* must drawn *raster* layer type.")),r("below"),r("color"),r("opacity"),r("minzoom"),r("maxzoom"),l==="circle"&&r("circle.radius"),l==="line"&&(r("line.width"),r("line.dash")),l==="fill"&&r("fill.outlinecolor"),l==="symbol"&&(r("symbol.icon"),r("symbol.iconsize"),r("symbol.text"),g.coerceFont(r,"symbol.textfont"),r("symbol.textposition"),r("symbol.placement"))}}},10481:function(H,U,e){var g=e(44517),P=e(71828),a=e(41327),L=e(73972),T=e(89298),v=e(28569),d=e(30211),t=e(64505),r=t.drawMode,u=t.selectMode,n=e(47322).prepSelect,s=e(47322).clearOutline,f=e(47322).clearSelectionsCache,l=e(47322).selectOnClick,x=e(77734),c=e(67911);function b(E,m){this.id=m,this.gd=E;var M=E._fullLayout,w=E._context;this.container=M._glcontainer.node(),this.isStatic=w.staticPlot,this.uid=M._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(M),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var h=b.prototype;h.plot=function(E,m,M){var w=this,i=m[w.id];w.map&&i.accesstoken!==w.accessToken&&(w.map.remove(),w.map=null,w.styleObj=null,w.traceHash={},w.layerList=[]);var C;w.map?C=new Promise(function(y,_){w.updateMap(E,m,y,_)}):C=new Promise(function(y,_){w.createMap(E,m,y,_)}),M.push(C)},h.createMap=function(E,m,M,w){var i=this,C=m[i.id],y=i.styleObj=p(C.style);i.accessToken=C.accesstoken;var _=C.bounds,I=_?[[_.west,_.south],[_.east,_.north]]:null,N=i.map=new g.Map({container:i.div,style:y.style,center:A(C.center),zoom:C.zoom,bearing:C.bearing,pitch:C.pitch,maxBounds:I,interactive:!i.isStatic,preserveDrawingBuffer:i.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new g.AttributionControl({compact:!0}));N._canvas.style.left="0px",N._canvas.style.top="0px",i.rejectOnError(w),i.isStatic||i.initFx(E,m);var k=[];k.push(new Promise(function(O){N.once("load",O)})),k=k.concat(a.fetchTraceGeoData(E)),Promise.all(k).then(function(){i.fillBelowLookup(E,m),i.updateData(E),i.updateLayout(m),i.resolveOnRender(M)}).catch(w)},h.updateMap=function(E,m,M,w){var i=this,C=i.map,y=m[this.id];i.rejectOnError(w);var _=[],I=p(y.style);JSON.stringify(i.styleObj)!==JSON.stringify(I)&&(i.styleObj=I,C.setStyle(I.style),i.traceHash={},_.push(new Promise(function(N){C.once("styledata",N)}))),_=_.concat(a.fetchTraceGeoData(E)),Promise.all(_).then(function(){i.fillBelowLookup(E,m),i.updateData(E),i.updateLayout(m),i.resolveOnRender(M)}).catch(w)},h.fillBelowLookup=function(E,m){var M=m[this.id],w=M.layers,i,C,y=this.belowLookup={},_=!1;for(i=0;i<E.length;i++){var I=E[i][0].trace,N=I._module;typeof I.below=="string"?C=I.below:N.getBelow&&(C=N.getBelow(I,this)),C===""&&(_=!0),y["trace-"+I.uid]=C||""}for(i=0;i<w.length;i++){var k=w[i];typeof k.below=="string"?C=k.below:_?C="traces":C="",y["layout-"+i]=C}var O={},z,F;for(z in y)C=y[z],O[C]?O[C].push(z):O[C]=[z];for(C in O){var B=O[C];if(B.length>1)for(i=0;i<B.length;i++)z=B[i],z.indexOf("trace-")===0?(F=z.split("trace-")[1],this.traceHash[F]&&(this.traceHash[F].below=null)):z.indexOf("layout-")===0&&(F=z.split("layout-")[1],this.layerList[F]&&(this.layerList[F].below=null))}};var o={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};h.updateData=function(E){var m=this.traceHash,M,w,i,C,y=E.slice().sort(function(O,z){return o[O[0].trace.type]-o[z[0].trace.type]});for(i=0;i<y.length;i++){var _=y[i];w=_[0].trace,M=m[w.uid];var I=!1;M&&(M.type===w.type?(M.update(_),I=!0):M.dispose()),!I&&w._module&&(m[w.uid]=w._module.plot(this,_))}var N=Object.keys(m);e:for(i=0;i<N.length;i++){var k=N[i];for(C=0;C<E.length;C++)if(w=E[C][0].trace,k===w.uid)continue e;M=m[k],M.dispose(),delete m[k]}},h.updateLayout=function(E){var m=this.map,M=E[this.id];!this.dragging&&!this.wheeling&&(m.setCenter(A(M.center)),m.setZoom(M.zoom),m.setBearing(M.bearing),m.setPitch(M.pitch)),this.updateLayers(E),this.updateFramework(E),this.updateFx(E),this.map.resize(),this.gd._context._scrollZoom.mapbox?m.scrollZoom.enable():m.scrollZoom.disable()},h.resolveOnRender=function(E){var m=this.map;m.on("render",function M(){m.loaded()&&(m.off("render",M),setTimeout(E,10))})},h.rejectOnError=function(E){var m=this.map;function M(){E(new Error(x.mapOnErrorMsg))}m.once("error",M),m.once("style.error",M),m.once("source.error",M),m.once("tile.error",M),m.once("layer.error",M)},h.createFramework=function(E){var m=this,M=m.div=document.createElement("div");M.id=m.uid,M.style.position="absolute",m.container.appendChild(M),m.xaxis={_id:"x",c2p:function(w){return m.project(w).x}},m.yaxis={_id:"y",c2p:function(w){return m.project(w).y}},m.updateFramework(E),m.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},T.setConvert(m.mockAxis,E)},h.initFx=function(E,m){var M=this,w=M.gd,i=M.map;i.on("moveend",function(_){if(M.map){var I=w._fullLayout;if(_.originalEvent||M.wheeling){var N=I[M.id];L.call("_storeDirectGUIEdit",w.layout,I._preGUI,M.getViewEdits(N));var k=M.getView();N._input.center=N.center=k.center,N._input.zoom=N.zoom=k.zoom,N._input.bearing=N.bearing=k.bearing,N._input.pitch=N.pitch=k.pitch,w.emit("plotly_relayout",M.getViewEditsWithDerived(k))}_.originalEvent&&_.originalEvent.type==="mouseup"?M.dragging=!1:M.wheeling&&(M.wheeling=!1),I._rehover&&I._rehover()}}),i.on("wheel",function(){M.wheeling=!0}),i.on("mousemove",function(_){var I=M.div.getBoundingClientRect(),N=[_.originalEvent.offsetX,_.originalEvent.offsetY];_.target.getBoundingClientRect=function(){return I},M.xaxis.p2c=function(){return i.unproject(N).lng},M.yaxis.p2c=function(){return i.unproject(N).lat},w._fullLayout._rehover=function(){w._fullLayout._hoversubplot===M.id&&w._fullLayout[M.id]&&d.hover(w,_,M.id)},d.hover(w,_,M.id),w._fullLayout._hoversubplot=M.id});function C(){d.loneUnhover(m._hoverlayer)}i.on("dragstart",function(){M.dragging=!0,C()}),i.on("zoomstart",C),i.on("mouseout",function(){w._fullLayout._hoversubplot=null});function y(){var _=M.getView();w.emit("plotly_relayouting",M.getViewEditsWithDerived(_))}i.on("drag",y),i.on("zoom",y),i.on("dblclick",function(){var _=w._fullLayout[M.id];L.call("_storeDirectGUIEdit",w.layout,w._fullLayout._preGUI,M.getViewEdits(_));var I=M.viewInitial;i.setCenter(A(I.center)),i.setZoom(I.zoom),i.setBearing(I.bearing),i.setPitch(I.pitch);var N=M.getView();_._input.center=_.center=N.center,_._input.zoom=_.zoom=N.zoom,_._input.bearing=_.bearing=N.bearing,_._input.pitch=_.pitch=N.pitch,w.emit("plotly_doubleclick",null),w.emit("plotly_relayout",M.getViewEditsWithDerived(N))}),M.clearOutline=function(){f(M.dragOptions),s(M.dragOptions.gd)},M.onClickInPanFn=function(_){return function(I){var N=w._fullLayout.clickmode;N.indexOf("select")>-1&&l(I.originalEvent,w,[M.xaxis],[M.yaxis],M.id,_),N.indexOf("event")>-1&&d.click(w,I.originalEvent)}}},h.updateFx=function(E){var m=this,M=m.map,w=m.gd;if(m.isStatic)return;function i(I){var N=m.map.unproject(I);return[N.lng,N.lat]}var C=E.dragmode,y;y=function(I,N){if(N.isRect){var k=I.range={};k[m.id]=[i([N.xmin,N.ymin]),i([N.xmax,N.ymax])]}else{var O=I.lassoPoints={};O[m.id]=N.map(i)}};var _=m.dragOptions;m.dragOptions=P.extendDeep(_||{},{dragmode:E.dragmode,element:m.div,gd:w,plotinfo:{id:m.id,domain:E[m.id].domain,xaxis:m.xaxis,yaxis:m.yaxis,fillRangeItems:y},xaxes:[m.xaxis],yaxes:[m.yaxis],subplot:m.id}),M.off("click",m.onClickInPanHandler),u(C)||r(C)?(M.dragPan.disable(),M.on("zoomstart",m.clearOutline),m.dragOptions.prepFn=function(I,N,k){n(I,N,k,m.dragOptions,C)},v.init(m.dragOptions)):(M.dragPan.enable(),M.off("zoomstart",m.clearOutline),m.div.onmousedown=null,m.div.ontouchstart=null,m.div.removeEventListener("touchstart",m.div._ontouchstart),m.onClickInPanHandler=m.onClickInPanFn(m.dragOptions),M.on("click",m.onClickInPanHandler))},h.updateFramework=function(E){var m=E[this.id].domain,M=E._size,w=this.div.style;w.width=M.w*(m.x[1]-m.x[0])+"px",w.height=M.h*(m.y[1]-m.y[0])+"px",w.left=M.l+m.x[0]*M.w+"px",w.top=M.t+(1-m.y[1])*M.h+"px",this.xaxis._offset=M.l+m.x[0]*M.w,this.xaxis._length=M.w*(m.x[1]-m.x[0]),this.yaxis._offset=M.t+(1-m.y[1])*M.h,this.yaxis._length=M.h*(m.y[1]-m.y[0])},h.updateLayers=function(E){var m=E[this.id],M=m.layers,w=this.layerList,i;if(M.length!==w.length){for(i=0;i<w.length;i++)w[i].dispose();for(w=this.layerList=[],i=0;i<M.length;i++)w.push(c(this,i,M[i]))}else for(i=0;i<M.length;i++)w[i].update(M[i])},h.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},h.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},h.setOptions=function(E,m,M){for(var w in M)this.map[m](E,w,M[w])},h.getMapLayers=function(){return this.map.getStyle().layers},h.addLayer=function(E,m){var M=this.map;if(typeof m=="string"){if(m===""){M.addLayer(E,m);return}for(var w=this.getMapLayers(),i=0;i<w.length;i++)if(m===w[i].id){M.addLayer(E,m);return}P.warn(["Trying to add layer with *below* value",m,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}M.addLayer(E)},h.project=function(E){return this.map.project(new g.LngLat(E[0],E[1]))},h.getView=function(){var E=this.map,m=E.getCenter(),M=m.lng,w=m.lat,i={lon:M,lat:w},C=E.getCanvas(),y=parseInt(C.style.width),_=parseInt(C.style.height);return{center:i,zoom:E.getZoom(),bearing:E.getBearing(),pitch:E.getPitch(),_derived:{coordinates:[E.unproject([0,0]).toArray(),E.unproject([y,0]).toArray(),E.unproject([y,_]).toArray(),E.unproject([0,_]).toArray()]}}},h.getViewEdits=function(E){for(var m=this.id,M=["center","zoom","bearing","pitch"],w={},i=0;i<M.length;i++){var C=M[i];w[m+"."+C]=E[C]}return w},h.getViewEditsWithDerived=function(E){var m=this.id,M=this.getViewEdits(E);return M[m+"._derived"]=E._derived,M};function p(E){var m={};return P.isPlainObject(E)?(m.id=E.id,m.style=E):typeof E=="string"?(m.id=E,x.styleValuesMapbox.indexOf(E)!==-1?m.style=S(E):x.stylesNonMapbox[E]?m.style=x.stylesNonMapbox[E]:m.style=E):(m.id=x.styleValueDflt,m.style=S(x.styleValueDflt)),m.transition={duration:0,delay:0},m}function S(E){return x.styleUrlPrefix+E+"-"+x.styleUrlSuffix}function A(E){return[E.lon,E.lat]}H.exports=b},35025:function(H){H.exports=function(U){var e=U.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},74875:function(H,U,e){var g=e(39898),P=e(84096).Dq,a=e(60721).FF,L=e(92770),T=e(73972),v=e(86281),d=e(44467),t=e(71828),r=e(7901),u=e(50606).BADNUM,n=e(41675),s=e(51873).clearOutline,f=e(21479),l=e(85594),x=e(31391),c=e(27659).a0,b=t.relinkPrivateKeys,h=t._,o=H.exports={};t.extendFlat(o,T),o.attributes=e(9012),o.attributes.type.values=o.allTypes,o.fontAttrs=e(41940),o.layoutAttributes=e(10820),o.fontWeight="normal";var p=o.transformsRegistry,S=e(31137);o.executeAPICommand=S.executeAPICommand,o.computeAPICommandBindings=S.computeAPICommandBindings,o.manageCommandObserver=S.manageCommandObserver,o.hasSimpleAPICommandBindings=S.hasSimpleAPICommandBindings,o.redrawText=function(Z){return Z=t.getGraphDiv(Z),new Promise(function(X){setTimeout(function(){Z._fullLayout&&(T.getComponentMethod("annotations","draw")(Z),T.getComponentMethod("legend","draw")(Z),T.getComponentMethod("colorbar","draw")(Z),X(o.previousPromises(Z)))},300)})},o.resize=function(Z){Z=t.getGraphDiv(Z);var X,$=new Promise(function(ie,J){(!Z||t.isHidden(Z))&&J(new Error("Resize must be passed a displayed plot div element.")),Z._redrawTimer&&clearTimeout(Z._redrawTimer),Z._resolveResize&&(X=Z._resolveResize),Z._resolveResize=ie,Z._redrawTimer=setTimeout(function(){if(!Z.layout||Z.layout.width&&Z.layout.height||t.isHidden(Z)){ie(Z);return}delete Z.layout.width,delete Z.layout.height;var j=Z.changed;Z.autoplay=!0,T.call("relayout",Z,{autosize:!0}).then(function(){Z.changed=j,Z._resolveResize===ie&&(delete Z._resolveResize,ie(Z))})},100)});return X&&X($),$},o.previousPromises=function(Z){if((Z._promises||[]).length)return Promise.all(Z._promises).then(function(){Z._promises=[]})},o.addLinks=function(Z){if(!(!Z._context.showLink&&!Z._context.showSources)){var X=Z._fullLayout,$=t.ensureSingle(X._paper,"text","js-plot-link-container",function(ue){ue.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:r.defaultLine,"pointer-events":"all"}).each(function(){var ge=g.select(this);ge.append("tspan").classed("js-link-to-tool",!0),ge.append("tspan").classed("js-link-spacer",!0),ge.append("tspan").classed("js-sourcelinks",!0)})}),ie=$.node(),J={y:X._paper.attr("height")-9};document.body.contains(ie)&&ie.getComputedTextLength()>=X.width-20?(J["text-anchor"]="start",J.x=5):(J["text-anchor"]="end",J.x=X._paper.attr("width")-7),$.attr(J);var j=$.select(".js-link-to-tool"),se=$.select(".js-link-spacer"),ne=$.select(".js-sourcelinks");Z._context.showSources&&Z._context.showSources(Z),Z._context.showLink&&A(Z,j),se.text(j.text()&&ne.text()?" - ":"")}};function A(Z,X){X.text("");var $=X.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(Z._context.linkText+" "+String.fromCharCode(187));if(Z._context.sendData)$.on("click",function(){o.sendDataToCloud(Z)});else{var ie=window.location.pathname.split("/"),J=window.location.search;$.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+ie[2].split(".")[0]+"/"+ie[1]+J})}}o.sendDataToCloud=function(Z){var X=(window.PLOTLYENV||{}).BASE_URL||Z._context.plotlyServerURL;if(X){Z.emit("plotly_beforeexport");var $=g.select(Z).append("div").attr("id","hiddenform").style("display","none"),ie=$.append("form").attr({action:X+"/external",method:"post",target:"_blank"}),J=ie.append("input").attr({type:"text",name:"data"});return J.node().value=o.graphJson(Z,!1,"keepdata"),ie.node().submit(),$.remove(),Z.emit("plotly_afterexport"),!1}};var E=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],m=["year","month","dayMonth","dayMonthYear"];o.supplyDefaults=function(Z,X){var $=X&&X.skipUpdateCalc,ie=Z._fullLayout||{};if(ie._skipDefaults){delete ie._skipDefaults;return}var J=Z._fullLayout={},j=Z.layout||{},se=Z._fullData||[],ne=Z._fullData=[],ue=Z.data||[],ge=Z.calcdata||[],we=Z._context||{},xe;Z._transitionData||o.createTransitionData(Z),J._dfltTitle={plot:h(Z,"Click to enter Plot title"),x:h(Z,"Click to enter X axis title"),y:h(Z,"Click to enter Y axis title"),colorbar:h(Z,"Click to enter Colorscale title"),annotation:h(Z,"new text")},J._traceWord=h(Z,"trace");var Fe=i(Z,E);if(J._mapboxAccessToken=we.mapboxAccessToken,ie._initialAutoSizeIsDone){var ze=ie.width,Te=ie.height;o.supplyLayoutGlobalDefaults(j,J,Fe),j.width||(J.width=ze),j.height||(J.height=Te),o.sanitizeMargins(J)}else{o.supplyLayoutGlobalDefaults(j,J,Fe);var ye=!j.width||!j.height,Ae=J.autosize,Ne=we.autosizable,Ue=ye&&(Ae||Ne);Ue?o.plotAutoSize(Z,j,J):ye&&o.sanitizeMargins(J),!Ae&&ye&&(j.width=J.width,j.height=J.height)}J._d3locale=C(Fe,J.separators),J._extraFormat=i(Z,m),J._initialAutoSizeIsDone=!0,J._dataLength=ue.length,J._modules=[],J._visibleModules=[],J._basePlotModules=[];var Re=J._subplots=w(),Ve=J._splomAxes={x:{},y:{}},rt=J._splomSubplots={};J._splomGridDflt={},J._scatterStackOpts={},J._firstScatter={},J._alignmentOpts={},J._colorAxes={},J._requestRangeslider={},J._traceUids=M(se,ue),J._globalTransforms=(Z._context||{}).globalTransforms,o.supplyDataDefaults(ue,ne,j,J);var Qe=Object.keys(Ve.x),Je=Object.keys(Ve.y);if(Qe.length>1&&Je.length>1){for(T.getComponentMethod("grid","sizeDefaults")(j,J),xe=0;xe<Qe.length;xe++)t.pushUnique(Re.xaxis,Qe[xe]);for(xe=0;xe<Je.length;xe++)t.pushUnique(Re.yaxis,Je[xe]);for(var qe in rt)t.pushUnique(Re.cartesian,qe)}if(J._has=o._hasPlotType.bind(J),se.length===ne.length)for(xe=0;xe<ne.length;xe++)b(ne[xe],se[xe]);o.supplyLayoutModuleDefaults(j,J,ne,Z._transitionData);var dt=J._visibleModules,pt=[];for(xe=0;xe<dt.length;xe++){var mt=dt[xe].crossTraceDefaults;mt&&t.pushUnique(pt,mt)}for(xe=0;xe<pt.length;xe++)pt[xe](ne,J);J._hasOnlyLargeSploms=J._basePlotModules.length===1&&J._basePlotModules[0].name==="splom"&&Qe.length>15&&Je.length>15&&J.shapes.length===0&&J.images.length===0,o.linkSubplots(ne,J,se,ie),o.cleanPlot(ne,J,se,ie);var Ct=!!(ie._has&&ie._has("gl2d")),Rt=!!(J._has&&J._has("gl2d")),Zt=!!(ie._has&&ie._has("cartesian")),Xe=!!(J._has&&J._has("cartesian")),Le=Zt||Ct,Pe=Xe||Rt;Le&&!Pe?ie._bgLayer.remove():Pe&&!Le&&(J._shouldCreateBgLayer=!0),ie._zoomlayer&&!Z._dragging&&s({_fullLayout:ie}),y(ne,J),b(J,ie),T.getComponentMethod("colorscale","crossTraceDefaults")(ne,J),J._preGUI||(J._preGUI={}),J._tracePreGUI||(J._tracePreGUI={});var ke=J._tracePreGUI,Ce={},me;for(me in ke)Ce[me]="old";for(xe=0;xe<ne.length;xe++)me=ne[xe]._fullInput.uid,Ce[me]||(ke[me]={}),Ce[me]="new";for(me in Ce)Ce[me]==="old"&&delete ke[me];O(J),T.getComponentMethod("rangeslider","makeData")(J),!$&&ge.length===ne.length&&o.supplyDefaultsUpdateCalc(ge,ne)},o.supplyDefaultsUpdateCalc=function(Z,X){for(var $=0;$<X.length;$++){var ie=X[$],J=(Z[$]||[])[0];if(J&&J.trace){var j=J.trace;if(j._hasCalcTransform){var se=j._arrayAttrs,ne,ue,ge;for(ne=0;ne<se.length;ne++)ue=se[ne],ge=t.nestedProperty(j,ue).get().slice(),t.nestedProperty(ie,ue).set(ge)}J.trace=ie}}};function M(Z,X){var $=X.length,ie=[],J,j;for(J=0;J<Z.length;J++){var se=Z[J]._fullInput;se!==j&&ie.push(se),j=se}var ne=ie.length,ue=new Array($),ge={};function we(ze,Te){ue[Te]=ze,ge[ze]=1}function xe(ze,Te){if(ze&&typeof ze=="string"&&!ge[ze])return we(ze,Te),!0}for(J=0;J<$;J++){var Fe=X[J].uid;typeof Fe=="number"&&(Fe=String(Fe)),!xe(Fe,J)&&(J<ne&&xe(ie[J].uid,J)||we(t.randstr(ge),J))}return ue}function w(){var Z=T.collectableSubplotTypes,X={},$,ie;if(!Z){Z=[];var J=T.subplotsRegistry;for(var j in J){var se=J[j],ne=se.attr;if(ne&&(Z.push(j),Array.isArray(ne)))for(ie=0;ie<ne.length;ie++)t.pushUnique(Z,ne[ie])}}for($=0;$<Z.length;$++)X[Z[$]]=[];return X}function i(Z,X){var $=Z._context.locale;$||($="en-US");var ie=!1,J={};function j(xe){for(var Fe=!0,ze=0;ze<X.length;ze++){var Te=X[ze];J[Te]||(xe[Te]?J[Te]=xe[Te]:Fe=!1)}Fe&&(ie=!0)}for(var se=0;se<2;se++){for(var ne=Z._context.locales,ue=0;ue<2;ue++){var ge=(ne[$]||{}).format;if(ge&&(j(ge),ie))break;ne=T.localeRegistry}var we=$.split("-")[0];if(ie||we===$)break;$=we}return ie||j(T.localeRegistry.en.format),J}function C(Z,X){return Z.decimal=X.charAt(0),Z.thousands=X.charAt(1),{numberFormat:function($){try{$=a(Z).format(t.adjustFormat($))}catch{return t.warnBadFormat($),t.noFormat}return $},timeFormat:P(Z).utcFormat}}function y(Z,X){var $,ie=[];X.meta&&($=X._meta={meta:X.meta,layout:{meta:X.meta}});for(var J=0;J<Z.length;J++){var j=Z[J];j.meta?ie[j.index]=j._meta={meta:j.meta}:X.meta&&(j._meta={meta:X.meta}),X.meta&&(j._meta.layout={meta:X.meta})}ie.length&&($||($=X._meta={}),$.data=ie)}o.createTransitionData=function(Z){Z._transitionData||(Z._transitionData={}),Z._transitionData._frames||(Z._transitionData._frames=[]),Z._transitionData._frameHash||(Z._transitionData._frameHash={}),Z._transitionData._counter||(Z._transitionData._counter=0),Z._transitionData._interruptCallbacks||(Z._transitionData._interruptCallbacks=[])},o._hasPlotType=function(Z){var X,$=this._basePlotModules||[];for(X=0;X<$.length;X++)if($[X].name===Z)return!0;var ie=this._modules||[];for(X=0;X<ie.length;X++){var J=ie[X].name;if(J===Z)return!0;var j=T.modules[J];if(j&&j.categories[Z])return!0}return!1},o.cleanPlot=function(Z,X,$,ie){var J,j,se=ie._basePlotModules||[];for(J=0;J<se.length;J++){var ne=se[J];ne.clean&&ne.clean(Z,X,$,ie)}var ue=ie._has&&ie._has("gl"),ge=X._has&&X._has("gl");ue&&!ge&&ie._glcontainer!==void 0&&(ie._glcontainer.selectAll(".gl-canvas").remove(),ie._glcontainer.selectAll(".no-webgl").remove(),ie._glcanvas=null);var we=!!ie._infolayer;e:for(J=0;J<$.length;J++){var xe=$[J],Fe=xe.uid;for(j=0;j<Z.length;j++){var ze=Z[j];if(Fe===ze.uid)continue e}we&&ie._infolayer.select(".cb"+Fe).remove()}},o.linkSubplots=function(Z,X,$,ie){var J,j,se=ie._plots||{},ne=X._plots={},ue=X._subplots,ge={_fullData:Z,_fullLayout:X},we=ue.cartesian.concat(ue.gl2d||[]);for(J=0;J<we.length;J++){var xe=we[J],Fe=se[xe],ze=n.getFromId(ge,xe,"x"),Te=n.getFromId(ge,xe,"y"),ye;for(Fe?ye=ne[xe]=Fe:(ye=ne[xe]={},ye.id=xe),ze._counterAxes.push(Te._id),Te._counterAxes.push(ze._id),ze._subplotsWith.push(xe),Te._subplotsWith.push(xe),ye.xaxis=ze,ye.yaxis=Te,ye._hasClipOnAxisFalse=!1,j=0;j<Z.length;j++){var Ae=Z[j];if(Ae.xaxis===ye.xaxis._id&&Ae.yaxis===ye.yaxis._id&&Ae.cliponaxis===!1){ye._hasClipOnAxisFalse=!0;break}}}var Ne=n.list(ge,null,!0),Ue;for(J=0;J<Ne.length;J++){Ue=Ne[J];var Re=null;Ue.overlaying&&(Re=n.getFromId(ge,Ue.overlaying),Re&&Re.overlaying&&(Ue.overlaying=!1,Re=null)),Ue._mainAxis=Re||Ue,Re&&(Ue.domain=Re.domain.slice()),Ue._anchorAxis=Ue.anchor==="free"?null:n.getFromId(ge,Ue.anchor)}for(J=0;J<Ne.length;J++)if(Ue=Ne[J],Ue._counterAxes.sort(n.idSort),Ue._subplotsWith.sort(t.subplotSort),Ue._mainSubplot=_(Ue,X),Ue._counterAxes.length&&(Ue.spikemode&&Ue.spikemode.indexOf("across")!==-1||Ue.automargin&&Ue.mirror&&Ue.anchor!=="free"||T.getComponentMethod("rangeslider","isVisible")(Ue))){var Ve=1,rt=0;for(j=0;j<Ue._counterAxes.length;j++){var Qe=n.getFromId(ge,Ue._counterAxes[j]);Ve=Math.min(Ve,Qe.domain[0]),rt=Math.max(rt,Qe.domain[1])}Ve<rt&&(Ue._counterDomainMin=Ve,Ue._counterDomainMax=rt)}};function _(Z,X){var $={_fullLayout:X},ie=Z._id.charAt(0)==="x",J=Z._mainAxis._anchorAxis,j="",se="",ne="";if(J&&(ne=J._mainAxis._id,j=ie?Z._id+ne:ne+Z._id),!j||!X._plots[j]){j="";for(var ue=Z._counterAxes,ge=0;ge<ue.length;ge++){var we=ue[ge],xe=ie?Z._id+we:we+Z._id;se||(se=xe);var Fe=n.getFromId($,we);if(ne&&Fe.overlaying===ne){j=xe;break}}}return j||se}o.clearExpandedTraceDefaultColors=function(Z){var X,$,ie;function J(se,ne,ue,ge){$[ge]=ne,$.length=ge+1,se.valType==="color"&&se.dflt===void 0&&X.push($.join("."))}for($=[],X=Z._module._colorAttrs,X||(Z._module._colorAttrs=X=[],v.crawl(Z._module.attributes,J)),ie=0;ie<X.length;ie++){var j=t.nestedProperty(Z,"_input."+X[ie]);j.get()||t.nestedProperty(Z,X[ie]).set(null)}},o.supplyDataDefaults=function(Z,X,$,ie){var J=ie._modules,j=ie._visibleModules,se=ie._basePlotModules,ne=0,ue=0,ge,we,xe;ie._transformModules=[];function Fe(Je){X.push(Je);var qe=Je._module;qe&&(t.pushUnique(J,qe),Je.visible===!0&&t.pushUnique(j,qe),t.pushUnique(se,Je._module.basePlotModule),ne++,Je._input.visible!==!1&&ue++)}var ze={},Te=[],ye=($.template||{}).data||{},Ae=d.traceTemplater(ye);for(ge=0;ge<Z.length;ge++){if(xe=Z[ge],we=Ae.newTrace(xe),we.uid=ie._traceUids[ge],o.supplyTraceDefaults(xe,we,ue,ie,ge),we.index=ge,we._input=xe,we._expandedIndex=ne,we.transforms&&we.transforms.length)for(var Ne=xe.visible!==!1&&we.visible===!1,Ue=N(we,X,$,ie),Re=0;Re<Ue.length;Re++){var Ve=Ue[Re],rt={_template:we._template,type:we.type,uid:we.uid+Re};Ne&&Ve.visible===!1&&delete Ve.visible,o.supplyTraceDefaults(Ve,rt,ne,ie,ge),b(rt,Ve),rt.index=ge,rt._input=xe,rt._fullInput=we,rt._expandedIndex=ne,rt._expandedInput=Ve,Fe(rt)}else we._fullInput=we,we._expandedInput=we,Fe(we);T.traceIs(we,"carpetAxis")&&(ze[we.carpet]=we),T.traceIs(we,"carpetDependent")&&Te.push(ge)}for(ge=0;ge<Te.length;ge++)if(we=X[Te[ge]],!!we.visible){var Qe=ze[we.carpet];if(we._carpet=Qe,!Qe||!Qe.visible){we.visible=!1;continue}we.xaxis=Qe.xaxis,we.yaxis=Qe.yaxis}},o.supplyAnimationDefaults=function(Z){Z=Z||{};var X,$={};function ie(J,j){return t.coerce(Z||{},$,l,J,j)}if(ie("mode"),ie("direction"),ie("fromcurrent"),Array.isArray(Z.frame))for($.frame=[],X=0;X<Z.frame.length;X++)$.frame[X]=o.supplyAnimationFrameDefaults(Z.frame[X]||{});else $.frame=o.supplyAnimationFrameDefaults(Z.frame||{});if(Array.isArray(Z.transition))for($.transition=[],X=0;X<Z.transition.length;X++)$.transition[X]=o.supplyAnimationTransitionDefaults(Z.transition[X]||{});else $.transition=o.supplyAnimationTransitionDefaults(Z.transition||{});return $},o.supplyAnimationFrameDefaults=function(Z){var X={};function $(ie,J){return t.coerce(Z||{},X,l.frame,ie,J)}return $("duration"),$("redraw"),X},o.supplyAnimationTransitionDefaults=function(Z){var X={};function $(ie,J){return t.coerce(Z||{},X,l.transition,ie,J)}return $("duration"),$("easing"),X},o.supplyFrameDefaults=function(Z){var X={};function $(ie,J){return t.coerce(Z,X,x,ie,J)}return $("group"),$("name"),$("traces"),$("baseframe"),$("data"),$("layout"),X},o.supplyTraceDefaults=function(Z,X,$,ie,J){var j=ie.colorway||r.defaults,se=j[$%j.length],ne;function ue(Ue,Re){return t.coerce(Z,X,o.attributes,Ue,Re)}var ge=ue("visible");ue("type"),ue("name",ie._traceWord+" "+J),ue("uirevision",ie.uirevision);var we=o.getModule(X);if(X._module=we,we){var xe=we.basePlotModule,Fe=xe.attr,ze=xe.attributes;if(Fe&&ze){var Te=ie._subplots,ye="";if(ge||xe.name!=="gl2d"){if(Array.isArray(Fe))for(ne=0;ne<Fe.length;ne++){var Ae=Fe[ne],Ne=t.coerce(Z,X,ze,Ae);Te[Ae]&&t.pushUnique(Te[Ae],Ne),ye+=Ne}else ye=t.coerce(Z,X,ze,Fe);Te[xe.name]&&t.pushUnique(Te[xe.name],ye)}}}return ge&&(ue("customdata"),ue("ids"),ue("meta"),T.traceIs(X,"showLegend")?(t.coerce(Z,X,we.attributes.showlegend?we.attributes:o.attributes,"showlegend"),ue("legend"),ue("legendwidth"),ue("legendgroup"),ue("legendgrouptitle.text"),ue("legendrank"),X._dfltShowLegend=!0):X._dfltShowLegend=!1,we&&we.supplyDefaults(Z,X,se,ie),T.traceIs(X,"noOpacity")||ue("opacity"),T.traceIs(X,"notLegendIsolatable")&&(X.visible=!!X.visible),T.traceIs(X,"noHover")||(X.hovertemplate||t.coerceHoverinfo(Z,X,ie),X.type!=="parcats"&&T.getComponentMethod("fx","supplyDefaults")(Z,X,se,ie)),we&&we.selectPoints&&ue("selectedpoints"),o.supplyTransformDefaults(Z,X,ie)),X};function I(Z){var X=Z.transforms;if(Array.isArray(X)&&X.length)for(var $=0;$<X.length;$++){var ie=X[$],J=ie._module||p[ie.type];if(J&&J.makesData)return!0}return!1}o.hasMakesDataTransform=I,o.supplyTransformDefaults=function(Z,X,$){if(X._length||I(Z)){var ie=$._globalTransforms||[],J=$._transformModules||[];if(!(!Array.isArray(Z.transforms)&&ie.length===0))for(var j=Z.transforms||[],se=ie.concat(j),ne=X.transforms=[],ue=0;ue<se.length;ue++){var ge=se[ue],we=ge.type,xe=p[we],Fe,ze=!(ge._module&&ge._module===xe),Te=xe&&typeof xe.transform=="function";xe||t.warn("Unrecognized transform type "+we+"."),xe&&xe.supplyDefaults&&(ze||Te)?(Fe=xe.supplyDefaults(ge,X,$,Z),Fe.type=we,Fe._module=xe,t.pushUnique(J,xe)):Fe=t.extendFlat({},ge),ne.push(Fe)}}};function N(Z,X,$,ie){for(var J=Z.transforms,j=[Z],se=0;se<J.length;se++){var ne=J[se],ue=p[ne.type];ue&&ue.transform&&(j=ue.transform(j,{transform:ne,fullTrace:Z,fullData:X,layout:$,fullLayout:ie,transformIndex:se}))}return j}o.supplyLayoutGlobalDefaults=function(Z,X,$){function ie(xe,Fe){return t.coerce(Z,X,o.layoutAttributes,xe,Fe)}var J=Z.template;t.isPlainObject(J)&&(X.template=J,X._template=J.layout,X._dataTemplate=J.data),ie("autotypenumbers");var j=t.coerceFont(ie,"font"),se=j.size;t.coerceFont(ie,"title.font",t.extendFlat({},j,{size:Math.round(se*1.4)})),ie("title.text",X._dfltTitle.plot),ie("title.xref");var ne=ie("title.yref");ie("title.pad.t"),ie("title.pad.r"),ie("title.pad.b"),ie("title.pad.l");var ue=ie("title.automargin");ie("title.x"),ie("title.xanchor"),ie("title.y"),ie("title.yanchor"),ue&&(ne==="paper"&&(X.title.y!==0&&(X.title.y=1),X.title.yanchor==="auto"&&(X.title.yanchor=X.title.y===0?"top":"bottom")),ne==="container"&&(X.title.y==="auto"&&(X.title.y=1),X.title.yanchor==="auto"&&(X.title.yanchor=X.title.y<.5?"bottom":"top")));var ge=ie("uniformtext.mode");ge&&ie("uniformtext.minsize"),ie("autosize",!(Z.width&&Z.height)),ie("width"),ie("height"),ie("minreducedwidth"),ie("minreducedheight"),ie("margin.l"),ie("margin.r"),ie("margin.t"),ie("margin.b"),ie("margin.pad"),ie("margin.autoexpand"),Z.width&&Z.height&&o.sanitizeMargins(X),T.getComponentMethod("grid","sizeDefaults")(Z,X),ie("paper_bgcolor"),ie("separators",$.decimal+$.thousands),ie("hidesources"),ie("colorway"),ie("datarevision");var we=ie("uirevision");ie("editrevision",we),ie("selectionrevision",we),T.getComponentMethod("modebar","supplyLayoutDefaults")(Z,X),T.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(Z,X,ie),T.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(Z,X,ie),ie("meta"),t.isPlainObject(Z.transition)&&(ie("transition.duration"),ie("transition.easing"),ie("transition.ordering")),T.getComponentMethod("calendars","handleDefaults")(Z,X,"calendar"),T.getComponentMethod("fx","supplyLayoutGlobalDefaults")(Z,X,ie),t.coerce(Z,X,f,"scattermode")};function k(Z){return typeof Z=="string"&&Z.substr(Z.length-2)==="px"&&parseFloat(Z)}o.plotAutoSize=function(X,$,ie){var J=X._context||{},j=J.frameMargins,se,ne,ue=t.isPlotDiv(X);if(ue&&X.emit("plotly_autosize"),J.fillFrame)se=window.innerWidth,ne=window.innerHeight,document.body.style.overflow="hidden";else{var ge=ue?window.getComputedStyle(X):{};if(se=k(ge.width)||k(ge.maxWidth)||ie.width,ne=k(ge.height)||k(ge.maxHeight)||ie.height,L(j)&&j>0){var we=1-2*j;se=Math.round(we*se),ne=Math.round(we*ne)}}var xe=o.layoutAttributes.width.min,Fe=o.layoutAttributes.height.min;se<xe&&(se=xe),ne<Fe&&(ne=Fe);var ze=!$.width&&Math.abs(ie.width-se)>1,Te=!$.height&&Math.abs(ie.height-ne)>1;(Te||ze)&&(ze&&(ie.width=se),Te&&(ie.height=ne)),X._initialAutoSize||(X._initialAutoSize={width:se,height:ne}),o.sanitizeMargins(ie)},o.supplyLayoutModuleDefaults=function(Z,X,$,ie){var J=T.componentsRegistry,j=X._basePlotModules,se,ne,ue,ge=T.subplotsRegistry.cartesian;for(se in J)ue=J[se],ue.includeBasePlot&&ue.includeBasePlot(Z,X);j.length||j.push(ge),X._has("cartesian")&&(T.getComponentMethod("grid","contentDefaults")(Z,X),ge.finalizeSubplots(Z,X));for(var we in X._subplots)X._subplots[we].sort(t.subplotSort);for(ne=0;ne<j.length;ne++)ue=j[ne],ue.supplyLayoutDefaults&&ue.supplyLayoutDefaults(Z,X,$);var xe=X._modules;for(ne=0;ne<xe.length;ne++)ue=xe[ne],ue.supplyLayoutDefaults&&ue.supplyLayoutDefaults(Z,X,$);var Fe=X._transformModules;for(ne=0;ne<Fe.length;ne++)ue=Fe[ne],ue.supplyLayoutDefaults&&ue.supplyLayoutDefaults(Z,X,$,ie);for(se in J)ue=J[se],ue.supplyLayoutDefaults&&ue.supplyLayoutDefaults(Z,X,$)},o.purge=function(Z){var X=Z._fullLayout||{};X._glcontainer!==void 0&&(X._glcontainer.selectAll(".gl-canvas").remove(),X._glcontainer.remove(),X._glcanvas=null),X._modeBar&&X._modeBar.destroy(),Z._transitionData&&(Z._transitionData._interruptCallbacks&&(Z._transitionData._interruptCallbacks.length=0),Z._transitionData._animationRaf&&window.cancelAnimationFrame(Z._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(Z),delete Z.data,delete Z.layout,delete Z._fullData,delete Z._fullLayout,delete Z.calcdata,delete Z.empty,delete Z.fid,delete Z.undoqueue,delete Z.undonum,delete Z.autoplay,delete Z.changed,delete Z._promises,delete Z._redrawTimer,delete Z._hmlumcount,delete Z._hmpixcount,delete Z._transitionData,delete Z._transitioning,delete Z._initialAutoSize,delete Z._transitioningWithDuration,delete Z._dragging,delete Z._dragged,delete Z._dragdata,delete Z._hoverdata,delete Z._snapshotInProgress,delete Z._editing,delete Z._mouseDownTime,delete Z._legendMouseDownTime,Z.removeAllListeners&&Z.removeAllListeners()},o.style=function(Z){var X=Z._fullLayout._visibleModules,$=[],ie;for(ie=0;ie<X.length;ie++){var J=X[ie];J.style&&t.pushUnique($,J.style)}for(ie=0;ie<$.length;ie++)$[ie](Z)},o.sanitizeMargins=function(Z){if(!(!Z||!Z.margin)){var X=Z.width,$=Z.height,ie=Z.margin,J=X-(ie.l+ie.r),j=$-(ie.t+ie.b),se;J<0&&(se=(X-1)/(ie.l+ie.r),ie.l=Math.floor(se*ie.l),ie.r=Math.floor(se*ie.r)),j<0&&(se=($-1)/(ie.t+ie.b),ie.t=Math.floor(se*ie.t),ie.b=Math.floor(se*ie.b))}},o.clearAutoMarginIds=function(Z){Z._fullLayout._pushmarginIds={}},o.allowAutoMargin=function(Z,X){Z._fullLayout._pushmarginIds[X]=1};function O(Z){var X=Z.margin;if(!Z._size){var $=Z._size={l:Math.round(X.l),r:Math.round(X.r),t:Math.round(X.t),b:Math.round(X.b),p:Math.round(X.pad)};$.w=Math.round(Z.width)-$.l-$.r,$.h=Math.round(Z.height)-$.t-$.b}Z._pushmargin||(Z._pushmargin={}),Z._pushmarginIds||(Z._pushmarginIds={}),Z._reservedMargin||(Z._reservedMargin={})}var z=2,F=2;o.autoMargin=function(Z,X,$){var ie=Z._fullLayout,J=ie.width,j=ie.height,se=ie.margin,ne=ie.minreducedwidth,ue=ie.minreducedheight,ge=t.constrain(J-se.l-se.r,z,ne),we=t.constrain(j-se.t-se.b,F,ue),xe=Math.max(0,J-ge),Fe=Math.max(0,j-we),ze=ie._pushmargin,Te=ie._pushmarginIds;if(se.autoexpand!==!1){if(!$)delete ze[X],delete Te[X];else{var ye=$.pad;if(ye===void 0&&(ye=Math.min(12,se.l,se.r,se.t,se.b)),xe){var Ae=($.l+$.r)/xe;Ae>1&&($.l/=Ae,$.r/=Ae)}if(Fe){var Ne=($.t+$.b)/Fe;Ne>1&&($.t/=Ne,$.b/=Ne)}var Ue=$.xl!==void 0?$.xl:$.x,Re=$.xr!==void 0?$.xr:$.x,Ve=$.yt!==void 0?$.yt:$.y,rt=$.yb!==void 0?$.yb:$.y;ze[X]={l:{val:Ue,size:$.l+ye},r:{val:Re,size:$.r+ye},b:{val:rt,size:$.b+ye},t:{val:Ve,size:$.t+ye}},Te[X]=1}if(!ie._replotting)return o.doAutoMargin(Z)}};function B(Z){if("_redrawFromAutoMarginCount"in Z._fullLayout)return!1;var X=n.list(Z,"",!0);for(var $ in X)if(X[$].autoshift||X[$].shift)return!0;return!1}o.doAutoMargin=function(Z){var X=Z._fullLayout,$=X.width,ie=X.height;X._size||(X._size={}),O(X);var J=X._size,j=X.margin,se={t:0,b:0,l:0,r:0},ne=t.extendFlat({},J),ue=j.l,ge=j.r,we=j.t,xe=j.b,Fe=X._pushmargin,ze=X._pushmarginIds,Te=X.minreducedwidth,ye=X.minreducedheight;if(j.autoexpand!==!1){for(var Ae in Fe)ze[Ae]||delete Fe[Ae];var Ne=Z._fullLayout._reservedMargin;for(var Ue in Ne)for(var Re in Ne[Ue]){var Ve=Ne[Ue][Re];se[Re]=Math.max(se[Re],Ve)}Fe.base={l:{val:0,size:ue},r:{val:1,size:ge},t:{val:1,size:we},b:{val:0,size:xe}};for(var rt in se){var Qe=0;for(var Je in Fe)Je!=="base"&&L(Fe[Je][rt].size)&&(Qe=Fe[Je][rt].size>Qe?Fe[Je][rt].size:Qe);var qe=Math.max(0,j[rt]-Qe);se[rt]=Math.max(0,se[rt]-qe)}for(var dt in Fe){var pt=Fe[dt].l||{},mt=Fe[dt].b||{},Ct=pt.val,Rt=pt.size,Zt=mt.val,Xe=mt.size,Le=$-se.r-se.l,Pe=ie-se.t-se.b;for(var ke in Fe){if(L(Rt)&&Fe[ke].r){var Ce=Fe[ke].r.val,me=Fe[ke].r.size;if(Ce>Ct){var oe=(Rt*Ce+(me-Le)*Ct)/(Ce-Ct),pe=(me*(1-Ct)+(Rt-Le)*(1-Ce))/(Ce-Ct);oe+pe>ue+ge&&(ue=oe,ge=pe)}}if(L(Xe)&&Fe[ke].t){var Me=Fe[ke].t.val,_e=Fe[ke].t.size;if(Me>Zt){var tt=(Xe*Me+(_e-Pe)*Zt)/(Me-Zt),at=(_e*(1-Zt)+(Xe-Pe)*(1-Me))/(Me-Zt);tt+at>xe+we&&(xe=tt,we=at)}}}}}var At=t.constrain($-j.l-j.r,z,Te),Ft=t.constrain(ie-j.t-j.b,F,ye),Gt=Math.max(0,$-At),Yt=Math.max(0,ie-Ft);if(Gt){var Dt=(ue+ge)/Gt;Dt>1&&(ue/=Dt,ge/=Dt)}if(Yt){var $t=(xe+we)/Yt;$t>1&&(xe/=$t,we/=$t)}if(J.l=Math.round(ue)+se.l,J.r=Math.round(ge)+se.r,J.t=Math.round(we)+se.t,J.b=Math.round(xe)+se.b,J.p=Math.round(j.pad),J.w=Math.round($)-J.l-J.r,J.h=Math.round(ie)-J.t-J.b,!X._replotting&&(o.didMarginChange(ne,J)||B(Z))){"_redrawFromAutoMarginCount"in X?X._redrawFromAutoMarginCount++:X._redrawFromAutoMarginCount=1;var lr=3*(1+Object.keys(ze).length);if(X._redrawFromAutoMarginCount<lr)return T.call("_doPlot",Z);X._size=ne,t.warn("Too many auto-margin redraws.")}G(Z)};function G(Z){var X=n.list(Z,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function($){for(var ie=0;ie<X.length;ie++){var J=X[ie][$];J&&J()}})}var Q=["l","r","t","b","p","w","h"];o.didMarginChange=function(Z,X){for(var $=0;$<Q.length;$++){var ie=Q[$],J=Z[ie],j=X[ie];if(!L(J)||Math.abs(j-J)>1)return!0}return!1},o.graphJson=function(Z,X,$,ie,J,j){(J&&X&&!Z._fullData||J&&!X&&!Z._fullLayout)&&o.supplyDefaults(Z);var se=J?Z._fullData:Z.data,ne=J?Z._fullLayout:Z.layout,ue=(Z._transitionData||{})._frames;function ge(Fe,ze){if(typeof Fe=="function")return ze?"_function_":null;if(t.isPlainObject(Fe)){var Te={},ye;return Object.keys(Fe).sort().forEach(function(Ae){if(["_","["].indexOf(Ae.charAt(0))===-1){if(typeof Fe[Ae]=="function"){ze&&(Te[Ae]="_function");return}if($==="keepdata"){if(Ae.substr(Ae.length-3)==="src")return}else if($==="keepstream"){if(ye=Fe[Ae+"src"],typeof ye=="string"&&ye.indexOf(":")>0&&!t.isPlainObject(Fe.stream))return}else if($!=="keepall"&&(ye=Fe[Ae+"src"],typeof ye=="string"&&ye.indexOf(":")>0))return;Te[Ae]=ge(Fe[Ae],ze)}}),Te}return Array.isArray(Fe)?Fe.map(function(Ae){return ge(Ae,ze)}):t.isTypedArray(Fe)?t.simpleMap(Fe,t.identity):t.isJSDate(Fe)?t.ms2DateTimeLocal(+Fe):Fe}var we={data:(se||[]).map(function(Fe){var ze=ge(Fe);return X&&delete ze.fit,ze})};if(!X&&(we.layout=ge(ne),J)){var xe=ne._size;we.layout.computed={margin:{b:xe.b,l:xe.l,r:xe.r,t:xe.t}}}return ue&&(we.frames=ge(ue)),j&&(we.config=ge(Z._context,!0)),ie==="object"?we:JSON.stringify(we)},o.modifyFrames=function(Z,X){var $,ie,J,j=Z._transitionData._frames,se=Z._transitionData._frameHash;for($=0;$<X.length;$++)switch(ie=X[$],ie.type){case"replace":J=ie.value;var ne=(j[ie.index]||{}).name,ue=J.name;j[ie.index]=se[ue]=J,ue!==ne&&(delete se[ne],se[ue]=J);break;case"insert":J=ie.value,se[J.name]=J,j.splice(ie.index,0,J);break;case"delete":J=j[ie.index],delete se[J.name],j.splice(ie.index,1);break}return Promise.resolve()},o.computeFrame=function(Z,X){var $=Z._transitionData._frameHash,ie,J,j,se;if(!X)throw new Error("computeFrame must be given a string frame name");var ne=$[X.toString()];if(!ne)return!1;for(var ue=[ne],ge=[ne.name];ne.baseframe&&(ne=$[ne.baseframe.toString()])&&ge.indexOf(ne.name)===-1;)ue.push(ne),ge.push(ne.name);for(var we={};ne=ue.pop();)if(ne.layout&&(we.layout=o.extendLayout(we.layout,ne.layout)),ne.data){if(we.data||(we.data=[]),J=ne.traces,!J)for(J=[],ie=0;ie<ne.data.length;ie++)J[ie]=ie;for(we.traces||(we.traces=[]),ie=0;ie<ne.data.length;ie++)j=J[ie],j!=null&&(se=we.traces.indexOf(j),se===-1&&(se=we.data.length,we.traces[se]=j),we.data[se]=o.extendTrace(we.data[se],ne.data[ie]))}return we},o.recomputeFrameHash=function(Z){for(var X=Z._transitionData._frameHash={},$=Z._transitionData._frames,ie=0;ie<$.length;ie++){var J=$[ie];J&&J.name&&(X[J.name]=J)}},o.extendObjectWithContainers=function(Z,X,$){var ie,J,j,se,ne,ue,ge,we,xe=t.extendDeepNoArrays({},X||{}),Fe=t.expandObjectPaths(xe),ze={};if($&&$.length)for(j=0;j<$.length;j++)ie=t.nestedProperty(Fe,$[j]),J=ie.get(),J===void 0?t.nestedProperty(ze,$[j]).set(null):(ie.set(null),t.nestedProperty(ze,$[j]).set(J));if(Z=t.extendDeepNoArrays(Z||{},Fe),$&&$.length){for(j=0;j<$.length;j++)if(ne=t.nestedProperty(ze,$[j]),ge=ne.get(),!!ge){for(ue=t.nestedProperty(Z,$[j]),we=ue.get(),Array.isArray(we)||(we=[],ue.set(we)),se=0;se<ge.length;se++){var Te=ge[se];Te===null?we[se]=null:we[se]=o.extendObjectWithContainers(we[se],Te)}ue.set(we)}}return Z},o.dataArrayContainers=["transforms","dimensions"],o.layoutArrayContainers=T.layoutArrayContainers,o.extendTrace=function(Z,X){return o.extendObjectWithContainers(Z,X,o.dataArrayContainers)},o.extendLayout=function(Z,X){return o.extendObjectWithContainers(Z,X,o.layoutArrayContainers)},o.transition=function(Z,X,$,ie,J,j){var se={redraw:J.redraw},ne={},ue=[];return se.prepareFn=function(){for(var ge=Array.isArray(X)?X.length:0,we=ie.slice(0,ge),xe=0;xe<we.length;xe++){var Fe=we[xe],ze=Z._fullData[Fe],Te=ze._module;if(Te){if(Te.animatable){var ye=Te.basePlotModule.name;ne[ye]||(ne[ye]=[]),ne[ye].push(Fe)}Z.data[we[xe]]=o.extendTrace(Z.data[we[xe]],X[xe])}}var Ae=t.expandObjectPaths(t.extendDeepNoArrays({},$)),Ne=/^[xy]axis[0-9]*$/;for(var Ue in Ae)Ne.test(Ue)&&delete Ae[Ue].range;o.extendLayout(Z.layout,Ae),delete Z.calcdata,o.supplyDefaults(Z),o.doCalcdata(Z);var Re=t.expandObjectPaths($);if(Re){var Ve=Z._fullLayout._plots;for(var rt in Ve){var Qe=Ve[rt],Je=Qe.xaxis,qe=Qe.yaxis,dt=Je.range.slice(),pt=qe.range.slice(),mt=null,Ct=null,Rt=null,Zt=null;Array.isArray(Re[Je._name+".range"])?mt=Re[Je._name+".range"].slice():Array.isArray((Re[Je._name]||{}).range)&&(mt=Re[Je._name].range.slice()),Array.isArray(Re[qe._name+".range"])?Ct=Re[qe._name+".range"].slice():Array.isArray((Re[qe._name]||{}).range)&&(Ct=Re[qe._name].range.slice()),dt&&mt&&(Je.r2l(dt[0])!==Je.r2l(mt[0])||Je.r2l(dt[1])!==Je.r2l(mt[1]))&&(Rt={xr0:dt,xr1:mt}),pt&&Ct&&(qe.r2l(pt[0])!==qe.r2l(Ct[0])||qe.r2l(pt[1])!==qe.r2l(Ct[1]))&&(Zt={yr0:pt,yr1:Ct}),(Rt||Zt)&&ue.push(t.extendFlat({plotinfo:Qe},Rt,Zt))}}return Promise.resolve()},se.runFn=function(ge){var we,xe=Z._fullLayout._basePlotModules,Fe=ue.length,ze;if($)for(ze=0;ze<xe.length;ze++)xe[ze].transitionAxes&&xe[ze].transitionAxes(Z,ue,j,ge);Fe?(we=t.extendFlat({},j),we.duration=0,delete ne.cartesian):we=j;for(var Te in ne){var ye=ne[Te],Ae=Z._fullData[ye[0]]._module;Ae.basePlotModule.plot(Z,ye,we,ge)}},ee(Z,j,se)},o.transitionFromReact=function(Z,X,$,ie){var J=Z._fullLayout,j=J.transition,se={},ne=[];return se.prepareFn=function(){var ue=J._plots;se.redraw=!1,X.anim==="some"&&(se.redraw=!0),$.anim==="some"&&(se.redraw=!0);for(var ge in ue){var we=ue[ge],xe=we.xaxis,Fe=we.yaxis,ze=ie[xe._name].range.slice(),Te=ie[Fe._name].range.slice(),ye=xe.range.slice(),Ae=Fe.range.slice();xe.setScale(),Fe.setScale();var Ne=null,Ue=null;(xe.r2l(ze[0])!==xe.r2l(ye[0])||xe.r2l(ze[1])!==xe.r2l(ye[1]))&&(Ne={xr0:ze,xr1:ye}),(Fe.r2l(Te[0])!==Fe.r2l(Ae[0])||Fe.r2l(Te[1])!==Fe.r2l(Ae[1]))&&(Ue={yr0:Te,yr1:Ae}),(Ne||Ue)&&ne.push(t.extendFlat({plotinfo:we},Ne,Ue))}return Promise.resolve()},se.runFn=function(ue){for(var ge=Z._fullData,we=Z._fullLayout,xe=we._basePlotModules,Fe,ze,Te,ye=[],Ae=0;Ae<ge.length;Ae++)ye.push(Ae);function Ne(){if(Z._fullLayout)for(var Re=0;Re<xe.length;Re++)xe[Re].transitionAxes&&xe[Re].transitionAxes(Z,ne,Fe,ue)}function Ue(){if(Z._fullLayout)for(var Re=0;Re<xe.length;Re++)xe[Re].plot(Z,Te,ze,ue)}ne.length&&X.anim?j.ordering==="traces first"?(Fe=t.extendFlat({},j,{duration:0}),Te=ye,ze=j,setTimeout(Ne,j.duration),Ue()):(Fe=j,Te=null,ze=t.extendFlat({},j,{duration:0}),setTimeout(Ue,Fe.duration),Ne()):ne.length?(Fe=j,Ne()):X.anim&&(Te=ye,ze=j,Ue())},ee(Z,j,se)};function ee(Z,X,$){var ie=!1;function J(xe){var Fe=Promise.resolve();if(!xe)return Fe;for(;xe.length;)Fe=Fe.then(xe.shift());return Fe}function j(xe){if(xe)for(;xe.length;)xe.shift()}function se(){return Z.emit("plotly_transitioning",[]),new Promise(function(xe){Z._transitioning=!0,X.duration>0&&(Z._transitioningWithDuration=!0),Z._transitionData._interruptCallbacks.push(function(){ie=!0}),$.redraw&&Z._transitionData._interruptCallbacks.push(function(){return T.call("redraw",Z)}),Z._transitionData._interruptCallbacks.push(function(){Z.emit("plotly_transitioninterrupted",[])});var Fe=0,ze=0;function Te(){return Fe++,function(){ze++,!ie&&ze===Fe&&ne(xe)}}$.runFn(Te),setTimeout(Te())})}function ne(xe){if(Z._transitionData)return j(Z._transitionData._interruptCallbacks),Promise.resolve().then(function(){if($.redraw)return T.call("redraw",Z)}).then(function(){Z._transitioning=!1,Z._transitioningWithDuration=!1,Z.emit("plotly_transitioned",[])}).then(xe)}function ue(){if(Z._transitionData)return Z._transitioning=!1,J(Z._transitionData._interruptCallbacks)}var ge=[o.previousPromises,ue,$.prepareFn,o.rehover,o.reselect,se],we=t.syncOrAsync(ge,Z);return(!we||!we.then)&&(we=Promise.resolve()),we.then(function(){return Z})}o.doCalcdata=function(Z,X){var $=n.list(Z),ie=Z._fullData,J=Z._fullLayout,j,se,ne,ue,ge=new Array(ie.length),we=(Z.calcdata||[]).slice();for(Z.calcdata=ge,J._numBoxes=0,J._numViolins=0,J._violinScaleGroupStats={},Z._hmpixcount=0,Z._hmlumcount=0,J._piecolormap={},J._sunburstcolormap={},J._treemapcolormap={},J._iciclecolormap={},J._funnelareacolormap={},ne=0;ne<ie.length;ne++)if(Array.isArray(X)&&X.indexOf(ne)===-1){ge[ne]=we[ne];continue}for(ne=0;ne<ie.length;ne++)j=ie[ne],j._arrayAttrs=v.findArrayAttributes(j),j._extremes={};var xe=J._subplots.polar||[];for(ne=0;ne<xe.length;ne++)$.push(J[xe[ne]].radialaxis,J[xe[ne]].angularaxis);for(var Fe in J._colorAxes){var ze=J[Fe];ze.cauto!==!1&&(delete ze.cmin,delete ze.cmax)}var Te=!1;function ye(Ue){if(j=ie[Ue],se=j._module,j.visible===!0&&j.transforms){if(se&&se.calc){var Re=se.calc(Z,j);Re[0]&&Re[0].t&&Re[0].t._scene&&delete Re[0].t._scene.dirty}for(ue=0;ue<j.transforms.length;ue++){var Ve=j.transforms[ue];se=p[Ve.type],se&&se.calcTransform&&(j._hasCalcTransform=!0,Te=!0,se.calcTransform(Z,j,Ve))}}}function Ae(Ue,Re){if(j=ie[Ue],se=j._module,!!se.isContainer===Re){var Ve=[];if(j.visible===!0&&j._length!==0){delete j._indexToPoints;var rt=j.transforms||[];for(ue=rt.length-1;ue>=0;ue--)if(rt[ue].enabled){j._indexToPoints=rt[ue]._indexToPoints;break}se&&se.calc&&(Ve=se.calc(Z,j))}(!Array.isArray(Ve)||!Ve[0])&&(Ve=[{x:u,y:u}]),Ve[0].t||(Ve[0].t={}),Ve[0].trace=j,ge[Ue]=Ve}}for(K($,ie,J),ne=0;ne<ie.length;ne++)Ae(ne,!0);for(ne=0;ne<ie.length;ne++)ye(ne);for(Te&&K($,ie,J),ne=0;ne<ie.length;ne++)Ae(ne,!0);for(ne=0;ne<ie.length;ne++)Ae(ne,!1);W(Z);var Ne=fe($,Z);if(Ne.length){for(J._numBoxes=0,J._numViolins=0,ne=0;ne<Ne.length;ne++)Ae(Ne[ne],!0);for(ne=0;ne<Ne.length;ne++)Ae(Ne[ne],!1);W(Z)}T.getComponentMethod("fx","calc")(Z),T.getComponentMethod("errorbars","calc")(Z)};var ae=/(total|sum|min|max|mean|median) (ascending|descending)/;function fe(Z,X){var $=[],ie,J,j,se,ne;function ue(Le,Pe,ke){var Ce=Pe._id.charAt(0);if(Le==="histogram2dcontour"){var me=Pe._counterAxes[0],oe=n.getFromId(X,me),pe=Ce==="x"||me==="x"&&oe.type==="category",Me=Ce==="y"||me==="y"&&oe.type==="category";return function(_e,tt){return _e===0||tt===0||pe&&_e===ke[tt].length-1||Me&&tt===ke.length-1?-1:(Ce==="y"?tt:_e)-1}}else return function(_e,tt){return Ce==="y"?tt:_e}}var ge={min:function(Le){return t.aggNums(Math.min,null,Le)},max:function(Le){return t.aggNums(Math.max,null,Le)},sum:function(Le){return t.aggNums(function(Pe,ke){return Pe+ke},null,Le)},total:function(Le){return t.aggNums(function(Pe,ke){return Pe+ke},null,Le)},mean:function(Le){return t.mean(Le)},median:function(Le){return t.median(Le)}};for(ie=0;ie<Z.length;ie++){var we=Z[ie];if(we.type==="category"){var xe=we.categoryorder.match(ae);if(xe){var Fe=xe[1],ze=xe[2],Te=we._id.charAt(0),ye=Te==="x",Ae=[];for(J=0;J<we._categories.length;J++)Ae.push([we._categories[J],[]]);for(J=0;J<we._traceIndices.length;J++){var Ne=we._traceIndices[J],Ue=X._fullData[Ne];if(Ue.visible===!0){var Re=Ue.type;T.traceIs(Ue,"histogram")&&(delete Ue._xautoBinFinished,delete Ue._yautoBinFinished);var Ve=Re==="splom",rt=Re==="scattergl",Qe=X.calcdata[Ne];for(j=0;j<Qe.length;j++){var Je=Qe[j],qe,dt;if(Ve){var pt=Ue._axesDim[we._id];if(!ye){var mt=Ue._diag[pt][0];mt&&(we=X._fullLayout[n.id2name(mt)])}var Ct=Je.trace.dimensions[pt].values;for(se=0;se<Ct.length;se++)for(qe=we._categoriesMap[Ct[se]],ne=0;ne<Je.trace.dimensions.length;ne++)if(ne!==pt){var Rt=Je.trace.dimensions[ne];Ae[qe][1].push(Rt.values[se])}}else if(rt){for(se=0;se<Je.t.x.length;se++)ye?(qe=Je.t.x[se],dt=Je.t.y[se]):(qe=Je.t.y[se],dt=Je.t.x[se]),Ae[qe][1].push(dt);Je.t&&Je.t._scene&&delete Je.t._scene.dirty}else if(Je.hasOwnProperty("z")){dt=Je.z;var Zt=ue(Ue.type,we,dt);for(se=0;se<dt.length;se++)for(ne=0;ne<dt[se].length;ne++)qe=Zt(ne,se),qe+1&&Ae[qe][1].push(dt[se][ne])}else for(qe=Je.p,qe===void 0&&(qe=Je[Te]),dt=Je.s,dt===void 0&&(dt=Je.v),dt===void 0&&(dt=ye?Je.y:Je.x),Array.isArray(dt)||(dt===void 0?dt=[]:dt=[dt]),se=0;se<dt.length;se++)Ae[qe][1].push(dt[se])}}}we._categoriesValue=Ae;var Xe=[];for(J=0;J<Ae.length;J++)Xe.push([Ae[J][0],ge[Fe](Ae[J][1])]);Xe.sort(function(Le,Pe){return Le[1]-Pe[1]}),we._categoriesAggregatedValue=Xe,we._initialCategories=Xe.map(function(Le){return Le[0]}),ze==="descending"&&we._initialCategories.reverse(),$=$.concat(we.sortByInitialCategories())}}}return $}function K(Z,X,$){var ie={};function J(ue){ue.clearCalc(),ue.type==="multicategory"&&ue.setupMultiCategory(X),ie[ue._id]=1}t.simpleMap(Z,J);for(var j=$._axisMatchGroups||[],se=0;se<j.length;se++)for(var ne in j[se])ie[ne]||J($[n.id2name(ne)])}function W(Z){var X=Z._fullLayout,$=X._visibleModules,ie={},J,j,se;for(j=0;j<$.length;j++){var ne=$[j],ue=ne.crossTraceCalc;if(ue){var ge=ne.basePlotModule.name;ie[ge]?t.pushUnique(ie[ge],ue):ie[ge]=[ue]}}for(se in ie){var we=ie[se],xe=X._subplots[se];if(Array.isArray(xe))for(J=0;J<xe.length;J++){var Fe=xe[J],ze=se==="cartesian"?X._plots[Fe]:X[Fe];for(j=0;j<we.length;j++)we[j](Z,ze,Fe)}else for(j=0;j<we.length;j++)we[j](Z)}}o.rehover=function(Z){Z._fullLayout._rehover&&Z._fullLayout._rehover()},o.redrag=function(Z){Z._fullLayout._redrag&&Z._fullLayout._redrag()},o.reselect=function(Z){var X=Z._fullLayout,$=(Z.layout||{}).selections,ie=X._previousSelections;X._previousSelections=$;var J=X._reselect||JSON.stringify($)!==JSON.stringify(ie);T.getComponentMethod("selections","reselect")(Z,J)},o.generalUpdatePerTraceModule=function(Z,X,$,ie){var J=X.traceHash,j={},se;for(se=0;se<$.length;se++){var ne=$[se],ue=ne[0].trace;ue.visible&&(j[ue.type]=j[ue.type]||[],j[ue.type].push(ne))}for(var ge in J)if(!j[ge]){var we=J[ge][0],xe=we[0].trace;xe.visible=!1,j[ge]=[we]}for(var Fe in j){var ze=j[Fe],Te=ze[0][0].trace._module;Te.plot(Z,X,t.filterVisible(ze),ie)}X.traceHash=j},o.plotBasePlot=function(Z,X,$,ie,J){var j=T.getModule(Z),se=c(X.calcdata,j)[0];j.plot(X,se,ie,J)},o.cleanBasePlot=function(Z,X,$,ie,J){var j=J._has&&J._has(Z),se=$._has&&$._has(Z);j&&!se&&J["_"+Z+"layer"].selectAll("g.trace").remove()}},9813:function(H){H.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},10869:function(H,U,e){var g=e(71828),P=e(61082).tester,a=g.findIndexOfMin,L=g.isAngleInsideSector,T=g.angleDelta,v=g.angleDist;function d(o,p,S,A,E){if(!L(p,A))return!1;var m,M;S[0]<S[1]?(m=S[0],M=S[1]):(m=S[1],M=S[0]);var w=P(s(m,A[0],A[1],E)),i=P(s(M,A[0],A[1],E)),C=[o*Math.cos(p),o*Math.sin(p)];return i.contains(C)&&!w.contains(C)}function t(o,p,S,A){var E,m,M=A[0],w=A[1],i=x(Math.sin(p)-Math.sin(o)),C=x(Math.cos(p)-Math.cos(o)),y=Math.tan(S),_=x(1/y),I=i/C,N=w-I*M;return _?i&&C?(E=N/(y-I),m=y*E):C?(E=w*_,m=w):(E=M,m=M*y):i&&C?(E=0,m=N):C?(E=0,m=w):E=m=NaN,[E,m]}function r(o,p,S,A){var E=-p*S,m=p*p+1,M=2*(p*E-S),w=E*E+S*S-o*o,i=Math.sqrt(M*M-4*m*w),C=(-M+i)/(2*m),y=(-M-i)/(2*m);return[[C,p*C+E+A],[y,p*y+E+A]]}function u(o,p){var S=p.length,A=new Array(S+1),E;for(E=0;E<S;E++){var m=p[E];A[E]=[o*Math.cos(m),o*Math.sin(m)]}return A[E]=A[0].slice(),A}function n(o,p,S,A){var E=A.length,m=[],M,w;function i(F){return[o*Math.cos(F),o*Math.sin(F)]}function C(F,B,G){return t(F,B,G,i(F))}function y(F){return g.mod(F,E)}function _(F){return L(F,[p,S])}var I=a(A,function(F){return _(F)?v(F,p):1/0}),N=C(A[I],A[y(I-1)],p);for(m.push(N),M=I,w=0;w<E;M++,w++){var k=A[y(M)];if(!_(k))break;m.push(i(k))}var O=a(A,function(F){return _(F)?v(F,S):1/0}),z=C(A[O],A[y(O+1)],S);return m.push(z),m.push([0,0]),m.push(m[0].slice()),m}function s(o,p,S,A){return g.isFullCircle([p,S])?u(o,A):n(o,p,S,A)}function f(o,p,S,A){for(var E=1/0,m=1/0,M=s(o,p,S,A),w=0;w<M.length;w++){var i=M[w];E=Math.min(E,i[0]),m=Math.min(m,-i[1])}return[E,m]}function l(o,p){var S=function(m){var M=T(m,o);return M>0?M:1/0},A=a(p,S),E=g.mod(A+1,p.length);return[p[A],p[E]]}function x(o){return Math.abs(o)>1e-10?o:0}function c(o,p,S){p=p||0,S=S||0;for(var A=o.length,E=new Array(A),m=0;m<A;m++){var M=o[m];E[m]=[p+M[0],S-M[1]]}return E}function b(o,p,S,A,E,m){var M=s(o,p,S,A);return"M"+c(M,E,m).join("L")}function h(o,p,S,A,E,m,M){var w,i;o<p?(w=o,i=p):(w=p,i=o);var C=c(s(w,S,A,E),m,M),y=c(s(i,S,A,E),m,M);return"M"+y.reverse().join("L")+"M"+C.join("L")}H.exports={isPtInsidePolygon:d,findPolygonOffset:f,findEnclosingVertexAngles:l,findIntersectionXY:t,findXYatLength:r,clampTiny:x,pathPolygon:b,pathPolygonAnnulus:h}},23580:function(H,U,e){var g=e(27659).AU,P=e(71828).counterRegex,a=e(77997),L=e(9813),T=L.attr,v=L.name,d=P(v),t={};t[T]={valType:"subplotid",dflt:v,editType:"calc"};function r(n){for(var s=n._fullLayout,f=n.calcdata,l=s._subplots[v],x=0;x<l.length;x++){var c=l[x],b=g(f,v,c),h=s[c]._subplot;h||(h=a(n,c),s[c]._subplot=h),h.plot(b,s,n._promises)}}function u(n,s,f,l){for(var x=l._subplots[v]||[],c=l._has&&l._has("gl"),b=s._has&&s._has("gl"),h=c&&!b,o=0;o<x.length;o++){var p=x[o],S=l[p]._subplot;if(!s[p]&&S){S.framework.remove(),S.layers["radial-axis-title"].remove();for(var A in S.clipPaths)S.clipPaths[A].remove()}h&&S._scene&&(S._scene.destroy(),S._scene=null)}}H.exports={attr:T,name:v,idRoot:v,idRegex:d,attrRegex:d,attributes:t,layoutAttributes:e(73812),supplyLayoutDefaults:e(68993),plot:r,clean:u,toSVG:e(93612).toSVG}},73812:function(H,U,e){var g=e(22399),P=e(13838),a=e(27670).Y,L=e(71828).extendFlat,T=e(30962).overrideAll,v=T({color:P.color,showline:L({},P.showline,{dflt:!0}),linecolor:P.linecolor,linewidth:P.linewidth,showgrid:L({},P.showgrid,{dflt:!0}),gridcolor:P.gridcolor,gridwidth:P.gridwidth,griddash:P.griddash},"plot","from-root"),d=T({tickmode:P.minor.tickmode,nticks:P.nticks,tick0:P.tick0,dtick:P.dtick,tickvals:P.tickvals,ticktext:P.ticktext,ticks:P.ticks,ticklen:P.ticklen,tickwidth:P.tickwidth,tickcolor:P.tickcolor,ticklabelstep:P.ticklabelstep,showticklabels:P.showticklabels,labelalias:P.labelalias,showtickprefix:P.showtickprefix,tickprefix:P.tickprefix,showticksuffix:P.showticksuffix,ticksuffix:P.ticksuffix,showexponent:P.showexponent,exponentformat:P.exponentformat,minexponent:P.minexponent,separatethousands:P.separatethousands,tickfont:P.tickfont,tickangle:P.tickangle,tickformat:P.tickformat,tickformatstops:P.tickformatstops,layer:P.layer},"plot","from-root"),t={visible:L({},P.visible,{dflt:!0}),type:L({},P.type,{values:["-","linear","log","date","category"]}),autotypenumbers:P.autotypenumbers,autorangeoptions:{minallowed:P.autorangeoptions.minallowed,maxallowed:P.autorangeoptions.maxallowed,clipmin:P.autorangeoptions.clipmin,clipmax:P.autorangeoptions.clipmax,include:P.autorangeoptions.include,editType:"plot"},autorange:L({},P.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:L({},P.minallowed,{editType:"plot"}),maxallowed:L({},P.maxallowed,{editType:"plot"}),range:L({},P.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:P.categoryorder,categoryarray:P.categoryarray,angle:{valType:"angle",editType:"plot"},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:L({},P.title.text,{editType:"plot",dflt:""}),font:L({},P.title.font,{editType:"plot"}),editType:"plot"},hoverformat:P.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:P._deprecated.title,titlefont:P._deprecated.titlefont}};L(t,v,d);var r={visible:L({},P.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:P.autotypenumbers,categoryorder:P.categoryorder,categoryarray:P.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:P.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};L(r,v,d),H.exports={domain:a({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:g.background},radialaxis:t,angularaxis:r,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},68993:function(H,U,e){var g=e(71828),P=e(7901),a=e(44467),L=e(49119),T=e(27659).NG,v=e(26218),d=e(38701),t=e(96115),r=e(89426),u=e(15258),n=e(92128),s=e(23074),f=e(4322),l=e(73812),x=e(12101),c=e(9813),b=c.axisNames;function h(p,S,A,E){var m=A("bgcolor");E.bgColor=P.combine(m,E.paper_bgcolor);var M=A("sector");A("hole");var w=T(E.fullData,c.name,E.id),i=E.layoutOut,C;function y($,ie){return A(C+"."+$,ie)}for(var _=0;_<b.length;_++){C=b[_],g.isPlainObject(p[C])||(p[C]={});var I=p[C],N=a.newContainer(S,C);N._id=N._name=C,N._attr=E.id+"."+C,N._traceIndices=w.map(function($){return $._expandedIndex});var k=c.axisName2dataArray[C],O=o(I,N,y,w,k,E);u(I,N,y,{axData:w,dataAttr:k});var z=y("visible");switch(x(N,S,i),y("uirevision",S.uirevision),N._m=1,C){case"radialaxis":y("minallowed"),y("maxallowed");var F=y("range"),B=N.getAutorangeDflt(F),G=y("autorange",B),Q;F&&(F[0]===null&&F[1]===null||(F[0]===null||F[1]===null)&&(G==="reversed"||G===!0)||F[0]!==null&&(G==="min"||G==="max reversed")||F[1]!==null&&(G==="max"||G==="min reversed"))&&(F=void 0,delete N.range,N.autorange=!0,Q=!0),Q||(B=N.getAutorangeDflt(F),G=y("autorange",B)),I.autorange=G,G&&(s(y,G,F),(O==="linear"||O==="-")&&y("rangemode"),N.isReversed()&&(N._m=-1)),N.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(O==="date"){g.log("Polar plots do not support date angular axes yet.");for(var ee=0;ee<w.length;ee++)w[ee].visible=!1;O=I.type=N.type="linear"}y(O==="linear"?"thetaunit":"period");var ae=y("direction");y("rotation",{counterclockwise:0,clockwise:90}[ae]);break}if(r(I,N,y,N.type,{tickSuffixDflt:N.thetaunit==="degrees"?"°":void 0}),z){var fe,K,W,Z,X=E.font||{};fe=y("color"),K=fe===I.color?fe:X.color,W=X.size,Z=X.family,v(I,N,y,N.type),t(I,N,y,N.type,{font:{color:K,size:W,family:Z}}),d(I,N,y,{outerTicks:!0}),n(I,N,y,{dfltColor:fe,bgColor:E.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:l[C]}),y("layer"),C==="radialaxis"&&(y("side"),y("angle",M[0]),y("title.text"),g.coerceFont(y,"title.font",{color:K,size:g.bigFont(W),family:Z}))}O!=="category"&&y("hoverformat"),N._input=I}S.angularaxis.type==="category"&&A("gridshape")}function o(p,S,A,E,m,M){var w=A("autotypenumbers",M.autotypenumbersDflt),i=A("type");if(i==="-"){for(var C,y=0;y<E.length;y++)if(E[y].visible){C=E[y];break}C&&C[m]&&(S.type=f(C[m],"gregorian",{noMultiCategory:!0,autotypenumbers:w})),S.type==="-"?S.type="linear":p.type=S.type}return S.type}H.exports=function(S,A,E){L(S,A,E,{type:c.name,attributes:l,handleDefaults:h,font:A.font,autotypenumbersDflt:A.autotypenumbers,paper_bgcolor:A.paper_bgcolor,fullData:E,layoutOut:A})}},77997:function(H,U,e){var g=e(39898),P=e(84267),a=e(73972),L=e(71828),T=L.strRotate,v=L.strTranslate,d=e(7901),t=e(91424),r=e(74875),u=e(89298),n=e(21994),s=e(12101),f=e(71739).doAutoRange,l=e(29323),x=e(28569),c=e(30211),b=e(92998),h=e(47322).prepSelect,o=e(47322).selectOnClick,p=e(47322).clearOutline,S=e(6964),A=e(33306),E=e(61549).redrawReglTraces,m=e(18783).MID_SHIFT,M=e(9813),w=e(10869),i=e(23893),C=i.smith,y=i.reactanceArc,_=i.resistanceArc,I=i.smithTransform,N=L._,k=L.mod,O=L.deg2rad,z=L.rad2deg;function F(fe,K,W){this.isSmith=W||!1,this.id=K,this.gd=fe,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var Z=fe._fullLayout,X="clip"+Z._uid+K;this.clipIds.forTraces=X+"-for-traces",this.clipPaths.forTraces=Z._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=Z["_"+(W?"smith":"polar")+"layer"].append("g").attr("class",K),this.getHole=function($){return this.isSmith?0:$.hole},this.getSector=function($){return this.isSmith?[0,360]:$.sector},this.getRadial=function($){return this.isSmith?$.realaxis:$.radialaxis},this.getAngular=function($){return this.isSmith?$.imaginaryaxis:$.angularaxis},W||(this.radialTickLayout=null,this.angularTickLayout=null)}var B=F.prototype;H.exports=function(K,W,Z){return new F(K,W,Z)},B.plot=function(fe,K){for(var W=this,Z=K[W.id],X=!1,$=0;$<fe.length;$++){var ie=fe[$][0].trace;if(ie.cliponaxis===!1){X=!0;break}}W._hasClipOnAxisFalse=X,W.updateLayers(K,Z),W.updateLayout(K,Z),r.generalUpdatePerTraceModule(W.gd,W,fe,Z),W.updateFx(K,Z),W.isSmith&&(delete Z.realaxis.range,delete Z.imaginaryaxis.range)},B.updateLayers=function(fe,K){var W=this,Z=W.isSmith,X=W.layers,$=W.getRadial(K),ie=W.getAngular(K),J=M.layerNames,j=J.indexOf("frontplot"),se=J.slice(0,j),ne=ie.layer==="below traces",ue=$.layer==="below traces";ne&&se.push("angular-line"),ue&&se.push("radial-line"),ne&&se.push("angular-axis"),ue&&se.push("radial-axis"),se.push("frontplot"),ne||se.push("angular-line"),ue||se.push("radial-line"),ne||se.push("angular-axis"),ue||se.push("radial-axis");var ge=(Z?"smith":"polar")+"sublayer",we=W.framework.selectAll("."+ge).data(se,String);we.enter().append("g").attr("class",function(xe){return ge+" "+xe}).each(function(xe){var Fe=X[xe]=g.select(this);switch(xe){case"frontplot":Z||Fe.append("g").classed("barlayer",!0),Fe.append("g").classed("scatterlayer",!0);break;case"backplot":Fe.append("g").classed("maplayer",!0);break;case"plotbg":X.bg=Fe.append("path");break;case"radial-grid":Fe.style("fill","none");break;case"angular-grid":Fe.style("fill","none");break;case"radial-line":Fe.append("line").style("fill","none");break;case"angular-line":Fe.append("path").style("fill","none");break}}),we.order()},B.updateLayout=function(fe,K){var W=this,Z=W.layers,X=fe._size,$=W.getRadial(K),ie=W.getAngular(K),J=K.domain.x,j=K.domain.y;W.xOffset=X.l+X.w*J[0],W.yOffset=X.t+X.h*(1-j[1]);var se=W.xLength=X.w*(J[1]-J[0]),ne=W.yLength=X.h*(j[1]-j[0]),ue=W.getSector(K);W.sectorInRad=ue.map(O);var ge=W.sectorBBox=Q(ue),we=ge[2]-ge[0],xe=ge[3]-ge[1],Fe=ne/se,ze=Math.abs(xe/we),Te,ye,Ae,Ne,Ue;Fe>ze?(Te=se,ye=se*ze,Ue=(ne-ye)/X.h/2,Ae=[J[0],J[1]],Ne=[j[0]+Ue,j[1]-Ue]):(Te=ne/ze,ye=ne,Ue=(se-Te)/X.w/2,Ae=[J[0]+Ue,J[1]-Ue],Ne=[j[0],j[1]]),W.xLength2=Te,W.yLength2=ye,W.xDomain2=Ae,W.yDomain2=Ne;var Re=W.xOffset2=X.l+X.w*Ae[0],Ve=W.yOffset2=X.t+X.h*(1-Ne[1]),rt=W.radius=Te/we,Qe=W.innerRadius=W.getHole(K)*rt,Je=W.cx=Re-rt*ge[0],qe=W.cy=Ve+rt*ge[3],dt=W.cxx=Je-Re,pt=W.cyy=qe-Ve,mt=$.side,Ct;mt==="counterclockwise"?(Ct=mt,mt="top"):mt==="clockwise"&&(Ct=mt,mt="bottom"),W.radialAxis=W.mockAxis(fe,K,$,{_id:"x",side:mt,_trueSide:Ct,domain:[Qe/X.w,rt/X.w]}),W.angularAxis=W.mockAxis(fe,K,ie,{side:"right",domain:[0,Math.PI],autorange:!1}),W.doAutoRange(fe,K),W.updateAngularAxis(fe,K),W.updateRadialAxis(fe,K),W.updateRadialAxisTitle(fe,K),W.xaxis=W.mockCartesianAxis(fe,K,{_id:"x",domain:Ae}),W.yaxis=W.mockCartesianAxis(fe,K,{_id:"y",domain:Ne});var Rt=W.pathSubplot();W.clipPaths.forTraces.select("path").attr("d",Rt).attr("transform",v(dt,pt)),Z.frontplot.attr("transform",v(Re,Ve)).call(t.setClipUrl,W._hasClipOnAxisFalse?null:W.clipIds.forTraces,W.gd),Z.bg.attr("d",Rt).attr("transform",v(Je,qe)).call(d.fill,K.bgcolor)},B.mockAxis=function(fe,K,W,Z){var X=L.extendFlat({},W,Z);return s(X,K,fe),X},B.mockCartesianAxis=function(fe,K,W){var Z=this,X=Z.isSmith,$=W._id,ie=L.extendFlat({type:"linear"},W);n(ie,fe);var J={x:[0,2],y:[1,3]};return ie.setRange=function(){var j=Z.sectorBBox,se=J[$],ne=Z.radialAxis._rl,ue=(ne[1]-ne[0])/(1-Z.getHole(K));ie.range=[j[se[0]]*ue,j[se[1]]*ue]},ie.isPtWithinRange=$==="x"&&!X?function(j){return Z.isPtInside(j)}:function(){return!0},ie.setRange(),ie.setScale(),ie},B.doAutoRange=function(fe,K){var W=this,Z=W.gd,X=W.radialAxis,$=W.getRadial(K);f(Z,X);var ie=X.range;$.range=ie.slice(),$._input.range=ie.slice(),X._rl=[X.r2l(ie[0],null,"gregorian"),X.r2l(ie[1],null,"gregorian")]},B.updateRadialAxis=function(fe,K){var W=this,Z=W.gd,X=W.layers,$=W.radius,ie=W.innerRadius,J=W.cx,j=W.cy,se=W.getRadial(K),ne=k(W.getSector(K)[0],360),ue=W.radialAxis,ge=ie<$,we=W.isSmith;we||(W.fillViewInitialKey("radialaxis.angle",se.angle),W.fillViewInitialKey("radialaxis.range",ue.range.slice()),ue.setGeometry()),ue.tickangle==="auto"&&ne>90&&ne<=270&&(ue.tickangle=180);var xe=we?function(rt){var Qe=I(W,C([rt.x,0]));return v(Qe[0]-J,Qe[1]-j)}:function(rt){return v(ue.l2p(rt.x)+ie,0)},Fe=we?function(rt){return _(W,rt.x,-1/0,1/0)}:function(rt){return W.pathArc(ue.r2p(rt.x)+ie)},ze=G(se);if(W.radialTickLayout!==ze&&(X["radial-axis"].selectAll(".xtick").remove(),W.radialTickLayout=ze),ge){ue.setScale();var Te=0,ye=we?(ue.tickvals||[]).filter(function(rt){return rt>=0}).map(function(rt){return u.tickText(ue,rt,!0,!1)}):u.calcTicks(ue),Ae=we?ye:u.clipEnds(ue,ye),Ne=u.getTickSigns(ue)[2];we&&((ue.ticks==="top"&&ue.side==="bottom"||ue.ticks==="bottom"&&ue.side==="top")&&(Ne=-Ne),ue.ticks==="top"&&ue.side==="top"&&(Te=-ue.ticklen),ue.ticks==="bottom"&&ue.side==="bottom"&&(Te=ue.ticklen)),u.drawTicks(Z,ue,{vals:ye,layer:X["radial-axis"],path:u.makeTickPath(ue,0,Ne),transFn:xe,crisp:!1}),u.drawGrid(Z,ue,{vals:Ae,layer:X["radial-grid"],path:Fe,transFn:L.noop,crisp:!1}),u.drawLabels(Z,ue,{vals:ye,layer:X["radial-axis"],transFn:xe,labelFns:u.makeLabelFns(ue,Te)})}var Ue=W.radialAxisAngle=W.vangles?z(ee(O(se.angle),W.vangles)):se.angle,Re=v(J,j),Ve=Re+T(-Ue);ae(X["radial-axis"],ge&&(se.showticklabels||se.ticks),{transform:Ve}),ae(X["radial-grid"],ge&&se.showgrid,{transform:we?"":Re}),ae(X["radial-line"].select("line"),ge&&se.showline,{x1:we?-$:ie,y1:0,x2:$,y2:0,transform:Ve}).attr("stroke-width",se.linewidth).call(d.stroke,se.linecolor)},B.updateRadialAxisTitle=function(fe,K,W){if(!this.isSmith){var Z=this,X=Z.gd,$=Z.radius,ie=Z.cx,J=Z.cy,j=Z.getRadial(K),se=Z.id+"title",ne=0;if(j.title){var ue=t.bBox(Z.layers["radial-axis"].node()).height,ge=j.title.font.size,we=j.side;ne=we==="top"?ge:we==="counterclockwise"?-(ue+ge*.4):ue+ge*.8}var xe=W!==void 0?W:Z.radialAxisAngle,Fe=O(xe),ze=Math.cos(Fe),Te=Math.sin(Fe),ye=ie+$/2*ze+ne*Te,Ae=J-$/2*Te+ne*ze;Z.layers["radial-axis-title"]=b.draw(X,se,{propContainer:j,propName:Z.id+".radialaxis.title",placeholder:N(X,"Click to enter radial axis title"),attributes:{x:ye,y:Ae,"text-anchor":"middle"},transform:{rotate:-xe}})}},B.updateAngularAxis=function(fe,K){var W=this,Z=W.gd,X=W.layers,$=W.radius,ie=W.innerRadius,J=W.cx,j=W.cy,se=W.getAngular(K),ne=W.angularAxis,ue=W.isSmith;ue||(W.fillViewInitialKey("angularaxis.rotation",se.rotation),ne.setGeometry(),ne.setScale());var ge=ue?function(Qe){var Je=I(W,C([0,Qe.x]));return Math.atan2(Je[0]-J,Je[1]-j)-Math.PI/2}:function(Qe){return ne.t2g(Qe.x)};ne.type==="linear"&&ne.thetaunit==="radians"&&(ne.tick0=z(ne.tick0),ne.dtick=z(ne.dtick));var we=function(Qe){return v(J+$*Math.cos(Qe),j-$*Math.sin(Qe))},xe=ue?function(Qe){var Je=I(W,C([0,Qe.x]));return v(Je[0],Je[1])}:function(Qe){return we(ge(Qe))},Fe=ue?function(Qe){var Je=I(W,C([0,Qe.x])),qe=Math.atan2(Je[0]-J,Je[1]-j)-Math.PI/2;return v(Je[0],Je[1])+T(-z(qe))}:function(Qe){var Je=ge(Qe);return we(Je)+T(-z(Je))},ze=ue?function(Qe){return y(W,Qe.x,0,1/0)}:function(Qe){var Je=ge(Qe),qe=Math.cos(Je),dt=Math.sin(Je);return"M"+[J+ie*qe,j-ie*dt]+"L"+[J+$*qe,j-$*dt]},Te=u.makeLabelFns(ne,0),ye=Te.labelStandoff,Ae={};Ae.xFn=function(Qe){var Je=ge(Qe);return Math.cos(Je)*ye},Ae.yFn=function(Qe){var Je=ge(Qe),qe=Math.sin(Je)>0?.2:1;return-Math.sin(Je)*(ye+Qe.fontSize*qe)+Math.abs(Math.cos(Je))*(Qe.fontSize*m)},Ae.anchorFn=function(Qe){var Je=ge(Qe),qe=Math.cos(Je);return Math.abs(qe)<.1?"middle":qe>0?"start":"end"},Ae.heightFn=function(Qe,Je,qe){var dt=ge(Qe);return-.5*(1+Math.sin(dt))*qe};var Ne=G(se);W.angularTickLayout!==Ne&&(X["angular-axis"].selectAll("."+ne._id+"tick").remove(),W.angularTickLayout=Ne);var Ue=ue?[1/0].concat(ne.tickvals||[]).map(function(Qe){return u.tickText(ne,Qe,!0,!1)}):u.calcTicks(ne);ue&&(Ue[0].text="∞",Ue[0].fontSize*=1.75);var Re;if(K.gridshape==="linear"?(Re=Ue.map(ge),L.angleDelta(Re[0],Re[1])<0&&(Re=Re.slice().reverse())):Re=null,W.vangles=Re,ne.type==="category"&&(Ue=Ue.filter(function(Qe){return L.isAngleInsideSector(ge(Qe),W.sectorInRad)})),ne.visible){var Ve=ne.ticks==="inside"?-1:1,rt=(ne.linewidth||1)/2;u.drawTicks(Z,ne,{vals:Ue,layer:X["angular-axis"],path:"M"+Ve*rt+",0h"+Ve*ne.ticklen,transFn:Fe,crisp:!1}),u.drawGrid(Z,ne,{vals:Ue,layer:X["angular-grid"],path:ze,transFn:L.noop,crisp:!1}),u.drawLabels(Z,ne,{vals:Ue,layer:X["angular-axis"],repositionOnUpdate:!0,transFn:xe,labelFns:Ae})}ae(X["angular-line"].select("path"),se.showline,{d:W.pathSubplot(),transform:v(J,j)}).attr("stroke-width",se.linewidth).call(d.stroke,se.linecolor)},B.updateFx=function(fe,K){if(!this.gd._context.staticPlot){var W=!this.isSmith;W&&(this.updateAngularDrag(fe),this.updateRadialDrag(fe,K,0),this.updateRadialDrag(fe,K,1)),this.updateHoverAndMainDrag(fe)}},B.updateHoverAndMainDrag=function(fe){var K=this,W=K.isSmith,Z=K.gd,X=K.layers,$=fe._zoomlayer,ie=M.MINZOOM,J=M.OFFEDGE,j=K.radius,se=K.innerRadius,ne=K.cx,ue=K.cy,ge=K.cxx,we=K.cyy,xe=K.sectorInRad,Fe=K.vangles,ze=K.radialAxis,Te=w.clampTiny,ye=w.findXYatLength,Ae=w.findEnclosingVertexAngles,Ne=M.cornerHalfWidth,Ue=M.cornerLen/2,Re,Ve,rt=l.makeDragger(X,"path","maindrag",fe.dragmode===!1?"none":"crosshair");g.select(rt).attr("d",K.pathSubplot()).attr("transform",v(ne,ue)),rt.onmousemove=function(Dt){c.hover(Z,Dt,K.id),Z._fullLayout._lasthover=rt,Z._fullLayout._hoversubplot=K.id},rt.onmouseout=function(Dt){Z._dragging||x.unhover(Z,Dt)};var Qe={element:rt,gd:Z,subplot:K.id,plotinfo:{id:K.id,xaxis:K.xaxis,yaxis:K.yaxis},xaxes:[K.xaxis],yaxes:[K.yaxis]},Je,qe,dt,pt,mt,Ct,Rt,Zt,Xe;function Le(Dt,$t){return Math.sqrt(Dt*Dt+$t*$t)}function Pe(Dt,$t){return Le(Dt-ge,$t-we)}function ke(Dt,$t){return Math.atan2(we-$t,Dt-ge)}function Ce(Dt,$t){return[Dt*Math.cos($t),Dt*Math.sin(-$t)]}function me(Dt,$t){if(Dt===0)return K.pathSector(2*Ne);var lr=Ue/Dt,Hr=$t-lr,xt=$t+lr,Qt=Math.max(0,Math.min(Dt,j)),jt=Qt-Ne,Sr=Qt+Ne;return"M"+Ce(jt,Hr)+"A"+[jt,jt]+" 0,0,0 "+Ce(jt,xt)+"L"+Ce(Sr,xt)+"A"+[Sr,Sr]+" 0,0,1 "+Ce(Sr,Hr)+"Z"}function oe(Dt,$t,lr){if(Dt===0)return K.pathSector(2*Ne);var Hr=Ce(Dt,$t),xt=Ce(Dt,lr),Qt=Te((Hr[0]+xt[0])/2),jt=Te((Hr[1]+xt[1])/2),Sr,gr;if(Qt&&jt){var ut=jt/Qt,st=-1/ut,bt=ye(Ne,ut,Qt,jt);Sr=ye(Ue,st,bt[0][0],bt[0][1]),gr=ye(Ue,st,bt[1][0],bt[1][1])}else{var St,Pt;jt?(St=Ue,Pt=Ne):(St=Ne,Pt=Ue),Sr=[[Qt-St,jt-Pt],[Qt+St,jt-Pt]],gr=[[Qt-St,jt+Pt],[Qt+St,jt+Pt]]}return"M"+Sr.join("L")+"L"+gr.reverse().join("L")+"Z"}function pe(){dt=null,pt=null,mt=K.pathSubplot(),Ct=!1;var Dt=Z._fullLayout[K.id];Rt=P(Dt.bgcolor).getLuminance(),Zt=l.makeZoombox($,Rt,ne,ue,mt),Zt.attr("fill-rule","evenodd"),Xe=l.makeCorners($,ne,ue),p(Z)}function Me(Dt,$t){return $t=Math.max(Math.min($t,j),se),Dt<J?Dt=0:j-Dt<J?Dt=j:$t<J?$t=0:j-$t<J&&($t=j),Math.abs($t-Dt)>ie?(Dt<$t?(dt=Dt,pt=$t):(dt=$t,pt=Dt),!0):(dt=null,pt=null,!1)}function _e(Dt,$t){Dt=Dt||mt,$t=$t||"M0,0Z",Zt.attr("d",Dt),Xe.attr("d",$t),l.transitionZoombox(Zt,Xe,Ct,Rt),Ct=!0;var lr={};Gt(lr),Z.emit("plotly_relayouting",lr)}function tt(Dt,$t){Dt=Dt*Re,$t=$t*Ve;var lr=Je+Dt,Hr=qe+$t,xt=Pe(Je,qe),Qt=Math.min(Pe(lr,Hr),j),jt=ke(Je,qe),Sr,gr;Me(xt,Qt)&&(Sr=mt+K.pathSector(pt),dt&&(Sr+=K.pathSector(dt)),gr=me(dt,jt)+me(pt,jt)),_e(Sr,gr)}function at(Dt,$t,lr,Hr){var xt=w.findIntersectionXY(lr,Hr,lr,[Dt-ge,we-$t]);return Le(xt[0],xt[1])}function At(Dt,$t){var lr=Je+Dt,Hr=qe+$t,xt=ke(Je,qe),Qt=ke(lr,Hr),jt=Ae(xt,Fe),Sr=Ae(Qt,Fe),gr=at(Je,qe,jt[0],jt[1]),ut=Math.min(at(lr,Hr,Sr[0],Sr[1]),j),st,bt;Me(gr,ut)&&(st=mt+K.pathSector(pt),dt&&(st+=K.pathSector(dt)),bt=[oe(dt,jt[0],jt[1]),oe(pt,jt[0],jt[1])].join(" ")),_e(st,bt)}function Ft(){if(l.removeZoombox(Z),!(dt===null||pt===null)){var Dt={};Gt(Dt),l.showDoubleClickNotifier(Z),a.call("_guiRelayout",Z,Dt)}}function Gt(Dt){var $t=ze._rl,lr=($t[1]-$t[0])/(1-se/j)/j,Hr=[$t[0]+(dt-se)*lr,$t[0]+(pt-se)*lr];Dt[K.id+".radialaxis.range"]=Hr}function Yt(Dt,$t){var lr=Z._fullLayout.clickmode;if(l.removeZoombox(Z),Dt===2){var Hr={};for(var xt in K.viewInitial)Hr[K.id+"."+xt]=K.viewInitial[xt];Z.emit("plotly_doubleclick",null),a.call("_guiRelayout",Z,Hr)}lr.indexOf("select")>-1&&Dt===1&&o($t,Z,[K.xaxis],[K.yaxis],K.id,Qe),lr.indexOf("event")>-1&&c.click(Z,$t,K.id)}Qe.prepFn=function(Dt,$t,lr){var Hr=Z._fullLayout.dragmode,xt=rt.getBoundingClientRect();Z._fullLayout._calcInverseTransform(Z);var Qt=Z._fullLayout._invTransform;Re=Z._fullLayout._invScaleX,Ve=Z._fullLayout._invScaleY;var jt=L.apply3DTransform(Qt)($t-xt.left,lr-xt.top);if(Je=jt[0],qe=jt[1],Fe){var Sr=w.findPolygonOffset(j,xe[0],xe[1],Fe);Je+=ge+Sr[0],qe+=we+Sr[1]}switch(Hr){case"zoom":Qe.clickFn=Yt,W||(Fe?Qe.moveFn=At:Qe.moveFn=tt,Qe.doneFn=Ft,pe());break;case"select":case"lasso":h(Dt,$t,lr,Qe,Hr);break}},x.init(Qe)},B.updateRadialDrag=function(fe,K,W){var Z=this,X=Z.gd,$=Z.layers,ie=Z.radius,J=Z.innerRadius,j=Z.cx,se=Z.cy,ne=Z.radialAxis,ue=M.radialDragBoxSize,ge=ue/2;if(!ne.visible)return;var we=O(Z.radialAxisAngle),xe=ne._rl,Fe=xe[0],ze=xe[1],Te=xe[W],ye=.75*(xe[1]-xe[0])/(1-Z.getHole(K))/ie,Ae,Ne,Ue;W?(Ae=j+(ie+ge)*Math.cos(we),Ne=se-(ie+ge)*Math.sin(we),Ue="radialdrag"):(Ae=j+(J-ge)*Math.cos(we),Ne=se-(J-ge)*Math.sin(we),Ue="radialdrag-inner");var Re=l.makeRectDragger($,Ue,"crosshair",-ge,-ge,ue,ue),Ve={element:Re,gd:X};fe.dragmode===!1&&(Ve.dragmode=!1),ae(g.select(Re),ne.visible&&J<ie,{transform:v(Ae,Ne)});var rt,Qe,Je;function qe(Rt,Zt){if(rt)rt(Rt,Zt);else{var Xe=[Rt,-Zt],Le=[Math.cos(we),Math.sin(we)],Pe=Math.abs(L.dot(Xe,Le)/Math.sqrt(L.dot(Xe,Xe)));isNaN(Pe)||(rt=Pe<.5?mt:Ct)}var ke={};dt(ke),X.emit("plotly_relayouting",ke)}function dt(Rt){Qe!==null?Rt[Z.id+".radialaxis.angle"]=Qe:Je!==null&&(Rt[Z.id+".radialaxis.range["+W+"]"]=Je)}function pt(){Qe!==null?a.call("_guiRelayout",X,Z.id+".radialaxis.angle",Qe):Je!==null&&a.call("_guiRelayout",X,Z.id+".radialaxis.range["+W+"]",Je)}function mt(Rt,Zt){if(W!==0){var Xe=Ae+Rt,Le=Ne+Zt;Qe=Math.atan2(se-Le,Xe-j),Z.vangles&&(Qe=ee(Qe,Z.vangles)),Qe=z(Qe);var Pe=v(j,se)+T(-Qe);$["radial-axis"].attr("transform",Pe),$["radial-line"].select("line").attr("transform",Pe);var ke=Z.gd._fullLayout,Ce=ke[Z.id];Z.updateRadialAxisTitle(ke,Ce,Qe)}}function Ct(Rt,Zt){var Xe=L.dot([Rt,-Zt],[Math.cos(we),Math.sin(we)]);if(Je=Te-ye*Xe,ye>0!=(W?Je>Fe:Je<ze)){Je=null;return}var Le=X._fullLayout,Pe=Le[Z.id];ne.range[W]=Je,ne._rl[W]=Je,Z.updateRadialAxis(Le,Pe),Z.xaxis.setRange(),Z.xaxis.setScale(),Z.yaxis.setRange(),Z.yaxis.setScale();var ke=!1;for(var Ce in Z.traceHash){var me=Z.traceHash[Ce],oe=L.filterVisible(me),pe=me[0][0].trace._module;pe.plot(X,Z,oe,Pe),a.traceIs(Ce,"gl")&&oe.length&&(ke=!0)}ke&&(A(X),E(X))}Ve.prepFn=function(){rt=null,Qe=null,Je=null,Ve.moveFn=qe,Ve.doneFn=pt,p(X)},Ve.clampFn=function(Rt,Zt){return Math.sqrt(Rt*Rt+Zt*Zt)<M.MINDRAG&&(Rt=0,Zt=0),[Rt,Zt]},x.init(Ve)},B.updateAngularDrag=function(fe){var K=this,W=K.gd,Z=K.layers,X=K.radius,$=K.angularAxis,ie=K.cx,J=K.cy,j=K.cxx,se=K.cyy,ne=M.angularDragBoxSize,ue=l.makeDragger(Z,"path","angulardrag",fe.dragmode===!1?"none":"move"),ge={element:ue,gd:W};fe.dragmode===!1?ge.dragmode=!1:g.select(ue).attr("d",K.pathAnnulus(X,X+ne)).attr("transform",v(ie,J)).call(S,"move");function we(Je,qe){return Math.atan2(se+ne-qe,Je-j-ne)}var xe=Z.frontplot.select(".scatterlayer").selectAll(".trace"),Fe=xe.selectAll(".point"),ze=xe.selectAll(".textpoint"),Te,ye,Ae,Ne,Ue,Re;function Ve(Je,qe){var dt=K.gd._fullLayout,pt=dt[K.id],mt=Te+Je*fe._invScaleX,Ct=ye+qe*fe._invScaleY,Rt=we(mt,Ct),Zt=z(Rt-Re);if(Ne=Ae+Zt,Z.frontplot.attr("transform",v(K.xOffset2,K.yOffset2)+T([-Zt,j,se])),K.vangles){Ue=K.radialAxisAngle+Zt;var Xe=v(ie,J)+T(-Zt),Le=v(ie,J)+T(-Ue);Z.bg.attr("transform",Xe),Z["radial-grid"].attr("transform",Xe),Z["radial-axis"].attr("transform",Le),Z["radial-line"].select("line").attr("transform",Le),K.updateRadialAxisTitle(dt,pt,Ue)}else K.clipPaths.forTraces.select("path").attr("transform",v(j,se)+T(Zt));Fe.each(function(){var Me=g.select(this),_e=t.getTranslate(Me);Me.attr("transform",v(_e.x,_e.y)+T([Zt]))}),ze.each(function(){var Me=g.select(this),_e=Me.select("text"),tt=t.getTranslate(Me);Me.attr("transform",T([Zt,_e.attr("x"),_e.attr("y")])+v(tt.x,tt.y))}),$.rotation=L.modHalf(Ne,360),K.updateAngularAxis(dt,pt),K._hasClipOnAxisFalse&&!L.isFullCircle(K.sectorInRad)&&xe.call(t.hideOutsideRangePoints,K);var Pe=!1;for(var ke in K.traceHash)if(a.traceIs(ke,"gl")){var Ce=K.traceHash[ke],me=L.filterVisible(Ce),oe=Ce[0][0].trace._module;oe.plot(W,K,me,pt),me.length&&(Pe=!0)}Pe&&(A(W),E(W));var pe={};rt(pe),W.emit("plotly_relayouting",pe)}function rt(Je){Je[K.id+".angularaxis.rotation"]=Ne,K.vangles&&(Je[K.id+".radialaxis.angle"]=Ue)}function Qe(){ze.select("text").attr("transform",null);var Je={};rt(Je),a.call("_guiRelayout",W,Je)}ge.prepFn=function(Je,qe,dt){var pt=fe[K.id];Ae=pt.angularaxis.rotation;var mt=ue.getBoundingClientRect();Te=qe-mt.left,ye=dt-mt.top,W._fullLayout._calcInverseTransform(W);var Ct=L.apply3DTransform(fe._invTransform)(Te,ye);Te=Ct[0],ye=Ct[1],Re=we(Te,ye),ge.moveFn=Ve,ge.doneFn=Qe,p(W)},K.vangles&&!L.isFullCircle(K.sectorInRad)&&(ge.prepFn=L.noop,S(g.select(ue),null)),x.init(ge)},B.isPtInside=function(fe){if(this.isSmith)return!0;var K=this.sectorInRad,W=this.vangles,Z=this.angularAxis.c2g(fe.theta),X=this.radialAxis,$=X.c2l(fe.r),ie=X._rl,J=W?w.isPtInsidePolygon:L.isPtInsideSector;return J($,Z,ie,K,W)},B.pathArc=function(fe){var K=this.sectorInRad,W=this.vangles,Z=W?w.pathPolygon:L.pathArc;return Z(fe,K[0],K[1],W)},B.pathSector=function(fe){var K=this.sectorInRad,W=this.vangles,Z=W?w.pathPolygon:L.pathSector;return Z(fe,K[0],K[1],W)},B.pathAnnulus=function(fe,K){var W=this.sectorInRad,Z=this.vangles,X=Z?w.pathPolygonAnnulus:L.pathAnnulus;return X(fe,K,W[0],W[1],Z)},B.pathSubplot=function(){var fe=this.innerRadius,K=this.radius;return fe?this.pathAnnulus(fe,K):this.pathSector(K)},B.fillViewInitialKey=function(fe,K){fe in this.viewInitial||(this.viewInitial[fe]=K)};function G(fe){var K=fe.ticks+String(fe.ticklen)+String(fe.showticklabels);return"side"in fe&&(K+=fe.side),K}function Q(fe){var K=fe[0],W=fe[1],Z=W-K,X=k(K,360),$=X+Z,ie=Math.cos(O(X)),J=Math.sin(O(X)),j=Math.cos(O($)),se=Math.sin(O($)),ne,ue,ge,we;return X<=90&&$>=90||X>90&&$>=450?we=1:J<=0&&se<=0?we=0:we=Math.max(J,se),X<=180&&$>=180||X>180&&$>=540?ne=-1:ie>=0&&j>=0?ne=0:ne=Math.min(ie,j),X<=270&&$>=270||X>270&&$>=630?ue=-1:J>=0&&se>=0?ue=0:ue=Math.min(J,se),$>=360?ge=1:ie<=0&&j<=0?ge=0:ge=Math.max(ie,j),[ne,ue,ge,we]}function ee(fe,K){var W=function(X){return L.angleDist(fe,X)},Z=L.findIndexOfMin(K,W);return K[Z]}function ae(fe,K,W){return K?(fe.attr("display",null),fe.attr(W)):fe&&fe.attr("display","none"),fe}},12101:function(H,U,e){var g=e(71828),P=e(21994),a=g.deg2rad,L=g.rad2deg;H.exports=function(u,n,s){switch(P(u,s),u._id){case"x":case"radialaxis":T(u,n);break;case"angularaxis":t(u,n);break}};function T(r,u){var n=u._subplot;r.setGeometry=function(){var s=r._rl[0],f=r._rl[1],l=n.innerRadius,x=(n.radius-l)/(f-s),c=l/x,b=s>f?function(h){return h<=0}:function(h){return h>=0};r.c2g=function(h){var o=r.c2l(h)-s;return(b(o)?o:0)+c},r.g2c=function(h){return r.l2c(h+s-c)},r.g2p=function(h){return h*x},r.c2p=function(h){return r.g2p(r.c2g(h))}}}function v(r,u){return u==="degrees"?a(r):r}function d(r,u){return u==="degrees"?L(r):r}function t(r,u){var n=r.type;if(n==="linear"){var s=r.d2c,f=r.c2d;r.d2c=function(l,x){return v(s(l),x)},r.c2d=function(l,x){return f(d(l,x))}}r.makeCalcdata=function(l,x){var c=l[x],b=l._length,h,o,p=function(M){return r.d2c(M,l.thetaunit)};if(c){if(g.isTypedArray(c)&&n==="linear"){if(b===c.length)return c;if(c.subarray)return c.subarray(0,b)}for(h=new Array(b),o=0;o<b;o++)h[o]=p(c[o])}else{var S=x+"0",A="d"+x,E=S in l?p(l[S]):0,m=l[A]?p(l[A]):(r.period||2*Math.PI)/b;for(h=new Array(b),o=0;o<b;o++)h[o]=E+o*m}return h},r.setGeometry=function(){var l=u.sector,x=l.map(a),c={clockwise:-1,counterclockwise:1}[r.direction],b=a(r.rotation),h=function(w){return c*w+b},o=function(w){return(w-b)/c},p,S,A,E;switch(n){case"linear":S=p=g.identity,E=a,A=L,r.range=g.isFullCircle(x)?[l[0],l[0]+360]:x.map(o).map(L);break;case"category":var m=r._categories.length,M=r.period?Math.max(r.period,m):m;M===0&&(M=1),S=E=function(w){return w*2*Math.PI/M},p=A=function(w){return w*M/Math.PI/2},r.range=[0,M];break}r.c2g=function(w){return h(S(w))},r.g2c=function(w){return p(o(w))},r.t2g=function(w){return h(E(w))},r.g2t=function(w){return A(o(w))}}}},39779:function(H){H.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},23893:function(H){function U(T){return T<0?-1:T>0?1:0}function e(T){var v=T[0],d=T[1];if(!isFinite(v)||!isFinite(d))return[1,0];var t=(v+1)*(v+1)+d*d;return[(v*v+d*d-1)/t,2*d/t]}function g(T,v){var d=v[0],t=v[1];return[d*T.radius+T.cx,-t*T.radius+T.cy]}function P(T,v){return v*T.radius}function a(T,v,d,t){var r=g(T,e([d,v])),u=r[0],n=r[1],s=g(T,e([t,v])),f=s[0],l=s[1];if(v===0)return["M"+u+","+n,"L"+f+","+l].join(" ");var x=P(T,1/Math.abs(v));return["M"+u+","+n,"A"+x+","+x+" 0 0,"+(v<0?1:0)+" "+f+","+l].join(" ")}function L(T,v,d,t){var r=P(T,1/(v+1)),u=g(T,e([v,d])),n=u[0],s=u[1],f=g(T,e([v,t])),l=f[0],x=f[1];if(U(d)!==U(t)){var c=g(T,e([v,0])),b=c[0],h=c[1];return["M"+n+","+s,"A"+r+","+r+" 0 0,"+(0<d?0:1)+" "+b+","+h,"A"+r+","+r+" 0 0,"+(t<0?0:1)+l+","+x].join(" ")}return["M"+n+","+s,"A"+r+","+r+" 0 0,"+(t<d?0:1)+" "+l+","+x].join(" ")}H.exports={smith:e,reactanceArc:a,resistanceArc:L,smithTransform:g}},7504:function(H,U,e){var g=e(27659).AU,P=e(71828).counterRegex,a=e(77997),L=e(39779),T=L.attr,v=L.name,d=P(v),t={};t[T]={valType:"subplotid",dflt:v,editType:"calc"};function r(n){for(var s=n._fullLayout,f=n.calcdata,l=s._subplots[v],x=0;x<l.length;x++){var c=l[x],b=g(f,v,c),h=s[c]._subplot;h||(h=a(n,c,!0),s[c]._subplot=h),h.plot(b,s,n._promises)}}function u(n,s,f,l){for(var x=l._subplots[v]||[],c=0;c<x.length;c++){var b=x[c],h=l[b]._subplot;if(!s[b]&&h){h.framework.remove();for(var o in h.clipPaths)h.clipPaths[o].remove()}}}H.exports={attr:T,name:v,idRoot:v,idRegex:d,attrRegex:d,attributes:t,layoutAttributes:e(33419),supplyLayoutDefaults:e(9558),plot:r,clean:u,toSVG:e(93612).toSVG}},33419:function(H,U,e){var g=e(22399),P=e(13838),a=e(27670).Y,L=e(71828).extendFlat,T=e(30962).overrideAll,v=T({color:P.color,showline:L({},P.showline,{dflt:!0}),linecolor:P.linecolor,linewidth:P.linewidth,showgrid:L({},P.showgrid,{dflt:!0}),gridcolor:P.gridcolor,gridwidth:P.gridwidth,griddash:P.griddash},"plot","from-root"),d=T({ticklen:P.ticklen,tickwidth:L({},P.tickwidth,{dflt:2}),tickcolor:P.tickcolor,showticklabels:P.showticklabels,labelalias:P.labelalias,showtickprefix:P.showtickprefix,tickprefix:P.tickprefix,showticksuffix:P.showticksuffix,ticksuffix:P.ticksuffix,tickfont:P.tickfont,tickformat:P.tickformat,hoverformat:P.hoverformat,layer:P.layer},"plot","from-root"),t=L({visible:L({},P.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:L({},P.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},v,d),r=L({visible:L({},P.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:P.ticks,editType:"calc"},v,d);H.exports={domain:a({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:g.background},realaxis:t,imaginaryaxis:r,editType:"calc"}},9558:function(H,U,e){var g=e(71828),P=e(7901),a=e(44467),L=e(49119),T=e(27659).NG,v=e(89426),d=e(96115),t=e(92128),r=e(21994),u=e(33419),n=e(39779),s=n.axisNames,f=x(function(c){return c.slice().reverse().map(function(b){return-b}).concat([0]).concat(c)},String);function l(c,b,h,o){var p=h("bgcolor");o.bgColor=P.combine(p,o.paper_bgcolor);var S=T(o.fullData,n.name,o.id),A=o.layoutOut,E;function m(B,G){return h(E+"."+B,G)}for(var M=0;M<s.length;M++){E=s[M],g.isPlainObject(c[E])||(c[E]={});var w=c[E],i=a.newContainer(b,E);i._id=i._name=E,i._attr=o.id+"."+E,i._traceIndices=S.map(function(B){return B._expandedIndex});var C=m("visible");if(i.type="linear",r(i,A),v(w,i,m,i.type),C){var y=E==="realaxis";if(y&&m("side"),y)m("tickvals");else{var _=f(b.realaxis.tickvals||u.realaxis.tickvals.dflt);m("tickvals",_)}var I,N,k,O,z=o.font||{};C&&(I=m("color"),N=I===w.color?I:z.color,k=z.size,O=z.family),d(w,i,m,i.type,{noTicklabelstep:!0,noAng:!y,noExp:!0,font:{color:N,size:k,family:O}}),g.coerce2(c,b,u,E+".ticklen"),g.coerce2(c,b,u,E+".tickwidth"),g.coerce2(c,b,u,E+".tickcolor",b.color);var F=m("ticks");F||(delete b[E].ticklen,delete b[E].tickwidth,delete b[E].tickcolor),t(w,i,m,{dfltColor:I,bgColor:o.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:u[E]}),m("layer")}m("hoverformat"),delete i.type,i._input=w}}H.exports=function(b,h,o){L(b,h,o,{noUirevision:!0,type:n.name,attributes:u,handleDefaults:l,font:h.font,paper_bgcolor:h.paper_bgcolor,fullData:o,layoutOut:h})};function x(c,b){var h={};return function(o){var p=b?b(o):o;if(p in h)return h[p];var S=c(o);return h[p]=S,S}}},49119:function(H,U,e){var g=e(71828),P=e(44467),a=e(27670).c;H.exports=function(T,v,d,t){var r=t.type,u=t.attributes,n=t.handleDefaults,s=t.partition||"x",f=v._subplots[r],l=f.length,x=l&&f[0].replace(/\d+$/,""),c,b;function h(A,E){return g.coerce(c,b,u,A,E)}for(var o=0;o<l;o++){var p=f[o];T[p]?c=T[p]:c=T[p]={},b=P.newContainer(v,p,x),t.noUirevision||h("uirevision",v.uirevision);var S={};S[s]=[o/l,(o+1)/l],a(b,v,h,S),t.id=p,n(c,b,h,t)}}},5386:function(H,U,e){var g=e(31562);g.FORMAT_LINK,g.DATE_FORMAT_LINK;function P(a){var L=a.description?" "+a.description:"",T=a.keys||[];if(T.length>0){for(var v=[],d=0;d<T.length;d++)v[d]="`"+T[d]+"`";L=L+"Finally, the template string has access to ",T.length===1?L=L+"variable "+v[0]:L=L+"variables "+v.slice(0,-1).join(", ")+" and "+v.slice(-1)+"."}return L}U.fF=function(a,L){a=a||{},L=L||{},P(L);var T={valType:"string",dflt:"",editType:a.editType||"none"};return a.arrayOk!==!1&&(T.arrayOk=!0),T},U.si=function(a,L){a=a||{},L=L||{},P(L);var T={valType:"string",dflt:"",editType:a.editType||"calc"};return a.arrayOk!==!1&&(T.arrayOk=!0),T},U.R=function(a,L){a=a||{},L=L||{},a.newshape,P(L);var T={valType:"string",dflt:"",editType:a.editType||"arraydraw"};return T}},61639:function(H,U,e){var g=e(64380),P=e(27659).AU,a=e(71828).counterRegex,L="ternary";U.name=L;var T=U.attr="subplot";U.idRoot=L,U.idRegex=U.attrRegex=a(L);var v=U.attributes={};v[T]={valType:"subplotid",dflt:"ternary",editType:"calc"},U.layoutAttributes=e(81367),U.supplyLayoutDefaults=e(25369),U.plot=function(t){for(var r=t._fullLayout,u=t.calcdata,n=r._subplots[L],s=0;s<n.length;s++){var f=n[s],l=P(u,L,f),x=r[f]._subplot;x||(x=new g({id:f,graphDiv:t,container:r._ternarylayer.node()},r),r[f]._subplot=x),x.plot(l,r,t._promises)}},U.clean=function(d,t,r,u){for(var n=u._subplots[L]||[],s=0;s<n.length;s++){var f=n[s],l=u[f]._subplot;!t[f]&&l&&(l.plotContainer.remove(),l.clipDef.remove(),l.clipDefRelative.remove(),l.layers["a-title"].remove(),l.layers["b-title"].remove(),l.layers["c-title"].remove())}}},81367:function(H,U,e){var g=e(22399),P=e(27670).Y,a=e(13838),L=e(30962).overrideAll,T=e(1426).extendFlat,v={title:{text:a.title.text,font:a.title.font},color:a.color,tickmode:a.minor.tickmode,nticks:T({},a.nticks,{dflt:6,min:1}),tick0:a.tick0,dtick:a.dtick,tickvals:a.tickvals,ticktext:a.ticktext,ticks:a.ticks,ticklen:a.ticklen,tickwidth:a.tickwidth,tickcolor:a.tickcolor,ticklabelstep:a.ticklabelstep,showticklabels:a.showticklabels,labelalias:a.labelalias,showtickprefix:a.showtickprefix,tickprefix:a.tickprefix,showticksuffix:a.showticksuffix,ticksuffix:a.ticksuffix,showexponent:a.showexponent,exponentformat:a.exponentformat,minexponent:a.minexponent,separatethousands:a.separatethousands,tickfont:a.tickfont,tickangle:a.tickangle,tickformat:a.tickformat,tickformatstops:a.tickformatstops,hoverformat:a.hoverformat,showline:T({},a.showline,{dflt:!0}),linecolor:a.linecolor,linewidth:a.linewidth,showgrid:T({},a.showgrid,{dflt:!0}),gridcolor:a.gridcolor,gridwidth:a.gridwidth,griddash:a.griddash,layer:a.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:a._deprecated.title,titlefont:a._deprecated.titlefont}},d=H.exports=L({domain:P({name:"ternary"}),bgcolor:{valType:"color",dflt:g.background},sum:{valType:"number",dflt:1,min:0},aaxis:v,baxis:v,caxis:v},"plot","from-root");d.uirevision={valType:"any",editType:"none"},d.aaxis.uirevision=d.baxis.uirevision=d.caxis.uirevision={valType:"any",editType:"none"}},25369:function(H,U,e){var g=e(7901),P=e(44467),a=e(71828),L=e(49119),T=e(96115),v=e(89426),d=e(38701),t=e(26218),r=e(92128),u=e(81367),n=["aaxis","baxis","caxis"];H.exports=function(x,c,b){L(x,c,b,{type:"ternary",attributes:u,handleDefaults:s,font:c.font,paper_bgcolor:c.paper_bgcolor})};function s(l,x,c,b){var h=c("bgcolor"),o=c("sum");b.bgColor=g.combine(h,b.paper_bgcolor);for(var p,S,A,E=0;E<n.length;E++)p=n[E],S=l[p]||{},A=P.newContainer(x,p),A._name=p,f(S,A,b,x);var m=x.aaxis,M=x.baxis,w=x.caxis;m.min+M.min+w.min>=o&&(m.min=0,M.min=0,w.min=0,l.aaxis&&delete l.aaxis.min,l.baxis&&delete l.baxis.min,l.caxis&&delete l.caxis.min)}function f(l,x,c,b){var h=u[x._name];function o(i,C){return a.coerce(l,x,h,i,C)}o("uirevision",b.uirevision),x.type="linear";var p=o("color"),S=p!==h.color.dflt?p:c.font.color,A=x._name,E=A.charAt(0).toUpperCase(),m="Component "+E,M=o("title.text",m);x._hovertitle=M===m?M:E,a.coerceFont(o,"title.font",{family:c.font.family,size:a.bigFont(c.font.size),color:S}),o("min"),t(l,x,o,"linear"),v(l,x,o,"linear"),T(l,x,o,"linear"),d(l,x,o,{outerTicks:!0});var w=o("showticklabels");w&&(a.coerceFont(o,"tickfont",{family:c.font.family,size:c.font.size,color:S}),o("tickangle"),o("tickformat")),r(l,x,o,{dfltColor:p,bgColor:c.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:h}),o("hoverformat"),o("layer")}},64380:function(H,U,e){var g=e(39898),P=e(84267),a=e(73972),L=e(71828),T=L.strTranslate,v=L._,d=e(7901),t=e(91424),r=e(21994),u=e(1426).extendFlat,n=e(74875),s=e(89298),f=e(28569),l=e(30211),x=e(64505),c=x.freeMode,b=x.rectMode,h=e(92998),o=e(47322).prepSelect,p=e(47322).selectOnClick,S=e(47322).clearOutline,A=e(47322).clearSelectionsCache,E=e(85555);function m(z,F){this.id=z.id,this.graphDiv=z.graphDiv,this.init(F),this.makeFramework(F),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}H.exports=m;var M=m.prototype;M.init=function(z){this.container=z._ternarylayer,this.defs=z._defs,this.layoutId=z._uid,this.traceHash={},this.layers={}},M.plot=function(z,F){var B=this,G=F[B.id],Q=F._size;B._hasClipOnAxisFalse=!1;for(var ee=0;ee<z.length;ee++){var ae=z[ee][0].trace;if(ae.cliponaxis===!1){B._hasClipOnAxisFalse=!0;break}}B.updateLayers(G),B.adjustLayout(G,Q),n.generalUpdatePerTraceModule(B.graphDiv,B,z,G),B.layers.plotbg.select("path").call(d.fill,G.bgcolor)},M.makeFramework=function(z){var F=this,B=F.graphDiv,G=z[F.id],Q=F.clipId="clip"+F.layoutId+F.id,ee=F.clipIdRelative="clip-relative"+F.layoutId+F.id;F.clipDef=L.ensureSingleById(z._clips,"clipPath",Q,function(ae){ae.append("path").attr("d","M0,0Z")}),F.clipDefRelative=L.ensureSingleById(z._clips,"clipPath",ee,function(ae){ae.append("path").attr("d","M0,0Z")}),F.plotContainer=L.ensureSingle(F.container,"g",F.id),F.updateLayers(G),t.setClipUrl(F.layers.backplot,Q,B),t.setClipUrl(F.layers.grids,Q,B)},M.updateLayers=function(z){var F=this,B=F.layers,G=["draglayer","plotbg","backplot","grids"];z.aaxis.layer==="below traces"&&G.push("aaxis","aline"),z.baxis.layer==="below traces"&&G.push("baxis","bline"),z.caxis.layer==="below traces"&&G.push("caxis","cline"),G.push("frontplot"),z.aaxis.layer==="above traces"&&G.push("aaxis","aline"),z.baxis.layer==="above traces"&&G.push("baxis","bline"),z.caxis.layer==="above traces"&&G.push("caxis","cline");var Q=F.plotContainer.selectAll("g.toplevel").data(G,String),ee=["agrid","bgrid","cgrid"];Q.enter().append("g").attr("class",function(ae){return"toplevel "+ae}).each(function(ae){var fe=g.select(this);B[ae]=fe,ae==="frontplot"?fe.append("g").classed("scatterlayer",!0):ae==="backplot"?fe.append("g").classed("maplayer",!0):ae==="plotbg"?fe.append("path").attr("d","M0,0Z"):ae==="aline"||ae==="bline"||ae==="cline"?fe.append("path"):ae==="grids"&&ee.forEach(function(K){B[K]=fe.append("g").classed("grid "+K,!0)})}),Q.order()};var w=Math.sqrt(4/3);M.adjustLayout=function(z,F){var B=this,G=z.domain,Q=(G.x[0]+G.x[1])/2,ee=(G.y[0]+G.y[1])/2,ae=G.x[1]-G.x[0],fe=G.y[1]-G.y[0],K=ae*F.w,W=fe*F.h,Z=z.sum,X=z.aaxis.min,$=z.baxis.min,ie=z.caxis.min,J,j,se,ne,ue,ge;K>w*W?(ne=W,se=ne*w):(se=K,ne=se/w),ue=ae*se/K,ge=fe*ne/W,J=F.l+F.w*Q-se/2,j=F.t+F.h*(1-ee)-ne/2,B.x0=J,B.y0=j,B.w=se,B.h=ne,B.sum=Z,B.xaxis={type:"linear",range:[X+2*ie-Z,Z-X-2*$],domain:[Q-ue/2,Q+ue/2],_id:"x"},r(B.xaxis,B.graphDiv._fullLayout),B.xaxis.setScale(),B.xaxis.isPtWithinRange=function(Ve){return Ve.a>=B.aaxis.range[0]&&Ve.a<=B.aaxis.range[1]&&Ve.b>=B.baxis.range[1]&&Ve.b<=B.baxis.range[0]&&Ve.c>=B.caxis.range[1]&&Ve.c<=B.caxis.range[0]},B.yaxis={type:"linear",range:[X,Z-$-ie],domain:[ee-ge/2,ee+ge/2],_id:"y"},r(B.yaxis,B.graphDiv._fullLayout),B.yaxis.setScale(),B.yaxis.isPtWithinRange=function(){return!0};var we=B.yaxis.domain[0],xe=B.aaxis=u({},z.aaxis,{range:[X,Z-$-ie],side:"left",tickangle:(+z.aaxis.tickangle||0)-30,domain:[we,we+ge*w],anchor:"free",position:0,_id:"y",_length:se});r(xe,B.graphDiv._fullLayout),xe.setScale();var Fe=B.baxis=u({},z.baxis,{range:[Z-X-ie,$],side:"bottom",domain:B.xaxis.domain,anchor:"free",position:0,_id:"x",_length:se});r(Fe,B.graphDiv._fullLayout),Fe.setScale();var ze=B.caxis=u({},z.caxis,{range:[Z-X-$,ie],side:"right",tickangle:(+z.caxis.tickangle||0)+30,domain:[we,we+ge*w],anchor:"free",position:0,_id:"y",_length:se});r(ze,B.graphDiv._fullLayout),ze.setScale();var Te="M"+J+","+(j+ne)+"h"+se+"l-"+se/2+",-"+ne+"Z";B.clipDef.select("path").attr("d",Te),B.layers.plotbg.select("path").attr("d",Te);var ye="M0,"+ne+"h"+se+"l-"+se/2+",-"+ne+"Z";B.clipDefRelative.select("path").attr("d",ye);var Ae=T(J,j);B.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Ae),B.clipDefRelative.select("path").attr("transform",null);var Ne=T(J-Fe._offset,j+ne);B.layers.baxis.attr("transform",Ne),B.layers.bgrid.attr("transform",Ne);var Ue=T(J+se/2,j)+"rotate(30)"+T(0,-xe._offset);B.layers.aaxis.attr("transform",Ue),B.layers.agrid.attr("transform",Ue);var Re=T(J+se/2,j)+"rotate(-30)"+T(0,-ze._offset);B.layers.caxis.attr("transform",Re),B.layers.cgrid.attr("transform",Re),B.drawAxes(!0),B.layers.aline.select("path").attr("d",xe.showline?"M"+J+","+(j+ne)+"l"+se/2+",-"+ne:"M0,0").call(d.stroke,xe.linecolor||"#000").style("stroke-width",(xe.linewidth||0)+"px"),B.layers.bline.select("path").attr("d",Fe.showline?"M"+J+","+(j+ne)+"h"+se:"M0,0").call(d.stroke,Fe.linecolor||"#000").style("stroke-width",(Fe.linewidth||0)+"px"),B.layers.cline.select("path").attr("d",ze.showline?"M"+(J+se/2)+","+j+"l"+se/2+","+ne:"M0,0").call(d.stroke,ze.linecolor||"#000").style("stroke-width",(ze.linewidth||0)+"px"),B.graphDiv._context.staticPlot||B.initInteractions(),t.setClipUrl(B.layers.frontplot,B._hasClipOnAxisFalse?null:B.clipId,B.graphDiv)},M.drawAxes=function(z){var F=this,B=F.graphDiv,G=F.id.substr(7)+"title",Q=F.layers,ee=F.aaxis,ae=F.baxis,fe=F.caxis;if(F.drawAx(ee),F.drawAx(ae),F.drawAx(fe),z){var K=Math.max(ee.showticklabels?ee.tickfont.size/2:0,(fe.showticklabels?fe.tickfont.size*.75:0)+(fe.ticks==="outside"?fe.ticklen*.87:0)),W=(ae.showticklabels?ae.tickfont.size:0)+(ae.ticks==="outside"?ae.ticklen:0)+3;Q["a-title"]=h.draw(B,"a"+G,{propContainer:ee,propName:F.id+".aaxis.title",placeholder:v(B,"Click to enter Component A title"),attributes:{x:F.x0+F.w/2,y:F.y0-ee.title.font.size/3-K,"text-anchor":"middle"}}),Q["b-title"]=h.draw(B,"b"+G,{propContainer:ae,propName:F.id+".baxis.title",placeholder:v(B,"Click to enter Component B title"),attributes:{x:F.x0-W,y:F.y0+F.h+ae.title.font.size*.83+W,"text-anchor":"middle"}}),Q["c-title"]=h.draw(B,"c"+G,{propContainer:fe,propName:F.id+".caxis.title",placeholder:v(B,"Click to enter Component C title"),attributes:{x:F.x0+F.w+W,y:F.y0+F.h+fe.title.font.size*.83+W,"text-anchor":"middle"}})}},M.drawAx=function(z){var F=this,B=F.graphDiv,G=z._name,Q=G.charAt(0),ee=z._id,ae=F.layers[G],fe=30,K=Q+"tickLayout",W=i(z);F[K]!==W&&(ae.selectAll("."+ee+"tick").remove(),F[K]=W),z.setScale();var Z=s.calcTicks(z),X=s.clipEnds(z,Z),$=s.makeTransTickFn(z),ie=s.getTickSigns(z)[2],J=L.deg2rad(fe),j=ie*(z.linewidth||1)/2,se=ie*z.ticklen,ne=F.w,ue=F.h,ge=Q==="b"?"M0,"+j+"l"+Math.sin(J)*se+","+Math.cos(J)*se:"M"+j+",0l"+Math.cos(J)*se+","+-Math.sin(J)*se,we={a:"M0,0l"+ue+",-"+ne/2,b:"M0,0l-"+ne/2+",-"+ue,c:"M0,0l-"+ue+","+ne/2}[Q];s.drawTicks(B,z,{vals:z.ticks==="inside"?X:Z,layer:ae,path:ge,transFn:$,crisp:!1}),s.drawGrid(B,z,{vals:X,layer:F.layers[Q+"grid"],path:we,transFn:$,crisp:!1}),s.drawLabels(B,z,{vals:Z,layer:ae,transFn:$,labelFns:s.makeLabelFns(z,0,fe)})};function i(z){return z.ticks+String(z.ticklen)+String(z.showticklabels)}var C=E.MINZOOM/2+.87,y="m-0.87,.5h"+C+"v3h-"+(C+5.2)+"l"+(C/2+2.6)+",-"+(C*.87+4.5)+"l2.6,1.5l-"+C/2+","+C*.87+"Z",_="m0.87,.5h-"+C+"v3h"+(C+5.2)+"l-"+(C/2+2.6)+",-"+(C*.87+4.5)+"l-2.6,1.5l"+C/2+","+C*.87+"Z",I="m0,1l"+C/2+","+C*.87+"l2.6,-1.5l-"+(C/2+2.6)+",-"+(C*.87+4.5)+"l-"+(C/2+2.6)+","+(C*.87+4.5)+"l2.6,1.5l"+C/2+",-"+C*.87+"Z",N="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",k=!0;M.clearOutline=function(){A(this.dragOptions),S(this.dragOptions.gd)},M.initInteractions=function(){var z=this,F=z.layers.plotbg.select("path").node(),B=z.graphDiv,G=B._fullLayout._zoomlayer,Q,ee;this.dragOptions={element:F,gd:B,plotinfo:{id:z.id,domain:B._fullLayout[z.id].domain,xaxis:z.xaxis,yaxis:z.yaxis},subplot:z.id,prepFn:function(Ne,Ue,Re){z.dragOptions.xaxes=[z.xaxis],z.dragOptions.yaxes=[z.yaxis],Q=B._fullLayout._invScaleX,ee=B._fullLayout._invScaleY;var Ve=z.dragOptions.dragmode=B._fullLayout.dragmode;c(Ve)?z.dragOptions.minDrag=1:z.dragOptions.minDrag=void 0,Ve==="zoom"?(z.dragOptions.moveFn=Fe,z.dragOptions.clickFn=ne,z.dragOptions.doneFn=ze,ue(Ne,Ue,Re)):Ve==="pan"?(z.dragOptions.moveFn=ye,z.dragOptions.clickFn=ne,z.dragOptions.doneFn=Ae,Te(),z.clearOutline(B)):(b(Ve)||c(Ve))&&o(Ne,Ue,Re,z.dragOptions,Ve)}};var ae,fe,K,W,Z,X,$,ie,J,j;function se(Ne){var Ue={};return Ue[z.id+".aaxis.min"]=Ne.a,Ue[z.id+".baxis.min"]=Ne.b,Ue[z.id+".caxis.min"]=Ne.c,Ue}function ne(Ne,Ue){var Re=B._fullLayout.clickmode;O(B),Ne===2&&(B.emit("plotly_doubleclick",null),a.call("_guiRelayout",B,se({a:0,b:0,c:0}))),Re.indexOf("select")>-1&&Ne===1&&p(Ue,B,[z.xaxis],[z.yaxis],z.id,z.dragOptions),Re.indexOf("event")>-1&&l.click(B,Ue,z.id)}function ue(Ne,Ue,Re){var Ve=F.getBoundingClientRect();ae=Ue-Ve.left,fe=Re-Ve.top,B._fullLayout._calcInverseTransform(B);var rt=B._fullLayout._invTransform,Qe=L.apply3DTransform(rt)(ae,fe);ae=Qe[0],fe=Qe[1],K={a:z.aaxis.range[0],b:z.baxis.range[1],c:z.caxis.range[1]},Z=K,W=z.aaxis.range[1]-K.a,X=P(z.graphDiv._fullLayout[z.id].bgcolor).getLuminance(),$="M0,"+z.h+"L"+z.w/2+", 0L"+z.w+","+z.h+"Z",ie=!1,J=G.append("path").attr("class","zoombox").attr("transform",T(z.x0,z.y0)).style({fill:X>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",$),j=G.append("path").attr("class","zoombox-corners").attr("transform",T(z.x0,z.y0)).style({fill:d.background,stroke:d.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),z.clearOutline(B)}function ge(Ne,Ue){return 1-Ue/z.h}function we(Ne,Ue){return 1-(Ne+(z.h-Ue)/Math.sqrt(3))/z.w}function xe(Ne,Ue){return(Ne-(z.h-Ue)/Math.sqrt(3))/z.w}function Fe(Ne,Ue){var Re=ae+Ne*Q,Ve=fe+Ue*ee,rt=Math.max(0,Math.min(1,ge(ae,fe),ge(Re,Ve))),Qe=Math.max(0,Math.min(1,we(ae,fe),we(Re,Ve))),Je=Math.max(0,Math.min(1,xe(ae,fe),xe(Re,Ve))),qe=(rt/2+Je)*z.w,dt=(1-rt/2-Qe)*z.w,pt=(qe+dt)/2,mt=dt-qe,Ct=(1-rt)*z.h,Rt=Ct-mt/w;mt<E.MINZOOM?(Z=K,J.attr("d",$),j.attr("d","M0,0Z")):(Z={a:K.a+rt*W,b:K.b+Qe*W,c:K.c+Je*W},J.attr("d",$+"M"+qe+","+Ct+"H"+dt+"L"+pt+","+Rt+"L"+qe+","+Ct+"Z"),j.attr("d","M"+ae+","+fe+N+"M"+qe+","+Ct+y+"M"+dt+","+Ct+_+"M"+pt+","+Rt+I)),ie||(J.transition().style("fill",X>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),j.transition().style("opacity",1).duration(200),ie=!0),B.emit("plotly_relayouting",se(Z))}function ze(){O(B),Z!==K&&(a.call("_guiRelayout",B,se(Z)),k&&B.data&&B._context.showTips&&(L.notifier(v(B,"Double-click to zoom back out"),"long"),k=!1))}function Te(){K={a:z.aaxis.range[0],b:z.baxis.range[1],c:z.caxis.range[1]},Z=K}function ye(Ne,Ue){var Re=Ne/z.xaxis._m,Ve=Ue/z.yaxis._m;Z={a:K.a-Ve,b:K.b+(Re+Ve)/2,c:K.c-(Re-Ve)/2};var rt=[Z.a,Z.b,Z.c].sort(L.sorterAsc),Qe={a:rt.indexOf(Z.a),b:rt.indexOf(Z.b),c:rt.indexOf(Z.c)};rt[0]<0&&(rt[1]+rt[0]/2<0?(rt[2]+=rt[0]+rt[1],rt[0]=rt[1]=0):(rt[2]+=rt[0]/2,rt[1]+=rt[0]/2,rt[0]=0),Z={a:rt[Qe.a],b:rt[Qe.b],c:rt[Qe.c]},Ue=(K.a-Z.a)*z.yaxis._m,Ne=(K.c-Z.c-K.b+Z.b)*z.xaxis._m);var Je=T(z.x0+Ne,z.y0+Ue);z.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Je);var qe=T(-Ne,-Ue);z.clipDefRelative.select("path").attr("transform",qe),z.aaxis.range=[Z.a,z.sum-Z.b-Z.c],z.baxis.range=[z.sum-Z.a-Z.c,Z.b],z.caxis.range=[z.sum-Z.a-Z.b,Z.c],z.drawAxes(!1),z._hasClipOnAxisFalse&&z.plotContainer.select(".scatterlayer").selectAll(".trace").call(t.hideOutsideRangePoints,z),B.emit("plotly_relayouting",se(Z))}function Ae(){a.call("_guiRelayout",B,se(Z))}F.onmousemove=function(Ne){l.hover(B,Ne,z.id),B._fullLayout._lasthover=F,B._fullLayout._hoversubplot=z.id},F.onmouseout=function(Ne){B._dragging||f.unhover(B,Ne)},f.init(this.dragOptions)};function O(z){g.select(z).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},73972:function(H,U,e){var g=e(47769),P=e(64213),a=e(75138),L=e(41965),T=e(24401).addStyleRule,v=e(1426),d=e(9012),t=e(10820),r=v.extendFlat,u=v.extendDeepAll;U.modules={},U.allCategories={},U.allTypes=[],U.subplotsRegistry={},U.transformsRegistry={},U.componentsRegistry={},U.layoutArrayContainers=[],U.layoutArrayRegexes=[],U.traceLayoutAttributes={},U.localeRegistry={},U.apiMethodRegistry={},U.collectableSubplotTypes=null,U.register=function(A){if(U.collectableSubplotTypes=null,A)A&&!Array.isArray(A)&&(A=[A]);else throw new Error("No argument passed to Plotly.register.");for(var E=0;E<A.length;E++){var m=A[E];if(!m)throw new Error("Invalid module was attempted to be registered!");switch(m.moduleType){case"trace":n(m);break;case"transform":l(m);break;case"component":f(m);break;case"locale":x(m);break;case"apiMethod":var M=m.name;U.apiMethodRegistry[M]=m.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},U.getModule=function(S){var A=U.modules[p(S)];return A?A._module:!1},U.traceIs=function(S,A){if(S=p(S),S==="various")return!1;var E=U.modules[S];return E||(S&&g.log("Unrecognized trace type "+S+"."),E=U.modules[d.type.dflt]),!!E.categories[A]},U.getTransformIndices=function(S,A){for(var E=[],m=S.transforms||[],M=0;M<m.length;M++)m[M].type===A&&E.push(M);return E},U.hasTransform=function(S,A){for(var E=S.transforms||[],m=0;m<E.length;m++)if(E[m].type===A)return!0;return!1},U.getComponentMethod=function(S,A){var E=U.componentsRegistry[S];return E&&E[A]||P},U.call=function(){var S=arguments[0],A=[].slice.call(arguments,1);return U.apiMethodRegistry[S].apply(null,A)};function n(S){var A=S.name,E=S.categories,m=S.meta;if(U.modules[A]){g.log("Type "+A+" already registered");return}U.subplotsRegistry[S.basePlotModule.name]||s(S.basePlotModule);for(var M={},w=0;w<E.length;w++)M[E[w]]=!0,U.allCategories[E[w]]=!0;U.modules[A]={_module:S,categories:M},m&&Object.keys(m).length&&(U.modules[A].meta=m),U.allTypes.push(A);for(var i in U.componentsRegistry)b(i,A);S.layoutAttributes&&r(U.traceLayoutAttributes,S.layoutAttributes);var C=S.basePlotModule,y=C.name;if(y==="mapbox"){var _=C.constants.styleRules;for(var I in _)T(".js-plotly-plot .plotly .mapboxgl-"+I,_[I])}(y==="geo"||y==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function s(S){var A=S.name;if(U.subplotsRegistry[A]){g.log("Plot type "+A+" already registered.");return}c(S),U.subplotsRegistry[A]=S;for(var E in U.componentsRegistry)o(E,S.name)}function f(S){if(typeof S.name!="string")throw new Error("Component module *name* must be a string.");var A=S.name;U.componentsRegistry[A]=S,S.layoutAttributes&&(S.layoutAttributes._isLinkedToArray&&a(U.layoutArrayContainers,A),c(S));for(var E in U.modules)b(A,E);for(var m in U.subplotsRegistry)o(A,m);for(var M in U.transformsRegistry)h(A,M);S.schema&&S.schema.layout&&u(t,S.schema.layout)}function l(S){if(typeof S.name!="string")throw new Error("Transform module *name* must be a string.");var A="Transform module "+S.name,E=typeof S.transform=="function",m=typeof S.calcTransform=="function";if(!E&&!m)throw new Error(A+" is missing a *transform* or *calcTransform* method.");E&&m&&g.log([A+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),L(S.attributes)||g.log(A+" registered without an *attributes* object."),typeof S.supplyDefaults!="function"&&g.log(A+" registered without a *supplyDefaults* method."),U.transformsRegistry[S.name]=S;for(var M in U.componentsRegistry)h(M,S.name)}function x(S){var A=S.name,E=A.split("-")[0],m=S.dictionary,M=S.format,w=m&&Object.keys(m).length,i=M&&Object.keys(M).length,C=U.localeRegistry,y=C[A];if(y||(C[A]=y={}),E!==A){var _=C[E];_||(C[E]=_={}),w&&_.dictionary===y.dictionary&&(_.dictionary=m),i&&_.format===y.format&&(_.format=M)}w&&(y.dictionary=m),i&&(y.format=M)}function c(S){if(S.layoutAttributes){var A=S.layoutAttributes._arrayAttrRegexps;if(A)for(var E=0;E<A.length;E++)a(U.layoutArrayRegexes,A[E])}}function b(S,A){var E=U.componentsRegistry[S].schema;if(!(!E||!E.traces)){var m=E.traces[A];m&&u(U.modules[A]._module.attributes,m)}}function h(S,A){var E=U.componentsRegistry[S].schema;if(!(!E||!E.transforms)){var m=E.transforms[A];m&&u(U.transformsRegistry[A].attributes,m)}}function o(S,A){var E=U.componentsRegistry[S].schema;if(!(!E||!E.subplots)){var m=U.subplotsRegistry[A],M=m.layoutAttributes,w=m.attr==="subplot"?m.name:m.attr;Array.isArray(w)&&(w=w[0]);var i=E.subplots[w];M&&i&&u(M,i)}}function p(S){return typeof S=="object"&&(S=S.type),S}},61914:function(H,U,e){var g=e(73972),P=e(71828),a=P.extendFlat,L=P.extendDeep;function T(d){var t;switch(d){case"themes__thumb":t={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":t={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:t={}}return t}function v(d){var t=["xaxis","yaxis","zaxis"];return t.indexOf(d.slice(0,5))>-1}H.exports=function(t,r){var u,n=t.data,s=t.layout,f=L([],n),l=L({},s,T(r.tileClass)),x=t._context||{};if(r.width&&(l.width=r.width),r.height&&(l.height=r.height),r.tileClass==="thumbnail"||r.tileClass==="themes__thumb"){l.annotations=[];var c=Object.keys(l);for(u=0;u<c.length;u++)v(c[u])&&(l[c[u]].title={text:""});for(u=0;u<f.length;u++){var b=f[u];b.showscale=!1,b.marker&&(b.marker.showscale=!1),g.traceIs(b,"pie-like")&&(b.textposition="none")}}if(Array.isArray(r.annotations))for(u=0;u<r.annotations.length;u++)l.annotations.push(r.annotations[u]);var h=Object.keys(l).filter(function(E){return E.match(/^scene\d*$/)});if(h.length){var o={};for(r.tileClass==="thumbnail"&&(o={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),u=0;u<h.length;u++){var p=l[h[u]];p.xaxis||(p.xaxis={}),p.yaxis||(p.yaxis={}),p.zaxis||(p.zaxis={}),a(p.xaxis,o),a(p.yaxis,o),a(p.zaxis,o),p._scene=null}}var S=document.createElement("div");r.tileClass&&(S.className=r.tileClass);var A={gd:S,td:S,layout:l,data:f,config:{staticPlot:r.staticPlot===void 0?!0:r.staticPlot,plotGlPixelRatio:r.plotGlPixelRatio===void 0?2:r.plotGlPixelRatio,displaylogo:r.displaylogo||!1,showLink:r.showLink||!1,showTips:r.showTips||!1,mapboxAccessToken:x.mapboxAccessToken}};return r.setBackground!=="transparent"&&(A.config.setBackground=r.setBackground||"opaque"),A.gd.defaultLayout=T(r.tileClass),A}},7239:function(H,U,e){var g=e(71828),P=e(403),a=e(22435),L=e(25095);function T(v,d){var t;return g.isPlainObject(v)||(t=g.getGraphDiv(v)),d=d||{},d.format=d.format||"png",d.width=d.width||null,d.height=d.height||null,d.imageDataOnly=!0,new Promise(function(r,u){t&&t._snapshotInProgress&&u(new Error("Snapshotting already in progress.")),g.isIE()&&d.format!=="svg"&&u(new Error(L.MSG_IE_BAD_FORMAT)),t&&(t._snapshotInProgress=!0);var n=P(v,d),s=d.filename||v.fn||"newplot";s+="."+d.format.replace("-","."),n.then(function(f){return t&&(t._snapshotInProgress=!1),a(f,s,d.format)}).then(function(f){r(f)}).catch(function(f){t&&(t._snapshotInProgress=!1),u(f)})})}H.exports=T},22435:function(H,U,e){var g=e(71828),P=e(25095);function a(L,T,v){var d=document.createElement("a"),t="download"in d,r=new Promise(function(u,n){var s,f;if(g.isIE())return s=P.createBlob(L,"svg"),window.navigator.msSaveBlob(s,T),s=null,u(T);if(t)return s=P.createBlob(L,v),f=P.createObjectURL(s),d.href=f,d.download=T,document.body.appendChild(d),d.click(),document.body.removeChild(d),P.revokeObjectURL(f),s=null,u(T);if(g.isSafari()){var l=v==="svg"?",":";base64,";return P.octetStream(l+encodeURIComponent(L)),u(T)}n(new Error("download error"))});return r}H.exports=a},25095:function(H,U,e){var g=e(73972);U.getDelay=function(L){return L._has&&(L._has("gl3d")||L._has("gl2d")||L._has("mapbox"))?500:0},U.getRedrawFunc=function(L){return function(){g.getComponentMethod("colorbar","draw")(L)}},U.encodeSVG=function(L){return"data:image/svg+xml,"+encodeURIComponent(L)},U.encodeJSON=function(L){return"data:application/json,"+encodeURIComponent(L)};var P=window.URL||window.webkitURL;U.createObjectURL=function(L){return P.createObjectURL(L)},U.revokeObjectURL=function(L){return P.revokeObjectURL(L)},U.createBlob=function(L,T){if(T==="svg")return new window.Blob([L],{type:"image/svg+xml;charset=utf-8"});if(T==="full-json")return new window.Blob([L],{type:"application/json;charset=utf-8"});var v=a(window.atob(L));return new window.Blob([v],{type:"image/"+T})},U.octetStream=function(L){document.location.href="data:application/octet-stream"+L};function a(L){for(var T=L.length,v=new ArrayBuffer(T),d=new Uint8Array(v),t=0;t<T;t++)d[t]=L.charCodeAt(t);return v}U.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,U.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},44511:function(H,U,e){var g=e(25095),P={getDelay:g.getDelay,getRedrawFunc:g.getRedrawFunc,clone:e(61914),toSVG:e(5900),svgToImg:e(70942),toImage:e(56395),downloadImage:e(7239)};H.exports=P},70942:function(H,U,e){var g=e(71828),P=e(15398).EventEmitter,a=e(25095);function L(T){var v=T.emitter||new P,d=new Promise(function(t,r){var u=window.Image,n=T.svg,s=T.format||"png";if(g.isIE()&&s!=="svg"){var f=new Error(a.MSG_IE_BAD_FORMAT);return r(f),T.promise?d:v.emit("error",f)}var l=T.canvas,x=T.scale||1,c=T.width||300,b=T.height||150,h=x*c,o=x*b,p=l.getContext("2d",{willReadFrequently:!0}),S=new u,A,E;s==="svg"||g.isSafari()?E=a.encodeSVG(n):(A=a.createBlob(n,"svg"),E=a.createObjectURL(A)),l.width=h,l.height=o,S.onload=function(){var m;switch(A=null,a.revokeObjectURL(E),s!=="svg"&&p.drawImage(S,0,0,h,o),s){case"jpeg":m=l.toDataURL("image/jpeg");break;case"png":m=l.toDataURL("image/png");break;case"webp":m=l.toDataURL("image/webp");break;case"svg":m=E;break;default:var M="Image format is not jpeg, png, svg or webp.";if(r(new Error(M)),!T.promise)return v.emit("error",M)}t(m),T.promise||v.emit("success",m)},S.onerror=function(m){if(A=null,a.revokeObjectURL(E),r(m),!T.promise)return v.emit("error",m)},S.src=E});return T.promise?d:v}H.exports=L},56395:function(H,U,e){var g=e(15398).EventEmitter,P=e(73972),a=e(71828),L=e(25095),T=e(61914),v=e(5900),d=e(70942);function t(r,u){var n=new g,s=T(r,{format:"png"}),f=s.gd;f.style.position="absolute",f.style.left="-5000px",document.body.appendChild(f);function l(){var c=L.getDelay(f._fullLayout);setTimeout(function(){var b=v(f),h=document.createElement("canvas");h.id=a.randstr(),n=d({format:u.format,width:f._fullLayout.width,height:f._fullLayout.height,canvas:h,emitter:n,svg:b}),n.clean=function(){f&&document.body.removeChild(f)}},c)}var x=L.getRedrawFunc(f);return P.call("_doPlot",f,s.data,s.layout,s.config).then(x).then(l).catch(function(c){n.emit("error",c)}),n}H.exports=t},5900:function(H,U,e){var g=e(39898),P=e(71828),a=e(91424),L=e(7901),T=e(77922),v=/"/g,d="TOBESTRIPPED",t=new RegExp('("'+d+")|("+d+'")',"g");function r(n){var s=g.select("body").append("div").style({display:"none"}).html(""),f=n.replace(/(&[^;]*;)/gi,function(l){return l==="&lt;"?"&#60;":l==="&rt;"?"&#62;":l.indexOf("<")!==-1||l.indexOf(">")!==-1?"":s.html(l).text()});return s.remove(),f}function u(n){return n.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}H.exports=function(s,f,l){var x=s._fullLayout,c=x._paper,b=x._toppaper,h=x.width,o=x.height,p;c.insert("rect",":first-child").call(a.setRect,0,0,h,o).call(L.fill,x.paper_bgcolor);var S=x._basePlotModules||[];for(p=0;p<S.length;p++){var A=S[p];A.toSVG&&A.toSVG(s)}if(b){var E=b.node().childNodes,m=Array.prototype.slice.call(E);for(p=0;p<m.length;p++){var M=m[p];M.childNodes.length&&c.node().appendChild(M)}}x._draggers&&x._draggers.remove(),c.node().style.background="",c.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var i=g.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){i.remove();return}else i.style({visibility:null,display:null});var C=this.style.fontFamily;C&&C.indexOf('"')!==-1&&i.style("font-family",C.replace(v,d))}),c.selectAll(".gradient_filled,.pattern_filled").each(function(){var i=g.select(this),C=this.style.fill;C&&C.indexOf("url(")!==-1&&i.style("fill",C.replace(v,d));var y=this.style.stroke;y&&y.indexOf("url(")!==-1&&i.style("stroke",y.replace(v,d))}),(f==="pdf"||f==="eps")&&c.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),c.node().setAttributeNS(T.xmlns,"xmlns",T.svg),c.node().setAttributeNS(T.xmlns,"xmlns:xlink",T.xlink),f==="svg"&&l&&(c.attr("width",l*h),c.attr("height",l*o),c.attr("viewBox","0 0 "+h+" "+o));var w=new window.XMLSerializer().serializeToString(c.node());return w=r(w),w=u(w),w=w.replace(t,"'"),P.isIE()&&(w=w.replace(/"/gi,"'"),w=w.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),w=w.replace(/(\\')/gi,'"')),w}},75341:function(H,U,e){var g=e(71828);H.exports=function(a,L){for(var T=0;T<a.length;T++)a[T].i=T;g.mergeArray(L.text,a,"tx"),g.mergeArray(L.hovertext,a,"htx");var v=L.marker;if(v){g.mergeArray(v.opacity,a,"mo",!0),g.mergeArray(v.color,a,"mc");var d=v.line;d&&(g.mergeArray(d.color,a,"mlc"),g.mergeArrayCastPositive(d.width,a,"mlw"))}}},1486:function(H,U,e){var g=e(82196),P=e(12663).axisHoverFormat,a=e(5386).fF,L=e(5386).si,T=e(50693),v=e(41940),d=e(97313),t=e(79952).u,r=e(1426).extendFlat,u=v({editType:"calc",arrayOk:!0,colorEditType:"style"}),n=g.marker,s=n.line,f=r({},s.width,{dflt:0}),l=r({width:f,editType:"calc"},T("marker.line")),x=r({line:l,editType:"calc"},T("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:t});H.exports={x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),text:g.text,texttemplate:L({editType:"plot"},{keys:d.eventDataKeys}),hovertext:g.hovertext,hovertemplate:a({},{keys:d.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:r({},u,{}),insidetextfont:r({},u,{}),outsidetextfont:r({},u,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:r({},g.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:x,offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:{marker:{opacity:g.selected.marker.opacity,color:g.selected.marker.color,editType:"style"},textfont:g.selected.textfont,editType:"style"},unselected:{marker:{opacity:g.unselected.marker.opacity,color:g.unselected.marker.color,editType:"style"},textfont:g.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},92290:function(H,U,e){var g=e(89298),P=e(42973),a=e(52075).hasColorscale,L=e(78803),T=e(75341),v=e(66279);H.exports=function(t,r){var u=g.getFromId(t,r.xaxis||"x"),n=g.getFromId(t,r.yaxis||"y"),s,f,l,x,c,b,h={msUTC:!!(r.base||r.base===0)};r.orientation==="h"?(s=u.makeCalcdata(r,"x",h),l=n.makeCalcdata(r,"y"),x=P(r,n,"y",l),c=!!r.yperiodalignment,b="y"):(s=n.makeCalcdata(r,"y",h),l=u.makeCalcdata(r,"x"),x=P(r,u,"x",l),c=!!r.xperiodalignment,b="x"),f=x.vals;for(var o=Math.min(f.length,s.length),p=new Array(o),S=0;S<o;S++)p[S]={p:f[S],s:s[S]},c&&(p[S].orig_p=l[S],p[S][b+"End"]=x.ends[S],p[S][b+"Start"]=x.starts[S]),r.ids&&(p[S].id=String(r.ids[S]));return a(r,"marker")&&L(t,r,{vals:r.marker.color,containerStr:"marker",cLetter:"c"}),a(r,"marker.line")&&L(t,r,{vals:r.marker.line.color,containerStr:"marker.line",cLetter:"c"}),T(p,r),v(p,r),p}},97313:function(H){H.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},11661:function(H,U,e){var g=e(92770),P=e(71828).isArrayOrTypedArray,a=e(50606).BADNUM,L=e(73972),T=e(89298),v=e(99082).getAxisGroup,d=e(61546);function t(w,i){for(var C=i.xaxis,y=i.yaxis,_=w._fullLayout,I=w._fullData,N=w.calcdata,k=[],O=[],z=0;z<I.length;z++){var F=I[z];if(F.visible===!0&&L.traceIs(F,"bar")&&F.xaxis===C._id&&F.yaxis===y._id&&(F.orientation==="h"?k.push(N[z]):O.push(N[z]),F._computePh))for(var B=w.calcdata[z],G=0;G<B.length;G++)typeof B[G].ph0=="function"&&(B[G].ph0=B[G].ph0()),typeof B[G].ph1=="function"&&(B[G].ph1=B[G].ph1())}var Q={xCat:C.type==="category"||C.type==="multicategory",yCat:y.type==="category"||y.type==="multicategory",mode:_.barmode,norm:_.barnorm,gap:_.bargap,groupgap:_.bargroupgap};r(w,C,y,O,Q),r(w,y,C,k,Q)}function r(w,i,C,y,_){if(y.length){var I,N,k,O,z;switch(u(C,y),_.mode){case"overlay":n(i,C,y,_);break;case"group":for(I=[],N=[],k=0;k<y.length;k++)O=y[k],z=O[0].trace,z.offset===void 0?N.push(O):I.push(O);N.length&&s(w,i,C,N,_),I.length&&n(i,C,I,_);break;case"stack":case"relative":for(I=[],N=[],k=0;k<y.length;k++)O=y[k],z=O[0].trace,z.base===void 0?N.push(O):I.push(O);N.length&&f(w,i,C,N,_),I.length&&n(i,C,I,_);break}m(y,i)}}function u(w,i){var C,y;for(C=0;C<i.length;C++){var _=i[C],I=_[0].trace,N=I.type==="funnel"?I._base:I.base,k,O=I.orientation==="h"?I.xcalendar:I.ycalendar,z=w.type==="category"||w.type==="multicategory"?function(){return null}:w.d2c;if(P(N)){for(y=0;y<Math.min(N.length,_.length);y++)k=z(N[y],0,O),g(k)?(_[y].b=+k,_[y].hasB=1):_[y].b=0;for(;y<_.length;y++)_[y].b=0}else{k=z(N,0,O);var F=g(k);for(k=F?k:0,y=0;y<_.length;y++)_[y].b=k,F&&(_[y].hasB=1)}}}function n(w,i,C,y){for(var _=0;_<C.length;_++){var I=C[_],N=new d([I],{posAxis:w,sepNegVal:!1,overlapNoMerge:!y.norm});l(w,N,y),y.norm?(S(N),E(i,N,y)):o(i,N)}}function s(w,i,C,y,_){var I=new d(y,{posAxis:i,sepNegVal:!1,overlapNoMerge:!_.norm});x(w,i,I,_),A(I,i),_.norm?(S(I),E(C,I,_)):o(C,I)}function f(w,i,C,y,_){var I=new d(y,{posAxis:i,sepNegVal:_.mode==="relative",overlapNoMerge:!(_.norm||_.mode==="stack"||_.mode==="relative")});l(i,I,_),p(C,I,_);for(var N=0;N<y.length;N++)for(var k=y[N],O=0;O<k.length;O++){var z=k[O];if(z.s!==a){var F=z.b+z.s===I.get(z.p,z.s);F&&(z._outmost=!0)}}_.norm&&E(C,I,_)}function l(w,i,C){for(var y=i.minDiff,_=i.traces,I=y*(1-C.gap),N=I,k=N*(1-(C.groupgap||0)),O=-k/2,z=0;z<_.length;z++){var F=_[z],B=F[0].t;B.barwidth=k,B.poffset=O,B.bargroupwidth=I,B.bardelta=y}i.binWidth=_[0][0].t.barwidth/100,c(i),b(w,i),h(w,i)}function x(w,i,C,y){for(var _=w._fullLayout,I=C.positions,N=C.distinctPositions,k=C.minDiff,O=C.traces,z=O.length,F=I.length!==N.length,B=k*(1-y.gap),G=v(_,i._id)+O[0][0].trace.orientation,Q=_._alignmentOpts[G]||{},ee=0;ee<z;ee++){var ae=O[ee],fe=ae[0].trace,K=Q[fe.alignmentgroup]||{},W=Object.keys(K.offsetGroups||{}).length,Z;W?Z=B/W:Z=F?B/z:B;var X=Z*(1-(y.groupgap||0)),$;W?$=((2*fe._offsetIndex+1-W)*Z-X)/2:$=F?((2*ee+1-z)*Z-X)/2:-X/2;var ie=ae[0].t;ie.barwidth=X,ie.poffset=$,ie.bargroupwidth=B,ie.bardelta=k}C.binWidth=O[0][0].t.barwidth/100,c(C),b(i,C),h(i,C,F)}function c(w){var i=w.traces,C,y;for(C=0;C<i.length;C++){var _=i[C],I=_[0],N=I.trace,k=I.t,O=N._offset||N.offset,z=k.poffset,F;if(P(O)){for(F=Array.prototype.slice.call(O,0,_.length),y=0;y<F.length;y++)g(F[y])||(F[y]=z);for(y=F.length;y<_.length;y++)F.push(z);k.poffset=F}else O!==void 0&&(k.poffset=O);var B=N._width||N.width,G=k.barwidth;if(P(B)){var Q=Array.prototype.slice.call(B,0,_.length);for(y=0;y<Q.length;y++)g(Q[y])||(Q[y]=G);for(y=Q.length;y<_.length;y++)Q.push(G);if(k.barwidth=Q,O===void 0){for(F=[],y=0;y<_.length;y++)F.push(z+(G-Q[y])/2);k.poffset=F}}else B!==void 0&&(k.barwidth=B,O===void 0&&(k.poffset=z+(G-B)/2))}}function b(w,i){for(var C=i.traces,y=M(w),_=0;_<C.length;_++)for(var I=C[_],N=I[0].t,k=N.poffset,O=Array.isArray(k),z=N.barwidth,F=Array.isArray(z),B=0;B<I.length;B++){var G=I[B],Q=G.w=F?z[B]:z;G.p===void 0&&(G.p=G[y],G["orig_"+y]=G[y]);var ee=(O?k[B]:k)+Q/2;G[y]=G.p+ee}}function h(w,i,C){var y=i.traces,_=i.minDiff,I=_/2;T.minDtick(w,i.minDiff,i.distinctPositions[0],C);for(var N=0;N<y.length;N++){var k=y[N],O=k[0],z=O.trace,F=[],B,G,Q,ee;for(ee=0;ee<k.length;ee++)B=k[ee],G=B.p-I,Q=B.p+I,F.push(G,Q);if(z.width||z.offset){var ae=O.t,fe=ae.poffset,K=ae.barwidth,W=Array.isArray(fe),Z=Array.isArray(K);for(ee=0;ee<k.length;ee++){B=k[ee];var X=W?fe[ee]:fe,$=Z?K[ee]:K;G=B.p+X,Q=G+$,F.push(G,Q)}}z._extremes[w._id]=T.findExtremes(w,F,{padded:!1})}}function o(w,i){for(var C=i.traces,y=M(w),_=0;_<C.length;_++){for(var I=C[_],N=I[0].trace,k=N.type==="scatter",O=N.orientation==="v",z=[],F=!1,B=0;B<I.length;B++){var G=I[B],Q=k?0:G.b,ee=k?O?G.y:G.x:Q+G.s;G[y]=ee,z.push(ee),G.hasB&&z.push(Q),(!G.hasB||!G.b)&&(F=!0)}N._extremes[w._id]=T.findExtremes(w,z,{tozero:F,padded:!0})}}function p(w,i,C){var y=M(w),_=i.traces,I,N,k,O,z,F;for(O=0;O<_.length;O++)if(I=_[O],N=I[0].trace,N.type==="funnel")for(z=0;z<I.length;z++)F=I[z],F.s!==a&&i.put(F.p,-.5*F.s);for(O=0;O<_.length;O++){I=_[O],N=I[0].trace,k=N.type==="funnel";var B=[];for(z=0;z<I.length;z++)if(F=I[z],F.s!==a){var G;k?G=F.s:G=F.s+F.b;var Q=i.put(F.p,G),ee=Q+G;F.b=Q,F[y]=ee,C.norm||(B.push(ee),F.hasB&&B.push(Q))}C.norm||(N._extremes[w._id]=T.findExtremes(w,B,{tozero:!0,padded:!0}))}}function S(w){for(var i=w.traces,C=0;C<i.length;C++)for(var y=i[C],_=0;_<y.length;_++){var I=y[_];I.s!==a&&w.put(I.p,I.b+I.s)}}function A(w,i){for(var C=w.traces,y=0;y<C.length;y++){var _=C[y],I=_[0].trace;if(I.base===void 0)for(var N=new d([_],{posAxis:i,sepNegVal:!0,overlapNoMerge:!0}),k=0;k<_.length;k++){var O=_[k];if(O.p!==a){var z=N.put(O.p,O.b+O.s);z&&(O.b=z)}}}}function E(w,i,C){var y=i.traces,_=M(w),I=C.norm==="fraction"?1:100,N=I/1e9,k=w.l2c(w.c2l(0)),O=C.mode==="stack"?I:k;function z($){return g(w.c2l($))&&($<k-N||$>O+N||!g(k))}for(var F=0;F<y.length;F++){for(var B=y[F],G=B[0].trace,Q=[],ee=!1,ae=!1,fe=0;fe<B.length;fe++){var K=B[fe];if(K.s!==a){var W=Math.abs(I/i.get(K.p,K.s));K.b*=W,K.s*=W;var Z=K.b,X=Z+K.s;K[_]=X,Q.push(X),ae=ae||z(X),K.hasB&&(Q.push(Z),ae=ae||z(Z)),(!K.hasB||!K.b)&&(ee=!0)}}G._extremes[w._id]=T.findExtremes(w,Q,{tozero:ee,padded:ae})}}function m(w,i){var C=M(i),y={},_,I,N,k=1/0,O=-1/0;for(_=0;_<w.length;_++)for(N=w[_],I=0;I<N.length;I++){var z=N[I].p;g(z)&&(k=Math.min(k,z),O=Math.max(O,z))}var F=1e4/(O-k),B=y.round=function(W){return String(Math.round(F*(W-k)))};for(_=0;_<w.length;_++){N=w[_],N[0].t.extents=y;var G=N[0].t.poffset,Q=Array.isArray(G);for(I=0;I<N.length;I++){var ee=N[I],ae=ee[C]-ee.w/2;if(g(ae)){var fe=ee[C]+ee.w/2,K=B(ee.p);y[K]?y[K]=[Math.min(ae,y[K][0]),Math.max(fe,y[K][1])]:y[K]=[ae,fe]}ee.p0=ee.p+(Q?G[I]:G),ee.p1=ee.p0+ee.w,ee.s0=ee.b,ee.s1=ee.s0+ee.s}}}function M(w){return w._id.charAt(0)}H.exports={crossTraceCalc:t,setGroupPositions:r}},90769:function(H,U,e){var g=e(71828),P=e(7901),a=e(73972),L=e(67513),T=e(73927),v=e(98340),d=e(26125),t=e(1486),r=g.coerceFont;function u(f,l,x,c){function b(A,E){return g.coerce(f,l,t,A,E)}var h=L(f,l,c,b);if(!h){l.visible=!1;return}T(f,l,c,b),b("xhoverformat"),b("yhoverformat"),b("orientation",l.x&&!l.y?"h":"v"),b("base"),b("offset"),b("width"),b("text"),b("hovertext"),b("hovertemplate");var o=b("textposition");s(f,l,c,b,o,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),v(f,l,b,x,c);var p=(l.marker.line||{}).color,S=a.getComponentMethod("errorbars","supplyDefaults");S(f,l,p||P.defaultLine,{axis:"y"}),S(f,l,p||P.defaultLine,{axis:"x",inherit:"y"}),g.coerceSelectionMarkerOpacity(l,b)}function n(f,l){var x,c;function b(o){return g.coerce(c._input,c,t,o)}if(l.barmode==="group")for(var h=0;h<f.length;h++)c=f[h],c.type==="bar"&&(x=c._input,d(x,c,l,b))}function s(f,l,x,c,b,h){h=h||{};var o=h.moduleHasSelected!==!1,p=h.moduleHasUnselected!==!1,S=h.moduleHasConstrain!==!1,A=h.moduleHasCliponaxis!==!1,E=h.moduleHasTextangle!==!1,m=h.moduleHasInsideanchor!==!1,M=!!h.hasPathbar,w=Array.isArray(b)||b==="auto",i=w||b==="inside",C=w||b==="outside";if(i||C){var y=r(c,"textfont",x.font),_=g.extendFlat({},y),I=f.textfont&&f.textfont.color,N=!I;if(N&&delete _.color,r(c,"insidetextfont",_),M){var k=g.extendFlat({},y);N&&delete k.color,r(c,"pathbar.textfont",k)}C&&r(c,"outsidetextfont",y),o&&c("selected.textfont.color"),p&&c("unselected.textfont.color"),S&&c("constraintext"),A&&c("cliponaxis"),E&&c("textangle"),c("texttemplate")}i&&m&&c("insidetextanchor")}H.exports={supplyDefaults:u,crossTraceDefaults:n,handleText:s}},58065:function(H){H.exports=function(e,g,P){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),P.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},69383:function(H,U,e){var g=e(92770),P=e(84267),a=e(71828).isArrayOrTypedArray;U.coerceString=function(L,T,v){if(typeof T=="string"){if(T||!L.noBlank)return T}else if((typeof T=="number"||T===!0)&&!L.strict)return String(T);return v!==void 0?v:L.dflt},U.coerceNumber=function(L,T,v){if(g(T)){T=+T;var d=L.min,t=L.max,r=d!==void 0&&T<d||t!==void 0&&T>t;if(!r)return T}return v!==void 0?v:L.dflt},U.coerceColor=function(L,T,v){return P(T).isValid()?T:v!==void 0?v:L.dflt},U.coerceEnumerated=function(L,T,v){return L.coerceNumber&&(T=+T),L.values.indexOf(T)!==-1?T:v!==void 0?v:L.dflt},U.getValue=function(L,T){var v;return Array.isArray(L)?T<L.length&&(v=L[T]):v=L,v},U.getLineWidth=function(L,T){var v=0<T.mlw?T.mlw:a(L.marker.line.width)?0:L.marker.line.width;return v}},95423:function(H,U,e){var g=e(30211),P=e(73972),a=e(7901),L=e(71828).fillText,T=e(69383).getLineWidth,v=e(89298).hoverLabelText,d=e(50606).BADNUM;function t(n,s,f,l,x){var c=r(n,s,f,l,x);if(c){var b=c.cd,h=b[0].trace,o=b[c.index];return c.color=u(h,o),P.getComponentMethod("errorbars","hoverInfo")(o,h,c),[c]}}function r(n,s,f,l,x){var c=n.cd,b=c[0].trace,h=c[0].t,o=l==="closest",p=b.type==="waterfall",S=n.maxHoverDistance,A=n.maxSpikeDistance,E,m,M,w,i,C,y;b.orientation==="h"?(E=f,m=s,M="y",w="x",i=fe,C=Q):(E=s,m=f,M="x",w="y",C=fe,i=Q);var _=b[M+"period"],I=o||_;function N(ue){return O(ue,-1)}function k(ue){return O(ue,1)}function O(ue,ge){var we=ue.w;return ue[M]+ge*we/2}function z(ue){return ue[M+"End"]-ue[M+"Start"]}var F=o?N:_?function(ue){return ue.p-z(ue)/2}:function(ue){return Math.min(N(ue),ue.p-h.bardelta/2)},B=o?k:_?function(ue){return ue.p+z(ue)/2}:function(ue){return Math.max(k(ue),ue.p+h.bardelta/2)};function G(ue,ge,we){return x.finiteRange&&(we=0),g.inbox(ue-E,ge-E,we+Math.min(1,Math.abs(ge-ue)/y)-1)}function Q(ue){return G(F(ue),B(ue),S)}function ee(ue){return G(N(ue),k(ue),A)}function ae(ue){var ge=ue[w];if(p){var we=Math.abs(ue.rawS)||0;m>0?ge+=we:m<0&&(ge-=we)}return ge}function fe(ue){var ge=m,we=ue.b,xe=ae(ue);return g.inbox(we-ge,xe-ge,S+(xe-ge)/(xe-we)-1)}function K(ue){var ge=m,we=ue.b,xe=ae(ue);return g.inbox(we-ge,xe-ge,A+(xe-ge)/(xe-we)-1)}var W=n[M+"a"],Z=n[w+"a"];y=Math.abs(W.r2c(W.range[1])-W.r2c(W.range[0]));function X(ue){return(i(ue)+C(ue))/2}var $=g.getDistanceFunction(l,i,C,X);if(g.getClosest(c,$,n),n.index!==!1&&c[n.index].p!==d){I||(F=function(ue){return Math.min(N(ue),ue.p-h.bargroupwidth/2)},B=function(ue){return Math.max(k(ue),ue.p+h.bargroupwidth/2)});var ie=n.index,J=c[ie],j=b.base?J.b+J.s:J.s;n[w+"0"]=n[w+"1"]=Z.c2p(J[w],!0),n[w+"LabelVal"]=j;var se=h.extents[h.extents.round(J.p)];n[M+"0"]=W.c2p(o?F(J):se[0],!0),n[M+"1"]=W.c2p(o?B(J):se[1],!0);var ne=J.orig_p!==void 0;return n[M+"LabelVal"]=ne?J.orig_p:J.p,n.labelLabel=v(W,n[M+"LabelVal"],b[M+"hoverformat"]),n.valueLabel=v(Z,n[w+"LabelVal"],b[w+"hoverformat"]),n.baseLabel=v(Z,J.b,b[w+"hoverformat"]),n.spikeDistance=(K(J)+ee(J))/2,n[M+"Spike"]=W.c2p(J.p,!0),L(J,b,n),n.hovertemplate=b.hovertemplate,n}}function u(n,s){var f=s.mcc||n.marker.color,l=s.mlcc||n.marker.line.color,x=T(n,s);if(a.opacity(f))return f;if(a.opacity(l)&&x)return l}H.exports={hoverPoints:t,hoverOnBars:r,getTraceColor:u}},60822:function(H,U,e){H.exports={attributes:e(1486),layoutAttributes:e(43641),supplyDefaults:e(90769).supplyDefaults,crossTraceDefaults:e(90769).crossTraceDefaults,supplyLayoutDefaults:e(13957),calc:e(92290),crossTraceCalc:e(11661).crossTraceCalc,colorbar:e(4898),arraysToCalcdata:e(75341),plot:e(17295).plot,style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(95423).hoverPoints,eventData:e(58065),selectPoints:e(81974),moduleType:"trace",name:"bar",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},43641:function(H){H.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},13957:function(H,U,e){var g=e(73972),P=e(89298),a=e(71828),L=e(43641);H.exports=function(T,v,d){function t(h,o){return a.coerce(T,v,L,h,o)}for(var r=!1,u=!1,n=!1,s={},f=t("barmode"),l=0;l<d.length;l++){var x=d[l];if(g.traceIs(x,"bar")&&x.visible)r=!0;else continue;if(f==="group"){var c=x.xaxis+x.yaxis;s[c]&&(n=!0),s[c]=!0}if(x.visible&&x.type==="histogram"){var b=P.getFromId({_fullLayout:v},x[x.orientation==="v"?"xaxis":"yaxis"]);b.type!=="category"&&(u=!0)}}if(!r){delete v.barmode;return}f!=="overlay"&&t("barnorm"),t("bargap",u&&!n?0:.2),t("bargroupgap")}},17295:function(H,U,e){var g=e(39898),P=e(92770),a=e(71828),L=e(63893),T=e(7901),v=e(91424),d=e(73972),t=e(89298).tickText,r=e(72597),u=r.recordMinTextSize,n=r.clearMinTextSize,s=e(16688),f=e(69383),l=e(97313),x=e(1486),c=x.text,b=x.textposition,h=e(23469).appendArrayPointValue,o=l.TEXTPAD;function p(F){return F.id}function S(F){if(F.ids)return p}function A(F,B){return F<B?1:-1}function E(F,B,G,Q){var ee=[],ae=[],fe=Q?B:G,K=Q?G:B;return ee[0]=fe.c2p(F.s0,!0),ae[0]=K.c2p(F.p0,!0),ee[1]=fe.c2p(F.s1,!0),ae[1]=K.c2p(F.p1,!0),Q?[ee,ae]:[ae,ee]}function m(F,B,G,Q){if(!B.uniformtext.mode&&M(G)){var ee;return Q&&(ee=Q()),F.transition().duration(G.duration).ease(G.easing).each("end",function(){ee&&ee()}).each("interrupt",function(){ee&&ee()})}else return F}function M(F){return F&&F.duration>0}function w(F,B,G,Q,ee,ae){var fe=B.xaxis,K=B.yaxis,W=F._fullLayout,Z=F._context.staticPlot;ee||(ee={mode:W.barmode,norm:W.barmode,gap:W.bargap,groupgap:W.bargroupgap},n("bar",W));var X=a.makeTraceGroups(Q,G,"trace bars").each(function($){var ie=g.select(this),J=$[0].trace,j=J.type==="waterfall",se=J.type==="funnel",ne=J.type==="bar",ue=ne||se,ge=0;j&&J.connector.visible&&J.connector.mode==="between"&&(ge=J.connector.line.width/2);var we=J.orientation==="h",xe=M(ee),Fe=a.ensureSingle(ie,"g","points"),ze=S(J),Te=Fe.selectAll("g.point").data(a.identity,ze);Te.enter().append("g").classed("point",!0),Te.exit().remove(),Te.each(function(Ae,Ne){var Ue=g.select(this),Re=E(Ae,fe,K,we),Ve=Re[0][0],rt=Re[0][1],Qe=Re[1][0],Je=Re[1][1],qe=(we?rt-Ve:Je-Qe)===0;qe&&ue&&f.getLineWidth(J,Ae)&&(qe=!1),qe||(qe=!P(Ve)||!P(rt)||!P(Qe)||!P(Je)),Ae.isBlank=qe,qe&&(we?rt=Ve:Je=Qe),ge&&!qe&&(we?(Ve-=A(Ve,rt)*ge,rt+=A(Ve,rt)*ge):(Qe-=A(Qe,Je)*ge,Je+=A(Qe,Je)*ge));var dt,pt;if(J.type==="waterfall"){if(!qe){var mt=J[Ae.dir].marker;dt=mt.line.width,pt=mt.color}}else dt=f.getLineWidth(J,Ae),pt=Ae.mc||J.marker.color;function Ct(ke){var Ce=g.round(dt/2%1,2);return ee.gap===0&&ee.groupgap===0?g.round(Math.round(ke)-Ce,2):ke}function Rt(ke,Ce,me){return me&&ke===Ce?ke:Math.abs(ke-Ce)>=2?Ct(ke):ke>Ce?Math.ceil(ke):Math.floor(ke)}if(!F._context.staticPlot){var Zt=T.opacity(pt),Xe=Zt<1||dt>.01?Ct:Rt;Ve=Xe(Ve,rt,we),rt=Xe(rt,Ve,we),Qe=Xe(Qe,Je,!we),Je=Xe(Je,Qe,!we)}var Le=m(a.ensureSingle(Ue,"path"),W,ee,ae);if(Le.style("vector-effect",Z?"none":"non-scaling-stroke").attr("d",isNaN((rt-Ve)*(Je-Qe))||qe&&F._context.staticPlot?"M0,0Z":"M"+Ve+","+Qe+"V"+Je+"H"+rt+"V"+Qe+"Z").call(v.setClipUrl,B.layerClipId,F),!W.uniformtext.mode&&xe){var Pe=v.makePointStyleFns(J);v.singlePointStyle(Ae,Le,J,Pe,F)}i(F,B,Ue,$,Ne,Ve,rt,Qe,Je,ee,ae),B.layerClipId&&v.hideOutsideRangePoint(Ae,Ue.select("text"),fe,K,J.xcalendar,J.ycalendar)});var ye=J.cliponaxis===!1;v.setClipUrl(ie,ye?null:B.layerClipId,F)});d.getComponentMethod("errorbars","plot")(F,X,B,ee)}function i(F,B,G,Q,ee,ae,fe,K,W,Z,X){var $=B.xaxis,ie=B.yaxis,J=F._fullLayout,j;function se(ke,Ce,me){var oe=a.ensureSingle(ke,"text").text(Ce).attr({class:"bartext bartext-"+j,"text-anchor":"middle","data-notex":1}).call(v.font,me).call(L.convertToTspans,F);return oe}var ne=Q[0].trace,ue=ne.orientation==="h",ge=N(J,Q,ee,$,ie);j=k(ne,ee);var we=Z.mode==="stack"||Z.mode==="relative",xe=Q[ee],Fe=!we||xe._outmost;if(!ge||j==="none"||(xe.isBlank||ae===fe||K===W)&&(j==="auto"||j==="inside")){G.select("text").remove();return}var ze=J.font,Te=s.getBarColor(Q[ee],ne),ye=s.getInsideTextFont(ne,ee,ze,Te),Ae=s.getOutsideTextFont(ne,ee,ze),Ne=G.datum();ue?$.type==="log"&&Ne.s0<=0&&($.range[0]<$.range[1]?ae=0:ae=$._length):ie.type==="log"&&Ne.s0<=0&&(ie.range[0]<ie.range[1]?K=ie._length:K=0);var Ue=Math.abs(fe-ae)-2*o,Re=Math.abs(W-K)-2*o,Ve,rt,Qe,Je,qe;if(j==="outside"&&!Fe&&!xe.hasB&&(j="inside"),j==="auto")if(Fe){j="inside",qe=a.ensureUniformFontSize(F,ye),Ve=se(G,ge,qe),rt=v.bBox(Ve.node()),Qe=rt.width,Je=rt.height;var dt=Qe>0&&Je>0,pt=Qe<=Ue&&Je<=Re,mt=Qe<=Re&&Je<=Ue,Ct=ue?Ue>=Qe*(Re/Je):Re>=Je*(Ue/Qe);dt&&(pt||mt||Ct)?j="inside":(j="outside",Ve.remove(),Ve=null)}else j="inside";if(!Ve){qe=a.ensureUniformFontSize(F,j==="outside"?Ae:ye),Ve=se(G,ge,qe);var Rt=Ve.attr("transform");if(Ve.attr("transform",""),rt=v.bBox(Ve.node()),Qe=rt.width,Je=rt.height,Ve.attr("transform",Rt),Qe<=0||Je<=0){Ve.remove();return}}var Zt=ne.textangle,Xe,Le;j==="outside"?(Le=ne.constraintext==="both"||ne.constraintext==="outside",Xe=I(ae,fe,K,W,rt,{isHorizontal:ue,constrained:Le,angle:Zt})):(Le=ne.constraintext==="both"||ne.constraintext==="inside",Xe=_(ae,fe,K,W,rt,{isHorizontal:ue,constrained:Le,angle:Zt,anchor:ne.insidetextanchor})),Xe.fontSize=qe.size,u(ne.type==="histogram"?"bar":ne.type,Xe,J),xe.transform=Xe;var Pe=m(Ve,J,Z,X);a.setTransormAndDisplay(Pe,Xe)}function C(F){return F==="auto"?0:F}function y(F,B){var G=Math.PI/180*B,Q=Math.abs(Math.sin(G)),ee=Math.abs(Math.cos(G));return{x:F.width*ee+F.height*Q,y:F.width*Q+F.height*ee}}function _(F,B,G,Q,ee,ae){var fe=!!ae.isHorizontal,K=!!ae.constrained,W=ae.angle||0,Z=ae.anchor||"end",X=Z==="end",$=Z==="start",ie=ae.leftToRight||0,J=(ie+1)/2,j=1-J,se=ee.width,ne=ee.height,ue=Math.abs(B-F),ge=Math.abs(Q-G),we=ue>2*o&&ge>2*o?o:0;ue-=2*we,ge-=2*we;var xe=C(W);W==="auto"&&!(se<=ue&&ne<=ge)&&(se>ue||ne>ge)&&(!(se>ge||ne>ue)||se<ne!=ue<ge)&&(xe+=90);var Fe=y(ee,xe),ze=1;K&&(ze=Math.min(1,ue/Fe.x,ge/Fe.y));var Te=ee.left*j+ee.right*J,ye=(ee.top+ee.bottom)/2,Ae=(F+o)*j+(B-o)*J,Ne=(G+Q)/2,Ue=0,Re=0;if($||X){var Ve=(fe?Fe.x:Fe.y)/2,rt=fe?A(F,B):A(G,Q);fe?$?(Ae=F+rt*we,Ue=-rt*Ve):(Ae=B-rt*we,Ue=rt*Ve):$?(Ne=G+rt*we,Re=-rt*Ve):(Ne=Q-rt*we,Re=rt*Ve)}return{textX:Te,textY:ye,targetX:Ae,targetY:Ne,anchorX:Ue,anchorY:Re,scale:ze,rotate:xe}}function I(F,B,G,Q,ee,ae){var fe=!!ae.isHorizontal,K=!!ae.constrained,W=ae.angle||0,Z=ee.width,X=ee.height,$=Math.abs(B-F),ie=Math.abs(Q-G),J;fe?J=ie>2*o?o:0:J=$>2*o?o:0;var j=1;K&&(j=fe?Math.min(1,ie/X):Math.min(1,$/Z));var se=C(W),ne=y(ee,se),ue=(fe?ne.x:ne.y)/2,ge=(ee.left+ee.right)/2,we=(ee.top+ee.bottom)/2,xe=(F+B)/2,Fe=(G+Q)/2,ze=0,Te=0,ye=fe?A(B,F):A(G,Q);return fe?(xe=B-ye*J,ze=ye*ue):(Fe=Q+ye*J,Te=-ye*ue),{textX:ge,textY:we,targetX:xe,targetY:Fe,anchorX:ze,anchorY:Te,scale:j,rotate:se}}function N(F,B,G,Q,ee){var ae=B[0].trace,fe=ae.texttemplate,K;return fe?K=O(F,B,G,Q,ee):ae.textinfo?K=z(B,G,Q,ee):K=f.getValue(ae.text,G),f.coerceString(c,K)}function k(F,B){var G=f.getValue(F.textposition,B);return f.coerceEnumerated(b,G)}function O(F,B,G,Q,ee){var ae=B[0].trace,fe=a.castOption(ae,G,"texttemplate");if(!fe)return"";var K=ae.type==="histogram",W=ae.type==="waterfall",Z=ae.type==="funnel",X=ae.orientation==="h",$,ie,J,j;X?($="y",ie=ee,J="x",j=Q):($="x",ie=Q,J="y",j=ee);function se(ze){return t(ie,ie.c2l(ze),!0).text}function ne(ze){return t(j,j.c2l(ze),!0).text}var ue=B[G],ge={};ge.label=ue.p,ge.labelLabel=ge[$+"Label"]=se(ue.p);var we=a.castOption(ae,ue.i,"text");(we===0||we)&&(ge.text=we),ge.value=ue.s,ge.valueLabel=ge[J+"Label"]=ne(ue.s);var xe={};h(xe,ae,ue.i),(K||xe.x===void 0)&&(xe.x=X?ge.value:ge.label),(K||xe.y===void 0)&&(xe.y=X?ge.label:ge.value),(K||xe.xLabel===void 0)&&(xe.xLabel=X?ge.valueLabel:ge.labelLabel),(K||xe.yLabel===void 0)&&(xe.yLabel=X?ge.labelLabel:ge.valueLabel),W&&(ge.delta=+ue.rawS||ue.s,ge.deltaLabel=ne(ge.delta),ge.final=ue.v,ge.finalLabel=ne(ge.final),ge.initial=ge.final-ge.delta,ge.initialLabel=ne(ge.initial)),Z&&(ge.value=ue.s,ge.valueLabel=ne(ge.value),ge.percentInitial=ue.begR,ge.percentInitialLabel=a.formatPercent(ue.begR),ge.percentPrevious=ue.difR,ge.percentPreviousLabel=a.formatPercent(ue.difR),ge.percentTotal=ue.sumR,ge.percenTotalLabel=a.formatPercent(ue.sumR));var Fe=a.castOption(ae,ue.i,"customdata");return Fe&&(ge.customdata=Fe),a.texttemplateString(fe,ge,F._d3locale,xe,ge,ae._meta||{})}function z(F,B,G,Q){var ee=F[0].trace,ae=ee.orientation==="h",fe=ee.type==="waterfall",K=ee.type==="funnel";function W(Fe){var ze=ae?Q:G;return t(ze,Fe,!0).text}function Z(Fe){var ze=ae?G:Q;return t(ze,+Fe,!0).text}var X=ee.textinfo,$=F[B],ie=X.split("+"),J=[],j,se=function(Fe){return ie.indexOf(Fe)!==-1};if(se("label")&&J.push(W(F[B].p)),se("text")&&(j=a.castOption(ee,$.i,"text"),(j===0||j)&&J.push(j)),fe){var ne=+$.rawS||$.s,ue=$.v,ge=ue-ne;se("initial")&&J.push(Z(ge)),se("delta")&&J.push(Z(ne)),se("final")&&J.push(Z(ue))}if(K){se("value")&&J.push(Z($.s));var we=0;se("percent initial")&&we++,se("percent previous")&&we++,se("percent total")&&we++;var xe=we>1;se("percent initial")&&(j=a.formatPercent($.begR),xe&&(j+=" of initial"),J.push(j)),se("percent previous")&&(j=a.formatPercent($.difR),xe&&(j+=" of previous"),J.push(j)),se("percent total")&&(j=a.formatPercent($.sumR),xe&&(j+=" of total"),J.push(j))}return J.join("<br>")}H.exports={plot:w,toMoveInsideBar:_}},81974:function(H){H.exports=function(g,P){var a=g.cd,L=g.xaxis,T=g.yaxis,v=a[0].trace,d=v.type==="funnel",t=v.orientation==="h",r=[],u;if(P===!1)for(u=0;u<a.length;u++)a[u].selected=0;else for(u=0;u<a.length;u++){var n=a[u],s="ct"in n?n.ct:U(n,L,T,t,d);P.contains(s,!1,u,g)?(r.push({pointNumber:u,x:L.c2d(n.x),y:T.c2d(n.y)}),n.selected=1):n.selected=0}return r};function U(e,g,P,a,L){var T=g.c2p(a?e.s0:e.p0,!0),v=g.c2p(a?e.s1:e.p1,!0),d=P.c2p(a?e.p0:e.s0,!0),t=P.c2p(a?e.p1:e.s1,!0);return L?[(T+v)/2,(d+t)/2]:a?[v,(d+t)/2]:[(T+v)/2,t]}},61546:function(H,U,e){H.exports=P;var g=e(71828).distinctVals;function P(a,L){this.traces=a,this.sepNegVal=L.sepNegVal,this.overlapNoMerge=L.overlapNoMerge;for(var T=1/0,v=L.posAxis._id.charAt(0),d=[],t=0;t<a.length;t++){for(var r=a[t],u=0;u<r.length;u++){var n=r[u],s=n.p;s===void 0&&(s=n[v]),s!==void 0&&d.push(s)}r[0]&&r[0].width1&&(T=Math.min(r[0].width1,T))}this.positions=d;var f=g(d);this.distinctPositions=f.vals,f.vals.length===1&&T!==1/0?this.minDiff=T:this.minDiff=Math.min(f.minDiff,T);var l=(L.posAxis||{}).type;(l==="category"||l==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}P.prototype.put=function(L,T){var v=this.getLabel(L,T),d=this.bins[v]||0;return this.bins[v]=d+T,d},P.prototype.get=function(L,T){var v=this.getLabel(L,T);return this.bins[v]||0},P.prototype.getLabel=function(L,T){var v=T<0&&this.sepNegVal?"v":"^",d=this.overlapNoMerge?L:Math.round(L/this.binWidth);return v+d}},16688:function(H,U,e){var g=e(39898),P=e(7901),a=e(91424),L=e(71828),T=e(73972),v=e(72597).resizeText,d=e(1486),t=d.textfont,r=d.insidetextfont,u=d.outsidetextfont,n=e(69383);function s(m){var M=g.select(m).selectAll("g.barlayer").selectAll("g.trace");v(m,M,"bar");var w=M.size(),i=m._fullLayout;M.style("opacity",function(C){return C[0].trace.opacity}).each(function(C){(i.barmode==="stack"&&w>1||i.bargap===0&&i.bargroupgap===0&&!C[0].trace.marker.line.width)&&g.select(this).attr("shape-rendering","crispEdges")}),M.selectAll("g.points").each(function(C){var y=g.select(this),_=C[0].trace;f(y,_,m)}),T.getComponentMethod("errorbars","style")(M)}function f(m,M,w){a.pointStyle(m.selectAll("path"),M,w),l(m,M,w)}function l(m,M,w){m.selectAll("text").each(function(i){var C=g.select(this),y=L.ensureUniformFontSize(w,h(C,i,M,w));a.font(C,y)})}function x(m,M,w){var i=M[0].trace;i.selectedpoints?c(w,i,m):(f(w,i,m),T.getComponentMethod("errorbars","style")(w))}function c(m,M,w){a.selectedPointStyle(m.selectAll("path"),M),b(m.selectAll("text"),M,w)}function b(m,M,w){m.each(function(i){var C=g.select(this),y;if(i.selected){y=L.ensureUniformFontSize(w,h(C,i,M,w));var _=M.selected.textfont&&M.selected.textfont.color;_&&(y.color=_),a.font(C,y)}else a.selectedTextStyle(C,M)})}function h(m,M,w,i){var C=i._fullLayout.font,y=w.textfont;if(m.classed("bartext-inside")){var _=E(M,w);y=p(w,M.i,C,_)}else m.classed("bartext-outside")&&(y=S(w,M.i,C));return y}function o(m,M,w){return A(t,m.textfont,M,w)}function p(m,M,w,i){var C=o(m,M,w),y=m._input.textfont===void 0||m._input.textfont.color===void 0||Array.isArray(m.textfont.color)&&m.textfont.color[M]===void 0;return y&&(C={color:P.contrast(i),family:C.family,size:C.size}),A(r,m.insidetextfont,M,C)}function S(m,M,w){var i=o(m,M,w);return A(u,m.outsidetextfont,M,i)}function A(m,M,w,i){M=M||{};var C=n.getValue(M.family,w),y=n.getValue(M.size,w),_=n.getValue(M.color,w);return{family:n.coerceString(m.family,C,i.family),size:n.coerceNumber(m.size,y,i.size),color:n.coerceColor(m.color,_,i.color)}}function E(m,M){return M.type==="waterfall"?M[m.dir].marker.color:m.mcc||m.mc||M.marker.color}H.exports={style:s,styleTextPoints:l,styleOnSelect:x,getInsideTextFont:p,getOutsideTextFont:S,getBarColor:E,resizeText:v}},98340:function(H,U,e){var g=e(7901),P=e(52075).hasColorscale,a=e(1586),L=e(71828).coercePattern;H.exports=function(v,d,t,r,u){var n=t("marker.color",r),s=P(v,"marker");s&&a(v,d,u,t,{prefix:"marker.",cLetter:"c"}),t("marker.line.color",g.defaultLine),P(v,"marker.line")&&a(v,d,u,t,{prefix:"marker.line.",cLetter:"c"}),t("marker.line.width"),t("marker.opacity"),L(t,"marker.pattern",n,s),t("selected.marker.color"),t("unselected.marker.color")}},72597:function(H,U,e){var g=e(39898),P=e(71828);function a(d,t,r){var u=d._fullLayout,n=u["_"+r+"Text_minsize"];if(n){var s=u.uniformtext.mode==="hide",f;switch(r){case"funnelarea":case"pie":case"sunburst":f="g.slice";break;case"treemap":case"icicle":f="g.slice, g.pathbar";break;default:f="g.points > g.point"}t.selectAll(f).each(function(l){var x=l.transform;if(x){x.scale=s&&x.hide?0:n/x.fontSize;var c=g.select(this).select("text");P.setTransormAndDisplay(c,x)}})}}function L(d,t,r){if(r.uniformtext.mode){var u=v(d),n=r.uniformtext.minsize,s=t.scale*t.fontSize;t.hide=s<n,r[u]=r[u]||1/0,t.hide||(r[u]=Math.min(r[u],Math.max(s,n)))}}function T(d,t){var r=v(d);t[r]=void 0}function v(d){return"_"+d+"Text_minsize"}H.exports={recordMinTextSize:L,clearMinTextSize:T,resizeText:a}},55023:function(H,U,e){var g=e(5386).fF,P=e(1426).extendFlat,a=e(81245),L=e(1486);H.exports={r:a.r,theta:a.theta,r0:a.r0,dr:a.dr,theta0:a.theta0,dtheta:a.dtheta,thetaunit:a.thetaunit,base:P({},L.base,{}),offset:P({},L.offset,{}),width:P({},L.width,{}),text:P({},L.text,{}),hovertext:P({},L.hovertext,{}),marker:L.marker,hoverinfo:a.hoverinfo,hovertemplate:g(),selected:L.selected,unselected:L.unselected}},74692:function(H,U,e){var g=e(52075).hasColorscale,P=e(78803),a=e(75341),L=e(11661).setGroupPositions,T=e(66279),v=e(73972).traceIs,d=e(71828).extendFlat;function t(u,n){for(var s=u._fullLayout,f=n.subplot,l=s[f].radialaxis,x=s[f].angularaxis,c=l.makeCalcdata(n,"r"),b=x.makeCalcdata(n,"theta"),h=n._length,o=new Array(h),p=c,S=b,A=0;A<h;A++)o[A]={p:S[A],s:p[A]};function E(m){var M=n[m];M!==void 0&&(n["_"+m]=Array.isArray(M)?x.makeCalcdata(n,m):x.d2c(M,n.thetaunit))}return x.type==="linear"&&(E("width"),E("offset")),g(n,"marker")&&P(u,n,{vals:n.marker.color,containerStr:"marker",cLetter:"c"}),g(n,"marker.line")&&P(u,n,{vals:n.marker.line.color,containerStr:"marker.line",cLetter:"c"}),a(o,n),T(o,n),o}function r(u,n,s){for(var f=u.calcdata,l=[],x=0;x<f.length;x++){var c=f[x],b=c[0].trace;b.visible===!0&&v(b,"bar")&&b.subplot===s&&l.push(c)}var h=d({},n.radialaxis,{_id:"x"}),o=n.angularaxis;L(u,o,h,l,{mode:n.barmode,norm:n.barnorm,gap:n.bargap,groupgap:n.bargroupgap})}H.exports={calc:t,crossTraceCalc:r}},6135:function(H,U,e){var g=e(71828),P=e(22184).handleRThetaDefaults,a=e(98340),L=e(55023);H.exports=function(v,d,t,r){function u(s,f){return g.coerce(v,d,L,s,f)}var n=P(v,d,r,u);if(!n){d.visible=!1;return}u("thetaunit"),u("base"),u("offset"),u("width"),u("text"),u("hovertext"),u("hovertemplate"),a(v,d,u,t,r),g.coerceSelectionMarkerOpacity(d,u)}},27379:function(H,U,e){var g=e(30211),P=e(71828),a=e(95423).getTraceColor,L=P.fillText,T=e(59150).makeHoverPointText,v=e(10869).isPtInsidePolygon;H.exports=function(t,r,u){var n=t.cd,s=n[0].trace,f=t.subplot,l=f.radialAxis,x=f.angularAxis,c=f.vangles,b=c?v:P.isPtInsideSector,h=t.maxHoverDistance,o=x._period||2*Math.PI,p=Math.abs(l.g2p(Math.sqrt(r*r+u*u))),S=Math.atan2(u,r);l.range[0]>l.range[1]&&(S+=Math.PI);var A=function(w){return b(p,S,[w.rp0,w.rp1],[w.thetag0,w.thetag1],c)?h+Math.min(1,Math.abs(w.thetag1-w.thetag0)/o)-1+(w.rp1-p)/(w.rp1-w.rp0)-1:1/0};if(g.getClosest(n,A,t),t.index!==!1){var E=t.index,m=n[E];t.x0=t.x1=m.ct[0],t.y0=t.y1=m.ct[1];var M=P.extendFlat({},m,{r:m.s,theta:m.p});return L(m,s,t),T(M,s,f,t),t.hovertemplate=s.hovertemplate,t.color=a(s,m),t.xLabelVal=t.yLabelVal=void 0,m.s<0&&(t.idealAlign="left"),[t]}}},23381:function(H,U,e){H.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(23580),categories:["polar","bar","showLegend"],attributes:e(55023),layoutAttributes:e(40151),supplyDefaults:e(6135),supplyLayoutDefaults:e(19860),calc:e(74692).calc,crossTraceCalc:e(74692).crossTraceCalc,plot:e(60173),colorbar:e(4898),formatLabels:e(98608),style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(27379),selectPoints:e(81974),meta:{}}},40151:function(H){H.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},19860:function(H,U,e){var g=e(71828),P=e(40151);H.exports=function(a,L,T){var v={},d;function t(n,s){return g.coerce(a[d]||{},L[d],P,n,s)}for(var r=0;r<T.length;r++){var u=T[r];u.type==="barpolar"&&u.visible===!0&&(d=u.subplot,v[d]||(t("barmode"),t("bargap"),v[d]=1))}}},60173:function(H,U,e){var g=e(39898),P=e(92770),a=e(71828),L=e(91424),T=e(10869);H.exports=function(t,r,u){var n=t._context.staticPlot,s=r.xaxis,f=r.yaxis,l=r.radialAxis,x=r.angularAxis,c=v(r),b=r.layers.frontplot.select("g.barlayer");a.makeTraceGroups(b,u,"trace bars").each(function(){var h=g.select(this),o=a.ensureSingle(h,"g","points"),p=o.selectAll("g.point").data(a.identity);p.enter().append("g").style("vector-effect",n?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),p.exit().remove(),p.each(function(S){var A=g.select(this),E=S.rp0=l.c2p(S.s0),m=S.rp1=l.c2p(S.s1),M=S.thetag0=x.c2g(S.p0),w=S.thetag1=x.c2g(S.p1),i;if(!P(E)||!P(m)||!P(M)||!P(w)||E===m||M===w)i="M0,0Z";else{var C=l.c2g(S.s1),y=(M+w)/2;S.ct=[s.c2p(C*Math.cos(y)),f.c2p(C*Math.sin(y))],i=c(E,m,M,w)}a.ensureSingle(A,"path").attr("d",i)}),L.setClipUrl(h,r._hasClipOnAxisFalse?r.clipIds.forTraces:null,t)})};function v(d){var t=d.cxx,r=d.cyy;return d.vangles?function(u,n,s,f){var l,x;a.angleDelta(s,f)>0?(l=s,x=f):(l=f,x=s);var c=T.findEnclosingVertexAngles(l,d.vangles)[0],b=T.findEnclosingVertexAngles(x,d.vangles)[1],h=[c,(l+x)/2,b];return T.pathPolygonAnnulus(u,n,l,x,h,t,r)}:function(u,n,s,f){return a.pathAnnulus(u,n,s,f,t,r)}}},53522:function(H,U,e){var g=e(82196),P=e(1486),a=e(22399),L=e(12663).axisHoverFormat,T=e(5386).fF,v=e(1426).extendFlat,d=g.marker,t=d.line;H.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:v({},d.symbol,{arrayOk:!1,editType:"plot"}),opacity:v({},d.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:v({},d.angle,{arrayOk:!1,editType:"calc"}),size:v({},d.size,{arrayOk:!1,editType:"calc"}),color:v({},d.color,{arrayOk:!1,editType:"style"}),line:{color:v({},t.color,{arrayOk:!1,dflt:a.defaultLine,editType:"style"}),width:v({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:g.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:P.offsetgroup,alignmentgroup:P.alignmentgroup,selected:{marker:g.selected.marker,editType:"style"},unselected:{marker:g.unselected.marker,editType:"style"},text:v({},g.text,{}),hovertext:v({},g.hovertext,{}),hovertemplate:T({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},48518:function(H,U,e){var g=e(92770),P=e(89298),a=e(42973),L=e(71828),T=e(50606).BADNUM,v=L._;H.exports=function(S,A){var E=S._fullLayout,m=P.getFromId(S,A.xaxis||"x"),M=P.getFromId(S,A.yaxis||"y"),w=[],i=A.type==="violin"?"_numViolins":"_numBoxes",C,y,_,I,N,k,O;A.orientation==="h"?(_=m,I="x",N=M,k="y",O=!!A.yperiodalignment):(_=M,I="y",N=m,k="x",O=!!A.xperiodalignment);var z=d(A,k,N,E[i]),F=z[0],B=z[1],G=L.distinctVals(F,N),Q=G.vals,ee=G.minDiff/2,ae,fe,K,W,Z,X,$=(A.boxpoints||A.points)==="all"?L.identity:function(Rt){return Rt.v<ae.lf||Rt.v>ae.uf};if(A._hasPreCompStats){var ie=A[I],J=function(Rt){return _.d2c((A[Rt]||[])[C])},j=1/0,se=-1/0;for(C=0;C<A._length;C++){var ne=F[C];if(g(ne)){if(ae={},ae.pos=ae[k]=ne,O&&B&&(ae.orig_p=B[C]),ae.q1=J("q1"),ae.med=J("median"),ae.q3=J("q3"),fe=[],ie&&L.isArrayOrTypedArray(ie[C]))for(y=0;y<ie[C].length;y++)X=_.d2c(ie[C][y]),X!==T&&(Z={v:X,i:[C,y]},n(Z,A,[C,y]),fe.push(Z));if(ae.pts=fe.sort(f),K=ae[I]=fe.map(l),W=K.length,ae.med!==T&&ae.q1!==T&&ae.q3!==T&&ae.med>=ae.q1&&ae.q3>=ae.med){var ue=J("lowerfence");ae.lf=ue!==T&&ue<=ae.q1?ue:x(ae,K,W);var ge=J("upperfence");ae.uf=ge!==T&&ge>=ae.q3?ge:c(ae,K,W);var we=J("mean");ae.mean=we!==T?we:W?L.mean(K,W):(ae.q1+ae.q3)/2;var xe=J("sd");ae.sd=we!==T&&xe>=0?xe:W?L.stdev(K,W,ae.mean):ae.q3-ae.q1,ae.lo=b(ae),ae.uo=h(ae);var Fe=J("notchspan");Fe=Fe!==T&&Fe>0?Fe:o(ae,W),ae.ln=ae.med-Fe,ae.un=ae.med+Fe;var ze=ae.lf,Te=ae.uf;A.boxpoints&&K.length&&(ze=Math.min(ze,K[0]),Te=Math.max(Te,K[W-1])),A.notched&&(ze=Math.min(ze,ae.ln),Te=Math.max(Te,ae.un)),ae.min=ze,ae.max=Te}else{L.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+ae.q1,"median = "+ae.med,"q3 = "+ae.q3].join(`
`));var ye;ae.med!==T?ye=ae.med:ae.q1!==T?ae.q3!==T?ye=(ae.q1+ae.q3)/2:ye=ae.q1:ae.q3!==T?ye=ae.q3:ye=0,ae.med=ye,ae.q1=ae.q3=ye,ae.lf=ae.uf=ye,ae.mean=ae.sd=ye,ae.ln=ae.un=ye,ae.min=ae.max=ye}j=Math.min(j,ae.min),se=Math.max(se,ae.max),ae.pts2=fe.filter($),w.push(ae)}}A._extremes[_._id]=P.findExtremes(_,[j,se],{padded:!0})}else{var Ae=_.makeCalcdata(A,I),Ne=t(Q,ee),Ue=Q.length,Re=r(Ue);for(C=0;C<A._length;C++)if(X=Ae[C],!!g(X)){var Ve=L.findBin(F[C],Ne);Ve>=0&&Ve<Ue&&(Z={v:X,i:C},n(Z,A,C),Re[Ve].push(Z))}var rt=1/0,Qe=-1/0,Je=A.quartilemethod,qe=Je==="exclusive",dt=Je==="inclusive";for(C=0;C<Ue;C++)if(Re[C].length>0){if(ae={},ae.pos=ae[k]=Q[C],fe=ae.pts=Re[C].sort(f),K=ae[I]=fe.map(l),W=K.length,ae.min=K[0],ae.max=K[W-1],ae.mean=L.mean(K,W),ae.sd=L.stdev(K,W,ae.mean)*A.sdmultiple,ae.med=L.interp(K,.5),W%2&&(qe||dt)){var pt,mt;qe?(pt=K.slice(0,W/2),mt=K.slice(W/2+1)):dt&&(pt=K.slice(0,W/2+1),mt=K.slice(W/2)),ae.q1=L.interp(pt,.5),ae.q3=L.interp(mt,.5)}else ae.q1=L.interp(K,.25),ae.q3=L.interp(K,.75);ae.lf=x(ae,K,W),ae.uf=c(ae,K,W),ae.lo=b(ae),ae.uo=h(ae);var Ct=o(ae,W);ae.ln=ae.med-Ct,ae.un=ae.med+Ct,rt=Math.min(rt,ae.ln),Qe=Math.max(Qe,ae.un),ae.pts2=fe.filter($),w.push(ae)}A._extremes[_._id]=P.findExtremes(_,A.notched?Ae.concat([rt,Qe]):Ae,{padded:!0})}return s(w,A),w.length>0?(w[0].t={num:E[i],dPos:ee,posLetter:k,valLetter:I,labels:{med:v(S,"median:"),min:v(S,"min:"),q1:v(S,"q1:"),q3:v(S,"q3:"),max:v(S,"max:"),mean:A.boxmean==="sd"||A.sizemode==="sd"?v(S,"mean ± σ:").replace("σ",A.sdmultiple===1?"σ":A.sdmultiple+"σ"):v(S,"mean:"),lf:v(S,"lower fence:"),uf:v(S,"upper fence:")}},E[i]++,w):[{t:{empty:!0}}]};function d(p,S,A,E){var m=S in p,M=S+"0"in p,w="d"+S in p;if(m||M&&w){var i=A.makeCalcdata(p,S),C=a(p,A,S,i).vals;return[C,i]}var y;M?y=p[S+"0"]:"name"in p&&(A.type==="category"||g(p.name)&&["linear","log"].indexOf(A.type)!==-1||L.isDateTime(p.name)&&A.type==="date")?y=p.name:y=E;for(var _=A.type==="multicategory"?A.r2c_just_indices(y):A.d2c(y,0,p[S+"calendar"]),I=p._length,N=new Array(I),k=0;k<I;k++)N[k]=_;return[N]}function t(p,S){for(var A=p.length,E=new Array(A+1),m=0;m<A;m++)E[m]=p[m]-S;return E[A]=p[A-1]+S,E}function r(p){for(var S=new Array(p),A=0;A<p;A++)S[A]=[];return S}var u={text:"tx",hovertext:"htx"};function n(p,S,A){for(var E in u)L.isArrayOrTypedArray(S[E])&&(Array.isArray(A)?L.isArrayOrTypedArray(S[E][A[0]])&&(p[u[E]]=S[E][A[0]][A[1]]):p[u[E]]=S[E][A])}function s(p,S){if(L.isArrayOrTypedArray(S.selectedpoints))for(var A=0;A<p.length;A++){for(var E=p[A].pts||[],m={},M=0;M<E.length;M++)m[E[M].i]=M;L.tagSelected(E,S,m)}}function f(p,S){return p.v-S.v}function l(p){return p.v}function x(p,S,A){return A===0?p.q1:Math.min(p.q1,S[Math.min(L.findBin(2.5*p.q1-1.5*p.q3,S,!0)+1,A-1)])}function c(p,S,A){return A===0?p.q3:Math.max(p.q3,S[Math.max(L.findBin(2.5*p.q3-1.5*p.q1,S),0)])}function b(p){return 4*p.q1-3*p.q3}function h(p){return 4*p.q3-3*p.q1}function o(p,S){return S===0?0:1.57*(p.q3-p.q1)/Math.sqrt(S)}},37188:function(H,U,e){var g=e(89298),P=e(71828),a=e(99082).getAxisGroup,L=["v","h"];function T(d,t){for(var r=d.calcdata,u=t.xaxis,n=t.yaxis,s=0;s<L.length;s++){for(var f=L[s],l=f==="h"?n:u,x=[],c=0;c<r.length;c++){var b=r[c],h=b[0].t,o=b[0].trace;o.visible===!0&&(o.type==="box"||o.type==="candlestick")&&!h.empty&&(o.orientation||"v")===f&&o.xaxis===u._id&&o.yaxis===n._id&&x.push(c)}v("box",d,x,l)}}function v(d,t,r,u){var n=t.calcdata,s=t._fullLayout,f=u._id,l=f.charAt(0),x,c,b,h=[],o=0;for(x=0;x<r.length;x++)for(b=n[r[x]],c=0;c<b.length;c++)h.push(u.c2l(b[c].pos,!0)),o+=(b[c].pts2||[]).length;if(h.length){var p=P.distinctVals(h);(u.type==="category"||u.type==="multicategory")&&(p.minDiff=1);var S=p.minDiff/2;g.minDtick(u,p.minDiff,p.vals[0],!0);var A=d==="violin"?"_numViolins":"_numBoxes",E=s[A],m=s[d+"mode"]==="group"&&E>1,M=1-s[d+"gap"],w=1-s[d+"groupgap"];for(x=0;x<r.length;x++){b=n[r[x]];var i=b[0].trace,C=b[0].t,y=i.width,_=i.side,I,N,k,O;if(y)I=N=O=y/2,k=0;else if(I=S,m){var z=a(s,u._id)+i.orientation,F=s._alignmentOpts[z]||{},B=F[i.alignmentgroup]||{},G=Object.keys(B.offsetGroups||{}).length,Q=G||E,ee=G?i._offsetIndex:C.num;N=I*M*w/Q,k=2*I*(-.5+(ee+.5)/Q)*M,O=I*M/Q}else N=I*M*w,k=0,O=I;C.dPos=I,C.bPos=k,C.bdPos=N,C.wHover=O;var ae,fe,K=k+N,W,Z,X,$,ie,J,j=!!y,se=(i.boxpoints||i.points)&&o>0;if(_==="positive"?(ae=I*(y?1:.5),W=K,fe=W=k):_==="negative"?(ae=W=k,fe=I*(y?1:.5),Z=K):(ae=fe=I,W=Z=K),se){var ne=i.pointpos,ue=i.jitter,ge=i.marker.size/2,we=0;ne+ue>=0&&(we=K*(ne+ue),we>ae?(j=!0,ie=ge,X=we):we>W&&(ie=ge,X=ae)),we<=ae&&(X=ae);var xe=0;ne-ue<=0&&(xe=-K*(ne-ue),xe>fe?(j=!0,J=ge,$=xe):xe>Z&&(J=ge,$=fe)),xe<=fe&&($=fe)}else X=ae,$=fe;var Fe=new Array(b.length);for(c=0;c<b.length;c++)Fe[c]=b[c].pos;i._extremes[f]=g.findExtremes(u,Fe,{padded:j,vpadminus:$,vpadplus:X,vpadLinearized:!0,ppadminus:{x:J,y:ie}[l],ppadplus:{x:ie,y:J}[l]})}}}H.exports={crossTraceCalc:T,setPositionOffset:v}},36411:function(H,U,e){var g=e(71828),P=e(73972),a=e(7901),L=e(73927),T=e(26125),v=e(4322),d=e(53522);function t(s,f,l,x){function c(w,i){return g.coerce(s,f,d,w,i)}if(r(s,f,c,x),f.visible!==!1){L(s,f,x,c),c("xhoverformat"),c("yhoverformat");var b=f._hasPreCompStats;b&&(c("lowerfence"),c("upperfence")),c("line.color",(s.marker||{}).color||l),c("line.width"),c("fillcolor",a.addOpacity(f.line.color,.5));var h=!1;if(b){var o=c("mean"),p=c("sd");o&&o.length&&(h=!0,p&&p.length&&(h="sd"))}c("whiskerwidth");var S=c("sizemode"),A;S==="quartiles"&&(A=c("boxmean",h)),c("showwhiskers",S==="quartiles"),(S==="sd"||A==="sd")&&c("sdmultiple"),c("width"),c("quartilemethod");var E=!1;if(b){var m=c("notchspan");m&&m.length&&(E=!0)}else g.validate(s.notchwidth,d.notchwidth)&&(E=!0);var M=c("notched",E);M&&c("notchwidth"),u(s,f,c,{prefix:"box"})}}function r(s,f,l,x){function c(G){var Q=0;return G&&G.length&&(Q+=1,g.isArrayOrTypedArray(G[0])&&G[0].length&&(Q+=1)),Q}function b(G){return g.validate(s[G],d[G])}var h=l("y"),o=l("x"),p;if(f.type==="box"){var S=l("q1"),A=l("median"),E=l("q3");f._hasPreCompStats=S&&S.length&&A&&A.length&&E&&E.length,p=Math.min(g.minRowLength(S),g.minRowLength(A),g.minRowLength(E))}var m=c(h),M=c(o),w=m&&g.minRowLength(h),i=M&&g.minRowLength(o),C=x.calendar,y={autotypenumbers:x.autotypenumbers},_,I;if(f._hasPreCompStats)switch(String(M)+String(m)){case"00":var N=b("x0")||b("dx"),k=b("y0")||b("dy");k&&!N?_="h":_="v",I=p;break;case"10":_="v",I=Math.min(p,i);break;case"20":_="h",I=Math.min(p,o.length);break;case"01":_="h",I=Math.min(p,w);break;case"02":_="v",I=Math.min(p,h.length);break;case"12":_="v",I=Math.min(p,i,h.length);break;case"21":_="h",I=Math.min(p,o.length,w);break;case"11":I=0;break;case"22":var O=!1,z;for(z=0;z<o.length;z++)if(v(o[z],C,y)==="category"){O=!0;break}if(O)_="v",I=Math.min(p,i,h.length);else{for(z=0;z<h.length;z++)if(v(h[z],C,y)==="category"){O=!0;break}O?(_="h",I=Math.min(p,o.length,w)):(_="v",I=Math.min(p,i,h.length))}break}else m>0?(_="v",M>0?I=Math.min(i,w):I=Math.min(w)):M>0?(_="h",I=Math.min(i)):I=0;if(!I){f.visible=!1;return}f._length=I;var F=l("orientation",_);f._hasPreCompStats?F==="v"&&M===0?(l("x0",0),l("dx",1)):F==="h"&&m===0&&(l("y0",0),l("dy",1)):F==="v"&&M===0?l("x0"):F==="h"&&m===0&&l("y0");var B=P.getComponentMethod("calendars","handleTraceDefaults");B(s,f,["x","y"],x)}function u(s,f,l,x){var c=x.prefix,b=g.coerce2(s,f,d,"marker.outliercolor"),h=l("marker.line.outliercolor"),o="outliers";f._hasPreCompStats?o="all":(b||h)&&(o="suspectedoutliers");var p=l(c+"points",o);p?(l("jitter",p==="all"?.3:0),l("pointpos",p==="all"?-1.5:0),l("marker.symbol"),l("marker.opacity"),l("marker.size"),l("marker.angle"),l("marker.color",f.line.color),l("marker.line.color"),l("marker.line.width"),p==="suspectedoutliers"&&(l("marker.line.outliercolor",f.marker.color),l("marker.line.outlierwidth")),l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size"),l("text"),l("hovertext")):delete f.marker;var S=l("hoveron");(S==="all"||S.indexOf("points")!==-1)&&l("hovertemplate"),g.coerceSelectionMarkerOpacity(f,l)}function n(s,f){var l,x;function c(o){return g.coerce(x._input,x,d,o)}for(var b=0;b<s.length;b++){x=s[b];var h=x.type;(h==="box"||h==="violin")&&(l=x._input,f[h+"mode"]==="group"&&T(l,x,f,c))}}H.exports={supplyDefaults:t,crossTraceDefaults:n,handleSampleDefaults:r,handlePointsDefaults:u}},74907:function(H){H.exports=function(e,g){return g.hoverOnBox&&(e.hoverOnBox=g.hoverOnBox),"xVal"in g&&(e.x=g.xVal),"yVal"in g&&(e.y=g.yVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},41868:function(H,U,e){var g=e(89298),P=e(71828),a=e(30211),L=e(7901),T=P.fillText;function v(r,u,n,s){var f=r.cd,l=f[0].trace,x=l.hoveron,c=[],b;return x.indexOf("boxes")!==-1&&(c=c.concat(d(r,u,n,s))),x.indexOf("points")!==-1&&(b=t(r,u,n)),s==="closest"?b?[b]:c:(b&&c.push(b),c)}function d(r,u,n,s){var f=r.cd,l=r.xa,x=r.ya,c=f[0].trace,b=f[0].t,h=c.type==="violin",o,p,S,A,E,m,M,w,i,C,y,_=b.bdPos,I,N,k=b.wHover,O=function(xe){return S.c2l(xe.pos)+b.bPos-S.c2l(m)};h&&c.side!=="both"?(c.side==="positive"&&(i=function(xe){var Fe=O(xe);return a.inbox(Fe,Fe+k,C)},I=_,N=0),c.side==="negative"&&(i=function(xe){var Fe=O(xe);return a.inbox(Fe-k,Fe,C)},I=0,N=_)):(i=function(xe){var Fe=O(xe);return a.inbox(Fe-k,Fe+k,C)},I=N=_);var z;h?z=function(xe){return a.inbox(xe.span[0]-E,xe.span[1]-E,C)}:z=function(xe){return a.inbox(xe.min-E,xe.max-E,C)},c.orientation==="h"?(E=u,m=n,M=z,w=i,o="y",S=x,p="x",A=l):(E=n,m=u,M=i,w=z,o="x",S=l,p="y",A=x);var F=Math.min(1,_/Math.abs(S.r2c(S.range[1])-S.r2c(S.range[0])));C=r.maxHoverDistance-F,y=r.maxSpikeDistance-F;function B(xe){return(M(xe)+w(xe))/2}var G=a.getDistanceFunction(s,M,w,B);if(a.getClosest(f,G,r),r.index===!1)return[];var Q=f[r.index],ee=c.line.color,ae=(c.marker||{}).color;L.opacity(ee)&&c.line.width?r.color=ee:L.opacity(ae)&&c.boxpoints?r.color=ae:r.color=c.fillcolor,r[o+"0"]=S.c2p(Q.pos+b.bPos-N,!0),r[o+"1"]=S.c2p(Q.pos+b.bPos+I,!0),r[o+"LabelVal"]=Q.orig_p!==void 0?Q.orig_p:Q.pos;var fe=o+"Spike";r.spikeDistance=B(Q)*y/C,r[fe]=S.c2p(Q.pos,!0);var K=c.boxmean||c.sizemode==="sd"||(c.meanline||{}).visible,W=c.boxpoints||c.points,Z=W&&K?["max","uf","q3","med","mean","q1","lf","min"]:W&&!K?["max","uf","q3","med","q1","lf","min"]:!W&&K?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],X=A.range[1]<A.range[0];c.orientation===(X?"v":"h")&&Z.reverse();for(var $=r.spikeDistance,ie=r[fe],J=[],j=0;j<Z.length;j++){var se=Z[j];if(se in Q){var ne=Q[se],ue=A.c2p(ne,!0),ge=P.extendFlat({},r);ge.attr=se,ge[p+"0"]=ge[p+"1"]=ue,ge[p+"LabelVal"]=ne,ge[p+"Label"]=(b.labels?b.labels[se]+" ":"")+g.hoverLabelText(A,ne,c[p+"hoverformat"]),ge.hoverOnBox=!0,se==="mean"&&"sd"in Q&&(c.boxmean==="sd"||c.sizemode==="sd")&&(ge[p+"err"]=Q.sd),ge.hovertemplate=!1,J.push(ge)}}r.name="",r.spikeDistance=void 0,r[fe]=void 0;for(var we=0;we<J.length;we++)J[we].attr!=="med"?(J[we].name="",J[we].spikeDistance=void 0,J[we][fe]=void 0):(J[we].spikeDistance=$,J[we][fe]=ie);return J}function t(r,u,n){for(var s=r.cd,f=r.xa,l=r.ya,x=s[0].trace,c=f.c2p(u),b=l.c2p(n),h,o=function(z){var F=Math.max(3,z.mrc||0);return Math.max(Math.abs(f.c2p(z.x)-c)-F,1-3/F)},p=function(z){var F=Math.max(3,z.mrc||0);return Math.max(Math.abs(l.c2p(z.y)-b)-F,1-3/F)},S=a.quadrature(o,p),A=!1,E,m,M=0;M<s.length;M++){E=s[M];for(var w=0;w<(E.pts||[]).length;w++){m=E.pts[w];var i=S(m);i<=r.distance&&(r.distance=i,A=[M,w])}}if(!A)return!1;E=s[A[0]],m=E.pts[A[1]];var C=f.c2p(m.x,!0),y=l.c2p(m.y,!0),_=m.mrc||1;h=P.extendFlat({},r,{index:m.i,color:(x.marker||{}).color,name:x.name,x0:C-_,x1:C+_,y0:y-_,y1:y+_,spikeDistance:r.distance,hovertemplate:x.hovertemplate});var I=E.orig_p,N=I!==void 0?I:E.pos,k;x.orientation==="h"?(k=l,h.xLabelVal=m.x,h.yLabelVal=N):(k=f,h.xLabelVal=N,h.yLabelVal=m.y);var O=k._id.charAt(0);return h[O+"Spike"]=k.c2p(E.pos,!0),T(m,x,h),h}H.exports={hoverPoints:v,hoverOnBoxes:d,hoverOnPoints:t}},83832:function(H,U,e){H.exports={attributes:e(53522),layoutAttributes:e(40094),supplyDefaults:e(36411).supplyDefaults,crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(4199).supplyLayoutDefaults,calc:e(48518),crossTraceCalc:e(37188).crossTraceCalc,plot:e(86047).plot,style:e(58063).style,styleOnSelect:e(58063).styleOnSelect,hoverPoints:e(41868).hoverPoints,eventData:e(74907),selectPoints:e(24626),moduleType:"trace",name:"box",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},40094:function(H){H.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},4199:function(H,U,e){var g=e(73972),P=e(71828),a=e(40094);function L(v,d,t,r,u){for(var n=u+"Layout",s=!1,f=0;f<t.length;f++){var l=t[f];if(g.traceIs(l,n)){s=!0;break}}s&&(r(u+"mode"),r(u+"gap"),r(u+"groupgap"))}function T(v,d,t){function r(u,n){return P.coerce(v,d,a,u,n)}L(v,d,t,r,"box")}H.exports={supplyLayoutDefaults:T,_supply:L}},86047:function(H,U,e){var g=e(39898),P=e(71828),a=e(91424),L=5,T=.01;function v(u,n,s,f){var l=u._context.staticPlot,x=n.xaxis,c=n.yaxis;P.makeTraceGroups(f,s,"trace boxes").each(function(b){var h=g.select(this),o=b[0],p=o.t,S=o.trace;if(p.wdPos=p.bdPos*S.whiskerwidth,S.visible!==!0||p.empty){h.remove();return}var A,E;S.orientation==="h"?(A=c,E=x):(A=x,E=c),d(h,{pos:A,val:E},S,p,l),t(h,{x,y:c},S,p),r(h,{pos:A,val:E},S,p)})}function d(u,n,s,f,l){var x=s.orientation==="h",c=n.val,b=n.pos,h=!!b.rangebreaks,o=f.bPos,p=f.wdPos||0,S=f.bPosPxOffset||0,A=s.whiskerwidth||0,E=s.showwhiskers!==!1,m=s.notched||!1,M=m?1-2*s.notchwidth:1,w,i;Array.isArray(f.bdPos)?(w=f.bdPos[0],i=f.bdPos[1]):(w=f.bdPos,i=f.bdPos);var C=u.selectAll("path.box").data(s.type!=="violin"||s.box.visible?P.identity:[]);C.enter().append("path").style("vector-effect",l?"none":"non-scaling-stroke").attr("class","box"),C.exit().remove(),C.each(function(y){if(y.empty)return"M0,0Z";var _=b.c2l(y.pos+o,!0),I=b.l2p(_-w)+S,N=b.l2p(_+i)+S,k=h?(I+N)/2:b.l2p(_)+S,O=s.whiskerwidth,z=h?I*O+(1-O)*k:b.l2p(_-p)+S,F=h?N*O+(1-O)*k:b.l2p(_+p)+S,B=b.l2p(_-w*M)+S,G=b.l2p(_+i*M)+S,Q=s.sizemode==="sd",ee=c.c2p(Q?y.mean-y.sd:y.q1,!0),ae=Q?c.c2p(y.mean+y.sd,!0):c.c2p(y.q3,!0),fe=P.constrain(Q?c.c2p(y.mean,!0):c.c2p(y.med,!0),Math.min(ee,ae)+1,Math.max(ee,ae)-1),K=y.lf===void 0||s.boxpoints===!1||Q,W=c.c2p(K?y.min:y.lf,!0),Z=c.c2p(K?y.max:y.uf,!0),X=c.c2p(y.ln,!0),$=c.c2p(y.un,!0);x?g.select(this).attr("d","M"+fe+","+B+"V"+G+"M"+ee+","+I+"V"+N+(m?"H"+X+"L"+fe+","+G+"L"+$+","+N:"")+"H"+ae+"V"+I+(m?"H"+$+"L"+fe+","+B+"L"+X+","+I:"")+"Z"+(E?"M"+ee+","+k+"H"+W+"M"+ae+","+k+"H"+Z+(A===0?"":"M"+W+","+z+"V"+F+"M"+Z+","+z+"V"+F):"")):g.select(this).attr("d","M"+B+","+fe+"H"+G+"M"+I+","+ee+"H"+N+(m?"V"+X+"L"+G+","+fe+"L"+N+","+$:"")+"V"+ae+"H"+I+(m?"V"+$+"L"+B+","+fe+"L"+I+","+X:"")+"Z"+(E?"M"+k+","+ee+"V"+W+"M"+k+","+ae+"V"+Z+(A===0?"":"M"+z+","+W+"H"+F+"M"+z+","+Z+"H"+F):""))})}function t(u,n,s,f){var l=n.x,x=n.y,c=f.bdPos,b=f.bPos,h=s.boxpoints||s.points;P.seedPseudoRandom();var o=function(A){return A.forEach(function(E){E.t=f,E.trace=s}),A},p=u.selectAll("g.points").data(h?o:[]);p.enter().append("g").attr("class","points"),p.exit().remove();var S=p.selectAll("path").data(function(A){var E,m=A.pts2,M=Math.max((A.max-A.min)/10,A.q3-A.q1),w=M*1e-9,i=M*T,C=[],y=0,_;if(s.jitter){if(M===0)for(y=1,C=new Array(m.length),E=0;E<m.length;E++)C[E]=1;else for(E=0;E<m.length;E++){var I=Math.max(0,E-L),N=m[I].v,k=Math.min(m.length-1,E+L),O=m[k].v;h!=="all"&&(m[E].v<A.lf?O=Math.min(O,A.lf):N=Math.max(N,A.uf));var z=Math.sqrt(i*(k-I)/(O-N+w))||0;z=P.constrain(Math.abs(z),0,1),C.push(z),y=Math.max(z,y)}_=s.jitter*2/(y||1)}for(E=0;E<m.length;E++){var F=m[E],B=F.v,G=s.jitter?_*C[E]*(P.pseudoRandom()-.5):0,Q=A.pos+b+c*(s.pointpos+G);s.orientation==="h"?(F.y=Q,F.x=B):(F.x=Q,F.y=B),h==="suspectedoutliers"&&B<A.uo&&B>A.lo&&(F.so=!0)}return m});S.enter().append("path").classed("point",!0),S.exit().remove(),S.call(a.translatePoints,l,x)}function r(u,n,s,f){var l=n.val,x=n.pos,c=!!x.rangebreaks,b=f.bPos,h=f.bPosPxOffset||0,o=s.boxmean||(s.meanline||{}).visible,p,S;Array.isArray(f.bdPos)?(p=f.bdPos[0],S=f.bdPos[1]):(p=f.bdPos,S=f.bdPos);var A=u.selectAll("path.mean").data(s.type==="box"&&s.boxmean||s.type==="violin"&&s.box.visible&&s.meanline.visible?P.identity:[]);A.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),A.exit().remove(),A.each(function(E){var m=x.c2l(E.pos+b,!0),M=x.l2p(m-p)+h,w=x.l2p(m+S)+h,i=c?(M+w)/2:x.l2p(m)+h,C=l.c2p(E.mean,!0),y=l.c2p(E.mean-E.sd,!0),_=l.c2p(E.mean+E.sd,!0);s.orientation==="h"?g.select(this).attr("d","M"+C+","+M+"V"+w+(o==="sd"?"m0,0L"+y+","+i+"L"+C+","+M+"L"+_+","+i+"Z":"")):g.select(this).attr("d","M"+M+","+C+"H"+w+(o==="sd"?"m0,0L"+i+","+y+"L"+M+","+C+"L"+i+","+_+"Z":""))})}H.exports={plot:v,plotBoxAndWhiskers:d,plotPoints:t,plotBoxMean:r}},24626:function(H){H.exports=function(e,g){var P=e.cd,a=e.xaxis,L=e.yaxis,T=[],v,d;if(g===!1)for(v=0;v<P.length;v++)for(d=0;d<(P[v].pts||[]).length;d++)P[v].pts[d].selected=0;else for(v=0;v<P.length;v++)for(d=0;d<(P[v].pts||[]).length;d++){var t=P[v].pts[d],r=a.c2p(t.x),u=L.c2p(t.y);g.contains([r,u],null,t.i,e)?(T.push({pointNumber:t.i,x:a.c2d(t.x),y:L.c2d(t.y)}),t.selected=1):t.selected=0}return T}},58063:function(H,U,e){var g=e(39898),P=e(7901),a=e(91424);function L(v,d,t){var r=t||g.select(v).selectAll("g.trace.boxes");r.style("opacity",function(u){return u[0].trace.opacity}),r.each(function(u){var n=g.select(this),s=u[0].trace,f=s.line.width;function l(b,h,o,p){b.style("stroke-width",h+"px").call(P.stroke,o).call(P.fill,p)}var x=n.selectAll("path.box");if(s.type==="candlestick")x.each(function(b){if(!b.empty){var h=g.select(this),o=s[b.dir];l(h,o.line.width,o.line.color,o.fillcolor),h.style("opacity",s.selectedpoints&&!b.selected?.3:1)}});else{l(x,f,s.line.color,s.fillcolor),n.selectAll("path.mean").style({"stroke-width":f,"stroke-dasharray":2*f+"px,"+f+"px"}).call(P.stroke,s.line.color);var c=n.selectAll("path.point");a.pointStyle(c,s,v)}})}function T(v,d,t){var r=d[0].trace,u=t.selectAll("path.point");r.selectedpoints?a.selectedPointStyle(u,r):a.pointStyle(u,r,v)}H.exports={style:L,styleOnSelect:T}},75343:function(H,U,e){var g=e(71828).extendFlat,P=e(12663).axisHoverFormat,a=e(2522),L=e(53522);function T(v){return{line:{color:g({},L.line.color,{dflt:v}),width:L.line.width,editType:"style"},fillcolor:L.fillcolor,editType:"style"}}H.exports={xperiod:a.xperiod,xperiod0:a.xperiod0,xperiodalignment:a.xperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),x:a.x,open:a.open,high:a.high,low:a.low,close:a.close,line:{width:g({},L.line.width,{}),editType:"style"},increasing:T(a.increasing.line.color.dflt),decreasing:T(a.decreasing.line.color.dflt),text:a.text,hovertext:a.hovertext,whiskerwidth:g({},L.whiskerwidth,{dflt:0}),hoverlabel:a.hoverlabel}},41197:function(H,U,e){var g=e(71828),P=e(89298),a=e(42973),L=e(3485).calcCommon;H.exports=function(v,d){var t=v._fullLayout,r=P.getFromId(v,d.xaxis),u=P.getFromId(v,d.yaxis),n=r.makeCalcdata(d,"x"),s=a(d,r,"x",n).vals,f=L(v,d,n,s,u,T);return f.length?(g.extendFlat(f[0].t,{num:t._numBoxes,dPos:g.distinctVals(s).minDiff/2,posLetter:"x",valLetter:"y"}),t._numBoxes++,f):[{t:{empty:!0}}]};function T(v,d,t,r){return{min:t,q1:Math.min(v,r),med:r,q3:Math.max(v,r),max:d}}},1026:function(H,U,e){var g=e(71828),P=e(7901),a=e(14555),L=e(73927),T=e(75343);H.exports=function(t,r,u,n){function s(l,x){return g.coerce(t,r,T,l,x)}var f=a(t,r,s,n);if(!f){r.visible=!1;return}L(t,r,n,s,{x:!0}),s("xhoverformat"),s("yhoverformat"),s("line.width"),v(t,r,s,"increasing"),v(t,r,s,"decreasing"),s("text"),s("hovertext"),s("whiskerwidth"),n._requestRangeslider[r.xaxis]=!0};function v(d,t,r,u){var n=r(u+".line.color");r(u+".line.width",t.line.width),r(u+".fillcolor",P.addOpacity(n,.5))}},91815:function(H,U,e){H.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(93612),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(75343),layoutAttributes:e(40094),supplyLayoutDefaults:e(4199).supplyLayoutDefaults,crossTraceCalc:e(37188).crossTraceCalc,supplyDefaults:e(1026),calc:e(41197),plot:e(86047).plot,layerName:"boxlayer",style:e(58063).style,hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},13145:function(H,U,e){var g=e(11500),P=e(44467);H.exports=function(T,v,d,t,r){var u=t("a");u||(t("da"),t("a0"));var n=t("b");n||(t("db"),t("b0")),a(T,v,d,r)};function a(L,T,v,d){var t=["aaxis","baxis"];t.forEach(function(r){var u=r.charAt(0),n=L[r]||{},s=P.newContainer(T,r),f={noTicklabelstep:!0,tickfont:"x",id:u+"axis",letter:u,font:T.font,name:r,data:L[u],calendar:T.calendar,dfltColor:d,bgColor:v.paper_bgcolor,autotypenumbersDflt:v.autotypenumbers,fullLayout:v};g(n,s,f),s._categories=s._categories||[],!L[r]&&n.type!=="-"&&(L[r]={type:n.type})})}},402:function(H,U,e){var g=e(71828).isArrayOrTypedArray;H.exports=function(a){return P(a,0)};function P(a,L){if(!g(a)||L>=10)return null;for(var T=1/0,v=-1/0,d=a.length,t=0;t<d;t++){var r=a[t];if(g(r)){var u=P(r,L+1);u&&(T=Math.min(u[0],T),v=Math.max(u[1],v))}else T=Math.min(r,T),v=Math.max(r,v)}return[T,v]}},99798:function(H,U,e){var g=e(41940),P=e(1928),a=e(22399),L=g({editType:"calc"});L.family.dflt='"Open Sans", verdana, arial, sans-serif',L.size.dflt=12,L.color.dflt=a.defaultLine,H.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:P,baxis:P,font:L,color:{valType:"color",dflt:a.defaultLine,editType:"plot"},transforms:void 0}},4536:function(H,U,e){var g=e(71828).isArrayOrTypedArray;H.exports=function(P,a,L,T){var v,d,t,r,u,n,s,f,l,x,c,b,h,o=g(L)?"a":"b",p=o==="a"?P.aaxis:P.baxis,S=p.smoothing,A=o==="a"?P.a2i:P.b2j,E=o==="a"?L:T,m=o==="a"?T:L,M=o==="a"?a.a.length:a.b.length,w=o==="a"?a.b.length:a.a.length,i=Math.floor(o==="a"?P.b2j(m):P.a2i(m)),C=o==="a"?function(ee){return P.evalxy([],ee,i)}:function(ee){return P.evalxy([],i,ee)};S&&(t=Math.max(0,Math.min(w-2,i)),r=i-t,d=o==="a"?function(ee,ae){return P.dxydi([],ee,t,ae,r)}:function(ee,ae){return P.dxydj([],t,ee,r,ae)});var y=A(E[0]),_=A(E[1]),I=y<_?1:-1,N=(_-y)*1e-8,k=I>0?Math.floor:Math.ceil,O=I>0?Math.ceil:Math.floor,z=I>0?Math.min:Math.max,F=I>0?Math.max:Math.min,B=k(y+N),G=O(_-N);s=C(y);var Q=[[s]];for(v=B;v*I<G*I;v+=I)u=[],c=F(y,v),b=z(_,v+I),h=b-c,n=Math.max(0,Math.min(M-2,Math.floor(.5*(c+b)))),f=C(b),S&&(l=d(n,c-n),x=d(n,b-n),u.push([s[0]+l[0]/3*h,s[1]+l[1]/3*h]),u.push([f[0]-x[0]/3*h,f[1]-x[1]/3*h])),u.push(f),Q.push(u),s=f;return Q}},1928:function(H,U,e){var g=e(41940),P=e(22399),a=e(13838),L=e(12663).descriptionWithDates,T=e(30962).overrideAll,v=e(79952).P,d=e(1426).extendFlat;H.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:g({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:a.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:d({},a.labelalias,{editType:"calc"}),tickfont:g({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:L("tick label")},tickformatstops:T(a.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:P.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:d({},v,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:d({},v,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:P.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:g({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},11500:function(H,U,e){var g=e(99798),P=e(7901).addOpacity,a=e(73972),L=e(71828),T=e(26218),v=e(96115),d=e(89426),t=e(15258),r=e(21994),u=e(4322);H.exports=function(f,l,x){var c=x.letter,b=x.font||{},h=g[c+"axis"];function o(B,G){return L.coerce(f,l,h,B,G)}function p(B,G){return L.coerce2(f,l,h,B,G)}x.name&&(l._name=x.name,l._id=x.name),o("autotypenumbers",x.autotypenumbersDflt);var S=o("type");if(S==="-"&&(x.data&&n(l,x.data),l.type==="-"?l.type="linear":S=f.type=l.type),o("smoothing"),o("cheatertype"),o("showticklabels"),o("labelprefix",c+" = "),o("labelsuffix"),o("showtickprefix"),o("showticksuffix"),o("separatethousands"),o("tickformat"),o("exponentformat"),o("minexponent"),o("showexponent"),o("categoryorder"),o("tickmode"),o("tickvals"),o("ticktext"),o("tick0"),o("dtick"),l.tickmode==="array"&&(o("arraytick0"),o("arraydtick")),o("labelpadding"),l._hovertitle=c,S==="date"){var A=a.getComponentMethod("calendars","handleDefaults");A(f,l,"calendar",x.calendar)}r(l,x.fullLayout),l.c2p=L.identity;var E=o("color",x.dfltColor),m=E===f.color?E:b.color,M=o("title.text");M&&(L.coerceFont(o,"title.font",{family:b.family,size:L.bigFont(b.size),color:m}),o("title.offset")),o("tickangle");var w=o("autorange",!l.isValidRange(f.range));w&&o("rangemode"),o("range"),l.cleanRange(),o("fixedrange"),T(f,l,o,S),d(f,l,o,S,x),v(f,l,o,S,x),t(f,l,o,{data:x.data,dataAttr:c});var i=p("gridcolor",P(E,.3)),C=p("gridwidth"),y=p("griddash"),_=o("showgrid");_||(delete l.gridcolor,delete l.gridwidth,delete l.griddash);var I=p("startlinecolor",E),N=p("startlinewidth",C),k=o("startline",l.showgrid||!!I||!!N);k||(delete l.startlinecolor,delete l.startlinewidth);var O=p("endlinecolor",E),z=p("endlinewidth",C),F=o("endline",l.showgrid||!!O||!!z);return F||(delete l.endlinecolor,delete l.endlinewidth),_?(o("minorgridcount"),o("minorgridwidth",C),o("minorgriddash",y),o("minorgridcolor",P(i,.06)),l.minorgridcount||(delete l.minorgridwidth,delete l.minorgriddash,delete l.minorgridcolor)):(delete l.gridcolor,delete l.gridwidth,delete l.griddash),l.showticklabels==="none"&&(delete l.tickfont,delete l.tickangle,delete l.showexponent,delete l.exponentformat,delete l.minexponent,delete l.tickformat,delete l.showticksuffix,delete l.showtickprefix),l.showticksuffix||delete l.ticksuffix,l.showtickprefix||delete l.tickprefix,o("tickmode"),l};function n(s,f){if(s.type==="-"){var l=s._id,x=l.charAt(0),c=x+"calendar",b=s[c];s.type=u(f,b,{autotypenumbers:s.autotypenumbers})}}},25281:function(H,U,e){var g=e(89298),P=e(71828).isArray1D,a=e(53824),L=e(402),T=e(20347),v=e(83311),d=e(44807),t=e(4742),r=e(72505),u=e(68296),n=e(11435);H.exports=function(f,l){var x=g.getFromId(f,l.xaxis),c=g.getFromId(f,l.yaxis),b=l.aaxis,h=l.baxis,o=l.x,p=l.y,S=[];o&&P(o)&&S.push("x"),p&&P(p)&&S.push("y"),S.length&&u(l,b,h,"a","b",S);var A=l._a=l._a||l.a,E=l._b=l._b||l.b;o=l._x||l.x,p=l._y||l.y;var m={};if(l._cheater){var M=b.cheatertype==="index"?A.length:A,w=h.cheatertype==="index"?E.length:E;o=a(M,w,l.cheaterslope)}l._x=o=t(o),l._y=p=t(p),r(o,A,E),r(p,A,E),n(l),l.setScale();var i=L(o),C=L(p),y=.5*(i[1]-i[0]),_=.5*(i[1]+i[0]),I=.5*(C[1]-C[0]),N=.5*(C[1]+C[0]),k=1.3;return i=[_-y*k,_+y*k],C=[N-I*k,N+I*k],l._extremes[x._id]=g.findExtremes(x,i,{padded:!0}),l._extremes[c._id]=g.findExtremes(c,C,{padded:!0}),T(l,"a","b"),T(l,"b","a"),v(l,b),v(l,h),m.clipsegments=d(l._xctrl,l._yctrl,b,h),m.x=o,m.y=p,m.a=A,m.b=E,[m]}},44807:function(H){H.exports=function(e,g,P,a){var L,T,v,d=[],t=!!P.smoothing,r=!!a.smoothing,u=e[0].length-1,n=e.length-1;for(L=0,T=[],v=[];L<=u;L++)T[L]=e[0][L],v[L]=g[0][L];for(d.push({x:T,y:v,bicubic:t}),L=0,T=[],v=[];L<=n;L++)T[L]=e[L][u],v[L]=g[L][u];for(d.push({x:T,y:v,bicubic:r}),L=u,T=[],v=[];L>=0;L--)T[u-L]=e[n][L],v[u-L]=g[n][L];for(d.push({x:T,y:v,bicubic:t}),L=n,T=[],v=[];L>=0;L--)T[n-L]=e[L][0],v[n-L]=g[L][0];return d.push({x:T,y:v,bicubic:r}),d}},20347:function(H,U,e){var g=e(89298),P=e(1426).extendFlat;H.exports=function(L,T,v){var d,t,r,u,n,s,f,l,x,c,b,h,o,p,S=L["_"+T],A=L[T+"axis"],E=A._gridlines=[],m=A._minorgridlines=[],M=A._boundarylines=[],w=L["_"+v],i=L[v+"axis"];A.tickmode==="array"&&(A.tickvals=S.slice());var C=L._xctrl,y=L._yctrl,_=C[0].length,I=C.length,N=L._a.length,k=L._b.length;g.prepTicks(A),A.tickmode==="array"&&delete A.tickvals;var O=A.smoothing?3:1;function z(B){var G,Q,ee,ae,fe,K,W,Z,X,$,ie,J,j=[],se=[],ne={};if(T==="b")for(Q=L.b2j(B),ee=Math.floor(Math.max(0,Math.min(k-2,Q))),ae=Q-ee,ne.length=k,ne.crossLength=N,ne.xy=function(ue){return L.evalxy([],ue,Q)},ne.dxy=function(ue,ge){return L.dxydi([],ue,ee,ge,ae)},G=0;G<N;G++)K=Math.min(N-2,G),W=G-K,Z=L.evalxy([],G,Q),i.smoothing&&G>0&&(X=L.dxydi([],G-1,ee,0,ae),j.push(fe[0]+X[0]/3),se.push(fe[1]+X[1]/3),$=L.dxydi([],G-1,ee,1,ae),j.push(Z[0]-$[0]/3),se.push(Z[1]-$[1]/3)),j.push(Z[0]),se.push(Z[1]),fe=Z;else for(G=L.a2i(B),K=Math.floor(Math.max(0,Math.min(N-2,G))),W=G-K,ne.length=N,ne.crossLength=k,ne.xy=function(ue){return L.evalxy([],G,ue)},ne.dxy=function(ue,ge){return L.dxydj([],K,ue,W,ge)},Q=0;Q<k;Q++)ee=Math.min(k-2,Q),ae=Q-ee,Z=L.evalxy([],G,Q),i.smoothing&&Q>0&&(ie=L.dxydj([],K,Q-1,W,0),j.push(fe[0]+ie[0]/3),se.push(fe[1]+ie[1]/3),J=L.dxydj([],K,Q-1,W,1),j.push(Z[0]-J[0]/3),se.push(Z[1]-J[1]/3)),j.push(Z[0]),se.push(Z[1]),fe=Z;return ne.axisLetter=T,ne.axis=A,ne.crossAxis=i,ne.value=B,ne.constvar=v,ne.index=l,ne.x=j,ne.y=se,ne.smoothing=i.smoothing,ne}function F(B){var G,Q,ee,ae,fe,K=[],W=[],Z={};if(Z.length=S.length,Z.crossLength=w.length,T==="b")for(ee=Math.max(0,Math.min(k-2,B)),fe=Math.min(1,Math.max(0,B-ee)),Z.xy=function(X){return L.evalxy([],X,B)},Z.dxy=function(X,$){return L.dxydi([],X,ee,$,fe)},G=0;G<_;G++)K[G]=C[B*O][G],W[G]=y[B*O][G];else for(Q=Math.max(0,Math.min(N-2,B)),ae=Math.min(1,Math.max(0,B-Q)),Z.xy=function(X){return L.evalxy([],B,X)},Z.dxy=function(X,$){return L.dxydj([],Q,X,ae,$)},G=0;G<I;G++)K[G]=C[G][B*O],W[G]=y[G][B*O];return Z.axisLetter=T,Z.axis=A,Z.crossAxis=i,Z.value=S[B],Z.constvar=v,Z.index=B,Z.x=K,Z.y=W,Z.smoothing=i.smoothing,Z}if(A.tickmode==="array"){for(u=5e-15,n=[Math.floor((S.length-1-A.arraytick0)/A.arraydtick*(1+u)),Math.ceil(-A.arraytick0/A.arraydtick/(1+u))].sort(function(B,G){return B-G}),s=n[0]-1,f=n[1]+1,l=s;l<f;l++)t=A.arraytick0+A.arraydtick*l,!(t<0||t>S.length-1)&&E.push(P(F(t),{color:A.gridcolor,width:A.gridwidth,dash:A.griddash}));for(l=s;l<f;l++)if(r=A.arraytick0+A.arraydtick*l,b=Math.min(r+A.arraydtick,S.length-1),!(r<0||r>S.length-1)&&!(b<0||b>S.length-1))for(h=S[r],o=S[b],d=0;d<A.minorgridcount;d++)p=b-r,!(p<=0)&&(c=h+(o-h)*(d+1)/(A.minorgridcount+1)*(A.arraydtick/p),!(c<S[0]||c>S[S.length-1])&&m.push(P(z(c),{color:A.minorgridcolor,width:A.minorgridwidth,dash:A.minorgriddash})));A.startline&&M.push(P(F(0),{color:A.startlinecolor,width:A.startlinewidth})),A.endline&&M.push(P(F(S.length-1),{color:A.endlinecolor,width:A.endlinewidth}))}else{for(u=5e-15,n=[Math.floor((S[S.length-1]-A.tick0)/A.dtick*(1+u)),Math.ceil((S[0]-A.tick0)/A.dtick/(1+u))].sort(function(B,G){return B-G}),s=n[0],f=n[1],l=s;l<=f;l++)x=A.tick0+A.dtick*l,E.push(P(z(x),{color:A.gridcolor,width:A.gridwidth,dash:A.griddash}));for(l=s-1;l<f+1;l++)for(x=A.tick0+A.dtick*l,d=0;d<A.minorgridcount;d++)c=x+A.dtick*(d+1)/(A.minorgridcount+1),!(c<S[0]||c>S[S.length-1])&&m.push(P(z(c),{color:A.minorgridcolor,width:A.minorgridwidth,dash:A.minorgriddash}));A.startline&&M.push(P(z(S[0]),{color:A.startlinecolor,width:A.startlinewidth})),A.endline&&M.push(P(z(S[S.length-1]),{color:A.endlinecolor,width:A.endlinewidth}))}}},83311:function(H,U,e){var g=e(89298),P=e(1426).extendFlat;H.exports=function(L,T){var v,d,t,r,u,n=T._labels=[],s=T._gridlines;for(v=0;v<s.length;v++)u=s[v],["start","both"].indexOf(T.showticklabels)!==-1&&(d=g.tickText(T,u.value),P(d,{prefix:t,suffix:r,endAnchor:!0,xy:u.xy(0),dxy:u.dxy(0,0),axis:u.axis,length:u.crossAxis.length,font:u.axis.tickfont,isFirst:v===0,isLast:v===s.length-1}),n.push(d)),["end","both"].indexOf(T.showticklabels)!==-1&&(d=g.tickText(T,u.value),P(d,{endAnchor:!1,xy:u.xy(u.crossLength-1),dxy:u.dxy(u.crossLength-2,1),axis:u.axis,length:u.crossAxis.length,font:u.axis.tickfont,isFirst:v===0,isLast:v===s.length-1}),n.push(d))}},42048:function(H){var U=.5;H.exports=function(g,P,a,L){var T=g[0]-P[0],v=g[1]-P[1],d=a[0]-P[0],t=a[1]-P[1],r=Math.pow(T*T+v*v,U/2),u=Math.pow(d*d+t*t,U/2),n=(u*u*T-r*r*d)*L,s=(u*u*v-r*r*t)*L,f=u*(r+u)*3,l=r*(r+u)*3;return[[P[0]+(f&&n/f),P[1]+(f&&s/f)],[P[0]-(l&&n/l),P[1]-(l&&s/l)]]}},53824:function(H,U,e){var g=e(71828).isArrayOrTypedArray;H.exports=function(P,a,L){var T,v,d,t,r,u,n=[],s=g(P)?P.length:P,f=g(a)?a.length:a,l=g(P)?P:null,x=g(a)?a:null;l&&(d=(l.length-1)/(l[l.length-1]-l[0])/(s-1)),x&&(t=(x.length-1)/(x[x.length-1]-x[0])/(f-1));var c,b=1/0,h=-1/0;for(v=0;v<f;v++)for(n[v]=[],u=x?(x[v]-x[0])*t:v/(f-1),T=0;T<s;T++)r=l?(l[T]-l[0])*d:T/(s-1),c=r-u*L,b=Math.min(c,b),h=Math.max(c,h),n[v][T]=c;var o=1/(h-b),p=-b*o;for(v=0;v<f;v++)for(T=0;T<s;T++)n[v][T]=o*n[v][T]+p;return n}},45664:function(H,U,e){var g=e(42048),P=e(71828).ensureArray;function a(L,T,v){var d=-.5*v[0]+1.5*T[0],t=-.5*v[1]+1.5*T[1];return[(2*d+L[0])/3,(2*t+L[1])/3]}H.exports=function(T,v,d,t,r,u){var n,s,f,l,x,c,b,h,o,p,S=d[0].length,A=d.length,E=r?3*S-2:S,m=u?3*A-2:A;for(T=P(T,m),v=P(v,m),f=0;f<m;f++)T[f]=P(T[f],E),v[f]=P(v[f],E);for(s=0,l=0;s<A;s++,l+=u?3:1)for(x=T[l],c=v[l],b=d[s],h=t[s],n=0,f=0;n<S;n++,f+=r?3:1)x[f]=b[n],c[f]=h[n];if(r)for(s=0,l=0;s<A;s++,l+=u?3:1){for(n=1,f=3;n<S-1;n++,f+=3)o=g([d[s][n-1],t[s][n-1]],[d[s][n],t[s][n]],[d[s][n+1],t[s][n+1]],r),T[l][f-1]=o[0][0],v[l][f-1]=o[0][1],T[l][f+1]=o[1][0],v[l][f+1]=o[1][1];p=a([T[l][0],v[l][0]],[T[l][2],v[l][2]],[T[l][3],v[l][3]]),T[l][1]=p[0],v[l][1]=p[1],p=a([T[l][E-1],v[l][E-1]],[T[l][E-3],v[l][E-3]],[T[l][E-4],v[l][E-4]]),T[l][E-2]=p[0],v[l][E-2]=p[1]}if(u)for(f=0;f<E;f++){for(l=3;l<m-3;l+=3)o=g([T[l-3][f],v[l-3][f]],[T[l][f],v[l][f]],[T[l+3][f],v[l+3][f]],u),T[l-1][f]=o[0][0],v[l-1][f]=o[0][1],T[l+1][f]=o[1][0],v[l+1][f]=o[1][1];p=a([T[0][f],v[0][f]],[T[2][f],v[2][f]],[T[3][f],v[3][f]]),T[1][f]=p[0],v[1][f]=p[1],p=a([T[m-1][f],v[m-1][f]],[T[m-3][f],v[m-3][f]],[T[m-4][f],v[m-4][f]]),T[m-2][f]=p[0],v[m-2][f]=p[1]}if(r&&u)for(l=1;l<m;l+=(l+1)%3===0?2:1){for(f=3;f<E-3;f+=3)o=g([T[l][f-3],v[l][f-3]],[T[l][f],v[l][f]],[T[l][f+3],v[l][f+3]],r),T[l][f-1]=.5*(T[l][f-1]+o[0][0]),v[l][f-1]=.5*(v[l][f-1]+o[0][1]),T[l][f+1]=.5*(T[l][f+1]+o[1][0]),v[l][f+1]=.5*(v[l][f+1]+o[1][1]);p=a([T[l][0],v[l][0]],[T[l][2],v[l][2]],[T[l][3],v[l][3]]),T[l][1]=.5*(T[l][1]+p[0]),v[l][1]=.5*(v[l][1]+p[1]),p=a([T[l][E-1],v[l][E-1]],[T[l][E-3],v[l][E-3]],[T[l][E-4],v[l][E-4]]),T[l][E-2]=.5*(T[l][E-2]+p[0]),v[l][E-2]=.5*(v[l][E-2]+p[1])}return[T,v]}},35509:function(H){H.exports={RELATIVE_CULL_TOLERANCE:1e-6}},54495:function(H){H.exports=function(U,e,g){return e&&g?function(P,a,L,T,v){P||(P=[]);var d,t,r,u,n,s;a*=3,L*=3;var f=T*T,l=1-T,x=l*l,c=l*T*2,b=-3*x,h=3*(x-c),o=3*(c-f),p=3*f,S=v*v,A=S*v,E=1-v,m=E*E,M=m*E;for(s=0;s<U.length;s++)n=U[s],d=b*n[L][a]+h*n[L][a+1]+o*n[L][a+2]+p*n[L][a+3],t=b*n[L+1][a]+h*n[L+1][a+1]+o*n[L+1][a+2]+p*n[L+1][a+3],r=b*n[L+2][a]+h*n[L+2][a+1]+o*n[L+2][a+2]+p*n[L+2][a+3],u=b*n[L+3][a]+h*n[L+3][a+1]+o*n[L+3][a+2]+p*n[L+3][a+3],P[s]=M*d+3*(m*v*t+E*S*r)+A*u;return P}:e?function(P,a,L,T,v){P||(P=[]);var d,t,r,u;a*=3;var n=T*T,s=1-T,f=s*s,l=s*T*2,x=-3*f,c=3*(f-l),b=3*(l-n),h=3*n,o=1-v;for(r=0;r<U.length;r++)u=U[r],d=x*u[L][a]+c*u[L][a+1]+b*u[L][a+2]+h*u[L][a+3],t=x*u[L+1][a]+c*u[L+1][a+1]+b*u[L+1][a+2]+h*u[L+1][a+3],P[r]=o*d+v*t;return P}:g?function(P,a,L,T,v){P||(P=[]);var d,t,r,u,n,s;L*=3;var f=v*v,l=f*v,x=1-v,c=x*x,b=c*x;for(n=0;n<U.length;n++)s=U[n],d=s[L][a+1]-s[L][a],t=s[L+1][a+1]-s[L+1][a],r=s[L+2][a+1]-s[L+2][a],u=s[L+3][a+1]-s[L+3][a],P[n]=b*d+3*(c*v*t+x*f*r)+l*u;return P}:function(P,a,L,T,v){P||(P=[]);var d,t,r,u,n=1-v;for(r=0;r<U.length;r++)u=U[r],d=u[L][a+1]-u[L][a],t=u[L+1][a+1]-u[L+1][a],P[r]=n*d+v*t;return P}}},73057:function(H){H.exports=function(U,e,g){return e&&g?function(P,a,L,T,v){P||(P=[]);var d,t,r,u,n,s;a*=3,L*=3;var f=T*T,l=f*T,x=1-T,c=x*x,b=c*x,h=v*v,o=1-v,p=o*o,S=o*v*2,A=-3*p,E=3*(p-S),m=3*(S-h),M=3*h;for(s=0;s<U.length;s++)n=U[s],d=A*n[L][a]+E*n[L+1][a]+m*n[L+2][a]+M*n[L+3][a],t=A*n[L][a+1]+E*n[L+1][a+1]+m*n[L+2][a+1]+M*n[L+3][a+1],r=A*n[L][a+2]+E*n[L+1][a+2]+m*n[L+2][a+2]+M*n[L+3][a+2],u=A*n[L][a+3]+E*n[L+1][a+3]+m*n[L+2][a+3]+M*n[L+3][a+3],P[s]=b*d+3*(c*T*t+x*f*r)+l*u;return P}:e?function(P,a,L,T,v){P||(P=[]);var d,t,r,u,n,s;a*=3;var f=v*v,l=f*v,x=1-v,c=x*x,b=c*x;for(n=0;n<U.length;n++)s=U[n],d=s[L+1][a]-s[L][a],t=s[L+1][a+1]-s[L][a+1],r=s[L+1][a+2]-s[L][a+2],u=s[L+1][a+3]-s[L][a+3],P[n]=b*d+3*(c*v*t+x*f*r)+l*u;return P}:g?function(P,a,L,T,v){P||(P=[]);var d,t,r,u;L*=3;var n=1-T,s=v*v,f=1-v,l=f*f,x=f*v*2,c=-3*l,b=3*(l-x),h=3*(x-s),o=3*s;for(r=0;r<U.length;r++)u=U[r],d=c*u[L][a]+b*u[L+1][a]+h*u[L+2][a]+o*u[L+3][a],t=c*u[L][a+1]+b*u[L+1][a+1]+h*u[L+2][a+1]+o*u[L+3][a+1],P[r]=n*d+T*t;return P}:function(P,a,L,T,v){P||(P=[]);var d,t,r,u,n=1-T;for(r=0;r<U.length;r++)u=U[r],d=u[L+1][a]-u[L][a],t=u[L+1][a+1]-u[L][a+1],P[r]=n*d+T*t;return P}}},20349:function(H){H.exports=function(U,e,g,P,a){var L=e-2,T=g-2;return P&&a?function(v,d,t){v||(v=[]);var r,u,n,s,f,l,x=Math.max(0,Math.min(Math.floor(d),L)),c=Math.max(0,Math.min(Math.floor(t),T)),b=Math.max(0,Math.min(1,d-x)),h=Math.max(0,Math.min(1,t-c));x*=3,c*=3;var o=b*b,p=o*b,S=1-b,A=S*S,E=A*S,m=h*h,M=m*h,w=1-h,i=w*w,C=i*w;for(l=0;l<U.length;l++)f=U[l],r=E*f[c][x]+3*(A*b*f[c][x+1]+S*o*f[c][x+2])+p*f[c][x+3],u=E*f[c+1][x]+3*(A*b*f[c+1][x+1]+S*o*f[c+1][x+2])+p*f[c+1][x+3],n=E*f[c+2][x]+3*(A*b*f[c+2][x+1]+S*o*f[c+2][x+2])+p*f[c+2][x+3],s=E*f[c+3][x]+3*(A*b*f[c+3][x+1]+S*o*f[c+3][x+2])+p*f[c+3][x+3],v[l]=C*r+3*(i*h*u+w*m*n)+M*s;return v}:P?function(v,d,t){v||(v=[]);var r=Math.max(0,Math.min(Math.floor(d),L)),u=Math.max(0,Math.min(Math.floor(t),T)),n=Math.max(0,Math.min(1,d-r)),s=Math.max(0,Math.min(1,t-u)),f,l,x,c,b,h;r*=3;var o=n*n,p=o*n,S=1-n,A=S*S,E=A*S,m=1-s;for(b=0;b<U.length;b++)h=U[b],f=m*h[u][r]+s*h[u+1][r],l=m*h[u][r+1]+s*h[u+1][r+1],x=m*h[u][r+2]+s*h[u+1][r+1],c=m*h[u][r+3]+s*h[u+1][r+1],v[b]=E*f+3*(A*n*l+S*o*x)+p*c;return v}:a?function(v,d,t){v||(v=[]);var r=Math.max(0,Math.min(Math.floor(d),L)),u=Math.max(0,Math.min(Math.floor(t),T)),n=Math.max(0,Math.min(1,d-r)),s=Math.max(0,Math.min(1,t-u)),f,l,x,c,b,h;u*=3;var o=s*s,p=o*s,S=1-s,A=S*S,E=A*S,m=1-n;for(b=0;b<U.length;b++)h=U[b],f=m*h[u][r]+n*h[u][r+1],l=m*h[u+1][r]+n*h[u+1][r+1],x=m*h[u+2][r]+n*h[u+2][r+1],c=m*h[u+3][r]+n*h[u+3][r+1],v[b]=E*f+3*(A*s*l+S*o*x)+p*c;return v}:function(v,d,t){v||(v=[]);var r=Math.max(0,Math.min(Math.floor(d),L)),u=Math.max(0,Math.min(Math.floor(t),T)),n=Math.max(0,Math.min(1,d-r)),s=Math.max(0,Math.min(1,t-u)),f,l,x,c,b=1-s,h=1-n;for(x=0;x<U.length;x++)c=U[x],f=h*c[u][r]+n*c[u][r+1],l=h*c[u+1][r]+n*c[u+1][r+1],v[x]=b*f+s*l;return v}}},92087:function(H,U,e){var g=e(71828),P=e(19237),a=e(13145),L=e(99798),T=e(22399);H.exports=function(d,t,r,u){function n(l,x){return g.coerce(d,t,L,l,x)}t._clipPathId="clip"+t.uid+"carpet";var s=n("color",T.defaultLine);if(g.coerceFont(n,"font"),n("carpet"),a(d,t,u,n,s),!t.a||!t.b){t.visible=!1;return}t.a.length<3&&(t.aaxis.smoothing=0),t.b.length<3&&(t.baxis.smoothing=0);var f=P(d,t,n);f||(t.visible=!1),t._cheater&&n("cheaterslope")}},21462:function(H,U,e){H.exports={attributes:e(99798),supplyDefaults:e(92087),plot:e(89740),calc:e(25281),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},22882:function(H){H.exports=function(U,e){for(var g=U._fullData.length,P,a=0;a<g;a++){var L=U._fullData[a];if(L.index!==e.index&&L.type==="carpet"&&(P||(P=L),L.carpet===e.carpet))return L}return P}},67961:function(H){H.exports=function(e,g,P){if(e.length===0)return"";var a,L=[],T=P?3:1;for(a=0;a<e.length;a+=T)L.push(e[a]+","+g[a]),P&&a<e.length-T&&(L.push("C"),L.push([e[a+1]+","+g[a+1],e[a+2]+","+g[a+2]+" "].join(" ")));return L.join(P?"":"L")}},27669:function(H,U,e){var g=e(71828).isArrayOrTypedArray;H.exports=function(a,L,T){var v;for(g(a)?a.length>L.length&&(a=a.slice(0,L.length)):a=[],v=0;v<L.length;v++)a[v]=T(L[v]);return a}},11651:function(H){H.exports=function(e,g,P,a,L,T){var v=L[0]*e.dpdx(g),d=L[1]*e.dpdy(P),t=1,r=1;if(T){var u=Math.sqrt(L[0]*L[0]+L[1]*L[1]),n=Math.sqrt(T[0]*T[0]+T[1]*T[1]),s=(L[0]*T[0]+L[1]*T[1])/u/n;r=Math.max(0,s)}var f=Math.atan2(d,v)*180/Math.PI;return f<-90?(f+=180,t=-t):f>90&&(f-=180,t=-t),{angle:f,flip:t,p:e.c2p(a,g,P),offsetMultplier:r}}},89740:function(H,U,e){var g=e(39898),P=e(91424),a=e(27669),L=e(67961),T=e(11651),v=e(63893),d=e(71828),t=d.strRotate,r=d.strTranslate,u=e(18783);H.exports=function(o,p,S,A){var E=o._context.staticPlot,m=p.xaxis,M=p.yaxis,w=o._fullLayout,i=w._clips;d.makeTraceGroups(A,S,"trace").each(function(C){var y=g.select(this),_=C[0],I=_.trace,N=I.aaxis,k=I.baxis,O=d.ensureSingle(y,"g","minorlayer"),z=d.ensureSingle(y,"g","majorlayer"),F=d.ensureSingle(y,"g","boundarylayer"),B=d.ensureSingle(y,"g","labellayer");y.style("opacity",I.opacity),s(m,M,z,N,"a",N._gridlines,!0),s(m,M,z,k,"b",k._gridlines,!0),s(m,M,O,N,"a",N._minorgridlines,!0),s(m,M,O,k,"b",k._minorgridlines,!0),s(m,M,F,N,"a-boundary",N._boundarylines,E),s(m,M,F,k,"b-boundary",k._boundarylines,E);var G=f(o,m,M,I,_,B,N._labels,"a-label"),Q=f(o,m,M,I,_,B,k._labels,"b-label");l(o,B,I,_,m,M,G,Q),n(I,_,i,m,M)})};function n(h,o,p,S,A){var E,m,M,w,i=p.select("#"+h._clipPathId);i.size()||(i=p.append("clipPath").classed("carpetclip",!0));var C=d.ensureSingle(i,"path","carpetboundary"),y=o.clipsegments,_=[];for(w=0;w<y.length;w++)E=y[w],m=a([],E.x,S.c2p),M=a([],E.y,A.c2p),_.push(L(m,M,E.bicubic));var I="M"+_.join("L")+"Z";i.attr("id",h._clipPathId),C.attr("d",I)}function s(h,o,p,S,A,E,m){var M="const-"+A+"-lines",w=p.selectAll("."+M).data(E);w.enter().append("path").classed(M,!0).style("vector-effect",m?"none":"non-scaling-stroke"),w.each(function(i){var C=i,y=C.x,_=C.y,I=a([],y,h.c2p),N=a([],_,o.c2p),k="M"+L(I,N,C.smoothing),O=g.select(this);O.attr("d",k).style("stroke-width",C.width).style("stroke",C.color).style("stroke-dasharray",P.dashStyle(C.dash,C.width)).style("fill","none")}),w.exit().remove()}function f(h,o,p,S,A,E,m,M){var w=E.selectAll("text."+M).data(m);w.enter().append("text").classed(M,!0);var i=0,C={};return w.each(function(y,_){var I;if(y.axis.tickangle==="auto")I=T(S,o,p,y.xy,y.dxy);else{var N=(y.axis.tickangle+180)*Math.PI/180;I=T(S,o,p,y.xy,[Math.cos(N),Math.sin(N)])}_||(C={angle:I.angle,flip:I.flip});var k=(y.endAnchor?-1:1)*I.flip,O=g.select(this).attr({"text-anchor":k>0?"start":"end","data-notex":1}).call(P.font,y.font).text(y.text).call(v.convertToTspans,h),z=P.bBox(this);O.attr("transform",r(I.p[0],I.p[1])+t(I.angle)+r(y.axis.labelpadding*k,z.height*.3)),i=Math.max(i,z.width+y.axis.labelpadding)}),w.exit().remove(),C.maxExtent=i,C}function l(h,o,p,S,A,E,m,M){var w,i,C,y,_=d.aggNums(Math.min,null,p.a),I=d.aggNums(Math.max,null,p.a),N=d.aggNums(Math.min,null,p.b),k=d.aggNums(Math.max,null,p.b);w=.5*(_+I),i=N,C=p.ab2xy(w,i,!0),y=p.dxyda_rough(w,i),m.angle===void 0&&d.extendFlat(m,T(p,A,E,C,p.dxydb_rough(w,i))),b(h,o,p,S,C,y,p.aaxis,A,E,m,"a-title"),w=_,i=.5*(N+k),C=p.ab2xy(w,i,!0),y=p.dxydb_rough(w,i),M.angle===void 0&&d.extendFlat(M,T(p,A,E,C,p.dxyda_rough(w,i))),b(h,o,p,S,C,y,p.baxis,A,E,M,"b-title")}var x=u.LINE_SPACING,c=(1-u.MID_SHIFT)/x+1;function b(h,o,p,S,A,E,m,M,w,i,C){var y=[];m.title.text&&y.push(m.title.text);var _=o.selectAll("text."+C).data(y),I=i.maxExtent;_.enter().append("text").classed(C,!0),_.each(function(){var N=T(p,M,w,A,E);["start","both"].indexOf(m.showticklabels)===-1&&(I=0);var k=m.title.font.size;I+=k+m.title.offset;var O=i.angle+(i.flip<0?180:0),z=(O-N.angle+450)%360,F=z>90&&z<270,B=g.select(this);B.text(m.title.text).call(v.convertToTspans,h),F&&(I=(-v.lineCount(B)+c)*x*k-I),B.attr("transform",r(N.p[0],N.p[1])+t(N.angle)+r(0,I)).attr("text-anchor","middle").call(P.font,m.title.font)}),_.exit().remove()}},11435:function(H,U,e){var g=e(35509),P=e(65888).findBin,a=e(45664),L=e(20349),T=e(54495),v=e(73057);H.exports=function(t){var r=t._a,u=t._b,n=r.length,s=u.length,f=t.aaxis,l=t.baxis,x=r[0],c=r[n-1],b=u[0],h=u[s-1],o=r[r.length-1]-r[0],p=u[u.length-1]-u[0],S=o*g.RELATIVE_CULL_TOLERANCE,A=p*g.RELATIVE_CULL_TOLERANCE;x-=S,c+=S,b-=A,h+=A,t.isVisible=function(E,m){return E>x&&E<c&&m>b&&m<h},t.isOccluded=function(E,m){return E<x||E>c||m<b||m>h},t.setScale=function(){var E=t._x,m=t._y,M=a(t._xctrl,t._yctrl,E,m,f.smoothing,l.smoothing);t._xctrl=M[0],t._yctrl=M[1],t.evalxy=L([t._xctrl,t._yctrl],n,s,f.smoothing,l.smoothing),t.dxydi=T([t._xctrl,t._yctrl],f.smoothing,l.smoothing),t.dxydj=v([t._xctrl,t._yctrl],f.smoothing,l.smoothing)},t.i2a=function(E){var m=Math.max(0,Math.floor(E[0]),n-2),M=E[0]-m;return(1-M)*r[m]+M*r[m+1]},t.j2b=function(E){var m=Math.max(0,Math.floor(E[1]),n-2),M=E[1]-m;return(1-M)*u[m]+M*u[m+1]},t.ij2ab=function(E){return[t.i2a(E[0]),t.j2b(E[1])]},t.a2i=function(E){var m=Math.max(0,Math.min(P(E,r),n-2)),M=r[m],w=r[m+1];return Math.max(0,Math.min(n-1,m+(E-M)/(w-M)))},t.b2j=function(E){var m=Math.max(0,Math.min(P(E,u),s-2)),M=u[m],w=u[m+1];return Math.max(0,Math.min(s-1,m+(E-M)/(w-M)))},t.ab2ij=function(E){return[t.a2i(E[0]),t.b2j(E[1])]},t.i2c=function(E,m){return t.evalxy([],E,m)},t.ab2xy=function(E,m,M){if(!M&&(E<r[0]||E>r[n-1]|m<u[0]||m>u[s-1]))return[!1,!1];var w=t.a2i(E),i=t.b2j(m),C=t.evalxy([],w,i);if(M){var y=0,_=0,I=[],N,k,O,z;E<r[0]?(N=0,k=0,y=(E-r[0])/(r[1]-r[0])):E>r[n-1]?(N=n-2,k=1,y=(E-r[n-1])/(r[n-1]-r[n-2])):(N=Math.max(0,Math.min(n-2,Math.floor(w))),k=w-N),m<u[0]?(O=0,z=0,_=(m-u[0])/(u[1]-u[0])):m>u[s-1]?(O=s-2,z=1,_=(m-u[s-1])/(u[s-1]-u[s-2])):(O=Math.max(0,Math.min(s-2,Math.floor(i))),z=i-O),y&&(t.dxydi(I,N,O,k,z),C[0]+=I[0]*y,C[1]+=I[1]*y),_&&(t.dxydj(I,N,O,k,z),C[0]+=I[0]*_,C[1]+=I[1]*_)}return C},t.c2p=function(E,m,M){return[m.c2p(E[0]),M.c2p(E[1])]},t.p2x=function(E,m,M){return[m.p2c(E[0]),M.p2c(E[1])]},t.dadi=function(E){var m=Math.max(0,Math.min(r.length-2,E));return r[m+1]-r[m]},t.dbdj=function(E){var m=Math.max(0,Math.min(u.length-2,E));return u[m+1]-u[m]},t.dxyda=function(E,m,M,w){var i=t.dxydi(null,E,m,M,w),C=t.dadi(E,M);return[i[0]/C,i[1]/C]},t.dxydb=function(E,m,M,w){var i=t.dxydj(null,E,m,M,w),C=t.dbdj(m,w);return[i[0]/C,i[1]/C]},t.dxyda_rough=function(E,m,M){var w=o*(M||.1),i=t.ab2xy(E+w,m,!0),C=t.ab2xy(E-w,m,!0);return[(i[0]-C[0])*.5/w,(i[1]-C[1])*.5/w]},t.dxydb_rough=function(E,m,M){var w=p*(M||.1),i=t.ab2xy(E,m+w,!0),C=t.ab2xy(E,m-w,!0);return[(i[0]-C[0])*.5/w,(i[1]-C[1])*.5/w]},t.dpdx=function(E){return E._m},t.dpdy=function(E){return E._m}}},72505:function(H,U,e){var g=e(71828);H.exports=function(a,L,T){var v,d,t,r=[],u=[],n=a[0].length,s=a.length;function f(Q,ee){var ae=0,fe,K=0;return Q>0&&(fe=a[ee][Q-1])!==void 0&&(K++,ae+=fe),Q<n-1&&(fe=a[ee][Q+1])!==void 0&&(K++,ae+=fe),ee>0&&(fe=a[ee-1][Q])!==void 0&&(K++,ae+=fe),ee<s-1&&(fe=a[ee+1][Q])!==void 0&&(K++,ae+=fe),ae/Math.max(1,K)}var l=0;for(v=0;v<n;v++)for(d=0;d<s;d++)a[d][v]===void 0&&(r.push(v),u.push(d),a[d][v]=f(v,d)),l=Math.max(l,Math.abs(a[d][v]));if(!r.length)return a;var x,c,b,h,o,p,S,A,E,m,M,w=1e-5,i=0,C=100,y=0,_=r.length;do{for(i=0,t=0;t<_;t++){v=r[t],d=u[t];var I=0,N=0,k,O,z,F,B,G;v===0?(B=Math.min(n-1,2),z=L[B],F=L[1],k=a[d][B],O=a[d][1],N+=O+(O-k)*(L[0]-F)/(F-z),I++):v===n-1&&(B=Math.max(0,n-3),z=L[B],F=L[n-2],k=a[d][B],O=a[d][n-2],N+=O+(O-k)*(L[n-1]-F)/(F-z),I++),(v===0||v===n-1)&&d>0&&d<s-1&&(x=T[d+1]-T[d],c=T[d]-T[d-1],N+=(c*a[d+1][v]+x*a[d-1][v])/(c+x),I++),d===0?(G=Math.min(s-1,2),z=T[G],F=T[1],k=a[G][v],O=a[1][v],N+=O+(O-k)*(T[0]-F)/(F-z),I++):d===s-1&&(G=Math.max(0,s-3),z=T[G],F=T[s-2],k=a[G][v],O=a[s-2][v],N+=O+(O-k)*(T[s-1]-F)/(F-z),I++),(d===0||d===s-1)&&v>0&&v<n-1&&(x=L[v+1]-L[v],c=L[v]-L[v-1],N+=(c*a[d][v+1]+x*a[d][v-1])/(c+x),I++),I?N/=I:(b=L[v+1]-L[v],h=L[v]-L[v-1],o=T[d+1]-T[d],p=T[d]-T[d-1],S=b*h*(b+h),A=o*p*(o+p),N=(S*(p*a[d+1][v]+o*a[d-1][v])+A*(h*a[d][v+1]+b*a[d][v-1]))/(A*(h+b)+S*(p+o))),E=N-a[d][v],m=E/l,i+=m*m,M=I?0:.85,a[d][v]+=E*(1+M)}i=Math.sqrt(i)}while(y++<C&&i>w);return g.log("Smoother converged to",i,"after",y,"iterations"),a}},19237:function(H,U,e){var g=e(71828).isArray1D;H.exports=function(a,L,T){var v=T("x"),d=v&&v.length,t=T("y"),r=t&&t.length;if(!d&&!r)return!1;if(L._cheater=!v,(!d||g(v))&&(!r||g(t))){var u=d?v.length:1/0;r&&(u=Math.min(u,t.length)),L.a&&L.a.length&&(u=Math.min(u,L.a.length)),L.b&&L.b.length&&(u=Math.min(u,L.b.length)),L._length=u}else L._length=null;return!0}},69568:function(H,U,e){var g=e(5386).fF,P=e(19316),a=e(50693),L=e(9012),T=e(22399).defaultLine,v=e(1426).extendFlat,d=P.marker.line;H.exports=v({locations:{valType:"data_array",editType:"calc"},locationmode:P.locationmode,z:{valType:"data_array",editType:"calc"},geojson:v({},P.geojson,{}),featureidkey:P.featureidkey,text:v({},P.text,{}),hovertext:v({},P.hovertext,{}),marker:{line:{color:v({},d.color,{dflt:T}),width:v({},d.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:P.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:P.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:v({},L.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:g(),showlegend:v({},L.showlegend,{dflt:!1})},a("",{cLetter:"z",editTypeOverride:"calc"}))},38675:function(H,U,e){var g=e(92770),P=e(50606).BADNUM,a=e(78803),L=e(75225),T=e(66279);function v(d){return d&&typeof d=="string"}H.exports=function(t,r){var u=r._length,n=new Array(u),s;r.geojson?s=function(b){return v(b)||g(b)}:s=v;for(var f=0;f<u;f++){var l=n[f]={},x=r.locations[f],c=r.z[f];s(x)&&g(c)?(l.loc=x,l.z=c):(l.loc=null,l.z=P),l.index=f}return L(n,r),a(t,r,{vals:r.z,containerStr:"",cLetter:"z"}),T(n,r),n}},61869:function(H,U,e){var g=e(71828),P=e(1586),a=e(69568);H.exports=function(T,v,d,t){function r(c,b){return g.coerce(T,v,a,c,b)}var u=r("locations"),n=r("z");if(!(u&&u.length&&g.isArrayOrTypedArray(n)&&n.length)){v.visible=!1;return}v._length=Math.min(u.length,n.length);var s=r("geojson"),f;(typeof s=="string"&&s!==""||g.isPlainObject(s))&&(f="geojson-id");var l=r("locationmode",f);l==="geojson-id"&&r("featureidkey"),r("text"),r("hovertext"),r("hovertemplate");var x=r("marker.line.width");x&&r("marker.line.color"),r("marker.opacity"),P(T,v,t,r,{prefix:"",cLetter:"z"}),g.coerceSelectionMarkerOpacity(v,r)}},92069:function(H){H.exports=function(e,g,P,a,L){e.location=g.location,e.z=g.z;var T=a[L];return T.fIn&&T.fIn.properties&&(e.properties=T.fIn.properties),e.ct=T.ct,e}},42300:function(H,U,e){var g=e(89298),P=e(69568),a=e(71828).fillText;H.exports=function(v,d,t){var r=v.cd,u=r[0].trace,n=v.subplot,s,f,l,x,c=[d,t],b=[d+360,t];for(f=0;f<r.length;f++)if(s=r[f],x=!1,s._polygons){for(l=0;l<s._polygons.length;l++)s._polygons[l].contains(c)&&(x=!x),s._polygons[l].contains(b)&&(x=!x);if(x)break}if(!(!x||!s))return v.x0=v.x1=v.xa.c2p(s.ct),v.y0=v.y1=v.ya.c2p(s.ct),v.index=s.index,v.location=s.loc,v.z=s.z,v.zLabel=g.tickText(n.mockAxis,n.mockAxis.c2l(s.z),"hover").text,v.hovertemplate=s.hovertemplate,L(v,u,s),[v]};function L(T,v,d){if(!v.hovertemplate){var t=d.hi||v.hoverinfo,r=String(d.loc),u=t==="all"?P.hoverinfo.flags:t.split("+"),n=u.indexOf("name")!==-1,s=u.indexOf("location")!==-1,f=u.indexOf("z")!==-1,l=u.indexOf("text")!==-1,x=!n&&s,c=[];x?T.nameOverride=r:(n&&(T.nameOverride=v.name),s&&c.push(r)),f&&c.push(T.zLabel),l&&a(d,v,c),T.extraText=c.join("<br>")}}},51319:function(H,U,e){H.exports={attributes:e(69568),supplyDefaults:e(61869),colorbar:e(61243),calc:e(38675),calcGeoJSON:e(99841).calcGeoJSON,plot:e(99841).plot,style:e(99636).style,styleOnSelect:e(99636).styleOnSelect,hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),moduleType:"trace",name:"choropleth",basePlotModule:e(44622),categories:["geo","noOpacity","showLegend"],meta:{}}},99841:function(H,U,e){var g=e(39898),P=e(71828),a=e(41327),L=e(90973).getTopojsonFeatures,T=e(71739).findExtremes,v=e(99636).style;function d(r,u,n){var s=u.layers.backplot.select(".choroplethlayer");P.makeTraceGroups(s,n,"trace choropleth").each(function(f){var l=g.select(this),x=l.selectAll("path.choroplethlocation").data(P.identity);x.enter().append("path").classed("choroplethlocation",!0),x.exit().remove(),v(r,f)})}function t(r,u){for(var n=r[0].trace,s=u[n.geo],f=s._subplot,l=n.locationmode,x=n._length,c=l==="geojson-id"?a.extractTraceFeature(r):L(n,f.topojson),b=[],h=[],o=0;o<x;o++){var p=r[o],S=l==="geojson-id"?p.fOut:a.locationToFeature(l,p.loc,c);if(S){p.geojson=S,p.ct=S.properties.ct,p._polygons=a.feature2polygons(S);var A=a.computeBbox(S);b.push(A[0],A[2]),h.push(A[1],A[3])}else p.geojson=null}if(s.fitbounds==="geojson"&&l==="geojson-id"){var E=a.computeBbox(a.getTraceGeojson(n));b=[E[0],E[2]],h=[E[1],E[3]]}var m={padded:!0};n._extremes.lon=T(s.lonaxis._ax,b,m),n._extremes.lat=T(s.lataxis._ax,h,m)}H.exports={calcGeoJSON:t,plot:d}},81253:function(H){H.exports=function(e,g){var P=e.cd,a=e.xaxis,L=e.yaxis,T=[],v,d,t,r,u;if(g===!1)for(v=0;v<P.length;v++)P[v].selected=0;else for(v=0;v<P.length;v++)d=P[v],t=d.ct,t&&(r=a.c2p(t),u=L.c2p(t),g.contains([r,u],null,v,e)?(T.push({pointNumber:v,lon:t[0],lat:t[1]}),d.selected=1):d.selected=0);return T}},99636:function(H,U,e){var g=e(39898),P=e(7901),a=e(91424),L=e(21081);function T(t,r){r&&v(t,r)}function v(t,r){var u=r[0].trace,n=r[0].node3,s=n.selectAll(".choroplethlocation"),f=u.marker||{},l=f.line||{},x=L.makeColorScaleFuncFromTrace(u);s.each(function(c){g.select(this).attr("fill",x(c.z)).call(P.stroke,c.mlc||l.color).call(a.dashLine,"",c.mlw||l.width||0).style("opacity",f.opacity)}),a.selectedPointStyle(s,u)}function d(t,r){var u=r[0].node3,n=r[0].trace;n.selectedpoints?a.selectedPointStyle(u.selectAll(".choroplethlocation"),n):v(t,r)}H.exports={style:T,styleOnSelect:d}},64496:function(H,U,e){var g=e(69568),P=e(50693),a=e(5386).fF,L=e(9012),T=e(1426).extendFlat;H.exports=T({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:T({},g.featureidkey,{}),below:{valType:"string",editType:"plot"},text:g.text,hovertext:g.hovertext,marker:{line:{color:T({},g.marker.line.color,{editType:"plot"}),width:T({},g.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:T({},g.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:T({},g.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:T({},g.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:g.hoverinfo,hovertemplate:a({},{keys:["properties"]}),showlegend:T({},L.showlegend,{dflt:!1})},P("",{cLetter:"z",editTypeOverride:"calc"}))},82004:function(H,U,e){var g=e(92770),P=e(71828),a=e(21081),L=e(91424),T=e(18214).makeBlank,v=e(41327);function d(r){var u=r[0].trace,n=u.visible===!0&&u._length!==0,s={layout:{visibility:"none"},paint:{}},f={layout:{visibility:"none"},paint:{}},l=u._opts={fill:s,line:f,geojson:T()};if(!n)return l;var x=v.extractTraceFeature(r);if(!x)return l;var c=a.makeColorScaleFuncFromTrace(u),b=u.marker,h=b.line||{},o;P.isArrayOrTypedArray(b.opacity)&&(o=function(i){var C=i.mo;return g(C)?+P.constrain(C,0,1):0});var p;P.isArrayOrTypedArray(h.color)&&(p=function(i){return i.mlc});var S;P.isArrayOrTypedArray(h.width)&&(S=function(i){return i.mlw});for(var A=0;A<r.length;A++){var E=r[A],m=E.fOut;if(m){var M=m.properties;M.fc=c(E.z),o&&(M.mo=o(E)),p&&(M.mlc=p(E)),S&&(M.mlw=S(E)),E.ct=M.ct,E._polygons=v.feature2polygons(m)}}var w=o?{type:"identity",property:"mo"}:b.opacity;return P.extendFlat(s.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":w}),P.extendFlat(f.paint,{"line-color":p?{type:"identity",property:"mlc"}:h.color,"line-width":S?{type:"identity",property:"mlw"}:h.width,"line-opacity":w}),s.layout.visibility="visible",f.layout.visibility="visible",l.geojson={type:"FeatureCollection",features:x},t(r),l}function t(r){var u=r[0].trace,n=u._opts,s;if(u.selectedpoints){for(var f=L.makeSelectedPointStyleFns(u),l=0;l<r.length;l++){var x=r[l];x.fOut&&(x.fOut.properties.mo2=f.selectedOpacityFn(x))}s={type:"identity",property:"mo2"}}else s=P.isArrayOrTypedArray(u.marker.opacity)?{type:"identity",property:"mo"}:u.marker.opacity;return P.extendFlat(n.fill.paint,{"fill-opacity":s}),P.extendFlat(n.line.paint,{"line-opacity":s}),n}H.exports={convert:d,convertOnSelect:t}},22654:function(H,U,e){var g=e(71828),P=e(1586),a=e(64496);H.exports=function(T,v,d,t){function r(l,x){return g.coerce(T,v,a,l,x)}var u=r("locations"),n=r("z"),s=r("geojson");if(!g.isArrayOrTypedArray(u)||!u.length||!g.isArrayOrTypedArray(n)||!n.length||!(typeof s=="string"&&s!==""||g.isPlainObject(s))){v.visible=!1;return}r("featureidkey"),v._length=Math.min(u.length,n.length),r("below"),r("text"),r("hovertext"),r("hovertemplate");var f=r("marker.line.width");f&&r("marker.line.color"),r("marker.opacity"),P(T,v,t,r,{prefix:"",cLetter:"z"}),g.coerceSelectionMarkerOpacity(v,r)}},57516:function(H,U,e){H.exports={attributes:e(64496),supplyDefaults:e(22654),colorbar:e(61243),calc:e(38675),plot:e(7852),hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),styleOnSelect:function(g,P){if(P){var a=P[0].trace;a._glTrace.updateOnSelect(P)}},getBelow:function(g,P){for(var a=P.getMapLayers(),L=a.length-2;L>=0;L--){var T=a[L].id;if(typeof T=="string"&&T.indexOf("water")===0){for(var v=L+1;v<a.length;v++)if(T=a[v].id,typeof T=="string"&&T.indexOf("plotly-")===-1)return T}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(50101),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},7852:function(H,U,e){var g=e(82004).convert,P=e(82004).convertOnSelect,a=e(77734).traceLayerPrefix;function L(v,d){this.type="choroplethmapbox",this.subplot=v,this.uid=d,this.sourceId="source-"+d,this.layerList=[["fill",a+d+"-fill"],["line",a+d+"-line"]],this.below=null}var T=L.prototype;T.update=function(v){this._update(g(v)),v[0].trace._glTrace=this},T.updateOnSelect=function(v){this._update(P(v))},T._update=function(v){var d=this.subplot,t=this.layerList,r=d.belowLookup["trace-"+this.uid];d.map.getSource(this.sourceId).setData(v.geojson),r!==this.below&&(this._removeLayers(),this._addLayers(v,r),this.below=r);for(var u=0;u<t.length;u++){var n=t[u],s=n[0],f=n[1],l=v[s];d.setOptions(f,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&d.setOptions(f,"setPaintProperty",l.paint)}},T._addLayers=function(v,d){for(var t=this.subplot,r=this.layerList,u=this.sourceId,n=0;n<r.length;n++){var s=r[n],f=s[0],l=v[f];t.addLayer({type:f,id:s[1],source:u,layout:l.layout,paint:l.paint},d)}},T._removeLayers=function(){for(var v=this.subplot.map,d=this.layerList,t=d.length-1;t>=0;t--)v.removeLayer(d[t][1])},T.dispose=function(){var v=this.subplot.map;this._removeLayers(),v.removeSource(this.sourceId)},H.exports=function(d,t){var r=t[0].trace,u=new L(d,r.uid),n=u.sourceId,s=g(t),f=u.below=d.belowLookup["trace-"+r.uid];return d.map.addSource(n,{type:"geojson",data:s.geojson}),u._addLayers(s,f),t[0].trace._glTrace=u,u}},12674:function(H,U,e){var g=e(50693),P=e(12663).axisHoverFormat,a=e(5386).fF,L=e(2418),T=e(9012),v=e(1426).extendFlat,d={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["norm"]}),uhoverformat:P("u",1),vhoverformat:P("v",1),whoverformat:P("w",1),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),showlegend:v({},T.showlegend,{dflt:!1})};v(d,g("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var t=["opacity","lightposition","lighting"];t.forEach(function(r){d[r]=L[r]}),d.hoverinfo=v({},T.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),d.transforms=void 0,H.exports=d},31371:function(H,U,e){var g=e(78803);H.exports=function(a,L){for(var T=L.u,v=L.v,d=L.w,t=Math.min(L.x.length,L.y.length,L.z.length,T.length,v.length,d.length),r=-1/0,u=1/0,n=0;n<t;n++){var s=T[n],f=v[n],l=d[n],x=Math.sqrt(s*s+f*f+l*l);r=Math.max(r,x),u=Math.min(u,x)}L._len=t,L._normMax=r,g(a,L,{vals:[u,r],containerStr:"",cLetter:"c"})}},5453:function(H,U,e){var g=e(9330).gl_cone3d,P=e(9330).gl_cone3d.createConeMesh,a=e(71828).simpleMap,L=e(81697).parseColorScale,T=e(21081).extractOpts,v=e(90060);function d(l,x){this.scene=l,this.uid=x,this.mesh=null,this.data=null}var t=d.prototype;t.handlePick=function(l){if(l.object===this.mesh){var x=l.index=l.data.index,c=this.data.x[x],b=this.data.y[x],h=this.data.z[x],o=this.data.u[x],p=this.data.v[x],S=this.data.w[x];l.traceCoordinate=[c,b,h,o,p,S,Math.sqrt(o*o+p*p+S*S)];var A=this.data.hovertext||this.data.text;return Array.isArray(A)&&A[x]!==void 0?l.textLabel=A[x]:A&&(l.textLabel=A),!0}};var r={xaxis:0,yaxis:1,zaxis:2},u={tip:1,tail:0,cm:.25,center:.5},n={tip:1,tail:1,cm:.75,center:.5};function s(l,x){var c=l.fullSceneLayout,b=l.dataScale,h={};function o(E,m){var M=c[m],w=b[r[m]];return a(E,function(i){return M.d2l(i)*w})}h.vectors=v(o(x.u,"xaxis"),o(x.v,"yaxis"),o(x.w,"zaxis"),x._len),h.positions=v(o(x.x,"xaxis"),o(x.y,"yaxis"),o(x.z,"zaxis"),x._len);var p=T(x);h.colormap=L(x),h.vertexIntensityBounds=[p.min/x._normMax,p.max/x._normMax],h.coneOffset=u[x.anchor],x.sizemode==="scaled"?h.coneSize=x.sizeref||.5:h.coneSize=x.sizeref&&x._normMax?x.sizeref/x._normMax:.5;var S=g(h),A=x.lightposition;return S.lightPosition=[A.x,A.y,A.z],S.ambient=x.lighting.ambient,S.diffuse=x.lighting.diffuse,S.specular=x.lighting.specular,S.roughness=x.lighting.roughness,S.fresnel=x.lighting.fresnel,S.opacity=x.opacity,x._pad=n[x.anchor]*S.vectorScale*S.coneScale*x._normMax,S}t.update=function(l){this.data=l;var x=s(this.scene,l);this.mesh.update(x)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function f(l,x){var c=l.glplot.gl,b=s(l,x),h=P(c,b),o=new d(l,x.uid);return o.mesh=h,o.data=x,h._trace=o,l.glplot.add(h),o}H.exports=f},91750:function(H,U,e){var g=e(71828),P=e(1586),a=e(12674);H.exports=function(T,v,d,t){function r(c,b){return g.coerce(T,v,a,c,b)}var u=r("u"),n=r("v"),s=r("w"),f=r("x"),l=r("y"),x=r("z");if(!u||!u.length||!n||!n.length||!s||!s.length||!f||!f.length||!l||!l.length||!x||!x.length){v.visible=!1;return}r("sizeref"),r("sizemode"),r("anchor"),r("lighting.ambient"),r("lighting.diffuse"),r("lighting.specular"),r("lighting.roughness"),r("lighting.fresnel"),r("lightposition.x"),r("lightposition.y"),r("lightposition.z"),P(T,v,t,r,{prefix:"",cLetter:"c"}),r("text"),r("hovertext"),r("hovertemplate"),r("uhoverformat"),r("vhoverformat"),r("whoverformat"),r("xhoverformat"),r("yhoverformat"),r("zhoverformat"),v._length=null}},98128:function(H,U,e){H.exports={moduleType:"trace",name:"cone",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(12674),supplyDefaults:e(91750),colorbar:{min:"cmin",max:"cmax"},calc:e(31371),plot:e(5453),eventData:function(g,P){return g.norm=P.traceCoordinate[6],g},meta:{}}},70600:function(H,U,e){var g=e(21606),P=e(82196),a=e(12663),L=a.axisHoverFormat,T=a.descriptionOnlyNumbers,v=e(50693),d=e(79952).P,t=e(41940),r=e(1426).extendFlat,u=e(74808),n=u.COMPARISON_OPS2,s=u.INTERVAL_OPS,f=P.line;H.exports=r({z:g.z,x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:P.xperiod0,yperiod0:P.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,text:g.text,hovertext:g.hovertext,transpose:g.transpose,xtype:g.xtype,ytype:g.ytype,xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:g.hovertemplate,texttemplate:r({},g.texttemplate,{}),textfont:r({},g.textfont,{}),hoverongaps:g.hoverongaps,connectgaps:r({},g.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:t({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:T("contour label")},operation:{valType:"enumerated",values:[].concat(n).concat(s),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:r({},f.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:d,smoothing:r({},f.smoothing,{}),editType:"plot"}},v("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},27529:function(H,U,e){var g=e(21081),P=e(90757),a=e(18670),L=e(53572);H.exports=function(v,d){var t=P(v,d),r=t[0].z;a(d,r);var u=d.contours,n=g.extractOpts(d),s;if(u.coloring==="heatmap"&&n.auto&&d.autocontour===!1){var f=u.start,l=L(u),x=u.size||1,c=Math.floor((l-f)/x)+1;isFinite(x)||(x=1,c=1);var b=f-x/2,h=b+c*x;s=[b,h]}else s=r;return g.calc(v,d,{vals:s,cLetter:"z"}),t}},20083:function(H){H.exports=function(U,e){var g=U[0],P=g.z,a;switch(e.type){case"levels":var L=Math.min(P[0][0],P[0][1]);for(a=0;a<U.length;a++){var T=U[a];T.prefixBoundary=!T.edgepaths.length&&(L>T.level||T.starts.length&&L===T.level)}break;case"constraint":if(g.prefixBoundary=!1,g.edgepaths.length)return;var v=g.x.length,d=g.y.length,t=-1/0,r=1/0;for(a=0;a<d;a++)r=Math.min(r,P[a][0]),r=Math.min(r,P[a][v-1]),t=Math.max(t,P[a][0]),t=Math.max(t,P[a][v-1]);for(a=1;a<v-1;a++)r=Math.min(r,P[0][a]),r=Math.min(r,P[d-1][a]),t=Math.max(t,P[0][a]),t=Math.max(t,P[d-1][a]);var u=e.value,n,s;switch(e._operation){case">":u>t&&(g.prefixBoundary=!0);break;case"<":(u<r||g.starts.length&&u===r)&&(g.prefixBoundary=!0);break;case"[]":n=Math.min(u[0],u[1]),s=Math.max(u[0],u[1]),(s<r||n>t||g.starts.length&&s===r)&&(g.prefixBoundary=!0);break;case"][":n=Math.min(u[0],u[1]),s=Math.max(u[0],u[1]),n<r&&s>t&&(g.prefixBoundary=!0);break}break}}},90654:function(H,U,e){var g=e(21081),P=e(86068),a=e(53572);function L(T,v,d){var t=v.contours,r=v.line,u=t.size||1,n=t.coloring,s=P(v,{isColorbar:!0});if(n==="heatmap"){var f=g.extractOpts(v);d._fillgradient=f.reversescale?g.flipScale(f.colorscale):f.colorscale,d._zrange=[f.min,f.max]}else n==="fill"&&(d._fillcolor=s);d._line={color:n==="lines"?s:r.color,width:t.showlines!==!1?r.width:0,dash:r.dash},d._levels={start:t.start,end:a(t),size:u}}H.exports={min:"zmin",max:"zmax",calc:L}},36914:function(H){H.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},83179:function(H,U,e){var g=e(92770),P=e(14523),a=e(7901),L=a.addOpacity,T=a.opacity,v=e(74808),d=v.CONSTRAINT_REDUCTION,t=v.COMPARISON_OPS2;H.exports=function(n,s,f,l,x,c){var b=s.contours,h,o,p,S=f("contours.operation");if(b._operation=d[S],r(f,b),S==="="?h=b.showlines=!0:(h=f("contours.showlines"),p=f("fillcolor",L((n.line||{}).color||x,.5))),h){var A=p&&T(p)?L(s.fillcolor,1):x;o=f("line.color",A),f("line.width",2),f("line.dash")}f("line.smoothing"),P(f,l,o,c)};function r(u,n){var s;t.indexOf(n.operation)===-1?(u("contours.value",[0,1]),Array.isArray(n.value)?n.value.length>2?n.value=n.value.slice(2):n.length===0?n.value=[0,1]:n.length<2?(s=parseFloat(n.value[0]),n.value=[s,s+1]):n.value=[parseFloat(n.value[0]),parseFloat(n.value[1])]:g(n.value)&&(s=parseFloat(n.value),n.value=[s,s+1])):(u("contours.value",0),g(n.value)||(Array.isArray(n.value)?n.value=parseFloat(n.value[0]):n.value=0))}},64237:function(H,U,e){var g=e(74808),P=e(92770);H.exports={"[]":L("[]"),"][":L("]["),">":T(">"),"<":T("<"),"=":T("=")};function a(v,d){var t=Array.isArray(d),r;function u(n){return P(n)?+n:null}return g.COMPARISON_OPS2.indexOf(v)!==-1?r=u(t?d[0]:d):g.INTERVAL_OPS.indexOf(v)!==-1?r=t?[u(d[0]),u(d[1])]:[u(d),u(d)]:g.SET_OPS.indexOf(v)!==-1&&(r=t?d.map(u):[u(d)]),r}function L(v){return function(d){d=a(v,d);var t=Math.min(d[0],d[1]),r=Math.max(d[0],d[1]);return{start:t,end:r,size:r-t}}}function T(v){return function(d){return d=a(v,d),{start:d,end:1/0,size:1/0}}}},67217:function(H){H.exports=function(e,g,P,a){var L=a("contours.start"),T=a("contours.end"),v=L===!1||T===!1,d=P("contours.size"),t;v?t=g.autocontour=!0:t=P("autocontour",!1),(t||!d)&&P("ncontours")}},84857:function(H,U,e){var g=e(71828);H.exports=function(a,L){var T,v,d,t=function(n){return n.reverse()},r=function(n){return n};switch(L){case"=":case"<":return a;case">":for(a.length!==1&&g.warn("Contour data invalid for the specified inequality operation."),v=a[0],T=0;T<v.edgepaths.length;T++)v.edgepaths[T]=t(v.edgepaths[T]);for(T=0;T<v.paths.length;T++)v.paths[T]=t(v.paths[T]);for(T=0;T<v.starts.length;T++)v.starts[T]=t(v.starts[T]);return a;case"][":var u=t;t=r,r=u;case"[]":for(a.length!==2&&g.warn("Contour data invalid for the specified inequality range operation."),v=P(a[0]),d=P(a[1]),T=0;T<v.edgepaths.length;T++)v.edgepaths[T]=t(v.edgepaths[T]);for(T=0;T<v.paths.length;T++)v.paths[T]=t(v.paths[T]);for(T=0;T<v.starts.length;T++)v.starts[T]=t(v.starts[T]);for(;d.edgepaths.length;)v.edgepaths.push(r(d.edgepaths.shift()));for(;d.paths.length;)v.paths.push(r(d.paths.shift()));for(;d.starts.length;)v.starts.push(r(d.starts.shift()));return[v]}};function P(a){return g.extendFlat({},a,{edgepaths:g.extendDeep([],a.edgepaths),paths:g.extendDeep([],a.paths),starts:g.extendDeep([],a.starts)})}},13031:function(H,U,e){var g=e(71828),P=e(67684),a=e(73927),L=e(83179),T=e(67217),v=e(8724),d=e(58623),t=e(70600);H.exports=function(u,n,s,f){function l(h,o){return g.coerce(u,n,t,h,o)}function x(h){return g.coerce2(u,n,t,h)}var c=P(u,n,l,f);if(!c){n.visible=!1;return}a(u,n,f,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hoverongaps"),l("hovertemplate");var b=l("contours.type")==="constraint";l("connectgaps",g.isArray1D(n.z)),b?L(u,n,l,f,s):(T(u,n,l,x),v(u,n,l,f)),n.contours&&n.contours.coloring==="heatmap"&&d(l,f)}},87558:function(H,U,e){var g=e(71828),P=e(64237),a=e(53572);H.exports=function(T,v,d){for(var t=T.type==="constraint"?P[T._operation](T.value):T,r=t.size,u=[],n=a(t),s=d.trace._carpetTrace,f=s?{xaxis:s.aaxis,yaxis:s.baxis,x:d.a,y:d.b}:{xaxis:v.xaxis,yaxis:v.yaxis,x:d.x,y:d.y},l=t.start;l<n;l+=r)if(u.push(g.extendFlat({level:l,crossings:{},starts:[],edgepaths:[],paths:[],z:d.z,smoothing:d.trace.line.smoothing},f)),u.length>1e3){g.warn("Too many contours, clipping at 1000",T);break}return u}},53572:function(H){H.exports=function(e){return e.end+e.size/1e6}},81696:function(H,U,e){var g=e(71828),P=e(36914);H.exports=function(r,u,n){var s,f,l,x,c;for(u=u||.01,n=n||.01,l=0;l<r.length;l++){for(x=r[l],c=0;c<x.starts.length;c++)f=x.starts[c],T(x,f,"edge",u,n);for(s=0;Object.keys(x.crossings).length&&s<1e4;)s++,f=Object.keys(x.crossings)[0].split(",").map(Number),T(x,f,void 0,u,n);s===1e4&&g.log("Infinite loop in contour?")}};function a(t,r,u,n){return Math.abs(t[0]-r[0])<u&&Math.abs(t[1]-r[1])<n}function L(t,r){var u=t[2]-r[2],n=t[3]-r[3];return Math.sqrt(u*u+n*n)}function T(t,r,u,n,s){var f=r.join(","),l=t.crossings[f],x=v(l,u,r),c=[d(t,r,[-x[0],-x[1]])],b=t.z.length,h=t.z[0].length,o=r.slice(),p=x.slice(),S;for(S=0;S<1e4;S++){if(l>20?(l=P.CHOOSESADDLE[l][(x[0]||x[1])<0?0:1],t.crossings[f]=P.SADDLEREMAINDER[l]):delete t.crossings[f],x=P.NEWDELTA[l],!x){g.log("Found bad marching index:",l,r,t.level);break}c.push(d(t,r,x)),r[0]+=x[0],r[1]+=x[1],f=r.join(","),a(c[c.length-1],c[c.length-2],n,s)&&c.pop();var A=x[0]&&(r[0]<0||r[0]>h-2)||x[1]&&(r[1]<0||r[1]>b-2),E=r[0]===o[0]&&r[1]===o[1]&&x[0]===p[0]&&x[1]===p[1];if(E||u&&A)break;l=t.crossings[f]}S===1e4&&g.log("Infinite loop in contour?");var m=a(c[0],c[c.length-1],n,s),M=0,w=.2*t.smoothing,i=[],C=0,y,_,I,N,k,O,z,F,B,G,Q;for(S=1;S<c.length;S++)z=L(c[S],c[S-1]),M+=z,i.push(z);var ee=M/i.length*w;function ae(W){return c[W%c.length]}for(S=c.length-2;S>=C;S--)if(y=i[S],y<ee){for(I=0,_=S-1;_>=C&&y+i[_]<ee;_--)y+=i[_];if(m&&S===c.length-2)for(I=0;I<_&&y+i[I]<ee;I++)y+=i[I];k=S-_+I+1,O=Math.floor((S+_+I+2)/2),!m&&S===c.length-2?N=c[c.length-1]:!m&&_===-1?N=c[0]:k%2?N=ae(O):N=[(ae(O)[0]+ae(O+1)[0])/2,(ae(O)[1]+ae(O+1)[1])/2],c.splice(_+1,S-_+1,N),S=_+1,I&&(C=I),m&&(S===c.length-2?c[I]=c[c.length-1]:S===0&&(c[c.length-1]=c[0]))}for(c.splice(0,C),S=0;S<c.length;S++)c[S].length=2;if(!(c.length<2))if(m)c.pop(),t.paths.push(c);else{u||g.log("Unclosed interior contour?",t.level,o.join(","),c.join("L"));var fe=!1;for(F=0;F<t.edgepaths.length;F++)if(G=t.edgepaths[F],!fe&&a(G[0],c[c.length-1],n,s)){c.pop(),fe=!0;var K=!1;for(B=0;B<t.edgepaths.length;B++)if(Q=t.edgepaths[B],a(Q[Q.length-1],c[0],n,s)){K=!0,c.shift(),t.edgepaths.splice(F,1),B===F?t.paths.push(c.concat(Q)):(B>F&&B--,t.edgepaths[B]=Q.concat(c,G));break}K||(t.edgepaths[F]=c.concat(G))}for(F=0;F<t.edgepaths.length&&!fe;F++)G=t.edgepaths[F],a(G[G.length-1],c[0],n,s)&&(c.shift(),t.edgepaths[F]=G.concat(c),fe=!0);fe||t.edgepaths.push(c)}}function v(t,r,u){var n=0,s=0;return t>20&&r?t===208||t===1114?n=u[0]===0?1:-1:s=u[1]===0?1:-1:P.BOTTOMSTART.indexOf(t)!==-1?s=1:P.LEFTSTART.indexOf(t)!==-1?n=1:P.TOPSTART.indexOf(t)!==-1?s=-1:n=-1,[n,s]}function d(t,r,u){var n=r[0]+Math.max(u[0],0),s=r[1]+Math.max(u[1],0),f=t.z[s][n],l=t.xaxis,x=t.yaxis;if(u[1]){var c=(t.level-f)/(t.z[s][n+1]-f),b=(c!==1?(1-c)*l.c2l(t.x[n]):0)+(c!==0?c*l.c2l(t.x[n+1]):0);return[l.c2p(l.l2c(b),!0),x.c2p(t.y[s],!0),n+c,s]}else{var h=(t.level-f)/(t.z[s+1][n]-f),o=(h!==1?(1-h)*x.c2l(t.y[s]):0)+(h!==0?h*x.c2l(t.y[s+1]):0);return[l.c2p(t.x[n],!0),x.c2p(x.l2c(o),!0),n,s+h]}}},52421:function(H,U,e){var g=e(7901),P=e(46248);H.exports=function(L,T,v,d,t){t||(t={}),t.isContour=!0;var r=P(L,T,v,d,t);return r&&r.forEach(function(u){var n=u.trace;n.contours.type==="constraint"&&(n.fillcolor&&g.opacity(n.fillcolor)?u.color=g.addOpacity(n.fillcolor,1):n.contours.showlines&&g.opacity(n.line.color)&&(u.color=g.addOpacity(n.line.color,1)))}),r}},99442:function(H,U,e){H.exports={attributes:e(70600),supplyDefaults:e(13031),calc:e(27529),plot:e(29854).plot,style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"contour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},14523:function(H,U,e){var g=e(71828);H.exports=function(a,L,T,v){v||(v={});var d=a("contours.showlabels");if(d){var t=L.font;g.coerceFont(a,"contours.labelfont",{family:t.family,size:t.size,color:T}),a("contours.labelformat")}v.hasHover!==!1&&a("zhoverformat")}},86068:function(H,U,e){var g=e(39898),P=e(21081),a=e(53572);H.exports=function(T){var v=T.contours,d=v.start,t=a(v),r=v.size||1,u=Math.floor((t-d)/r)+1,n=v.coloring==="lines"?0:1,s=P.extractOpts(T);isFinite(r)||(r=1,u=1);var f=s.reversescale?P.flipScale(s.colorscale):s.colorscale,l=f.length,x=new Array(l),c=new Array(l),b,h,o=s.min,p=s.max;if(v.coloring==="heatmap"){for(h=0;h<l;h++)b=f[h],x[h]=b[0]*(p-o)+o,c[h]=b[1];var S=g.extent([o,p,v.start,v.start+r*(u-1)]),A=S[o<p?0:1],E=S[o<p?1:0];A!==o&&(x.splice(0,0,A),c.splice(0,0,c[0])),E!==p&&(x.push(E),c.push(c[c.length-1]))}else{var m=T._input&&typeof T._input.zmin=="number"&&typeof T._input.zmax=="number";for(m&&(d<=o||t>=p)&&(d<=o&&(d=o),t>=p&&(t=p),u=Math.floor((t-d)/r)+1,n=0),h=0;h<l;h++)b=f[h],x[h]=(b[0]*(u+n-1)-n/2)*r+d,c[h]=b[1];(m||T.autocontour)&&(x[0]>o&&(x.unshift(o),c.unshift(c[0])),x[x.length-1]<p&&(x.push(p),c.push(c[c.length-1])))}return P.makeColorScaleFunc({domain:x,range:c},{noNumericCheck:!0})}},87678:function(H,U,e){var g=e(36914);H.exports=function(L){var T=L[0].z,v=T.length,d=T[0].length,t=v===2||d===2,r,u,n,s,f,l,x,c,b;for(u=0;u<v-1;u++)for(s=[],u===0&&(s=s.concat(g.BOTTOMSTART)),u===v-2&&(s=s.concat(g.TOPSTART)),r=0;r<d-1;r++)for(n=s.slice(),r===0&&(n=n.concat(g.LEFTSTART)),r===d-2&&(n=n.concat(g.RIGHTSTART)),f=r+","+u,l=[[T[u][r],T[u][r+1]],[T[u+1][r],T[u+1][r+1]]],b=0;b<L.length;b++)c=L[b],x=P(c.level,l),x&&(c.crossings[f]=x,n.indexOf(x)!==-1&&(c.starts.push([r,u]),t&&n.indexOf(x,n.indexOf(x)+1)!==-1&&c.starts.push([r,u])))};function P(a,L){var T=(L[0][0]>a?0:1)+(L[0][1]>a?0:2)+(L[1][1]>a?0:4)+(L[1][0]>a?0:8);if(T===5||T===10){var v=(L[0][0]+L[0][1]+L[1][0]+L[1][1])/4;return a>v?T===5?713:1114:T===5?104:208}return T===15?0:T}},29854:function(H,U,e){var g=e(39898),P=e(71828),a=e(91424),L=e(21081),T=e(63893),v=e(89298),d=e(21994),t=e(50347),r=e(87678),u=e(81696),n=e(87558),s=e(84857),f=e(20083),l=e(36914),x=l.LABELOPTIMIZER;U.plot=function(m,M,w,i){var C=M.xaxis,y=M.yaxis;P.makeTraceGroups(i,w,"contour").each(function(_){var I=g.select(this),N=_[0],k=N.trace,O=N.x,z=N.y,F=k.contours,B=n(F,M,N),G=P.ensureSingle(I,"g","heatmapcoloring"),Q=[];F.coloring==="heatmap"&&(Q=[_]),t(m,M,Q,G),r(B),u(B);var ee=C.c2p(O[0],!0),ae=C.c2p(O[O.length-1],!0),fe=y.c2p(z[0],!0),K=y.c2p(z[z.length-1],!0),W=[[ee,K],[ae,K],[ae,fe],[ee,fe]],Z=B;F.type==="constraint"&&(Z=s(B,F._operation)),c(I,W,F),b(I,Z,W,F),o(I,B,m,N,F),S(I,M,m,N,W)})};function c(E,m,M){var w=P.ensureSingle(E,"g","contourbg"),i=w.selectAll("path").data(M.coloring==="fill"?[0]:[]);i.enter().append("path"),i.exit().remove(),i.attr("d","M"+m.join("L")+"Z").style("stroke","none")}function b(E,m,M,w){var i=w.coloring==="fill"||w.type==="constraint"&&w._operation!=="=",C="M"+M.join("L")+"Z";i&&f(m,w);var y=P.ensureSingle(E,"g","contourfill"),_=y.selectAll("path").data(i?m:[]);_.enter().append("path"),_.exit().remove(),_.each(function(I){var N=(I.prefixBoundary?C:"")+h(I,M);N?g.select(this).attr("d",N).style("stroke","none"):g.select(this).remove()})}function h(E,m){var M="",w=0,i=E.edgepaths.map(function(ee,ae){return ae}),C=!0,y,_,I,N,k,O;function z(ee){return Math.abs(ee[1]-m[0][1])<.01}function F(ee){return Math.abs(ee[1]-m[2][1])<.01}function B(ee){return Math.abs(ee[0]-m[0][0])<.01}function G(ee){return Math.abs(ee[0]-m[2][0])<.01}for(;i.length;){for(O=a.smoothopen(E.edgepaths[w],E.smoothing),M+=C?O:O.replace(/^M/,"L"),i.splice(i.indexOf(w),1),y=E.edgepaths[w][E.edgepaths[w].length-1],N=-1,I=0;I<4;I++){if(!y){P.log("Missing end?",w,E);break}for(z(y)&&!G(y)?_=m[1]:B(y)?_=m[0]:F(y)?_=m[3]:G(y)&&(_=m[2]),k=0;k<E.edgepaths.length;k++){var Q=E.edgepaths[k][0];Math.abs(y[0]-_[0])<.01?Math.abs(y[0]-Q[0])<.01&&(Q[1]-y[1])*(_[1]-Q[1])>=0&&(_=Q,N=k):Math.abs(y[1]-_[1])<.01?Math.abs(y[1]-Q[1])<.01&&(Q[0]-y[0])*(_[0]-Q[0])>=0&&(_=Q,N=k):P.log("endpt to newendpt is not vert. or horz.",y,_,Q)}if(y=_,N>=0)break;M+="L"+_}if(N===E.edgepaths.length){P.log("unclosed perimeter path");break}w=N,C=i.indexOf(w)===-1,C&&(w=i[0],M+="Z")}for(w=0;w<E.paths.length;w++)M+=a.smoothclosed(E.paths[w],E.smoothing);return M}function o(E,m,M,w,i){var C=M._context.staticPlot,y=P.ensureSingle(E,"g","contourlines"),_=i.showlines!==!1,I=i.showlabels,N=_&&I,k=U.createLines(y,_||I,m,C),O=U.createLineClip(y,N,M,w.trace.uid),z=E.selectAll("g.contourlabels").data(I?[0]:[]);if(z.exit().remove(),z.enter().append("g").classed("contourlabels",!0),I){var F=[],B=[];P.clearLocationCache();var G=U.labelFormatter(M,w),Q=a.tester.append("text").attr("data-notex",1).call(a.font,i.labelfont),ee=m[0].xaxis,ae=m[0].yaxis,fe=ee._length,K=ae._length,W=ee.range,Z=ae.range,X=P.aggNums(Math.min,null,w.x),$=P.aggNums(Math.max,null,w.x),ie=P.aggNums(Math.min,null,w.y),J=P.aggNums(Math.max,null,w.y),j=Math.max(ee.c2p(X,!0),0),se=Math.min(ee.c2p($,!0),fe),ne=Math.max(ae.c2p(J,!0),0),ue=Math.min(ae.c2p(ie,!0),K),ge={};W[0]<W[1]?(ge.left=j,ge.right=se):(ge.left=se,ge.right=j),Z[0]<Z[1]?(ge.top=ne,ge.bottom=ue):(ge.top=ue,ge.bottom=ne),ge.middle=(ge.top+ge.bottom)/2,ge.center=(ge.left+ge.right)/2,F.push([[ge.left,ge.top],[ge.right,ge.top],[ge.right,ge.bottom],[ge.left,ge.bottom]]);var we=Math.sqrt(fe*fe+K*K),xe=l.LABELDISTANCE*we/Math.max(1,m.length/l.LABELINCREASE);k.each(function(Fe){var ze=U.calcTextOpts(Fe.level,G,Q,M);g.select(this).selectAll("path").each(function(){var Te=this,ye=P.getVisibleSegment(Te,ge,ze.height/2);if(ye&&!(ye.len<(ze.width+ze.height)*l.LABELMIN))for(var Ae=Math.min(Math.ceil(ye.len/xe),l.LABELMAX),Ne=0;Ne<Ae;Ne++){var Ue=U.findBestTextLocation(Te,ye,ze,B,ge);if(!Ue)break;U.addLabelData(Ue,ze,B,F)}})}),Q.remove(),U.drawLabels(z,B,M,O,N?F:null)}I&&!_&&k.remove()}U.createLines=function(E,m,M,w){var i=M[0].smoothing,C=E.selectAll("g.contourlevel").data(m?M:[]);if(C.exit().remove(),C.enter().append("g").classed("contourlevel",!0),m){var y=C.selectAll("path.openline").data(function(I){return I.pedgepaths||I.edgepaths});y.exit().remove(),y.enter().append("path").classed("openline",!0),y.attr("d",function(I){return a.smoothopen(I,i)}).style("stroke-miterlimit",1).style("vector-effect",w?"none":"non-scaling-stroke");var _=C.selectAll("path.closedline").data(function(I){return I.ppaths||I.paths});_.exit().remove(),_.enter().append("path").classed("closedline",!0),_.attr("d",function(I){return a.smoothclosed(I,i)}).style("stroke-miterlimit",1).style("vector-effect",w?"none":"non-scaling-stroke")}return C},U.createLineClip=function(E,m,M,w){var i=M._fullLayout._clips,C=m?"clipline"+w:null,y=i.selectAll("#"+C).data(m?[0]:[]);return y.exit().remove(),y.enter().append("clipPath").classed("contourlineclip",!0).attr("id",C),a.setClipUrl(E,C,M),y},U.labelFormatter=function(E,m){var M=E._fullLayout,w=m.trace,i=w.contours,C={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(i.labelformat)C.tickformat=i.labelformat,d(C,M);else{var y=L.extractOpts(w);if(y&&y.colorbar&&y.colorbar._axis)C=y.colorbar._axis;else{if(i.type==="constraint"){var _=i.value;Array.isArray(_)?C.range=[_[0],_[_.length-1]]:C.range=[_,_]}else C.range=[i.start,i.end],C.nticks=(i.end-i.start)/i.size;C.range[0]===C.range[1]&&(C.range[1]+=C.range[0]||1),C.nticks||(C.nticks=1e3),d(C,M),v.prepTicks(C),C._tmin=null,C._tmax=null}}return function(I){return v.tickText(C,I).text}},U.calcTextOpts=function(E,m,M,w){var i=m(E);M.text(i).call(T.convertToTspans,w);var C=M.node(),y=a.bBox(C,!0);return{text:i,width:y.width,height:y.height,fontSize:+C.style["font-size"].replace("px",""),level:E,dy:(y.top+y.bottom)/2}},U.findBestTextLocation=function(E,m,M,w,i){var C=M.width,y,_,I,N,k;m.isClosed?(_=m.len/x.INITIALSEARCHPOINTS,y=m.min+_/2,I=m.max):(_=(m.len-C)/(x.INITIALSEARCHPOINTS+1),y=m.min+_+C/2,I=m.max-(_+C)/2);for(var O=1/0,z=0;z<x.ITERATIONS;z++){for(var F=y;F<I;F+=_){var B=P.getTextLocation(E,m.total,F,C),G=p(B,M,w,i);G<O&&(O=G,k=B,N=F)}if(O>x.MAXCOST*2)break;z&&(_/=2),y=N-_/2,I=y+_*1.5}if(O<=x.MAXCOST)return k};function p(E,m,M,w){var i=m.width/2,C=m.height/2,y=E.x,_=E.y,I=E.theta,N=Math.cos(I)*i,k=Math.sin(I)*i,O=(y>w.center?w.right-y:y-w.left)/(N+Math.abs(Math.sin(I)*C)),z=(_>w.middle?w.bottom-_:_-w.top)/(Math.abs(k)+Math.cos(I)*C);if(O<1||z<1)return 1/0;var F=x.EDGECOST*(1/(O-1)+1/(z-1));F+=x.ANGLECOST*I*I;for(var B=y-N,G=_-k,Q=y+N,ee=_+k,ae=0;ae<M.length;ae++){var fe=M[ae],K=Math.cos(fe.theta)*fe.width/2,W=Math.sin(fe.theta)*fe.width/2,Z=P.segmentDistance(B,G,Q,ee,fe.x-K,fe.y-W,fe.x+K,fe.y+W)*2/(m.height+fe.height),X=fe.level===m.level,$=X?x.SAMELEVELDISTANCE:1;if(Z<=$)return 1/0;var ie=x.NEIGHBORCOST*(X?x.SAMELEVELFACTOR:1);F+=ie/(Z-$)}return F}U.addLabelData=function(E,m,M,w){var i=m.fontSize,C=m.width+i/3,y=Math.max(0,m.height-i/3),_=E.x,I=E.y,N=E.theta,k=Math.sin(N),O=Math.cos(N),z=function(B,G){return[_+B*O-G*k,I+B*k+G*O]},F=[z(-C/2,-y/2),z(-C/2,y/2),z(C/2,y/2),z(C/2,-y/2)];M.push({text:m.text,x:_,y:I,dy:m.dy,theta:N,level:m.level,width:C,height:y}),w.push(F)},U.drawLabels=function(E,m,M,w,i){var C=E.selectAll("text").data(m,function(N){return N.text+","+N.x+","+N.y+","+N.theta});if(C.exit().remove(),C.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(N){var k=N.x+Math.sin(N.theta)*N.dy,O=N.y-Math.cos(N.theta)*N.dy;g.select(this).text(N.text).attr({x:k,y:O,transform:"rotate("+180*N.theta/Math.PI+" "+k+" "+O+")"}).call(T.convertToTspans,M)}),i){for(var y="",_=0;_<i.length;_++)y+="M"+i[_].join("L")+"Z";var I=P.ensureSingle(w,"path","");I.attr("d",y)}};function S(E,m,M,w,i){var C=w.trace,y=M._fullLayout._clips,_="clip"+C.uid,I=y.selectAll("#"+_).data(C.connectgaps?[]:[0]);if(I.enter().append("clipPath").classed("contourclip",!0).attr("id",_),I.exit().remove(),C.connectgaps===!1){var N={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:m.xaxis,yaxis:m.yaxis,x:w.x,y:w.y,z:A(w),smoothing:0};r([N]),u([N]),f([N],{type:"levels"});var k=P.ensureSingle(I,"path","");k.attr("d",(N.prefixBoundary?"M"+i.join("L")+"Z":"")+h(N,i))}else _=null;a.setClipUrl(E,_,M)}function A(E){var m=E.trace._emptypoints,M=[],w=E.z.length,i=E.z[0].length,C,y=[],_;for(C=0;C<i;C++)y.push(1);for(C=0;C<w;C++)M.push(y.slice());for(C=0;C<m.length;C++)_=m[C],M[_[0]][_[1]]=0;return E.zmask=M,M}},18670:function(H,U,e){var g=e(89298),P=e(71828);H.exports=function(T,v){var d=T.contours;if(T.autocontour){var t=T.zmin,r=T.zmax;(T.zauto||t===void 0)&&(t=P.aggNums(Math.min,null,v)),(T.zauto||r===void 0)&&(r=P.aggNums(Math.max,null,v));var u=a(t,r,T.ncontours);d.size=u.dtick,d.start=g.tickFirst(u),u.range.reverse(),d.end=g.tickFirst(u),d.start===t&&(d.start+=d.size),d.end===r&&(d.end-=d.size),d.start>d.end&&(d.start=d.end=(d.start+d.end)/2),T._input.contours||(T._input.contours={}),P.extendFlat(T._input.contours,{start:d.start,end:d.end,size:d.size}),T._input.autocontour=!0}else if(d.type!=="constraint"){var n=d.start,s=d.end,f=T._input.contours;if(n>s&&(d.start=f.start=s,s=d.end=f.end=n,n=d.start),!(d.size>0)){var l;n===s?l=1:l=a(n,s,T.ncontours).dtick,f.size=d.size=l}}};function a(L,T,v){var d={type:"linear",range:[L,T]};return g.autoTicks(d,(T-L)/(v||15)),d}},84426:function(H,U,e){var g=e(39898),P=e(91424),a=e(70035),L=e(86068);H.exports=function(v){var d=g.select(v).selectAll("g.contour");d.style("opacity",function(t){return t[0].trace.opacity}),d.each(function(t){var r=g.select(this),u=t[0].trace,n=u.contours,s=u.line,f=n.size||1,l=n.start,x=n.type==="constraint",c=!x&&n.coloring==="lines",b=!x&&n.coloring==="fill",h=c||b?L(u):null;r.selectAll("g.contourlevel").each(function(S){g.select(this).selectAll("path").call(P.lineGroupStyle,s.width,c?h(S.level):s.color,s.dash)});var o=n.labelfont;if(r.selectAll("g.contourlabels text").each(function(S){P.font(g.select(this),{family:o.family,size:o.size,color:o.color||(c?h(S.level):s.color)})}),x)r.selectAll("g.contourfill path").style("fill",u.fillcolor);else if(b){var p;r.selectAll("g.contourfill path").style("fill",function(S){return p===void 0&&(p=S.level),h(S.level+.5*f)}),p===void 0&&(p=l),r.selectAll("g.contourbg path").style("fill",h(p-.5*f))}}),a(v)}},8724:function(H,U,e){var g=e(1586),P=e(14523);H.exports=function(L,T,v,d,t){var r=v("contours.coloring"),u,n="";r==="fill"&&(u=v("contours.showlines")),u!==!1&&(r!=="lines"&&(n=v("line.color","#000")),v("line.width",.5),v("line.dash")),r!=="none"&&(L.showlegend!==!0&&(T.showlegend=!1),T._dfltShowLegend=!1,g(L,T,d,v,{prefix:"",cLetter:"z"})),v("line.smoothing"),P(v,d,n,t)}},88085:function(H,U,e){var g=e(21606),P=e(70600),a=e(50693),L=e(1426).extendFlat,T=P.contours;H.exports=L({carpet:{valType:"string",editType:"calc"},z:g.z,a:g.x,a0:g.x0,da:g.dx,b:g.y,b0:g.y0,db:g.dy,text:g.text,hovertext:g.hovertext,transpose:g.transpose,atype:g.xtype,btype:g.ytype,fillcolor:P.fillcolor,autocontour:P.autocontour,ncontours:P.ncontours,contours:{type:T.type,start:T.start,end:T.end,size:T.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:T.showlines,showlabels:T.showlabels,labelfont:T.labelfont,labelformat:T.labelformat,operation:T.operation,value:T.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:P.line.color,width:P.line.width,dash:P.line.dash,smoothing:P.line.smoothing,editType:"plot"},transforms:void 0},a("",{cLetter:"z",autoColorDflt:!1}))},59885:function(H,U,e){var g=e(78803),P=e(71828),a=e(68296),L=e(4742),T=e(824),v=e(43907),d=e(70769),t=e(75005),r=e(22882),u=e(18670);H.exports=function(f,l){var x=l._carpetTrace=r(f,l);if(!(!x||!x.visible||x.visible==="legendonly")){if(!l.a||!l.b){var c=f.data[x.index],b=f.data[l.index];b.a||(b.a=c.a),b.b||(b.b=c.b),t(b,l,l._defaultColor,f._fullLayout)}var h=n(f,l);return u(l,l._z),h}};function n(s,f){var l=f._carpetTrace,x=l.aaxis,c=l.baxis,b,h,o,p,S,A,E;x._minDtick=0,c._minDtick=0,P.isArray1D(f.z)&&a(f,x,c,"a","b",["z"]),b=f._a=f._a||f.a,p=f._b=f._b||f.b,b=b?x.makeCalcdata(f,"_a"):[],p=p?c.makeCalcdata(f,"_b"):[],h=f.a0||0,o=f.da||1,S=f.b0||0,A=f.db||1,E=f._z=L(f._z||f.z,f.transpose),f._emptypoints=v(E),T(E,f._emptypoints);var m=P.maxRowLength(E),M=f.xtype==="scaled"?"":b,w=d(f,M,h,o,m,x),i=f.ytype==="scaled"?"":p,C=d(f,i,S,A,E.length,c),y={a:w,b:C,z:E};return f.contours.type==="levels"&&f.contours.coloring!=="none"&&g(s,f,{vals:E,containerStr:"",cLetter:"z"}),[y]}},75005:function(H,U,e){var g=e(71828),P=e(67684),a=e(88085),L=e(83179),T=e(67217),v=e(8724);H.exports=function(t,r,u,n){function s(c,b){return g.coerce(t,r,a,c,b)}function f(c){return g.coerce2(t,r,a,c)}if(s("carpet"),t.a&&t.b){var l=P(t,r,s,n,"a","b");if(!l){r.visible=!1;return}s("text");var x=s("contours.type")==="constraint";x?L(t,r,s,n,u,{hasHover:!1}):(T(t,r,s,f),v(t,r,s,n,{hasHover:!1}))}else r._defaultColor=u,r._length=null}},93740:function(H,U,e){H.exports={attributes:e(88085),supplyDefaults:e(75005),colorbar:e(90654),calc:e(59885),plot:e(51048),style:e(84426),moduleType:"trace",name:"contourcarpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},51048:function(H,U,e){var g=e(39898),P=e(27669),a=e(67961),L=e(91424),T=e(71828),v=e(87678),d=e(81696),t=e(29854),r=e(36914),u=e(84857),n=e(87558),s=e(20083),f=e(22882),l=e(4536);H.exports=function(M,w,i,C){var y=w.xaxis,_=w.yaxis;T.makeTraceGroups(C,i,"contour").each(function(I){var N=g.select(this),k=I[0],O=k.trace,z=O._carpetTrace=f(M,O),F=M.calcdata[z.index][0];if(!z.visible||z.visible==="legendonly")return;var B=k.a,G=k.b,Q=O.contours,ee=n(Q,w,k),ae=Q.type==="constraint",fe=Q._operation,K=ae?fe==="="?"lines":"fill":Q.coloring;function W(we){var xe=z.ab2xy(we[0],we[1],!0);return[y.c2p(xe[0]),_.c2p(xe[1])]}var Z=[[B[0],G[G.length-1]],[B[B.length-1],G[G.length-1]],[B[B.length-1],G[0]],[B[0],G[0]]];v(ee);var X=(B[B.length-1]-B[0])*1e-8,$=(G[G.length-1]-G[0])*1e-8;d(ee,X,$);var ie=ee;Q.type==="constraint"&&(ie=u(ee,fe)),x(ee,W);var J,j,se,ne,ue=[];for(ne=F.clipsegments.length-1;ne>=0;ne--)J=F.clipsegments[ne],j=P([],J.x,y.c2p),se=P([],J.y,_.c2p),j.reverse(),se.reverse(),ue.push(a(j,se,J.bicubic));var ge="M"+ue.join("L")+"Z";S(N,F.clipsegments,y,_,ae,K),A(O,N,y,_,ie,Z,W,z,F,K,ge),c(N,ee,M,k,Q,w,z),L.setClipUrl(N,z._clipPathId,M)})};function x(m,M){var w,i,C,y,_,I,N,k,O;for(w=0;w<m.length;w++){for(y=m[w],_=y.pedgepaths=[],I=y.ppaths=[],i=0;i<y.edgepaths.length;i++){for(O=y.edgepaths[i],N=[],C=0;C<O.length;C++)N[C]=M(O[C]);_.push(N)}for(i=0;i<y.paths.length;i++){for(O=y.paths[i],k=[],C=0;C<O.length;C++)k[C]=M(O[C]);I.push(k)}}}function c(m,M,w,i,C,y,_){var I=w._context.staticPlot,N=T.ensureSingle(m,"g","contourlines"),k=C.showlines!==!1,O=C.showlabels,z=k&&O,F=t.createLines(N,k||O,M,I),B=t.createLineClip(N,z,w,i.trace.uid),G=m.selectAll("g.contourlabels").data(O?[0]:[]);if(G.exit().remove(),G.enter().append("g").classed("contourlabels",!0),O){var Q=y.xaxis,ee=y.yaxis,ae=Q._length,fe=ee._length,K=[[[0,0],[ae,0],[ae,fe],[0,fe]]],W=[];T.clearLocationCache();var Z=t.labelFormatter(w,i),X=L.tester.append("text").attr("data-notex",1).call(L.font,C.labelfont),$={left:0,right:ae,center:ae/2,top:0,bottom:fe,middle:fe/2},ie=Math.sqrt(ae*ae+fe*fe),J=r.LABELDISTANCE*ie/Math.max(1,M.length/r.LABELINCREASE);F.each(function(j){var se=t.calcTextOpts(j.level,Z,X,w);g.select(this).selectAll("path").each(function(ne){var ue=this,ge=T.getVisibleSegment(ue,$,se.height/2);if(ge&&(b(ue,ne,j,ge,_,se.height),!(ge.len<(se.width+se.height)*r.LABELMIN)))for(var we=Math.min(Math.ceil(ge.len/J),r.LABELMAX),xe=0;xe<we;xe++){var Fe=t.findBestTextLocation(ue,ge,se,W,$);if(!Fe)break;t.addLabelData(Fe,se,W,K)}})}),X.remove(),t.drawLabels(G,W,w,B,z?K:null)}O&&!k&&F.remove()}function b(m,M,w,i,C,y){for(var _,I=0;I<w.pedgepaths.length;I++)M===w.pedgepaths[I]&&(_=w.edgepaths[I]);if(!_)return;var N=C.a[0],k=C.a[C.a.length-1],O=C.b[0],z=C.b[C.b.length-1];function F(ae,fe){var K=0,W,Z=.1;return(Math.abs(ae[0]-N)<Z||Math.abs(ae[0]-k)<Z)&&(W=o(C.dxydb_rough(ae[0],ae[1],Z)),K=Math.max(K,y*p(fe,W)/2)),(Math.abs(ae[1]-O)<Z||Math.abs(ae[1]-z)<Z)&&(W=o(C.dxyda_rough(ae[0],ae[1],Z)),K=Math.max(K,y*p(fe,W)/2)),K}var B=h(m,0,1),G=h(m,i.total,i.total-1),Q=F(_[0],B),ee=i.total-F(_[_.length-1],G);i.min<Q&&(i.min=Q),i.max>ee&&(i.max=ee),i.len=i.max-i.min}function h(m,M,w){var i=m.getPointAtLength(M),C=m.getPointAtLength(w),y=C.x-i.x,_=C.y-i.y,I=Math.sqrt(y*y+_*_);return[y/I,_/I]}function o(m){var M=Math.sqrt(m[0]*m[0]+m[1]*m[1]);return[m[0]/M,m[1]/M]}function p(m,M){var w=Math.abs(m[0]*M[0]+m[1]*M[1]),i=Math.sqrt(1-w*w);return i/w}function S(m,M,w,i,C,y){var _,I,N,k,O=T.ensureSingle(m,"g","contourbg"),z=O.selectAll("path").data(y==="fill"&&!C?[0]:[]);z.enter().append("path"),z.exit().remove();var F=[];for(k=0;k<M.length;k++)_=M[k],I=P([],_.x,w.c2p),N=P([],_.y,i.c2p),F.push(a(I,N,_.bicubic));z.attr("d","M"+F.join("L")+"Z").style("stroke","none")}function A(m,M,w,i,C,y,_,I,N,k,O){var z=k==="fill";z&&s(C,m.contours);var F=T.ensureSingle(M,"g","contourfill"),B=F.selectAll("path").data(z?C:[]);B.enter().append("path"),B.exit().remove(),B.each(function(G){var Q=(G.prefixBoundary?O:"")+E(m,G,y,_,I,N,w,i);Q?g.select(this).attr("d",Q).style("stroke","none"):g.select(this).remove()})}function E(m,M,w,i,C,y,_,I){var N,k="",O=M.edgepaths.map(function(se,ne){return ne}),z=!0,F,B,G,Q,ee,ae,fe=Math.abs(w[0][0]-w[2][0])*1e-4,K=Math.abs(w[0][1]-w[2][1])*1e-4;function W(se){return Math.abs(se[1]-w[0][1])<K}function Z(se){return Math.abs(se[1]-w[2][1])<K}function X(se){return Math.abs(se[0]-w[0][0])<fe}function $(se){return Math.abs(se[0]-w[2][0])<fe}function ie(se,ne){var ue,ge,we,xe,Fe="";for(W(se)&&!$(se)||Z(se)&&!X(se)?(xe=C.aaxis,we=l(C,y,[se[0],ne[0]],.5*(se[1]+ne[1]))):(xe=C.baxis,we=l(C,y,.5*(se[0]+ne[0]),[se[1],ne[1]])),ue=1;ue<we.length;ue++)for(Fe+=xe.smoothing?"C":"L",ge=0;ge<we[ue].length;ge++){var ze=we[ue][ge];Fe+=[_.c2p(ze[0]),I.c2p(ze[1])]+" "}return Fe}for(N=0,F=null;O.length;){var J=M.edgepaths[N][0];for(F&&(k+=ie(F,J)),ae=L.smoothopen(M.edgepaths[N].map(i),M.smoothing),k+=z?ae:ae.replace(/^M/,"L"),O.splice(O.indexOf(N),1),F=M.edgepaths[N][M.edgepaths[N].length-1],Q=-1,G=0;G<4;G++){if(!F){T.log("Missing end?",N,M);break}for(W(F)&&!$(F)?B=w[1]:X(F)?B=w[0]:Z(F)?B=w[3]:$(F)&&(B=w[2]),ee=0;ee<M.edgepaths.length;ee++){var j=M.edgepaths[ee][0];Math.abs(F[0]-B[0])<fe?Math.abs(F[0]-j[0])<fe&&(j[1]-F[1])*(B[1]-j[1])>=0&&(B=j,Q=ee):Math.abs(F[1]-B[1])<K?Math.abs(F[1]-j[1])<K&&(j[0]-F[0])*(B[0]-j[0])>=0&&(B=j,Q=ee):T.log("endpt to newendpt is not vert. or horz.",F,B,j)}if(Q>=0)break;k+=ie(F,B),F=B}if(Q===M.edgepaths.length){T.log("unclosed perimeter path");break}N=Q,z=O.indexOf(N)===-1,z&&(N=O[0],k+=ie(F,B)+"Z",F=null)}for(N=0;N<M.paths.length;N++)k+=L.smoothclosed(M.paths[N].map(i),M.smoothing);return k}},64096:function(H,U,e){var g=e(50693),P=e(5386).fF,a=e(9012),L=e(99181),T=e(1426).extendFlat;H.exports=T({lon:L.lon,lat:L.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:L.text,hovertext:L.hovertext,hoverinfo:T({},a.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:P(),showlegend:T({},a.showlegend,{dflt:!1})},g("",{cLetter:"z",editTypeOverride:"calc"}))},85070:function(H,U,e){var g=e(92770),P=e(71828).isArrayOrTypedArray,a=e(50606).BADNUM,L=e(78803),T=e(71828)._;H.exports=function(d,t){for(var r=t._length,u=new Array(r),n=t.z,s=P(n)&&n.length,f=0;f<r;f++){var l=u[f]={},x=t.lon[f],c=t.lat[f];if(l.lonlat=g(x)&&g(c)?[+x,+c]:[a,a],s){var b=n[f];l.z=g(b)?b:a}}return L(d,t,{vals:s?n:[0,1],containerStr:"",cLetter:"z"}),r&&(u[0].t={labels:{lat:T(d,"lat:")+" ",lon:T(d,"lon:")+" "}}),u}},52414:function(H,U,e){var g=e(92770),P=e(71828),a=e(7901),L=e(21081),T=e(50606).BADNUM,v=e(18214).makeBlank;H.exports=function(t){var r=t[0].trace,u=r.visible===!0&&r._length!==0,n={layout:{visibility:"none"},paint:{}},s=r._opts={heatmap:n,geojson:v()};if(!u)return s;var f=[],l,x=r.z,c=r.radius,b=P.isArrayOrTypedArray(x)&&x.length,h=P.isArrayOrTypedArray(c);for(l=0;l<t.length;l++){var o=t[l],p=o.lonlat;if(p[0]!==T){var S={};if(b){var A=o.z;S.z=A!==T?A:0}h&&(S.r=g(c[l])&&c[l]>0?+c[l]:0),f.push({type:"Feature",geometry:{type:"Point",coordinates:p},properties:S})}}var E=L.extractOpts(r),m=E.reversescale?L.flipScale(E.colorscale):E.colorscale,M=m[0][1],w=a.opacity(M)<1?M:a.addOpacity(M,0),i=["interpolate",["linear"],["heatmap-density"],0,w];for(l=1;l<m.length;l++)i.push(m[l][0],m[l][1]);var C=["interpolate",["linear"],["get","z"],E.min,0,E.max,1];return P.extendFlat(s.heatmap.paint,{"heatmap-weight":b?C:1/(E.max-E.min),"heatmap-color":i,"heatmap-radius":h?{type:"identity",property:"r"}:r.radius,"heatmap-opacity":r.opacity}),s.geojson={type:"FeatureCollection",features:f},s.heatmap.layout.visibility="visible",s}},79429:function(H,U,e){var g=e(71828),P=e(1586),a=e(64096);H.exports=function(T,v,d,t){function r(f,l){return g.coerce(T,v,a,f,l)}var u=r("lon")||[],n=r("lat")||[],s=Math.min(u.length,n.length);if(!s){v.visible=!1;return}v._length=s,r("z"),r("radius"),r("below"),r("text"),r("hovertext"),r("hovertemplate"),P(T,v,t,r,{prefix:"",cLetter:"z"})}},62474:function(H){H.exports=function(e,g){return e.lon=g.lon,e.lat=g.lat,e.z=g.z,e}},84684:function(H,U,e){var g=e(89298),P=e(28178).hoverPoints,a=e(28178).getExtraText;H.exports=function(T,v,d){var t=P(T,v,d);if(t){var r=t[0],u=r.cd,n=u[0].trace,s=u[r.index];if(delete r.color,"z"in s){var f=r.subplot.mockAxis;r.z=s.z,r.zLabel=g.tickText(f,f.c2l(s.z),"hover").text}return r.extraText=a(n,s,u[0].t.labels),[r]}}},93814:function(H,U,e){H.exports={attributes:e(64096),supplyDefaults:e(79429),colorbar:e(61243),formatLabels:e(15636),calc:e(85070),plot:e(7336),hoverPoints:e(84684),eventData:e(62474),getBelow:function(g,P){for(var a=P.getMapLayers(),L=0;L<a.length;L++){var T=a[L],v=T.id;if(T.type==="symbol"&&typeof v=="string"&&v.indexOf("plotly-")===-1)return v}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(50101),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},7336:function(H,U,e){var g=e(52414),P=e(77734).traceLayerPrefix;function a(T,v){this.type="densitymapbox",this.subplot=T,this.uid=v,this.sourceId="source-"+v,this.layerList=[["heatmap",P+v+"-heatmap"]],this.below=null}var L=a.prototype;L.update=function(T){var v=this.subplot,d=this.layerList,t=g(T),r=v.belowLookup["trace-"+this.uid];v.map.getSource(this.sourceId).setData(t.geojson),r!==this.below&&(this._removeLayers(),this._addLayers(t,r),this.below=r);for(var u=0;u<d.length;u++){var n=d[u],s=n[0],f=n[1],l=t[s];v.setOptions(f,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&v.setOptions(f,"setPaintProperty",l.paint)}},L._addLayers=function(T,v){for(var d=this.subplot,t=this.layerList,r=this.sourceId,u=0;u<t.length;u++){var n=t[u],s=n[0],f=T[s];d.addLayer({type:s,id:n[1],source:r,layout:f.layout,paint:f.paint},v)}},L._removeLayers=function(){for(var T=this.subplot.map,v=this.layerList,d=v.length-1;d>=0;d--)T.removeLayer(v[d][1])},L.dispose=function(){var T=this.subplot.map;this._removeLayers(),T.removeSource(this.sourceId)},H.exports=function(v,d){var t=d[0].trace,r=new a(v,t.uid),u=r.sourceId,n=g(d),s=r.below=v.belowLookup["trace-"+t.uid];return v.map.addSource(u,{type:"geojson",data:n.geojson}),r._addLayers(n,s),r}},49789:function(H,U,e){var g=e(71828);H.exports=function(a,L){for(var T=0;T<a.length;T++)a[T].i=T;g.mergeArray(L.text,a,"tx"),g.mergeArray(L.hovertext,a,"htx");var v=L.marker;if(v){g.mergeArray(v.opacity,a,"mo"),g.mergeArray(v.color,a,"mc");var d=v.line;d&&(g.mergeArray(d.color,a,"mlc"),g.mergeArrayCastPositive(d.width,a,"mlw"))}}},1285:function(H,U,e){var g=e(1486),P=e(82196).line,a=e(9012),L=e(12663).axisHoverFormat,T=e(5386).fF,v=e(5386).si,d=e(18517),t=e(1426).extendFlat,r=e(7901);H.exports={x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),hovertext:g.hovertext,hovertemplate:T({},{keys:d.eventDataKeys}),hoverinfo:t({},a.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:d.eventDataKeys.concat(["label","value"])}),text:g.text,textposition:g.textposition,insidetextanchor:t({},g.insidetextanchor,{dflt:"middle"}),textangle:t({},g.textangle,{dflt:0}),textfont:g.textfont,insidetextfont:g.insidetextfont,outsidetextfont:g.outsidetextfont,constraintext:g.constraintext,cliponaxis:g.cliponaxis,orientation:t({},g.orientation,{}),offset:t({},g.offset,{arrayOk:!1}),width:t({},g.width,{arrayOk:!1}),marker:u(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:t({},P.color,{dflt:r.defaultLine}),width:t({},P.width,{dflt:0,editType:"plot"}),dash:P.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup};function u(){var n=t({},g.marker);return delete n.pattern,n}},9532:function(H,U,e){var g=e(89298),P=e(42973),a=e(49789),L=e(66279),T=e(50606).BADNUM;H.exports=function(t,r){var u=g.getFromId(t,r.xaxis||"x"),n=g.getFromId(t,r.yaxis||"y"),s,f,l,x,c,b,h,o;r.orientation==="h"?(s=u.makeCalcdata(r,"x"),l=n.makeCalcdata(r,"y"),x=P(r,n,"y",l),c=!!r.yperiodalignment,b="y"):(s=n.makeCalcdata(r,"y"),l=u.makeCalcdata(r,"x"),x=P(r,u,"x",l),c=!!r.xperiodalignment,b="x"),f=x.vals;var p=Math.min(f.length,s.length),S=new Array(p);for(r._base=[],h=0;h<p;h++){s[h]<0&&(s[h]=T);var A=!1;s[h]!==T&&h+1<p&&s[h+1]!==T&&(A=!0),o=S[h]={p:f[h],s:s[h],cNext:A},r._base[h]=-.5*o.s,c&&(S[h].orig_p=l[h],S[h][b+"End"]=x.ends[h],S[h][b+"Start"]=x.starts[h]),r.ids&&(o.id=String(r.ids[h])),h===0&&(S[0].vTotal=0),S[0].vTotal+=v(o.s),o.begR=v(o.s)/v(S[0].s)}var E;for(h=0;h<p;h++)o=S[h],o.s!==T&&(o.sumR=o.s/S[0].vTotal,o.difR=E!==void 0?o.s/E:1,E=o.s);return a(S,r),L(S,r),S};function v(d){return d===T?0:d}},18517:function(H){H.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},8984:function(H,U,e){var g=e(11661).setGroupPositions;H.exports=function(a,L){var T=a._fullLayout,v=a._fullData,d=a.calcdata,t=L.xaxis,r=L.yaxis,u=[],n=[],s=[],f,l;for(l=0;l<v.length;l++){var x=v[l],c=x.orientation==="h";x.visible===!0&&x.xaxis===t._id&&x.yaxis===r._id&&x.type==="funnel"&&(f=d[l],c?s.push(f):n.push(f),u.push(f))}var b={mode:T.funnelmode,norm:T.funnelnorm,gap:T.funnelgap,groupgap:T.funnelgroupgap};for(g(a,t,r,n,b),g(a,r,t,s,b),l=0;l<u.length;l++){f=u[l];for(var h=0;h<f.length;h++)h+1<f.length&&(f[h].nextP0=f[h+1].p0,f[h].nextS0=f[h+1].s0,f[h].nextP1=f[h+1].p1,f[h].nextS1=f[h+1].s1)}}},26199:function(H,U,e){var g=e(71828),P=e(26125),a=e(90769).handleText,L=e(67513),T=e(73927),v=e(1285),d=e(7901);function t(n,s,f,l){function x(A,E){return g.coerce(n,s,v,A,E)}var c=L(n,s,l,x);if(!c){s.visible=!1;return}T(n,s,l,x),x("xhoverformat"),x("yhoverformat"),x("orientation",s.y&&!s.x?"v":"h"),x("offset"),x("width");var b=x("text");x("hovertext"),x("hovertemplate");var h=x("textposition");a(n,s,l,x,h,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),s.textposition!=="none"&&!s.texttemplate&&x("textinfo",Array.isArray(b)?"text+value":"value");var o=x("marker.color",f);x("marker.line.color",d.defaultLine),x("marker.line.width");var p=x("connector.visible");if(p){x("connector.fillcolor",r(o));var S=x("connector.line.width");S&&(x("connector.line.color"),x("connector.line.dash"))}}function r(n){var s=g.isArrayOrTypedArray(n)?"#000":n;return d.addOpacity(s,.5*d.opacity(s))}function u(n,s){var f,l;function x(b){return g.coerce(l._input,l,v,b)}if(s.funnelmode==="group")for(var c=0;c<n.length;c++)l=n[c],f=l._input,P(f,l,s,x)}H.exports={supplyDefaults:t,crossTraceDefaults:u}},34598:function(H){H.exports=function(e,g){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"percentInitial"in g&&(e.percentInitial=g.percentInitial),"percentPrevious"in g&&(e.percentPrevious=g.percentPrevious),"percentTotal"in g&&(e.percentTotal=g.percentTotal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},63341:function(H,U,e){var g=e(7901).opacity,P=e(95423).hoverOnBars,a=e(71828).formatPercent;H.exports=function(v,d,t,r,u){var n=P(v,d,t,r,u);if(n){var s=n.cd,f=s[0].trace,l=f.orientation==="h",x=n.index,c=s[x],b=l?"x":"y";n[b+"LabelVal"]=c.s,n.percentInitial=c.begR,n.percentInitialLabel=a(c.begR,1),n.percentPrevious=c.difR,n.percentPreviousLabel=a(c.difR,1),n.percentTotal=c.sumR,n.percentTotalLabel=a(c.sumR,1);var h=c.hi||f.hoverinfo,o=[];if(h&&h!=="none"&&h!=="skip"){var p=h==="all",S=h.split("+"),A=function(E){return p||S.indexOf(E)!==-1};A("percent initial")&&o.push(n.percentInitialLabel+" of initial"),A("percent previous")&&o.push(n.percentPreviousLabel+" of previous"),A("percent total")&&o.push(n.percentTotalLabel+" of total")}return n.extraText=o.join("<br>"),n.color=L(f,c),[n]}};function L(T,v){var d=T.marker,t=v.mc||d.color,r=v.mlc||d.line.color,u=v.mlw||d.line.width;if(g(t))return t;if(g(r)&&u)return r}},51759:function(H,U,e){H.exports={attributes:e(1285),layoutAttributes:e(10440),supplyDefaults:e(26199).supplyDefaults,crossTraceDefaults:e(26199).crossTraceDefaults,supplyLayoutDefaults:e(93138),calc:e(9532),crossTraceCalc:e(8984),plot:e(80461),style:e(68266).style,hoverPoints:e(63341),eventData:e(34598),selectPoints:e(81974),moduleType:"trace",name:"funnel",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},10440:function(H){H.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},93138:function(H,U,e){var g=e(71828),P=e(10440);H.exports=function(a,L,T){var v=!1;function d(u,n){return g.coerce(a,L,P,u,n)}for(var t=0;t<T.length;t++){var r=T[t];if(r.visible&&r.type==="funnel"){v=!0;break}}v&&(d("funnelmode"),d("funnelgap",.2),d("funnelgroupgap"))}},80461:function(H,U,e){var g=e(39898),P=e(71828),a=e(91424),L=e(50606).BADNUM,T=e(17295),v=e(72597).clearMinTextSize;H.exports=function(n,s,f,l){var x=n._fullLayout;v("funnel",x),d(n,s,f,l),t(n,s,f,l),T.plot(n,s,f,l,{mode:x.funnelmode,norm:x.funnelmode,gap:x.funnelgap,groupgap:x.funnelgroupgap})};function d(u,n,s,f){var l=n.xaxis,x=n.yaxis;P.makeTraceGroups(f,s,"trace bars").each(function(c){var b=g.select(this),h=c[0].trace,o=P.ensureSingle(b,"g","regions");if(!h.connector||!h.connector.visible){o.remove();return}var p=h.orientation==="h",S=o.selectAll("g.region").data(P.identity);S.enter().append("g").classed("region",!0),S.exit().remove();var A=S.size();S.each(function(E,m){if(!(m!==A-1&&!E.cNext)){var M=r(E,l,x,p),w=M[0],i=M[1],C="";w[0]!==L&&i[0]!==L&&w[1]!==L&&i[1]!==L&&w[2]!==L&&i[2]!==L&&w[3]!==L&&i[3]!==L&&(p?C+="M"+w[0]+","+i[1]+"L"+w[2]+","+i[2]+"H"+w[3]+"L"+w[1]+","+i[1]+"Z":C+="M"+w[1]+","+i[1]+"L"+w[2]+","+i[3]+"V"+i[2]+"L"+w[1]+","+i[0]+"Z"),C===""&&(C="M0,0Z"),P.ensureSingle(g.select(this),"path").attr("d",C).call(a.setClipUrl,n.layerClipId,u)}})})}function t(u,n,s,f){var l=n.xaxis,x=n.yaxis;P.makeTraceGroups(f,s,"trace bars").each(function(c){var b=g.select(this),h=c[0].trace,o=P.ensureSingle(b,"g","lines");if(!h.connector||!h.connector.visible||!h.connector.line.width){o.remove();return}var p=h.orientation==="h",S=o.selectAll("g.line").data(P.identity);S.enter().append("g").classed("line",!0),S.exit().remove();var A=S.size();S.each(function(E,m){if(!(m!==A-1&&!E.cNext)){var M=r(E,l,x,p),w=M[0],i=M[1],C="";w[3]!==void 0&&i[3]!==void 0&&(p?(C+="M"+w[0]+","+i[1]+"L"+w[2]+","+i[2],C+="M"+w[1]+","+i[1]+"L"+w[3]+","+i[2]):(C+="M"+w[1]+","+i[1]+"L"+w[2]+","+i[3],C+="M"+w[1]+","+i[0]+"L"+w[2]+","+i[2])),C===""&&(C="M0,0Z"),P.ensureSingle(g.select(this),"path").attr("d",C).call(a.setClipUrl,n.layerClipId,u)}})})}function r(u,n,s,f){var l=[],x=[],c=f?n:s,b=f?s:n;return l[0]=c.c2p(u.s0,!0),x[0]=b.c2p(u.p0,!0),l[1]=c.c2p(u.s1,!0),x[1]=b.c2p(u.p1,!0),l[2]=c.c2p(u.nextS0,!0),x[2]=b.c2p(u.nextP0,!0),l[3]=c.c2p(u.nextS1,!0),x[3]=b.c2p(u.nextP1,!0),f?[l,x]:[x,l]}},68266:function(H,U,e){var g=e(39898),P=e(91424),a=e(7901),L=e(37822).DESELECTDIM,T=e(16688),v=e(72597).resizeText,d=T.styleTextPoints;function t(r,u,n){var s=n||g.select(r).selectAll("g.funnellayer").selectAll("g.trace");v(r,s,"funnel"),s.style("opacity",function(f){return f[0].trace.opacity}),s.each(function(f){var l=g.select(this),x=f[0].trace;l.selectAll(".point > path").each(function(c){if(!c.isBlank){var b=x.marker;g.select(this).call(a.fill,c.mc||b.color).call(a.stroke,c.mlc||b.line.color).call(P.dashLine,b.line.dash,c.mlw||b.line.width).style("opacity",x.selectedpoints&&!c.selected?L:1)}}),d(l,x,r),l.selectAll(".regions").each(function(){g.select(this).selectAll("path").style("stroke-width",0).call(a.fill,x.connector.fillcolor)}),l.selectAll(".lines").each(function(){var c=x.connector.line;P.lineGroupStyle(g.select(this).selectAll("path"),c.width,c.color,c.dash)})})}H.exports={style:t}},86807:function(H,U,e){var g=e(34e3),P=e(9012),a=e(27670).Y,L=e(5386).fF,T=e(5386).si,v=e(1426).extendFlat;H.exports={labels:g.labels,label0:g.label0,dlabel:g.dlabel,values:g.values,marker:{colors:g.marker.colors,line:{color:v({},g.marker.line.color,{dflt:null}),width:v({},g.marker.line.width,{dflt:1}),editType:"calc"},pattern:g.marker.pattern,editType:"calc"},text:g.text,hovertext:g.hovertext,scalegroup:v({},g.scalegroup,{}),textinfo:v({},g.textinfo,{flags:["label","text","value","percent"]}),texttemplate:T({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:v({},P.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:L({},{keys:["label","color","value","text","percent"]}),textposition:v({},g.textposition,{values:["inside","none"],dflt:"inside"}),textfont:g.textfont,insidetextfont:g.insidetextfont,title:{text:g.title.text,font:g.title.font,position:v({},g.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:a({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},6452:function(H,U,e){var g=e(74875);U.name="funnelarea",U.plot=function(P,a,L,T){g.plotBasePlot(U.name,P,a,L,T)},U.clean=function(P,a,L,T){g.cleanBasePlot(U.name,P,a,L,T)}},89574:function(H,U,e){var g=e(32354);function P(L,T){return g.calc(L,T)}function a(L){g.crossTraceCalc(L,{type:"funnelarea"})}H.exports={calc:P,crossTraceCalc:a}},86282:function(H,U,e){var g=e(71828),P=e(86807),a=e(27670).c,L=e(90769).handleText,T=e(37434).handleLabelsAndValues,v=e(37434).handleMarkerDefaults;H.exports=function(t,r,u,n){function s(A,E){return g.coerce(t,r,P,A,E)}var f=s("labels"),l=s("values"),x=T(f,l),c=x.len;if(r._hasLabels=x.hasLabels,r._hasValues=x.hasValues,!r._hasLabels&&r._hasValues&&(s("label0"),s("dlabel")),!c){r.visible=!1;return}r._length=c,v(t,r,n,s),s("scalegroup");var b=s("text"),h=s("texttemplate"),o;if(h||(o=s("textinfo",Array.isArray(b)?"text+percent":"percent")),s("hovertext"),s("hovertemplate"),h||o&&o!=="none"){var p=s("textposition");L(t,r,n,s,p,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}a(r,n,s);var S=s("title.text");S&&(s("title.position"),g.coerceFont(s,"title.font",n.font)),s("aspectratio"),s("baseratio")}},10421:function(H,U,e){H.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(6452),categories:["pie-like","funnelarea","showLegend"],attributes:e(86807),layoutAttributes:e(80097),supplyDefaults:e(86282),supplyLayoutDefaults:e(57402),calc:e(89574).calc,crossTraceCalc:e(89574).crossTraceCalc,plot:e(79187),style:e(71858),styleOne:e(63463),meta:{}}},80097:function(H,U,e){var g=e(92774).hiddenlabels;H.exports={hiddenlabels:g,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57402:function(H,U,e){var g=e(71828),P=e(80097);H.exports=function(L,T){function v(d,t){return g.coerce(L,T,P,d,t)}v("hiddenlabels"),v("funnelareacolorway",T.colorway),v("extendfunnelareacolors")}},79187:function(H,U,e){var g=e(39898),P=e(91424),a=e(71828),L=a.strScale,T=a.strTranslate,v=e(63893),d=e(17295),t=d.toMoveInsideBar,r=e(72597),u=r.recordMinTextSize,n=r.clearMinTextSize,s=e(53581),f=e(14575),l=f.attachFxHandlers,x=f.determineInsideTextFont,c=f.layoutAreas,b=f.prerenderTitles,h=f.positionTitleOutside,o=f.formatSliceLabel;H.exports=function(m,M){var w=m._context.staticPlot,i=m._fullLayout;n("funnelarea",i),b(M,m),c(M,i._size),a.makeTraceGroups(i._funnelarealayer,M,"trace").each(function(C){var y=g.select(this),_=C[0],I=_.trace;A(C),y.each(function(){var N=g.select(this).selectAll("g.slice").data(C);N.enter().append("g").classed("slice",!0),N.exit().remove(),N.each(function(O,z){if(O.hidden){g.select(this).selectAll("path,g").remove();return}O.pointNumber=O.i,O.curveNumber=I.index;var F=_.cx,B=_.cy,G=g.select(this),Q=G.selectAll("path.surface").data([O]);Q.enter().append("path").classed("surface",!0).style({"pointer-events":w?"none":"all"}),G.call(l,m,C);var ee="M"+(F+O.TR[0])+","+(B+O.TR[1])+p(O.TR,O.BR)+p(O.BR,O.BL)+p(O.BL,O.TL)+"Z";Q.attr("d",ee),o(m,O,_);var ae=s.castOption(I.textposition,O.pts),fe=G.selectAll("g.slicetext").data(O.text&&ae!=="none"?[0]:[]);fe.enter().append("g").classed("slicetext",!0),fe.exit().remove(),fe.each(function(){var K=a.ensureSingle(g.select(this),"text","",function(se){se.attr("data-notex",1)}),W=a.ensureUniformFontSize(m,x(I,O,i.font));K.text(O.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(P.font,W).call(v.convertToTspans,m);var Z=P.bBox(K.node()),X,$,ie,J=Math.min(O.BL[1],O.BR[1])+B,j=Math.max(O.TL[1],O.TR[1])+B;$=Math.max(O.TL[0],O.BL[0])+F,ie=Math.min(O.TR[0],O.BR[0])+F,X=t($,ie,J,j,Z,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),X.fontSize=W.size,u(I.type,X,i),C[z].transform=X,a.setTransormAndDisplay(K,X)})});var k=g.select(this).selectAll("g.titletext").data(I.title.text?[0]:[]);k.enter().append("g").classed("titletext",!0),k.exit().remove(),k.each(function(){var O=a.ensureSingle(g.select(this),"text","",function(B){B.attr("data-notex",1)}),z=I.title.text;I._meta&&(z=a.templateString(z,I._meta)),O.text(z).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(P.font,I.title.font).call(v.convertToTspans,m);var F=h(_,i._size);O.attr("transform",T(F.x,F.y)+L(Math.min(1,F.scale))+T(F.tx,F.ty))})})})};function p(E,m){var M=m[0]-E[0],w=m[1]-E[1];return"l"+M+","+w}function S(E,m){return[.5*(E[0]+m[0]),.5*(E[1]+m[1])]}function A(E){if(!E.length)return;var m=E[0],M=m.trace,w=M.aspectratio,i=M.baseratio;i>.999&&(i=.999);var C=Math.pow(i,2),y=m.vTotal,_=y*C/(1-C),I=y,N=_/y;function k(){var ne=Math.sqrt(N);return{x:ne,y:-ne}}function O(){var ne=k();return[ne.x,ne.y]}var z,F=[];F.push(O());var B,G;for(B=E.length-1;B>-1;B--)if(G=E[B],!G.hidden){var Q=G.v/I;N+=Q,F.push(O())}var ee=1/0,ae=-1/0;for(B=0;B<F.length;B++)z=F[B],ee=Math.min(ee,z[1]),ae=Math.max(ae,z[1]);for(B=0;B<F.length;B++)F[B][1]-=(ae+ee)/2;var fe=F[F.length-1][0],K=m.r,W=(ae-ee)/2,Z=K/fe,X=K/W*w;for(m.r=X*W,B=0;B<F.length;B++)F[B][0]*=Z,F[B][1]*=X;z=F[0];var $=[-z[0],z[1]],ie=[z[0],z[1]],J=0;for(B=E.length-1;B>-1;B--)if(G=E[B],!G.hidden){J+=1;var j=F[J][0],se=F[J][1];G.TL=[-j,se],G.TR=[j,se],G.BL=$,G.BR=ie,G.pxmid=S(G.TR,G.BR),$=G.TL,ie=G.TR}}},71858:function(H,U,e){var g=e(39898),P=e(63463),a=e(72597).resizeText;H.exports=function(T){var v=T._fullLayout._funnelarealayer.selectAll(".trace");a(T,v,"funnelarea"),v.each(function(d){var t=d[0],r=t.trace,u=g.select(this);u.style({opacity:r.opacity}),u.selectAll("path.surface").each(function(n){g.select(this).call(P,n,r,T)})})}},21606:function(H,U,e){var g=e(82196),P=e(9012),a=e(41940),L=e(12663).axisHoverFormat,T=e(5386).fF,v=e(5386).si,d=e(50693),t=e(1426).extendFlat;H.exports=t({z:{valType:"data_array",editType:"calc"},x:t({},g.x,{impliedEdits:{xtype:"array"}}),x0:t({},g.x0,{impliedEdits:{xtype:"scaled"}}),dx:t({},g.dx,{impliedEdits:{xtype:"scaled"}}),y:t({},g.y,{impliedEdits:{ytype:"array"}}),y0:t({},g.y0,{impliedEdits:{ytype:"scaled"}}),dy:t({},g.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:t({},g.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:t({},g.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:t({},g.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:t({},g.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:t({},g.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:t({},g.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:T(),texttemplate:v({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:a({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:t({},P.showlegend,{dflt:!1})},{transforms:void 0},d("",{cLetter:"z",autoColorDflt:!1}))},90757:function(H,U,e){var g=e(73972),P=e(71828),a=e(89298),L=e(42973),T=e(17562),v=e(78803),d=e(68296),t=e(4742),r=e(824),u=e(43907),n=e(70769),s=e(50606).BADNUM;H.exports=function(c,b){var h=a.getFromId(c,b.xaxis||"x"),o=a.getFromId(c,b.yaxis||"y"),p=g.traceIs(b,"contour"),S=g.traceIs(b,"histogram"),A=g.traceIs(b,"gl2d"),E=p?"best":b.zsmooth,m,M,w,i,C,y,_,I,N,k,O;if(h._minDtick=0,o._minDtick=0,S)O=T(c,b),i=O.orig_x,m=O.x,M=O.x0,w=O.dx,I=O.orig_y,C=O.y,y=O.y0,_=O.dy,N=O.z;else{var z=b.z;P.isArray1D(z)?(d(b,h,o,"x","y",["z"]),m=b._x,C=b._y,z=b._z):(i=b.x?h.makeCalcdata(b,"x"):[],I=b.y?o.makeCalcdata(b,"y"):[],m=L(b,h,"x",i).vals,C=L(b,o,"y",I).vals,b._x=m,b._y=C),M=b.x0,w=b.dx,y=b.y0,_=b.dy,N=t(z,b,h,o)}(h.rangebreaks||o.rangebreaks)&&(N=l(m,C,N),S||(m=f(m),C=f(C),b._x=m,b._y=C)),!S&&(p||b.connectgaps)&&(b._emptypoints=u(N),r(N,b._emptypoints));function F(Z){E=b._input.zsmooth=b.zsmooth=!1,P.warn('cannot use zsmooth: "fast": '+Z)}function B(Z){if(Z.length>1){var X=(Z[Z.length-1]-Z[0])/(Z.length-1),$=Math.abs(X/100);for(k=0;k<Z.length-1;k++)if(Math.abs(Z[k+1]-Z[k]-X)>$)return!1}return!0}b._islinear=!1,h.type==="log"||o.type==="log"?E==="fast"&&F("log axis found"):B(m)?B(C)?b._islinear=!0:E==="fast"&&F("y scale is not linear"):E==="fast"&&F("x scale is not linear");var G=P.maxRowLength(N),Q=b.xtype==="scaled"?"":m,ee=n(b,Q,M,w,G,h),ae=b.ytype==="scaled"?"":C,fe=n(b,ae,y,_,N.length,o);A||(b._extremes[h._id]=a.findExtremes(h,ee),b._extremes[o._id]=a.findExtremes(o,fe));var K={x:ee,y:fe,z:N,text:b._text||b.text,hovertext:b._hovertext||b.hovertext};if(b.xperiodalignment&&i&&(K.orig_x=i),b.yperiodalignment&&I&&(K.orig_y=I),Q&&Q.length===ee.length-1&&(K.xCenter=Q),ae&&ae.length===fe.length-1&&(K.yCenter=ae),S&&(K.xRanges=O.xRanges,K.yRanges=O.yRanges,K.pts=O.pts),p||v(c,b,{vals:N,cLetter:"z"}),p&&b.contours&&b.contours.coloring==="heatmap"){var W={type:b.type==="contour"?"heatmap":"histogram2d",xcalendar:b.xcalendar,ycalendar:b.ycalendar};K.xfill=n(W,Q,M,w,G,h),K.yfill=n(W,ae,y,_,N.length,o)}return[K]};function f(x){for(var c=[],b=x.length,h=0;h<b;h++){var o=x[h];o!==s&&c.push(o)}return c}function l(x,c,b){for(var h=[],o=-1,p=0;p<b.length;p++)if(c[p]!==s){o++,h[o]=[];for(var S=0;S<b[p].length;S++)x[S]!==s&&h[o].push(b[p][S])}return h}},4742:function(H,U,e){var g=e(92770),P=e(71828),a=e(50606).BADNUM;H.exports=function(T,v,d,t){var r,u,n,s,f,l;function x(S){if(g(S))return+S}if(v&&v.transpose){for(r=0,f=0;f<T.length;f++)r=Math.max(r,T[f].length);if(r===0)return!1;n=function(S){return S.length},s=function(S,A,E){return(S[E]||[])[A]}}else r=T.length,n=function(S,A){return S[A].length},s=function(S,A,E){return(S[A]||[])[E]};var c=function(S,A,E){return A===a||E===a?a:s(S,A,E)};function b(S){if(v&&v.type!=="carpet"&&v.type!=="contourcarpet"&&S&&S.type==="category"&&v["_"+S._id.charAt(0)].length){var A=S._id.charAt(0),E={},m=v["_"+A+"CategoryMap"]||v[A];for(f=0;f<m.length;f++)E[m[f]]=f;return function(M){var w=E[S._categories[M]];return w+1?w:a}}else return P.identity}var h=b(d),o=b(t);t&&t.type==="category"&&(r=t._categories.length);var p=new Array(r);for(f=0;f<r;f++)for(d&&d.type==="category"?u=d._categories.length:u=n(T,f),p[f]=new Array(u),l=0;l<u;l++)p[f][l]=x(c(T,o(f),h(l)));return p}},61243:function(H){H.exports={min:"zmin",max:"zmax"}},68296:function(H,U,e){var g=e(71828),P=e(50606).BADNUM,a=e(42973);H.exports=function(T,v,d,t,r,u){var n=T._length,s=v.makeCalcdata(T,t),f=d.makeCalcdata(T,r);s=a(T,v,t,s).vals,f=a(T,d,r,f).vals;var l=T.text,x=l!==void 0&&g.isArray1D(l),c=T.hovertext,b=c!==void 0&&g.isArray1D(c),h,o,p=g.distinctVals(s),S=p.vals,A=g.distinctVals(f),E=A.vals,m=[],M,w,i=E.length,C=S.length;for(h=0;h<u.length;h++)m[h]=g.init2dArray(i,C);x&&(M=g.init2dArray(i,C)),b&&(w=g.init2dArray(i,C));var y=g.init2dArray(i,C);for(h=0;h<n;h++)if(s[h]!==P&&f[h]!==P){var _=g.findBin(s[h]+p.minDiff/2,S),I=g.findBin(f[h]+A.minDiff/2,E);for(o=0;o<u.length;o++){var N=u[o],k=T[N],O=m[o];O[I][_]=k[h],y[I][_]=h}x&&(M[I][_]=l[h]),b&&(w[I][_]=c[h])}for(T["_"+t]=S,T["_"+r]=E,o=0;o<u.length;o++)T["_"+u[o]]=m[o];x&&(T._text=M),b&&(T._hovertext=w),v&&v.type==="category"&&(T["_"+t+"CategoryMap"]=S.map(function(z){return v._categories[z]})),d&&d.type==="category"&&(T["_"+r+"CategoryMap"]=E.map(function(z){return d._categories[z]})),T._after2before=y}},76382:function(H,U,e){var g=e(71828),P=e(67684),a=e(58623),L=e(73927),T=e(49901),v=e(1586),d=e(21606);H.exports=function(r,u,n,s){function f(x,c){return g.coerce(r,u,d,x,c)}var l=P(r,u,f,s);if(!l){u.visible=!1;return}L(r,u,s,f),f("xhoverformat"),f("yhoverformat"),f("text"),f("hovertext"),f("hovertemplate"),a(f,s),T(r,u,f,s),f("hoverongaps"),f("connectgaps",g.isArray1D(u.z)&&u.zsmooth!==!1),v(r,u,s,f,{prefix:"",cLetter:"z"})}},43907:function(H,U,e){var g=e(71828).maxRowLength;H.exports=function(a){var L=[],T={},v=[],d=a[0],t=[],r=[0,0,0],u=g(a),n,s,f,l,x,c,b,h;for(s=0;s<a.length;s++)for(n=t,t=d,d=a[s+1]||[],f=0;f<u;f++)t[f]===void 0&&(c=(t[f-1]!==void 0?1:0)+(t[f+1]!==void 0?1:0)+(n[f]!==void 0?1:0)+(d[f]!==void 0?1:0),c?(s===0&&c++,f===0&&c++,s===a.length-1&&c++,f===t.length-1&&c++,c<4&&(T[[s,f]]=[s,f,c]),L.push([s,f,c])):v.push([s,f]));for(;v.length;){for(b={},h=!1,x=v.length-1;x>=0;x--)l=v[x],s=l[0],f=l[1],c=((T[[s-1,f]]||r)[2]+(T[[s+1,f]]||r)[2]+(T[[s,f-1]]||r)[2]+(T[[s,f+1]]||r)[2])/20,c&&(b[l]=[s,f,c],v.splice(x,1),h=!0);if(!h)throw"findEmpties iterated with no new neighbors";for(l in b)T[l]=b[l],L.push(b[l])}return L.sort(function(o,p){return p[2]-o[2]})}},46248:function(H,U,e){var g=e(30211),P=e(71828),a=e(89298),L=e(21081).extractOpts;H.exports=function(v,d,t,r,u){u||(u={});var n=u.isContour,s=v.cd[0],f=s.trace,l=v.xa,x=v.ya,c=s.x,b=s.y,h=s.z,o=s.xCenter,p=s.yCenter,S=s.zmask,A=f.zhoverformat,E=c,m=b,M,w,i,C;if(v.index!==!1){try{i=Math.round(v.index[1]),C=Math.round(v.index[0])}catch{P.error("Error hovering on heatmap, pointNumber must be [row,col], found:",v.index);return}if(i<0||i>=h[0].length||C<0||C>h.length)return}else{if(g.inbox(d-c[0],d-c[c.length-1],0)>0||g.inbox(t-b[0],t-b[b.length-1],0)>0)return;if(n){var y;for(E=[2*c[0]-c[1]],y=1;y<c.length;y++)E.push((c[y]+c[y-1])/2);for(E.push([2*c[c.length-1]-c[c.length-2]]),m=[2*b[0]-b[1]],y=1;y<b.length;y++)m.push((b[y]+b[y-1])/2);m.push([2*b[b.length-1]-b[b.length-2]])}i=Math.max(0,Math.min(E.length-2,P.findBin(d,E))),C=Math.max(0,Math.min(m.length-2,P.findBin(t,m)))}var _=l.c2p(c[i]),I=l.c2p(c[i+1]),N=x.c2p(b[C]),k=x.c2p(b[C+1]),O,z;n?(O=s.orig_x||c,z=s.orig_y||b,I=_,M=O[i],k=N,w=z[C]):(O=s.orig_x||o||c,z=s.orig_y||p||b,M=o?O[i]:(O[i]+O[i+1])/2,w=p?z[C]:(z[C]+z[C+1])/2,l&&l.type==="category"&&(M=c[i]),x&&x.type==="category"&&(w=b[C]),f.zsmooth&&(_=I=l.c2p(M),N=k=x.c2p(w)));var F=h[C][i];if(S&&!S[C][i]&&(F=void 0),!(F===void 0&&!f.hoverongaps)){var B;Array.isArray(s.hovertext)&&Array.isArray(s.hovertext[C])?B=s.hovertext[C][i]:Array.isArray(s.text)&&Array.isArray(s.text[C])&&(B=s.text[C][i]);var G=L(f),Q={type:"linear",range:[G.min,G.max],hoverformat:A,_separators:l._separators,_numFormat:l._numFormat},ee=a.tickText(Q,F,"hover").text;return[P.extendFlat(v,{index:f._after2before?f._after2before[C][i]:[C,i],distance:v.maxHoverDistance,spikeDistance:v.maxSpikeDistance,x0:_,x1:I,y0:N,y1:k,xLabelVal:M,yLabelVal:w,zLabelVal:F,zLabel:ee,text:B})]}}},92165:function(H,U,e){H.exports={attributes:e(21606),supplyDefaults:e(76382),calc:e(90757),plot:e(50347),colorbar:e(61243),style:e(70035),hoverPoints:e(46248),moduleType:"trace",name:"heatmap",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},824:function(H,U,e){var g=e(71828),P=.01,a=[[-1,0],[1,0],[0,-1],[0,1]];function L(v){return .5-.25*Math.min(1,v*.5)}H.exports=function(d,t){var r=1,u;for(T(d,t),u=0;u<t.length&&!(t[u][2]<4);u++);for(t=t.slice(u),u=0;u<100&&r>P;u++)r=T(d,t,L(r));return r>P&&g.log("interp2d didn't converge quickly",r),d};function T(v,d,t){var r=0,u,n,s,f,l,x,c,b,h,o,p,S,A;for(f=0;f<d.length;f++){for(u=d[f],n=u[0],s=u[1],p=v[n][s],o=0,h=0,l=0;l<4;l++)x=a[l],c=v[n+x[0]],c&&(b=c[s+x[1]],b!==void 0&&(o===0?S=A=b:(S=Math.min(S,b),A=Math.max(A,b)),h++,o+=b));if(h===0)throw"iterateInterp2d order is wrong: no defined neighbors";v[n][s]=o/h,p===void 0?h<4&&(r=1):(v[n][s]=(1+t)*v[n][s]-t*p,A>S&&(r=Math.max(r,Math.abs(v[n][s]-p)/(A-S))))}return r}},58623:function(H,U,e){var g=e(71828);H.exports=function(a,L){a("texttemplate");var T=g.extendFlat({},L.font,{color:"auto",size:"auto"});g.coerceFont(a,"textfont",T)}},70769:function(H,U,e){var g=e(73972),P=e(71828).isArrayOrTypedArray;H.exports=function(L,T,v,d,t,r){var u=[],n=g.traceIs(L,"contour"),s=g.traceIs(L,"histogram"),f=g.traceIs(L,"gl2d"),l,x,c,b=P(T)&&T.length>1;if(b&&!s&&r.type!=="category"){var h=T.length;if(h<=t){if(n||f)u=T.slice(0,t);else if(t===1)u=[T[0]-.5,T[0]+.5];else{for(u=[1.5*T[0]-.5*T[1]],c=1;c<h;c++)u.push((T[c-1]+T[c])*.5);u.push(1.5*T[h-1]-.5*T[h-2])}if(h<t){var o=u[u.length-1],p=o-u[u.length-2];for(c=h;c<t;c++)o+=p,u.push(o)}}else return n?T.slice(0,t):T.slice(0,t+1)}else{var S=L[r._id.charAt(0)+"calendar"];if(s)l=r.r2c(v,0,S);else if(P(T)&&T.length===1)l=T[0];else if(v===void 0)l=0;else{var A=r.type==="log"?r.d2c:r.r2c;l=A(v,0,S)}for(x=d||1,c=n||f?0:-.5;c<t;c++)u.push(l+x*c)}return u}},50347:function(H,U,e){var g=e(39898),P=e(84267),a=e(73972),L=e(91424),T=e(89298),v=e(71828),d=e(63893),t=e(8225),r=e(7901),u=e(21081).extractOpts,n=e(21081).makeColorScaleFuncFromTrace,s=e(77922),f=e(18783),l=f.LINE_SPACING,x=e(3883),c=e(32396).STYLE,b="heatmap-label";function h(E){return E.selectAll("g."+b)}function o(E){h(E).remove()}H.exports=function(E,m,M,w){var i=m.xaxis,C=m.yaxis;v.makeTraceGroups(w,M,"hm").each(function(y){var _=g.select(this),I=y[0],N=I.trace,k=N.xgap||0,O=N.ygap||0,z=I.z,F=I.x,B=I.y,G=I.xCenter,Q=I.yCenter,ee=a.traceIs(N,"contour"),ae=ee?"best":N.zsmooth,fe=z.length,K=v.maxRowLength(z),W=!1,Z=!1,X,$,ie,J,j,se,ne,ue;for(se=0;X===void 0&&se<F.length-1;)X=i.c2p(F[se]),se++;for(se=F.length-1;$===void 0&&se>0;)$=i.c2p(F[se]),se--;for($<X&&(ie=$,$=X,X=ie,W=!0),se=0;J===void 0&&se<B.length-1;)J=C.c2p(B[se]),se++;for(se=B.length-1;j===void 0&&se>0;)j=C.c2p(B[se]),se--;j<J&&(ie=J,J=j,j=ie,Z=!0),ee&&(G=F,Q=B,F=I.xfill,B=I.yfill);var ge="default";if(ae?ge=ae==="best"?"smooth":"fast":N._islinear&&k===0&&O===0&&x()&&(ge="fast"),ge!=="fast"){var we=ae==="best"?0:.5;X=Math.max(-we*i._length,X),$=Math.min((1+we)*i._length,$),J=Math.max(-we*C._length,J),j=Math.min((1+we)*C._length,j)}var xe=Math.round($-X),Fe=Math.round(j-J),ze=X>=i._length||$<=0||J>=C._length||j<=0;if(ze){var Te=_.selectAll("image").data([]);Te.exit().remove(),o(_);return}var ye,Ae;ge==="fast"?(ye=K,Ae=fe):(ye=xe,Ae=Fe);var Ne=document.createElement("canvas");Ne.width=ye,Ne.height=Ae;var Ue=Ne.getContext("2d"),Re=n(N,{noNumericCheck:!0,returnArray:!0}),Ve,rt;ge==="fast"?(Ve=W?function(un){return K-1-un}:v.identity,rt=Z?function(un){return fe-1-un}:v.identity):(Ve=function(un){return v.constrain(Math.round(i.c2p(F[un])-X),0,xe)},rt=function(un){return v.constrain(Math.round(C.c2p(B[un])-J),0,Fe)});var Qe=rt(0),Je=[Qe,Qe],qe=W?0:1,dt=Z?0:1,pt=0,mt=0,Ct=0,Rt=0,Zt,Xe,Le,Pe,ke;function Ce(un,mn){if(un!==void 0){var pn=Re(un);return pn[0]=Math.round(pn[0]),pn[1]=Math.round(pn[1]),pn[2]=Math.round(pn[2]),pt+=mn,mt+=pn[0]*mn,Ct+=pn[1]*mn,Rt+=pn[2]*mn,pn}return[0,0,0,0]}function me(un,mn,pn,Rn){var Un=un[pn.bin0];if(Un===void 0)return Ce(void 0,1);var oa=un[pn.bin1],ua=mn[pn.bin0],xa=mn[pn.bin1],va=oa-Un||0,ca=ua-Un||0,Pr;return oa===void 0?xa===void 0?Pr=0:ua===void 0?Pr=2*(xa-Un):Pr=(2*xa-ua-Un)*2/3:xa===void 0?ua===void 0?Pr=0:Pr=(2*Un-oa-ua)*2/3:ua===void 0?Pr=(2*xa-oa-Un)*2/3:Pr=xa+Un-oa-ua,Ce(Un+pn.frac*va+Rn.frac*(ca+pn.frac*Pr))}if(ge!=="default"){var oe=0,pe;try{pe=new Uint8Array(ye*Ae*4)}catch{pe=new Array(ye*Ae*4)}if(ge==="smooth"){var Me=G||F,_e=Q||B,tt=new Array(Me.length),at=new Array(_e.length),At=new Array(xe),Ft=G?S:p,Gt=Q?S:p,Yt,Dt,$t;for(se=0;se<Me.length;se++)tt[se]=Math.round(i.c2p(Me[se])-X);for(se=0;se<_e.length;se++)at[se]=Math.round(C.c2p(_e[se])-J);for(se=0;se<xe;se++)At[se]=Ft(se,tt);for(ne=0;ne<Fe;ne++)for(Yt=Gt(ne,at),Dt=z[Yt.bin0],$t=z[Yt.bin1],se=0;se<xe;se++,oe+=4)ke=me(Dt,$t,At[se],Yt),A(pe,oe,ke)}else for(ne=0;ne<fe;ne++)for(Pe=z[ne],Je=rt(ne),se=0;se<K;se++)ke=Ce(Pe[se],1),oe=(Je*K+Ve(se))*4,A(pe,oe,ke);var lr=Ue.createImageData(ye,Ae);try{lr.data.set(pe)}catch{var Hr=lr.data,xt=Hr.length;for(ne=0;ne<xt;ne++)Hr[ne]=pe[ne]}Ue.putImageData(lr,0,0)}else{var Qt=Math.floor(k/2),jt=Math.floor(O/2);for(ne=0;ne<fe;ne++)if(Pe=z[ne],Je.reverse(),Je[dt]=rt(ne+1),!(Je[0]===Je[1]||Je[0]===void 0||Je[1]===void 0))for(Xe=Ve(0),Zt=[Xe,Xe],se=0;se<K;se++)Zt.reverse(),Zt[qe]=Ve(se+1),!(Zt[0]===Zt[1]||Zt[0]===void 0||Zt[1]===void 0)&&(Le=Pe[se],ke=Ce(Le,(Zt[1]-Zt[0])*(Je[1]-Je[0])),Ue.fillStyle="rgba("+ke.join(",")+")",Ue.fillRect(Zt[0]+Qt,Je[0]+jt,Zt[1]-Zt[0]-k,Je[1]-Je[0]-O))}mt=Math.round(mt/pt),Ct=Math.round(Ct/pt),Rt=Math.round(Rt/pt);var Sr=P("rgb("+mt+","+Ct+","+Rt+")");E._hmpixcount=(E._hmpixcount||0)+pt,E._hmlumcount=(E._hmlumcount||0)+pt*Sr.getLuminance();var gr=_.selectAll("image").data(y);gr.enter().append("svg:image").attr({xmlns:s.svg,preserveAspectRatio:"none"}),gr.attr({height:Fe,width:xe,x:X,y:J,"xlink:href":Ne.toDataURL("image/png")}),ge==="fast"&&!ae&&gr.attr("style",c),o(_);var ut=N.texttemplate;if(ut){var st=u(N),bt={type:"linear",range:[st.min,st.max],_separators:i._separators,_numFormat:i._numFormat},St=N.type==="histogram2dcontour",Pt=N.type==="contour",Et=Pt?1:0,Bt=Pt?fe-1:fe,Wt=Pt?1:0,tr=Pt?K-1:K,er=[];for(se=Et;se<Bt;se++){var ur;if(Pt)ur=I.y[se];else if(St){if(se===0||se===fe-1)continue;ur=I.y[se]}else if(I.yCenter)ur=I.yCenter[se];else{if(se+1===fe&&I.y[se+1]===void 0)continue;ur=(I.y[se]+I.y[se+1])/2}var kr=Math.round(C.c2p(ur));if(!(0>kr||kr>C._length))for(ne=Wt;ne<tr;ne++){var We;if(Pt)We=I.x[ne];else if(St){if(ne===0||ne===K-1)continue;We=I.x[ne]}else if(I.xCenter)We=I.xCenter[ne];else{if(ne+1===K&&I.x[ne+1]===void 0)continue;We=(I.x[ne]+I.x[ne+1])/2}var Ge=Math.round(i.c2p(We));if(!(0>Ge||Ge>i._length)){var _t=t({x:We,y:ur},N,E._fullLayout);_t.x=We,_t.y=ur;var Ot=I.z[se][ne];Ot===void 0?(_t.z="",_t.zLabel=""):(_t.z=Ot,_t.zLabel=T.tickText(bt,Ot,"hover").text);var Kt=I.text&&I.text[se]&&I.text[se][ne];(Kt===void 0||Kt===!1)&&(Kt=""),_t.text=Kt;var or=v.texttemplateString(ut,_t,E._fullLayout._d3locale,_t,N._meta||{});if(or){var hr=or.split("<br>"),ir=hr.length,Nt=0;for(ue=0;ue<ir;ue++)Nt=Math.max(Nt,hr[ue].length);er.push({l:ir,c:Nt,t:or,x:Ge,y:kr,z:Ot})}}}}var vr=N.textfont,mr=vr.family,xr=vr.size,yr=E._fullLayout.font.size;if(!xr||xr==="auto"){var Kr=1/0,Nr=1/0,Ur=0,Tn=0;for(ue=0;ue<er.length;ue++){var rn=er[ue];if(Ur=Math.max(Ur,rn.l),Tn=Math.max(Tn,rn.c),ue<er.length-1){var Gn=er[ue+1],Hn=Math.abs(Gn.x-rn.x),Ar=Math.abs(Gn.y-rn.y);Hn&&(Kr=Math.min(Kr,Hn)),Ar&&(Nr=Math.min(Nr,Ar))}}!isFinite(Kr)||!isFinite(Nr)?xr=yr:(Kr-=k,Nr-=O,Kr/=Tn,Nr/=Ur,Kr/=l/2,Nr/=l,xr=Math.min(Math.floor(Kr),Math.floor(Nr),yr))}if(xr<=0||!isFinite(xr))return;var Cr=function(un){return un.x},Yr=function(un){return un.y-xr*(un.l*l/2-1)},Zr=h(_).data(er);Zr.enter().append("g").classed(b,1).append("text").attr("text-anchor","middle").each(function(un){var mn=g.select(this),pn=vr.color;(!pn||pn==="auto")&&(pn=r.contrast("rgba("+Re(un.z).join()+")")),mn.attr("data-notex",1).call(d.positionText,Cr(un),Yr(un)).call(L.font,mr,xr,pn).text(un.t).call(d.convertToTspans,E)})}})};function p(E,m){var M=m.length-2,w=v.constrain(v.findBin(E,m),0,M),i=m[w],C=m[w+1],y=v.constrain(w+(E-i)/(C-i)-.5,0,M),_=Math.round(y),I=Math.abs(y-_);return!y||y===M||!I?{bin0:_,bin1:_,frac:0}:{bin0:_,frac:I,bin1:Math.round(_+I/(y-_))}}function S(E,m){var M=m.length-1,w=v.constrain(v.findBin(E,m),0,M),i=m[w],C=m[w+1],y=(E-i)/(C-i)||0;return y<=0?{bin0:w,bin1:w,frac:0}:y<.5?{bin0:w,bin1:w+1,frac:y}:{bin0:w+1,bin1:w,frac:1-y}}function A(E,m,M){E[m]=M[0],E[m+1]=M[1],E[m+2]=M[2],E[m+3]=Math.round(M[3]*255)}},70035:function(H,U,e){var g=e(39898);H.exports=function(a){g.select(a).selectAll(".hm image").style("opacity",function(L){return L.trace.opacity})}},49901:function(H){H.exports=function(e,g,P){var a=P("zsmooth");a===!1&&(P("xgap"),P("ygap")),P("zhoverformat")}},67684:function(H,U,e){var g=e(92770),P=e(71828),a=e(73972);H.exports=function(d,t,r,u,n,s){var f=r("z");n=n||"x",s=s||"y";var l,x;if(f===void 0||!f.length)return 0;if(P.isArray1D(d.z)){l=r(n),x=r(s);var c=P.minRowLength(l),b=P.minRowLength(x);if(c===0||b===0)return 0;t._length=Math.min(c,b,f.length)}else{if(l=L(n,r),x=L(s,r),!T(f))return 0;r("transpose"),t._length=null}if(d.type==="heatmapgl")return!0;var h=a.getComponentMethod("calendars","handleTraceDefaults");return h(d,t,[n,s],u),!0};function L(v,d){var t=d(v),r=t?d(v+"type","array"):"scaled";return r==="scaled"&&(d(v+"0"),d("d"+v)),t}function T(v){for(var d=!0,t=!1,r=!1,u,n=0;n<v.length;n++){if(u=v[n],!P.isArrayOrTypedArray(u)){d=!1;break}u.length>0&&(t=!0);for(var s=0;s<u.length;s++)if(g(u[s])){r=!0;break}}return d&&t&&r}},16063:function(H,U,e){for(var g=e(21606),P=e(50693),a=e(1426).extendFlat,L=e(30962).overrideAll,T=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],v={},d=0;d<T.length;d++){var t=T[d];v[t]=g[t]}v.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},a(v,P("",{cLetter:"z",autoColorDflt:!1})),H.exports=L(v,"calc","nested")},59560:function(H,U,e){var g=e(9330).gl_heatmap2d,P=e(89298),a=e(78614);function L(t,r){this.scene=t,this.uid=r,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=g(t.glplot,this.options),this.heatmap._trace=this}var T=L.prototype;T.handlePick=function(t){var r=this.options,u=r.shape,n=t.pointId,s=n%u[0],f=Math.floor(n/u[0]),l=n;return{trace:this,dataCoord:t.dataCoord,traceCoord:[r.x[s],r.y[f],r.z[l]],textLabel:this.textLabels[n],name:this.name,pointIndex:[f,s],hoverinfo:this.hoverinfo}},T.update=function(t,r){var u=r[0];this.index=t.index,this.name=t.name,this.hoverinfo=t.hoverinfo;var n=u.z;this.options.z=[].concat.apply([],n);var s=n[0].length,f=n.length;this.options.shape=[s,f],this.options.x=u.x,this.options.y=u.y,this.options.zsmooth=t.zsmooth;var l=v(t);this.options.colorLevels=l.colorLevels,this.options.colorValues=l.colorValues,this.textLabels=[].concat.apply([],t.text),this.heatmap.update(this.options);var x=this.scene.xaxis,c=this.scene.yaxis,b,h;t.zsmooth===!1&&(b={ppad:u.x[1]-u.x[0]},h={ppad:u.y[1]-u.y[0]}),t._extremes[x._id]=P.findExtremes(x,u.x,b),t._extremes[c._id]=P.findExtremes(c,u.y,h)},T.dispose=function(){this.heatmap.dispose()};function v(t){for(var r=t.colorscale,u=t.zmin,n=t.zmax,s=r.length,f=new Array(s),l=new Array(4*s),x=0;x<s;x++){var c=r[x],b=a(c[1]);f[x]=u+c[0]*(n-u);for(var h=0;h<4;h++)l[4*x+h]=b[h]}return{colorLevels:f,colorValues:l}}function d(t,r,u){var n=new L(t,r.uid);return n.update(r,u),n}H.exports=d},19600:function(H,U,e){var g=e(71828),P=e(67684),a=e(1586),L=e(16063);H.exports=function(v,d,t,r){function u(s,f){return g.coerce(v,d,L,s,f)}var n=P(v,d,u,r);if(!n){d.visible=!1;return}u("text"),u("zsmooth"),a(v,d,r,u,{prefix:"",cLetter:"z"})}},3325:function(H,U,e){H.exports={attributes:e(16063),supplyDefaults:e(19600),colorbar:e(61243),calc:e(90757),plot:e(59560),moduleType:"trace",name:"heatmapgl",basePlotModule:e(4796),categories:["gl","gl2d","2dMap"],meta:{}}},7745:function(H,U,e){var g=e(1486),P=e(12663).axisHoverFormat,a=e(5386).fF,L=e(5386).si,T=e(41940),v=e(17656),d=e(72406),t=e(1426).extendFlat;H.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:P("x"),yhoverformat:P("y"),text:t({},g.text,{}),hovertext:t({},g.hovertext,{}),orientation:g.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:v("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:v("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({},{keys:d.eventDataKeys}),texttemplate:L({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:t({},g.textposition,{arrayOk:!1}),textfont:T({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:T({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:T({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:g.insidetextanchor,textangle:g.textangle,cliponaxis:g.cliponaxis,constraintext:g.constraintext,marker:g.marker,offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:g.selected,unselected:g.unselected,_deprecated:{bardir:g._deprecated.bardir}}},42174:function(H){H.exports=function(e,g){for(var P=e.length,a=0,L=0;L<P;L++)g[L]?(e[L]/=g[L],a+=e[L]):e[L]=null;return a}},17656:function(H){H.exports=function(e,g){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},59575:function(H,U,e){var g=e(92770);H.exports={count:function(P,a,L){return L[P]++,1},sum:function(P,a,L,T){var v=T[a];return g(v)?(v=Number(v),L[P]+=v,v):0},avg:function(P,a,L,T,v){var d=T[a];return g(d)&&(d=Number(d),L[P]+=d,v[P]++),0},min:function(P,a,L,T){var v=T[a];if(g(v))if(v=Number(v),g(L[P])){if(L[P]>v){var d=v-L[P];return L[P]=v,d}}else return L[P]=v,v;return 0},max:function(P,a,L,T){var v=T[a];if(g(v))if(v=Number(v),g(L[P])){if(L[P]<v){var d=v-L[P];return L[P]=v,d}}else return L[P]=v,v;return 0}}},40965:function(H,U,e){var g=e(50606),P=g.ONEAVGYEAR,a=g.ONEAVGMONTH,L=g.ONEDAY,T=g.ONEHOUR,v=g.ONEMIN,d=g.ONESEC,t=e(89298).tickIncrement;H.exports=function(l,x,c,b,h){var o=-1.1*x,p=-.1*x,S=l-p,A=c[0],E=c[1],m=Math.min(r(A+p,A+S,b,h),r(E+p,E+S,b,h)),M=Math.min(r(A+o,A+p,b,h),r(E+o,E+p,b,h)),w,i;if(m>M&&M<Math.abs(E-A)/4e3?(w=m,i=!1):(w=Math.min(m,M),i=!0),b.type==="date"&&w>L){var C=w===P?1:6,y=w===P?"M12":"M1";return function(_,I){var N=b.c2d(_,P,h),k=N.indexOf("-",C);k>0&&(N=N.substr(0,k));var O=b.d2c(N,0,h);if(O<_){var z=t(O,y,!1,h);(O+z)/2<_+l&&(O=z)}return I&&i?t(O,y,!0,h):O}}return function(_,I){var N=w*Math.round(_/w);return N+w/10<_&&N+w*.9<_+l&&(N+=w),I&&i&&(N-=w),N}};function r(f,l,x,c){if(f*l<=0)return 1/0;for(var b=Math.abs(l-f),h=x.type==="date",o=u(b,h),p=0;p<10;p++){var S=u(o*80,h);if(o===S)break;if(n(S,f,l,h,x,c))o=S;else break}return o}function u(f,l){return l&&f>d?f>L?f>P*1.1?P:f>a*1.1?a:L:f>T?T:f>v?v:d:Math.pow(10,Math.floor(Math.log(f)/Math.LN10))}function n(f,l,x,c,b,h){if(c&&f>L){var o=s(l,b,h),p=s(x,b,h),S=f===P?0:1;return o[S]!==p[S]}return Math.floor(x/f)-Math.floor(l/f)>.1}function s(f,l,x){var c=l.c2d(f,P,x).split("-");return c[0]===""&&(c.unshift(),c[0]="-"+c[0]),c}},72138:function(H,U,e){var g=e(92770),P=e(71828),a=e(73972),L=e(89298),T=e(75341),v=e(59575),d=e(36362),t=e(42174),r=e(40965);function u(x,c){var b=[],h=[],o=c.orientation==="h",p=L.getFromId(x,o?c.yaxis:c.xaxis),S=o?"y":"x",A={x:"y",y:"x"}[S],E=c[S+"calendar"],m=c.cumulative,M,w=n(x,c,p,S),i=w[0],C=w[1],y=typeof i.size=="string",_=[],I=y?_:i,N=[],k=[],O=[],z=0,F=c.histnorm,B=c.histfunc,G=F.indexOf("density")!==-1,Q,ee,ae;m.enabled&&G&&(F=F.replace(/ ?density$/,""),G=!1);var fe=B==="max"||B==="min",K=fe?null:0,W=v.count,Z=d[F],X=!1,$=function(Ue){return p.r2c(Ue,0,E)},ie;for(P.isArrayOrTypedArray(c[A])&&B!=="count"&&(ie=c[A],X=B==="avg",W=v[B]),M=$(i.start),ee=$(i.end)+(M-L.tickIncrement(M,i.size,!1,E))/1e6;M<ee&&b.length<1e6&&(Q=L.tickIncrement(M,i.size,!1,E),b.push((M+Q)/2),h.push(K),O.push([]),_.push(M),G&&N.push(1/(Q-M)),X&&k.push(0),!(Q<=M));)M=Q;_.push(M),!y&&p.type==="date"&&(I={start:$(I.start),end:$(I.end),size:I.size}),x._fullLayout._roundFnOpts||(x._fullLayout._roundFnOpts={});var J=c["_"+S+"bingroup"],j={leftGap:1/0,rightGap:1/0};J&&(x._fullLayout._roundFnOpts[J]||(x._fullLayout._roundFnOpts[J]=j),j=x._fullLayout._roundFnOpts[J]);var se=h.length,ne=!0,ue=j.leftGap,ge=j.rightGap,we={};for(M=0;M<C.length;M++){var xe=C[M];ae=P.findBin(xe,I),ae>=0&&ae<se&&(z+=W(ae,M,h,ie,k),ne&&O[ae].length&&xe!==C[O[ae][0]]&&(ne=!1),O[ae].push(M),we[M]=ae,ue=Math.min(ue,xe-_[ae]),ge=Math.min(ge,_[ae+1]-xe))}j.leftGap=ue,j.rightGap=ge;var Fe;ne||(Fe=function(Ue,Re){return function(){var Ve=x._fullLayout._roundFnOpts[J];return r(Ve.leftGap,Ve.rightGap,_,p,E)(Ue,Re)}}),X&&(z=t(h,k)),Z&&Z(h,z,N),m.enabled&&l(h,m.direction,m.currentbin);var ze=Math.min(b.length,h.length),Te=[],ye=0,Ae=ze-1;for(M=0;M<ze;M++)if(h[M]){ye=M;break}for(M=ze-1;M>=ye;M--)if(h[M]){Ae=M;break}for(M=ye;M<=Ae;M++)if(g(b[M])&&g(h[M])){var Ne={p:b[M],s:h[M],b:0};m.enabled||(Ne.pts=O[M],ne?Ne.ph0=Ne.ph1=O[M].length?C[O[M][0]]:b[M]:(c._computePh=!0,Ne.ph0=Fe(_[M]),Ne.ph1=Fe(_[M+1],!0))),Te.push(Ne)}return Te.length===1&&(Te[0].width1=L.tickIncrement(Te[0].p,i.size,!1,E)-Te[0].p),T(Te,c),P.isArrayOrTypedArray(c.selectedpoints)&&P.tagSelected(Te,c,we),Te}function n(x,c,b,h,o){var p=h+"bins",S=x._fullLayout,A=c["_"+h+"bingroup"],E=S._histogramBinOpts[A],m=S.barmode==="overlay",M,w,i,C,y,_,I,N=function(xe){return b.r2c(xe,0,C)},k=function(xe){return b.c2r(xe,0,C)},O=b.type==="date"?function(xe){return xe||xe===0?P.cleanDate(xe,null,C):null}:function(xe){return g(xe)?Number(xe):null};function z(xe,Fe,ze){Fe[xe+"Found"]?(Fe[xe]=O(Fe[xe]),Fe[xe]===null&&(Fe[xe]=ze[xe])):(_[xe]=Fe[xe]=ze[xe],P.nestedProperty(w[0],p+"."+xe).set(ze[xe]))}if(c["_"+h+"autoBinFinished"])delete c["_"+h+"autoBinFinished"];else{w=E.traces;var F=[],B=!0,G=!1,Q=!1;for(M=0;M<w.length;M++)if(i=w[M],i.visible){var ee=E.dirs[M];y=i["_"+ee+"pos0"]=b.makeCalcdata(i,ee),F=P.concat(F,y),delete i["_"+h+"autoBinFinished"],c.visible===!0&&(B?B=!1:(delete i._autoBin,i["_"+h+"autoBinFinished"]=1),a.traceIs(i,"2dMap")&&(G=!0),i.type==="histogram2dcontour"&&(Q=!0))}C=w[0][h+"calendar"];var ae=L.autoBin(F,b,E.nbins,G,C,E.sizeFound&&E.size),fe=w[0]._autoBin={};if(_=fe[E.dirs[0]]={},Q&&(E.size||(ae.start=k(L.tickIncrement(N(ae.start),ae.size,!0,C))),E.end===void 0&&(ae.end=k(L.tickIncrement(N(ae.end),ae.size,!1,C)))),m&&!a.traceIs(c,"2dMap")&&ae._dataSpan===0&&b.type!=="category"&&b.type!=="multicategory"){if(o)return[ae,y,!0];ae=s(x,c,b,h,p)}I=i.cumulative||{},I.enabled&&I.currentbin!=="include"&&(I.direction==="decreasing"?ae.start=k(L.tickIncrement(N(ae.start),ae.size,!0,C)):ae.end=k(L.tickIncrement(N(ae.end),ae.size,!1,C))),E.size=ae.size,E.sizeFound||(_.size=ae.size,P.nestedProperty(w[0],p+".size").set(ae.size)),z("start",E,ae),z("end",E,ae)}y=c["_"+h+"pos0"],delete c["_"+h+"pos0"];var K=c._input[p]||{},W=P.extendFlat({},E),Z=E.start,X=b.r2l(K.start),$=X!==void 0;if((E.startFound||$)&&X!==b.r2l(Z)){var ie=$?X:P.aggNums(Math.min,null,y),J={type:b.type==="category"||b.type==="multicategory"?"linear":b.type,r2l:b.r2l,dtick:E.size,tick0:Z,calendar:C,range:[ie,L.tickIncrement(ie,E.size,!1,C)].map(b.l2r)},j=L.tickFirst(J);j>b.r2l(ie)&&(j=L.tickIncrement(j,E.size,!0,C)),W.start=b.l2r(j),$||P.nestedProperty(c,p+".start").set(W.start)}var se=E.end,ne=b.r2l(K.end),ue=ne!==void 0;if((E.endFound||ue)&&ne!==b.r2l(se)){var ge=ue?ne:P.aggNums(Math.max,null,y);W.end=b.l2r(ge),ue||P.nestedProperty(c,p+".start").set(W.end)}var we="autobin"+h;return c._input[we]===!1&&(c._input[p]=P.extendFlat({},c[p]||{}),delete c._input[we],delete c[we]),[W,y]}function s(x,c,b,h,o){var p=x._fullLayout,S=f(x,c),A=!1,E=1/0,m=[c],M,w,i;for(M=0;M<S.length;M++)if(w=S[M],w===c)A=!0;else if(!A)i=p._histogramBinOpts[w["_"+h+"bingroup"]],E=Math.min(E,i.size||w[o].size);else{var C=n(x,w,b,h,!0),y=C[0],_=C[2];w["_"+h+"autoBinFinished"]=1,w["_"+h+"pos0"]=C[1],_?m.push(w):E=Math.min(E,y.size)}var I=new Array(m.length);for(M=0;M<m.length;M++)for(var N=m[M]["_"+h+"pos0"],k=0;k<N.length;k++)if(N[k]!==void 0){I[M]=N[k];break}for(isFinite(E)||(E=P.distinctVals(I).minDiff),M=0;M<m.length;M++){w=m[M];var O=w[h+"calendar"],z={start:b.c2r(I[M]-E/2,0,O),end:b.c2r(I[M]+E/2,0,O),size:E};w._input[o]=w[o]=z,i=p._histogramBinOpts[w["_"+h+"bingroup"]],i&&P.extendFlat(i,z)}return c[o]}function f(x,c){for(var b=c.xaxis,h=c.yaxis,o=c.orientation,p=[],S=x._fullData,A=0;A<S.length;A++){var E=S[A];E.type==="histogram"&&E.visible===!0&&E.orientation===o&&E.xaxis===b&&E.yaxis===h&&p.push(E)}return p}function l(x,c,b){var h,o,p;function S(E){p=x[E],x[E]/=2}function A(E){o=x[E],x[E]=p+o/2,p+=o}if(b==="half")if(c==="increasing")for(S(0),h=1;h<x.length;h++)A(h);else for(S(x.length-1),h=x.length-2;h>=0;h--)A(h);else if(c==="increasing"){for(h=1;h<x.length;h++)x[h]+=x[h-1];b==="exclude"&&(x.unshift(0),x.pop())}else{for(h=x.length-2;h>=0;h--)x[h]+=x[h+1];b==="exclude"&&(x.push(0),x.shift())}}H.exports={calc:u,calcAllAutoBins:n}},72406:function(H){H.exports={eventDataKeys:["binNumber"]}},82222:function(H,U,e){var g=e(71828),P=e(41675),a=e(73972).traceIs,L=e(26125),T=g.nestedProperty,v=e(99082).getAxisGroup,d=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];H.exports=function(u,n){var s=n._histogramBinOpts={},f=[],l={},x=[],c,b,h,o,p,S,A;function E(Q,ee){return g.coerce(c._input,c,c._module.attributes,Q,ee)}function m(Q){return Q.orientation==="v"?"x":"y"}function M(Q,ee){var ae=P.getFromTrace({_fullLayout:n},Q,ee);return ae.type}function w(Q,ee,ae){var fe=Q.uid+"__"+ae;ee||(ee=fe);var K=M(Q,ae),W=Q[ae+"calendar"]||"",Z=s[ee],X=!0;Z&&(K===Z.axType&&W===Z.calendar?(X=!1,Z.traces.push(Q),Z.dirs.push(ae)):(ee=fe,K!==Z.axType&&g.warn(["Attempted to group the bins of trace",Q.index,"set on a","type:"+K,"axis","with bins on","type:"+Z.axType,"axis."].join(" ")),W!==Z.calendar&&g.warn(["Attempted to group the bins of trace",Q.index,"set with a",W,"calendar","with bins",Z.calendar?"on a "+Z.calendar+" calendar":"w/o a set calendar"].join(" ")))),X&&(s[ee]={traces:[Q],dirs:[ae],axType:K,calendar:Q[ae+"calendar"]||""}),Q["_"+ae+"bingroup"]=ee}for(p=0;p<u.length;p++)c=u[p],a(c,"histogram")&&(f.push(c),delete c._xautoBinFinished,delete c._yautoBinFinished,a(c,"2dMap")||L(c._input,c,n,E));var i=n._alignmentOpts||{};for(p=0;p<f.length;p++){if(c=f[p],h="",!a(c,"2dMap")){if(o=m(c),n.barmode==="group"&&c.alignmentgroup){var C=c[o+"axis"],y=v(n,C)+c.orientation;(i[y]||{})[c.alignmentgroup]&&(h=y)}!h&&n.barmode!=="overlay"&&(h=v(n,c.xaxis)+v(n,c.yaxis)+m(c))}h?(l[h]||(l[h]=[]),l[h].push(c)):x.push(c)}for(h in l){if(b=l[h],b.length===1){x.push(b[0]);continue}var _=!1;for(b.length&&(c=b[0],_=E("bingroup")),h=_||h,p=0;p<b.length;p++){c=b[p];var I=c._input.bingroup;I&&I!==h&&g.warn(["Trace",c.index,"must match","within bingroup",h+".","Ignoring its bingroup:",I,"setting."].join(" ")),c.bingroup=h,w(c,h,m(c))}}for(p=0;p<x.length;p++){c=x[p];var N=E("bingroup");if(a(c,"2dMap"))for(A=0;A<2;A++){o=t[A];var k=E(o+"bingroup",N?N+"__"+o:null);w(c,k,o)}else w(c,N,m(c))}for(h in s){var O=s[h];for(b=O.traces,S=0;S<d.length;S++){var z=d[S],F=z.name,B,G;if(!(F==="nbins"&&O.sizeFound)){for(p=0;p<b.length;p++){if(c=b[p],o=O.dirs[p],B=z.aStr[o],T(c._input,B).get()!==void 0){O[F]=E(B),O[F+"Found"]=!0;break}G=(c._autoBin||{})[o]||{},G[F]&&T(c,B).set(G[F])}if(F==="start"||F==="end")for(;p<b.length;p++)c=b[p],c["_"+o+"bingroup"]&&(G=(c._autoBin||{})[o]||{},E(B,G[F]));F==="nbins"&&!O.sizeFound&&!O.nbinsFound&&(c=b[0],O[F]=E(B))}}}}},11385:function(H,U,e){var g=e(73972),P=e(71828),a=e(7901),L=e(90769).handleText,T=e(98340),v=e(7745);H.exports=function(t,r,u,n){function s(M,w){return P.coerce(t,r,v,M,w)}var f=s("x"),l=s("y"),x=s("cumulative.enabled");x&&(s("cumulative.direction"),s("cumulative.currentbin")),s("text");var c=s("textposition");L(t,r,n,s,c,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),s("hovertext"),s("hovertemplate"),s("xhoverformat"),s("yhoverformat");var b=s("orientation",l&&!f?"h":"v"),h=b==="v"?"x":"y",o=b==="v"?"y":"x",p=f&&l?Math.min(P.minRowLength(f)&&P.minRowLength(l)):P.minRowLength(r[h]||[]);if(!p){r.visible=!1;return}r._length=p;var S=g.getComponentMethod("calendars","handleTraceDefaults");S(t,r,["x","y"],n);var A=r[o];A&&s("histfunc"),s("histnorm"),s("autobin"+h),T(t,r,s,u,n),P.coerceSelectionMarkerOpacity(r,s);var E=(r.marker.line||{}).color,m=g.getComponentMethod("errorbars","supplyDefaults");m(t,r,E||a.defaultLine,{axis:"y"}),m(t,r,E||a.defaultLine,{axis:"x",inherit:"y"})}},84402:function(H){H.exports=function(e,g,P,a,L){if(e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"zLabelVal"in g&&(e.z=g.zLabelVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),!(P.cumulative||{}).enabled){var T=Array.isArray(L)?a[0].pts[L[0]][L[1]]:a[L].pts;e.pointNumbers=T,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex;var v;if(P._indexToPoints){v=[];for(var d=0;d<T.length;d++)v=v.concat(P._indexToPoints[T[d]])}else v=T;e.pointIndices=v}return e}},76440:function(H,U,e){var g=e(95423).hoverPoints,P=e(89298).hoverLabelText;H.exports=function(L,T,v,d,t){var r=g(L,T,v,d,t);if(r){L=r[0];var u=L.cd[L.index],n=L.cd[0].trace;if(!n.cumulative.enabled){var s=n.orientation==="h"?"y":"x";L[s+"Label"]=P(L[s+"a"],[u.ph0,u.ph1],n[s+"hoverformat"])}return r}}},36071:function(H,U,e){H.exports={attributes:e(7745),layoutAttributes:e(43641),supplyDefaults:e(11385),crossTraceDefaults:e(82222),supplyLayoutDefaults:e(13957),calc:e(72138).calc,crossTraceCalc:e(11661).crossTraceCalc,plot:e(17295).plot,layerName:"barlayer",style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,colorbar:e(4898),hoverPoints:e(76440),selectPoints:e(81974),eventData:e(84402),moduleType:"trace",name:"histogram",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},36362:function(H){H.exports={percent:function(U,e){for(var g=U.length,P=100/e,a=0;a<g;a++)U[a]*=P},probability:function(U,e){for(var g=U.length,P=0;P<g;P++)U[P]/=e},density:function(U,e,g,P){var a=U.length;P=P||1;for(var L=0;L<a;L++)U[L]*=g[L]*P},"probability density":function(U,e,g,P){var a=U.length;P&&(e/=P);for(var L=0;L<a;L++)U[L]*=g[L]/e}}},35361:function(H,U,e){var g=e(7745),P=e(17656),a=e(21606),L=e(9012),T=e(12663).axisHoverFormat,v=e(5386).fF,d=e(5386).si,t=e(50693),r=e(1426).extendFlat;H.exports=r({x:g.x,y:g.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:g.histnorm,histfunc:g.histfunc,nbinsx:g.nbinsx,xbins:P("x"),nbinsy:g.nbinsy,ybins:P("y"),autobinx:g.autobinx,autobiny:g.autobiny,bingroup:r({},g.bingroup,{}),xbingroup:r({},g.bingroup,{}),ybingroup:r({},g.bingroup,{}),xgap:a.xgap,ygap:a.ygap,zsmooth:a.zsmooth,xhoverformat:T("x"),yhoverformat:T("y"),zhoverformat:T("z",1),hovertemplate:v({},{keys:"z"}),texttemplate:d({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:a.textfont,showlegend:r({},L.showlegend,{dflt:!1})},t("",{cLetter:"z",autoColorDflt:!1}))},17562:function(H,U,e){var g=e(71828),P=e(89298),a=e(59575),L=e(36362),T=e(42174),v=e(40965),d=e(72138).calcAllAutoBins;H.exports=function(s,f){var l=P.getFromId(s,f.xaxis),x=P.getFromId(s,f.yaxis),c=f.xcalendar,b=f.ycalendar,h=function(ke){return l.r2c(ke,0,c)},o=function(ke){return x.r2c(ke,0,b)},p=function(ke){return l.c2r(ke,0,c)},S=function(ke){return x.c2r(ke,0,b)},A,E,m,M,w=d(s,f,l,"x"),i=w[0],C=w[1],y=d(s,f,x,"y"),_=y[0],I=y[1],N=f._length;C.length>N&&C.splice(N,C.length-N),I.length>N&&I.splice(N,I.length-N);var k=[],O=[],z=[],F=typeof i.size=="string",B=typeof _.size=="string",G=[],Q=[],ee=F?G:i,ae=B?Q:_,fe=0,K=[],W=[],Z=f.histnorm,X=f.histfunc,$=Z.indexOf("density")!==-1,ie=X==="max"||X==="min",J=ie?null:0,j=a.count,se=L[Z],ne=!1,ue=[],ge=[],we="z"in f?f.z:"marker"in f&&Array.isArray(f.marker.color)?f.marker.color:"";we&&X!=="count"&&(ne=X==="avg",j=a[X]);var xe=i.size,Fe=h(i.start),ze=h(i.end)+(Fe-P.tickIncrement(Fe,xe,!1,c))/1e6;for(A=Fe;A<ze;A=P.tickIncrement(A,xe,!1,c))O.push(J),G.push(A),ne&&z.push(0);G.push(A);var Te=O.length,ye=(A-Fe)/Te,Ae=p(Fe+ye/2),Ne=_.size,Ue=o(_.start),Re=o(_.end)+(Ue-P.tickIncrement(Ue,Ne,!1,b))/1e6;for(A=Ue;A<Re;A=P.tickIncrement(A,Ne,!1,b)){k.push(O.slice()),Q.push(A);var Ve=new Array(Te);for(E=0;E<Te;E++)Ve[E]=[];W.push(Ve),ne&&K.push(z.slice())}Q.push(A);var rt=k.length,Qe=(A-Ue)/rt,Je=S(Ue+Qe/2);$&&(ue=t(O.length,ee,ye,F),ge=t(k.length,ae,Qe,B)),!F&&l.type==="date"&&(ee=r(h,ee)),!B&&x.type==="date"&&(ae=r(o,ae));var qe=!0,dt=!0,pt=new Array(Te),mt=new Array(rt),Ct=1/0,Rt=1/0,Zt=1/0,Xe=1/0;for(A=0;A<N;A++){var Le=C[A],Pe=I[A];m=g.findBin(Le,ee),M=g.findBin(Pe,ae),m>=0&&m<Te&&M>=0&&M<rt&&(fe+=j(m,A,k[M],we,K[M]),W[M][m].push(A),qe&&(pt[m]===void 0?pt[m]=Le:pt[m]!==Le&&(qe=!1)),dt&&(mt[M]===void 0?mt[M]=Pe:mt[M]!==Pe&&(dt=!1)),Ct=Math.min(Ct,Le-G[m]),Rt=Math.min(Rt,G[m+1]-Le),Zt=Math.min(Zt,Pe-Q[M]),Xe=Math.min(Xe,Q[M+1]-Pe))}if(ne)for(M=0;M<rt;M++)fe+=T(k[M],K[M]);if(se)for(M=0;M<rt;M++)se(k[M],fe,ue,ge[M]);return{x:C,xRanges:u(G,qe&&pt,Ct,Rt,l,c),x0:Ae,dx:ye,y:I,yRanges:u(Q,dt&&mt,Zt,Xe,x,b),y0:Je,dy:Qe,z:k,pts:W}};function t(n,s,f,l){var x=new Array(n),c;if(l)for(c=0;c<n;c++)x[c]=1/(s[c+1]-s[c]);else{var b=1/f;for(c=0;c<n;c++)x[c]=b}return x}function r(n,s){return{start:n(s.start),end:n(s.end),size:s.size}}function u(n,s,f,l,x,c){var b,h=n.length-1,o=new Array(h),p=v(f,l,n,x,c);for(b=0;b<h;b++){var S=(s||[])[b];o[b]=S===void 0?[p(n[b]),p(n[b+1],!0)]:[S,S]}return o}},93888:function(H,U,e){var g=e(71828),P=e(75238),a=e(49901),L=e(1586),T=e(58623),v=e(35361);H.exports=function(t,r,u,n){function s(f,l){return g.coerce(t,r,v,f,l)}P(t,r,s,n),r.visible!==!1&&(a(t,r,s,n),L(t,r,n,s,{prefix:"",cLetter:"z"}),s("hovertemplate"),T(s,n),s("xhoverformat"),s("yhoverformat"))}},76128:function(H,U,e){var g=e(46248),P=e(89298).hoverLabelText;H.exports=function(L,T,v,d,t){var r=g(L,T,v,d,t);if(r){L=r[0];var u=L.index,n=u[0],s=u[1],f=L.cd[0],l=f.trace,x=f.xRanges[s],c=f.yRanges[n];return L.xLabel=P(L.xa,[x[0],x[1]],l.xhoverformat),L.yLabel=P(L.ya,[c[0],c[1]],l.yhoverformat),r}}},43905:function(H,U,e){H.exports={attributes:e(35361),supplyDefaults:e(93888),crossTraceDefaults:e(82222),calc:e(90757),plot:e(50347),layerName:"heatmaplayer",colorbar:e(61243),style:e(70035),hoverPoints:e(76128),eventData:e(84402),moduleType:"trace",name:"histogram2d",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},75238:function(H,U,e){var g=e(73972),P=e(71828);H.exports=function(L,T,v,d){var t=v("x"),r=v("y"),u=P.minRowLength(t),n=P.minRowLength(r);if(!u||!n){T.visible=!1;return}T._length=Math.min(u,n);var s=g.getComponentMethod("calendars","handleTraceDefaults");s(L,T,["x","y"],d);var f=v("z")||v("marker.color");f&&v("histfunc"),v("histnorm"),v("autobinx"),v("autobiny")}},99066:function(H,U,e){var g=e(35361),P=e(70600),a=e(50693),L=e(12663).axisHoverFormat,T=e(1426).extendFlat;H.exports=T({x:g.x,y:g.y,z:g.z,marker:g.marker,histnorm:g.histnorm,histfunc:g.histfunc,nbinsx:g.nbinsx,xbins:g.xbins,nbinsy:g.nbinsy,ybins:g.ybins,autobinx:g.autobinx,autobiny:g.autobiny,bingroup:g.bingroup,xbingroup:g.xbingroup,ybingroup:g.ybingroup,autocontour:P.autocontour,ncontours:P.ncontours,contours:P.contours,line:{color:P.line.color,width:T({},P.line.width,{dflt:.5}),dash:P.line.dash,smoothing:P.line.smoothing,editType:"plot"},xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:g.hovertemplate,texttemplate:P.texttemplate,textfont:P.textfont},a("",{cLetter:"z",editTypeOverride:"calc"}))},62654:function(H,U,e){var g=e(71828),P=e(75238),a=e(67217),L=e(8724),T=e(58623),v=e(99066);H.exports=function(t,r,u,n){function s(l,x){return g.coerce(t,r,v,l,x)}function f(l){return g.coerce2(t,r,v,l)}P(t,r,s,n),r.visible!==!1&&(a(t,r,s,f),L(t,r,s,n),s("xhoverformat"),s("yhoverformat"),s("hovertemplate"),r.contours&&r.contours.coloring==="heatmap"&&T(s,n))}},35902:function(H,U,e){H.exports={attributes:e(99066),supplyDefaults:e(62654),crossTraceDefaults:e(82222),calc:e(27529),plot:e(29854).plot,layerName:"contourlayer",style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},46291:function(H,U,e){var g=e(5386).fF,P=e(5386).si,a=e(50693),L=e(27670).Y,T=e(34e3),v=e(57564),d=e(45802),t=e(43473),r=e(1426).extendFlat,u=e(79952).u;H.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:d.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:r({colors:v.marker.colors,line:v.marker.line,pattern:u,editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),leaf:v.leaf,pathbar:d.pathbar,text:T.text,textinfo:v.textinfo,texttemplate:P({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),hovertext:T.hovertext,hoverinfo:v.hoverinfo,hovertemplate:g({},{keys:t.eventDataKeys}),textfont:T.textfont,insidetextfont:T.insidetextfont,outsidetextfont:d.outsidetextfont,textposition:d.textposition,sort:T.sort,root:v.root,domain:L({name:"icicle",trace:!0,editType:"calc"})}},96346:function(H,U,e){var g=e(74875);U.name="icicle",U.plot=function(P,a,L,T){g.plotBasePlot(U.name,P,a,L,T)},U.clean=function(P,a,L,T){g.cleanBasePlot(U.name,P,a,L,T)}},46584:function(H,U,e){var g=e(52147);U.y=function(P,a){return g.calc(P,a)},U.T=function(P){return g._runCrossTraceCalc("icicle",P)}},56524:function(H,U,e){var g=e(71828),P=e(46291),a=e(7901),L=e(27670).c,T=e(90769).handleText,v=e(97313).TEXTPAD,d=e(37434).handleMarkerDefaults,t=e(21081),r=t.hasColorscale,u=t.handleDefaults;H.exports=function(s,f,l,x){function c(m,M){return g.coerce(s,f,P,m,M)}var b=c("labels"),h=c("parents");if(!b||!b.length||!h||!h.length){f.visible=!1;return}var o=c("values");o&&o.length?c("branchvalues"):c("count"),c("level"),c("maxdepth"),c("tiling.orientation"),c("tiling.flip"),c("tiling.pad");var p=c("text");c("texttemplate"),f.texttemplate||c("textinfo",Array.isArray(p)?"text+label":"label"),c("hovertext"),c("hovertemplate");var S=c("pathbar.visible"),A="auto";T(s,f,x,c,A,{hasPathbar:S,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),c("textposition"),d(s,f,x,c);var E=f._hasColorscale=r(s,"marker","colors")||(s.marker||{}).coloraxis;E&&u(s,f,x,c,{prefix:"marker.",cLetter:"c"}),c("leaf.opacity",E?1:.7),f._hovered={marker:{line:{width:2,color:a.contrast(x.paper_bgcolor)}}},S&&(c("pathbar.thickness",f.pathbar.textfont.size+2*v),c("pathbar.side"),c("pathbar.edgeshape")),c("sort"),c("root.color"),L(f,x,c),f._length=null}},90666:function(H,U,e){var g=e(39898),P=e(71828),a=e(91424),L=e(63893),T=e(21538),v=e(82454).styleOne,d=e(43473),t=e(2791),r=e(83523),u=e(24714).formatSliceLabel,n=!1;H.exports=function(f,l,x,c,b){var h=b.width,o=b.height,p=b.viewX,S=b.viewY,A=b.pathSlice,E=b.toMoveInsideSlice,m=b.strTransform,M=b.hasTransition,w=b.handleSlicesExit,i=b.makeUpdateSliceInterpolator,C=b.makeUpdateTextInterpolator,y=b.prevEntry,_={},I=f._context.staticPlot,N=f._fullLayout,k=l[0],O=k.trace,z=O.textposition.indexOf("left")!==-1,F=O.textposition.indexOf("right")!==-1,B=O.textposition.indexOf("bottom")!==-1,G=T(x,[h,o],{flipX:O.tiling.flip.indexOf("x")>-1,flipY:O.tiling.flip.indexOf("y")>-1,orientation:O.tiling.orientation,pad:{inner:O.tiling.pad},maxDepth:O._maxDepth}),Q=G.descendants(),ee=1/0,ae=-1/0;Q.forEach(function(X){var $=X.depth;$>=O._maxDepth?(X.x0=X.x1=(X.x0+X.x1)/2,X.y0=X.y1=(X.y0+X.y1)/2):(ee=Math.min(ee,$),ae=Math.max(ae,$))}),c=c.data(Q,t.getPtId),O._maxVisibleLayers=isFinite(ae)?ae-ee+1:0,c.enter().append("g").classed("slice",!0),w(c,n,_,[h,o],A),c.order();var fe=null;if(M&&y){var K=t.getPtId(y);c.each(function(X){fe===null&&t.getPtId(X)===K&&(fe={x0:X.x0,x1:X.x1,y0:X.y0,y1:X.y1})})}var W=function(){return fe||{x0:0,x1:h,y0:0,y1:o}},Z=c;return M&&(Z=Z.transition().each("end",function(){var X=g.select(this);t.setSliceCursor(X,f,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),Z.each(function(X){X._x0=p(X.x0),X._x1=p(X.x1),X._y0=S(X.y0),X._y1=S(X.y1),X._hoverX=p(X.x1-O.tiling.pad),X._hoverY=S(B?X.y1-O.tiling.pad/2:X.y0+O.tiling.pad/2);var $=g.select(this),ie=P.ensureSingle($,"path","surface",function(ne){ne.style("pointer-events",I?"none":"all")});M?ie.transition().attrTween("d",function(ne){var ue=i(ne,n,W(),[h,o],{orientation:O.tiling.orientation,flipX:O.tiling.flip.indexOf("x")>-1,flipY:O.tiling.flip.indexOf("y")>-1});return function(ge){return A(ue(ge))}}):ie.attr("d",A),$.call(r,x,f,l,{styleOne:v,eventDataKeys:d.eventDataKeys,transitionTime:d.CLICK_TRANSITION_TIME,transitionEasing:d.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,f,{isTransitioning:f._transitioning}),ie.call(v,X,O,f,{hovered:!1}),X.x0===X.x1||X.y0===X.y1?X._text="":X._text=u(X,x,O,l,N)||"";var J=P.ensureSingle($,"g","slicetext"),j=P.ensureSingle(J,"text","",function(ne){ne.attr("data-notex",1)}),se=P.ensureUniformFontSize(f,t.determineTextFont(O,X,N.font));j.text(X._text||" ").classed("slicetext",!0).attr("text-anchor",F?"end":z?"start":"middle").call(a.font,se).call(L.convertToTspans,f),X.textBB=a.bBox(j.node()),X.transform=E(X,{fontSize:se.size}),X.transform.fontSize=se.size,M?j.transition().attrTween("transform",function(ne){var ue=C(ne,n,W(),[h,o]);return function(ge){return m(ue(ge))}}):j.attr("transform",m(X))}),fe}},69816:function(H,U,e){H.exports={moduleType:"trace",name:"icicle",basePlotModule:e(96346),categories:[],animatable:!0,attributes:e(46291),layoutAttributes:e(92894),supplyDefaults:e(56524),supplyLayoutDefaults:e(21070),calc:e(46584).y,crossTraceCalc:e(46584).T,plot:e(85596),style:e(82454).style,colorbar:e(4898),meta:{}}},92894:function(H){H.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},21070:function(H,U,e){var g=e(71828),P=e(92894);H.exports=function(L,T){function v(d,t){return g.coerce(L,T,P,d,t)}v("iciclecolorway",T.colorway),v("extendiciclecolors")}},21538:function(H,U,e){var g=e(674),P=e(14102);H.exports=function(L,T,v){var d=v.flipX,t=v.flipY,r=v.orientation==="h",u=v.maxDepth,n=T[0],s=T[1];u&&(n=(L.height+1)*T[0]/Math.min(L.height+1,u),s=(L.height+1)*T[1]/Math.min(L.height+1,u));var f=g.partition().padding(v.pad.inner).size(r?[T[1],n]:[T[0],s])(L);return(r||d||t)&&P(f,T,{swapXY:r,flipX:d,flipY:t}),f}},85596:function(H,U,e){var g=e(80694),P=e(90666);H.exports=function(L,T,v,d){return g(L,T,v,d,{type:"icicle",drawDescendants:P})}},82454:function(H,U,e){var g=e(39898),P=e(7901),a=e(71828),L=e(72597).resizeText,T=e(43467);function v(t){var r=t._fullLayout._iciclelayer.selectAll(".trace");L(t,r,"icicle"),r.each(function(u){var n=g.select(this),s=u[0],f=s.trace;n.style("opacity",f.opacity),n.selectAll("path.surface").each(function(l){g.select(this).call(d,l,f,t)})})}function d(t,r,u,n){var s=r.data.data,f=!r.children,l=s.i,x=a.castOption(u,l,"marker.line.color")||P.defaultLine,c=a.castOption(u,l,"marker.line.width")||0;t.call(T,r,u,n).style("stroke-width",c).call(P.stroke,x).style("opacity",f?u.leaf.opacity:null)}H.exports={style:v,styleOne:d}},17230:function(H,U,e){for(var g=e(9012),P=e(5386).fF,a=e(1426).extendFlat,L=e(51877).colormodel,T=["rgb","rgba","rgba256","hsl","hsla"],v=[],d=[],t=0;t<T.length;t++){var r=L[T[t]];v.push("For the `"+T[t]+"` colormodel, it is ["+(r.zminDflt||r.min).join(", ")+"]."),d.push("For the `"+T[t]+"` colormodel, it is ["+(r.zmaxDflt||r.max).join(", ")+"].")}H.exports=a({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:T,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:a({},g.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:P({},{keys:["z","color","colormodel"]}),transforms:void 0})},71113:function(H,U,e){var g=e(71828),P=e(51877),a=e(92770),L=e(89298),T=e(71828).maxRowLength,v=e(67395).A;H.exports=function(n,s){var f,l;if(s._hasZ)f=s.z.length,l=T(s.z);else if(s._hasSource){var x=v(s.source);f=x.height,l=x.width}var c=L.getFromId(n,s.xaxis||"x"),b=L.getFromId(n,s.yaxis||"y"),h=c.d2c(s.x0)-s.dx/2,o=b.d2c(s.y0)-s.dy/2,p,S=[h,h+l*s.dx],A=[o,o+f*s.dy];if(c&&c.type==="log")for(p=0;p<l;p++)S.push(h+p*s.dx);if(b&&b.type==="log")for(p=0;p<f;p++)A.push(o+p*s.dy);s._extremes[c._id]=L.findExtremes(c,S),s._extremes[b._id]=L.findExtremes(b,A),s._scaler=r(s);var E={x0:h,y0:o,z:s.z,w:l,h:f};return[E]};function d(u,n,s,f){return function(l){return g.constrain((l-u)*n,s,f)}}function t(u,n){return function(s){return g.constrain(s,u,n)}}function r(u){var n=P.colormodel[u.colormodel],s=n.colormodel||u.colormodel,f=s.length;u._sArray=[];for(var l=0;l<f;l++)n.min[l]!==u.zmin[l]||n.max[l]!==u.zmax[l]?u._sArray.push(d(u.zmin[l],(n.max[l]-n.min[l])/(u.zmax[l]-u.zmin[l]),n.min[l],n.max[l])):u._sArray.push(t(n.min[l],n.max[l]));return function(x){for(var c=x.slice(0,f),b=0;b<f;b++){var h=c[b];if(!a(h))return!1;c[b]=u._sArray[b](h)}return c}}},51877:function(H){H.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(U){return U.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(U){return U.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(U){return U.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(U){var e=U.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["°","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(U){var e=U.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["°","%","%",""]}}}},13245:function(H,U,e){var g=e(71828),P=e(17230),a=e(51877),L=e(25095).IMAGE_URL_PREFIX;H.exports=function(v,d){function t(n,s){return g.coerce(v,d,P,n,s)}t("source"),d.source&&!d.source.match(L)&&delete d.source,d._hasSource=!!d.source;var r=t("z");if(d._hasZ=!(r===void 0||!r.length||!r[0]||!r[0].length),!d._hasZ&&!d._hasSource){d.visible=!1;return}t("x0"),t("y0"),t("dx"),t("dy");var u;d._hasZ?(t("colormodel","rgb"),u=a.colormodel[d.colormodel],t("zmin",u.zminDflt||u.min),t("zmax",u.zmaxDflt||u.max)):d._hasSource&&(d.colormodel="rgba256",u=a.colormodel[d.colormodel],d.zmin=u.zminDflt,d.zmax=u.zmaxDflt),t("zsmooth"),t("text"),t("hovertext"),t("hovertemplate"),d._length=null}},30835:function(H){H.exports=function(e,g){return"xVal"in g&&(e.x=g.xVal),"yVal"in g&&(e.y=g.yVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e.color=g.color,e.colormodel=g.trace.colormodel,e.z||(e.z=g.color),e}},67395:function(H,U,e){var g=e(33575),P=e(25095).IMAGE_URL_PREFIX,a=e(12856).Buffer;U.A=function(L){var T=L.replace(P,""),v=new a(T,"base64");return g(v)}},28749:function(H,U,e){var g=e(30211),P=e(71828),a=e(51877);H.exports=function(T,v,d){var t=T.cd[0],r=t.trace,u=T.xa,n=T.ya;if(!(g.inbox(v-t.x0,v-(t.x0+t.w*r.dx),0)>0||g.inbox(d-t.y0,d-(t.y0+t.h*r.dy),0)>0)){var s=Math.floor((v-t.x0)/r.dx),f=Math.floor(Math.abs(d-t.y0)/r.dy),l;if(r._hasZ?l=t.z[f][s]:r._hasSource&&(l=r._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(s,f,1,1).data),!!l){var x=t.hi||r.hoverinfo,c;if(x){var b=x.split("+");b.indexOf("all")!==-1&&(b=["color"]),b.indexOf("color")!==-1&&(c=!0)}var h=a.colormodel[r.colormodel],o=h.colormodel||r.colormodel,p=o.length,S=r._scaler(l),A=h.suffix,E=[];(r.hovertemplate||c)&&(E.push("["+[S[0]+A[0],S[1]+A[1],S[2]+A[2]].join(", ")),p===4&&E.push(", "+S[3]+A[3]),E.push("]"),E=E.join(""),T.extraText=o.toUpperCase()+": "+E);var m;Array.isArray(r.hovertext)&&Array.isArray(r.hovertext[f])?m=r.hovertext[f][s]:Array.isArray(r.text)&&Array.isArray(r.text[f])&&(m=r.text[f][s]);var M=n.c2p(t.y0+(f+.5)*r.dy),w=t.x0+(s+.5)*r.dx,i=t.y0+(f+.5)*r.dy,C="["+l.slice(0,r.colormodel.length).join(", ")+"]";return[P.extendFlat(T,{index:[f,s],x0:u.c2p(t.x0+s*r.dx),x1:u.c2p(t.x0+(s+1)*r.dx),y0:M,y1:M,color:S,xVal:w,xLabelVal:w,yVal:i,yLabelVal:i,zLabelVal:C,text:m,hovertemplateLabels:{zLabel:C,colorLabel:E,"color[0]Label":S[0]+A[0],"color[1]Label":S[1]+A[1],"color[2]Label":S[2]+A[2],"color[3]Label":S[3]+A[3]}})]}}}},94507:function(H,U,e){H.exports={attributes:e(17230),supplyDefaults:e(13245),calc:e(71113),plot:e(60775),style:e(12826),hoverPoints:e(28749),eventData:e(30835),moduleType:"trace",name:"image",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},60775:function(H,U,e){var g=e(39898),P=e(71828),a=P.strTranslate,L=e(77922),T=e(51877),v=e(3883),d=e(32396).STYLE;H.exports=function(r,u,n,s){var f=u.xaxis,l=u.yaxis,x=!r._context._exportedPlot&&v();P.makeTraceGroups(s,n,"im").each(function(c){var b=g.select(this),h=c[0],o=h.trace,p=(o.zsmooth==="fast"||o.zsmooth===!1&&x)&&!o._hasZ&&o._hasSource&&f.type==="linear"&&l.type==="linear";o._realImage=p;var S=h.z,A=h.x0,E=h.y0,m=h.w,M=h.h,w=o.dx,i=o.dy,C,y,_,I,N,k;for(k=0;C===void 0&&k<m;)C=f.c2p(A+k*w),k++;for(k=m;y===void 0&&k>0;)y=f.c2p(A+k*w),k--;for(k=0;I===void 0&&k<M;)I=l.c2p(E+k*i),k++;for(k=M;N===void 0&&k>0;)N=l.c2p(E+k*i),k--;if(y<C&&(_=y,y=C,C=_),N<I&&(_=I,I=N,N=_),!p){var O=.5;C=Math.max(-O*f._length,C),y=Math.min((1+O)*f._length,y),I=Math.max(-O*l._length,I),N=Math.min((1+O)*l._length,N)}var z=Math.round(y-C),F=Math.round(N-I),B=z<=0||F<=0;if(B){var G=b.selectAll("image").data([]);G.exit().remove();return}function Q(J){var j=document.createElement("canvas");j.width=z,j.height=F;var se=j.getContext("2d",{willReadFrequently:!0}),ne=function(Ue){return P.constrain(Math.round(f.c2p(A+Ue*w)-C),0,z)},ue=function(Ue){return P.constrain(Math.round(l.c2p(E+Ue*i)-I),0,F)},ge=T.colormodel[o.colormodel],we=ge.colormodel||o.colormodel,xe=ge.fmt,Fe;for(k=0;k<h.w;k++){var ze=ne(k),Te=ne(k+1);if(!(Te===ze||isNaN(Te)||isNaN(ze)))for(var ye=0;ye<h.h;ye++){var Ae=ue(ye),Ne=ue(ye+1);Ne===Ae||isNaN(Ne)||isNaN(Ae)||!J(k,ye)||(Fe=o._scaler(J(k,ye)),Fe?se.fillStyle=we+"("+xe(Fe).join(",")+")":se.fillStyle="rgba(0,0,0,0)",se.fillRect(ze,Ae,Te-ze,Ne-Ae))}}return j}var ee=b.selectAll("image").data([c]);ee.enter().append("svg:image").attr({xmlns:L.svg,preserveAspectRatio:"none"}),ee.exit().remove();var ae=o.zsmooth===!1?d:"";if(p){var fe=P.simpleMap(f.range,f.r2l),K=P.simpleMap(l.range,l.r2l),W=fe[1]<fe[0],Z=K[1]>K[0];if(W||Z){var X=C+z/2,$=I+F/2;ae+="transform:"+a(X+"px",$+"px")+"scale("+(W?-1:1)+","+(Z?-1:1)+")"+a(-X+"px",-$+"px")+";"}}ee.attr("style",ae);var ie=new Promise(function(J){if(o._hasZ)J();else if(o._hasSource)if(o._canvas&&o._canvas.el.width===m&&o._canvas.el.height===M&&o._canvas.source===o.source)J();else{var j=document.createElement("canvas");j.width=m,j.height=M;var se=j.getContext("2d",{willReadFrequently:!0});o._image=o._image||new Image;var ne=o._image;ne.onload=function(){se.drawImage(ne,0,0),o._canvas={el:j,source:o.source},J()},ne.setAttribute("src",o.source)}}).then(function(){var J,j;if(o._hasZ)j=Q(function(ue,ge){return S[ge][ue]}),J=j.toDataURL("image/png");else if(o._hasSource)if(p)J=o.source;else{var se=o._canvas.el.getContext("2d",{willReadFrequently:!0}),ne=se.getImageData(0,0,m,M).data;j=Q(function(ue,ge){var we=4*(ge*m+ue);return[ne[we],ne[we+1],ne[we+2],ne[we+3]]}),J=j.toDataURL("image/png")}ee.attr({"xlink:href":J,height:F,width:z,x:C,y:I})});r._promises.push(ie)})}},12826:function(H,U,e){var g=e(39898);H.exports=function(a){g.select(a).selectAll(".im image").style("opacity",function(L){return L[0].trace.opacity})}},54846:function(H,U,e){var g=e(1426).extendFlat,P=e(1426).extendDeep,a=e(30962).overrideAll,L=e(41940),T=e(22399),v=e(27670).Y,d=e(13838),t=e(44467).templatedArray,r=e(22372),u=e(12663).descriptionOnlyNumbers,n=L({editType:"plot",colorEditType:"plot"}),s={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:T.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},f={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},l=t("step",P({},s,{range:f}));H.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:v({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:g({},n,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:u("value")},font:g({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:u("value")},increasing:{symbol:{valType:"string",dflt:r.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:r.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:r.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:r.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:g({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:P({},s,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:T.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:a({range:f,visible:g({},d.visible,{dflt:!0}),tickmode:d.minor.tickmode,nticks:d.nticks,tick0:d.tick0,dtick:d.dtick,tickvals:d.tickvals,ticktext:d.ticktext,ticks:g({},d.ticks,{dflt:"outside"}),ticklen:d.ticklen,tickwidth:d.tickwidth,tickcolor:d.tickcolor,ticklabelstep:d.ticklabelstep,showticklabels:d.showticklabels,labelalias:d.labelalias,tickfont:L({}),tickangle:d.tickangle,tickformat:d.tickformat,tickformatstops:d.tickformatstops,tickprefix:d.tickprefix,showtickprefix:d.showtickprefix,ticksuffix:d.ticksuffix,showticksuffix:d.showticksuffix,separatethousands:d.separatethousands,exponentformat:d.exponentformat,minexponent:d.minexponent,showexponent:d.showexponent,editType:"plot"},"plot"),steps:l,threshold:{line:{color:g({},s.line.color,{}),width:g({},s.line.width,{dflt:1}),editType:"plot"},thickness:g({},s.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},15970:function(H,U,e){var g=e(74875);U.name="indicator",U.plot=function(P,a,L,T){g.plotBasePlot(U.name,P,a,L,T)},U.clean=function(P,a,L,T){g.cleanBasePlot(U.name,P,a,L,T)}},24667:function(H){function U(e,g){var P=[],a=g.value;typeof g._lastValue!="number"&&(g._lastValue=g.value);var L=g._lastValue,T=L;return g._hasDelta&&typeof g.delta.reference=="number"&&(T=g.delta.reference),P[0]={y:a,lastY:L,delta:a-T,relativeDelta:(a-T)/T},P}H.exports={calc:U}},84577:function(H){H.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},94425:function(H,U,e){var g=e(71828),P=e(54846),a=e(27670).c,L=e(44467),T=e(85501),v=e(84577),d=e(26218),t=e(38701),r=e(96115),u=e(89426);function n(f,l,x,c){function b(N,k){return g.coerce(f,l,P,N,k)}a(l,c,b),b("mode"),l._hasNumber=l.mode.indexOf("number")!==-1,l._hasDelta=l.mode.indexOf("delta")!==-1,l._hasGauge=l.mode.indexOf("gauge")!==-1;var h=b("value");l._range=[0,typeof h=="number"?1.5*h:1];var o=new Array(2),p;l._hasNumber&&(b("number.valueformat"),b("number.font.color",c.font.color),b("number.font.family",c.font.family),b("number.font.size"),l.number.font.size===void 0&&(l.number.font.size=v.defaultNumberFontSize,o[0]=!0),b("number.prefix"),b("number.suffix"),p=l.number.font.size);var S;l._hasDelta&&(b("delta.font.color",c.font.color),b("delta.font.family",c.font.family),b("delta.font.size"),l.delta.font.size===void 0&&(l.delta.font.size=(l._hasNumber?.5:1)*(p||v.defaultNumberFontSize),o[1]=!0),b("delta.reference",l.value),b("delta.relative"),b("delta.valueformat",l.delta.relative?"2%":""),b("delta.increasing.symbol"),b("delta.increasing.color"),b("delta.decreasing.symbol"),b("delta.decreasing.color"),b("delta.position"),b("delta.prefix"),b("delta.suffix"),S=l.delta.font.size),l._scaleNumbers=(!l._hasNumber||o[0])&&(!l._hasDelta||o[1])||!1,b("title.font.color",c.font.color),b("title.font.family",c.font.family),b("title.font.size",.25*(p||S||v.defaultNumberFontSize)),b("title.text");var A,E,m,M;function w(N,k){return g.coerce(A,E,P.gauge,N,k)}function i(N,k){return g.coerce(m,M,P.gauge.axis,N,k)}if(l._hasGauge){A=f.gauge,A||(A={}),E=L.newContainer(l,"gauge"),w("shape");var C=l._isBullet=l.gauge.shape==="bullet";C||b("title.align","center");var y=l._isAngular=l.gauge.shape==="angular";y||b("align","center"),w("bgcolor",c.paper_bgcolor),w("borderwidth"),w("bordercolor"),w("bar.color"),w("bar.line.color"),w("bar.line.width");var _=v.valueThickness*(l.gauge.shape==="bullet"?.5:1);w("bar.thickness",_),T(A,E,{name:"steps",handleItemDefaults:s}),w("threshold.value"),w("threshold.thickness"),w("threshold.line.width"),w("threshold.line.color"),m={},A&&(m=A.axis||{}),M=L.newContainer(E,"axis"),i("visible"),l._range=i("range",l._range);var I={outerTicks:!0};d(m,M,i,"linear"),u(m,M,i,"linear",I),r(m,M,i,"linear",I),t(m,M,i,I)}else b("title.align","center"),b("align","center"),l._isAngular=l._isBullet=!1;l._length=null}function s(f,l){function x(c,b){return g.coerce(f,l,P.gauge.steps,c,b)}x("color"),x("line.color"),x("line.width"),x("range"),x("thickness")}H.exports={supplyDefaults:n}},15154:function(H,U,e){H.exports={moduleType:"trace",name:"indicator",basePlotModule:e(15970),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(54846),supplyDefaults:e(94425).supplyDefaults,calc:e(24667).calc,plot:e(75634),meta:{}}},75634:function(H,U,e){var g=e(39898),P=e(81684).sX,a=e(81684).k4,L=e(71828),T=L.strScale,v=L.strTranslate,d=L.rad2deg,t=e(18783).MID_SHIFT,r=e(91424),u=e(84577),n=e(63893),s=e(89298),f=e(71453),l=e(52830),x=e(13838),c=e(7901),b={left:"start",center:"middle",right:"end"},h={left:0,center:.5,right:1},o=/[yzafpnµmkMGTPEZY]/;function p(I){return I&&I.duration>0}H.exports=function(N,k,O,z){var F=N._fullLayout,B;p(O)&&z&&(B=z()),L.makeTraceGroups(F._indicatorlayer,k,"trace").each(function(G){var Q=G[0],ee=Q.trace,ae=g.select(this),fe=ee._hasGauge,K=ee._isAngular,W=ee._isBullet,Z=ee.domain,X={w:F._size.w*(Z.x[1]-Z.x[0]),h:F._size.h*(Z.y[1]-Z.y[0]),l:F._size.l+F._size.w*Z.x[0],r:F._size.r+F._size.w*(1-Z.x[1]),t:F._size.t+F._size.h*(1-Z.y[1]),b:F._size.b+F._size.h*Z.y[0]},$=X.l+X.w/2,ie=X.t+X.h/2,J=Math.min(X.w/2,X.h),j=u.innerRadius*J,se,ne,ue,ge=ee.align||"center";if(ne=ie,!fe)se=X.l+h[ge]*X.w,ue=function(Re){return i(Re,X.w,X.h)};else if(K&&(se=$,ne=ie+J/2,ue=function(Re){return C(Re,.9*j)}),W){var we=u.bulletPadding,xe=1-u.bulletNumberDomainSize+we;se=X.l+(xe+(1-xe)*h[ge])*X.w,ue=function(Re){return i(Re,(u.bulletNumberDomainSize-we)*X.w,X.h)}}E(N,ae,G,{numbersX:se,numbersY:ne,numbersScaler:ue,transitionOpts:O,onComplete:B});var Fe,ze;fe&&(Fe={range:ee.gauge.axis.range,color:ee.gauge.bgcolor,line:{color:ee.gauge.bordercolor,width:0},thickness:1},ze={range:ee.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:ee.gauge.bordercolor,width:ee.gauge.borderwidth},thickness:1});var Te=ae.selectAll("g.angular").data(K?G:[]);Te.exit().remove();var ye=ae.selectAll("g.angularaxis").data(K?G:[]);ye.exit().remove(),K&&A(N,ae,G,{radius:J,innerRadius:j,gauge:Te,layer:ye,size:X,gaugeBg:Fe,gaugeOutline:ze,transitionOpts:O,onComplete:B});var Ae=ae.selectAll("g.bullet").data(W?G:[]);Ae.exit().remove();var Ne=ae.selectAll("g.bulletaxis").data(W?G:[]);Ne.exit().remove(),W&&S(N,ae,G,{gauge:Ae,layer:Ne,size:X,gaugeBg:Fe,gaugeOutline:ze,transitionOpts:O,onComplete:B});var Ue=ae.selectAll("text.title").data(G);Ue.exit().remove(),Ue.enter().append("text").classed("title",!0),Ue.attr("text-anchor",function(){return W?b.right:b[ee.title.align]}).text(ee.title.text).call(r.font,ee.title.font).call(n.convertToTspans,N),Ue.attr("transform",function(){var Re=X.l+X.w*h[ee.title.align],Ve,rt=u.titlePadding,Qe=r.bBox(Ue.node());if(fe){if(K)if(ee.gauge.axis.visible){var Je=r.bBox(ye.node());Ve=Je.top-rt-Qe.bottom}else Ve=X.t+X.h/2-J/2-Qe.bottom-rt;W&&(Ve=ne-(Qe.top+Qe.bottom)/2,Re=X.l-u.bulletPadding*X.w)}else Ve=ee._numbersTop-rt-Qe.bottom;return v(Re,Ve)})})};function S(I,N,k,O){var z=k[0].trace,F=O.gauge,B=O.layer,G=O.gaugeBg,Q=O.gaugeOutline,ee=O.size,ae=z.domain,fe=O.transitionOpts,K=O.onComplete,W,Z,X,$,ie;F.enter().append("g").classed("bullet",!0),F.attr("transform",v(ee.l,ee.t)),B.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),B.selectAll("g.xbulletaxistick,path,text").remove();var J=ee.h,j=z.gauge.bar.thickness*J,se=ae.x[0],ne=ae.x[0]+(ae.x[1]-ae.x[0])*(z._hasNumber||z._hasDelta?1-u.bulletNumberDomainSize:1);W=w(I,z.gauge.axis),W._id="xbulletaxis",W.domain=[se,ne],W.setScale(),Z=s.calcTicks(W),X=s.makeTransTickFn(W),$=s.getTickSigns(W)[2],ie=ee.t+ee.h,W.visible&&(s.drawTicks(I,W,{vals:W.ticks==="inside"?s.clipEnds(W,Z):Z,layer:B,path:s.makeTickPath(W,ie,$),transFn:X}),s.drawLabels(I,W,{vals:Z,layer:B,transFn:X,labelFns:s.makeLabelFns(W,ie)}));function ue(ye){ye.attr("width",function(Ae){return Math.max(0,W.c2p(Ae.range[1])-W.c2p(Ae.range[0]))}).attr("x",function(Ae){return W.c2p(Ae.range[0])}).attr("y",function(Ae){return .5*(1-Ae.thickness)*J}).attr("height",function(Ae){return Ae.thickness*J})}var ge=[G].concat(z.gauge.steps),we=F.selectAll("g.bg-bullet").data(ge);we.enter().append("g").classed("bg-bullet",!0).append("rect"),we.select("rect").call(ue).call(m),we.exit().remove();var xe=F.selectAll("g.value-bullet").data([z.gauge.bar]);xe.enter().append("g").classed("value-bullet",!0).append("rect"),xe.select("rect").attr("height",j).attr("y",(J-j)/2).call(m),p(fe)?xe.select("rect").transition().duration(fe.duration).ease(fe.easing).each("end",function(){K&&K()}).each("interrupt",function(){K&&K()}).attr("width",Math.max(0,W.c2p(Math.min(z.gauge.axis.range[1],k[0].y)))):xe.select("rect").attr("width",typeof k[0].y=="number"?Math.max(0,W.c2p(Math.min(z.gauge.axis.range[1],k[0].y))):0),xe.exit().remove();var Fe=k.filter(function(){return z.gauge.threshold.value||z.gauge.threshold.value===0}),ze=F.selectAll("g.threshold-bullet").data(Fe);ze.enter().append("g").classed("threshold-bullet",!0).append("line"),ze.select("line").attr("x1",W.c2p(z.gauge.threshold.value)).attr("x2",W.c2p(z.gauge.threshold.value)).attr("y1",(1-z.gauge.threshold.thickness)/2*J).attr("y2",(1-(1-z.gauge.threshold.thickness)/2)*J).call(c.stroke,z.gauge.threshold.line.color).style("stroke-width",z.gauge.threshold.line.width),ze.exit().remove();var Te=F.selectAll("g.gauge-outline").data([Q]);Te.enter().append("g").classed("gauge-outline",!0).append("rect"),Te.select("rect").call(ue).call(m),Te.exit().remove()}function A(I,N,k,O){var z=k[0].trace,F=O.size,B=O.radius,G=O.innerRadius,Q=O.gaugeBg,ee=O.gaugeOutline,ae=[F.l+F.w/2,F.t+F.h/2+B/2],fe=O.gauge,K=O.layer,W=O.transitionOpts,Z=O.onComplete,X=Math.PI/2;function $(qe){var dt=z.gauge.axis.range[0],pt=z.gauge.axis.range[1],mt=(qe-dt)/(pt-dt)*Math.PI-X;return mt<-X?-X:mt>X?X:mt}function ie(qe){return g.svg.arc().innerRadius((G+B)/2-qe/2*(B-G)).outerRadius((G+B)/2+qe/2*(B-G)).startAngle(-X)}function J(qe){qe.attr("d",function(dt){return ie(dt.thickness).startAngle($(dt.range[0])).endAngle($(dt.range[1]))()})}var j,se,ne,ue;fe.enter().append("g").classed("angular",!0),fe.attr("transform",v(ae[0],ae[1])),K.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),K.selectAll("g.xangularaxistick,path,text").remove(),j=w(I,z.gauge.axis),j.type="linear",j.range=z.gauge.axis.range,j._id="xangularaxis",j.ticklabeloverflow="allow",j.setScale();var ge=function(qe){return(j.range[0]-qe.x)/(j.range[1]-j.range[0])*Math.PI+Math.PI},we={},xe=s.makeLabelFns(j,0),Fe=xe.labelStandoff;we.xFn=function(qe){var dt=ge(qe);return Math.cos(dt)*Fe},we.yFn=function(qe){var dt=ge(qe),pt=Math.sin(dt)>0?.2:1;return-Math.sin(dt)*(Fe+qe.fontSize*pt)+Math.abs(Math.cos(dt))*(qe.fontSize*t)},we.anchorFn=function(qe){var dt=ge(qe),pt=Math.cos(dt);return Math.abs(pt)<.1?"middle":pt>0?"start":"end"},we.heightFn=function(qe,dt,pt){var mt=ge(qe);return-.5*(1+Math.sin(mt))*pt};var ze=function(qe){return v(ae[0]+B*Math.cos(qe),ae[1]-B*Math.sin(qe))};ne=function(qe){return ze(ge(qe))};var Te=function(qe){var dt=ge(qe);return ze(dt)+"rotate("+-d(dt)+")"};if(se=s.calcTicks(j),ue=s.getTickSigns(j)[2],j.visible){ue=j.ticks==="inside"?-1:1;var ye=(j.linewidth||1)/2;s.drawTicks(I,j,{vals:se,layer:K,path:"M"+ue*ye+",0h"+ue*j.ticklen,transFn:Te}),s.drawLabels(I,j,{vals:se,layer:K,transFn:ne,labelFns:we})}var Ae=[Q].concat(z.gauge.steps),Ne=fe.selectAll("g.bg-arc").data(Ae);Ne.enter().append("g").classed("bg-arc",!0).append("path"),Ne.select("path").call(J).call(m),Ne.exit().remove();var Ue=ie(z.gauge.bar.thickness),Re=fe.selectAll("g.value-arc").data([z.gauge.bar]);Re.enter().append("g").classed("value-arc",!0).append("path");var Ve=Re.select("path");p(W)?(Ve.transition().duration(W.duration).ease(W.easing).each("end",function(){Z&&Z()}).each("interrupt",function(){Z&&Z()}).attrTween("d",M(Ue,$(k[0].lastY),$(k[0].y))),z._lastValue=k[0].y):Ve.attr("d",typeof k[0].y=="number"?Ue.endAngle($(k[0].y)):"M0,0Z"),Ve.call(m),Re.exit().remove(),Ae=[];var rt=z.gauge.threshold.value;(rt||rt===0)&&Ae.push({range:[rt,rt],color:z.gauge.threshold.color,line:{color:z.gauge.threshold.line.color,width:z.gauge.threshold.line.width},thickness:z.gauge.threshold.thickness});var Qe=fe.selectAll("g.threshold-arc").data(Ae);Qe.enter().append("g").classed("threshold-arc",!0).append("path"),Qe.select("path").call(J).call(m),Qe.exit().remove();var Je=fe.selectAll("g.gauge-outline").data([ee]);Je.enter().append("g").classed("gauge-outline",!0).append("path"),Je.select("path").call(J).call(m),Je.exit().remove()}function E(I,N,k,O){var z=k[0].trace,F=O.numbersX,B=O.numbersY,G=z.align||"center",Q=b[G],ee=O.transitionOpts,ae=O.onComplete,fe=L.ensureSingle(N,"g","numbers"),K,W,Z,X=[];z._hasNumber&&X.push("number"),z._hasDelta&&(X.push("delta"),z.delta.position==="left"&&X.reverse());var $=fe.selectAll("text").data(X);$.enter().append("text"),$.attr("text-anchor",function(){return Q}).attr("class",function(ze){return ze}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),$.exit().remove();function ie(ze,Te,ye,Ae){if(ze.match("s")&&ye>=0!=Ae>=0&&!Te(ye).slice(-1).match(o)&&!Te(Ae).slice(-1).match(o)){var Ne=ze.slice().replace("s","f").replace(/\d+/,function(Re){return parseInt(Re)-1}),Ue=w(I,{tickformat:Ne});return function(Re){return Math.abs(Re)<1?s.tickText(Ue,Re).text:Te(Re)}}else return Te}function J(){var ze=w(I,{tickformat:z.number.valueformat},z._range);ze.setScale(),s.prepTicks(ze);var Te=function(Re){return s.tickText(ze,Re).text},ye=z.number.suffix,Ae=z.number.prefix,Ne=fe.select("text.number");function Ue(){var Re=typeof k[0].y=="number"?Ae+Te(k[0].y)+ye:"-";Ne.text(Re).call(r.font,z.number.font).call(n.convertToTspans,I)}return p(ee)?Ne.transition().duration(ee.duration).ease(ee.easing).each("end",function(){Ue(),ae&&ae()}).each("interrupt",function(){Ue(),ae&&ae()}).attrTween("text",function(){var Re=g.select(this),Ve=a(k[0].lastY,k[0].y);z._lastValue=k[0].y;var rt=ie(z.number.valueformat,Te,k[0].lastY,k[0].y);return function(Qe){Re.text(Ae+rt(Ve(Qe))+ye)}}):Ue(),K=y(Ae+Te(k[0].y)+ye,z.number.font,Q,I),Ne}function j(){var ze=w(I,{tickformat:z.delta.valueformat},z._range);ze.setScale(),s.prepTicks(ze);var Te=function(Qe){return s.tickText(ze,Qe).text},ye=z.delta.suffix,Ae=z.delta.prefix,Ne=function(Qe){var Je=z.delta.relative?Qe.relativeDelta:Qe.delta;return Je},Ue=function(Qe,Je){return Qe===0||typeof Qe!="number"||isNaN(Qe)?"-":(Qe>0?z.delta.increasing.symbol:z.delta.decreasing.symbol)+Ae+Je(Qe)+ye},Re=function(Qe){return Qe.delta>=0?z.delta.increasing.color:z.delta.decreasing.color};z._deltaLastValue===void 0&&(z._deltaLastValue=Ne(k[0]));var Ve=fe.select("text.delta");Ve.call(r.font,z.delta.font).call(c.fill,Re({delta:z._deltaLastValue}));function rt(){Ve.text(Ue(Ne(k[0]),Te)).call(c.fill,Re(k[0])).call(n.convertToTspans,I)}return p(ee)?Ve.transition().duration(ee.duration).ease(ee.easing).tween("text",function(){var Qe=g.select(this),Je=Ne(k[0]),qe=z._deltaLastValue,dt=ie(z.delta.valueformat,Te,qe,Je),pt=a(qe,Je);return z._deltaLastValue=Je,function(mt){Qe.text(Ue(pt(mt),dt)),Qe.call(c.fill,Re({delta:pt(mt)}))}}).each("end",function(){rt(),ae&&ae()}).each("interrupt",function(){rt(),ae&&ae()}):rt(),W=y(Ue(Ne(k[0]),Te),z.delta.font,Q,I),Ve}var se=z.mode+z.align,ne;if(z._hasDelta&&(ne=j(),se+=z.delta.position+z.delta.font.size+z.delta.font.family+z.delta.valueformat,se+=z.delta.increasing.symbol+z.delta.decreasing.symbol,Z=W),z._hasNumber&&(J(),se+=z.number.font.size+z.number.font.family+z.number.valueformat+z.number.suffix+z.number.prefix,Z=K),z._hasDelta&&z._hasNumber){var ue=[(K.left+K.right)/2,(K.top+K.bottom)/2],ge=[(W.left+W.right)/2,(W.top+W.bottom)/2],we,xe,Fe=.75*z.delta.font.size;z.delta.position==="left"&&(we=_(z,"deltaPos",0,-1*(K.width*h[z.align]+W.width*(1-h[z.align])+Fe),se,Math.min),xe=ue[1]-ge[1],Z={width:K.width+W.width+Fe,height:Math.max(K.height,W.height),left:W.left+we,right:K.right,top:Math.min(K.top,W.top+xe),bottom:Math.max(K.bottom,W.bottom+xe)}),z.delta.position==="right"&&(we=_(z,"deltaPos",0,K.width*(1-h[z.align])+W.width*h[z.align]+Fe,se,Math.max),xe=ue[1]-ge[1],Z={width:K.width+W.width+Fe,height:Math.max(K.height,W.height),left:K.left,right:W.right+we,top:Math.min(K.top,W.top+xe),bottom:Math.max(K.bottom,W.bottom+xe)}),z.delta.position==="bottom"&&(we=null,xe=W.height,Z={width:Math.max(K.width,W.width),height:K.height+W.height,left:Math.min(K.left,W.left),right:Math.max(K.right,W.right),top:K.bottom-K.height,bottom:K.bottom+W.height}),z.delta.position==="top"&&(we=null,xe=K.top,Z={width:Math.max(K.width,W.width),height:K.height+W.height,left:Math.min(K.left,W.left),right:Math.max(K.right,W.right),top:K.bottom-K.height-W.height,bottom:K.bottom}),ne.attr({dx:we,dy:xe})}(z._hasNumber||z._hasDelta)&&fe.attr("transform",function(){var ze=O.numbersScaler(Z);se+=ze[2];var Te=_(z,"numbersScale",1,ze[0],se,Math.min),ye;z._scaleNumbers||(Te=1),z._isAngular?ye=B-Te*Z.bottom:ye=B-Te*(Z.top+Z.bottom)/2,z._numbersTop=Te*Z.top+ye;var Ae=Z[G];G==="center"&&(Ae=(Z.left+Z.right)/2);var Ne=F-Te*Ae;return Ne=_(z,"numbersTranslate",0,Ne,se,Math.max),v(Ne,ye)+T(Te)})}function m(I){I.each(function(N){c.stroke(g.select(this),N.line.color)}).each(function(N){c.fill(g.select(this),N.color)}).style("stroke-width",function(N){return N.line.width})}function M(I,N,k){return function(){var O=P(N,k);return function(z){return I.endAngle(O(z))()}}}function w(I,N,k){var O=I._fullLayout,z=L.extendFlat({type:"linear",ticks:"outside",range:k,showline:!0},N),F={type:"linear",_id:"x"+N._id},B={letter:"x",font:O.font,noHover:!0,noTickson:!0};function G(Q,ee){return L.coerce(z,F,x,Q,ee)}return f(z,F,G,B,O),l(z,F,G,B),F}function i(I,N,k){var O=Math.min(N/I.width,k/I.height);return[O,I,N+"x"+k]}function C(I,N){var k=Math.sqrt(I.width/2*(I.width/2)+I.height*I.height),O=N/k;return[O,I,N]}function y(I,N,k,O){var z=document.createElementNS("http://www.w3.org/2000/svg","text"),F=g.select(z);return F.text(I).attr("x",0).attr("y",0).attr("text-anchor",k).attr("data-unformatted",I).call(n.convertToTspans,O).call(r.font,N),r.bBox(F.node())}function _(I,N,k,O,z,F){var B="_cache"+N;I[B]&&I[B].key===z||(I[B]={key:z,value:k});var G=L.aggNums(F,null,[I[B].value,O],2);return I[B].value=G,G}},16249:function(H,U,e){var g=e(50693),P=e(12663).axisHoverFormat,a=e(5386).fF,L=e(2418),T=e(9012),v=e(1426).extendFlat,d=e(30962).overrideAll;function t(n){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function r(n){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var u=H.exports=d(v({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:t(),y:t(),z:t()},caps:{x:r(),y:r(),z:r()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:a(),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),valuehoverformat:P("value",1),showlegend:v({},T.showlegend,{dflt:!1})},g("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:L.opacity,lightposition:L.lightposition,lighting:L.lighting,flatshading:L.flatshading,contour:L.contour,hoverinfo:v({},T.hoverinfo)}),"calc","nested");u.flatshading.dflt=!0,u.lighting.facenormalsepsilon.dflt=0,u.x.editType=u.y.editType=u.z.editType=u.value.editType="calc+clearAxisTypes",u.transforms=void 0},56959:function(H,U,e){var g=e(78803),P=e(88489).processGrid,a=e(88489).filter;H.exports=function(T,v){v._len=Math.min(v.x.length,v.y.length,v.z.length,v.value.length),v._x=a(v.x,v._len),v._y=a(v.y,v._len),v._z=a(v.z,v._len),v._value=a(v.value,v._len);var d=P(v);v._gridFill=d.fill,v._Xs=d.Xs,v._Ys=d.Ys,v._Zs=d.Zs,v._len=d.len;for(var t=1/0,r=-1/0,u=0;u<v._len;u++){var n=v._value[u];t=Math.min(t,n),r=Math.max(r,n)}v._minValues=t,v._maxValues=r,v._vMin=v.isomin===void 0||v.isomin===null?t:v.isomin,v._vMax=v.isomax===void 0||v.isomin===null?r:v.isomax,g(T,v,{vals:[v._vMin,v._vMax],containerStr:"",cLetter:"c"})}},22674:function(H,U,e){var g=e(9330).gl_mesh3d,P=e(81697).parseColorScale,a=e(78614),L=e(21081).extractOpts,T=e(90060),v=function(s,f){for(var l=f.length-1;l>0;l--){var x=Math.min(f[l],f[l-1]),c=Math.max(f[l],f[l-1]);if(c>x&&x<s&&s<=c)return{id:l,distRatio:(c-s)/(c-x)}}return{id:0,distRatio:0}};function d(s,f,l){this.scene=s,this.uid=l,this.mesh=f,this.name="",this.data=null,this.showContour=!1}var t=d.prototype;t.handlePick=function(s){if(s.object===this.mesh){var f=s.data.index,l=this.data._meshX[f],x=this.data._meshY[f],c=this.data._meshZ[f],b=this.data._Ys.length,h=this.data._Zs.length,o=v(l,this.data._Xs).id,p=v(x,this.data._Ys).id,S=v(c,this.data._Zs).id,A=s.index=S+h*p+h*b*o;s.traceCoordinate=[this.data._meshX[A],this.data._meshY[A],this.data._meshZ[A],this.data._value[A]];var E=this.data.hovertext||this.data.text;return Array.isArray(E)&&E[A]!==void 0?s.textLabel=E[A]:E&&(s.textLabel=E),!0}},t.update=function(s){var f=this.scene,l=f.fullSceneLayout;this.data=u(s);function x(p,S,A,E){return S.map(function(m){return p.d2l(m,0,E)*A})}var c=T(x(l.xaxis,s._meshX,f.dataScale[0],s.xcalendar),x(l.yaxis,s._meshY,f.dataScale[1],s.ycalendar),x(l.zaxis,s._meshZ,f.dataScale[2],s.zcalendar)),b=T(s._meshI,s._meshJ,s._meshK),h={positions:c,cells:b,lightPosition:[s.lightposition.x,s.lightposition.y,s.lightposition.z],ambient:s.lighting.ambient,diffuse:s.lighting.diffuse,specular:s.lighting.specular,roughness:s.lighting.roughness,fresnel:s.lighting.fresnel,vertexNormalsEpsilon:s.lighting.vertexnormalsepsilon,faceNormalsEpsilon:s.lighting.facenormalsepsilon,opacity:s.opacity,contourEnable:s.contour.show,contourColor:a(s.contour.color).slice(0,3),contourWidth:s.contour.width,useFacetNormals:s.flatshading},o=L(s);h.vertexIntensity=s._meshIntensity,h.vertexIntensityBounds=[o.min,o.max],h.colormap=P(s),this.mesh.update(h)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var r=["xyz","xzy","yxz","yzx","zxy","zyx"];function u(s){s._meshI=[],s._meshJ=[],s._meshK=[];var f=s.surface.show,l=s.spaceframe.show,x=s.surface.fill,c=s.spaceframe.fill,b=!1,h=!1,o=0,p,S,A=s._Xs,E=s._Ys,m=s._Zs,M=A.length,w=E.length,i=m.length,C=r.indexOf(s._gridFill.replace(/-/g,"").replace(/\+/g,"")),y=function(Le,Pe,ke){switch(C){case 5:return ke+i*Pe+i*w*Le;case 4:return ke+i*Le+i*M*Pe;case 3:return Pe+w*ke+w*i*Le;case 2:return Pe+w*Le+w*M*ke;case 1:return Le+M*ke+M*i*Pe;default:return Le+M*Pe+M*w*ke}},_=s._minValues,I=s._maxValues,N=s._vMin,k=s._vMax,O,z,F,B;function G(Le,Pe,ke){for(var Ce=B.length,me=S;me<Ce;me++)if(Le===O[me]&&Pe===z[me]&&ke===F[me])return me;return-1}function Q(){S=p}function ee(){O=[],z=[],F=[],B=[],p=0,Q()}function ae(Le,Pe,ke,Ce){return O.push(Le),z.push(Pe),F.push(ke),B.push(Ce),p++,p-1}function fe(Le,Pe,ke){return s._meshI.push(Le),s._meshJ.push(Pe),s._meshK.push(ke),o++,o-1}function K(Le,Pe,ke){for(var Ce=[],me=0;me<Le.length;me++)Ce[me]=(Le[me]+Pe[me]+ke[me])/3;return Ce}function W(Le,Pe,ke){for(var Ce=[],me=0;me<Le.length;me++)Ce[me]=Le[me]*(1-ke)+ke*Pe[me];return Ce}var Z;function X(Le){Z=Le}function $(Le,Pe){var ke=Le[0],Ce=Le[1],me=Le[2],oe=K(ke,Ce,me),pe=Math.sqrt(1-Z),Me=W(oe,ke,pe),_e=W(oe,Ce,pe),tt=W(oe,me,pe),at=Pe[0],At=Pe[1],Ft=Pe[2];return{xyzv:[[ke,Ce,_e],[_e,Me,ke],[Ce,me,tt],[tt,_e,Ce],[me,ke,Me],[Me,tt,me]],abc:[[at,At,-1],[-1,-1,at],[At,Ft,-1],[-1,-1,At],[Ft,at,-1],[-1,-1,Ft]]}}function ie(Le,Pe){return Le==="all"||Le===null?!0:Le.indexOf(Pe)>-1}function J(Le,Pe){return Le===null?Pe:Le}function j(Le,Pe,ke){Q();var Ce=[Pe],me=[ke];if(Z>=1)Ce=[Pe],me=[ke];else if(Z>0){var oe=$(Pe,ke);Ce=oe.xyzv,me=oe.abc}for(var pe=0;pe<Ce.length;pe++){Pe=Ce[pe],ke=me[pe];for(var Me=[],_e=0;_e<3;_e++){var tt=Pe[_e][0],at=Pe[_e][1],At=Pe[_e][2],Ft=Pe[_e][3],Gt=ke[_e]>-1?ke[_e]:G(tt,at,At);Gt>-1?Me[_e]=Gt:Me[_e]=ae(tt,at,At,J(Le,Ft))}fe(Me[0],Me[1],Me[2])}}function se(Le,Pe,ke){var Ce=function(me,oe,pe){j(Le,[Pe[me],Pe[oe],Pe[pe]],[ke[me],ke[oe],ke[pe]])};Ce(0,1,2),Ce(2,3,0)}function ne(Le,Pe,ke){var Ce=function(me,oe,pe){j(Le,[Pe[me],Pe[oe],Pe[pe]],[ke[me],ke[oe],ke[pe]])};Ce(0,1,2),Ce(3,0,1),Ce(2,3,0),Ce(1,2,3)}function ue(Le,Pe,ke,Ce){var me=Le[3];me<ke&&(me=ke),me>Ce&&(me=Ce);for(var oe=(Le[3]-me)/(Le[3]-Pe[3]+1e-9),pe=[],Me=0;Me<4;Me++)pe[Me]=(1-oe)*Le[Me]+oe*Pe[Me];return pe}function ge(Le,Pe,ke){return Le>=Pe&&Le<=ke}function we(Le){var Pe=.001*(k-N);return Le>=N-Pe&&Le<=k+Pe}function xe(Le){for(var Pe=[],ke=0;ke<4;ke++){var Ce=Le[ke];Pe.push([s._x[Ce],s._y[Ce],s._z[Ce],s._value[Ce]])}return Pe}var Fe=3;function ze(Le,Pe,ke,Ce,me,oe){oe||(oe=1),ke=[-1,-1,-1];var pe=!1,Me=[ge(Pe[0][3],Ce,me),ge(Pe[1][3],Ce,me),ge(Pe[2][3],Ce,me)];if(!Me[0]&&!Me[1]&&!Me[2])return!1;var _e=function(at,At,Ft){return we(At[0][3])&&we(At[1][3])&&we(At[2][3])?(j(at,At,Ft),!0):oe<Fe?ze(at,At,Ft,N,k,++oe):!1};if(Me[0]&&Me[1]&&Me[2])return _e(Le,Pe,ke)||pe;var tt=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(at){if(Me[at[0]]&&Me[at[1]]&&!Me[at[2]]){var At=Pe[at[0]],Ft=Pe[at[1]],Gt=Pe[at[2]],Yt=ue(Gt,At,Ce,me),Dt=ue(Gt,Ft,Ce,me);pe=_e(Le,[Dt,Yt,At],[-1,-1,ke[at[0]]])||pe,pe=_e(Le,[At,Ft,Dt],[ke[at[0]],ke[at[1]],-1])||pe,tt=!0}}),tt||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(at){if(Me[at[0]]&&!Me[at[1]]&&!Me[at[2]]){var At=Pe[at[0]],Ft=Pe[at[1]],Gt=Pe[at[2]],Yt=ue(Ft,At,Ce,me),Dt=ue(Gt,At,Ce,me);pe=_e(Le,[Dt,Yt,At],[-1,-1,ke[at[0]]])||pe,tt=!0}}),pe}function Te(Le,Pe,ke,Ce){var me=!1,oe=xe(Pe),pe=[ge(oe[0][3],ke,Ce),ge(oe[1][3],ke,Ce),ge(oe[2][3],ke,Ce),ge(oe[3][3],ke,Ce)];if(!pe[0]&&!pe[1]&&!pe[2]&&!pe[3])return me;if(pe[0]&&pe[1]&&pe[2]&&pe[3])return h&&(me=ne(Le,oe,Pe)||me),me;var Me=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(_e){if(pe[_e[0]]&&pe[_e[1]]&&pe[_e[2]]&&!pe[_e[3]]){var tt=oe[_e[0]],at=oe[_e[1]],At=oe[_e[2]],Ft=oe[_e[3]];if(h)me=j(Le,[tt,at,At],[Pe[_e[0]],Pe[_e[1]],Pe[_e[2]]])||me;else{var Gt=ue(Ft,tt,ke,Ce),Yt=ue(Ft,at,ke,Ce),Dt=ue(Ft,At,ke,Ce);me=j(null,[Gt,Yt,Dt],[-1,-1,-1])||me}Me=!0}}),Me||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(_e){if(pe[_e[0]]&&pe[_e[1]]&&!pe[_e[2]]&&!pe[_e[3]]){var tt=oe[_e[0]],at=oe[_e[1]],At=oe[_e[2]],Ft=oe[_e[3]],Gt=ue(At,tt,ke,Ce),Yt=ue(At,at,ke,Ce),Dt=ue(Ft,at,ke,Ce),$t=ue(Ft,tt,ke,Ce);h?(me=j(Le,[tt,$t,Gt],[Pe[_e[0]],-1,-1])||me,me=j(Le,[at,Yt,Dt],[Pe[_e[1]],-1,-1])||me):me=se(null,[Gt,Yt,Dt,$t],[-1,-1,-1,-1])||me,Me=!0}}),Me)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(_e){if(pe[_e[0]]&&!pe[_e[1]]&&!pe[_e[2]]&&!pe[_e[3]]){var tt=oe[_e[0]],at=oe[_e[1]],At=oe[_e[2]],Ft=oe[_e[3]],Gt=ue(at,tt,ke,Ce),Yt=ue(At,tt,ke,Ce),Dt=ue(Ft,tt,ke,Ce);h?(me=j(Le,[tt,Gt,Yt],[Pe[_e[0]],-1,-1])||me,me=j(Le,[tt,Yt,Dt],[Pe[_e[0]],-1,-1])||me,me=j(Le,[tt,Dt,Gt],[Pe[_e[0]],-1,-1])||me):me=j(null,[Gt,Yt,Dt],[-1,-1,-1])||me,Me=!0}}),me}function ye(Le,Pe,ke,Ce,me,oe,pe,Me,_e,tt,at){var At=!1;return b&&(ie(Le,"A")&&(At=Te(null,[Pe,ke,Ce,oe],tt,at)||At),ie(Le,"B")&&(At=Te(null,[ke,Ce,me,_e],tt,at)||At),ie(Le,"C")&&(At=Te(null,[ke,oe,pe,_e],tt,at)||At),ie(Le,"D")&&(At=Te(null,[Ce,oe,Me,_e],tt,at)||At),ie(Le,"E")&&(At=Te(null,[ke,Ce,oe,_e],tt,at)||At)),h&&(At=Te(Le,[ke,Ce,oe,_e],tt,at)||At),At}function Ae(Le,Pe,ke,Ce,me,oe,pe,Me){return[Me[0]===!0?!0:ze(Le,xe([Pe,ke,Ce]),[Pe,ke,Ce],oe,pe),Me[1]===!0?!0:ze(Le,xe([Ce,me,Pe]),[Ce,me,Pe],oe,pe)]}function Ne(Le,Pe,ke,Ce,me,oe,pe,Me,_e){return Me?Ae(Le,Pe,ke,me,Ce,oe,pe,_e):Ae(Le,ke,me,Ce,Pe,oe,pe,_e)}function Ue(Le,Pe,ke,Ce,me,oe,pe){var Me=!1,_e,tt,at,At,Ft=function(){Me=ze(Le,[_e,tt,at],[-1,-1,-1],me,oe)||Me,Me=ze(Le,[at,At,_e],[-1,-1,-1],me,oe)||Me},Gt=pe[0],Yt=pe[1],Dt=pe[2];return Gt&&(_e=W(xe([y(Pe,ke-0,Ce-0)])[0],xe([y(Pe-1,ke-0,Ce-0)])[0],Gt),tt=W(xe([y(Pe,ke-0,Ce-1)])[0],xe([y(Pe-1,ke-0,Ce-1)])[0],Gt),at=W(xe([y(Pe,ke-1,Ce-1)])[0],xe([y(Pe-1,ke-1,Ce-1)])[0],Gt),At=W(xe([y(Pe,ke-1,Ce-0)])[0],xe([y(Pe-1,ke-1,Ce-0)])[0],Gt),Ft()),Yt&&(_e=W(xe([y(Pe-0,ke,Ce-0)])[0],xe([y(Pe-0,ke-1,Ce-0)])[0],Yt),tt=W(xe([y(Pe-0,ke,Ce-1)])[0],xe([y(Pe-0,ke-1,Ce-1)])[0],Yt),at=W(xe([y(Pe-1,ke,Ce-1)])[0],xe([y(Pe-1,ke-1,Ce-1)])[0],Yt),At=W(xe([y(Pe-1,ke,Ce-0)])[0],xe([y(Pe-1,ke-1,Ce-0)])[0],Yt),Ft()),Dt&&(_e=W(xe([y(Pe-0,ke-0,Ce)])[0],xe([y(Pe-0,ke-0,Ce-1)])[0],Dt),tt=W(xe([y(Pe-0,ke-1,Ce)])[0],xe([y(Pe-0,ke-1,Ce-1)])[0],Dt),at=W(xe([y(Pe-1,ke-1,Ce)])[0],xe([y(Pe-1,ke-1,Ce-1)])[0],Dt),At=W(xe([y(Pe-1,ke-0,Ce)])[0],xe([y(Pe-1,ke-0,Ce-1)])[0],Dt),Ft()),Me}function Re(Le,Pe,ke,Ce,me,oe,pe,Me,_e,tt,at,At){var Ft=Le;return At?(b&&Le==="even"&&(Ft=null),ye(Ft,Pe,ke,Ce,me,oe,pe,Me,_e,tt,at)):(b&&Le==="odd"&&(Ft=null),ye(Ft,_e,Me,pe,oe,me,Ce,ke,Pe,tt,at))}function Ve(Le,Pe,ke,Ce,me){for(var oe=[],pe=0,Me=0;Me<Pe.length;Me++)for(var _e=Pe[Me],tt=1;tt<i;tt++)for(var at=1;at<w;at++)oe.push(Ne(Le,y(_e,at-1,tt-1),y(_e,at-1,tt),y(_e,at,tt-1),y(_e,at,tt),ke,Ce,(_e+at+tt)%2,me&&me[pe]?me[pe]:[])),pe++;return oe}function rt(Le,Pe,ke,Ce,me){for(var oe=[],pe=0,Me=0;Me<Pe.length;Me++)for(var _e=Pe[Me],tt=1;tt<M;tt++)for(var at=1;at<i;at++)oe.push(Ne(Le,y(tt-1,_e,at-1),y(tt,_e,at-1),y(tt-1,_e,at),y(tt,_e,at),ke,Ce,(tt+_e+at)%2,me&&me[pe]?me[pe]:[])),pe++;return oe}function Qe(Le,Pe,ke,Ce,me){for(var oe=[],pe=0,Me=0;Me<Pe.length;Me++)for(var _e=Pe[Me],tt=1;tt<w;tt++)for(var at=1;at<M;at++)oe.push(Ne(Le,y(at-1,tt-1,_e),y(at-1,tt,_e),y(at,tt-1,_e),y(at,tt,_e),ke,Ce,(at+tt+_e)%2,me&&me[pe]?me[pe]:[])),pe++;return oe}function Je(Le,Pe,ke){for(var Ce=1;Ce<i;Ce++)for(var me=1;me<w;me++)for(var oe=1;oe<M;oe++)Re(Le,y(oe-1,me-1,Ce-1),y(oe-1,me-1,Ce),y(oe-1,me,Ce-1),y(oe-1,me,Ce),y(oe,me-1,Ce-1),y(oe,me-1,Ce),y(oe,me,Ce-1),y(oe,me,Ce),Pe,ke,(oe+me+Ce)%2)}function qe(Le,Pe,ke){h=!0,Je(Le,Pe,ke),h=!1}function dt(Le,Pe,ke){b=!0,Je(Le,Pe,ke),b=!1}function pt(Le,Pe,ke,Ce,me,oe){for(var pe=[],Me=0,_e=0;_e<Pe.length;_e++)for(var tt=Pe[_e],at=1;at<i;at++)for(var At=1;At<w;At++)pe.push(Ue(Le,tt,At,at,ke,Ce,me[_e],oe&&oe[Me]?oe[Me]:[])),Me++;return pe}function mt(Le,Pe,ke,Ce,me,oe){for(var pe=[],Me=0,_e=0;_e<Pe.length;_e++)for(var tt=Pe[_e],at=1;at<M;at++)for(var At=1;At<i;At++)pe.push(Ue(Le,at,tt,At,ke,Ce,me[_e],oe&&oe[Me]?oe[Me]:[])),Me++;return pe}function Ct(Le,Pe,ke,Ce,me,oe){for(var pe=[],Me=0,_e=0;_e<Pe.length;_e++)for(var tt=Pe[_e],at=1;at<w;at++)for(var At=1;At<M;At++)pe.push(Ue(Le,At,at,tt,ke,Ce,me[_e],oe&&oe[Me]?oe[Me]:[])),Me++;return pe}function Rt(Le,Pe){for(var ke=[],Ce=Le;Ce<Pe;Ce++)ke.push(Ce);return ke}function Zt(){for(var Le=0;Le<M;Le++)for(var Pe=0;Pe<w;Pe++)for(var ke=0;ke<i;ke++){var Ce=y(Le,Pe,ke);ae(s._x[Ce],s._y[Ce],s._z[Ce],s._value[Ce])}}function Xe(){ee(),Zt();var Le=null;if(l&&c&&(X(c),qe(Le,N,k)),f&&x){X(x);for(var Pe=s.surface.pattern,ke=s.surface.count,Ce=0;Ce<ke;Ce++){var me=ke===1?.5:Ce/(ke-1),oe=(1-me)*N+me*k,pe=Math.abs(oe-_),Me=Math.abs(oe-I),_e=pe>Me?[_,oe]:[oe,I];dt(Pe,_e[0],_e[1])}}var tt=[[Math.min(N,I),Math.max(N,I)],[Math.min(_,k),Math.max(_,k)]];["x","y","z"].forEach(function(at){for(var At=[],Ft=0;Ft<tt.length;Ft++){var Gt=0,Yt=tt[Ft][0],Dt=tt[Ft][1],$t=s.slices[at];if($t.show&&$t.fill){X($t.fill);var lr=[],Hr=[],xt=[];if($t.locations.length)for(var Qt=0;Qt<$t.locations.length;Qt++){var jt=v($t.locations[Qt],at==="x"?A:at==="y"?E:m);jt.distRatio===0?lr.push(jt.id):jt.id>0&&(Hr.push(jt.id),at==="x"?xt.push([jt.distRatio,0,0]):at==="y"?xt.push([0,jt.distRatio,0]):xt.push([0,0,jt.distRatio]))}else at==="x"?lr=Rt(1,M-1):at==="y"?lr=Rt(1,w-1):lr=Rt(1,i-1);Hr.length>0&&(at==="x"?At[Gt]=pt(Le,Hr,Yt,Dt,xt,At[Gt]):at==="y"?At[Gt]=mt(Le,Hr,Yt,Dt,xt,At[Gt]):At[Gt]=Ct(Le,Hr,Yt,Dt,xt,At[Gt]),Gt++),lr.length>0&&(at==="x"?At[Gt]=Ve(Le,lr,Yt,Dt,At[Gt]):at==="y"?At[Gt]=rt(Le,lr,Yt,Dt,At[Gt]):At[Gt]=Qe(Le,lr,Yt,Dt,At[Gt]),Gt++)}var Sr=s.caps[at];Sr.show&&Sr.fill&&(X(Sr.fill),at==="x"?At[Gt]=Ve(Le,[0,M-1],Yt,Dt,At[Gt]):at==="y"?At[Gt]=rt(Le,[0,w-1],Yt,Dt,At[Gt]):At[Gt]=Qe(Le,[0,i-1],Yt,Dt,At[Gt]),Gt++)}}),o===0&&ee(),s._meshX=O,s._meshY=z,s._meshZ=F,s._meshIntensity=B,s._Xs=A,s._Ys=E,s._Zs=m}return Xe(),s}function n(s,f){var l=s.glplot.gl,x=g({gl:l}),c=new d(s,x,f.uid);return x._trace=c,c.update(f),s.glplot.add(x),c}H.exports={findNearestOnAxis:v,generateIsoMeshes:u,createIsosurfaceTrace:n}},82738:function(H,U,e){var g=e(71828),P=e(73972),a=e(16249),L=e(1586);function T(d,t,r,u){function n(s,f){return g.coerce(d,t,a,s,f)}v(d,t,r,u,n)}function v(d,t,r,u,n){var s=n("isomin"),f=n("isomax");f!=null&&s!==void 0&&s!==null&&s>f&&(t.isomin=null,t.isomax=null);var l=n("x"),x=n("y"),c=n("z"),b=n("value");if(!l||!l.length||!x||!x.length||!c||!c.length||!b||!b.length){t.visible=!1;return}var h=P.getComponentMethod("calendars","handleTraceDefaults");h(d,t,["x","y","z"],u),n("valuehoverformat"),["x","y","z"].forEach(function(A){n(A+"hoverformat");var E="caps."+A,m=n(E+".show");m&&n(E+".fill");var M="slices."+A,w=n(M+".show");w&&(n(M+".fill"),n(M+".locations"))});var o=n("spaceframe.show");o&&n("spaceframe.fill");var p=n("surface.show");p&&(n("surface.count"),n("surface.fill"),n("surface.pattern"));var S=n("contour.show");S&&(n("contour.color"),n("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(A){n(A)}),L(d,t,u,n,{prefix:"",cLetter:"c"}),t._length=null}H.exports={supplyDefaults:T,supplyIsoDefaults:v}},64943:function(H,U,e){H.exports={attributes:e(16249),supplyDefaults:e(82738).supplyDefaults,calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(22674).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2418:function(H,U,e){var g=e(50693),P=e(12663).axisHoverFormat,a=e(5386).fF,L=e(54532),T=e(9012),v=e(1426).extendFlat;H.exports=v({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"}),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},g("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:L.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:v({},L.contours.x.show,{}),color:L.contours.x.color,width:L.contours.x.width,editType:"calc"},lightposition:{x:v({},L.lightposition.x,{dflt:1e5}),y:v({},L.lightposition.y,{dflt:1e5}),z:v({},L.lightposition.z,{dflt:0}),editType:"calc"},lighting:v({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},L.lighting),hoverinfo:v({},T.hoverinfo,{editType:"calc"}),showlegend:v({},T.showlegend,{dflt:!1})})},82932:function(H,U,e){var g=e(78803);H.exports=function(a,L){L.intensity&&g(a,L,{vals:L.intensity,containerStr:"",cLetter:"c"})}},91134:function(H,U,e){var g=e(9330).gl_mesh3d,P=e(9330).delaunay_triangulate,a=e(9330).alpha_shape,L=e(9330).convex_hull,T=e(81697).parseColorScale,v=e(78614),d=e(21081).extractOpts,t=e(90060);function r(b,h,o){this.scene=b,this.uid=o,this.mesh=h,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var u=r.prototype;u.handlePick=function(b){if(b.object===this.mesh){var h=b.index=b.data.index;b.data._cellCenter?b.traceCoordinate=b.data.dataCoordinate:b.traceCoordinate=[this.data.x[h],this.data.y[h],this.data.z[h]];var o=this.data.hovertext||this.data.text;return Array.isArray(o)&&o[h]!==void 0?b.textLabel=o[h]:o&&(b.textLabel=o),!0}};function n(b){for(var h=[],o=b.length,p=0;p<o;p++)h[p]=v(b[p]);return h}function s(b,h,o,p){for(var S=[],A=h.length,E=0;E<A;E++)S[E]=b.d2l(h[E],0,p)*o;return S}function f(b){for(var h=[],o=b.length,p=0;p<o;p++)h[p]=Math.round(b[p]);return h}function l(b,h){for(var o=["x","y","z"].indexOf(b),p=[],S=h.length,A=0;A<S;A++)p[A]=[h[A][(o+1)%3],h[A][(o+2)%3]];return P(p)}function x(b,h){for(var o=b.length,p=0;p<o;p++)if(b[p]<=-.5||b[p]>=h-.5)return!1;return!0}u.update=function(b){var h=this.scene,o=h.fullSceneLayout;this.data=b;var p=b.x.length,S=t(s(o.xaxis,b.x,h.dataScale[0],b.xcalendar),s(o.yaxis,b.y,h.dataScale[1],b.ycalendar),s(o.zaxis,b.z,h.dataScale[2],b.zcalendar)),A;if(b.i&&b.j&&b.k){if(b.i.length!==b.j.length||b.j.length!==b.k.length||!x(b.i,p)||!x(b.j,p)||!x(b.k,p))return;A=t(f(b.i),f(b.j),f(b.k))}else b.alphahull===0?A=L(S):b.alphahull>0?A=a(b.alphahull,S):A=l(b.delaunayaxis,S);var E={positions:S,cells:A,lightPosition:[b.lightposition.x,b.lightposition.y,b.lightposition.z],ambient:b.lighting.ambient,diffuse:b.lighting.diffuse,specular:b.lighting.specular,roughness:b.lighting.roughness,fresnel:b.lighting.fresnel,vertexNormalsEpsilon:b.lighting.vertexnormalsepsilon,faceNormalsEpsilon:b.lighting.facenormalsepsilon,opacity:b.opacity,contourEnable:b.contour.show,contourColor:v(b.contour.color).slice(0,3),contourWidth:b.contour.width,useFacetNormals:b.flatshading};if(b.intensity){var m=d(b);this.color="#fff";var M=b.intensitymode;E[M+"Intensity"]=b.intensity,E[M+"IntensityBounds"]=[m.min,m.max],E.colormap=T(b)}else b.vertexcolor?(this.color=b.vertexcolor[0],E.vertexColors=n(b.vertexcolor)):b.facecolor?(this.color=b.facecolor[0],E.cellColors=n(b.facecolor)):(this.color=b.color,E.meshColor=v(b.color));this.mesh.update(E)},u.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function c(b,h){var o=b.glplot.gl,p=g({gl:o}),S=new r(b,p,h.uid);return p._trace=S,S.update(h),b.glplot.add(p),S}H.exports=c},58669:function(H,U,e){var g=e(73972),P=e(71828),a=e(1586),L=e(2418);H.exports=function(v,d,t,r){function u(x,c){return P.coerce(v,d,L,x,c)}function n(x){var c=x.map(function(b){var h=u(b);return h&&P.isArrayOrTypedArray(h)?h:null});return c.every(function(b){return b&&b.length===c[0].length})&&c}var s=n(["x","y","z"]);if(!s){d.visible=!1;return}if(n(["i","j","k"]),d.i&&(!d.j||!d.k)||d.j&&(!d.k||!d.i)||d.k&&(!d.i||!d.j)){d.visible=!1;return}var f=g.getComponentMethod("calendars","handleTraceDefaults");f(v,d,["x","y","z"],r),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(x){u(x)});var l=u("contour.show");l&&(u("contour.color"),u("contour.width")),"intensity"in v?(u("intensity"),u("intensitymode"),a(v,d,r,u,{prefix:"",cLetter:"c"})):(d.showscale=!1,"facecolor"in v?u("facecolor"):"vertexcolor"in v?u("vertexcolor"):u("color",t)),u("text"),u("hovertext"),u("hovertemplate"),u("xhoverformat"),u("yhoverformat"),u("zhoverformat"),d._length=null}},21164:function(H,U,e){H.exports={attributes:e(2418),supplyDefaults:e(58669),calc:e(82932),colorbar:{min:"cmin",max:"cmax"},plot:e(91134),moduleType:"trace",name:"mesh3d",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2522:function(H,U,e){var g=e(71828).extendFlat,P=e(82196),a=e(12663).axisHoverFormat,L=e(79952).P,T=e(77914),v=e(22372),d=v.INCREASING.COLOR,t=v.DECREASING.COLOR,r=P.line;function u(n){return{line:{color:g({},r.color,{dflt:n}),width:r.width,dash:L,editType:"style"},editType:"style"}}H.exports={xperiod:P.xperiod,xperiod0:P.xperiod0,xperiodalignment:P.xperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:g({},r.width,{}),dash:g({},L,{}),editType:"style"},increasing:u(d),decreasing:u(t),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:g({},T.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},3485:function(H,U,e){var g=e(71828),P=g._,a=e(89298),L=e(42973),T=e(50606).BADNUM;function v(u,n){var s=a.getFromId(u,n.xaxis),f=a.getFromId(u,n.yaxis),l=r(u,s,n),x=n._minDiff;n._minDiff=null;var c=n._origX;n._origX=null;var b=n._xcalc;n._xcalc=null;var h=t(u,n,c,b,f,d);return n._extremes[s._id]=a.findExtremes(s,b,{vpad:x/2}),h.length?(g.extendFlat(h[0].t,{wHover:x/2,tickLen:l}),h):[{t:{empty:!0}}]}function d(u,n,s,f){return{o:u,h:n,l:s,c:f}}function t(u,n,s,f,l,x){for(var c=l.makeCalcdata(n,"open"),b=l.makeCalcdata(n,"high"),h=l.makeCalcdata(n,"low"),o=l.makeCalcdata(n,"close"),p=Array.isArray(n.text),S=Array.isArray(n.hovertext),A=!0,E=null,m=!!n.xperiodalignment,M=[],w=0;w<f.length;w++){var i=f[w],C=c[w],y=b[w],_=h[w],I=o[w];if(i!==T&&C!==T&&y!==T&&_!==T&&I!==T){I===C?E!==null&&I!==E&&(A=I>E):A=I>C,E=I;var N=x(C,y,_,I);N.pos=i,N.yc=(C+I)/2,N.i=w,N.dir=A?"increasing":"decreasing",N.x=N.pos,N.y=[_,y],m&&(N.orig_p=s[w]),p&&(N.tx=n.text[w]),S&&(N.htx=n.hovertext[w]),M.push(N)}else M.push({pos:i,empty:!0})}return n._extremes[l._id]=a.findExtremes(l,g.concat(h,b),{padded:!0}),M.length&&(M[0].t={labels:{open:P(u,"open:")+" ",high:P(u,"high:")+" ",low:P(u,"low:")+" ",close:P(u,"close:")+" "}}),M}function r(u,n,s){var f=s._minDiff;if(!f){var l=u._fullData,x=[];f=1/0;var c;for(c=0;c<l.length;c++){var b=l[c];if(b.type==="ohlc"&&b.visible===!0&&b.xaxis===n._id){x.push(b);var h=n.makeCalcdata(b,"x");b._origX=h;var o=L(s,n,"x",h).vals;b._xcalc=o;var p=g.distinctVals(o).minDiff;p&&isFinite(p)&&(f=Math.min(f,p))}}for(f===1/0&&(f=1),c=0;c<x.length;c++)x[c]._minDiff=f}return f*s.tickwidth}H.exports={calc:v,calcCommon:t}},16169:function(H,U,e){var g=e(71828),P=e(14555),a=e(73927),L=e(2522);H.exports=function(d,t,r,u){function n(f,l){return g.coerce(d,t,L,f,l)}var s=P(d,t,n,u);if(!s){t.visible=!1;return}a(d,t,u,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),n("line.dash"),T(d,t,n,"increasing"),T(d,t,n,"decreasing"),n("text"),n("hovertext"),n("tickwidth"),u._requestRangeslider[t.xaxis]=!0};function T(v,d,t,r){t(r+".line.color"),t(r+".line.width",d.line.width),t(r+".line.dash",d.line.dash)}},66449:function(H,U,e){var g=e(89298),P=e(71828),a=e(30211),L=e(7901),T=e(71828).fillText,v=e(22372),d={increasing:v.INCREASING.SYMBOL,decreasing:v.DECREASING.SYMBOL};function t(s,f,l,x){var c=s.cd,b=c[0].trace;return b.hoverlabel.split?u(s,f,l,x):n(s,f,l,x)}function r(s,f,l,x){var c=s.cd,b=s.xa,h=c[0].trace,o=c[0].t,p=h.type,S=p==="ohlc"?"l":"min",A=p==="ohlc"?"h":"max",E,m,M=o.bPos||0,w=function(G){return G.pos+M-f},i=o.bdPos||o.tickLen,C=o.wHover,y=Math.min(1,i/Math.abs(b.r2c(b.range[1])-b.r2c(b.range[0])));E=s.maxHoverDistance-y,m=s.maxSpikeDistance-y;function _(G){var Q=w(G);return a.inbox(Q-C,Q+C,E)}function I(G){var Q=G[S],ee=G[A];return Q===ee||a.inbox(Q-l,ee-l,E)}function N(G){return(_(G)+I(G))/2}var k=a.getDistanceFunction(x,_,I,N);if(a.getClosest(c,k,s),s.index===!1)return null;var O=c[s.index];if(O.empty)return null;var z=O.dir,F=h[z],B=F.line.color;return L.opacity(B)&&F.line.width?s.color=B:s.color=F.fillcolor,s.x0=b.c2p(O.pos+M-i,!0),s.x1=b.c2p(O.pos+M+i,!0),s.xLabelVal=O.orig_p!==void 0?O.orig_p:O.pos,s.spikeDistance=N(O)*m/E,s.xSpike=b.c2p(O.pos,!0),s}function u(s,f,l,x){var c=s.cd,b=s.ya,h=c[0].trace,o=c[0].t,p=[],S=r(s,f,l,x);if(!S)return[];var A=S.index,E=c[A],m=E.hi||h.hoverinfo,M=m.split("+"),w=m==="all",i=w||M.indexOf("y")!==-1;if(!i)return[];for(var C=["high","open","close","low"],y={},_=0;_<C.length;_++){var I=C[_],N=h[I][S.index],k=b.c2p(N,!0),O;N in y?(O=y[N],O.yLabel+="<br>"+o.labels[I]+g.hoverLabelText(b,N,h.yhoverformat)):(O=P.extendFlat({},S),O.y0=O.y1=k,O.yLabelVal=N,O.yLabel=o.labels[I]+g.hoverLabelText(b,N,h.yhoverformat),O.name="",p.push(O),y[N]=O)}return p}function n(s,f,l,x){var c=s.cd,b=s.ya,h=c[0].trace,o=c[0].t,p=r(s,f,l,x);if(!p)return[];var S=p.index,A=c[S],E=p.index=A.i,m=A.dir;function M(N){return o.labels[N]+g.hoverLabelText(b,h[N][E],h.yhoverformat)}var w=A.hi||h.hoverinfo,i=w.split("+"),C=w==="all",y=C||i.indexOf("y")!==-1,_=C||i.indexOf("text")!==-1,I=y?[M("open"),M("high"),M("low"),M("close")+"  "+d[m]]:[];return _&&T(A,h,I),p.extraText=I.join("<br>"),p.y0=p.y1=b.c2p(A.yc,!0),[p]}H.exports={hoverPoints:t,hoverSplit:u,hoverOnPoints:n}},54186:function(H,U,e){H.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(93612),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(2522),supplyDefaults:e(16169),calc:e(3485).calc,plot:e(72314),style:e(53101),hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},14555:function(H,U,e){var g=e(73972),P=e(71828);H.exports=function(L,T,v,d){var t=v("x"),r=v("open"),u=v("high"),n=v("low"),s=v("close");v("hoverlabel.split");var f=g.getComponentMethod("calendars","handleTraceDefaults");if(f(L,T,["x"],d),!!(r&&u&&n&&s)){var l=Math.min(r.length,u.length,n.length,s.length);return t&&(l=Math.min(l,P.minRowLength(t))),T._length=l,l}}},72314:function(H,U,e){var g=e(39898),P=e(71828);H.exports=function(L,T,v,d){var t=T.yaxis,r=T.xaxis,u=!!r.rangebreaks;P.makeTraceGroups(d,v,"trace ohlc").each(function(n){var s=g.select(this),f=n[0],l=f.t,x=f.trace;if(x.visible!==!0||l.empty){s.remove();return}var c=l.tickLen,b=s.selectAll("path").data(P.identity);b.enter().append("path"),b.exit().remove(),b.attr("d",function(h){if(h.empty)return"M0,0Z";var o=r.c2p(h.pos-c,!0),p=r.c2p(h.pos+c,!0),S=u?(o+p)/2:r.c2p(h.pos,!0),A=t.c2p(h.o,!0),E=t.c2p(h.h,!0),m=t.c2p(h.l,!0),M=t.c2p(h.c,!0);return"M"+o+","+A+"H"+S+"M"+S+","+E+"V"+m+"M"+p+","+M+"H"+S})})}},67324:function(H){H.exports=function(e,g){var P=e.cd,a=e.xaxis,L=e.yaxis,T=[],v,d=P[0].t.bPos||0;if(g===!1)for(v=0;v<P.length;v++)P[v].selected=0;else for(v=0;v<P.length;v++){var t=P[v];g.contains([a.c2p(t.pos+d),L.c2p(t.yc)],null,t.i,e)?(T.push({pointNumber:t.i,x:a.c2d(t.pos),y:L.c2d(t.yc)}),t.selected=1):t.selected=0}return T}},53101:function(H,U,e){var g=e(39898),P=e(91424),a=e(7901);H.exports=function(T,v,d){var t=d||g.select(T).selectAll("g.ohlclayer").selectAll("g.trace");t.style("opacity",function(r){return r[0].trace.opacity}),t.each(function(r){var u=r[0].trace;g.select(this).selectAll("path").each(function(n){if(!n.empty){var s=u[n.dir].line;g.select(this).style("fill","none").call(a.stroke,s.color).call(P.dashLine,s.dash,s.width).style("opacity",u.selectedpoints&&!n.selected?.3:1)}})})}},99506:function(H,U,e){var g=e(1426).extendFlat,P=e(9012),a=e(41940),L=e(50693),T=e(5386).fF,v=e(27670).Y,d=g({editType:"calc"},L("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:T({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});H.exports={domain:v({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:g({},P.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:T({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:a({editType:"calc"}),tickfont:a({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:d,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},27677:function(H,U,e){var g=e(27659).a0,P=e(45784),a="parcats";U.name=a,U.plot=function(L,T,v,d){var t=g(L.calcdata,a);if(t.length){var r=t[0];P(L,r,v,d)}},U.clean=function(L,T,v,d){var t=d._has&&d._has("parcats"),r=T._has&&T._has("parcats");t&&!r&&d._paperdiv.selectAll(".parcats").remove()}},28699:function(H,U,e){var g=e(28984).wrap,P=e(52075).hasColorscale,a=e(78803),L=e(75744),T=e(91424),v=e(71828),d=e(92770);H.exports=function(o,p){var S=v.filterVisible(p.dimensions);if(S.length===0)return[];var A=S.map(function(K){var W;if(K.categoryorder==="trace")W=null;else if(K.categoryorder==="array")W=K.categoryarray;else{W=L(K.values);for(var Z=!0,X=0;X<W.length;X++)if(!d(W[X])){Z=!1;break}W.sort(Z?v.sorterAsc:void 0),K.categoryorder==="category descending"&&(W=W.reverse())}return l(K.values,W)}),E,m,M;v.isArrayOrTypedArray(p.counts)?E=p.counts:E=[p.counts],x(S),S.forEach(function(K,W){c(K,A[W])});var w=p.line,i;w?(P(p,"line")&&a(o,p,{vals:p.line.color,containerStr:"line",cLetter:"c"}),i=T.tryColorscale(w)):i=v.identity;function C(K){var W,Z;return v.isArrayOrTypedArray(w.color)?(W=w.color[K%w.color.length],Z=W):W=w.color,{color:i(W),rawColor:Z}}var y=S[0].values.length,_={},I=A.map(function(K){return K.inds});M=0;var N,k;for(N=0;N<y;N++){var O=[];for(k=0;k<I.length;k++)O.push(I[k][N]);m=E[N%E.length],M+=m;var z=C(N),F=O+"-"+z.rawColor;_[F]===void 0&&(_[F]=s(O,z.color,z.rawColor)),f(_[F],N,m)}var B=S.map(function(K,W){return r(W,K._index,K._displayindex,K.label,M)});for(N=0;N<y;N++)for(m=E[N%E.length],k=0;k<B.length;k++){var G=B[k].containerInd,Q=A[k].inds[N],ee=B[k].categories;if(ee[Q]===void 0){var ae=p.dimensions[G]._categoryarray[Q],fe=p.dimensions[G]._ticktext[Q];ee[Q]=u(k,Q,ae,fe)}n(ee[Q],N,m)}return g(t(B,_,M))};function t(h,o,p){var S=h.map(function(A){return A.categories.length}).reduce(function(A,E){return Math.max(A,E)});return{dimensions:h,paths:o,trace:void 0,maxCats:S,count:p}}function r(h,o,p,S,A){return{dimensionInd:h,containerInd:o,displayInd:p,dimensionLabel:S,count:A,categories:[],dragX:null}}function u(h,o,p,S){return{dimensionInd:h,categoryInd:o,categoryValue:p,displayInd:o,categoryLabel:S,valueInds:[],count:0,dragY:null}}function n(h,o,p){h.valueInds.push(o),h.count+=p}function s(h,o,p){return{categoryInds:h,color:o,rawColor:p,valueInds:[],count:0}}function f(h,o,p){h.valueInds.push(o),h.count+=p}function l(h,o){o==null?o=[]:o=o.map(function(i){return i});var p={},S={},A=[];o.forEach(function(i,C){p[i]=0,S[i]=C});for(var E=0;E<h.length;E++){var m=h[E],M;p[m]===void 0?(p[m]=1,M=o.push(m)-1,S[m]=M):(p[m]++,M=S[m]),A.push(M)}var w=o.map(function(i){return p[i]});return{uniqueValues:o,uniqueCounts:w,inds:A}}function x(h){var o=h.map(function(S){return S.displayindex}),p;if(b(o))for(p=0;p<h.length;p++)h[p]._displayindex=h[p].displayindex;else for(p=0;p<h.length;p++)h[p]._displayindex=p}function c(h,o){h._categoryarray=o.uniqueValues,h.ticktext===null||h.ticktext===void 0?h._ticktext=[]:h._ticktext=h.ticktext.slice();for(var p=h._ticktext.length;p<o.uniqueValues.length;p++)h._ticktext.push(o.uniqueValues[p])}function b(h){for(var o=new Array(h.length),p=0;p<h.length;p++){if(h[p]<0||h[p]>=h.length||o[h[p]]!==void 0)return!1;o[h[p]]=!0}return!0}},14647:function(H,U,e){var g=e(71828),P=e(52075).hasColorscale,a=e(1586),L=e(27670).c,T=e(85501),v=e(99506),d=e(94397);function t(u,n,s,f,l){l("line.shape"),l("line.hovertemplate");var x=l("line.color",f.colorway[0]);if(P(u,"line")&&g.isArrayOrTypedArray(x)){if(x.length)return l("line.colorscale"),a(u,n,f,l,{prefix:"line.",cLetter:"c"}),x.length;n.line.color=s}return 1/0}function r(u,n){function s(o,p){return g.coerce(u,n,v.dimensions,o,p)}var f=s("values"),l=s("visible");if(f&&f.length||(l=n.visible=!1),l){s("label"),s("displayindex",n._index);var x=u.categoryarray,c=Array.isArray(x)&&x.length>0,b;c&&(b="array");var h=s("categoryorder",b);h==="array"?(s("categoryarray"),s("ticktext")):(delete u.categoryarray,delete u.ticktext),!c&&h==="array"&&(n.categoryorder="trace")}}H.exports=function(n,s,f,l){function x(p,S){return g.coerce(n,s,v,p,S)}var c=T(n,s,{name:"dimensions",handleItemDefaults:r}),b=t(n,s,f,l,x);L(s,l,x),(!Array.isArray(c)||!c.length)&&(s.visible=!1),d(s,c,"values",b),x("hoveron"),x("hovertemplate"),x("arrangement"),x("bundlecolors"),x("sortpaths"),x("counts");var h={family:l.font.family,size:Math.round(l.font.size),color:l.font.color};g.coerceFont(x,"labelfont",h);var o={family:l.font.family,size:Math.round(l.font.size/1.2),color:l.font.color};g.coerceFont(x,"tickfont",o)}},94873:function(H,U,e){H.exports={attributes:e(99506),supplyDefaults:e(14647),calc:e(28699),plot:e(45784),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(27677),categories:["noOpacity"],meta:{}}},45460:function(H,U,e){var g=e(39898),P=e(81684).k4,a=e(72391),L=e(30211),T=e(71828),v=T.strTranslate,d=e(91424),t=e(84267),r=e(63893);function u(X,$,ie,J){var j=$._context.staticPlot,se=X.map(ae.bind(0,$,ie)),ne=J.selectAll("g.parcatslayer").data([null]);ne.enter().append("g").attr("class","parcatslayer").style("pointer-events",j?"none":"all");var ue=ne.selectAll("g.trace.parcats").data(se,n),ge=ue.enter().append("g").attr("class","trace parcats");ue.attr("transform",function(Ve){return v(Ve.x,Ve.y)}),ge.append("g").attr("class","paths");var we=ue.select("g.paths"),xe=we.selectAll("path.path").data(function(Ve){return Ve.paths},n);xe.attr("fill",function(Ve){return Ve.model.color});var Fe=xe.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(Ve){return Ve.model.color}).attr("fill-opacity",0);o(Fe),xe.attr("d",function(Ve){return Ve.svgD}),Fe.empty()||xe.sort(f),xe.exit().remove(),xe.on("mouseover",l).on("mouseout",x).on("click",h),ge.append("g").attr("class","dimensions");var ze=ue.select("g.dimensions"),Te=ze.selectAll("g.dimension").data(function(Ve){return Ve.dimensions},n);Te.enter().append("g").attr("class","dimension"),Te.attr("transform",function(Ve){return v(Ve.x,0)}),Te.exit().remove();var ye=Te.selectAll("g.category").data(function(Ve){return Ve.categories},n),Ae=ye.enter().append("g").attr("class","category");ye.attr("transform",function(Ve){return v(0,Ve.y)}),Ae.append("rect").attr("class","catrect").attr("pointer-events","none"),ye.select("rect.catrect").attr("fill","none").attr("width",function(Ve){return Ve.width}).attr("height",function(Ve){return Ve.height}),A(Ae);var Ne=ye.selectAll("rect.bandrect").data(function(Ve){return Ve.bands},n);Ne.each(function(){T.raiseToTop(this)}),Ne.attr("fill",function(Ve){return Ve.color});var Ue=Ne.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(Ve){return Ve.color}).attr("fill-opacity",0);Ne.attr("fill",function(Ve){return Ve.color}).attr("width",function(Ve){return Ve.width}).attr("height",function(Ve){return Ve.height}).attr("y",function(Ve){return Ve.y}).attr("cursor",function(Ve){return Ve.parcatsViewModel.arrangement==="fixed"?"default":Ve.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),m(Ue),Ne.exit().remove(),Ae.append("text").attr("class","catlabel").attr("pointer-events","none");var Re=$._fullLayout.paper_bgcolor;ye.select("text.catlabel").attr("text-anchor",function(Ve){return s(Ve)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",r.makeTextShadow(Re)).style("fill","rgb(0, 0, 0)").attr("x",function(Ve){return s(Ve)?Ve.width+5:-5}).attr("y",function(Ve){return Ve.height/2}).text(function(Ve){return Ve.model.categoryLabel}).each(function(Ve){d.font(g.select(this),Ve.parcatsViewModel.categorylabelfont),r.convertToTspans(g.select(this),$)}),Ae.append("text").attr("class","dimlabel"),ye.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(Ve){return Ve.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(Ve){return Ve.width/2}).attr("y",-5).text(function(Ve,rt){return rt===0?Ve.parcatsViewModel.model.dimensions[Ve.model.dimensionInd].dimensionLabel:null}).each(function(Ve){d.font(g.select(this),Ve.parcatsViewModel.labelfont)}),ye.selectAll("rect.bandrect").on("mouseover",k).on("mouseout",O),ye.exit().remove(),Te.call(g.behavior.drag().origin(function(Ve){return{x:Ve.x,y:0}}).on("dragstart",z).on("drag",F).on("dragend",B)),ue.each(function(Ve){Ve.traceSelection=g.select(this),Ve.pathSelection=g.select(this).selectAll("g.paths").selectAll("path.path"),Ve.dimensionSelection=g.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),ue.exit().remove()}H.exports=function(X,$,ie,J){u(ie,X,J,$)};function n(X){return X.key}function s(X){var $=X.parcatsViewModel.dimensions.length,ie=X.parcatsViewModel.dimensions[$-1].model.dimensionInd;return X.model.dimensionInd===ie}function f(X,$){return X.model.rawColor>$.model.rawColor?1:X.model.rawColor<$.model.rawColor?-1:0}function l(X){if(!X.parcatsViewModel.dragDimension&&X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){T.raiseToTop(this),p(g.select(this));var $=c(X),ie=b(X);if(X.parcatsViewModel.graphDiv.emit("plotly_hover",{points:$,event:g.event,constraints:ie}),X.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var J=g.mouse(this)[0],j=X.parcatsViewModel.graphDiv,se=X.parcatsViewModel.trace,ne=j._fullLayout,ue=ne._paperdiv.node().getBoundingClientRect(),ge=X.parcatsViewModel.graphDiv.getBoundingClientRect(),we,xe,Fe;for(Fe=0;Fe<X.leftXs.length-1;Fe++)if(X.leftXs[Fe]+X.dimWidths[Fe]-2<=J&&J<=X.leftXs[Fe+1]+2){var ze=X.parcatsViewModel.dimensions[Fe],Te=X.parcatsViewModel.dimensions[Fe+1];we=(ze.x+ze.width+Te.x)/2,xe=(X.topYs[Fe]+X.topYs[Fe+1]+X.height)/2;break}var ye=X.parcatsViewModel.x+we,Ae=X.parcatsViewModel.y+xe,Ne=t.mostReadable(X.model.color,["black","white"]),Ue=X.model.count,Re=Ue/X.parcatsViewModel.model.count,Ve={countLabel:Ue,probabilityLabel:Re.toFixed(3)},rt=[];X.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&rt.push(["Count:",Ve.countLabel].join(" ")),X.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&rt.push(["P:",Ve.probabilityLabel].join(" "));var Qe=rt.join("<br>"),Je=g.mouse(j)[0];L.loneHover({trace:se,x:ye-ue.left+ge.left,y:Ae-ue.top+ge.top,text:Qe,color:X.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Ne,idealAlign:Je<ye?"right":"left",hovertemplate:(se.line||{}).hovertemplate,hovertemplateLabels:Ve,eventData:[{data:se._input,fullData:se,count:Ue,probability:Re}]},{container:ne._hoverlayer.node(),outerContainer:ne._paper.node(),gd:j})}}}function x(X){if(!X.parcatsViewModel.dragDimension&&(o(g.select(this)),L.loneUnhover(X.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),X.parcatsViewModel.pathSelection.sort(f),X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var $=c(X),ie=b(X);X.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:$,event:g.event,constraints:ie})}}function c(X){for(var $=[],ie=G(X.parcatsViewModel),J=0;J<X.model.valueInds.length;J++){var j=X.model.valueInds[J];$.push({curveNumber:ie,pointNumber:j})}return $}function b(X){for(var $={},ie=X.parcatsViewModel.model.dimensions,J=0;J<ie.length;J++){var j=ie[J],se=j.categories[X.model.categoryInds[J]];$[j.containerInd]=se.categoryValue}return X.model.rawColor!==void 0&&($.color=X.model.rawColor),$}function h(X){if(X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var $=c(X),ie=b(X);X.parcatsViewModel.graphDiv.emit("plotly_click",{points:$,event:g.event,constraints:ie})}}function o(X){X.attr("fill",function($){return $.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function p(X){X.attr("fill-opacity",.8).attr("stroke",function($){return t.mostReadable($.model.color,["black","white"])}).attr("stroke-width",.3)}function S(X){X.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function A(X){X.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function E(X){X.attr("stroke","black").attr("stroke-width",1.5)}function m(X){X.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function M(X){var $=X.parcatsViewModel.pathSelection,ie=X.categoryViewModel.model.dimensionInd,J=X.categoryViewModel.model.categoryInd;return $.filter(function(j){return j.model.categoryInds[ie]===J&&j.model.color===X.color})}function w(X){var $=g.select(X.parentNode).selectAll("rect.bandrect");$.each(function(ie){var J=M(ie);p(J),J.each(function(){T.raiseToTop(this)})}),S(g.select(X.parentNode))}function i(X){var $=g.select(X).datum(),ie=M($);p(ie),ie.each(function(){T.raiseToTop(this)}),g.select(X.parentNode).selectAll("rect.bandrect").filter(function(J){return J.color===$.color}).each(function(){T.raiseToTop(this),E(g.select(this))})}function C(X,$,ie){var J=g.select(X).datum(),j=J.categoryViewModel.model,se=J.parcatsViewModel.graphDiv,ne=g.select(X.parentNode).selectAll("rect.bandrect"),ue=[];ne.each(function(we){var xe=M(we);xe.each(function(Fe){Array.prototype.push.apply(ue,c(Fe))})});var ge={};ge[j.dimensionInd]=j.categoryValue,se.emit($,{points:ue,event:ie,constraints:ge})}function y(X,$,ie){var J=g.select(X).datum(),j=J.categoryViewModel.model,se=J.parcatsViewModel.graphDiv,ne=M(J),ue=[];ne.each(function(we){Array.prototype.push.apply(ue,c(we))});var ge={};ge[j.dimensionInd]=j.categoryValue,J.rawColor!==void 0&&(ge.color=J.rawColor),se.emit($,{points:ue,event:ie,constraints:ge})}function _(X,$,ie){X._fullLayout._calcInverseTransform(X);var J=X._fullLayout._invScaleX,j=X._fullLayout._invScaleY,se=g.select(ie.parentNode).select("rect.catrect"),ne=se.node().getBoundingClientRect(),ue=se.datum(),ge=ue.parcatsViewModel,we=ge.model.dimensions[ue.model.dimensionInd],xe=ge.trace,Fe=ne.top+ne.height/2,ze,Te;ge.dimensions.length>1&&we.displayInd===ge.dimensions.length-1?(ze=ne.left,Te="left"):(ze=ne.left+ne.width,Te="right");var ye=ue.model.count,Ae=ue.model.categoryLabel,Ne=ye/ue.parcatsViewModel.model.count,Ue={countLabel:ye,categoryLabel:Ae,probabilityLabel:Ne.toFixed(3)},Re=[];ue.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Re.push(["Count:",Ue.countLabel].join(" ")),ue.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Re.push(["P("+Ue.categoryLabel+"):",Ue.probabilityLabel].join(" "));var Ve=Re.join("<br>");return{trace:xe,x:J*(ze-$.left),y:j*(Fe-$.top),text:Ve,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Te,hovertemplate:xe.hovertemplate,hovertemplateLabels:Ue,eventData:[{data:xe._input,fullData:xe,count:ye,category:Ae,probability:Ne}]}}function I(X,$,ie){var J=[];return g.select(ie.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var j=this;J.push(_(X,$,j))}),J}function N(X,$,ie){X._fullLayout._calcInverseTransform(X);var J=X._fullLayout._invScaleX,j=X._fullLayout._invScaleY,se=ie.getBoundingClientRect(),ne=g.select(ie).datum(),ue=ne.categoryViewModel,ge=ue.parcatsViewModel,we=ge.model.dimensions[ue.model.dimensionInd],xe=ge.trace,Fe=se.y+se.height/2,ze,Te;ge.dimensions.length>1&&we.displayInd===ge.dimensions.length-1?(ze=se.left,Te="left"):(ze=se.left+se.width,Te="right");var ye=ue.model.categoryLabel,Ae=ne.parcatsViewModel.model.count,Ne=0;ne.categoryViewModel.bands.forEach(function(mt){mt.color===ne.color&&(Ne+=mt.count)});var Ue=ue.model.count,Re=0;ge.pathSelection.each(function(mt){mt.model.color===ne.color&&(Re+=mt.model.count)});var Ve=Ne/Ae,rt=Ne/Re,Qe=Ne/Ue,Je={countLabel:Ae,categoryLabel:ye,probabilityLabel:Ve.toFixed(3)},qe=[];ue.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&qe.push(["Count:",Je.countLabel].join(" ")),ue.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(qe.push("P(color ∩ "+ye+"): "+Je.probabilityLabel),qe.push("P("+ye+" | color): "+rt.toFixed(3)),qe.push("P(color | "+ye+"): "+Qe.toFixed(3)));var dt=qe.join("<br>"),pt=t.mostReadable(ne.color,["black","white"]);return{trace:xe,x:J*(ze-$.left),y:j*(Fe-$.top),text:dt,color:ne.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:pt,fontSize:10,idealAlign:Te,hovertemplate:xe.hovertemplate,hovertemplateLabels:Je,eventData:[{data:xe._input,fullData:xe,category:ye,count:Ae,probability:Ve,categorycount:Ue,colorcount:Re,bandcolorcount:Ne}]}}function k(X){if(!X.parcatsViewModel.dragDimension&&X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var $=g.mouse(this)[1];if($<-1)return;var ie=X.parcatsViewModel.graphDiv,J=ie._fullLayout,j=J._paperdiv.node().getBoundingClientRect(),se=X.parcatsViewModel.hoveron,ne=this;if(se==="color"?(i(ne),y(ne,"plotly_hover",g.event)):(w(ne),C(ne,"plotly_hover",g.event)),X.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var ue;se==="category"?ue=_(ie,j,ne):se==="color"?ue=N(ie,j,ne):se==="dimension"&&(ue=I(ie,j,ne)),ue&&L.loneHover(ue,{container:J._hoverlayer.node(),outerContainer:J._paper.node(),gd:ie})}}}function O(X){var $=X.parcatsViewModel;if(!$.dragDimension&&(o($.pathSelection),A($.dimensionSelection.selectAll("g.category")),m($.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),L.loneUnhover($.graphDiv._fullLayout._hoverlayer.node()),$.pathSelection.sort(f),$.hoverinfoItems.indexOf("skip")===-1)){var ie=X.parcatsViewModel.hoveron,J=this;ie==="color"?y(J,"plotly_unhover",g.event):C(J,"plotly_unhover",g.event)}}function z(X){X.parcatsViewModel.arrangement!=="fixed"&&(X.dragDimensionDisplayInd=X.model.displayInd,X.initialDragDimensionDisplayInds=X.parcatsViewModel.model.dimensions.map(function($){return $.displayInd}),X.dragHasMoved=!1,X.dragCategoryDisplayInd=null,g.select(this).selectAll("g.category").select("rect.catrect").each(function($){var ie=g.mouse(this)[0],J=g.mouse(this)[1];-2<=ie&&ie<=$.width+2&&-2<=J&&J<=$.height+2&&(X.dragCategoryDisplayInd=$.model.displayInd,X.initialDragCategoryDisplayInds=X.model.categories.map(function(j){return j.displayInd}),$.model.dragY=$.y,T.raiseToTop(this.parentNode),g.select(this.parentNode).selectAll("rect.bandrect").each(function(j){j.y<J&&J<=j.y+j.height&&(X.potentialClickBand=this)}))}),X.parcatsViewModel.dragDimension=X,L.loneUnhover(X.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function F(X){if(X.parcatsViewModel.arrangement!=="fixed"&&(X.dragHasMoved=!0,X.dragDimensionDisplayInd!==null)){var $=X.dragDimensionDisplayInd,ie=$-1,J=$+1,j=X.parcatsViewModel.dimensions[$];if(X.dragCategoryDisplayInd!==null){var se=j.categories[X.dragCategoryDisplayInd];se.model.dragY+=g.event.dy;var ne=se.model.dragY,ue=se.model.displayInd,ge=j.categories,we=ge[ue-1],xe=ge[ue+1];we!==void 0&&ne<we.y+we.height/2&&(se.model.displayInd=we.model.displayInd,we.model.displayInd=ue),xe!==void 0&&ne+se.height>xe.y+xe.height/2&&(se.model.displayInd=xe.model.displayInd,xe.model.displayInd=ue),X.dragCategoryDisplayInd=se.model.displayInd}if(X.dragCategoryDisplayInd===null||X.parcatsViewModel.arrangement==="freeform"){j.model.dragX=g.event.x;var Fe=X.parcatsViewModel.dimensions[ie],ze=X.parcatsViewModel.dimensions[J];Fe!==void 0&&j.model.dragX<Fe.x+Fe.width&&(j.model.displayInd=Fe.model.displayInd,Fe.model.displayInd=$),ze!==void 0&&j.model.dragX+j.width>ze.x&&(j.model.displayInd=ze.model.displayInd,ze.model.displayInd=X.dragDimensionDisplayInd),X.dragDimensionDisplayInd=j.model.displayInd}W(X.parcatsViewModel),K(X.parcatsViewModel),ee(X.parcatsViewModel),Q(X.parcatsViewModel)}}function B(X){if(X.parcatsViewModel.arrangement!=="fixed"&&X.dragDimensionDisplayInd!==null){g.select(this).selectAll("text").attr("font-weight","normal");var $={},ie=G(X.parcatsViewModel),J=X.parcatsViewModel.model.dimensions.map(function(ze){return ze.displayInd}),j=X.initialDragDimensionDisplayInds.some(function(ze,Te){return ze!==J[Te]});j&&J.forEach(function(ze,Te){var ye=X.parcatsViewModel.model.dimensions[Te].containerInd;$["dimensions["+ye+"].displayindex"]=ze});var se=!1;if(X.dragCategoryDisplayInd!==null){var ne=X.model.categories.map(function(ze){return ze.displayInd});if(se=X.initialDragCategoryDisplayInds.some(function(ze,Te){return ze!==ne[Te]}),se){var ue=X.model.categories.slice().sort(function(ze,Te){return ze.displayInd-Te.displayInd}),ge=ue.map(function(ze){return ze.categoryValue}),we=ue.map(function(ze){return ze.categoryLabel});$["dimensions["+X.model.containerInd+"].categoryarray"]=[ge],$["dimensions["+X.model.containerInd+"].ticktext"]=[we],$["dimensions["+X.model.containerInd+"].categoryorder"]="array"}}if(X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!X.dragHasMoved&&X.potentialClickBand&&(X.parcatsViewModel.hoveron==="color"?y(X.potentialClickBand,"plotly_click",g.event.sourceEvent):C(X.potentialClickBand,"plotly_click",g.event.sourceEvent)),X.model.dragX=null,X.dragCategoryDisplayInd!==null){var xe=X.parcatsViewModel.dimensions[X.dragDimensionDisplayInd].categories[X.dragCategoryDisplayInd];xe.model.dragY=null,X.dragCategoryDisplayInd=null}X.dragDimensionDisplayInd=null,X.parcatsViewModel.dragDimension=null,X.dragHasMoved=null,X.potentialClickBand=null,W(X.parcatsViewModel),K(X.parcatsViewModel);var Fe=g.transition().duration(300).ease("cubic-in-out");Fe.each(function(){ee(X.parcatsViewModel,!0),Q(X.parcatsViewModel,!0)}).each("end",function(){(j||se)&&a.restyle(X.parcatsViewModel.graphDiv,$,[ie])})}}function G(X){for(var $,ie=X.graphDiv._fullData,J=0;J<ie.length;J++)if(X.key===ie[J].uid){$=J;break}return $}function Q(X,$){$===void 0&&($=!1);function ie(J){return $?J.transition():J}X.pathSelection.data(function(J){return J.paths},n),ie(X.pathSelection).attr("d",function(J){return J.svgD})}function ee(X,$){$===void 0&&($=!1);function ie(ge){return $?ge.transition():ge}X.dimensionSelection.data(function(ge){return ge.dimensions},n);var J=X.dimensionSelection.selectAll("g.category").data(function(ge){return ge.categories},n);ie(X.dimensionSelection).attr("transform",function(ge){return v(ge.x,0)}),ie(J).attr("transform",function(ge){return v(0,ge.y)});var j=J.select(".dimlabel");j.text(function(ge,we){return we===0?ge.parcatsViewModel.model.dimensions[ge.model.dimensionInd].dimensionLabel:null});var se=J.select(".catlabel");se.attr("text-anchor",function(ge){return s(ge)?"start":"end"}).attr("x",function(ge){return s(ge)?ge.width+5:-5}).each(function(ge){var we,xe;s(ge)?(we=ge.width+5,xe="start"):(we=-5,xe="end"),g.select(this).selectAll("tspan").attr("x",we).attr("text-anchor",xe)});var ne=J.selectAll("rect.bandrect").data(function(ge){return ge.bands},n),ue=ne.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(ge){return ge.color}).attr("fill-opacity",0);ne.attr("fill",function(ge){return ge.color}).attr("width",function(ge){return ge.width}).attr("height",function(ge){return ge.height}).attr("y",function(ge){return ge.y}),m(ue),ne.each(function(){T.raiseToTop(this)}),ne.exit().remove()}function ae(X,$,ie){var J=ie[0],j=$.margin||{l:80,r:80,t:100,b:80},se=J.trace,ne=se.domain,ue=$.width,ge=$.height,we=Math.floor(ue*(ne.x[1]-ne.x[0])),xe=Math.floor(ge*(ne.y[1]-ne.y[0])),Fe=ne.x[0]*ue+j.l,ze=$.height-ne.y[1]*$.height+j.t,Te=se.line.shape,ye;se.hoverinfo==="all"?ye=["count","probability"]:ye=(se.hoverinfo||"").split("+");var Ae={trace:se,key:se.uid,model:J,x:Fe,y:ze,width:we,height:xe,hoveron:se.hoveron,hoverinfoItems:ye,arrangement:se.arrangement,bundlecolors:se.bundlecolors,sortpaths:se.sortpaths,labelfont:se.labelfont,categorylabelfont:se.tickfont,pathShape:Te,dragDimension:null,margin:j,paths:[],dimensions:[],graphDiv:X,traceSelection:null,pathSelection:null,dimensionSelection:null};return J.dimensions&&(W(Ae),K(Ae)),Ae}function fe(X,$,ie,J,j){var se=[],ne=[],ue,ge;for(ge=0;ge<ie.length-1;ge++)ue=P(ie[ge]+X[ge],X[ge+1]),se.push(ue(j)),ne.push(ue(1-j));var we="M "+X[0]+","+$[0];for(we+="l"+ie[0]+",0 ",ge=1;ge<ie.length;ge++)we+="C"+se[ge-1]+","+$[ge-1]+" "+ne[ge-1]+","+$[ge]+" "+X[ge]+","+$[ge],we+="l"+ie[ge]+",0 ";for(we+="l0,"+J+" ",we+="l -"+ie[ie.length-1]+",0 ",ge=ie.length-2;ge>=0;ge--)we+="C"+ne[ge]+","+($[ge+1]+J)+" "+se[ge]+","+($[ge]+J)+" "+(X[ge]+ie[ge])+","+($[ge]+J),we+="l-"+ie[ge]+",0 ";return we+="Z",we}function K(X){var $=X.dimensions,ie=X.model,J=$.map(function(Zt){return Zt.categories.map(function(Xe){return Xe.y})}),j=X.model.dimensions.map(function(Zt){return Zt.categories.map(function(Xe){return Xe.displayInd})}),se=X.model.dimensions.map(function(Zt){return Zt.displayInd}),ne=X.dimensions.map(function(Zt){return Zt.model.dimensionInd}),ue=$.map(function(Zt){return Zt.x}),ge=$.map(function(Zt){return Zt.width}),we=[];for(var xe in ie.paths)ie.paths.hasOwnProperty(xe)&&we.push(ie.paths[xe]);function Fe(Zt){var Xe=Zt.categoryInds.map(function(Pe,ke){return j[ke][Pe]}),Le=ne.map(function(Pe){return Xe[Pe]});return Le}we.sort(function(Zt,Xe){var Le=Fe(Zt),Pe=Fe(Xe);return X.sortpaths==="backward"&&(Le.reverse(),Pe.reverse()),Le.push(Zt.valueInds[0]),Pe.push(Xe.valueInds[0]),X.bundlecolors&&(Le.unshift(Zt.rawColor),Pe.unshift(Xe.rawColor)),Le<Pe?-1:Le>Pe?1:0});for(var ze=new Array(we.length),Te=$[0].model.count,ye=$[0].categories.map(function(Zt){return Zt.height}).reduce(function(Zt,Xe){return Zt+Xe}),Ae=0;Ae<we.length;Ae++){var Ne=we[Ae],Ue;Te>0?Ue=ye*(Ne.count/Te):Ue=0;for(var Re=new Array(J.length),Ve=0;Ve<Ne.categoryInds.length;Ve++){var rt=Ne.categoryInds[Ve],Qe=j[Ve][rt],Je=se[Ve];Re[Je]=J[Je][Qe],J[Je][Qe]+=Ue;var qe=X.dimensions[Je].categories[Qe],dt=qe.bands.length,pt=qe.bands[dt-1];if(pt===void 0||Ne.rawColor!==pt.rawColor){var mt=pt===void 0?0:pt.y+pt.height;qe.bands.push({key:mt,color:Ne.color,rawColor:Ne.rawColor,height:Ue,width:qe.width,count:Ne.count,y:mt,categoryViewModel:qe,parcatsViewModel:X})}else{var Ct=qe.bands[dt-1];Ct.height+=Ue,Ct.count+=Ne.count}}var Rt;X.pathShape==="hspline"?Rt=fe(ue,Re,ge,Ue,.5):Rt=fe(ue,Re,ge,Ue,0),ze[Ae]={key:Ne.valueInds[0],model:Ne,height:Ue,leftXs:ue,topYs:Re,dimWidths:ge,svgD:Rt,parcatsViewModel:X}}X.paths=ze}function W(X){var $=X.model.dimensions.map(function(ne){return{displayInd:ne.displayInd,dimensionInd:ne.dimensionInd}});$.sort(function(ne,ue){return ne.displayInd-ue.displayInd});var ie=[];for(var J in $){var j=$[J].dimensionInd,se=X.model.dimensions[j];ie.push(Z(X,se))}X.dimensions=ie}function Z(X,$){var ie=40,J=16,j=X.model.dimensions.length,se=$.displayInd,ne,ue,ge;j>1?ne=(X.width-2*ie-J)/(j-1):ne=0,ue=ie,ge=ue+ne*se;var we=[],xe=X.model.maxCats,Fe=$.categories.length,ze=8,Te=$.count,ye=X.height-ze*(xe-1),Ae,Ne,Ue,Re,Ve,rt=(xe-Fe)*ze/2,Qe=$.categories.map(function(Je){return{displayInd:Je.displayInd,categoryInd:Je.categoryInd}});for(Qe.sort(function(Je,qe){return Je.displayInd-qe.displayInd}),Ve=0;Ve<Fe;Ve++)Re=Qe[Ve].categoryInd,Ne=$.categories[Re],Te>0?Ae=Ne.count/Te*ye:Ae=0,Ue={key:Ne.valueInds[0],model:Ne,width:J,height:Ae,y:Ne.dragY!==null?Ne.dragY:rt,bands:[],parcatsViewModel:X},rt=rt+Ae+ze,we.push(Ue);return{key:$.dimensionInd,x:$.dragX!==null?$.dragX:ge,y:0,width:J,model:$,categories:we,parcatsViewModel:X,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},45784:function(H,U,e){var g=e(45460);H.exports=function(a,L,T,v){var d=a._fullLayout,t=d._paper,r=d._size;g(a,t,L,{width:r.w,height:r.h,margin:{t:r.t,r:r.r,b:r.b,l:r.l}},T,v)}},73362:function(H,U,e){var g=e(50693),P=e(13838),a=e(41940),L=e(27670).Y,T=e(1426).extendFlat,v=e(44467).templatedArray;H.exports={domain:L({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:a({editType:"plot"}),tickfont:a({editType:"plot"}),rangefont:a({editType:"plot"}),dimensions:v("dimension",{label:{valType:"string",editType:"plot"},tickvals:T({},P.tickvals,{editType:"plot"}),ticktext:T({},P.ticktext,{editType:"plot"}),tickformat:T({},P.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:T({editType:"calc"},g("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},57920:function(H,U,e){var g=e(25706),P=e(39898),a=e(28984).keyFun,L=e(28984).repeat,T=e(71828).sorterAsc,v=e(71828).strTranslate,d=g.bar.snapRatio;function t(B,G){return B*(1-d)+G*d}var r=g.bar.snapClose;function u(B,G){return B*(1-r)+G*r}function n(B,G,Q,ee){if(s(Q,ee))return Q;var ae=B?-1:1,fe=0,K=G.length-1;if(ae<0){var W=fe;fe=K,K=W}for(var Z=G[fe],X=Z,$=fe;ae*$<ae*K;$+=ae){var ie=$+ae,J=G[ie];if(ae*Q<ae*u(Z,J))return t(Z,X);if(ae*Q<ae*J||ie===K)return t(J,Z);X=Z,Z=J}}function s(B,G){for(var Q=0;Q<G.length;Q++)if(B>=G[Q][0]&&B<=G[Q][1])return!0;return!1}function f(B){B.attr("x",-g.bar.captureWidth/2).attr("width",g.bar.captureWidth)}function l(B){B.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function x(B){if(!B.brush.filterSpecified)return"0,"+B.height;for(var G=c(B.brush.filter.getConsolidated(),B.height),Q=[0],ee,ae,fe,K=G.length?G[0][0]:null,W=0;W<G.length;W++)ee=G[W],ae=ee[1]-ee[0],Q.push(K),Q.push(ae),fe=W+1,fe<G.length&&(K=G[fe][0]-ee[1]);return Q.push(B.height),Q}function c(B,G){return B.map(function(Q){return Q.map(function(ee){return Math.max(0,ee*G)}).sort(T)})}function b(B,G){var Q=g.bar.handleHeight;if(!(G>B[1]+Q||G<B[0]-Q))return G>=.9*B[1]+.1*B[0]?"n":G<=.9*B[0]+.1*B[1]?"s":"ns"}function h(){P.select(document.body).style("cursor",null)}function o(B){B.attr("stroke-dasharray",x)}function p(B,G){var Q=P.select(B).selectAll(".highlight, .highlight-shadow"),ee=G?Q.transition().duration(g.bar.snapDuration).each("end",G):Q;o(ee)}function S(B,G){var Q=B.brush,ee=Q.filterSpecified,ae=NaN,fe={},K;if(ee){var W=B.height,Z=Q.filter.getConsolidated(),X=c(Z,W),$=NaN,ie=NaN,J=NaN;for(K=0;K<=X.length;K++){var j=X[K];if(j&&j[0]<=G&&G<=j[1]){$=K;break}else if(ie=K?K-1:NaN,j&&j[0]>G){J=K;break}}if(ae=$,isNaN(ae)&&(isNaN(ie)||isNaN(J)?ae=isNaN(ie)?J:ie:ae=G-X[ie][1]<X[J][0]-G?ie:J),!isNaN(ae)){var se=X[ae],ne=b(se,G);ne&&(fe.interval=Z[ae],fe.intervalPix=se,fe.region=ne)}}if(B.ordinal&&!fe.region){var ue=B.unitTickvals,ge=B.unitToPaddedPx.invert(G);for(K=0;K<ue.length;K++){var we=[ue[Math.max(K-1,0)]*.25+ue[K]*.75,ue[Math.min(K+1,ue.length-1)]*.25+ue[K]*.75];if(ge>=we[0]&&ge<=we[1]){fe.clickableOrdinalRange=we;break}}}return fe}function A(B,G){P.event.sourceEvent.stopPropagation();var Q=G.height-P.mouse(B)[1]-2*g.verticalPadding,ee=G.unitToPaddedPx.invert(Q),ae=G.brush,fe=S(G,Q),K=fe.interval,W=ae.svgBrush;if(W.wasDragged=!1,W.grabbingBar=fe.region==="ns",W.grabbingBar){var Z=K.map(G.unitToPaddedPx);W.grabPoint=Q-Z[0]-g.verticalPadding,W.barLength=Z[1]-Z[0]}W.clickableOrdinalRange=fe.clickableOrdinalRange,W.stayingIntervals=G.multiselect&&ae.filterSpecified?ae.filter.getConsolidated():[],K&&(W.stayingIntervals=W.stayingIntervals.filter(function(X){return X[0]!==K[0]&&X[1]!==K[1]})),W.startExtent=fe.region?K[fe.region==="s"?1:0]:ee,G.parent.inBrushDrag=!0,W.brushStartCallback()}function E(B,G){P.event.sourceEvent.stopPropagation();var Q=G.height-P.mouse(B)[1]-2*g.verticalPadding,ee=G.brush.svgBrush;ee.wasDragged=!0,ee._dragging=!0,ee.grabbingBar?ee.newExtent=[Q-ee.grabPoint,Q+ee.barLength-ee.grabPoint].map(G.unitToPaddedPx.invert):ee.newExtent=[ee.startExtent,G.unitToPaddedPx.invert(Q)].sort(T),G.brush.filterSpecified=!0,ee.extent=ee.stayingIntervals.concat([ee.newExtent]),ee.brushCallback(G),p(B.parentNode)}function m(B,G){var Q=G.brush,ee=Q.filter,ae=Q.svgBrush;ae._dragging||(M(B,G),E(B,G),G.brush.svgBrush.wasDragged=!1),ae._dragging=!1;var fe=P.event;fe.sourceEvent.stopPropagation();var K=ae.grabbingBar;if(ae.grabbingBar=!1,ae.grabLocation=void 0,G.parent.inBrushDrag=!1,h(),!ae.wasDragged){ae.wasDragged=void 0,ae.clickableOrdinalRange?Q.filterSpecified&&G.multiselect?ae.extent.push(ae.clickableOrdinalRange):(ae.extent=[ae.clickableOrdinalRange],Q.filterSpecified=!0):K?(ae.extent=ae.stayingIntervals,ae.extent.length===0&&I(Q)):I(Q),ae.brushCallback(G),p(B.parentNode),ae.brushEndCallback(Q.filterSpecified?ee.getConsolidated():[]);return}var W=function(){ee.set(ee.getConsolidated())};if(G.ordinal){var Z=G.unitTickvals;Z[Z.length-1]<Z[0]&&Z.reverse(),ae.newExtent=[n(0,Z,ae.newExtent[0],ae.stayingIntervals),n(1,Z,ae.newExtent[1],ae.stayingIntervals)];var X=ae.newExtent[1]>ae.newExtent[0];ae.extent=ae.stayingIntervals.concat(X?[ae.newExtent]:[]),ae.extent.length||I(Q),ae.brushCallback(G),X?p(B.parentNode,W):(W(),p(B.parentNode))}else W();ae.brushEndCallback(Q.filterSpecified?ee.getConsolidated():[])}function M(B,G){var Q=G.height-P.mouse(B)[1]-2*g.verticalPadding,ee=S(G,Q),ae="crosshair";ee.clickableOrdinalRange?ae="pointer":ee.region&&(ae=ee.region+"-resize"),P.select(document.body).style("cursor",ae)}function w(B){B.on("mousemove",function(G){P.event.preventDefault(),G.parent.inBrushDrag||M(this,G)}).on("mouseleave",function(G){G.parent.inBrushDrag||h()}).call(P.behavior.drag().on("dragstart",function(G){A(this,G)}).on("drag",function(G){E(this,G)}).on("dragend",function(G){m(this,G)}))}function i(B,G){return B[0]-G[0]}function C(B,G,Q){var ee=Q._context.staticPlot,ae=B.selectAll(".background").data(L);ae.enter().append("rect").classed("background",!0).call(f).call(l).style("pointer-events",ee?"none":"auto").attr("transform",v(0,g.verticalPadding)),ae.call(w).attr("height",function(W){return W.height-g.verticalPadding});var fe=B.selectAll(".highlight-shadow").data(L);fe.enter().append("line").classed("highlight-shadow",!0).attr("x",-g.bar.width/2).attr("stroke-width",g.bar.width+g.bar.strokeWidth).attr("stroke",G).attr("opacity",g.bar.strokeOpacity).attr("stroke-linecap","butt"),fe.attr("y1",function(W){return W.height}).call(o);var K=B.selectAll(".highlight").data(L);K.enter().append("line").classed("highlight",!0).attr("x",-g.bar.width/2).attr("stroke-width",g.bar.width-g.bar.strokeWidth).attr("stroke",g.bar.fillColor).attr("opacity",g.bar.fillOpacity).attr("stroke-linecap","butt"),K.attr("y1",function(W){return W.height}).call(o)}function y(B,G,Q){var ee=B.selectAll("."+g.cn.axisBrush).data(L,a);ee.enter().append("g").classed(g.cn.axisBrush,!0),C(ee,G,Q)}function _(B){return B.svgBrush.extent.map(function(G){return G.slice()})}function I(B){B.filterSpecified=!1,B.svgBrush.extent=[[-1/0,1/0]]}function N(B){return function(Q){var ee=Q.brush,ae=_(ee),fe=ae.slice();ee.filter.set(fe),B()}}function k(B){for(var G=B.slice(),Q=[],ee,ae=G.shift();ae;){for(ee=ae.slice();(ae=G.shift())&&ae[0]<=ee[1];)ee[1]=Math.max(ee[1],ae[1]);Q.push(ee)}return Q.length===1&&Q[0][0]>Q[0][1]&&(Q=[]),Q}function O(){var B=[],G,Q;return{set:function(ee){B=ee.map(function(ae){return ae.slice().sort(T)}).sort(i),B.length===1&&B[0][0]===-1/0&&B[0][1]===1/0&&(B=[[0,-1]]),G=k(B),Q=B.reduce(function(ae,fe){return[Math.min(ae[0],fe[0]),Math.max(ae[1],fe[1])]},[1/0,-1/0])},get:function(){return B.slice()},getConsolidated:function(){return G},getBounds:function(){return Q}}}function z(B,G,Q,ee,ae,fe){var K=O();return K.set(Q),{filter:K,filterSpecified:G,svgBrush:{extent:[],brushStartCallback:ee,brushCallback:N(ae),brushEndCallback:fe}}}function F(B,G){if(Array.isArray(B[0])?(B=B.map(function(ee){return ee.sort(T)}),G.multiselect?B=k(B.sort(i)):B=[B[0]]):B=[B.sort(T)],G.tickvals){var Q=G.tickvals.slice().sort(T);if(B=B.map(function(ee){var ae=[n(0,Q,ee[0],[]),n(1,Q,ee[1],[])];if(ae[1]>ae[0])return ae}).filter(function(ee){return ee}),!B.length)return}return B.length>1?B:B[0]}H.exports={makeBrush:z,ensureAxisBrush:y,cleanRanges:F}},71791:function(H,U,e){H.exports={attributes:e(73362),supplyDefaults:e(3633),calc:e(24639),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(49351),categories:["gl","regl","noOpacity","noHover"],meta:{}}},49351:function(H,U,e){var g=e(39898),P=e(27659).a0,a=e(21341),L=e(77922);U.name="parcoords",U.plot=function(T){var v=P(T.calcdata,"parcoords")[0];v.length&&a(T,v)},U.clean=function(T,v,d,t){var r=t._has&&t._has("parcoords"),u=v._has&&v._has("parcoords");r&&!u&&(t._paperdiv.selectAll(".parcoords").remove(),t._glimages.selectAll("*").remove())},U.toSVG=function(T){var v=T._fullLayout._glimages,d=g.select(T).selectAll(".svg-container"),t=d.filter(function(u,n){return n===d.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function r(){var u=this,n=u.toDataURL("image/png"),s=v.append("svg:image");s.attr({xmlns:L.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:u.style.width,height:u.style.height})}t.each(r),window.setTimeout(function(){g.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},24639:function(H,U,e){var g=e(71828).isArrayOrTypedArray,P=e(21081),a=e(28984).wrap;H.exports=function(v,d){var t,r;return P.hasColorscale(d,"line")&&g(d.line.color)?(t=d.line.color,r=P.extractOpts(d.line).colorscale,P.calc(v,d,{vals:t,containerStr:"line",cLetter:"c"})):(t=L(d._length),r=[[0,d.line.color],[1,d.line.color]]),a({lineColor:t,cscale:r})};function L(T){for(var v=new Array(T),d=0;d<T;d++)v[d]=.5;return v}},25706:function(H){H.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},3633:function(H,U,e){var g=e(71828),P=e(52075).hasColorscale,a=e(1586),L=e(27670).c,T=e(85501),v=e(89298),d=e(73362),t=e(57920),r=e(25706).maxDimensionCount,u=e(94397);function n(f,l,x,c,b){var h=b("line.color",x);if(P(f,"line")&&g.isArrayOrTypedArray(h)){if(h.length)return b("line.colorscale"),a(f,l,c,b,{prefix:"line.",cLetter:"c"}),h.length;l.line.color=x}return 1/0}function s(f,l,x,c){function b(A,E){return g.coerce(f,l,d.dimensions,A,E)}var h=b("values"),o=b("visible");if(h&&h.length||(o=l.visible=!1),o){b("label"),b("tickvals"),b("ticktext"),b("tickformat");var p=b("range");l._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:p},v.setConvert(l._ax,c.layout),b("multiselect");var S=b("constraintrange");S&&(l.constraintrange=t.cleanRanges(S,l))}}H.exports=function(l,x,c,b){function h(E,m){return g.coerce(l,x,d,E,m)}var o=l.dimensions;Array.isArray(o)&&o.length>r&&(g.log("parcoords traces support up to "+r+" dimensions at the moment"),o.splice(r));var p=T(l,x,{name:"dimensions",layout:b,handleItemDefaults:s}),S=n(l,x,c,b,h);L(x,b,h),(!Array.isArray(p)||!p.length)&&(x.visible=!1),u(x,p,"values",S);var A={family:b.font.family,size:Math.round(b.font.size/1.2),color:b.font.color};g.coerceFont(h,"labelfont",A),g.coerceFont(h,"tickfont",A),g.coerceFont(h,"rangefont",A),h("labelangle"),h("labelside"),h("unselected.line.color"),h("unselected.line.opacity")}},1602:function(H,U,e){var g=e(71828).isTypedArray;U.convertTypedArray=function(P){return g(P)?Array.prototype.slice.call(P):P},U.isOrdinal=function(P){return!!P.tickvals},U.isVisible=function(P){return P.visible||!("visible"in P)}},67618:function(H,U,e){var g=e(71791);g.plot=e(21341),H.exports=g},83398:function(H,U,e){var g=e(56068),P=g([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

attribute vec4 p01_04, p05_08, p09_12, p13_16,
               p17_20, p21_24, p25_28, p29_32,
               p33_36, p37_40, p41_44, p45_48,
               p49_52, p53_56, p57_60, colors;

uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,
             loA, hiA, loB, hiB, loC, hiC, loD, hiD;

uniform vec2 resolution, viewBoxPos, viewBoxSize;
uniform float maskHeight;
uniform float drwLayer; // 0: context, 1: focus, 2: pick
uniform vec4 contextColor;
uniform sampler2D maskTexture, palette;

bool isPick    = (drwLayer > 1.5);
bool isContext = (drwLayer < 0.5);

const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);
const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);

float val(mat4 p, mat4 v) {
    return dot(matrixCompMult(p, v) * UNITS, UNITS);
}

float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {
    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);
    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);
    return y1 * (1.0 - ratio) + y2 * ratio;
}

int iMod(int a, int b) {
    return a - b * (a / b);
}

bool fOutside(float p, float lo, float hi) {
    return (lo < hi) && (lo > p || p > hi);
}

bool vOutside(vec4 p, vec4 lo, vec4 hi) {
    return (
        fOutside(p[0], lo[0], hi[0]) ||
        fOutside(p[1], lo[1], hi[1]) ||
        fOutside(p[2], lo[2], hi[2]) ||
        fOutside(p[3], lo[3], hi[3])
    );
}

bool mOutside(mat4 p, mat4 lo, mat4 hi) {
    return (
        vOutside(p[0], lo[0], hi[0]) ||
        vOutside(p[1], lo[1], hi[1]) ||
        vOutside(p[2], lo[2], hi[2]) ||
        vOutside(p[3], lo[3], hi[3])
    );
}

bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {
    return mOutside(A, loA, hiA) ||
           mOutside(B, loB, hiB) ||
           mOutside(C, loC, hiC) ||
           mOutside(D, loD, hiD);
}

bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {
    mat4 pnts[4];
    pnts[0] = A;
    pnts[1] = B;
    pnts[2] = C;
    pnts[3] = D;

    for(int i = 0; i < 4; ++i) {
        for(int j = 0; j < 4; ++j) {
            for(int k = 0; k < 4; ++k) {
                if(0 == iMod(
                    int(255.0 * texture2D(maskTexture,
                        vec2(
                            (float(i * 2 + j / 2) + 0.5) / 8.0,
                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight
                        ))[3]
                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),
                    2
                )) return true;
            }
        }
    }
    return false;
}

vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {
    float x = 0.5 * sign(v) + 0.5;
    float y = axisY(x, A, B, C, D);
    float z = 1.0 - abs(v);

    z += isContext ? 0.0 : 2.0 * float(
        outsideBoundingBox(A, B, C, D) ||
        outsideRasterMask(A, B, C, D)
    );

    return vec4(
        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,
        z,
        1.0
    );
}

void main() {
    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);
    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);
    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);
    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);

    float v = colors[3];

    gl_Position = position(isContext, v, A, B, C, D);

    fragColor =
        isContext ? vec4(contextColor) :
        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));
}
`]),a=g([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
    gl_FragColor = fragColor;
}
`]),L=e(25706).maxDimensionCount,T=e(71828),v=1e-6,d=2048,t=new Uint8Array(4),r=new Uint8Array(4),u={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function n(M){M.read({x:0,y:0,width:1,height:1,data:t})}function s(M,w,i,C,y){var _=M._gl;_.enable(_.SCISSOR_TEST),_.scissor(w,i,C,y),M.clear({color:[0,0,0,0],depth:1})}function f(M,w,i,C,y,_){var I=_.key;function N(k){var O=Math.min(C,y-k*C);k===0&&(window.cancelAnimationFrame(i.currentRafs[I]),delete i.currentRafs[I],s(M,_.scissorX,_.scissorY,_.scissorWidth,_.viewBoxSize[1])),!i.clearOnly&&(_.count=2*O,_.offset=2*k*C,w(_),k*C+O<y&&(i.currentRafs[I]=window.requestAnimationFrame(function(){N(k+1)})),i.drawCompleted=!1)}i.drawCompleted||(n(M),i.drawCompleted=!0),N(0)}function l(M){return Math.max(v,Math.min(1-v,M))}function x(M,w){for(var i=new Array(256),C=0;C<256;C++)i[C]=M(C/255).concat(w);return i}function c(M,w){return(M>>>8*w)%256/255}function b(M,w,i){for(var C=new Array(M*(L+4)),y=0,_=0;_<M;_++){for(var I=0;I<L;I++)C[y++]=I<w.length?w[I].paddedUnitValues[_]:.5;C[y++]=c(_,2),C[y++]=c(_,1),C[y++]=c(_,0),C[y++]=l(i[_])}return C}function h(M,w,i){for(var C=new Array(w*8),y=0,_=0;_<w;_++)for(var I=0;I<2;I++)for(var N=0;N<4;N++){var k=M*4+N,O=i[_*64+k];k===63&&I===0&&(O*=-1),C[y++]=O}return C}function o(M){var w="0"+M;return w.substr(w.length-2)}function p(M){return M<L?"p"+o(M+1)+"_"+o(M+4):"colors"}function S(M,w,i){for(var C=0;C<=L;C+=4)M[p(C)](h(C/4,w,i))}function A(M){for(var w={},i=0;i<=L;i+=4)w[p(i)]=M.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return w}function E(M,w,i,C,y,_,I,N,k,O,z,F,B,G){for(var Q=[[],[]],ee=0;ee<64;ee++)Q[0][ee]=ee===y?1:0,Q[1][ee]=ee===_?1:0;I*=G,N*=G,k*=G,O*=G;var ae=M.lines.canvasOverdrag*G,fe=M.domain,K=M.canvasWidth*G,W=M.canvasHeight*G,Z=M.pad.l*G,X=M.pad.b*G,$=M.layoutHeight*G,ie=M.layoutWidth*G,J=M.deselectedLines.color,j=M.deselectedLines.opacity,se=T.extendFlat({key:z,resolution:[K,W],viewBoxPos:[I+ae,N],viewBoxSize:[k,O],i0:y,i1:_,dim0A:Q[0].slice(0,16),dim0B:Q[0].slice(16,32),dim0C:Q[0].slice(32,48),dim0D:Q[0].slice(48,64),dim1A:Q[1].slice(0,16),dim1B:Q[1].slice(16,32),dim1C:Q[1].slice(32,48),dim1D:Q[1].slice(48,64),drwLayer:F,contextColor:[J[0]/255,J[1]/255,J[2]/255,j!=="auto"?J[3]*j:Math.max(1/255,Math.pow(1/M.lines.color.length,1/3))],scissorX:(C===w?0:I+ae)+(Z-ae)+ie*fe.x[0],scissorWidth:(C===i?K-I+ae:k+.5)+(C===w?I+ae:0),scissorY:N+X+$*fe.y[0],scissorHeight:O,viewportX:Z-ae+ie*fe.x[0],viewportY:X+$*fe.y[0],viewportWidth:K,viewportHeight:W},B);return se}function m(M){var w=d-1,i=Math.max(0,Math.floor(M[0]*w),0),C=Math.min(w,Math.ceil(M[1]*w),w);return[Math.min(i,C),Math.max(i,C)]}H.exports=function(M,w){var i=w.context,C=w.pick,y=w.regl,_=y._gl,I=_.getParameter(_.ALIASED_LINE_WIDTH_RANGE),N=Math.max(I[0],Math.min(I[1],w.viewModel.plotGlPixelRatio)),k={currentRafs:{},drawCompleted:!0,clearOnly:!1},O,z,F,B,G=A(y),Q,ee=y.texture(u),ae=[];K(w);var fe=y({profile:!1,blend:{enable:i,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!i,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:y.prop("scissorX"),y:y.prop("scissorY"),width:y.prop("scissorWidth"),height:y.prop("scissorHeight")}},viewport:{x:y.prop("viewportX"),y:y.prop("viewportY"),width:y.prop("viewportWidth"),height:y.prop("viewportHeight")},dither:!1,vert:P,frag:a,primitive:"lines",lineWidth:N,attributes:G,uniforms:{resolution:y.prop("resolution"),viewBoxPos:y.prop("viewBoxPos"),viewBoxSize:y.prop("viewBoxSize"),dim0A:y.prop("dim0A"),dim1A:y.prop("dim1A"),dim0B:y.prop("dim0B"),dim1B:y.prop("dim1B"),dim0C:y.prop("dim0C"),dim1C:y.prop("dim1C"),dim0D:y.prop("dim0D"),dim1D:y.prop("dim1D"),loA:y.prop("loA"),hiA:y.prop("hiA"),loB:y.prop("loB"),hiB:y.prop("hiB"),loC:y.prop("loC"),hiC:y.prop("hiC"),loD:y.prop("loD"),hiD:y.prop("hiD"),palette:ee,contextColor:y.prop("contextColor"),maskTexture:y.prop("maskTexture"),drwLayer:y.prop("drwLayer"),maskHeight:y.prop("maskHeight")},offset:y.prop("offset"),count:y.prop("count")});function K(J){O=J.model,z=J.viewModel,F=z.dimensions.slice(),B=F[0]?F[0].values.length:0;var j=O.lines,se=C?j.color.map(function(ue,ge){return ge/j.color.length}):j.color,ne=b(B,F,se);S(G,B,ne),!i&&!C&&(ee=y.texture(T.extendFlat({data:x(O.unitToColor,255)},u)))}function W(J){var j,se,ne,ue=[[],[]];for(ne=0;ne<64;ne++){var ge=!J&&ne<F.length?F[ne].brush.filter.getBounds():[-1/0,1/0];ue[0][ne]=ge[0],ue[1][ne]=ge[1]}var we=d*8,xe=new Array(we);for(j=0;j<we;j++)xe[j]=255;if(!J)for(j=0;j<F.length;j++){var Fe=j%8,ze=(j-Fe)/8,Te=Math.pow(2,Fe),ye=F[j],Ae=ye.brush.filter.get();if(!(Ae.length<2)){var Ne=m(Ae[0])[1];for(se=1;se<Ae.length;se++){var Ue=m(Ae[se]);for(ne=Ne+1;ne<Ue[0];ne++)xe[ne*8+ze]&=~Te;Ne=Math.max(Ne,Ue[1])}}}var Re={shape:[8,d],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:xe};return Q?Q(Re):Q=y.texture(Re),{maskTexture:Q,maskHeight:d,loA:ue[0].slice(0,16),loB:ue[0].slice(16,32),loC:ue[0].slice(32,48),loD:ue[0].slice(48,64),hiA:ue[1].slice(0,16),hiB:ue[1].slice(16,32),hiC:ue[1].slice(32,48),hiD:ue[1].slice(48,64)}}function Z(J,j,se){var ne=J.length,ue,ge,we,xe=1/0,Fe=-1/0;for(ue=0;ue<ne;ue++)J[ue].dim0.canvasX<xe&&(xe=J[ue].dim0.canvasX,ge=ue),J[ue].dim1.canvasX>Fe&&(Fe=J[ue].dim1.canvasX,we=ue);ne===0&&s(y,0,0,O.canvasWidth,O.canvasHeight);var ze=W(i);for(ue=0;ue<ne;ue++){var Te=J[ue],ye=Te.dim0.crossfilterDimensionIndex,Ae=Te.dim1.crossfilterDimensionIndex,Ne=Te.canvasX,Ue=Te.canvasY,Re=Ne+Te.panelSizeX,Ve=Te.plotGlPixelRatio;if(j||!ae[ye]||ae[ye][0]!==Ne||ae[ye][1]!==Re){ae[ye]=[Ne,Re];var rt=E(O,ge,we,ue,ye,Ae,Ne,Ue,Te.panelSizeX,Te.panelSizeY,Te.dim0.crossfilterDimensionIndex,i?0:C?2:1,ze,Ve);k.clearOnly=se;var Qe=j?O.lines.blockLineCount:B;f(y,fe,k,Qe,B,rt)}}}function X(J,j){return y.read({x:J,y:j,width:1,height:1,data:r}),r}function $(J,j,se,ne){var ue=new Uint8Array(4*se*ne);return y.read({x:J,y:j,width:se,height:ne,data:ue}),ue}function ie(){M.style["pointer-events"]="none",ee.destroy(),Q&&Q.destroy();for(var J in G)G[J].destroy()}return{render:Z,readPixel:X,readPixels:$,destroy:ie,update:K}}},94397:function(H){H.exports=function(U,e,g,P){P||(P=1/0);var a,L;for(a=0;a<e.length;a++)L=e[a],L.visible&&(P=Math.min(P,L[g].length));for(P===1/0&&(P=0),U._length=P,a=0;a<e.length;a++)L=e[a],L.visible&&(L._length=P);return P}},17171:function(H,U,e){var g=e(39898),P=e(71828),a=P.numberFormat,L=e(36652),T=e(89298),v=P.strRotate,d=P.strTranslate,t=e(63893),r=e(91424),u=e(21081),n=e(28984),s=n.keyFun,f=n.repeat,l=n.unwrap,x=e(1602),c=e(25706),b=e(57920),h=e(83398);function o(Q,ee,ae){return P.aggNums(Q,null,ee,ae)}function p(Q,ee){return A(o(Math.min,Q,ee),o(Math.max,Q,ee))}function S(Q){var ee=Q.range;return ee?A(ee[0],ee[1]):p(Q.values,Q._length)}function A(Q,ee){return(isNaN(Q)||!isFinite(Q))&&(Q=0),(isNaN(ee)||!isFinite(ee))&&(ee=0),Q===ee&&(Q===0?(Q-=1,ee+=1):(Q*=.9,ee*=1.1)),[Q,ee]}function E(Q,ee){return ee?function(ae,fe){var K=ee[fe];return K??Q(ae)}:Q}function m(Q,ee,ae,fe,K){var W=S(ae);return fe?g.scale.ordinal().domain(fe.map(E(a(ae.tickformat),K))).range(fe.map(function(Z){var X=(Z-W[0])/(W[1]-W[0]);return Q-ee+X*(2*ee-Q)})):g.scale.linear().domain(W).range([Q-ee,ee])}function M(Q,ee){return g.scale.linear().range([ee,Q-ee])}function w(Q,ee){return g.scale.linear().domain(S(Q)).range([ee,1-ee])}function i(Q){if(Q.tickvals){var ee=S(Q);return g.scale.ordinal().domain(Q.tickvals).range(Q.tickvals.map(function(ae){return(ae-ee[0])/(ee[1]-ee[0])}))}}function C(Q){var ee=Q.map(function(W){return W[0]}),ae=Q.map(function(W){var Z=L(W[1]);return g.rgb("rgb("+Z[0]+","+Z[1]+","+Z[2]+")")}),fe=function(W){return function(Z){return Z[W]}},K="rgb".split("").map(function(W){return g.scale.linear().clamp(!0).domain(ee).range(ae.map(fe(W)))});return function(W){return K.map(function(Z){return Z(W)})}}function y(Q){return Q.dimensions.some(function(ee){return ee.brush.filterSpecified})}function _(Q,ee,ae){var fe=l(ee),K=fe.trace,W=x.convertTypedArray(fe.lineColor),Z=K.line,X={color:L(K.unselected.line.color),opacity:K.unselected.line.opacity},$=u.extractOpts(Z),ie=$.reversescale?u.flipScale(fe.cscale):fe.cscale,J=K.domain,j=K.dimensions,se=Q.width,ne=K.labelangle,ue=K.labelside,ge=K.labelfont,we=K.tickfont,xe=K.rangefont,Fe=P.extendDeepNoArrays({},Z,{color:W.map(g.scale.linear().domain(S({values:W,range:[$.min,$.max],_length:K._length}))),blockLineCount:c.blockLineCount,canvasOverdrag:c.overdrag*c.canvasPixelRatio}),ze=Math.floor(se*(J.x[1]-J.x[0])),Te=Math.floor(Q.height*(J.y[1]-J.y[0])),ye=Q.margin||{l:80,r:80,t:100,b:80},Ae=ze,Ne=Te;return{key:ae,colCount:j.filter(x.isVisible).length,dimensions:j,tickDistance:c.tickDistance,unitToColor:C(ie),lines:Fe,deselectedLines:X,labelAngle:ne,labelSide:ue,labelFont:ge,tickFont:we,rangeFont:xe,layoutWidth:se,layoutHeight:Q.height,domain:J,translateX:J.x[0]*se,translateY:Q.height-J.y[1]*Q.height,pad:ye,canvasWidth:Ae*c.canvasPixelRatio+2*Fe.canvasOverdrag,canvasHeight:Ne*c.canvasPixelRatio,width:Ae,height:Ne,canvasPixelRatio:c.canvasPixelRatio}}function I(Q,ee,ae){var fe=ae.width,K=ae.height,W=ae.dimensions,Z=ae.canvasPixelRatio,X=function(se){return fe*se/Math.max(1,ae.colCount-1)},$=c.verticalPadding/K,ie=M(K,c.verticalPadding),J={key:ae.key,xScale:X,model:ae,inBrushDrag:!1},j={};return J.dimensions=W.filter(x.isVisible).map(function(se,ne){var ue=w(se,$),ge=j[se.label];j[se.label]=(ge||0)+1;var we=se.label+(ge?"__"+ge:""),xe=se.constraintrange,Fe=xe&&xe.length;Fe&&!Array.isArray(xe[0])&&(xe=[xe]);var ze=Fe?xe.map(function(Je){return Je.map(ue)}):[[-1/0,1/0]],Te=function(){var Je=J;Je.focusLayer&&Je.focusLayer.render(Je.panels,!0);var qe=y(Je);!Q.contextShown()&&qe?(Je.contextLayer&&Je.contextLayer.render(Je.panels,!0),Q.contextShown(!0)):Q.contextShown()&&!qe&&(Je.contextLayer&&Je.contextLayer.render(Je.panels,!0,!0),Q.contextShown(!1))},ye=se.values;ye.length>se._length&&(ye=ye.slice(0,se._length));var Ae=se.tickvals,Ne;function Ue(Je,qe){return{val:Je,text:Ne[qe]}}function Re(Je,qe){return Je.val-qe.val}if(Array.isArray(Ae)&&Ae.length){Ne=se.ticktext,!Array.isArray(Ne)||!Ne.length?Ne=Ae.map(a(se.tickformat)):Ne.length>Ae.length?Ne=Ne.slice(0,Ae.length):Ae.length>Ne.length&&(Ae=Ae.slice(0,Ne.length));for(var Ve=1;Ve<Ae.length;Ve++)if(Ae[Ve]<Ae[Ve-1]){for(var rt=Ae.map(Ue).sort(Re),Qe=0;Qe<Ae.length;Qe++)Ae[Qe]=rt[Qe].val,Ne[Qe]=rt[Qe].text;break}}else Ae=void 0;return ye=x.convertTypedArray(ye),{key:we,label:se.label,tickFormat:se.tickformat,tickvals:Ae,ticktext:Ne,ordinal:x.isOrdinal(se),multiselect:se.multiselect,xIndex:ne,crossfilterDimensionIndex:ne,visibleIndex:se._index,height:K,values:ye,paddedUnitValues:ye.map(ue),unitTickvals:Ae&&Ae.map(ue),xScale:X,x:X(ne),canvasX:X(ne)*Z,unitToPaddedPx:ie,domainScale:m(K,c.verticalPadding,se,Ae,Ne),ordinalScale:i(se),parent:J,model:ae,brush:b.makeBrush(Q,Fe,ze,function(){Q.linePickActive(!1)},Te,function(Je){if(J.focusLayer.render(J.panels,!0),J.pickLayer&&J.pickLayer.render(J.panels,!0),Q.linePickActive(!0),ee&&ee.filterChanged){var qe=ue.invert,dt=Je.map(function(pt){return pt.map(qe).sort(P.sorterAsc)}).sort(function(pt,mt){return pt[0]-mt[0]});ee.filterChanged(J.key,se._index,dt)}})}}),J}function N(Q){Q.classed(c.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function k(){var Q=!0,ee=!1;return{linePickActive:function(ae){return arguments.length?Q=!!ae:Q},contextShown:function(ae){return arguments.length?ee=!!ae:ee}}}function O(Q,ee){var ae=ee==="top"?1:-1,fe=Q*Math.PI/180,K=Math.sin(fe),W=Math.cos(fe);return{dir:ae,dx:K,dy:W,degrees:Q}}function z(Q,ee,ae){for(var fe=ee.panels||(ee.panels=[]),K=Q.data(),W=0;W<K.length-1;W++){var Z=fe[W]||(fe[W]={}),X=K[W],$=K[W+1];Z.dim0=X,Z.dim1=$,Z.canvasX=X.canvasX,Z.panelSizeX=$.canvasX-X.canvasX,Z.panelSizeY=ee.model.canvasHeight,Z.y=0,Z.canvasY=0,Z.plotGlPixelRatio=ae}}function F(Q){for(var ee=0;ee<Q.length;ee++)for(var ae=0;ae<Q[ee].length;ae++)for(var fe=Q[ee][ae].trace,K=fe.dimensions,W=0;W<K.length;W++){var Z=K[W].values,X=K[W]._ax;X&&(X.range?X.range=A(X.range[0],X.range[1]):X.range=p(Z,fe._length),X.dtick||(X.dtick=.01*(Math.abs(X.range[1]-X.range[0])||1)),X.tickformat=K[W].tickformat,T.calcTicks(X),X.cleanRange())}}function B(Q,ee){return T.tickText(Q._ax,ee,!1).text}function G(Q,ee){if(Q.ordinal)return"";var ae=Q.domainScale.domain(),fe=ae[ee?ae.length-1:0];return B(Q.model.dimensions[Q.visibleIndex],fe)}H.exports=function(ee,ae,fe,K){var W=ee._context.staticPlot,Z=ee._fullLayout,X=Z._toppaper,$=Z._glcontainer,ie=ee._context.plotGlPixelRatio,J=ee._fullLayout.paper_bgcolor;F(ae);var j=k(),se=ae.filter(function(Qe){return l(Qe).trace.visible}).map(_.bind(0,fe)).map(I.bind(0,j,K));$.each(function(Qe,Je){return P.extendFlat(Qe,se[Je])});var ne=$.selectAll(".gl-canvas").each(function(Qe){Qe.viewModel=se[0],Qe.viewModel.plotGlPixelRatio=ie,Qe.viewModel.paperColor=J,Qe.model=Qe.viewModel?Qe.viewModel.model:null}),ue=null,ge=ne.filter(function(Qe){return Qe.pick});ge.style("pointer-events",W?"none":"auto").on("mousemove",function(Qe){if(j.linePickActive()&&Qe.lineLayer&&K&&K.hover){var Je=g.event,qe=this.width,dt=this.height,pt=g.mouse(this),mt=pt[0],Ct=pt[1];if(mt<0||Ct<0||mt>=qe||Ct>=dt)return;var Rt=Qe.lineLayer.readPixel(mt,dt-1-Ct),Zt=Rt[3]!==0,Xe=Zt?Rt[2]+256*(Rt[1]+256*Rt[0]):null,Le={x:mt,y:Ct,clientX:Je.clientX,clientY:Je.clientY,dataIndex:Qe.model.key,curveNumber:Xe};Xe!==ue&&(Zt?K.hover(Le):K.unhover&&K.unhover(Le),ue=Xe)}}),ne.style("opacity",function(Qe){return Qe.pick?0:1}),X.style("background","rgba(255, 255, 255, 0)");var we=X.selectAll("."+c.cn.parcoords).data(se,s);we.exit().remove(),we.enter().append("g").classed(c.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),we.attr("transform",function(Qe){return d(Qe.model.translateX,Qe.model.translateY)});var xe=we.selectAll("."+c.cn.parcoordsControlView).data(f,s);xe.enter().append("g").classed(c.cn.parcoordsControlView,!0),xe.attr("transform",function(Qe){return d(Qe.model.pad.l,Qe.model.pad.t)});var Fe=xe.selectAll("."+c.cn.yAxis).data(function(Qe){return Qe.dimensions},s);Fe.enter().append("g").classed(c.cn.yAxis,!0),xe.each(function(Qe){z(Fe,Qe,ie)}),ne.each(function(Qe){if(Qe.viewModel){!Qe.lineLayer||K?Qe.lineLayer=h(this,Qe):Qe.lineLayer.update(Qe),(Qe.key||Qe.key===0)&&(Qe.viewModel[Qe.key]=Qe.lineLayer);var Je=!Qe.context||K;Qe.lineLayer.render(Qe.viewModel.panels,Je)}}),Fe.attr("transform",function(Qe){return d(Qe.xScale(Qe.xIndex),0)}),Fe.call(g.behavior.drag().origin(function(Qe){return Qe}).on("drag",function(Qe){var Je=Qe.parent;j.linePickActive(!1),Qe.x=Math.max(-c.overdrag,Math.min(Qe.model.width+c.overdrag,g.event.x)),Qe.canvasX=Qe.x*Qe.model.canvasPixelRatio,Fe.sort(function(qe,dt){return qe.x-dt.x}).each(function(qe,dt){qe.xIndex=dt,qe.x=Qe===qe?qe.x:qe.xScale(qe.xIndex),qe.canvasX=qe.x*qe.model.canvasPixelRatio}),z(Fe,Je,ie),Fe.filter(function(qe){return Math.abs(Qe.xIndex-qe.xIndex)!==0}).attr("transform",function(qe){return d(qe.xScale(qe.xIndex),0)}),g.select(this).attr("transform",d(Qe.x,0)),Fe.each(function(qe,dt,pt){pt===Qe.parent.key&&(Je.dimensions[dt]=qe)}),Je.contextLayer&&Je.contextLayer.render(Je.panels,!1,!y(Je)),Je.focusLayer.render&&Je.focusLayer.render(Je.panels)}).on("dragend",function(Qe){var Je=Qe.parent;Qe.x=Qe.xScale(Qe.xIndex),Qe.canvasX=Qe.x*Qe.model.canvasPixelRatio,z(Fe,Je,ie),g.select(this).attr("transform",function(qe){return d(qe.x,0)}),Je.contextLayer&&Je.contextLayer.render(Je.panels,!1,!y(Je)),Je.focusLayer&&Je.focusLayer.render(Je.panels),Je.pickLayer&&Je.pickLayer.render(Je.panels,!0),j.linePickActive(!0),K&&K.axesMoved&&K.axesMoved(Je.key,Je.dimensions.map(function(qe){return qe.crossfilterDimensionIndex}))})),Fe.exit().remove();var ze=Fe.selectAll("."+c.cn.axisOverlays).data(f,s);ze.enter().append("g").classed(c.cn.axisOverlays,!0),ze.selectAll("."+c.cn.axis).remove();var Te=ze.selectAll("."+c.cn.axis).data(f,s);Te.enter().append("g").classed(c.cn.axis,!0),Te.each(function(Qe){var Je=Qe.model.height/Qe.model.tickDistance,qe=Qe.domainScale,dt=qe.domain();g.select(this).call(g.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(Je,Qe.tickFormat).tickValues(Qe.ordinal?dt:null).tickFormat(function(pt){return x.isOrdinal(Qe)?pt:B(Qe.model.dimensions[Qe.visibleIndex],pt)}).scale(qe)),r.font(Te.selectAll("text"),Qe.model.tickFont)}),Te.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Te.selectAll("text").style("text-shadow",t.makeTextShadow(J)).style("cursor","default");var ye=ze.selectAll("."+c.cn.axisHeading).data(f,s);ye.enter().append("g").classed(c.cn.axisHeading,!0);var Ae=ye.selectAll("."+c.cn.axisTitle).data(f,s);Ae.enter().append("text").classed(c.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",W?"none":"auto"),Ae.text(function(Qe){return Qe.label}).each(function(Qe){var Je=g.select(this);r.font(Je,Qe.model.labelFont),t.convertToTspans(Je,ee)}).attr("transform",function(Qe){var Je=O(Qe.model.labelAngle,Qe.model.labelSide),qe=c.axisTitleOffset;return(Je.dir>0?"":d(0,2*qe+Qe.model.height))+v(Je.degrees)+d(-qe*Je.dx,-qe*Je.dy)}).attr("text-anchor",function(Qe){var Je=O(Qe.model.labelAngle,Qe.model.labelSide),qe=Math.abs(Je.dx),dt=Math.abs(Je.dy);return 2*qe>dt?Je.dir*Je.dx<0?"start":"end":"middle"});var Ne=ze.selectAll("."+c.cn.axisExtent).data(f,s);Ne.enter().append("g").classed(c.cn.axisExtent,!0);var Ue=Ne.selectAll("."+c.cn.axisExtentTop).data(f,s);Ue.enter().append("g").classed(c.cn.axisExtentTop,!0),Ue.attr("transform",d(0,-c.axisExtentOffset));var Re=Ue.selectAll("."+c.cn.axisExtentTopText).data(f,s);Re.enter().append("text").classed(c.cn.axisExtentTopText,!0).call(N),Re.text(function(Qe){return G(Qe,!0)}).each(function(Qe){r.font(g.select(this),Qe.model.rangeFont)});var Ve=Ne.selectAll("."+c.cn.axisExtentBottom).data(f,s);Ve.enter().append("g").classed(c.cn.axisExtentBottom,!0),Ve.attr("transform",function(Qe){return d(0,Qe.model.height+c.axisExtentOffset)});var rt=Ve.selectAll("."+c.cn.axisExtentBottomText).data(f,s);rt.enter().append("text").classed(c.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(N),rt.text(function(Qe){return G(Qe,!1)}).each(function(Qe){r.font(g.select(this),Qe.model.rangeFont)}),b.ensureAxisBrush(ze,J,ee)}},21341:function(H,U,e){var g=e(17171),P=e(79749),a=e(1602).isVisible,L={};function T(t,r,u){var n=r.indexOf(u),s=t.indexOf(n);return s===-1&&(s+=r.length),s}function v(t,r){return function(n,s){return T(t,r,n)-T(t,r,s)}}var d=H.exports=function(r,u){var n=r._fullLayout,s=P(r,[],L);if(s){var f={},l={},x={},c={},b=n._size;u.forEach(function(A,E){var m=A[0].trace;x[E]=m.index;var M=c[E]=m._fullInput.index;f[E]=r.data[M].dimensions,l[E]=r.data[M].dimensions.slice()});var h=function(A,E,m){var M=l[A][E],w=m.map(function(N){return N.slice()}),i="dimensions["+E+"].constraintrange",C=n._tracePreGUI[r._fullData[x[A]]._fullInput.uid];if(C[i]===void 0){var y=M.constraintrange;C[i]=y||null}var _=r._fullData[x[A]].dimensions[E];w.length?(w.length===1&&(w=w[0]),M.constraintrange=w,_.constraintrange=w.slice(),w=[w]):(delete M.constraintrange,delete _.constraintrange,w=null);var I={};I[i]=w,r.emit("plotly_restyle",[I,[c[A]]])},o=function(A){r.emit("plotly_hover",A)},p=function(A){r.emit("plotly_unhover",A)},S=function(A,E){var m=v(E,l[A].filter(a));f[A].sort(m),l[A].filter(function(M){return!a(M)}).sort(function(M){return l[A].indexOf(M)}).forEach(function(M){f[A].splice(f[A].indexOf(M),1),f[A].splice(l[A].indexOf(M),0,M)}),r.emit("plotly_restyle",[{dimensions:[f[A]]},[c[A]]])};g(r,u,{width:b.w,height:b.h,margin:{t:b.t,r:b.r,b:b.b,l:b.l}},{filterChanged:h,hover:o,unhover:p,axesMoved:S})}};d.reglPrecompiled=L},34e3:function(H,U,e){var g=e(9012),P=e(27670).Y,a=e(41940),L=e(22399),T=e(5386).fF,v=e(5386).si,d=e(1426).extendFlat,t=e(79952).u,r=a({editType:"plot",arrayOk:!0,colorEditType:"plot"});H.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:L.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:t,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:d({},g.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:T({},{keys:["label","color","value","percent","text"]}),texttemplate:v({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:d({},r,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:d({},r,{}),outsidetextfont:d({},r,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:d({},r,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:P({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:d({},r,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},13584:function(H,U,e){var g=e(74875);U.name="pie",U.plot=function(P,a,L,T){g.plotBasePlot(U.name,P,a,L,T)},U.clean=function(P,a,L,T){g.cleanBasePlot(U.name,P,a,L,T)}},32354:function(H,U,e){var g=e(92770),P=e(84267),a=e(7901),L={};function T(r,u){var n=[],s=r._fullLayout,f=s.hiddenlabels||[],l=u.labels,x=u.marker.colors||[],c=u.values,b=u._length,h=u._hasValues&&b,o,p;if(u.dlabel)for(l=new Array(b),o=0;o<b;o++)l[o]=String(u.label0+o*u.dlabel);var S={},A=v(s["_"+u.type+"colormap"]),E=0,m=!1;for(o=0;o<b;o++){var M,w,i;if(h){if(M=c[o],!g(M))continue;M=+M}else M=1;w=l[o],(w===void 0||w==="")&&(w=o),w=String(w);var C=S[w];C===void 0?(S[w]=n.length,i=f.indexOf(w)!==-1,i||(E+=M),n.push({v:M,label:w,color:A(x[o],w),i:o,pts:[o],hidden:i})):(m=!0,p=n[C],p.v+=M,p.pts.push(o),p.hidden||(E+=M),p.color===!1&&x[o]&&(p.color=A(x[o],w)))}n=n.filter(function(_){return _.v>=0});var y=u.type==="funnelarea"?m:u.sort;return y&&n.sort(function(_,I){return I.v-_.v}),n[0]&&(n[0].vTotal=E),n}function v(r){return function(n,s){return!n||(n=P(n),!n.isValid())?!1:(n=a.addOpacity(n,n.getAlpha()),r[s]||(r[s]=n),n)}}function d(r,u){var n=(u||{}).type;n||(n="pie");var s=r._fullLayout,f=r.calcdata,l=s[n+"colorway"],x=s["_"+n+"colormap"];s["extend"+n+"colors"]&&(l=t(l,L));for(var c=0,b=0;b<f.length;b++){var h=f[b],o=h[0].trace.type;if(o===n)for(var p=0;p<h.length;p++){var S=h[p];S.color===!1&&(x[S.label]?S.color=x[S.label]:(x[S.label]=S.color=l[c%l.length],c++))}}}function t(r,u){var n,s=JSON.stringify(r),f=u[s];if(!f){for(f=r.slice(),n=0;n<r.length;n++)f.push(P(r[n]).lighten(20).toHexString());for(n=0;n<r.length;n++)f.push(P(r[n]).darken(20).toHexString());u[s]=f}return f}H.exports={calc:T,crossTraceCalc:d,makePullColorFn:v,generateExtendedColors:t}},37434:function(H,U,e){var g=e(92770),P=e(71828),a=e(34e3),L=e(27670).c,T=e(90769).handleText,v=e(71828).coercePattern;function d(u,n){var s=Array.isArray(u),f=P.isArrayOrTypedArray(n),l=Math.min(s?u.length:1/0,f?n.length:1/0);if(isFinite(l)||(l=0),l&&f){for(var x,c=0;c<l;c++){var b=n[c];if(g(b)&&b>0){x=!0;break}}x||(l=0)}return{hasLabels:s,hasValues:f,len:l}}function t(u,n,s,f,l){var x=f("marker.line.width");x&&f("marker.line.color",l?void 0:s.paper_bgcolor);var c=f("marker.colors");v(f,"marker.pattern",c),u.marker&&!n.marker.pattern.fgcolor&&(n.marker.pattern.fgcolor=u.marker.colors),n.marker.pattern.bgcolor||(n.marker.pattern.bgcolor=s.paper_bgcolor)}function r(u,n,s,f){function l(C,y){return P.coerce(u,n,a,C,y)}var x=l("labels"),c=l("values"),b=d(x,c),h=b.len;if(n._hasLabels=b.hasLabels,n._hasValues=b.hasValues,!n._hasLabels&&n._hasValues&&(l("label0"),l("dlabel")),!h){n.visible=!1;return}n._length=h,t(u,n,f,l,!0),l("scalegroup");var o=l("text"),p=l("texttemplate"),S;if(p||(S=l("textinfo",Array.isArray(o)?"text+percent":"percent")),l("hovertext"),l("hovertemplate"),p||S&&S!=="none"){var A=l("textposition");T(u,n,f,l,A,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var E=Array.isArray(A)||A==="auto",m=E||A==="outside";m&&l("automargin"),(A==="inside"||A==="auto"||Array.isArray(A))&&l("insidetextorientation")}L(n,f,l);var M=l("hole"),w=l("title.text");if(w){var i=l("title.position",M?"middle center":"top center");!M&&i==="middle center"&&(n.title.position="top center"),P.coerceFont(l,"title.font",f.font)}l("sort"),l("direction"),l("rotation"),l("pull")}H.exports={handleLabelsAndValues:d,handleMarkerDefaults:t,supplyDefaults:r}},20007:function(H,U,e){var g=e(23469).appendArrayMultiPointValues;H.exports=function(a,L){var T={curveNumber:L.index,pointNumbers:a.pts,data:L._input,fullData:L,label:a.label,color:a.color,value:a.v,percent:a.percent,text:a.text,bbox:a.bbox,v:a.v};return a.pts.length===1&&(T.pointNumber=T.i=a.pts[0]),g(T,L,a.pts),L.type==="funnelarea"&&(delete T.v,delete T.i),T}},22209:function(H,U,e){var g=e(91424),P=e(7901);H.exports=function(L,T,v,d){var t=v.marker.pattern;t&&t.shape?g.pointStyle(L,v,d,T):P.fill(L,T.color)}},53581:function(H,U,e){var g=e(71828);function P(a){return a.indexOf("e")!==-1?a.replace(/[.]?0+e/,"e"):a.indexOf(".")!==-1?a.replace(/[.]?0+$/,""):a}U.formatPiePercent=function(L,T){var v=P((L*100).toPrecision(3));return g.numSeparate(v,T)+"%"},U.formatPieValue=function(L,T){var v=P(L.toPrecision(10));return g.numSeparate(v,T)},U.getFirstFilled=function(L,T){if(Array.isArray(L))for(var v=0;v<T.length;v++){var d=L[T[v]];if(d||d===0||d==="")return d}},U.castOption=function(L,T){if(Array.isArray(L))return U.getFirstFilled(L,T);if(L)return L},U.getRotationAngle=function(a){return(a==="auto"?0:a)*Math.PI/180}},58810:function(H,U,e){H.exports={attributes:e(34e3),supplyDefaults:e(37434).supplyDefaults,supplyLayoutDefaults:e(92097),layoutAttributes:e(92774),calc:e(32354).calc,crossTraceCalc:e(32354).crossTraceCalc,plot:e(14575).plot,style:e(68357),styleOne:e(63463),moduleType:"trace",name:"pie",basePlotModule:e(13584),categories:["pie-like","pie","showLegend"],meta:{}}},92774:function(H){H.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},92097:function(H,U,e){var g=e(71828),P=e(92774);H.exports=function(L,T){function v(d,t){return g.coerce(L,T,P,d,t)}v("hiddenlabels"),v("piecolorway",T.colorway),v("extendpiecolors")}},14575:function(H,U,e){var g=e(39898),P=e(74875),a=e(30211),L=e(7901),T=e(91424),v=e(71828),d=v.strScale,t=v.strTranslate,r=e(63893),u=e(72597),n=u.recordMinTextSize,s=u.clearMinTextSize,f=e(97313).TEXTPAD,l=e(53581),x=e(20007),c=e(71828).isValidTextValue;function b(W,Z){var X=W._context.staticPlot,$=W._fullLayout,ie=$._size;s("pie",$),A(Z,W),G(Z,ie);var J=v.makeTraceGroups($._pielayer,Z,"trace").each(function(j){var se=g.select(this),ne=j[0],ue=ne.trace;ee(j),se.attr("stroke-linejoin","round"),se.each(function(){var ge=g.select(this).selectAll("g.slice").data(j);ge.enter().append("g").classed("slice",!0),ge.exit().remove();var we=[[[],[]],[[],[]]],xe=!1;ge.each(function(Re,Ve){if(Re.hidden){g.select(this).selectAll("path,g").remove();return}Re.pointNumber=Re.i,Re.curveNumber=ue.index,we[Re.pxmid[1]<0?0:1][Re.pxmid[0]<0?0:1].push(Re);var rt=ne.cx,Qe=ne.cy,Je=g.select(this),qe=Je.selectAll("path.surface").data([Re]);if(qe.enter().append("path").classed("surface",!0).style({"pointer-events":X?"none":"all"}),Je.call(o,W,j),ue.pull){var dt=+l.castOption(ue.pull,Re.pts)||0;dt>0&&(rt+=dt*Re.pxmid[0],Qe+=dt*Re.pxmid[1])}Re.cxFinal=rt,Re.cyFinal=Qe;function pt(Pe,ke,Ce,me){var oe=me*(ke[0]-Pe[0]),pe=me*(ke[1]-Pe[1]);return"a"+me*ne.r+","+me*ne.r+" 0 "+Re.largeArc+(Ce?" 1 ":" 0 ")+oe+","+pe}var mt=ue.hole;if(Re.v===ne.vTotal){var Ct="M"+(rt+Re.px0[0])+","+(Qe+Re.px0[1])+pt(Re.px0,Re.pxmid,!0,1)+pt(Re.pxmid,Re.px0,!0,1)+"Z";mt?qe.attr("d","M"+(rt+mt*Re.px0[0])+","+(Qe+mt*Re.px0[1])+pt(Re.px0,Re.pxmid,!1,mt)+pt(Re.pxmid,Re.px0,!1,mt)+"Z"+Ct):qe.attr("d",Ct)}else{var Rt=pt(Re.px0,Re.px1,!0,1);if(mt){var Zt=1-mt;qe.attr("d","M"+(rt+mt*Re.px1[0])+","+(Qe+mt*Re.px1[1])+pt(Re.px1,Re.px0,!1,mt)+"l"+Zt*Re.px0[0]+","+Zt*Re.px0[1]+Rt+"Z")}else qe.attr("d","M"+rt+","+Qe+"l"+Re.px0[0]+","+Re.px0[1]+Rt+"Z")}fe(W,Re,ne);var Xe=l.castOption(ue.textposition,Re.pts),Le=Je.selectAll("g.slicetext").data(Re.text&&Xe!=="none"?[0]:[]);Le.enter().append("g").classed("slicetext",!0),Le.exit().remove(),Le.each(function(){var Pe=v.ensureSingle(g.select(this),"text","",function(tt){tt.attr("data-notex",1)}),ke=v.ensureUniformFontSize(W,Xe==="outside"?p(ue,Re,$.font):S(ue,Re,$.font));Pe.text(Re.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(T.font,ke).call(r.convertToTspans,W);var Ce=T.bBox(Pe.node()),me;if(Xe==="outside")me=I(Ce,Re);else if(me=E(Ce,Re,ne),Xe==="auto"&&me.scale<1){var oe=v.ensureUniformFontSize(W,ue.outsidetextfont);Pe.call(T.font,oe),Ce=T.bBox(Pe.node()),me=I(Ce,Re)}var pe=me.textPosAngle,Me=pe===void 0?Re.pxmid:ae(ne.r,pe);if(me.targetX=rt+Me[0]*me.rCenter+(me.x||0),me.targetY=Qe+Me[1]*me.rCenter+(me.y||0),K(me,Ce),me.outside){var _e=me.targetY;Re.yLabelMin=_e-Ce.height/2,Re.yLabelMid=_e,Re.yLabelMax=_e+Ce.height/2,Re.labelExtraX=0,Re.labelExtraY=0,xe=!0}me.fontSize=ke.size,n(ue.type,me,$),j[Ve].transform=me,v.setTransormAndDisplay(Pe,me)})});var Fe=g.select(this).selectAll("g.titletext").data(ue.title.text?[0]:[]);if(Fe.enter().append("g").classed("titletext",!0),Fe.exit().remove(),Fe.each(function(){var Re=v.ensureSingle(g.select(this),"text","",function(Qe){Qe.attr("data-notex",1)}),Ve=ue.title.text;ue._meta&&(Ve=v.templateString(Ve,ue._meta)),Re.text(Ve).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(T.font,ue.title.font).call(r.convertToTspans,W);var rt;ue.title.position==="middle center"?rt=N(ne):rt=k(ne,ie),Re.attr("transform",t(rt.x,rt.y)+d(Math.min(1,rt.scale))+t(rt.tx,rt.ty))}),xe&&B(we,ue),h(ge,ue),xe&&ue.automargin){var ze=T.bBox(se.node()),Te=ue.domain,ye=ie.w*(Te.x[1]-Te.x[0]),Ae=ie.h*(Te.y[1]-Te.y[0]),Ne=(.5*ye-ne.r)/ie.w,Ue=(.5*Ae-ne.r)/ie.h;P.autoMargin(W,"pie."+ue.uid+".automargin",{xl:Te.x[0]-Ne,xr:Te.x[1]+Ne,yb:Te.y[0]-Ue,yt:Te.y[1]+Ue,l:Math.max(ne.cx-ne.r-ze.left,0),r:Math.max(ze.right-(ne.cx+ne.r),0),b:Math.max(ze.bottom-(ne.cy+ne.r),0),t:Math.max(ne.cy-ne.r-ze.top,0),pad:5})}})});setTimeout(function(){J.selectAll("tspan").each(function(){var j=g.select(this);j.attr("dy")&&j.attr("dy",j.attr("dy"))})},0)}function h(W,Z){W.each(function(X){var $=g.select(this);if(!X.labelExtraX&&!X.labelExtraY){$.select("path.textline").remove();return}var ie=$.select("g.slicetext text");X.transform.targetX+=X.labelExtraX,X.transform.targetY+=X.labelExtraY,v.setTransormAndDisplay(ie,X.transform);var J=X.cxFinal+X.pxmid[0],j=X.cyFinal+X.pxmid[1],se="M"+J+","+j,ne=(X.yLabelMax-X.yLabelMin)*(X.pxmid[0]<0?-1:1)/4;if(X.labelExtraX){var ue=X.labelExtraX*X.pxmid[1]/X.pxmid[0],ge=X.yLabelMid+X.labelExtraY-(X.cyFinal+X.pxmid[1]);Math.abs(ue)>Math.abs(ge)?se+="l"+ge*X.pxmid[0]/X.pxmid[1]+","+ge+"H"+(J+X.labelExtraX+ne):se+="l"+X.labelExtraX+","+ue+"v"+(ge-ue)+"h"+ne}else se+="V"+(X.yLabelMid+X.labelExtraY)+"h"+ne;v.ensureSingle($,"path","textline").call(L.stroke,Z.outsidetextfont.color).attr({"stroke-width":Math.min(2,Z.outsidetextfont.size/8),d:se,fill:"none"})})}function o(W,Z,X){var $=X[0],ie=$.cx,J=$.cy,j=$.trace,se=j.type==="funnelarea";"_hasHoverLabel"in j||(j._hasHoverLabel=!1),"_hasHoverEvent"in j||(j._hasHoverEvent=!1),W.on("mouseover",function(ne){var ue=Z._fullLayout,ge=Z._fullData[j.index];if(!(Z._dragging||ue.hovermode===!1)){var we=ge.hoverinfo;if(Array.isArray(we)&&(we=a.castHoverinfo({hoverinfo:[l.castOption(we,ne.pts)],_module:j._module},ue,0)),we==="all"&&(we="label+text+value+percent+name"),ge.hovertemplate||we!=="none"&&we!=="skip"&&we){var xe=ne.rInscribed||0,Fe=ie+ne.pxmid[0]*(1-xe),ze=J+ne.pxmid[1]*(1-xe),Te=ue.separators,ye=[];if(we&&we.indexOf("label")!==-1&&ye.push(ne.label),ne.text=l.castOption(ge.hovertext||ge.text,ne.pts),we&&we.indexOf("text")!==-1){var Ae=ne.text;v.isValidTextValue(Ae)&&ye.push(Ae)}ne.value=ne.v,ne.valueLabel=l.formatPieValue(ne.v,Te),we&&we.indexOf("value")!==-1&&ye.push(ne.valueLabel),ne.percent=ne.v/$.vTotal,ne.percentLabel=l.formatPiePercent(ne.percent,Te),we&&we.indexOf("percent")!==-1&&ye.push(ne.percentLabel);var Ne=ge.hoverlabel,Ue=Ne.font,Re=[];a.loneHover({trace:j,x0:Fe-xe*$.r,x1:Fe+xe*$.r,y:ze,_x0:se?ie+ne.TL[0]:Fe-xe*$.r,_x1:se?ie+ne.TR[0]:Fe+xe*$.r,_y0:se?J+ne.TL[1]:ze-xe*$.r,_y1:se?J+ne.BL[1]:ze+xe*$.r,text:ye.join("<br>"),name:ge.hovertemplate||we.indexOf("name")!==-1?ge.name:void 0,idealAlign:ne.pxmid[0]<0?"left":"right",color:l.castOption(Ne.bgcolor,ne.pts)||ne.color,borderColor:l.castOption(Ne.bordercolor,ne.pts),fontFamily:l.castOption(Ue.family,ne.pts),fontSize:l.castOption(Ue.size,ne.pts),fontColor:l.castOption(Ue.color,ne.pts),nameLength:l.castOption(Ne.namelength,ne.pts),textAlign:l.castOption(Ne.align,ne.pts),hovertemplate:l.castOption(ge.hovertemplate,ne.pts),hovertemplateLabels:ne,eventData:[x(ne,ge)]},{container:ue._hoverlayer.node(),outerContainer:ue._paper.node(),gd:Z,inOut_bbox:Re}),ne.bbox=Re[0],j._hasHoverLabel=!0}j._hasHoverEvent=!0,Z.emit("plotly_hover",{points:[x(ne,ge)],event:g.event})}}),W.on("mouseout",function(ne){var ue=Z._fullLayout,ge=Z._fullData[j.index],we=g.select(this).datum();j._hasHoverEvent&&(ne.originalEvent=g.event,Z.emit("plotly_unhover",{points:[x(we,ge)],event:g.event}),j._hasHoverEvent=!1),j._hasHoverLabel&&(a.loneUnhover(ue._hoverlayer.node()),j._hasHoverLabel=!1)}),W.on("click",function(ne){var ue=Z._fullLayout,ge=Z._fullData[j.index];Z._dragging||ue.hovermode===!1||(Z._hoverdata=[x(ne,ge)],a.click(Z,g.event))})}function p(W,Z,X){var $=l.castOption(W.outsidetextfont.color,Z.pts)||l.castOption(W.textfont.color,Z.pts)||X.color,ie=l.castOption(W.outsidetextfont.family,Z.pts)||l.castOption(W.textfont.family,Z.pts)||X.family,J=l.castOption(W.outsidetextfont.size,Z.pts)||l.castOption(W.textfont.size,Z.pts)||X.size;return{color:$,family:ie,size:J}}function S(W,Z,X){var $=l.castOption(W.insidetextfont.color,Z.pts);!$&&W._input.textfont&&($=l.castOption(W._input.textfont.color,Z.pts));var ie=l.castOption(W.insidetextfont.family,Z.pts)||l.castOption(W.textfont.family,Z.pts)||X.family,J=l.castOption(W.insidetextfont.size,Z.pts)||l.castOption(W.textfont.size,Z.pts)||X.size;return{color:$||L.contrast(Z.color),family:ie,size:J}}function A(W,Z){for(var X,$,ie=0;ie<W.length;ie++)if(X=W[ie][0],$=X.trace,$.title.text){var J=$.title.text;$._meta&&(J=v.templateString(J,$._meta));var j=T.tester.append("text").attr("data-notex",1).text(J).call(T.font,$.title.font).call(r.convertToTspans,Z),se=T.bBox(j.node(),!0);X.titleBox={width:se.width,height:se.height},j.remove()}}function E(W,Z,X){var $=X.r||Z.rpx1,ie=Z.rInscribed,J=Z.startangle===Z.stopangle;if(J)return{rCenter:1-ie,scale:0,rotate:0,textPosAngle:0};var j=Z.ring,se=j===1&&Math.abs(Z.startangle-Z.stopangle)===Math.PI*2,ne=Z.halfangle,ue=Z.midangle,ge=X.trace.insidetextorientation,we=ge==="horizontal",xe=ge==="tangential",Fe=ge==="radial",ze=ge==="auto",Te=[],ye;if(!ze){var Ae=function(Je,qe){if(m(Z,Je)){var dt=Math.abs(Je-Z.startangle),pt=Math.abs(Je-Z.stopangle),mt=dt<pt?dt:pt;qe==="tan"?ye=w(W,$,j,mt,0):ye=M(W,$,j,mt,Math.PI/2),ye.textPosAngle=Je,Te.push(ye)}},Ne;if(we||xe){for(Ne=4;Ne>=-4;Ne-=2)Ae(Math.PI*Ne,"tan");for(Ne=4;Ne>=-4;Ne-=2)Ae(Math.PI*(Ne+1),"tan")}if(we||Fe){for(Ne=4;Ne>=-4;Ne-=2)Ae(Math.PI*(Ne+1.5),"rad");for(Ne=4;Ne>=-4;Ne-=2)Ae(Math.PI*(Ne+.5),"rad")}}if(se||ze||we){var Ue=Math.sqrt(W.width*W.width+W.height*W.height);if(ye={scale:ie*$*2/Ue,rCenter:1-ie,rotate:0},ye.textPosAngle=(Z.startangle+Z.stopangle)/2,ye.scale>=1)return ye;Te.push(ye)}(ze||Fe)&&(ye=M(W,$,j,ne,ue),ye.textPosAngle=(Z.startangle+Z.stopangle)/2,Te.push(ye)),(ze||xe)&&(ye=w(W,$,j,ne,ue),ye.textPosAngle=(Z.startangle+Z.stopangle)/2,Te.push(ye));for(var Re=0,Ve=0,rt=0;rt<Te.length;rt++){var Qe=Te[rt].scale;if(Ve<Qe&&(Ve=Qe,Re=rt),!ze&&Ve>=1)break}return Te[Re]}function m(W,Z){var X=W.startangle,$=W.stopangle;return X>Z&&Z>$||X<Z&&Z<$}function M(W,Z,X,$,ie){Z=Math.max(0,Z-2*f);var J=W.width/W.height,j=y(J,$,Z,X);return{scale:j*2/W.height,rCenter:i(J,j/Z),rotate:C(ie)}}function w(W,Z,X,$,ie){Z=Math.max(0,Z-2*f);var J=W.height/W.width,j=y(J,$,Z,X);return{scale:j*2/W.width,rCenter:i(J,j/Z),rotate:C(ie+Math.PI/2)}}function i(W,Z){return Math.cos(Z)-W*Z}function C(W){return(180/Math.PI*W+720)%180-90}function y(W,Z,X,$){var ie=W+1/(2*Math.tan(Z));return X*Math.min(1/(Math.sqrt(ie*ie+.5)+ie),$/(Math.sqrt(W*W+$/2)+W))}function _(W,Z){return W.v===Z.vTotal&&!Z.trace.hole?1:Math.min(1/(1+1/Math.sin(W.halfangle)),W.ring/2)}function I(W,Z){var X=Z.pxmid[0],$=Z.pxmid[1],ie=W.width/2,J=W.height/2;return X<0&&(ie*=-1),$<0&&(J*=-1),{scale:1,rCenter:1,rotate:0,x:ie+Math.abs(J)*(ie>0?1:-1)/2,y:J/(1+X*X/($*$)),outside:!0}}function N(W){var Z=Math.sqrt(W.titleBox.width*W.titleBox.width+W.titleBox.height*W.titleBox.height);return{x:W.cx,y:W.cy,scale:W.trace.hole*W.r*2/Z,tx:0,ty:-W.titleBox.height/2+W.trace.title.font.size}}function k(W,Z){var X=1,$=1,ie,J=W.trace,j={x:W.cx,y:W.cy},se={tx:0,ty:0};se.ty+=J.title.font.size,ie=F(J),J.title.position.indexOf("top")!==-1?(j.y-=(1+ie)*W.r,se.ty-=W.titleBox.height):J.title.position.indexOf("bottom")!==-1&&(j.y+=(1+ie)*W.r);var ne=O(W.r,W.trace.aspectratio),ue=Z.w*(J.domain.x[1]-J.domain.x[0])/2;return J.title.position.indexOf("left")!==-1?(ue=ue+ne,j.x-=(1+ie)*ne,se.tx+=W.titleBox.width/2):J.title.position.indexOf("center")!==-1?ue*=2:J.title.position.indexOf("right")!==-1&&(ue=ue+ne,j.x+=(1+ie)*ne,se.tx-=W.titleBox.width/2),X=ue/W.titleBox.width,$=z(W,Z)/W.titleBox.height,{x:j.x,y:j.y,scale:Math.min(X,$),tx:se.tx,ty:se.ty}}function O(W,Z){return W/(Z===void 0?1:Z)}function z(W,Z){var X=W.trace,$=Z.h*(X.domain.y[1]-X.domain.y[0]);return Math.min(W.titleBox.height,$/2)}function F(W){var Z=W.pull;if(!Z)return 0;var X;if(Array.isArray(Z))for(Z=0,X=0;X<W.pull.length;X++)W.pull[X]>Z&&(Z=W.pull[X]);return Z}function B(W,Z){var X,$,ie,J,j,se,ne,ue,ge,we,xe,Fe,ze;function Te(Ue,Re){return Ue.pxmid[1]-Re.pxmid[1]}function ye(Ue,Re){return Re.pxmid[1]-Ue.pxmid[1]}function Ae(Ue,Re){Re||(Re={});var Ve=Re.labelExtraY+($?Re.yLabelMax:Re.yLabelMin),rt=$?Ue.yLabelMin:Ue.yLabelMax,Qe=$?Ue.yLabelMax:Ue.yLabelMin,Je=Ue.cyFinal+j(Ue.px0[1],Ue.px1[1]),qe=Ve-rt,dt,pt,mt,Ct,Rt,Zt;if(qe*ne>0&&(Ue.labelExtraY=qe),!!Array.isArray(Z.pull))for(pt=0;pt<we.length;pt++)mt=we[pt],!(mt===Ue||(l.castOption(Z.pull,Ue.pts)||0)>=(l.castOption(Z.pull,mt.pts)||0))&&((Ue.pxmid[1]-mt.pxmid[1])*ne>0?(Ct=mt.cyFinal+j(mt.px0[1],mt.px1[1]),qe=Ct-rt-Ue.labelExtraY,qe*ne>0&&(Ue.labelExtraY+=qe)):(Qe+Ue.labelExtraY-Je)*ne>0&&(dt=3*se*Math.abs(pt-we.indexOf(Ue)),Rt=mt.cxFinal+J(mt.px0[0],mt.px1[0]),Zt=Rt+dt-(Ue.cxFinal+Ue.pxmid[0])-Ue.labelExtraX,Zt*se>0&&(Ue.labelExtraX+=Zt)))}for($=0;$<2;$++)for(ie=$?Te:ye,j=$?Math.max:Math.min,ne=$?1:-1,X=0;X<2;X++){for(J=X?Math.max:Math.min,se=X?1:-1,ue=W[$][X],ue.sort(ie),ge=W[1-$][X],we=ge.concat(ue),Fe=[],xe=0;xe<ue.length;xe++)ue[xe].yLabelMid!==void 0&&Fe.push(ue[xe]);for(ze=!1,xe=0;$&&xe<ge.length;xe++)if(ge[xe].yLabelMid!==void 0){ze=ge[xe];break}for(xe=0;xe<Fe.length;xe++){var Ne=xe&&Fe[xe-1];ze&&!xe&&(Ne=ze),Ae(Fe[xe],Ne)}}}function G(W,Z){for(var X=[],$=0;$<W.length;$++){var ie=W[$][0],J=ie.trace,j=J.domain,se=Z.w*(j.x[1]-j.x[0]),ne=Z.h*(j.y[1]-j.y[0]);J.title.text&&J.title.position!=="middle center"&&(ne-=z(ie,Z));var ue=se/2,ge=ne/2;J.type==="funnelarea"&&!J.scalegroup&&(ge/=J.aspectratio),ie.r=Math.min(ue,ge)/(1+F(J)),ie.cx=Z.l+Z.w*(J.domain.x[1]+J.domain.x[0])/2,ie.cy=Z.t+Z.h*(1-J.domain.y[0])-ne/2,J.title.text&&J.title.position.indexOf("bottom")!==-1&&(ie.cy-=z(ie,Z)),J.scalegroup&&X.indexOf(J.scalegroup)===-1&&X.push(J.scalegroup)}Q(W,X)}function Q(W,Z){for(var X,$,ie,J=0;J<Z.length;J++){var j=1/0,se=Z[J];for($=0;$<W.length;$++)if(X=W[$][0],ie=X.trace,ie.scalegroup===se){var ne;if(ie.type==="pie")ne=X.r*X.r;else if(ie.type==="funnelarea"){var ue,ge;ie.aspectratio>1?(ue=X.r,ge=ue/ie.aspectratio):(ge=X.r,ue=ge*ie.aspectratio),ue*=(1+ie.baseratio)/2,ne=ue*ge}j=Math.min(j,ne/X.vTotal)}for($=0;$<W.length;$++)if(X=W[$][0],ie=X.trace,ie.scalegroup===se){var we=j*X.vTotal;ie.type==="funnelarea"&&(we/=(1+ie.baseratio)/2,we/=ie.aspectratio),X.r=Math.sqrt(we)}}}function ee(W){var Z=W[0],X=Z.r,$=Z.trace,ie=l.getRotationAngle($.rotation),J=2*Math.PI/Z.vTotal,j="px0",se="px1",ne,ue,ge;if($.direction==="counterclockwise"){for(ne=0;ne<W.length&&W[ne].hidden;ne++);if(ne===W.length)return;ie+=J*W[ne].v,J*=-1,j="px1",se="px0"}for(ge=ae(X,ie),ne=0;ne<W.length;ne++)ue=W[ne],!ue.hidden&&(ue[j]=ge,ue.startangle=ie,ie+=J*ue.v/2,ue.pxmid=ae(X,ie),ue.midangle=ie,ie+=J*ue.v/2,ge=ae(X,ie),ue.stopangle=ie,ue[se]=ge,ue.largeArc=ue.v>Z.vTotal/2?1:0,ue.halfangle=Math.PI*Math.min(ue.v/Z.vTotal,.5),ue.ring=1-$.hole,ue.rInscribed=_(ue,Z))}function ae(W,Z){return[W*Math.sin(Z),-W*Math.cos(Z)]}function fe(W,Z,X){var $=W._fullLayout,ie=X.trace,J=ie.texttemplate,j=ie.textinfo;if(!J&&j&&j!=="none"){var se=j.split("+"),ne=function(Re){return se.indexOf(Re)!==-1},ue=ne("label"),ge=ne("text"),we=ne("value"),xe=ne("percent"),Fe=$.separators,ze;if(ze=ue?[Z.label]:[],ge){var Te=l.getFirstFilled(ie.text,Z.pts);c(Te)&&ze.push(Te)}we&&ze.push(l.formatPieValue(Z.v,Fe)),xe&&ze.push(l.formatPiePercent(Z.v/X.vTotal,Fe)),Z.text=ze.join("<br>")}function ye(Re){return{label:Re.label,value:Re.v,valueLabel:l.formatPieValue(Re.v,$.separators),percent:Re.v/X.vTotal,percentLabel:l.formatPiePercent(Re.v/X.vTotal,$.separators),color:Re.color,text:Re.text,customdata:v.castOption(ie,Re.i,"customdata")}}if(J){var Ae=v.castOption(ie,Z.i,"texttemplate");if(!Ae)Z.text="";else{var Ne=ye(Z),Ue=l.getFirstFilled(ie.text,Z.pts);(c(Ue)||Ue==="")&&(Ne.text=Ue),Z.text=v.texttemplateString(Ae,Ne,W._fullLayout._d3locale,Ne,ie._meta||{})}}}function K(W,Z){var X=W.rotate*Math.PI/180,$=Math.cos(X),ie=Math.sin(X),J=(Z.left+Z.right)/2,j=(Z.top+Z.bottom)/2;W.textX=J*$-j*ie,W.textY=J*ie+j*$,W.noCenter=!0}H.exports={plot:b,formatSliceLabel:fe,transformInsideText:E,determineInsideTextFont:S,positionTitleOutside:k,prerenderTitles:A,layoutAreas:G,attachFxHandlers:o,computeTransform:K}},68357:function(H,U,e){var g=e(39898),P=e(63463),a=e(72597).resizeText;H.exports=function(T){var v=T._fullLayout._pielayer.selectAll(".trace");a(T,v,"pie"),v.each(function(d){var t=d[0],r=t.trace,u=g.select(this);u.style({opacity:r.opacity}),u.selectAll("path.surface").each(function(n){g.select(this).call(P,n,r,T)})})}},63463:function(H,U,e){var g=e(7901),P=e(53581).castOption,a=e(22209);H.exports=function(T,v,d,t){var r=d.marker.line,u=P(r.color,v.pts)||g.defaultLine,n=P(r.width,v.pts)||0;T.call(a,v,d,t).style("stroke-width",n).call(g.stroke,u)}},10959:function(H,U,e){var g=e(82196);H.exports={x:g.x,y:g.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:g.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},42743:function(H,U,e){var g=e(9330).gl_pointcloud2d,P=e(78614),a=e(71739).findExtremes,L=e(34603);function T(t,r){this.scene=t,this.uid=r,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=g(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var v=T.prototype;v.handlePick=function(t){var r=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[r*2],this.pickXYData[r*2+1]]:[this.pickXData[r],this.pickYData[r]],textLabel:Array.isArray(this.textLabels)?this.textLabels[r]:this.textLabels,color:this.color,name:this.name,pointIndex:r,hoverinfo:this.hoverinfo}},v.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=L(t,{})},v.updateFast=function(t){var r=this.xData=this.pickXData=t.x,u=this.yData=this.pickYData=t.y,n=this.pickXYData=t.xy,s=t.xbounds&&t.ybounds,f=t.indices,l,x,c,b=this.bounds,h,o,p;if(n){if(c=n,l=n.length>>>1,s)b[0]=t.xbounds[0],b[2]=t.xbounds[1],b[1]=t.ybounds[0],b[3]=t.ybounds[1];else for(p=0;p<l;p++)h=c[p*2],o=c[p*2+1],h<b[0]&&(b[0]=h),h>b[2]&&(b[2]=h),o<b[1]&&(b[1]=o),o>b[3]&&(b[3]=o);if(f)x=f;else for(x=new Int32Array(l),p=0;p<l;p++)x[p]=p}else for(l=r.length,c=new Float32Array(2*l),x=new Int32Array(l),p=0;p<l;p++)h=r[p],o=u[p],x[p]=p,c[p*2]=h,c[p*2+1]=o,h<b[0]&&(b[0]=h),h>b[2]&&(b[2]=h),o<b[1]&&(b[1]=o),o>b[3]&&(b[3]=o);this.idToIndex=x,this.pointcloudOptions.idToIndex=x,this.pointcloudOptions.positions=c;var S=P(t.marker.color),A=P(t.marker.border.color),E=t.opacity*t.marker.opacity;S[3]*=E,this.pointcloudOptions.color=S;var m=t.marker.blend;if(m===null){var M=100;m=r.length<M||u.length<M}this.pointcloudOptions.blend=m,A[3]*=E,this.pointcloudOptions.borderColor=A;var w=t.marker.sizemin,i=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=w,this.pointcloudOptions.sizeMax=i,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var C=this.scene.xaxis,y=this.scene.yaxis,_=i/2||.5;t._extremes[C._id]=a(C,[b[0],b[2]],{ppad:_}),t._extremes[y._id]=a(y,[b[1],b[3]],{ppad:_})},v.dispose=function(){this.pointcloud.dispose()};function d(t,r){var u=new T(t,r.uid);return u.update(r),u}H.exports=d},33876:function(H,U,e){var g=e(71828),P=e(10959);H.exports=function(L,T,v){function d(t,r){return g.coerce(L,T,P,t,r)}d("x"),d("y"),d("xbounds"),d("ybounds"),L.xy&&L.xy instanceof Float32Array&&(T.xy=L.xy),L.indices&&L.indices instanceof Int32Array&&(T.indices=L.indices),d("text"),d("marker.color",v),d("marker.opacity"),d("marker.blend"),d("marker.sizemin"),d("marker.sizemax"),d("marker.border.color",v),d("marker.border.arearatio"),T._length=null}},20593:function(H,U,e){H.exports={attributes:e(10959),supplyDefaults:e(33876),calc:e(36563),plot:e(42743),moduleType:"trace",name:"pointcloud",basePlotModule:e(4796),categories:["gl","gl2d","showLegend"],meta:{}}},39953:function(H,U,e){var g=e(41940),P=e(9012),a=e(22399),L=e(77914),T=e(27670).Y,v=e(5386).fF,d=e(50693),t=e(44467).templatedArray,r=e(12663).descriptionOnlyNumbers,u=e(1426).extendFlat,n=e(30962).overrideAll,s=H.exports=n({hoverinfo:u({},P.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:L.hoverlabel,domain:T({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:r("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:g({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:L.hoverlabel,hovertemplate:v({},{keys:["value","label"]})},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:L.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),colorscales:t("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:u(d().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");s.transforms=void 0},75536:function(H,U,e){var g=e(30962).overrideAll,P=e(27659).a0,a=e(60436),L=e(528),T=e(6964),v=e(28569),d=e(47322).prepSelect,t=e(71828),r=e(73972),u="sankey";U.name=u,U.baseLayoutAttrOverrides=g({hoverlabel:L.hoverlabel},"plot","nested"),U.plot=function(s){var f=P(s.calcdata,u)[0];a(s,f),U.updateFx(s)},U.clean=function(s,f,l,x){var c=x._has&&x._has(u),b=f._has&&f._has(u);c&&!b&&(x._paperdiv.selectAll(".sankey").remove(),x._paperdiv.selectAll(".bgsankey").remove())},U.updateFx=function(s){for(var f=0;f<s._fullData.length;f++)n(s,f)};function n(s,f){var l=s._fullData[f],x=s._fullLayout,c=x.dragmode,b=x.dragmode==="pan"?"move":"crosshair",h=l._bgRect;if(h&&!(c==="pan"||c==="zoom")){T(h,b);var o={_id:"x",c2p:t.identity,_offset:l._sankey.translateX,_length:l._sankey.width},p={_id:"y",c2p:t.identity,_offset:l._sankey.translateY,_length:l._sankey.height},S={gd:s,element:h.node(),plotinfo:{id:f,xaxis:o,yaxis:p,fillRangeItems:t.noop},subplot:f,xaxes:[o],yaxes:[p],doneFnCompleted:function(A){var E=s._fullData[f],m,M=E.node.groups.slice(),w=[];function i(I){for(var N=E._sankey.graph.nodes,k=0;k<N.length;k++)if(N[k].pointNumber===I)return N[k]}for(var C=0;C<A.length;C++){var y=i(A[C].pointNumber);if(y)if(y.group){for(var _=0;_<y.childrenNodes.length;_++)w.push(y.childrenNodes[_].pointNumber);M[y.pointNumber-E.node._count]=!1}else w.push(y.pointNumber)}m=M.filter(Boolean).concat([w]),r.call("_guiRestyle",s,{"node.groups":[m]},f)}};S.prepFn=function(A,E,m){d(A,E,m,S,c)},v.init(S)}}},92930:function(H,U,e){var g=e(68664),P=e(71828),a=e(28984).wrap,L=P.isArrayOrTypedArray,T=P.isIndex,v=e(21081);function d(r){var u=r.node,n=r.link,s=[],f=L(n.color),l=L(n.customdata),x={},c={},b=n.colorscales.length,h;for(h=0;h<b;h++){var o=n.colorscales[h],p=v.extractScale(o,{cLetter:"c"}),S=v.makeColorScaleFunc(p);c[o.label]=S}var A=0;for(h=0;h<n.value.length;h++)n.source[h]>A&&(A=n.source[h]),n.target[h]>A&&(A=n.target[h]);var E=A+1;r.node._count=E;var m,M=r.node.groups,w={};for(h=0;h<M.length;h++){var i=M[h];for(m=0;m<i.length;m++){var C=i[m],y=E+h;w.hasOwnProperty(C)?P.warn("Node "+C+" is already part of a group."):w[C]=y}}var _={source:[],target:[]};for(h=0;h<n.value.length;h++){var I=n.value[h],N=n.source[h],k=n.target[h];if(I>0&&T(N,E)&&T(k,E)&&!(w.hasOwnProperty(N)&&w.hasOwnProperty(k)&&w[N]===w[k])){w.hasOwnProperty(k)&&(k=w[k]),w.hasOwnProperty(N)&&(N=w[N]),N=+N,k=+k,x[N]=x[k]=!0;var O="";n.label&&n.label[h]&&(O=n.label[h]);var z=null;O&&c.hasOwnProperty(O)&&(z=c[O]),s.push({pointNumber:h,label:O,color:f?n.color[h]:n.color,customdata:l?n.customdata[h]:n.customdata,concentrationscale:z,source:N,target:k,value:+I}),_.source.push(N),_.target.push(k)}}var F=E+M.length,B=L(u.color),G=L(u.customdata),Q=[];for(h=0;h<F;h++)if(x[h]){var ee=u.label[h];Q.push({group:h>E-1,childrenNodes:[],pointNumber:h,label:ee,color:B?u.color[h]:u.color,customdata:G?u.customdata[h]:u.customdata})}var ae=!1;return t(F,_.source,_.target)&&(ae=!0),{circular:ae,links:s,nodes:Q,groups:M,groupLookup:w}}function t(r,u,n){for(var s=P.init2dArray(r,0),f=0;f<Math.min(u.length,n.length);f++)if(P.isIndex(u[f],r)&&P.isIndex(n[f],r)){if(u[f]===n[f])return!0;s[u[f]].push(n[f])}var l=g(s);return l.components.some(function(x){return x.length>1})}H.exports=function(u,n){var s=d(n);return a({circular:s.circular,_nodes:s.nodes,_links:s.links,_groups:s.groups,_groupLookup:s.groupLookup})}},85247:function(H){H.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},26857:function(H,U,e){var g=e(71828),P=e(39953),a=e(7901),L=e(84267),T=e(27670).c,v=e(38048),d=e(44467),t=e(85501);H.exports=function(n,s,f,l){function x(i,C){return g.coerce(n,s,P,i,C)}var c=g.extendDeep(l.hoverlabel,n.hoverlabel),b=n.node,h=d.newContainer(s,"node");function o(i,C){return g.coerce(b,h,P.node,i,C)}o("label"),o("groups"),o("x"),o("y"),o("pad"),o("thickness"),o("line.color"),o("line.width"),o("hoverinfo",n.hoverinfo),v(b,h,o,c),o("hovertemplate");var p=l.colorway,S=function(i){return p[i%p.length]};o("color",h.label.map(function(i,C){return a.addOpacity(S(C),.8)})),o("customdata");var A=n.link||{},E=d.newContainer(s,"link");function m(i,C){return g.coerce(A,E,P.link,i,C)}m("label"),m("arrowlen"),m("source"),m("target"),m("value"),m("line.color"),m("line.width"),m("hoverinfo",n.hoverinfo),v(A,E,m,c),m("hovertemplate");var M=L(l.paper_bgcolor).getLuminance()<.333?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)";m("color",g.repeat(M,E.value.length)),m("customdata"),t(A,E,{name:"colorscales",handleItemDefaults:r}),T(s,l,x),x("orientation"),x("valueformat"),x("valuesuffix");var w;h.x.length&&h.y.length&&(w="freeform"),x("arrangement",w),g.coerceFont(x,"textfont",g.extendFlat({},l.font)),s._length=null};function r(u,n){function s(f,l){return g.coerce(u,n,P.link.colorscales,f,l)}s("label"),s("cmin"),s("cmax"),s("colorscale")}},29396:function(H,U,e){H.exports={attributes:e(39953),supplyDefaults:e(26857),calc:e(92930),plot:e(60436),moduleType:"trace",name:"sankey",basePlotModule:e(75536),selectPoints:e(84564),categories:["noOpacity"],meta:{}}},60436:function(H,U,e){var g=e(39898),P=e(71828),a=P.numberFormat,L=e(3393),T=e(30211),v=e(7901),d=e(85247).cn,t=P._;function r(p){return p!==""}function u(p,S){return p.filter(function(A){return A.key===S.traceId})}function n(p,S){g.select(p).select("path").style("fill-opacity",S),g.select(p).select("rect").style("fill-opacity",S)}function s(p){g.select(p).select("text.name").style("fill","black")}function f(p){return function(S){return p.node.sourceLinks.indexOf(S.link)!==-1||p.node.targetLinks.indexOf(S.link)!==-1}}function l(p){return function(S){return S.node.sourceLinks.indexOf(p.link)!==-1||S.node.targetLinks.indexOf(p.link)!==-1}}function x(p,S,A){S&&A&&u(A,S).selectAll("."+d.sankeyLink).filter(f(S)).call(b.bind(0,S,A,!1))}function c(p,S,A){S&&A&&u(A,S).selectAll("."+d.sankeyLink).filter(f(S)).call(h.bind(0,S,A,!1))}function b(p,S,A,E){var m=E.datum().link.label;E.style("fill-opacity",function(M){if(!M.link.concentrationscale)return .4}),m&&u(S,p).selectAll("."+d.sankeyLink).filter(function(M){return M.link.label===m}).style("fill-opacity",function(M){if(!M.link.concentrationscale)return .4}),A&&u(S,p).selectAll("."+d.sankeyNode).filter(l(p)).call(x)}function h(p,S,A,E){var m=E.datum().link.label;E.style("fill-opacity",function(M){return M.tinyColorAlpha}),m&&u(S,p).selectAll("."+d.sankeyLink).filter(function(M){return M.link.label===m}).style("fill-opacity",function(M){return M.tinyColorAlpha}),A&&u(S,p).selectAll(d.sankeyNode).filter(l(p)).call(c)}function o(p,S){var A=p.hoverlabel||{},E=P.nestedProperty(A,S).get();return Array.isArray(E)?!1:E}H.exports=function(S,A){for(var E=S._fullLayout,m=E._paper,M=E._size,w=0;w<S._fullData.length;w++)if(S._fullData[w].visible&&S._fullData[w].type===d.sankey&&!S._fullData[w]._viewInitial){var i=S._fullData[w].node;S._fullData[w]._viewInitial={node:{groups:i.groups.slice(),x:i.x.slice(),y:i.y.slice()}}}var C=function(ae,fe){var K=fe.link;K.originalEvent=g.event,S._hoverdata=[K],T.click(S,{target:!0})},y=function(ae,fe,K){S._fullLayout.hovermode!==!1&&(g.select(ae).call(b.bind(0,fe,K,!0)),fe.link.trace.link.hoverinfo!=="skip"&&(fe.link.fullData=fe.link.trace,S.emit("plotly_hover",{event:g.event,points:[fe.link]})))},_=t(S,"source:")+" ",I=t(S,"target:")+" ",N=t(S,"concentration:")+" ",k=t(S,"incoming flow count:")+" ",O=t(S,"outgoing flow count:")+" ",z=function(ae,fe){if(S._fullLayout.hovermode===!1)return;var K=fe.link.trace.link;if(K.hoverinfo==="none"||K.hoverinfo==="skip")return;var W=[];function Z(ne){var ue,ge;ne.circular?(ue=(ne.circularPathData.leftInnerExtent+ne.circularPathData.rightInnerExtent)/2,ge=ne.circularPathData.verticalFullExtent):(ue=(ne.source.x1+ne.target.x0)/2,ge=(ne.y0+ne.y1)/2);var we=[ue,ge];return ne.trace.orientation==="v"&&we.reverse(),we[0]+=fe.parent.translateX,we[1]+=fe.parent.translateY,we}for(var X=0,$=0;$<fe.flow.links.length;$++){var ie=fe.flow.links[$];if(!(S._fullLayout.hovermode==="closest"&&fe.link.pointNumber!==ie.pointNumber)){fe.link.pointNumber===ie.pointNumber&&(X=$),ie.fullData=ie.trace,K=fe.link.trace.link;var J=Z(ie),j={valueLabel:a(fe.valueFormat)(ie.value)+fe.valueSuffix};W.push({x:J[0],y:J[1],name:j.valueLabel,text:[ie.label||"",_+ie.source.label,I+ie.target.label,ie.concentrationscale?N+a("%0.2f")(ie.flow.labelConcentration):""].filter(r).join("<br>"),color:o(K,"bgcolor")||v.addOpacity(ie.color,1),borderColor:o(K,"bordercolor"),fontFamily:o(K,"font.family"),fontSize:o(K,"font.size"),fontColor:o(K,"font.color"),nameLength:o(K,"namelength"),textAlign:o(K,"align"),idealAlign:g.event.x<J[0]?"right":"left",hovertemplate:K.hovertemplate,hovertemplateLabels:j,eventData:[ie]})}}var se=T.loneHover(W,{container:E._hoverlayer.node(),outerContainer:E._paper.node(),gd:S,anchorIndex:X});se.each(function(){var ne=this;fe.link.concentrationscale||n(ne,.65),s(ne)})},F=function(ae,fe,K){S._fullLayout.hovermode!==!1&&(g.select(ae).call(h.bind(0,fe,K,!0)),fe.link.trace.link.hoverinfo!=="skip"&&(fe.link.fullData=fe.link.trace,S.emit("plotly_unhover",{event:g.event,points:[fe.link]})),T.loneUnhover(E._hoverlayer.node()))},B=function(ae,fe,K){var W=fe.node;W.originalEvent=g.event,S._hoverdata=[W],g.select(ae).call(c,fe,K),T.click(S,{target:!0})},G=function(ae,fe,K){S._fullLayout.hovermode!==!1&&(g.select(ae).call(x,fe,K),fe.node.trace.node.hoverinfo!=="skip"&&(fe.node.fullData=fe.node.trace,S.emit("plotly_hover",{event:g.event,points:[fe.node]})))},Q=function(ae,fe){if(S._fullLayout.hovermode!==!1){var K=fe.node.trace.node;if(!(K.hoverinfo==="none"||K.hoverinfo==="skip")){var W=g.select(ae).select("."+d.nodeRect),Z=S._fullLayout._paperdiv.node().getBoundingClientRect(),X=W.node().getBoundingClientRect(),$=X.left-2-Z.left,ie=X.right+2-Z.left,J=X.top+X.height/4-Z.top,j={valueLabel:a(fe.valueFormat)(fe.node.value)+fe.valueSuffix};fe.node.fullData=fe.node.trace,S._fullLayout._calcInverseTransform(S);var se=S._fullLayout._invScaleX,ne=S._fullLayout._invScaleY,ue=T.loneHover({x0:se*$,x1:se*ie,y:ne*J,name:a(fe.valueFormat)(fe.node.value)+fe.valueSuffix,text:[fe.node.label,k+fe.node.targetLinks.length,O+fe.node.sourceLinks.length].filter(r).join("<br>"),color:o(K,"bgcolor")||fe.tinyColorHue,borderColor:o(K,"bordercolor"),fontFamily:o(K,"font.family"),fontSize:o(K,"font.size"),fontColor:o(K,"font.color"),nameLength:o(K,"namelength"),textAlign:o(K,"align"),idealAlign:"left",hovertemplate:K.hovertemplate,hovertemplateLabels:j,eventData:[fe.node]},{container:E._hoverlayer.node(),outerContainer:E._paper.node(),gd:S});n(ue,.85),s(ue)}}},ee=function(ae,fe,K){S._fullLayout.hovermode!==!1&&(g.select(ae).call(c,fe,K),fe.node.trace.node.hoverinfo!=="skip"&&(fe.node.fullData=fe.node.trace,S.emit("plotly_unhover",{event:g.event,points:[fe.node]})),T.loneUnhover(E._hoverlayer.node()))};L(S,m,A,{width:M.w,height:M.h,margin:{t:M.t,r:M.r,b:M.b,l:M.l}},{linkEvents:{hover:y,follow:z,unhover:F,select:C},nodeEvents:{hover:G,follow:Q,unhover:ee,select:B}})}},3393:function(H,U,e){var g=e(49887),P=e(81684).k4,a=e(39898),L=e(30838),T=e(86781),v=e(85247),d=e(84267),t=e(7901),r=e(91424),u=e(71828),n=u.strTranslate,s=u.strRotate,f=e(28984),l=f.keyFun,x=f.repeat,c=f.unwrap,b=e(63893),h=e(73972),o=e(18783),p=o.CAP_SHIFT,S=o.LINE_SPACING,A=3;function E(Z,X,$){var ie=c(X),J=ie.trace,j=J.domain,se=J.orientation==="h",ne=J.node.pad,ue=J.node.thickness,ge=Z.width*(j.x[1]-j.x[0]),we=Z.height*(j.y[1]-j.y[0]),xe=ie._nodes,Fe=ie._links,ze=ie.circular,Te;ze?Te=T.sankeyCircular().circularLinkGap(0):Te=L.sankey(),Te.iterations(v.sankeyIterations).size(se?[ge,we]:[we,ge]).nodeWidth(ue).nodePadding(ne).nodeId(function(Rt){return Rt.pointNumber}).nodes(xe).links(Fe);var ye=Te();Te.nodePadding()<ne&&u.warn("node.pad was reduced to ",Te.nodePadding()," to fit within the figure.");var Ae,Ne,Ue;for(var Re in ie._groupLookup){var Ve=parseInt(ie._groupLookup[Re]),rt;for(Ae=0;Ae<ye.nodes.length;Ae++)if(ye.nodes[Ae].pointNumber===Ve){rt=ye.nodes[Ae];break}if(rt){var Qe={pointNumber:parseInt(Re),x0:rt.x0,x1:rt.x1,y0:rt.y0,y1:rt.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};ye.nodes.unshift(Qe),rt.childrenNodes.unshift(Qe)}}function Je(){for(Ae=0;Ae<ye.nodes.length;Ae++){var Rt=ye.nodes[Ae],Zt={},Xe,Le;for(Ne=0;Ne<Rt.targetLinks.length;Ne++)Le=Rt.targetLinks[Ne],Xe=Le.source.pointNumber+":"+Le.target.pointNumber,Zt.hasOwnProperty(Xe)||(Zt[Xe]=[]),Zt[Xe].push(Le);var Pe=Object.keys(Zt);for(Ne=0;Ne<Pe.length;Ne++){Xe=Pe[Ne];var ke=Zt[Xe],Ce=0,me={};for(Ue=0;Ue<ke.length;Ue++)Le=ke[Ue],me[Le.label]||(me[Le.label]=0),me[Le.label]+=Le.value,Ce+=Le.value;for(Ue=0;Ue<ke.length;Ue++)Le=ke[Ue],Le.flow={value:Ce,labelConcentration:me[Le.label]/Ce,concentration:Le.value/Ce,links:ke},Le.concentrationscale&&(Le.color=d(Le.concentrationscale(Le.flow.labelConcentration)))}var oe=0;for(Ne=0;Ne<Rt.sourceLinks.length;Ne++)oe+=Rt.sourceLinks[Ne].value;for(Ne=0;Ne<Rt.sourceLinks.length;Ne++)Le=Rt.sourceLinks[Ne],Le.concentrationOut=Le.value/oe;var pe=0;for(Ne=0;Ne<Rt.targetLinks.length;Ne++)pe+=Rt.targetLinks[Ne].value;for(Ne=0;Ne<Rt.targetLinks.length;Ne++)Le=Rt.targetLinks[Ne],Le.concenrationIn=Le.value/pe}}Je();function qe(Rt){Rt.forEach(function(Zt){var Xe,Le,Pe=0,ke=Zt.length,Ce;for(Zt.sort(function(me,oe){return me.y0-oe.y0}),Ce=0;Ce<ke;++Ce)Xe=Zt[Ce],Xe.y0>=Pe||(Le=Pe-Xe.y0,Le>1e-6&&(Xe.y0+=Le,Xe.y1+=Le)),Pe=Xe.y1+ne})}function dt(Rt){var Zt=Rt.map(function(oe,pe){return{x0:oe.x0,index:pe}}).sort(function(oe,pe){return oe.x0-pe.x0}),Xe=[],Le=-1,Pe,ke=-1/0,Ce;for(Ae=0;Ae<Zt.length;Ae++){var me=Rt[Zt[Ae].index];me.x0>ke+ue&&(Le+=1,Pe=me.x0),ke=me.x0,Xe[Le]||(Xe[Le]=[]),Xe[Le].push(me),Ce=Pe-me.x0,me.x0+=Ce,me.x1+=Ce}return Xe}if(J.node.x.length&&J.node.y.length){for(Ae=0;Ae<Math.min(J.node.x.length,J.node.y.length,ye.nodes.length);Ae++)if(J.node.x[Ae]&&J.node.y[Ae]){var pt=[J.node.x[Ae]*ge,J.node.y[Ae]*we];ye.nodes[Ae].x0=pt[0]-ue/2,ye.nodes[Ae].x1=pt[0]+ue/2;var mt=ye.nodes[Ae].y1-ye.nodes[Ae].y0;ye.nodes[Ae].y0=pt[1]-mt/2,ye.nodes[Ae].y1=pt[1]+mt/2}if(J.arrangement==="snap"){xe=ye.nodes;var Ct=dt(xe);qe(Ct)}Te.update(ye)}return{circular:ze,key:$,trace:J,guid:u.randstr(),horizontal:se,width:ge,height:we,nodePad:J.node.pad,nodeLineColor:J.node.line.color,nodeLineWidth:J.node.line.width,linkLineColor:J.link.line.color,linkLineWidth:J.link.line.width,linkArrowLength:J.link.arrowlen,valueFormat:J.valueformat,valueSuffix:J.valuesuffix,textFont:J.textfont,translateX:j.x[0]*Z.width+Z.margin.l,translateY:Z.height-j.y[1]*Z.height+Z.margin.t,dragParallel:se?we:ge,dragPerpendicular:se?ge:we,arrangement:J.arrangement,sankey:Te,graph:ye,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function m(Z,X,$){var ie=d(X.color),J=X.source.label+"|"+X.target.label,j=J+"__"+$;return X.trace=Z.trace,X.curveNumber=Z.trace.index,{circular:Z.circular,key:j,traceId:Z.key,pointNumber:X.pointNumber,link:X,tinyColorHue:t.tinyRGB(ie),tinyColorAlpha:ie.getAlpha(),linkPath:w,linkLineColor:Z.linkLineColor,linkLineWidth:Z.linkLineWidth,linkArrowLength:Z.linkArrowLength,valueFormat:Z.valueFormat,valueSuffix:Z.valueSuffix,sankey:Z.sankey,parent:Z,interactionState:Z.interactionState,flow:X.flow}}function M(Z,X){var $="",ie=Z.width/2,J=Z.circularPathData;return Z.circularLinkType==="top"?$="M "+(J.targetX-X)+" "+(J.targetY+ie)+" L"+(J.rightInnerExtent-X)+" "+(J.targetY+ie)+"A"+(J.rightLargeArcRadius+ie)+" "+(J.rightSmallArcRadius+ie)+" 0 0 1 "+(J.rightFullExtent-ie-X)+" "+(J.targetY-J.rightSmallArcRadius)+"L"+(J.rightFullExtent-ie-X)+" "+J.verticalRightInnerExtent+"A"+(J.rightLargeArcRadius+ie)+" "+(J.rightLargeArcRadius+ie)+" 0 0 1 "+(J.rightInnerExtent-X)+" "+(J.verticalFullExtent-ie)+"L"+J.leftInnerExtent+" "+(J.verticalFullExtent-ie)+"A"+(J.leftLargeArcRadius+ie)+" "+(J.leftLargeArcRadius+ie)+" 0 0 1 "+(J.leftFullExtent+ie)+" "+J.verticalLeftInnerExtent+"L"+(J.leftFullExtent+ie)+" "+(J.sourceY-J.leftSmallArcRadius)+"A"+(J.leftLargeArcRadius+ie)+" "+(J.leftSmallArcRadius+ie)+" 0 0 1 "+J.leftInnerExtent+" "+(J.sourceY+ie)+"L"+J.sourceX+" "+(J.sourceY+ie)+"L"+J.sourceX+" "+(J.sourceY-ie)+"L"+J.leftInnerExtent+" "+(J.sourceY-ie)+"A"+(J.leftLargeArcRadius-ie)+" "+(J.leftSmallArcRadius-ie)+" 0 0 0 "+(J.leftFullExtent-ie)+" "+(J.sourceY-J.leftSmallArcRadius)+"L"+(J.leftFullExtent-ie)+" "+J.verticalLeftInnerExtent+"A"+(J.leftLargeArcRadius-ie)+" "+(J.leftLargeArcRadius-ie)+" 0 0 0 "+J.leftInnerExtent+" "+(J.verticalFullExtent+ie)+"L"+(J.rightInnerExtent-X)+" "+(J.verticalFullExtent+ie)+"A"+(J.rightLargeArcRadius-ie)+" "+(J.rightLargeArcRadius-ie)+" 0 0 0 "+(J.rightFullExtent+ie-X)+" "+J.verticalRightInnerExtent+"L"+(J.rightFullExtent+ie-X)+" "+(J.targetY-J.rightSmallArcRadius)+"A"+(J.rightLargeArcRadius-ie)+" "+(J.rightSmallArcRadius-ie)+" 0 0 0 "+(J.rightInnerExtent-X)+" "+(J.targetY-ie)+"L"+(J.targetX-X)+" "+(J.targetY-ie)+(X>0?"L"+J.targetX+" "+J.targetY:"")+"Z":$="M "+(J.targetX-X)+" "+(J.targetY-ie)+" L"+(J.rightInnerExtent-X)+" "+(J.targetY-ie)+"A"+(J.rightLargeArcRadius+ie)+" "+(J.rightSmallArcRadius+ie)+" 0 0 0 "+(J.rightFullExtent-ie-X)+" "+(J.targetY+J.rightSmallArcRadius)+"L"+(J.rightFullExtent-ie-X)+" "+J.verticalRightInnerExtent+"A"+(J.rightLargeArcRadius+ie)+" "+(J.rightLargeArcRadius+ie)+" 0 0 0 "+(J.rightInnerExtent-X)+" "+(J.verticalFullExtent+ie)+"L"+J.leftInnerExtent+" "+(J.verticalFullExtent+ie)+"A"+(J.leftLargeArcRadius+ie)+" "+(J.leftLargeArcRadius+ie)+" 0 0 0 "+(J.leftFullExtent+ie)+" "+J.verticalLeftInnerExtent+"L"+(J.leftFullExtent+ie)+" "+(J.sourceY+J.leftSmallArcRadius)+"A"+(J.leftLargeArcRadius+ie)+" "+(J.leftSmallArcRadius+ie)+" 0 0 0 "+J.leftInnerExtent+" "+(J.sourceY-ie)+"L"+J.sourceX+" "+(J.sourceY-ie)+"L"+J.sourceX+" "+(J.sourceY+ie)+"L"+J.leftInnerExtent+" "+(J.sourceY+ie)+"A"+(J.leftLargeArcRadius-ie)+" "+(J.leftSmallArcRadius-ie)+" 0 0 1 "+(J.leftFullExtent-ie)+" "+(J.sourceY+J.leftSmallArcRadius)+"L"+(J.leftFullExtent-ie)+" "+J.verticalLeftInnerExtent+"A"+(J.leftLargeArcRadius-ie)+" "+(J.leftLargeArcRadius-ie)+" 0 0 1 "+J.leftInnerExtent+" "+(J.verticalFullExtent-ie)+"L"+(J.rightInnerExtent-X)+" "+(J.verticalFullExtent-ie)+"A"+(J.rightLargeArcRadius-ie)+" "+(J.rightLargeArcRadius-ie)+" 0 0 1 "+(J.rightFullExtent+ie-X)+" "+J.verticalRightInnerExtent+"L"+(J.rightFullExtent+ie-X)+" "+(J.targetY+J.rightSmallArcRadius)+"A"+(J.rightLargeArcRadius-ie)+" "+(J.rightSmallArcRadius-ie)+" 0 0 1 "+(J.rightInnerExtent-X)+" "+(J.targetY+ie)+"L"+(J.targetX-X)+" "+(J.targetY+ie)+(X>0?"L"+J.targetX+" "+J.targetY:"")+"Z",$}function w(){var Z=.5;function X($){var ie=$.linkArrowLength;if($.link.circular)return M($.link,ie);var J=Math.abs(($.link.target.x0-$.link.source.x1)/2);ie>J&&(ie=J);var j=$.link.source.x1,se=$.link.target.x0-ie,ne=P(j,se),ue=ne(Z),ge=ne(1-Z),we=$.link.y0-$.link.width/2,xe=$.link.y0+$.link.width/2,Fe=$.link.y1-$.link.width/2,ze=$.link.y1+$.link.width/2,Te="M"+j+","+we,ye="C"+ue+","+we+" "+ge+","+Fe+" "+se+","+Fe,Ae="C"+ge+","+ze+" "+ue+","+xe+" "+j+","+xe,Ne=ie>0?"L"+(se+ie)+","+(Fe+$.link.width/2):"";return Ne+="L"+se+","+ze,Te+ye+Ne+Ae+"Z"}return X}function i(Z,X){var $=d(X.color),ie=v.nodePadAcross,J=Z.nodePad/2;X.dx=X.x1-X.x0,X.dy=X.y1-X.y0;var j=X.dx,se=Math.max(.5,X.dy),ne="node_"+X.pointNumber;return X.group&&(ne=u.randstr()),X.trace=Z.trace,X.curveNumber=Z.trace.index,{index:X.pointNumber,key:ne,partOfGroup:X.partOfGroup||!1,group:X.group,traceId:Z.key,trace:Z.trace,node:X,nodePad:Z.nodePad,nodeLineColor:Z.nodeLineColor,nodeLineWidth:Z.nodeLineWidth,textFont:Z.textFont,size:Z.horizontal?Z.height:Z.width,visibleWidth:Math.ceil(j),visibleHeight:se,zoneX:-ie,zoneY:-J,zoneWidth:j+2*ie,zoneHeight:se+2*J,labelY:Z.horizontal?X.dy/2+1:X.dx/2+1,left:X.originalLayer===1,sizeAcross:Z.width,forceLayouts:Z.forceLayouts,horizontal:Z.horizontal,darkBackground:$.getBrightness()<=128,tinyColorHue:t.tinyRGB($),tinyColorAlpha:$.getAlpha(),valueFormat:Z.valueFormat,valueSuffix:Z.valueSuffix,sankey:Z.sankey,graph:Z.graph,arrangement:Z.arrangement,uniqueNodeLabelPathId:[Z.guid,Z.key,ne].join("_"),interactionState:Z.interactionState,figure:Z}}function C(Z){Z.attr("transform",function(X){return n(X.node.x0.toFixed(3),X.node.y0.toFixed(3))})}function y(Z){Z.call(C)}function _(Z,X){Z.call(y),X.attr("d",w())}function I(Z){Z.attr("width",function(X){return X.node.x1-X.node.x0}).attr("height",function(X){return X.visibleHeight})}function N(Z){return Z.link.width>1||Z.linkLineWidth>0}function k(Z){var X=n(Z.translateX,Z.translateY);return X+(Z.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function O(Z,X,$){Z.on(".basic",null).on("mouseover.basic",function(ie){!ie.interactionState.dragInProgress&&!ie.partOfGroup&&($.hover(this,ie,X),ie.interactionState.hovered=[this,ie])}).on("mousemove.basic",function(ie){!ie.interactionState.dragInProgress&&!ie.partOfGroup&&($.follow(this,ie),ie.interactionState.hovered=[this,ie])}).on("mouseout.basic",function(ie){!ie.interactionState.dragInProgress&&!ie.partOfGroup&&($.unhover(this,ie,X),ie.interactionState.hovered=!1)}).on("click.basic",function(ie){ie.interactionState.hovered&&($.unhover(this,ie,X),ie.interactionState.hovered=!1),!ie.interactionState.dragInProgress&&!ie.partOfGroup&&$.select(this,ie,X)})}function z(Z,X,$,ie){var J=a.behavior.drag().origin(function(j){return{x:j.node.x0+j.visibleWidth/2,y:j.node.y0+j.visibleHeight/2}}).on("dragstart",function(j){if(j.arrangement!=="fixed"&&(u.ensureSingle(ie._fullLayout._infolayer,"g","dragcover",function(ne){ie._fullLayout._dragCover=ne}),u.raiseToTop(this),j.interactionState.dragInProgress=j.node,ae(j.node),j.interactionState.hovered&&($.nodeEvents.unhover.apply(0,j.interactionState.hovered),j.interactionState.hovered=!1),j.arrangement==="snap")){var se=j.traceId+"|"+j.key;j.forceLayouts[se]?j.forceLayouts[se].alpha(1):F(Z,se,j),B(Z,X,j,se,ie)}}).on("drag",function(j){if(j.arrangement!=="fixed"){var se=a.event.x,ne=a.event.y;j.arrangement==="snap"?(j.node.x0=se-j.visibleWidth/2,j.node.x1=se+j.visibleWidth/2,j.node.y0=ne-j.visibleHeight/2,j.node.y1=ne+j.visibleHeight/2):(j.arrangement==="freeform"&&(j.node.x0=se-j.visibleWidth/2,j.node.x1=se+j.visibleWidth/2),ne=Math.max(0,Math.min(j.size-j.visibleHeight/2,ne)),j.node.y0=ne-j.visibleHeight/2,j.node.y1=ne+j.visibleHeight/2),ae(j.node),j.arrangement!=="snap"&&(j.sankey.update(j.graph),_(Z.filter(fe(j)),X))}}).on("dragend",function(j){if(j.arrangement!=="fixed"){j.interactionState.dragInProgress=!1;for(var se=0;se<j.node.childrenNodes.length;se++)j.node.childrenNodes[se].x=j.node.x,j.node.childrenNodes[se].y=j.node.y;j.arrangement!=="snap"&&Q(j,ie)}});Z.on(".drag",null).call(J)}function F(Z,X,$,ie){K($.graph.nodes);var J=$.graph.nodes.filter(function(j){return j.originalX===$.node.originalX}).filter(function(j){return!j.partOfGroup});$.forceLayouts[X]=g.forceSimulation(J).alphaDecay(0).force("collide",g.forceCollide().radius(function(j){return j.dy/2+$.nodePad/2}).strength(1).iterations(v.forceIterations)).force("constrain",G(Z,X,J,$)).stop()}function B(Z,X,$,ie,J){window.requestAnimationFrame(function j(){var se;for(se=0;se<v.forceTicksPerFrame;se++)$.forceLayouts[ie].tick();var ne=$.graph.nodes;if(W(ne),$.sankey.update($.graph),_(Z.filter(fe($)),X),$.forceLayouts[ie].alpha()>0)window.requestAnimationFrame(j);else{var ue=$.node.originalX;$.node.x0=ue-$.visibleWidth/2,$.node.x1=ue+$.visibleWidth/2,Q($,J)}})}function G(Z,X,$,ie){return function(){for(var j=0,se=0;se<$.length;se++){var ne=$[se];ne===ie.interactionState.dragInProgress?(ne.x=ne.lastDraggedX,ne.y=ne.lastDraggedY):(ne.vx=(ne.originalX-ne.x)/v.forceTicksPerFrame,ne.y=Math.min(ie.size-ne.dy/2,Math.max(ne.dy/2,ne.y))),j=Math.max(j,Math.abs(ne.vx),Math.abs(ne.vy))}!ie.interactionState.dragInProgress&&j<.1&&ie.forceLayouts[X].alpha()>0&&ie.forceLayouts[X].alpha(0)}}function Q(Z,X){for(var $=[],ie=[],J=0;J<Z.graph.nodes.length;J++){var j=(Z.graph.nodes[J].x0+Z.graph.nodes[J].x1)/2,se=(Z.graph.nodes[J].y0+Z.graph.nodes[J].y1)/2;$.push(j/Z.figure.width),ie.push(se/Z.figure.height)}h.call("_guiRestyle",X,{"node.x":[$],"node.y":[ie]},Z.trace.index).then(function(){X._fullLayout._dragCover&&X._fullLayout._dragCover.remove()})}function ee(Z){var X=[],$;for($=0;$<Z.length;$++)Z[$].originalX=(Z[$].x0+Z[$].x1)/2,Z[$].originalY=(Z[$].y0+Z[$].y1)/2,X.indexOf(Z[$].originalX)===-1&&X.push(Z[$].originalX);for(X.sort(function(ie,J){return ie-J}),$=0;$<Z.length;$++)Z[$].originalLayerIndex=X.indexOf(Z[$].originalX),Z[$].originalLayer=Z[$].originalLayerIndex/(X.length-1)}function ae(Z){Z.lastDraggedX=Z.x0+Z.dx/2,Z.lastDraggedY=Z.y0+Z.dy/2}function fe(Z){return function(X){return X.node.originalX===Z.node.originalX}}function K(Z){for(var X=0;X<Z.length;X++)Z[X].y=(Z[X].y0+Z[X].y1)/2,Z[X].x=(Z[X].x0+Z[X].x1)/2}function W(Z){for(var X=0;X<Z.length;X++)Z[X].y0=Z[X].y-Z[X].dy/2,Z[X].y1=Z[X].y0+Z[X].dy,Z[X].x0=Z[X].x-Z[X].dx/2,Z[X].x1=Z[X].x0+Z[X].dx}H.exports=function(Z,X,$,ie,J){var j=Z._context.staticPlot,se=!1;u.ensureSingle(Z._fullLayout._infolayer,"g","first-render",function(){se=!0});var ne=Z._fullLayout._dragCover,ue=$.filter(function(Ae){return c(Ae).trace.visible}).map(E.bind(null,ie)),ge=X.selectAll("."+v.cn.sankey).data(ue,l);ge.exit().remove(),ge.enter().append("g").classed(v.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",j?"none":"auto").attr("transform",k),ge.each(function(Ae,Ne){Z._fullData[Ne]._sankey=Ae;var Ue="bgsankey-"+Ae.trace.uid+"-"+Ne;u.ensureSingle(Z._fullLayout._draggers,"rect",Ue),Z._fullData[Ne]._bgRect=a.select("."+Ue),Z._fullData[Ne]._bgRect.style("pointer-events",j?"none":"all").attr("width",Ae.width).attr("height",Ae.height).attr("x",Ae.translateX).attr("y",Ae.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),ge.transition().ease(v.ease).duration(v.duration).attr("transform",k);var we=ge.selectAll("."+v.cn.sankeyLinks).data(x,l);we.enter().append("g").classed(v.cn.sankeyLinks,!0).style("fill","none");var xe=we.selectAll("."+v.cn.sankeyLink).data(function(Ae){var Ne=Ae.graph.links;return Ne.filter(function(Ue){return Ue.value}).map(m.bind(null,Ae))},l);xe.enter().append("path").classed(v.cn.sankeyLink,!0).call(O,ge,J.linkEvents),xe.style("stroke",function(Ae){return N(Ae)?t.tinyRGB(d(Ae.linkLineColor)):Ae.tinyColorHue}).style("stroke-opacity",function(Ae){return N(Ae)?t.opacity(Ae.linkLineColor):Ae.tinyColorAlpha}).style("fill",function(Ae){return Ae.tinyColorHue}).style("fill-opacity",function(Ae){return Ae.tinyColorAlpha}).style("stroke-width",function(Ae){return N(Ae)?Ae.linkLineWidth:1}).attr("d",w()),xe.style("opacity",function(){return Z._context.staticPlot||se||ne?1:0}).transition().ease(v.ease).duration(v.duration).style("opacity",1),xe.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Fe=ge.selectAll("."+v.cn.sankeyNodeSet).data(x,l);Fe.enter().append("g").classed(v.cn.sankeyNodeSet,!0),Fe.style("cursor",function(Ae){switch(Ae.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var ze=Fe.selectAll("."+v.cn.sankeyNode).data(function(Ae){var Ne=Ae.graph.nodes;return ee(Ne),Ne.map(i.bind(null,Ae))},l);ze.enter().append("g").classed(v.cn.sankeyNode,!0).call(C).style("opacity",function(Ae){return(Z._context.staticPlot||se)&&!Ae.partOfGroup?1:0}),ze.call(O,ge,J.nodeEvents).call(z,xe,J,Z),ze.transition().ease(v.ease).duration(v.duration).call(C).style("opacity",function(Ae){return Ae.partOfGroup?0:1}),ze.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Te=ze.selectAll("."+v.cn.nodeRect).data(x);Te.enter().append("rect").classed(v.cn.nodeRect,!0).call(I),Te.style("stroke-width",function(Ae){return Ae.nodeLineWidth}).style("stroke",function(Ae){return t.tinyRGB(d(Ae.nodeLineColor))}).style("stroke-opacity",function(Ae){return t.opacity(Ae.nodeLineColor)}).style("fill",function(Ae){return Ae.tinyColorHue}).style("fill-opacity",function(Ae){return Ae.tinyColorAlpha}),Te.transition().ease(v.ease).duration(v.duration).call(I);var ye=ze.selectAll("."+v.cn.nodeLabel).data(x);ye.enter().append("text").classed(v.cn.nodeLabel,!0).style("cursor","default"),ye.attr("data-notex",1).text(function(Ae){return Ae.node.label}).each(function(Ae){var Ne=a.select(this);r.font(Ne,Ae.textFont),b.convertToTspans(Ne,Z)}).style("text-shadow",b.makeTextShadow(Z._fullLayout.paper_bgcolor)).attr("text-anchor",function(Ae){return Ae.horizontal&&Ae.left?"end":"start"}).attr("transform",function(Ae){var Ne=a.select(this),Ue=b.lineCount(Ne),Re=Ae.textFont.size*((Ue-1)*S-p),Ve=Ae.nodeLineWidth/2+A,rt=((Ae.horizontal?Ae.visibleHeight:Ae.visibleWidth)-Re)/2;Ae.horizontal&&(Ae.left?Ve=-Ve:Ve+=Ae.visibleWidth);var Qe=Ae.horizontal?"":"scale(-1,1)"+s(90);return n(Ae.horizontal?Ve:rt,Ae.horizontal?rt:Ve)+Qe}),ye.transition().ease(v.ease).duration(v.duration)}},84564:function(H){H.exports=function(e,g){for(var P=e.cd,a=[],L=P[0].trace,T=L._sankey.graph.nodes,v=0;v<T.length;v++){var d=T[v];if(!d.partOfGroup){var t=[(d.x0+d.x1)/2,(d.y0+d.y1)/2];L.orientation==="v"&&t.reverse(),g&&g.contains(t,!1,v,e)&&a.push({pointNumber:d.pointNumber})}}return a}},75225:function(H,U,e){var g=e(71828);H.exports=function(a,L){for(var T=0;T<a.length;T++)a[T].i=T;g.mergeArray(L.text,a,"tx"),g.mergeArray(L.texttemplate,a,"txt"),g.mergeArray(L.hovertext,a,"htx"),g.mergeArray(L.customdata,a,"data"),g.mergeArray(L.textposition,a,"tp"),L.textfont&&(g.mergeArrayCastPositive(L.textfont.size,a,"ts"),g.mergeArray(L.textfont.color,a,"tc"),g.mergeArray(L.textfont.family,a,"tf"));var v=L.marker;if(v){g.mergeArrayCastPositive(v.size,a,"ms"),g.mergeArrayCastPositive(v.opacity,a,"mo"),g.mergeArray(v.symbol,a,"mx"),g.mergeArray(v.angle,a,"ma"),g.mergeArray(v.standoff,a,"mf"),g.mergeArray(v.color,a,"mc");var d=v.line;v.line&&(g.mergeArray(d.color,a,"mlc"),g.mergeArrayCastPositive(d.width,a,"mlw"));var t=v.gradient;t&&t.type!=="none"&&(g.mergeArray(t.type,a,"mgt"),g.mergeArray(t.color,a,"mgc"))}}},82196:function(H,U,e){var g=e(12663).axisHoverFormat,P=e(5386).si,a=e(5386).fF,L=e(50693),T=e(41940),v=e(79952).P,d=e(79952).u,t=e(91424),r=e(47581),u=e(1426).extendFlat;function n(l){return{valType:"any",dflt:0,editType:"calc"}}function s(l){return{valType:"any",editType:"calc"}}function f(l){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}H.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:n(),yperiod:n(),xperiod0:s(),yperiod0:s(),xperiodalignment:f(),yperiodalignment:f(),xhoverformat:g("x"),yhoverformat:g("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:P({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:a({},{keys:r.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:u({},v,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:d,marker:u({symbol:{valType:"enumerated",values:t.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:u({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},L("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},L("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:T({editType:"calc",colorEditType:"style",arrayOk:!0})}},47761:function(H,U,e){var g=e(92770),P=e(71828),a=e(89298),L=e(42973),T=e(50606).BADNUM,v=e(34098),d=e(36922),t=e(75225),r=e(66279);function u(c,b){var h=c._fullLayout,o=b._xA=a.getFromId(c,b.xaxis||"x","x"),p=b._yA=a.getFromId(c,b.yaxis||"y","y"),S=o.makeCalcdata(b,"x"),A=p.makeCalcdata(b,"y"),E=L(b,o,"x",S),m=L(b,p,"y",A),M=E.vals,w=m.vals,i=b._length,C=new Array(i),y=b.ids,_=x(b,h,o,p),I=!1,N,k,O,z,F,B;f(h,b);var G="x",Q="y",ee;if(_)P.pushUnique(_.traceIndices,b._expandedIndex),N=_.orientation==="v",N?(Q="s",ee="x"):(G="s",ee="y"),F=_.stackgaps==="interpolate";else{var ae=s(b,i);n(c,b,o,p,M,w,ae)}var fe=!!b.xperiodalignment,K=!!b.yperiodalignment;for(k=0;k<i;k++){var W=C[k]={},Z=g(M[k]),X=g(w[k]);Z&&X?(W[G]=M[k],W[Q]=w[k],fe&&(W.orig_x=S[k],W.xEnd=E.ends[k],W.xStart=E.starts[k]),K&&(W.orig_y=A[k],W.yEnd=m.ends[k],W.yStart=m.starts[k])):_&&(N?Z:X)?(W[ee]=N?M[k]:w[k],W.gap=!0,F?(W.s=T,I=!0):W.s=0):W[G]=W[Q]=T,y&&(W.id=String(y[k]))}if(t(C,b),d(c,b),r(C,b),_){for(k=0;k<C.length;)C[k][ee]===T?C.splice(k,1):k++;if(P.sort(C,function(j,se){return j[ee]-se[ee]||j.i-se.i}),I){for(k=0;k<C.length-1&&C[k].gap;)k++;for(B=C[k].s,B||(B=C[k].s=0),O=0;O<k;O++)C[O].s=B;for(z=C.length-1;z>k&&C[z].gap;)z--;for(B=C[z].s,O=C.length-1;O>z;O--)C[O].s=B;for(;k<z;)if(k++,C[k].gap){for(O=k+1;C[O].gap;)O++;for(var $=C[k-1][ee],ie=C[k-1].s,J=(C[O].s-ie)/(C[O][ee]-$);k<O;)C[k].s=ie+(C[k][ee]-$)*J,k++}}}return C}function n(c,b,h,o,p,S,A){var E=b._length,m=c._fullLayout,M=h._id,w=o._id,i=m._firstScatter[l(b)]===b.uid,C=(x(b,m,h,o)||{}).orientation,y=b.fill;h._minDtick=0,o._minDtick=0;var _={padded:!0},I={padded:!0};A&&(_.ppad=I.ppad=A);var N=E<2||p[0]!==p[E-1]||S[0]!==S[E-1];N&&(y==="tozerox"||y==="tonextx"&&(i||C==="h"))?_.tozero=!0:!(b.error_y||{}).visible&&(y==="tonexty"||y==="tozeroy"||!v.hasMarkers(b)&&!v.hasText(b))&&(_.padded=!1,_.ppad=0),N&&(y==="tozeroy"||y==="tonexty"&&(i||C==="v"))?I.tozero=!0:(y==="tonextx"||y==="tozerox")&&(I.padded=!1),M&&(b._extremes[M]=a.findExtremes(h,p,_)),w&&(b._extremes[w]=a.findExtremes(o,S,I))}function s(c,b){if(v.hasMarkers(c)){var h=c.marker,o=1.6*(c.marker.sizeref||1),p;if(c.marker.sizemode==="area"?p=function(M){return Math.max(Math.sqrt((M||0)/o),3)}:p=function(M){return Math.max((M||0)/o,3)},P.isArrayOrTypedArray(h.size)){var S={type:"linear"};a.setConvert(S);for(var A=S.makeCalcdata(c.marker,"size"),E=new Array(b),m=0;m<b;m++)E[m]=p(A[m]);return E}else return p(h.size)}}function f(c,b){var h=l(b),o=c._firstScatter;o[h]||(o[h]=b.uid)}function l(c){var b=c.stackgroup;return c.xaxis+c.yaxis+c.type+(b?"-"+b:"")}function x(c,b,h,o){var p=c.stackgroup;if(p){var S=b._scatterStackOpts[h._id+o._id][p],A=S.orientation==="v"?o:h;if(A.type==="linear"||A.type==="log")return S}}H.exports={calc:u,calcMarkerSize:s,calcAxisExpansion:n,setFirstScatter:f,getStackOpts:x}},66279:function(H,U,e){var g=e(71828);H.exports=function(a,L){g.isArrayOrTypedArray(L.selectedpoints)&&g.tagSelected(a,L)}},36922:function(H,U,e){var g=e(52075).hasColorscale,P=e(78803),a=e(34098);H.exports=function(T,v){a.hasLines(v)&&g(v,"line")&&P(T,v,{vals:v.line.color,containerStr:"line",cLetter:"c"}),a.hasMarkers(v)&&(g(v,"marker")&&P(T,v,{vals:v.marker.color,containerStr:"marker",cLetter:"c"}),g(v,"marker.line")&&P(T,v,{vals:v.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},47581:function(H){H.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},72626:function(H,U,e){var g=e(47761),P=e(11661).setGroupPositions;function a(v,d){for(var t=d.xaxis,r=d.yaxis,u=v._fullLayout,n=v._fullData,s=v.calcdata,f=[],l=[],x=0;x<n.length;x++){var c=n[x];c.visible===!0&&c.type==="scatter"&&c.xaxis===t._id&&c.yaxis===r._id&&(c.orientation==="h"?f.push(s[x]):c.orientation==="v"&&l.push(s[x]))}var b={mode:u.scattermode,gap:u.scattergap};P(v,t,r,l,b),P(v,r,t,f,b)}H.exports=function(d,t){d._fullLayout.scattermode==="group"&&a(d,t);var r=t.xaxis,u=t.yaxis,n=r._id+u._id,s=d._fullLayout._scatterStackOpts[n];if(s){var f=d.calcdata,l,x,c,b,h,o,p,S,A,E,m,M,w,i,C;for(var y in s){E=s[y];var _=E.traceIndices;if(_.length){for(m=E.stackgaps==="interpolate",M=E.groupnorm,E.orientation==="v"?(w="x",i="y"):(w="y",i="x"),C=new Array(_.length),l=0;l<C.length;l++)C[l]=!1;o=f[_[0]];var I=new Array(o.length);for(l=0;l<o.length;l++)I[l]=o[l][w];for(l=1;l<_.length;l++){for(h=f[_[l]],x=c=0;x<h.length;x++){for(p=h[x][w];p>I[c]&&c<I.length;c++)L(h,x,I[c],l,C,m,w),x++;if(p!==I[c]){for(b=0;b<l;b++)L(f[_[b]],c,p,b,C,m,w);I.splice(c,0,p)}c++}for(;c<I.length;c++)L(h,x,I[c],l,C,m,w),x++}var N=I.length;for(x=0;x<o.length;x++){for(S=o[x][i]=o[x].s,l=1;l<_.length;l++)h=f[_[l]],h[0].trace._rawLength=h[0].trace._length,h[0].trace._length=N,S+=h[x].s,h[x][i]=S;if(M)for(A=(M==="fraction"?S:S/100)||1,l=0;l<_.length;l++){var k=f[_[l]][x];k[i]/=A,k.sNorm=k.s/A}}for(l=0;l<_.length;l++){h=f[_[l]];var O=h[0].trace,z=g.calcMarkerSize(O,O._rawLength),F=Array.isArray(z);if(z&&C[l]||F){var B=z;for(z=new Array(N),x=0;x<N;x++)z[x]=h[x].gap?0:F?B[h[x].i]:B}var G=new Array(N),Q=new Array(N);for(x=0;x<N;x++)G[x]=h[x].x,Q[x]=h[x].y;g.calcAxisExpansion(d,O,r,u,G,Q,z),h[0].t.orientation=E.orientation}}}}};function L(v,d,t,r,u,n,s){u[r]=!0;var f={i:null,gap:!0,s:0};if(f[s]=t,v.splice(d,0,f),d&&t===v[d-1][s]){var l=v[d-1];f.s=l.s,f.i=l.i,f.gap=l.gap}else n&&(f.s=T(v,d,t,s));d||(v[0].t=v[1].t,v[0].trace=v[1].trace,delete v[1].t,delete v[1].trace)}function T(v,d,t,r){var u=v[d-1],n=v[d+1];return n?u?u.s+(n.s-u.s)*(t-u[r])/(n[r]-u[r]):n.s:u.s}},34936:function(H,U,e){var g=e(71828),P=e(26125),a=e(82196);H.exports=function(T,v){var d,t,r;function u(x){return g.coerce(t._input,t,a,x)}if(v.scattermode==="group")for(r=0;r<T.length;r++)t=T[r],t.type==="scatter"&&(d=t._input,P(d,t,v,u));for(r=0;r<T.length;r++){var n=T[r];if(n.type==="scatter"){var s=n.fill;if(!(s==="none"||s==="toself")&&(n.opacity=void 0,s==="tonexty"||s==="tonextx"))for(var f=r-1;f>=0;f--){var l=T[f];if(l.type==="scatter"&&l.xaxis===n.xaxis&&l.yaxis===n.yaxis){l.opacity=void 0;break}}}}}},17438:function(H,U,e){var g=e(71828),P=e(73972),a=e(82196),L=e(47581),T=e(34098),v=e(67513),d=e(73927),t=e(565),r=e(49508),u=e(11058),n=e(94039),s=e(82410),f=e(28908),l=e(71828).coercePattern;H.exports=function(c,b,h,o){function p(C,y){return g.coerce(c,b,a,C,y)}var S=v(c,b,o,p);if(S||(b.visible=!1),!!b.visible){d(c,b,o,p),p("xhoverformat"),p("yhoverformat");var A=t(c,b,o,p);o.scattermode==="group"&&b.orientation===void 0&&p("orientation","v");var E=!A&&S<L.PTS_LINESONLY?"lines+markers":"lines";p("text"),p("hovertext"),p("mode",E),T.hasLines(b)&&(u(c,b,h,o,p,{backoff:!0}),n(c,b,p),p("connectgaps"),p("line.simplify")),T.hasMarkers(b)&&r(c,b,h,o,p,{gradient:!0}),T.hasText(b)&&(p("texttemplate"),s(c,b,o,p));var m=[];(T.hasMarkers(b)||T.hasText(b))&&(p("cliponaxis"),p("marker.maxdisplayed"),m.push("points")),p("fill",A?A.fillDflt:"none"),b.fill!=="none"&&(f(c,b,h,p),T.hasLines(b)||n(c,b,p),l(p,"fillpattern",b.fillcolor,!1));var M=(b.line||{}).color,w=(b.marker||{}).color;(b.fill==="tonext"||b.fill==="toself")&&m.push("fills"),p("hoveron",m.join("+")||"points"),b.hoveron!=="fills"&&p("hovertemplate");var i=P.getComponentMethod("errorbars","supplyDefaults");i(c,b,M||w||h,{axis:"y"}),i(c,b,M||w||h,{axis:"x",inherit:"y"}),g.coerceSelectionMarkerOpacity(b,p)}}},28908:function(H,U,e){var g=e(7901),P=e(71828).isArrayOrTypedArray;H.exports=function(L,T,v,d){var t=!1;if(T.marker){var r=T.marker.color,u=(T.marker.line||{}).color;r&&!P(r)?t=r:u&&!P(u)&&(t=u)}d("fillcolor",g.addOpacity((T.line||{}).color||t||v,.5))}},8225:function(H,U,e){var g=e(89298);H.exports=function(a,L,T){var v={},d={_fullLayout:T},t=g.getFromTrace(d,L,"x"),r=g.getFromTrace(d,L,"y"),u=a.orig_x;u===void 0&&(u=a.x);var n=a.orig_y;return n===void 0&&(n=a.y),v.xLabel=g.tickText(t,t.c2l(u),!0).text,v.yLabel=g.tickText(r,r.c2l(n),!0).text,v}},34603:function(H,U,e){var g=e(7901),P=e(34098);H.exports=function(L,T){var v,d;if(L.mode==="lines")return v=L.line.color,v&&g.opacity(v)?v:L.fillcolor;if(L.mode==="none")return L.fill?L.fillcolor:"";var t=T.mcc||(L.marker||{}).color,r=T.mlcc||((L.marker||{}).line||{}).color;return d=t&&g.opacity(t)?t:r&&g.opacity(r)&&(T.mlw||((L.marker||{}).line||{}).width)?r:"",d?g.opacity(d)<.3?g.addOpacity(d,.3):d:(v=(L.line||{}).color,v&&g.opacity(v)&&P.hasLines(L)&&L.line.width?v:L.fillcolor)}},26125:function(H,U,e){var g=e(99082).getAxisGroup;H.exports=function(a,L,T,v){var d=L.orientation,t=L[{v:"x",h:"y"}[d]+"axis"],r=g(T,t)+d,u=T._alignmentOpts||{},n=v("alignmentgroup"),s=u[r];s||(s=u[r]={});var f=s[n];f?f.traces.push(L):f=s[n]={traces:[L],alignmentIndex:Object.keys(s).length,offsetGroups:{}};var l=v("offsetgroup"),x=f.offsetGroups,c=x[l];l&&(c||(c=x[l]={offsetIndex:Object.keys(x).length}),L._offsetIndex=c.offsetIndex)}},33720:function(H,U,e){var g=e(71828),P=e(30211),a=e(73972),L=e(34603),T=e(7901),v=g.fillText;H.exports=function(t,r,u,n){var s=t.cd,f=s[0].trace,l=t.xa,x=t.ya,c=l.c2p(r),b=x.c2p(u),h=[c,b],o=f.hoveron||"",p=f.mode.indexOf("markers")!==-1?3:.5,S=!!f.xperiodalignment,A=!!f.yperiodalignment;if(o.indexOf("points")!==-1){var E=function(ue){if(S){var ge=l.c2p(ue.xStart),we=l.c2p(ue.xEnd);return c>=Math.min(ge,we)&&c<=Math.max(ge,we)?0:1/0}var xe=Math.max(3,ue.mrc||0),Fe=1-1/xe,ze=Math.abs(l.c2p(ue.x)-c);return ze<xe?Fe*ze/xe:ze-xe+Fe},m=function(ue){if(A){var ge=x.c2p(ue.yStart),we=x.c2p(ue.yEnd);return b>=Math.min(ge,we)&&b<=Math.max(ge,we)?0:1/0}var xe=Math.max(3,ue.mrc||0),Fe=1-1/xe,ze=Math.abs(x.c2p(ue.y)-b);return ze<xe?Fe*ze/xe:ze-xe+Fe},M=function(ue){var ge=Math.max(p,ue.mrc||0),we=l.c2p(ue.x)-c,xe=x.c2p(ue.y)-b;return Math.max(Math.sqrt(we*we+xe*xe)-ge,1-p/ge)},w=P.getDistanceFunction(n,E,m,M);if(P.getClosest(s,w,t),t.index!==!1){var i=s[t.index],C=l.c2p(i.x,!0),y=x.c2p(i.y,!0),_=i.mrc||1;t.index=i.i;var I=s[0].t.orientation,N=I&&(i.sNorm||i.s),k=I==="h"?N:i.orig_x!==void 0?i.orig_x:i.x,O=I==="v"?N:i.orig_y!==void 0?i.orig_y:i.y;return g.extendFlat(t,{color:L(f,i),x0:C-_,x1:C+_,xLabelVal:k,y0:y-_,y1:y+_,yLabelVal:O,spikeDistance:M(i),hovertemplate:f.hovertemplate}),v(i,f,t),a.getComponentMethod("errorbars","hoverInfo")(i,f,t),[t]}}if(o.indexOf("fills")!==-1&&f._polygons){var z=f._polygons,F=[],B=!1,G=1/0,Q=-1/0,ee=1/0,ae=-1/0,fe,K,W,Z,X,$,ie,J,j;for(fe=0;fe<z.length;fe++)W=z[fe],W.contains(h)&&(B=!B,F.push(W),ee=Math.min(ee,W.ymin),ae=Math.max(ae,W.ymax));if(B){ee=Math.max(ee,0),ae=Math.min(ae,x._length);var se=(ee+ae)/2;for(fe=0;fe<F.length;fe++)for(Z=F[fe].pts,K=1;K<Z.length;K++)J=Z[K-1][1],j=Z[K][1],J>se!=j>=se&&($=Z[K-1][0],ie=Z[K][0],j-J&&(X=$+(ie-$)*(se-J)/(j-J),G=Math.min(G,X),Q=Math.max(Q,X)));G=Math.max(G,0),Q=Math.min(Q,l._length);var ne=T.defaultLine;return T.opacity(f.fillcolor)?ne=f.fillcolor:T.opacity((f.line||{}).color)&&(ne=f.line.color),g.extendFlat(t,{distance:t.maxHoverDistance,x0:G,x1:Q,y0:se,y1:se,color:ne,hovertemplate:!1}),delete t.index,f.text&&!Array.isArray(f.text)?t.text=String(f.text):t.text=f.name,[t]}}}},67368:function(H,U,e){var g=e(34098);H.exports={hasLines:g.hasLines,hasMarkers:g.hasMarkers,hasText:g.hasText,isBubble:g.isBubble,attributes:e(82196),layoutAttributes:e(21479),supplyDefaults:e(17438),crossTraceDefaults:e(34936),supplyLayoutDefaults:e(79334),calc:e(47761).calc,crossTraceCalc:e(72626),arraysToCalcdata:e(75225),plot:e(32663),colorbar:e(4898),formatLabels:e(8225),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(33720),selectPoints:e(98002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(93612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},21479:function(H){H.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},79334:function(H,U,e){var g=e(71828),P=e(21479);H.exports=function(a,L){function T(d,t){return g.coerce(a,L,P,d,t)}var v=L.barmode==="group";L.scattermode==="group"&&T("scattergap",v?L.bargap:.2)}},11058:function(H,U,e){var g=e(71828).isArrayOrTypedArray,P=e(52075).hasColorscale,a=e(1586);H.exports=function(T,v,d,t,r,u){u||(u={});var n=(T.marker||{}).color;if(r("line.color",d),P(T,"line"))a(T,v,t,r,{prefix:"line.",cLetter:"c"});else{var s=(g(n)?!1:n)||d;r("line.color",s)}r("line.width"),u.noDash||r("line.dash"),u.backoff&&r("line.backoff")}},34621:function(H,U,e){var g=e(91424),P=e(50606),a=P.BADNUM,L=P.LOG_CLIP,T=L+.5,v=L-.5,d=e(71828),t=d.segmentsIntersect,r=d.constrain,u=e(47581);H.exports=function(s,f){var l=f.trace||{},x=f.xaxis,c=f.yaxis,b=x.type==="log",h=c.type==="log",o=x._length,p=c._length,S=f.backoff,A=l.marker,E=f.connectGaps,m=f.baseTolerance,M=f.shape,w=M==="linear",i=l.fill&&l.fill!=="none",C=[],y=u.minTolerance,_=s.length,I=new Array(_),N=0,k,O,z,F,B,G,Q,ee,ae,fe,K,W,Z,X,$,ie;function J(At){var Ft=s[At];if(!Ft)return!1;var Gt=f.linearized?x.l2p(Ft.x):x.c2p(Ft.x),Yt=f.linearized?c.l2p(Ft.y):c.c2p(Ft.y);if(Gt===a){if(b&&(Gt=x.c2p(Ft.x,!0)),Gt===a)return!1;h&&Yt===a&&(Gt*=Math.abs(x._m*p*(x._m>0?T:v)/(c._m*o*(c._m>0?T:v)))),Gt*=1e3}if(Yt===a){if(h&&(Yt=c.c2p(Ft.y,!0)),Yt===a)return!1;Yt*=1e3}return[Gt,Yt]}function j(At,Ft,Gt,Yt){var Dt=Gt-At,$t=Yt-Ft,lr=.5-At,Hr=.5-Ft,xt=Dt*Dt+$t*$t,Qt=Dt*lr+$t*Hr;if(Qt>0&&Qt<xt){var jt=lr*$t-Hr*Dt;if(jt*jt<xt)return!0}}var se,ne;function ue(At,Ft){var Gt=At[0]/o,Yt=At[1]/p,Dt=Math.max(0,-Gt,Gt-1,-Yt,Yt-1);return Dt&&se!==void 0&&j(Gt,Yt,se,ne)&&(Dt=0),Dt&&Ft&&j(Gt,Yt,Ft[0]/o,Ft[1]/p)&&(Dt=0),(1+u.toleranceGrowth*Dt)*m}function ge(At,Ft){var Gt=At[0]-Ft[0],Yt=At[1]-Ft[1];return Math.sqrt(Gt*Gt+Yt*Yt)}var we=u.maxScreensAway,xe=-o*we,Fe=o*(1+we),ze=-p*we,Te=p*(1+we),ye=[[xe,ze,Fe,ze],[Fe,ze,Fe,Te],[Fe,Te,xe,Te],[xe,Te,xe,ze]],Ae,Ne,Ue,Re,Ve,rt;function Qe(At,Ft){for(var Gt=[],Yt=0,Dt=0;Dt<4;Dt++){var $t=ye[Dt],lr=t(At[0],At[1],Ft[0],Ft[1],$t[0],$t[1],$t[2],$t[3]);lr&&(!Yt||Math.abs(lr.x-Gt[0][0])>1||Math.abs(lr.y-Gt[0][1])>1)&&(lr=[lr.x,lr.y],Yt&&ge(lr,At)<ge(Gt[0],At)?Gt.unshift(lr):Gt.push(lr),Yt++)}return Gt}function Je(At){if(At[0]<xe||At[0]>Fe||At[1]<ze||At[1]>Te)return[r(At[0],xe,Fe),r(At[1],ze,Te)]}function qe(At,Ft){if(At[0]===Ft[0]&&(At[0]===xe||At[0]===Fe)||At[1]===Ft[1]&&(At[1]===ze||At[1]===Te))return!0}function dt(At,Ft){var Gt=[],Yt=Je(At),Dt=Je(Ft);return Yt&&Dt&&qe(Yt,Dt)||(Yt&&Gt.push(Yt),Dt&&Gt.push(Dt)),Gt}function pt(At,Ft,Gt){return function(Yt,Dt){var $t=Je(Yt),lr=Je(Dt),Hr=[];if($t&&lr&&qe($t,lr))return Hr;$t&&Hr.push($t),lr&&Hr.push(lr);var xt=2*d.constrain((Yt[At]+Dt[At])/2,Ft,Gt)-(($t||Yt)[At]+(lr||Dt)[At]);if(xt){var Qt;$t&&lr?Qt=xt>0==$t[At]>lr[At]?$t:lr:Qt=$t||lr,Qt[At]+=xt}return Hr}}var mt;M==="linear"||M==="spline"?mt=Qe:M==="hv"||M==="vh"?mt=dt:M==="hvh"?mt=pt(0,xe,Fe):M==="vhv"&&(mt=pt(1,ze,Te));function Ct(At,Ft){var Gt=Ft[0]-At[0],Yt=(Ft[1]-At[1])/Gt,Dt=(At[1]*Ft[0]-Ft[1]*At[0])/Gt;return Dt>0?[Yt>0?xe:Fe,Te]:[Yt>0?Fe:xe,ze]}function Rt(At){var Ft=At[0],Gt=At[1],Yt=Ft===I[N-1][0],Dt=Gt===I[N-1][1];if(!(Yt&&Dt))if(N>1){var $t=Ft===I[N-2][0],lr=Gt===I[N-2][1];Yt&&(Ft===xe||Ft===Fe)&&$t?lr?N--:I[N-1]=At:Dt&&(Gt===ze||Gt===Te)&&lr?$t?N--:I[N-1]=At:I[N++]=At}else I[N++]=At}function Zt(At){I[N-1][0]!==At[0]&&I[N-1][1]!==At[1]&&Rt([Ue,Re]),Rt(At),Ve=null,Ue=Re=0}var Xe=d.isArrayOrTypedArray(A);function Le(At){if(At&&S&&(At.i=k,At.d=s,At.trace=l,At.marker=Xe?A[At.i]:A,At.backoff=S),se=At[0]/o,ne=At[1]/p,Ae=At[0]<xe?xe:At[0]>Fe?Fe:0,Ne=At[1]<ze?ze:At[1]>Te?Te:0,Ae||Ne){if(!N)I[N++]=[Ae||At[0],Ne||At[1]];else if(Ve){var Ft=mt(Ve,At);Ft.length>1&&(Zt(Ft[0]),I[N++]=Ft[1])}else rt=mt(I[N-1],At)[0],I[N++]=rt;var Gt=I[N-1];Ae&&Ne&&(Gt[0]!==Ae||Gt[1]!==Ne)?(Ve&&(Ue!==Ae&&Re!==Ne?Rt(Ue&&Re?Ct(Ve,At):[Ue||Ae,Re||Ne]):Ue&&Re&&Rt([Ue,Re])),Rt([Ae,Ne])):Ue-Ae&&Re-Ne&&Rt([Ae||Ue,Ne||Re]),Ve=At,Ue=Ae,Re=Ne}else Ve&&Zt(mt(Ve,At)[0]),I[N++]=At}for(k=0;k<_;k++)if(O=J(k),!!O){for(N=0,Ve=null,Le(O),k++;k<_;k++){if(F=J(k),!F){if(E)continue;break}if(!w||!f.simplify){Le(F);continue}var Pe=J(k+1);if(fe=ge(F,O),!(!(i&&(N===0||N===_-1))&&fe<ue(F,Pe)*y)){for(ee=[(F[0]-O[0])/fe,(F[1]-O[1])/fe],B=O,K=fe,W=X=$=0,Q=!1,z=F,k++;k<s.length;k++){if(G=Pe,Pe=J(k+1),!G){if(E)continue;break}if(ae=[G[0]-O[0],G[1]-O[1]],ie=ae[0]*ee[1]-ae[1]*ee[0],X=Math.min(X,ie),$=Math.max($,ie),$-X>ue(G,Pe))break;z=G,Z=ae[0]*ee[0]+ae[1]*ee[1],Z>K?(K=Z,F=G,Q=!1):Z<W&&(W=Z,B=G,Q=!0)}if(Q?(Le(F),z!==B&&Le(B)):(B!==O&&Le(B),z!==F&&Le(F)),Le(z),k>=s.length||!G)break;Le(G),O=G}}Ve&&Rt([Ue||Ve[0],Re||Ve[1]]),C.push(I.slice(0,N))}var ke=M.slice(M.length-1);if(S&&ke!=="h"&&ke!=="v"){for(var Ce=!1,me=-1,oe=[],pe=0;pe<C.length;pe++)for(var Me=0;Me<C[pe].length-1;Me++){var _e=C[pe][Me],tt=C[pe][Me+1],at=g.applyBackoff(tt,_e);(at[0]!==tt[0]||at[1]!==tt[1])&&(Ce=!0),oe[me+1]||(me++,oe[me]=[_e,[at[0],at[1]]])}return Ce?oe:C}return C}},94039:function(H){H.exports=function(e,g,P){var a=P("line.shape");a==="spline"&&P("line.smoothing")}},68687:function(H){var U={tonextx:1,tonexty:1,tonext:1};H.exports=function(g,P,a){var L,T,v,d,t,r={},u=!1,n=-1,s=0,f=-1;for(T=0;T<a.length;T++)L=a[T][0].trace,v=L.stackgroup||"",v?v in r?t=r[v]:(t=r[v]=s,s++):L.fill in U&&f>=0?t=f:(t=f=s,s++),t<n&&(u=!0),L._groupIndex=n=t;var l=a.slice();u&&l.sort(function(c,b){var h=c[0].trace,o=b[0].trace;return h._groupIndex-o._groupIndex||h.index-o.index});var x={};for(T=0;T<l.length;T++)L=l[T][0].trace,v=L.stackgroup||"",L.visible===!0?(L._nexttrace=null,L.fill in U&&(d=x[v],L._prevtrace=d||null,d&&(d._nexttrace=L)),L._ownfill=L.fill&&(L.fill.substr(0,6)==="tozero"||L.fill==="toself"||L.fill.substr(0,2)==="to"&&!L._prevtrace),x[v]=L):L._prevtrace=L._nexttrace=L._ownfill=null;return l}},39984:function(H,U,e){var g=e(92770);H.exports=function(a,L){L||(L=2);var T=a.marker,v=T.sizeref||1,d=T.sizemin||0,t=T.sizemode==="area"?function(r){return Math.sqrt(r/v)}:function(r){return r/v};return function(r){var u=t(r/L);return g(u)&&u>0?Math.max(u,d):0}}},4898:function(H){H.exports={container:"marker",min:"cmin",max:"cmax"}},49508:function(H,U,e){var g=e(7901),P=e(52075).hasColorscale,a=e(1586),L=e(34098);H.exports=function(v,d,t,r,u,n){var s=L.isBubble(v),f=(v.line||{}).color,l;if(n=n||{},f&&(t=f),u("marker.symbol"),u("marker.opacity",s?.7:1),u("marker.size"),n.noAngle||(u("marker.angle"),n.noAngleRef||u("marker.angleref"),n.noStandOff||u("marker.standoff")),u("marker.color",t),P(v,"marker")&&a(v,d,r,u,{prefix:"marker.",cLetter:"c"}),n.noSelect||(u("selected.marker.color"),u("unselected.marker.color"),u("selected.marker.size"),u("unselected.marker.size")),n.noLine||(f&&!Array.isArray(f)&&d.marker.color!==f?l=f:s?l=g.background:l=g.defaultLine,u("marker.line.color",l),P(v,"marker.line")&&a(v,d,r,u,{prefix:"marker.line.",cLetter:"c"}),u("marker.line.width",s?1:0)),s&&(u("marker.sizeref"),u("marker.sizemin"),u("marker.sizemode")),n.gradient){var x=u("marker.gradient.type");x!=="none"&&u("marker.gradient.color")}}},73927:function(H,U,e){var g=e(71828).dateTick0,P=e(50606),a=P.ONEWEEK;function L(T,v){return T%a===0?g(v,1):g(v,0)}H.exports=function(v,d,t,r,u){if(u||(u={x:!0,y:!0}),u.x){var n=r("xperiod");n&&(r("xperiod0",L(n,d.xcalendar)),r("xperiodalignment"))}if(u.y){var s=r("yperiod");s&&(r("yperiod0",L(s,d.ycalendar)),r("yperiodalignment"))}}},32663:function(H,U,e){var g=e(39898),P=e(73972),a=e(71828),L=a.ensureSingle,T=a.identity,v=e(91424),d=e(34098),t=e(34621),r=e(68687),u=e(61082).tester;H.exports=function(x,c,b,h,o,p){var S,A,E=!o,m=!!o&&o.duration>0,M=r(x,c,b);if(S=h.selectAll("g.trace").data(M,function(i){return i[0].trace.uid}),S.enter().append("g").attr("class",function(i){return"trace scatter trace"+i[0].trace.uid}).style("stroke-miterlimit",2),S.order(),n(x,S,c),m){p&&(A=p());var w=g.transition().duration(o.duration).ease(o.easing).each("end",function(){A&&A()}).each("interrupt",function(){A&&A()});w.each(function(){h.selectAll("g.trace").each(function(i,C){s(x,C,c,i,M,this,o)})})}else S.each(function(i,C){s(x,C,c,i,M,this,o)});E&&S.exit().remove(),h.selectAll("path:not([d])").remove()};function n(l,x,c){x.each(function(b){var h=L(g.select(this),"g","fills");v.setClipUrl(h,c.layerClipId,l);var o=b[0].trace,p=[];o._ownfill&&p.push("_ownFill"),o._nexttrace&&p.push("_nextFill");var S=h.selectAll("g").data(p,T);S.enter().append("g"),S.exit().each(function(A){o[A]=null}).remove(),S.order().each(function(A){o[A]=L(g.select(this),"path","js-fill")})})}function s(l,x,c,b,h,o,p){var S=l._context.staticPlot,A;f(l,x,c,b,h);var E=!!p&&p.duration>0;function m(Re){return E?Re.transition():Re}var M=c.xaxis,w=c.yaxis,i=b[0].trace,C=i.line,y=g.select(o),_=L(y,"g","errorbars"),I=L(y,"g","lines"),N=L(y,"g","points"),k=L(y,"g","text");if(P.getComponentMethod("errorbars","plot")(l,_,c,p),i.visible!==!0)return;m(y).style("opacity",i.opacity);var O,z,F=i.fill.charAt(i.fill.length-1);F!=="x"&&F!=="y"&&(F=""),b[0][c.isRangePlot?"nodeRangePlot3":"node3"]=y;var B="",G=[],Q=i._prevtrace;Q&&(B=Q._prevRevpath||"",z=Q._nextFill,G=Q._polygons);var ee,ae,fe="",K="",W,Z,X,$,ie,J,j,se=[],ne=a.noop;if(O=i._ownFill,d.hasLines(i)||i.fill!=="none"){for(z&&z.datum(b),["hv","vh","hvh","vhv"].indexOf(C.shape)!==-1?(W=v.steps(C.shape),Z=v.steps(C.shape.split("").reverse().join(""))):C.shape==="spline"?W=Z=function(Re){var Ve=Re[Re.length-1];return Re.length>1&&Re[0][0]===Ve[0]&&Re[0][1]===Ve[1]?v.smoothclosed(Re.slice(1),C.smoothing):v.smoothopen(Re,C.smoothing)}:W=Z=function(Re){return"M"+Re.join("L")},X=function(Re){return Z(Re.reverse())},se=t(b,{xaxis:M,yaxis:w,trace:i,connectGaps:i.connectgaps,baseTolerance:Math.max(C.width||1,3)/4,shape:C.shape,backoff:C.backoff,simplify:C.simplify,fill:i.fill}),j=i._polygons=new Array(se.length),A=0;A<se.length;A++)i._polygons[A]=u(se[A]);se.length&&($=se[0][0],ie=se[se.length-1],J=ie[ie.length-1]),ne=function(Re){return function(Ve){if(ee=W(Ve),ae=X(Ve),fe?F?(fe+="L"+ee.substr(1),K=ae+("L"+K.substr(1))):(fe+="Z"+ee,K=ae+"Z"+K):(fe=ee,K=ae),d.hasLines(i)){var rt=g.select(this);if(rt.datum(b),Re)m(rt.style("opacity",0).attr("d",ee).call(v.lineGroupStyle)).style("opacity",1);else{var Qe=m(rt);Qe.attr("d",ee),v.singleLineStyle(b,Qe)}}}}}var ue=I.selectAll(".js-line").data(se);m(ue.exit()).style("opacity",0).remove(),ue.each(ne(!1)),ue.enter().append("path").classed("js-line",!0).style("vector-effect",S?"none":"non-scaling-stroke").call(v.lineGroupStyle).each(ne(!0)),v.setClipUrl(ue,c.layerClipId,l);function ge(Re){m(Re).attr("d","M0,0Z")}se.length?(O?(O.datum(b),$&&J&&(F?(F==="y"?$[1]=J[1]=w.c2p(0,!0):F==="x"&&($[0]=J[0]=M.c2p(0,!0)),m(O).attr("d","M"+J+"L"+$+"L"+fe.substr(1)).call(v.singleFillStyle,l)):m(O).attr("d",fe+"Z").call(v.singleFillStyle,l))):z&&(i.fill.substr(0,6)==="tonext"&&fe&&B?(i.fill==="tonext"?m(z).attr("d",fe+"Z"+B+"Z").call(v.singleFillStyle,l):m(z).attr("d",fe+"L"+B.substr(1)+"Z").call(v.singleFillStyle,l),i._polygons=i._polygons.concat(G)):(ge(z),i._polygons=null)),i._prevRevpath=K,i._prevPolygons=j):(O?ge(O):z&&ge(z),i._polygons=i._prevRevpath=i._prevPolygons=null);function we(Re){return Re.filter(function(Ve){return!Ve.gap&&Ve.vis})}function xe(Re){return Re.filter(function(Ve){return Ve.vis})}function Fe(Re){return Re.filter(function(Ve){return!Ve.gap})}function ze(Re){return Re.id}function Te(Re){if(Re.ids)return ze}function ye(){return!1}function Ae(Re,Ve,rt){var Qe,Je,qe,dt=rt[0].trace,pt=d.hasMarkers(dt),mt=d.hasText(dt),Ct=Te(dt),Rt=ye,Zt=ye;if(pt||mt){var Xe=T,Le=dt.stackgroup,Pe=Le&&l._fullLayout._scatterStackOpts[M._id+w._id][Le].stackgaps==="infer zero";dt.marker.maxdisplayed||dt._needsCull?Xe=Pe?xe:we:Le&&!Pe&&(Xe=Fe),pt&&(Rt=Xe),mt&&(Zt=Xe)}Je=Re.selectAll("path.point"),Qe=Je.data(Rt,Ct);var ke=Qe.enter().append("path").classed("point",!0);E&&ke.call(v.pointStyle,dt,l).call(v.translatePoints,M,w).style("opacity",0).transition().style("opacity",1),Qe.order();var Ce;pt&&(Ce=v.makePointStyleFns(dt)),Qe.each(function(me){var oe=g.select(this),pe=m(oe);qe=v.translatePoint(me,pe,M,w),qe?(v.singlePointStyle(me,pe,dt,Ce,l),c.layerClipId&&v.hideOutsideRangePoint(me,pe,M,w,dt.xcalendar,dt.ycalendar),dt.customdata&&oe.classed("plotly-customdata",me.data!==null&&me.data!==void 0)):pe.remove()}),E?Qe.exit().transition().style("opacity",0).remove():Qe.exit().remove(),Je=Ve.selectAll("g"),Qe=Je.data(Zt,Ct),Qe.enter().append("g").classed("textpoint",!0).append("text"),Qe.order(),Qe.each(function(me){var oe=g.select(this),pe=m(oe.select("text"));qe=v.translatePoint(me,pe,M,w),qe?c.layerClipId&&v.hideOutsideRangePoint(me,oe,M,w,dt.xcalendar,dt.ycalendar):oe.remove()}),Qe.selectAll("text").call(v.textPointStyle,dt,l).each(function(me){var oe=M.c2p(me.x),pe=w.c2p(me.y);g.select(this).selectAll("tspan.line").each(function(){m(g.select(this)).attr({x:oe,y:pe})})}),Qe.exit().remove()}N.datum(b),k.datum(b),Ae(N,k,b);var Ne=i.cliponaxis===!1,Ue=Ne?null:c.layerClipId;v.setClipUrl(N,Ue,l),v.setClipUrl(k,Ue,l)}function f(l,x,c,b,h){var o=c.xaxis,p=c.yaxis,S=g.extent(a.simpleMap(o.range,o.r2c)),A=g.extent(a.simpleMap(p.range,p.r2c)),E=b[0].trace;if(d.hasMarkers(E)){var m=E.marker.maxdisplayed;if(m!==0){var M=b.filter(function(y){return y.x>=S[0]&&y.x<=S[1]&&y.y>=A[0]&&y.y<=A[1]}),w=Math.ceil(M.length/m),i=0;h.forEach(function(y,_){var I=y[0].trace;d.hasMarkers(I)&&I.marker.maxdisplayed>0&&_<x&&i++});var C=Math.round(i*w/3+Math.floor(i/3)*w/7.1);b.forEach(function(y){delete y.vis}),M.forEach(function(y,_){Math.round((_+C)%w)===0&&(y.vis=!0)})}}}},98002:function(H,U,e){var g=e(34098);H.exports=function(a,L){var T=a.cd,v=a.xaxis,d=a.yaxis,t=[],r=T[0].trace,u,n,s,f,l=!g.hasMarkers(r)&&!g.hasText(r);if(l)return[];if(L===!1)for(u=0;u<T.length;u++)T[u].selected=0;else for(u=0;u<T.length;u++)n=T[u],s=v.c2p(n.x),f=d.c2p(n.y),n.i!==null&&L.contains([s,f],!1,u,a)?(t.push({pointNumber:n.i,x:v.c2d(n.x),y:d.c2d(n.y)}),n.selected=1):n.selected=0;return t}},565:function(H){var U=["orientation","groupnorm","stackgaps"];H.exports=function(g,P,a,L){var T=a._scatterStackOpts,v=L("stackgroup");if(v){var d=P.xaxis+P.yaxis,t=T[d];t||(t=T[d]={});var r=t[v],u=!1;r?r.traces.push(P):(r=t[v]={traceIndices:[],traces:[P]},u=!0);for(var n={orientation:P.x&&!P.y?"h":"v"},s=0;s<U.length;s++){var f=U[s],l=f+"Found";if(!r[l]){var x=g[f]!==void 0,c=f==="orientation";if((x||u)&&(r[f]=L(f,n[f]),c&&(r.fillDflt=r[f]==="h"?"tonextx":"tonexty"),x&&(r[l]=!0,!u&&(delete r.traces[0][f],c))))for(var b=0;b<r.traces.length-1;b++){var h=r.traces[b];h._input.fill!==h.fill&&(h.fill=r.fillDflt)}}}return r}}},16296:function(H,U,e){var g=e(39898),P=e(91424),a=e(73972);function L(t){var r=g.select(t).selectAll("g.trace.scatter");r.style("opacity",function(u){return u[0].trace.opacity}),r.selectAll("g.points").each(function(u){var n=g.select(this),s=u.trace||u[0].trace;T(n,s,t)}),r.selectAll("g.text").each(function(u){var n=g.select(this),s=u.trace||u[0].trace;v(n,s,t)}),r.selectAll("g.trace path.js-line").call(P.lineGroupStyle),r.selectAll("g.trace path.js-fill").call(P.fillGroupStyle,t),a.getComponentMethod("errorbars","style")(r)}function T(t,r,u){P.pointStyle(t.selectAll("path.point"),r,u)}function v(t,r,u){P.textPointStyle(t.selectAll("text"),r,u)}function d(t,r,u){var n=r[0].trace;n.selectedpoints?(P.selectedPointStyle(u.selectAll("path.point"),n),P.selectedTextStyle(u.selectAll("text"),n)):(T(u,n,t),v(u,n,t))}H.exports={style:L,stylePoints:T,styleText:v,styleOnSelect:d}},34098:function(H,U,e){var g=e(71828);H.exports={hasLines:function(P){return P.visible&&P.mode&&P.mode.indexOf("lines")!==-1},hasMarkers:function(P){return P.visible&&(P.mode&&P.mode.indexOf("markers")!==-1||P.type==="splom")},hasText:function(P){return P.visible&&P.mode&&P.mode.indexOf("text")!==-1},isBubble:function(P){return g.isPlainObject(P.marker)&&g.isArrayOrTypedArray(P.marker.size)}}},82410:function(H,U,e){var g=e(71828);H.exports=function(P,a,L,T,v){v=v||{},T("textposition"),g.coerceFont(T,"textfont",v.font||L.font),v.noSelect||(T("selected.textfont.color"),T("unselected.textfont.color"))}},67513:function(H,U,e){var g=e(71828),P=e(73972);H.exports=function(L,T,v,d){var t=d("x"),r=d("y"),u,n=P.getComponentMethod("calendars","handleTraceDefaults");if(n(L,T,["x","y"],v),t){var s=g.minRowLength(t);r?u=Math.min(s,g.minRowLength(r)):(u=s,d("y0"),d("dy"))}else{if(!r)return 0;u=g.minRowLength(r),d("x0"),d("dx")}return T._length=u,u}},44542:function(H,U,e){var g=e(82196),P=e(50693),a=e(12663).axisHoverFormat,L=e(5386).fF,T=e(5386).si,v=e(9012),d=e(29659),t=e(87381),r=e(1426).extendFlat,u=e(30962).overrideAll,n=e(78607),s=g.line,f=g.marker,l=f.line,x=r({width:s.width,dash:{valType:"enumerated",values:n(d),dflt:"solid"}},P("line"));function c(h){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var b=H.exports=u({x:g.x,y:g.y,z:{valType:"data_array"},text:r({},g.text,{}),texttemplate:T({},{}),hovertext:r({},g.hovertext,{}),hovertemplate:L(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),mode:r({},g.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:c(),y:c(),z:c()},connectgaps:g.connectgaps,line:x,marker:r({symbol:{valType:"enumerated",values:n(t),dflt:"circle",arrayOk:!0},size:r({},f.size,{dflt:8}),sizeref:f.sizeref,sizemin:f.sizemin,sizemode:f.sizemode,opacity:r({},f.opacity,{arrayOk:!1}),colorbar:f.colorbar,line:r({width:r({},l.width,{arrayOk:!1})},P("marker.line"))},P("marker")),textposition:r({},g.textposition,{dflt:"top center"}),textfont:{color:g.textfont.color,size:g.textfont.size,family:r({},g.textfont.family,{arrayOk:!1})},opacity:v.opacity,hoverinfo:r({},v.hoverinfo)},"calc","nested");b.x.editType=b.y.editType=b.z.editType="calc+clearAxisTypes"},36563:function(H,U,e){var g=e(75225),P=e(36922);H.exports=function(L,T){var v=[{x:!1,y:!1,trace:T,t:{}}];return g(v,T),P(L,T),v}},67336:function(H,U,e){var g=e(73972);function P(T,v,d,t){if(!v||!v.visible)return null;for(var r=g.getComponentMethod("errorbars","makeComputeError")(v),u=new Array(T.length),n=0;n<T.length;n++){var s=r(+T[n],n);if(t.type==="log"){var f=t.c2l(T[n]),l=T[n]-s[0],x=T[n]+s[1];if(u[n]=[(t.c2l(l,!0)-f)*d,(t.c2l(x,!0)-f)*d],l>0){var c=t.c2l(l);t._lowerLogErrorBound||(t._lowerLogErrorBound=c),t._lowerErrorBound=Math.min(t._lowerLogErrorBound,c)}}else u[n]=[-s[0]*d,s[1]*d]}return u}function a(T){for(var v=0;v<T.length;v++)if(T[v])return T[v].length;return 0}function L(T,v,d){var t=[P(T.x,T.error_x,v[0],d.xaxis),P(T.y,T.error_y,v[1],d.yaxis),P(T.z,T.error_z,v[2],d.zaxis)],r=a(t);if(r===0)return null;for(var u=new Array(r),n=0;n<r;n++){for(var s=[[0,0,0],[0,0,0]],f=0;f<3;f++)if(t[f])for(var l=0;l<2;l++)s[l][f]=t[f][n][l];u[n]=s}return u}H.exports=L},58925:function(H,U,e){var g=e(9330).gl_line3d,P=e(9330).gl_scatter3d,a=e(9330).gl_error3d,L=e(9330).gl_mesh3d,T=e(9330).delaunay_triangulate,v=e(71828),d=e(78614),t=e(81697).formatColor,r=e(39984),u=e(29659),n=e(87381),s=e(89298),f=e(23469).appendArrayPointValue,l=e(67336);function x(y,_){this.scene=y,this.uid=_,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var c=x.prototype;c.handlePick=function(y){if(y.object&&(y.object===this.linePlot||y.object===this.delaunayMesh||y.object===this.textMarkers||y.object===this.scatterPlot)){var _=y.index=y.data.index;return y.object.highlight&&y.object.highlight(null),this.scatterPlot&&(y.object=this.scatterPlot,this.scatterPlot.highlight(y.data)),y.textLabel="",this.textLabels&&(Array.isArray(this.textLabels)?(this.textLabels[_]||this.textLabels[_]===0)&&(y.textLabel=this.textLabels[_]):y.textLabel=this.textLabels),y.traceCoordinate=[this.data.x[_],this.data.y[_],this.data.z[_]],!0}};function b(y,_,I){var N=(I+1)%3,k=(I+2)%3,O=[],z=[],F;for(F=0;F<y.length;++F){var B=y[F];isNaN(B[N])||!isFinite(B[N])||isNaN(B[k])||!isFinite(B[k])||(O.push([B[N],B[k]]),z.push(F))}var G=T(O);for(F=0;F<G.length;++F)for(var Q=G[F],ee=0;ee<Q.length;++ee)Q[ee]=z[Q[ee]];return{positions:y,cells:G,meshColor:_}}function h(y){for(var _=[0,0,0],I=[[0,0,0],[0,0,0],[0,0,0]],N=[1,1,1],k=0;k<3;k++){var O=y[k];O&&O.copy_zstyle!==!1&&y[2].visible!==!1&&(O=y[2]),!(!O||!O.visible)&&(_[k]=O.width/2,I[k]=d(O.color),N[k]=O.thickness)}return{capSize:_,color:I,lineWidth:N}}function o(y){return y==null?0:y.indexOf("left")>-1?-1:y.indexOf("right")>-1?1:0}function p(y){return y==null?0:y.indexOf("top")>-1?-1:y.indexOf("bottom")>-1?1:0}function S(y){var _=0,I=0,N=[_,I];if(Array.isArray(y))for(var k=0;k<y.length;k++)N[k]=[_,I],y[k]&&(N[k][0]=o(y[k]),N[k][1]=p(y[k]));else N[0]=o(y),N[1]=p(y);return N}function A(y,_){return _(y*4)}function E(y){return n[y]}function m(y,_,I,N,k){var O=null;if(v.isArrayOrTypedArray(y)){O=[];for(var z=0;z<_;z++)y[z]===void 0?O[z]=N:O[z]=I(y[z],k)}else O=I(y,v.identity);return O}function M(y,_){var I=[],N=y.fullSceneLayout,k=y.dataScale,O=N.xaxis,z=N.yaxis,F=N.zaxis,B=_.marker,G=_.line,Q=_.x||[],ee=_.y||[],ae=_.z||[],fe=Q.length,K=_.xcalendar,W=_.ycalendar,Z=_.zcalendar,X,$,ie,J,j,se;for(j=0;j<fe;j++)X=O.d2l(Q[j],0,K)*k[0],$=z.d2l(ee[j],0,W)*k[1],ie=F.d2l(ae[j],0,Z)*k[2],I[j]=[X,$,ie];if(Array.isArray(_.text))se=_.text;else if(_.text!==void 0)for(se=new Array(fe),j=0;j<fe;j++)se[j]=_.text;function ne(Qe,Je){var qe=N[Qe];return s.tickText(qe,qe.d2l(Je),!0).text}var ue=_.texttemplate;if(ue){var ge=y.fullLayout,we=ge._d3locale,xe=Array.isArray(ue),Fe=xe?Math.min(ue.length,fe):fe,ze=xe?function(Qe){return ue[Qe]}:function(){return ue};for(se=new Array(Fe),j=0;j<Fe;j++){var Te={x:Q[j],y:ee[j],z:ae[j]},ye={xLabel:ne("xaxis",Q[j]),yLabel:ne("yaxis",ee[j]),zLabel:ne("zaxis",ae[j])},Ae={};f(Ae,_,j);var Ne=_._meta||{};se[j]=v.texttemplateString(ze(j),ye,we,Ae,Te,Ne)}}if(J={position:I,mode:_.mode,text:se},"line"in _&&(J.lineColor=t(G,1,fe),J.lineWidth=G.width,J.lineDashes=G.dash),"marker"in _){var Ue=r(_);J.scatterColor=t(B,1,fe),J.scatterSize=m(B.size,fe,A,20,Ue),J.scatterMarker=m(B.symbol,fe,E,"●"),J.scatterLineWidth=B.line.width,J.scatterLineColor=t(B.line,1,fe),J.scatterAngle=0}"textposition"in _&&(J.textOffset=S(_.textposition),J.textColor=t(_.textfont,1,fe),J.textSize=m(_.textfont.size,fe,v.identity,12),J.textFont=_.textfont.family,J.textAngle=0);var Re=["x","y","z"];for(J.project=[!1,!1,!1],J.projectScale=[1,1,1],J.projectOpacity=[1,1,1],j=0;j<3;++j){var Ve=_.projection[Re[j]];(J.project[j]=Ve.show)&&(J.projectOpacity[j]=Ve.opacity,J.projectScale[j]=Ve.scale)}J.errorBounds=l(_,k,N);var rt=h([_.error_x,_.error_y,_.error_z]);return J.errorColor=rt.color,J.errorLineWidth=rt.lineWidth,J.errorCapSize=rt.capSize,J.delaunayAxis=_.surfaceaxis,J.delaunayColor=d(_.surfacecolor),J}function w(y){if(v.isArrayOrTypedArray(y)){var _=y[0];return v.isArrayOrTypedArray(_)&&(y=_),"rgb("+y.slice(0,3).map(function(I){return Math.round(I*255)})+")"}return null}function i(y){return v.isArrayOrTypedArray(y)?y.length===4&&typeof y[0]=="number"?w(y):y.map(w):null}c.update=function(y){var _=this.scene.glplot.gl,I,N,k,O,z=u.solid;this.data=y;var F=M(this.scene,y);"mode"in F&&(this.mode=F.mode),"lineDashes"in F&&F.lineDashes in u&&(z=u[F.lineDashes]),this.color=i(F.scatterColor)||i(F.lineColor),this.dataPoints=F.position,I={gl:this.scene.glplot.gl,position:F.position,color:F.lineColor,lineWidth:F.lineWidth||1,dashes:z[0],dashScale:z[1],opacity:y.opacity,connectGaps:y.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(I):(this.linePlot=g(I),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var B=y.opacity;if(y.marker&&y.marker.opacity!==void 0&&(B*=y.marker.opacity),N={gl:this.scene.glplot.gl,position:F.position,color:F.scatterColor,size:F.scatterSize,glyph:F.scatterMarker,opacity:B,orthographic:!0,lineWidth:F.scatterLineWidth,lineColor:F.scatterLineColor,project:F.project,projectScale:F.projectScale,projectOpacity:F.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(N):(this.scatterPlot=P(N),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),O={gl:this.scene.glplot.gl,position:F.position,glyph:F.text,color:F.textColor,size:F.textSize,angle:F.textAngle,alignment:F.textOffset,font:F.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:y.opacity},this.textLabels=y.hovertext||y.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(O):(this.textMarkers=P(O),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),k={gl:this.scene.glplot.gl,position:F.position,color:F.errorColor,error:F.errorBounds,lineWidth:F.errorLineWidth,capSize:F.errorCapSize,opacity:y.opacity},this.errorBars?F.errorBounds?this.errorBars.update(k):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):F.errorBounds&&(this.errorBars=a(k),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),F.delaunayAxis>=0){var G=b(F.position,F.delaunayColor,F.delaunayAxis);G.opacity=y.opacity,this.delaunayMesh?this.delaunayMesh.update(G):(G.gl=_,this.delaunayMesh=L(G),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},c.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function C(y,_){var I=new x(y,_.uid);return I.update(_),I}H.exports=C},21428:function(H,U,e){var g=e(73972),P=e(71828),a=e(34098),L=e(49508),T=e(11058),v=e(82410),d=e(44542);H.exports=function(u,n,s,f){function l(A,E){return P.coerce(u,n,d,A,E)}var x=t(u,n,l,f);if(!x){n.visible=!1;return}l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),l("mode"),a.hasLines(n)&&(l("connectgaps"),T(u,n,s,f,l)),a.hasMarkers(n)&&L(u,n,s,f,l,{noSelect:!0,noAngle:!0}),a.hasText(n)&&(l("texttemplate"),v(u,n,f,l,{noSelect:!0}));var c=(n.line||{}).color,b=(n.marker||{}).color;l("surfaceaxis")>=0&&l("surfacecolor",c||b);for(var h=["x","y","z"],o=0;o<3;++o){var p="projection."+h[o];l(p+".show")&&(l(p+".opacity"),l(p+".scale"))}var S=g.getComponentMethod("errorbars","supplyDefaults");S(u,n,c||b||s,{axis:"z"}),S(u,n,c||b||s,{axis:"y",inherit:"z"}),S(u,n,c||b||s,{axis:"x",inherit:"z"})};function t(r,u,n,s){var f=0,l=n("x"),x=n("y"),c=n("z"),b=g.getComponentMethod("calendars","handleTraceDefaults");return b(r,u,["x","y","z"],s),l&&x&&c&&(f=Math.min(l.length,x.length,c.length),u._length=u._xlength=u._ylength=u._zlength=f),f}},13551:function(H,U,e){H.exports={plot:e(58925),attributes:e(44542),markerSymbols:e(87381),supplyDefaults:e(21428),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(36563),moduleType:"trace",name:"scatter3d",basePlotModule:e(58547),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},97001:function(H,U,e){var g=e(82196),P=e(9012),a=e(5386).fF,L=e(5386).si,T=e(50693),v=e(1426).extendFlat,d=g.marker,t=g.line,r=d.line;H.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:v({},g.mode,{dflt:"markers"}),text:v({},g.text,{}),texttemplate:L({editType:"plot"},{keys:["a","b","text"]}),hovertext:v({},g.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:v({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:g.connectgaps,fill:v({},g.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:g.fillcolor,marker:v({symbol:d.symbol,opacity:d.opacity,maxdisplayed:d.maxdisplayed,angle:d.angle,angleref:d.angleref,standoff:d.standoff,size:d.size,sizeref:d.sizeref,sizemin:d.sizemin,sizemode:d.sizemode,line:v({width:r.width,editType:"calc"},T("marker.line")),gradient:d.gradient,editType:"calc"},T("marker")),textfont:g.textfont,textposition:g.textposition,selected:g.selected,unselected:g.unselected,hoverinfo:v({},P.hoverinfo,{flags:["a","b","text","name"]}),hoveron:g.hoveron,hovertemplate:a()}},34618:function(H,U,e){var g=e(92770),P=e(36922),a=e(75225),L=e(66279),T=e(47761).calcMarkerSize,v=e(22882);H.exports=function(t,r){var u=r._carpetTrace=v(t,r);if(!(!u||!u.visible||u.visible==="legendonly")){var n;r.xaxis=u.xaxis,r.yaxis=u.yaxis;var s=r._length,f=new Array(s),l,x,c=!1;for(n=0;n<s;n++)if(l=r.a[n],x=r.b[n],g(l)&&g(x)){var b=u.ab2xy(+l,+x,!0),h=u.isVisible(+l,+x);h||(c=!0),f[n]={x:b[0],y:b[1],a:l,b:x,vis:h}}else f[n]={x:!1,y:!1};return r._needsCull=c,f[0].carpet=u,f[0].trace=r,T(r,s),P(t,r),a(f,r),L(f,r),f}}},98965:function(H,U,e){var g=e(71828),P=e(47581),a=e(34098),L=e(49508),T=e(11058),v=e(94039),d=e(82410),t=e(28908),r=e(97001);H.exports=function(n,s,f,l){function x(A,E){return g.coerce(n,s,r,A,E)}x("carpet"),s.xaxis="x",s.yaxis="y";var c=x("a"),b=x("b"),h=Math.min(c.length,b.length);if(!h){s.visible=!1;return}s._length=h,x("text"),x("texttemplate"),x("hovertext");var o=h<P.PTS_LINESONLY?"lines+markers":"lines";x("mode",o),a.hasLines(s)&&(T(n,s,f,l,x,{backoff:!0}),v(n,s,x),x("connectgaps")),a.hasMarkers(s)&&L(n,s,f,l,x,{gradient:!0}),a.hasText(s)&&d(n,s,l,x);var p=[];(a.hasMarkers(s)||a.hasText(s))&&(x("marker.maxdisplayed"),p.push("points")),x("fill"),s.fill!=="none"&&(t(n,s,f,x),a.hasLines(s)||v(n,s,x)),(s.fill==="tonext"||s.fill==="toself")&&p.push("fills");var S=x("hoveron",p.join("+")||"points");S!=="fills"&&x("hovertemplate"),g.coerceSelectionMarkerOpacity(s,x)}},16165:function(H){H.exports=function(e,g,P,a,L){var T=a[L];return e.a=T.a,e.b=T.b,e.y=T.y,e}},48953:function(H){H.exports=function(e,g){var P={},a=g._carpet,L=a.ab2ij([e.a,e.b]),T=Math.floor(L[0]),v=L[0]-T,d=Math.floor(L[1]),t=L[1]-d,r=a.evalxy([],T,d,v,t);return P.yLabel=r[1].toFixed(3),P}},22931:function(H,U,e){var g=e(33720),P=e(71828).fillText;H.exports=function(L,T,v,d){var t=g(L,T,v,d);if(!t||t[0].index===!1)return;var r=t[0];if(r.index===void 0){var u=1-r.y0/L.ya._length,n=L.xa._length,s=n*u/2,f=n-s;return r.x0=Math.max(Math.min(r.x0,f),s),r.x1=Math.max(Math.min(r.x1,f),s),t}var l=r.cd[r.index];r.a=l.a,r.b=l.b,r.xLabelVal=void 0,r.yLabelVal=void 0;var x=r.trace,c=x._carpet,b=x._module.formatLabels(l,x);r.yLabel=b.yLabel,delete r.text;var h=[];function o(A,E){var m;A.labelprefix&&A.labelprefix.length>0?m=A.labelprefix.replace(/ = $/,""):m=A._hovertitle,h.push(m+": "+E.toFixed(3)+A.labelsuffix)}if(!x.hovertemplate){var p=l.hi||x.hoverinfo,S=p.split("+");S.indexOf("all")!==-1&&(S=["a","b","text"]),S.indexOf("a")!==-1&&o(c.aaxis,l.a),S.indexOf("b")!==-1&&o(c.baxis,l.b),h.push("y: "+r.yLabel),S.indexOf("text")!==-1&&P(l,x,h),r.extraText=h.join("<br>")}return t}},46858:function(H,U,e){H.exports={attributes:e(97001),supplyDefaults:e(98965),colorbar:e(4898),formatLabels:e(48953),calc:e(34618),plot:e(1913),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(22931),selectPoints:e(98002),eventData:e(16165),moduleType:"trace",name:"scattercarpet",basePlotModule:e(93612),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},1913:function(H,U,e){var g=e(32663),P=e(89298),a=e(91424);H.exports=function(T,v,d,t){var r,u,n,s=d[0][0].carpet,f=P.getFromId(T,s.xaxis||"x"),l=P.getFromId(T,s.yaxis||"y"),x={xaxis:f,yaxis:l,plot:v.plot};for(r=0;r<d.length;r++)u=d[r][0].trace,u._xA=f,u._yA=l;for(g(T,x,d,t),r=0;r<d.length;r++)u=d[r][0].trace,n=t.selectAll("g.trace"+u.uid+" .js-line"),a.setClipUrl(n,d[r][0].carpet._clipPathId,T)}},19316:function(H,U,e){var g=e(5386).fF,P=e(5386).si,a=e(82196),L=e(9012),T=e(50693),v=e(79952).P,d=e(1426).extendFlat,t=e(30962).overrideAll,r=a.marker,u=a.line,n=r.line;H.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:d({},a.mode,{dflt:"markers"}),text:d({},a.text,{}),texttemplate:P({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:d({},a.hovertext,{}),textfont:a.textfont,textposition:a.textposition,line:{color:u.color,width:u.width,dash:v},connectgaps:a.connectgaps,marker:d({symbol:r.symbol,opacity:r.opacity,angle:r.angle,angleref:d({},r.angleref,{values:["previous","up","north"]}),standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,colorbar:r.colorbar,line:d({width:n.width},T("marker.line")),gradient:r.gradient},T("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:a.fillcolor,selected:a.selected,unselected:a.unselected,hoverinfo:d({},L.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:g()},"calc","nested")},84622:function(H,U,e){var g=e(92770),P=e(50606).BADNUM,a=e(36922),L=e(75225),T=e(66279),v=e(71828)._;function d(t){return t&&typeof t=="string"}H.exports=function(r,u){var n=Array.isArray(u.locations),s=n?u.locations.length:u._length,f=new Array(s),l;u.geojson?l=function(p){return d(p)||g(p)}:l=d;for(var x=0;x<s;x++){var c=f[x]={};if(n){var b=u.locations[x];c.loc=l(b)?b:null}else{var h=u.lon[x],o=u.lat[x];g(h)&&g(o)?c.lonlat=[+h,+o]:c.lonlat=[P,P]}}return L(f,u),a(r,u),T(f,u),s&&(f[0].t={labels:{lat:v(r,"lat:")+" ",lon:v(r,"lon:")+" "}}),f}},10659:function(H,U,e){var g=e(71828),P=e(34098),a=e(49508),L=e(11058),T=e(82410),v=e(28908),d=e(19316);H.exports=function(r,u,n,s){function f(S,A){return g.coerce(r,u,d,S,A)}var l=f("locations"),x;if(l&&l.length){var c=f("geojson"),b;(typeof c=="string"&&c!==""||g.isPlainObject(c))&&(b="geojson-id");var h=f("locationmode",b);h==="geojson-id"&&f("featureidkey"),x=l.length}else{var o=f("lon")||[],p=f("lat")||[];x=Math.min(o.length,p.length)}if(!x){u.visible=!1;return}u._length=x,f("text"),f("hovertext"),f("hovertemplate"),f("mode"),P.hasLines(u)&&(L(r,u,n,s,f),f("connectgaps")),P.hasMarkers(u)&&a(r,u,n,s,f,{gradient:!0}),P.hasText(u)&&(f("texttemplate"),T(r,u,s,f)),f("fill"),u.fill!=="none"&&v(r,u,n,f),g.coerceSelectionMarkerOpacity(u,f)}},84084:function(H){H.exports=function(e,g,P,a,L){e.lon=g.lon,e.lat=g.lat,e.location=g.loc?g.loc:null;var T=a[L];return T.fIn&&T.fIn.properties&&(e.properties=T.fIn.properties),e}},82719:function(H,U,e){var g=e(89298);H.exports=function(a,L,T){var v={},d=T[L.geo]._subplot,t=d.mockAxis,r=a.lonlat;return v.lonLabel=g.tickText(t,t.c2l(r[0]),!0).text,v.latLabel=g.tickText(t,t.c2l(r[1]),!0).text,v}},14977:function(H,U,e){var g=e(30211),P=e(50606).BADNUM,a=e(34603),L=e(71828).fillText,T=e(19316);H.exports=function(t,r,u){var n=t.cd,s=n[0].trace,f=t.xa,l=t.ya,x=t.subplot,c=x.projection.isLonLatOverEdges,b=x.project;function h(M){var w=M.lonlat;if(w[0]===P||c(w))return 1/0;var i=b(w),C=b([r,u]),y=Math.abs(i[0]-C[0]),_=Math.abs(i[1]-C[1]),I=Math.max(3,M.mrc||0);return Math.max(Math.sqrt(y*y+_*_)-I,1-3/I)}if(g.getClosest(n,h,t),t.index!==!1){var o=n[t.index],p=o.lonlat,S=[f.c2p(p),l.c2p(p)],A=o.mrc||1;t.x0=S[0]-A,t.x1=S[0]+A,t.y0=S[1]-A,t.y1=S[1]+A,t.loc=o.loc,t.lon=p[0],t.lat=p[1];var E={};E[s.geo]={_subplot:x};var m=s._module.formatLabels(o,s,E);return t.lonLabel=m.lonLabel,t.latLabel=m.latLabel,t.color=a(s,o),t.extraText=v(s,o,t,n[0].t.labels),t.hovertemplate=s.hovertemplate,[t]}};function v(d,t,r,u){if(d.hovertemplate)return;var n=t.hi||d.hoverinfo,s=n==="all"?T.hoverinfo.flags:n.split("+"),f=s.indexOf("location")!==-1&&Array.isArray(d.locations),l=s.indexOf("lon")!==-1,x=s.indexOf("lat")!==-1,c=s.indexOf("text")!==-1,b=[];function h(o){return o+"°"}return f?b.push(t.loc):l&&x?b.push("("+h(r.latLabel)+", "+h(r.lonLabel)+")"):l?b.push(u.lon+h(r.lonLabel)):x&&b.push(u.lat+h(r.latLabel)),c&&L(t,d,b),b.join("<br>")}},17988:function(H,U,e){H.exports={attributes:e(19316),supplyDefaults:e(10659),colorbar:e(4898),formatLabels:e(82719),calc:e(84622),calcGeoJSON:e(89171).calcGeoJSON,plot:e(89171).plot,style:e(33095),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(14977),eventData:e(84084),selectPoints:e(20548),moduleType:"trace",name:"scattergeo",basePlotModule:e(44622),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},89171:function(H,U,e){var g=e(39898),P=e(71828),a=e(90973).getTopojsonFeatures,L=e(18214),T=e(41327),v=e(71739).findExtremes,d=e(50606).BADNUM,t=e(47761).calcMarkerSize,r=e(34098),u=e(33095);function n(f,l,x){var c=l.layers.frontplot.select(".scatterlayer"),b=P.makeTraceGroups(c,x,"trace scattergeo");function h(o,p){o.lonlat[0]===d&&g.select(p).remove()}b.selectAll("*").remove(),b.each(function(o){var p=g.select(this),S=o[0].trace;if(r.hasLines(S)||S.fill!=="none"){var A=L.calcTraceToLineCoords(o),E=S.fill!=="none"?L.makePolygon(A):L.makeLine(A);p.selectAll("path.js-line").data([{geojson:E,trace:S}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}r.hasMarkers(S)&&p.selectAll("path.point").data(P.identity).enter().append("path").classed("point",!0).each(function(m){h(m,this)}),r.hasText(S)&&p.selectAll("g").data(P.identity).enter().append("g").append("text").each(function(m){h(m,this)}),u(f,o)})}function s(f,l){var x=f[0].trace,c=l[x.geo],b=c._subplot,h=x._length,o,p;if(Array.isArray(x.locations)){var S=x.locationmode,A=S==="geojson-id"?T.extractTraceFeature(f):a(x,b.topojson);for(o=0;o<h;o++){p=f[o];var E=S==="geojson-id"?p.fOut:T.locationToFeature(S,p.loc,A);p.lonlat=E?E.properties.ct:[d,d]}}var m={padded:!0},M,w;if(c.fitbounds==="geojson"&&x.locationmode==="geojson-id"){var i=T.computeBbox(T.getTraceGeojson(x));M=[i[0],i[2]],w=[i[1],i[3]]}else{for(M=new Array(h),w=new Array(h),o=0;o<h;o++)p=f[o],M[o]=p.lonlat[0],w[o]=p.lonlat[1];m.ppad=t(x,h)}x._extremes.lon=v(c.lonaxis._ax,M,m),x._extremes.lat=v(c.lataxis._ax,w,m)}H.exports={calcGeoJSON:s,plot:n}},20548:function(H,U,e){var g=e(34098),P=e(50606).BADNUM;H.exports=function(L,T){var v=L.cd,d=L.xaxis,t=L.yaxis,r=[],u=v[0].trace,n,s,f,l,x,c=!g.hasMarkers(u)&&!g.hasText(u);if(c)return[];if(T===!1)for(x=0;x<v.length;x++)v[x].selected=0;else for(x=0;x<v.length;x++)n=v[x],s=n.lonlat,s[0]!==P&&(f=d.c2p(s),l=t.c2p(s),T.contains([f,l],null,x,L)?(r.push({pointNumber:x,lon:s[0],lat:s[1]}),n.selected=1):n.selected=0);return r}},33095:function(H,U,e){var g=e(39898),P=e(91424),a=e(7901),L=e(16296),T=L.stylePoints,v=L.styleText;H.exports=function(r,u){u&&d(r,u)};function d(t,r){var u=r[0].trace,n=r[0].node3;n.style("opacity",r[0].trace.opacity),T(n,u,t),v(n,u,t),n.selectAll("path.js-line").style("fill","none").each(function(s){var f=g.select(this),l=s.trace,x=l.line||{};f.call(a.stroke,x.color).call(P.dashLine,x.dash||"",x.width||0),l.fill!=="none"&&f.call(a.fill,l.fillcolor)})}},42341:function(H,U,e){var g=e(9012),P=e(82196),a=e(12663).axisHoverFormat,L=e(50693),T=e(78607),v=e(1426).extendFlat,d=e(30962).overrideAll,t=e(78232).DASHES,r=P.line,u=P.marker,n=u.line,s=H.exports=d({x:P.x,x0:P.x0,dx:P.dx,y:P.y,y0:P.y0,dy:P.dy,xperiod:P.xperiod,yperiod:P.yperiod,xperiod0:P.xperiod0,yperiod0:P.yperiod0,xperiodalignment:P.xperiodalignment,yperiodalignment:P.yperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),text:P.text,hovertext:P.hovertext,textposition:P.textposition,textfont:P.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:r.color,width:r.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:T(t),dflt:"solid"}},marker:v({},L("marker"),{symbol:u.symbol,angle:u.angle,size:u.size,sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode,opacity:u.opacity,colorbar:u.colorbar,line:v({},L("marker.line"),{width:n.width})}),connectgaps:P.connectgaps,fill:v({},P.fill,{dflt:"none"}),fillcolor:P.fillcolor,selected:{marker:P.selected.marker,textfont:P.selected.textfont},unselected:{marker:P.unselected.marker,textfont:P.unselected.textfont},opacity:g.opacity},"calc","nested");s.x.editType=s.y.editType=s.x0.editType=s.y0.editType="calc+clearAxisTypes",s.hovertemplate=P.hovertemplate,s.texttemplate=P.texttemplate},72156:function(H,U,e){var g=e(20794);H.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(93612),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(42341),supplyDefaults:e(47148),crossTraceDefaults:e(34936),colorbar:e(4898),formatLabels:e(68101),calc:e(45032),hoverPoints:g.hoverPoints,selectPoints:e(58147),meta:{}}},45032:function(H,U,e){var g=e(88294),P=e(71828),a=e(41675),L=e(71739).findExtremes,T=e(42973),v=e(47761),d=v.calcMarkerSize,t=v.calcAxisExpansion,r=v.setFirstScatter,u=e(36922),n=e(19635),s=e(38967),f=e(50606).BADNUM,l=e(78232).TOO_MANY_POINTS;H.exports=function(h,o){var p=h._fullLayout,S=o._xA=a.getFromId(h,o.xaxis,"x"),A=o._yA=a.getFromId(h,o.yaxis,"y"),E=p._plots[o.xaxis+o.yaxis],m=o._length,M=m>=l,w=m*2,i={},C,y=S.makeCalcdata(o,"x"),_=A.makeCalcdata(o,"y"),I=T(o,S,"x",y),N=T(o,A,"y",_),k=I.vals,O=N.vals;o._x=k,o._y=O,o.xperiodalignment&&(o._origX=y,o._xStarts=I.starts,o._xEnds=I.ends),o.yperiodalignment&&(o._origY=_,o._yStarts=N.starts,o._yEnds=N.ends);var z=new Array(w),F=new Array(m);for(C=0;C<m;C++)z[C*2]=k[C]===f?NaN:k[C],z[C*2+1]=O[C]===f?NaN:O[C],F[C]=C;if(S.type==="log")for(C=0;C<w;C+=2)z[C]=S.c2l(z[C]);if(A.type==="log")for(C=1;C<w;C+=2)z[C]=A.c2l(z[C]);M&&S.type!=="log"&&A.type!=="log"?i.tree=g(z):i.ids=F,u(h,o);var B=c(h,E,o,z,k,O),G=s(h,E);r(p,o);var Q;return M?B.marker&&(Q=B.marker.sizeAvg||Math.max(B.marker.size,3)):Q=d(o,m),t(h,o,S,A,k,O,Q),B.errorX&&x(o,S,B.errorX),B.errorY&&x(o,A,B.errorY),B.fill&&!G.fill2d&&(G.fill2d=!0),B.marker&&!G.scatter2d&&(G.scatter2d=!0),B.line&&!G.line2d&&(G.line2d=!0),(B.errorX||B.errorY)&&!G.error2d&&(G.error2d=!0),B.text&&!G.glText&&(G.glText=!0),B.marker&&(B.marker.snap=m),G.lineOptions.push(B.line),G.errorXOptions.push(B.errorX),G.errorYOptions.push(B.errorY),G.fillOptions.push(B.fill),G.markerOptions.push(B.marker),G.markerSelectedOptions.push(B.markerSel),G.markerUnselectedOptions.push(B.markerUnsel),G.textOptions.push(B.text),G.textSelectedOptions.push(B.textSel),G.textUnselectedOptions.push(B.textUnsel),G.selectBatch.push([]),G.unselectBatch.push([]),i._scene=G,i.index=G.count,i.x=k,i.y=O,i.positions=z,G.count++,[{x:!1,y:!1,t:i,trace:o}]};function x(b,h,o){var p=b._extremes[h._id],S=L(h,o._bnds,{padded:!0});p.min=p.min.concat(S.min),p.max=p.max.concat(S.max)}function c(b,h,o,p,S,A){var E=n.style(b,o);if(E.marker&&(E.marker.positions=p),E.line&&p.length>1&&P.extendFlat(E.line,n.linePositions(b,o,p)),E.errorX||E.errorY){var m=n.errorBarPositions(b,o,p,S,A);E.errorX&&P.extendFlat(E.errorX,m.x),E.errorY&&P.extendFlat(E.errorY,m.y)}return E.text&&(P.extendFlat(E.text,{positions:p},n.textPosition(b,o,E.text,E.marker)),P.extendFlat(E.textSel,{positions:p},n.textPosition(b,o,E.text,E.markerSel)),P.extendFlat(E.textUnsel,{positions:p},n.textPosition(b,o,E.text,E.markerUnsel))),E}},78232:function(H){var U=20;H.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:U,SYMBOL_STROKE:U/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},19635:function(H,U,e){var g=e(92770),P=e(82019),a=e(25075),L=e(73972),T=e(71828),v=e(91424),d=e(41675),t=e(81697).formatColor,r=e(34098),u=e(39984),n=e(68645),s=e(78232),f=e(37822).DESELECTDIM,l={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},x=e(23469).appendArrayPointValue;function c(I,N){var k,O={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},z=I._context.plotGlPixelRatio;if(N.visible!==!0)return O;if(r.hasText(N)&&(O.text=b(I,N),O.textSel=p(I,N,N.selected),O.textUnsel=p(I,N,N.unselected)),r.hasMarkers(N)&&(O.marker=h(I,N),O.markerSel=o(I,N,N.selected),O.markerUnsel=o(I,N,N.unselected),!N.unselected&&T.isArrayOrTypedArray(N.marker.opacity))){var F=N.marker.opacity;for(O.markerUnsel.opacity=new Array(F.length),k=0;k<F.length;k++)O.markerUnsel.opacity[k]=f*F[k]}if(r.hasLines(N)){O.line={overlay:!0,thickness:N.line.width*z,color:N.line.color,opacity:N.opacity};var B=(s.DASHES[N.line.dash]||[1]).slice();for(k=0;k<B.length;++k)B[k]*=N.line.width*z;O.line.dashes=B}return N.error_x&&N.error_x.visible&&(O.errorX=S(N,N.error_x,z)),N.error_y&&N.error_y.visible&&(O.errorY=S(N,N.error_y,z)),N.fill&&N.fill!=="none"&&(O.fill={closed:!0,fill:N.fillcolor,thickness:0}),O}function b(I,N){var k=I._fullLayout,O=N._length,z=N.textfont,F=N.textposition,B=Array.isArray(F)?F:[F],G=z.color,Q=z.size,ee=z.family,ae={},fe,K=I._context.plotGlPixelRatio,W=N.texttemplate;if(W){ae.text=[];var Z=k._d3locale,X=Array.isArray(W),$=X?Math.min(W.length,O):O,ie=X?function(we){return W[we]}:function(){return W};for(fe=0;fe<$;fe++){var J={i:fe},j=N._module.formatLabels(J,N,k),se={};x(se,N,fe);var ne=N._meta||{};ae.text.push(T.texttemplateString(ie(fe),j,Z,se,J,ne))}}else Array.isArray(N.text)&&N.text.length<O?ae.text=N.text.slice():ae.text=N.text;if(Array.isArray(ae.text))for(fe=ae.text.length;fe<O;fe++)ae.text[fe]="";for(ae.opacity=N.opacity,ae.font={},ae.align=[],ae.baseline=[],fe=0;fe<B.length;fe++){var ue=B[fe].split(/\s+/);switch(ue[1]){case"left":ae.align.push("right");break;case"right":ae.align.push("left");break;default:ae.align.push(ue[1])}switch(ue[0]){case"top":ae.baseline.push("bottom");break;case"bottom":ae.baseline.push("top");break;default:ae.baseline.push(ue[0])}}if(Array.isArray(G))for(ae.color=new Array(O),fe=0;fe<O;fe++)ae.color[fe]=G[fe];else ae.color=G;if(T.isArrayOrTypedArray(Q)||Array.isArray(ee))for(ae.font=new Array(O),fe=0;fe<O;fe++){var ge=ae.font[fe]={};ge.size=(T.isTypedArray(Q)?Q[fe]:Array.isArray(Q)?g(Q[fe])?Q[fe]:0:Q)*K,ge.family=Array.isArray(ee)?ee[fe]:ee}else ae.font={size:Q*K,family:ee};return ae}function h(I,N){var k=N._length,O=N.marker,z={},F,B=T.isArrayOrTypedArray(O.symbol),G=T.isArrayOrTypedArray(O.angle),Q=T.isArrayOrTypedArray(O.color),ee=T.isArrayOrTypedArray(O.line.color),ae=T.isArrayOrTypedArray(O.opacity),fe=T.isArrayOrTypedArray(O.size),K=T.isArrayOrTypedArray(O.line.width),W;if(B||(W=n.isOpenSymbol(O.symbol)),B||Q||ee||ae||G){z.symbols=new Array(k),z.angles=new Array(k),z.colors=new Array(k),z.borderColors=new Array(k);var Z=O.symbol,X=O.angle,$=t(O,O.opacity,k),ie=t(O.line,O.opacity,k);if(!Array.isArray(ie[0])){var J=ie;for(ie=Array(k),F=0;F<k;F++)ie[F]=J}if(!Array.isArray($[0])){var j=$;for($=Array(k),F=0;F<k;F++)$[F]=j}if(!Array.isArray(Z)){var se=Z;for(Z=Array(k),F=0;F<k;F++)Z[F]=se}if(!Array.isArray(X)){var ne=X;for(X=Array(k),F=0;F<k;F++)X[F]=ne}for(z.symbols=Z,z.angles=X,z.colors=$,z.borderColors=ie,F=0;F<k;F++)B&&(W=n.isOpenSymbol(O.symbol[F])),W&&(ie[F]=$[F].slice(),$[F]=$[F].slice(),$[F][3]=0);for(z.opacity=N.opacity,z.markers=new Array(k),F=0;F<k;F++)z.markers[F]=i({mx:z.symbols[F],ma:z.angles[F]},N)}else W?(z.color=a(O.color,"uint8"),z.color[3]=0,z.borderColor=a(O.color,"uint8")):(z.color=a(O.color,"uint8"),z.borderColor=a(O.line.color,"uint8")),z.opacity=N.opacity*O.opacity,z.marker=i({mx:O.symbol,ma:O.angle},N);var ue=1,ge=u(N,ue),we;if(fe||K){var xe=z.sizes=new Array(k),Fe=z.borderSizes=new Array(k),ze=0,Te;if(fe){for(F=0;F<k;F++)xe[F]=ge(O.size[F]),ze+=xe[F];Te=ze/k}else for(we=ge(O.size),F=0;F<k;F++)xe[F]=we;if(K)for(F=0;F<k;F++)Fe[F]=O.line.width[F];else for(we=O.line.width,F=0;F<k;F++)Fe[F]=we;z.sizeAvg=Te}else z.size=ge(O&&O.size||10),z.borderSizes=ge(O.line.width);return z}function o(I,N,k){var O=N.marker,z={};return k&&(k.marker&&k.marker.symbol?z=h(I,T.extendFlat({},O,k.marker)):k.marker&&(k.marker.size&&(z.size=k.marker.size),k.marker.color&&(z.colors=k.marker.color),k.marker.opacity!==void 0&&(z.opacity=k.marker.opacity))),z}function p(I,N,k){var O={};if(!k)return O;if(k.textfont){var z={opacity:1,text:N.text,texttemplate:N.texttemplate,textposition:N.textposition,textfont:T.extendFlat({},N.textfont)};k.textfont&&T.extendFlat(z.textfont,k.textfont),O=b(I,z)}return O}function S(I,N,k){var O={capSize:N.width*2*k,lineWidth:N.thickness*k,color:N.color};return N.copy_ystyle&&(O=I.error_y),O}var A=s.SYMBOL_SDF_SIZE,E=s.SYMBOL_SIZE,m=s.SYMBOL_STROKE,M={},w=v.symbolFuncs[0](E*.05);function i(I,N){var k=I.mx;if(k==="circle")return null;var O,z,F=v.symbolNumber(k),B=v.symbolFuncs[F%100],G=!!v.symbolNoDot[F%100],Q=!!v.symbolNoFill[F%100],ee=n.isDotSymbol(k);if(I.ma&&(k+="_"+I.ma),M[k])return M[k];var ae=v.getMarkerAngle(I,N);return ee&&!G?O=B(E*1.1,ae)+w:O=B(E,ae),z=P(O,{w:A,h:A,viewBox:[-E,-E,E,E],stroke:Q?m:-m}),M[k]=z,z||null}function C(I,N,k){var O=k.length,z=O/2,F,B;if(r.hasLines(N)&&z)if(N.line.shape==="hv"){for(F=[],B=0;B<z-1;B++)isNaN(k[B*2])||isNaN(k[B*2+1])?F.push(NaN,NaN,NaN,NaN):(F.push(k[B*2],k[B*2+1]),!isNaN(k[B*2+2])&&!isNaN(k[B*2+3])?F.push(k[B*2+2],k[B*2+1]):F.push(NaN,NaN));F.push(k[O-2],k[O-1])}else if(N.line.shape==="hvh"){for(F=[],B=0;B<z-1;B++)if(isNaN(k[B*2])||isNaN(k[B*2+1])||isNaN(k[B*2+2])||isNaN(k[B*2+3]))!isNaN(k[B*2])&&!isNaN(k[B*2+1])?F.push(k[B*2],k[B*2+1]):F.push(NaN,NaN),F.push(NaN,NaN);else{var G=(k[B*2]+k[B*2+2])/2;F.push(k[B*2],k[B*2+1],G,k[B*2+1],G,k[B*2+3])}F.push(k[O-2],k[O-1])}else if(N.line.shape==="vhv"){for(F=[],B=0;B<z-1;B++)if(isNaN(k[B*2])||isNaN(k[B*2+1])||isNaN(k[B*2+2])||isNaN(k[B*2+3]))!isNaN(k[B*2])&&!isNaN(k[B*2+1])?F.push(k[B*2],k[B*2+1]):F.push(NaN,NaN),F.push(NaN,NaN);else{var Q=(k[B*2+1]+k[B*2+3])/2;F.push(k[B*2],k[B*2+1],k[B*2],Q,k[B*2+2],Q)}F.push(k[O-2],k[O-1])}else if(N.line.shape==="vh"){for(F=[],B=0;B<z-1;B++)isNaN(k[B*2])||isNaN(k[B*2+1])?F.push(NaN,NaN,NaN,NaN):(F.push(k[B*2],k[B*2+1]),!isNaN(k[B*2+2])&&!isNaN(k[B*2+3])?F.push(k[B*2],k[B*2+3]):F.push(NaN,NaN));F.push(k[O-2],k[O-1])}else F=k;var ee=!1;for(B=0;B<F.length;B++)if(isNaN(F[B])){ee=!0;break}var ae=ee||F.length>s.TOO_MANY_POINTS||r.hasMarkers(N)?"rect":"round";if(ee&&N.connectgaps){var fe=F[0],K=F[1];for(B=0;B<F.length;B+=2)isNaN(F[B])||isNaN(F[B+1])?(F[B]=fe,F[B+1]=K):(fe=F[B],K=F[B+1])}return{join:ae,positions:F}}function y(I,N,k,O,z){var F=L.getComponentMethod("errorbars","makeComputeError"),B=d.getFromId(I,N.xaxis,"x"),G=d.getFromId(I,N.yaxis,"y"),Q=k.length/2,ee={};function ae(fe,K){var W=K._id.charAt(0),Z=N["error_"+W];if(Z&&Z.visible&&(K.type==="linear"||K.type==="log")){for(var X=F(Z),$={x:0,y:1}[W],ie={x:[0,1,2,3],y:[2,3,0,1]}[W],J=new Float64Array(4*Q),j=1/0,se=-1/0,ne=0,ue=0;ne<Q;ne++,ue+=4){var ge=fe[ne];if(g(ge)){var we=k[ne*2+$],xe=X(ge,ne),Fe=xe[0],ze=xe[1];if(g(Fe)&&g(ze)){var Te=ge-Fe,ye=ge+ze;J[ue+ie[0]]=we-K.c2l(Te),J[ue+ie[1]]=K.c2l(ye)-we,J[ue+ie[2]]=0,J[ue+ie[3]]=0,j=Math.min(j,ge-Fe),se=Math.max(se,ge+ze)}}}ee[W]={positions:k,errors:J,_bnds:[j,se]}}}return ae(O,B),ae(z,G),ee}function _(I,N,k,O){var z=N._length,F={},B;if(r.hasMarkers(N)){var G=k.font,Q=k.align,ee=k.baseline;for(F.offset=new Array(z),B=0;B<z;B++){var ae=O.sizes?O.sizes[B]:O.size,fe=Array.isArray(G)?G[B].size:G.size,K=Array.isArray(Q)?Q.length>1?Q[B]:Q[0]:Q,W=Array.isArray(ee)?ee.length>1?ee[B]:ee[0]:ee,Z=l[K],X=l[W],$=ae?ae/.8+1:0,ie=-X*$-X*.5;F.offset[B]=[Z*$/fe,ie/fe]}}return F}H.exports={style:c,markerStyle:h,markerSelection:o,linePositions:C,errorBarPositions:y,textPosition:_}},47148:function(H,U,e){var g=e(71828),P=e(73972),a=e(68645),L=e(42341),T=e(47581),v=e(34098),d=e(67513),t=e(73927),r=e(49508),u=e(11058),n=e(28908),s=e(82410);H.exports=function(l,x,c,b){function h(w,i){return g.coerce(l,x,L,w,i)}var o=l.marker?a.isOpenSymbol(l.marker.symbol):!1,p=v.isBubble(l),S=d(l,x,b,h);if(!S){x.visible=!1;return}t(l,x,b,h),h("xhoverformat"),h("yhoverformat");var A=S<T.PTS_LINESONLY?"lines+markers":"lines";h("text"),h("hovertext"),h("hovertemplate"),h("mode",A),v.hasLines(x)&&(h("connectgaps"),u(l,x,c,b,h),h("line.shape")),v.hasMarkers(x)&&(r(l,x,c,b,h,{noAngleRef:!0,noStandOff:!0}),h("marker.line.width",o||p?1:0)),v.hasText(x)&&(h("texttemplate"),s(l,x,b,h));var E=(x.line||{}).color,m=(x.marker||{}).color;h("fill"),x.fill!=="none"&&n(l,x,c,h);var M=P.getComponentMethod("errorbars","supplyDefaults");M(l,x,E||m||c,{axis:"y"}),M(l,x,E||m||c,{axis:"x",inherit:"y"}),g.coerceSelectionMarkerOpacity(x,h)}},5345:function(H,U,e){var g=e(71828),P=e(7901),a=e(37822).DESELECTDIM;function L(T){var v=T[0],d=v.trace,t=v.t,r=t._scene,u=t.index,n=r.selectBatch[u],s=r.unselectBatch[u],f=r.textOptions[u],l=r.textSelectedOptions[u]||{},x=r.textUnselectedOptions[u]||{},c=g.extendFlat({},f),b,h;if(n.length||s.length){var o=l.color,p=x.color,S=f.color,A=Array.isArray(S);for(c.color=new Array(d._length),b=0;b<n.length;b++)h=n[b],c.color[h]=o||(A?S[h]:S);for(b=0;b<s.length;b++){h=s[b];var E=A?S[h]:S;c.color[h]=p||(o?E:P.addOpacity(E,a))}}r.glText[u].update(c)}H.exports={styleTextSelection:L}},68101:function(H,U,e){var g=e(8225);H.exports=function(a,L,T){var v=a.i;return"x"in a||(a.x=L._x[v]),"y"in a||(a.y=L._y[v]),g(a,L,T)}},68645:function(H,U,e){var g=e(78232);U.isOpenSymbol=function(P){return typeof P=="string"?g.OPEN_RE.test(P):P%200>100},U.isDotSymbol=function(P){return typeof P=="string"?g.DOT_RE.test(P):P>200}},20794:function(H,U,e){var g=e(73972),P=e(71828),a=e(34603);function L(v,d,t,r){var u=v.cd,n=u[0].t,s=u[0].trace,f=v.xa,l=v.ya,x=n.x,c=n.y,b=f.c2p(d),h=l.c2p(t),o=v.distance,p;if(n.tree){var S=f.p2c(b-o),A=f.p2c(b+o),E=l.p2c(h-o),m=l.p2c(h+o);r==="x"?p=n.tree.range(Math.min(S,A),Math.min(l._rl[0],l._rl[1]),Math.max(S,A),Math.max(l._rl[0],l._rl[1])):p=n.tree.range(Math.min(S,A),Math.min(E,m),Math.max(S,A),Math.max(E,m))}else p=n.ids;var M,w,i,C,y,_,I,N,k,O=o;if(r==="x"){var z=!!s.xperiodalignment,F=!!s.yperiodalignment;for(y=0;y<p.length;y++){if(M=p[y],i=x[M],_=Math.abs(f.c2p(i)-b),z){var B=f.c2p(s._xStarts[M]),G=f.c2p(s._xEnds[M]);_=b>=Math.min(B,G)&&b<=Math.max(B,G)?0:1/0}if(_<O){if(O=_,C=c[M],I=l.c2p(C)-h,F){var Q=l.c2p(s._yStarts[M]),ee=l.c2p(s._yEnds[M]);I=h>=Math.min(Q,ee)&&h<=Math.max(Q,ee)?0:1/0}k=Math.sqrt(_*_+I*I),w=p[y]}}}else for(y=p.length-1;y>-1;y--)M=p[y],i=x[M],C=c[M],_=f.c2p(i)-b,I=l.c2p(C)-h,N=Math.sqrt(_*_+I*I),N<O&&(O=k=N,w=M);return v.index=w,v.distance=O,v.dxy=k,w===void 0?[v]:[T(v,x,c,s)]}function T(v,d,t,r){var u=v.xa,n=v.ya,s=v.distance,f=v.dxy,l=v.index,x={pointNumber:l,x:d[l],y:t[l]};x.tx=Array.isArray(r.text)?r.text[l]:r.text,x.htx=Array.isArray(r.hovertext)?r.hovertext[l]:r.hovertext,x.data=Array.isArray(r.customdata)?r.customdata[l]:r.customdata,x.tp=Array.isArray(r.textposition)?r.textposition[l]:r.textposition;var c=r.textfont;c&&(x.ts=P.isArrayOrTypedArray(c.size)?c.size[l]:c.size,x.tc=Array.isArray(c.color)?c.color[l]:c.color,x.tf=Array.isArray(c.family)?c.family[l]:c.family);var b=r.marker;b&&(x.ms=P.isArrayOrTypedArray(b.size)?b.size[l]:b.size,x.mo=P.isArrayOrTypedArray(b.opacity)?b.opacity[l]:b.opacity,x.mx=P.isArrayOrTypedArray(b.symbol)?b.symbol[l]:b.symbol,x.ma=P.isArrayOrTypedArray(b.angle)?b.angle[l]:b.angle,x.mc=P.isArrayOrTypedArray(b.color)?b.color[l]:b.color);var h=b&&b.line;h&&(x.mlc=Array.isArray(h.color)?h.color[l]:h.color,x.mlw=P.isArrayOrTypedArray(h.width)?h.width[l]:h.width);var o=b&&b.gradient;o&&o.type!=="none"&&(x.mgt=Array.isArray(o.type)?o.type[l]:o.type,x.mgc=Array.isArray(o.color)?o.color[l]:o.color);var p=u.c2p(x.x,!0),S=n.c2p(x.y,!0),A=x.mrc||1,E=r.hoverlabel;E&&(x.hbg=Array.isArray(E.bgcolor)?E.bgcolor[l]:E.bgcolor,x.hbc=Array.isArray(E.bordercolor)?E.bordercolor[l]:E.bordercolor,x.hts=P.isArrayOrTypedArray(E.font.size)?E.font.size[l]:E.font.size,x.htc=Array.isArray(E.font.color)?E.font.color[l]:E.font.color,x.htf=Array.isArray(E.font.family)?E.font.family[l]:E.font.family,x.hnl=P.isArrayOrTypedArray(E.namelength)?E.namelength[l]:E.namelength);var m=r.hoverinfo;m&&(x.hi=Array.isArray(m)?m[l]:m);var M=r.hovertemplate;M&&(x.ht=Array.isArray(M)?M[l]:M);var w={};w[v.index]=x;var i=r._origX,C=r._origY,y=P.extendFlat({},v,{color:a(r,x),x0:p-A,x1:p+A,xLabelVal:i?i[l]:x.x,y0:S-A,y1:S+A,yLabelVal:C?C[l]:x.y,cd:w,distance:s,spikeDistance:f,hovertemplate:x.ht});return x.htx?y.text=x.htx:x.tx?y.text=x.tx:r.text&&(y.text=r.text),P.fillText(x,r,y),g.getComponentMethod("errorbars","hoverInfo")(x,r,y),y}H.exports={hoverPoints:L,calcHover:T}},68868:function(H,U,e){var g=e(72156);g.plot=e(26787),H.exports=g},26787:function(H,U,e){var g=e(11870),P=e(46075),a=e(3593),L=e(42505),T=e(71828),v=e(64505).selectMode,d=e(79749),t=e(34098),r=e(68687),u=e(5345).styleTextSelection,n={};function s(l,x,c,b){var h=l._size,o=l.width*b,p=l.height*b,S=h.l*b,A=h.b*b,E=h.r*b,m=h.t*b,M=h.w*b,w=h.h*b;return[S+x.domain[0]*M,A+c.domain[0]*w,o-E-(1-x.domain[1])*M,p-m-(1-c.domain[1])*w]}var f=H.exports=function(x,c,b){if(b.length){var h=x._fullLayout,o=c._scene,p=c.xaxis,S=c.yaxis,A,E;if(o){var m=d(x,["ANGLE_instanced_arrays","OES_element_index_uint"],n);if(!m){o.init();return}var M=o.count,w=h._glcanvas.data()[0].regl;if(r(x,c,b),o.dirty){if(o.error2d===!0&&(o.error2d=a(w)),o.line2d===!0&&(o.line2d=P(w)),o.scatter2d===!0&&(o.scatter2d=g(w)),o.fill2d===!0&&(o.fill2d=P(w)),o.glText===!0)for(o.glText=new Array(M),A=0;A<M;A++)o.glText[A]=new L(w);if(o.glText){if(M>o.glText.length){var i=M-o.glText.length;for(A=0;A<i;A++)o.glText.push(new L(w))}else if(M<o.glText.length){var C=o.glText.length-M,y=o.glText.splice(M,C);y.forEach(function(J){J.destroy()})}for(A=0;A<M;A++)o.glText[A].update(o.textOptions[A])}if(o.line2d&&(o.line2d.update(o.lineOptions),o.lineOptions=o.lineOptions.map(function(J){if(J&&J.positions){for(var j=J.positions,se=0;se<j.length&&(isNaN(j[se])||isNaN(j[se+1]));)se+=2;for(var ne=j.length-2;ne>se&&(isNaN(j[ne])||isNaN(j[ne+1]));)ne-=2;J.positions=j.slice(se,ne+2)}return J}),o.line2d.update(o.lineOptions)),o.error2d){var _=(o.errorXOptions||[]).concat(o.errorYOptions||[]);o.error2d.update(_)}o.scatter2d&&o.scatter2d.update(o.markerOptions),o.fillOrder=T.repeat(null,M),o.fill2d&&(o.fillOptions=o.fillOptions.map(function(J,j){var se=b[j];if(!(!J||!se||!se[0]||!se[0].trace)){var ne=se[0],ue=ne.trace,ge=ne.t,we=o.lineOptions[j],xe,Fe,ze=[];ue._ownfill&&ze.push(j),ue._nexttrace&&ze.push(j+1),ze.length&&(o.fillOrder[j]=ze);var Te=[],ye=we&&we.positions||ge.positions,Ae,Ne;if(ue.fill==="tozeroy"){for(Ae=0;Ae<ye.length&&isNaN(ye[Ae+1]);)Ae+=2;for(Ne=ye.length-2;Ne>Ae&&isNaN(ye[Ne+1]);)Ne-=2;ye[Ae+1]!==0&&(Te=[ye[Ae],0]),Te=Te.concat(ye.slice(Ae,Ne+2)),ye[Ne+1]!==0&&(Te=Te.concat([ye[Ne],0]))}else if(ue.fill==="tozerox"){for(Ae=0;Ae<ye.length&&isNaN(ye[Ae]);)Ae+=2;for(Ne=ye.length-2;Ne>Ae&&isNaN(ye[Ne]);)Ne-=2;ye[Ae]!==0&&(Te=[0,ye[Ae+1]]),Te=Te.concat(ye.slice(Ae,Ne+2)),ye[Ne]!==0&&(Te=Te.concat([0,ye[Ne+1]]))}else if(ue.fill==="toself"||ue.fill==="tonext"){for(Te=[],xe=0,J.splitNull=!0,Fe=0;Fe<ye.length;Fe+=2)(isNaN(ye[Fe])||isNaN(ye[Fe+1]))&&(Te=Te.concat(ye.slice(xe,Fe)),Te.push(ye[xe],ye[xe+1]),Te.push(null,null),xe=Fe+2);Te=Te.concat(ye.slice(xe)),xe&&Te.push(ye[xe],ye[xe+1])}else{var Ue=ue._nexttrace;if(Ue){var Re=o.lineOptions[j+1];if(Re){var Ve=Re.positions;if(ue.fill==="tonexty"){for(Te=ye.slice(),j=Math.floor(Ve.length/2);j--;){var rt=Ve[j*2],Qe=Ve[j*2+1];isNaN(rt)||isNaN(Qe)||Te.push(rt,Qe)}J.fill=Ue.fillcolor}}}}if(ue._prevtrace&&ue._prevtrace.fill==="tonext"){var Je=o.lineOptions[j-1].positions,qe=Te.length/2;xe=qe;var dt=[xe];for(Fe=0;Fe<Je.length;Fe+=2)(isNaN(Je[Fe])||isNaN(Je[Fe+1]))&&(dt.push(Fe/2+qe+1),xe=Fe+2);Te=Te.concat(Je),J.hole=dt}return J.fillmode=ue.fill,J.opacity=ue.opacity,J.positions=Te,J}}),o.fill2d.update(o.fillOptions))}var I=h.dragmode,N=v(I),k=h.clickmode.indexOf("select")>-1;for(A=0;A<M;A++){var O=b[A][0],z=O.trace,F=O.t,B=F.index,G=z._length,Q=F.x,ee=F.y;if(z.selectedpoints||N||k){if(N||(N=!0),z.selectedpoints){var ae=o.selectBatch[B]=T.selIndices2selPoints(z),fe={};for(E=0;E<ae.length;E++)fe[ae[E]]=1;var K=[];for(E=0;E<G;E++)fe[E]||K.push(E);o.unselectBatch[B]=K}var W=F.xpx=new Array(G),Z=F.ypx=new Array(G);for(E=0;E<G;E++)W[E]=p.c2p(Q[E]),Z[E]=S.c2p(ee[E])}else F.xpx=F.ypx=null}if(N){if(o.select2d||(o.select2d=g(h._glcanvas.data()[1].regl)),o.scatter2d){var X=new Array(M);for(A=0;A<M;A++)X[A]=o.selectBatch[A].length||o.unselectBatch[A].length?o.markerUnselectedOptions[A]:{};o.scatter2d.update(X)}o.select2d&&(o.select2d.update(o.markerOptions),o.select2d.update(o.markerSelectedOptions)),o.glText&&b.forEach(function(J){var j=((J||[])[0]||{}).trace||{};t.hasText(j)&&u(J)})}else o.scatter2d&&o.scatter2d.update(o.markerOptions);var $={viewport:s(h,p,S,x._context.plotGlPixelRatio),range:[(p._rl||p.range)[0],(S._rl||S.range)[0],(p._rl||p.range)[1],(S._rl||S.range)[1]]},ie=T.repeat($,o.count);o.fill2d&&o.fill2d.update(ie),o.line2d&&o.line2d.update(ie),o.error2d&&o.error2d.update(ie.concat(ie)),o.scatter2d&&o.scatter2d.update(ie),o.select2d&&o.select2d.update(ie),o.glText&&o.glText.forEach(function(J){J.update($)})}}};f.reglPrecompiled=n},38967:function(H,U,e){var g=e(71828);H.exports=function(a,L){var T=L._scene,v={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},d={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return L._scene||(T=L._scene={},T.init=function(){g.extendFlat(T,d,v)},T.init(),T.update=function(r){var u=g.repeat(r,T.count);if(T.fill2d&&T.fill2d.update(u),T.scatter2d&&T.scatter2d.update(u),T.line2d&&T.line2d.update(u),T.error2d&&T.error2d.update(u.concat(u)),T.select2d&&T.select2d.update(u),T.glText)for(var n=0;n<T.count;n++)T.glText[n].update(r)},T.draw=function(){for(var r=T.count,u=T.fill2d,n=T.error2d,s=T.line2d,f=T.scatter2d,l=T.glText,x=T.select2d,c=T.selectBatch,b=T.unselectBatch,h=0;h<r;h++){if(u&&T.fillOrder[h]&&u.draw(T.fillOrder[h]),s&&T.lineOptions[h]&&s.draw(h),n&&(T.errorXOptions[h]&&n.draw(h),T.errorYOptions[h]&&n.draw(h+r)),f&&T.markerOptions[h])if(b[h].length){var o=g.repeat([],T.count);o[h]=b[h],f.draw(o)}else c[h].length||f.draw(h);l[h]&&T.textOptions[h]&&l[h].render()}x&&x.draw(c),T.dirty=!1},T.destroy=function(){T.fill2d&&T.fill2d.destroy&&T.fill2d.destroy(),T.scatter2d&&T.scatter2d.destroy&&T.scatter2d.destroy(),T.error2d&&T.error2d.destroy&&T.error2d.destroy(),T.line2d&&T.line2d.destroy&&T.line2d.destroy(),T.select2d&&T.select2d.destroy&&T.select2d.destroy(),T.glText&&T.glText.forEach(function(r){r.destroy&&r.destroy()}),T.lineOptions=null,T.fillOptions=null,T.markerOptions=null,T.markerSelectedOptions=null,T.markerUnselectedOptions=null,T.errorXOptions=null,T.errorYOptions=null,T.textOptions=null,T.textSelectedOptions=null,T.textUnselectedOptions=null,T.selectBatch=null,T.unselectBatch=null,L._scene=null}),T.dirty||g.extendFlat(T,v),T}},58147:function(H,U,e){var g=e(34098),P=e(5345).styleTextSelection;H.exports=function(L,T){var v=L.cd,d=L.xaxis,t=L.yaxis,r=[],u=v[0].trace,n=v[0].t,s=u._length,f=n.x,l=n.y,x=n._scene,c=n.index;if(!x)return r;var b=g.hasText(u),h=g.hasMarkers(u),o=!h&&!b;if(u.visible!==!0||o)return r;var p=[],S=[];if(T!==!1&&!T.degenerate)for(var A=0;A<s;A++)T.contains([n.xpx[A],n.ypx[A]],!1,A,L)?(p.push(A),r.push({pointNumber:A,x:d.c2d(f[A]),y:t.c2d(l[A])})):S.push(A);if(h){var E=x.scatter2d;if(!p.length&&!S.length){var m=new Array(x.count);m[c]=x.markerOptions[c],E.update.apply(E,m)}else if(!x.selectBatch[c].length&&!x.unselectBatch[c].length){var M=new Array(x.count);M[c]=x.markerUnselectedOptions[c],E.update.apply(E,M)}}return x.selectBatch[c]=p,x.unselectBatch[c]=S,b&&P(v),r}},99181:function(H,U,e){var g=e(5386).fF,P=e(5386).si,a=e(19316),L=e(82196),T=e(23585),v=e(9012),d=e(50693),t=e(1426).extendFlat,r=e(30962).overrideAll,u=e(23585),n=a.line,s=a.marker;H.exports=r({lon:a.lon,lat:a.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},u.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},s.opacity,{dflt:1})},mode:t({},L.mode,{dflt:"markers"}),text:t({},L.text,{}),texttemplate:P({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},L.hovertext,{}),line:{color:n.color,width:n.width},connectgaps:L.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:s.opacity,size:s.size,sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode},d("marker")),fill:a.fill,fillcolor:L.fillcolor,textfont:T.layers.symbol.textfont,textposition:T.layers.symbol.textposition,below:{valType:"string"},selected:{marker:L.selected.marker},unselected:{marker:L.unselected.marker},hoverinfo:t({},v.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:g()},"calc","nested")},15790:function(H,U,e){var g=e(92770),P=e(71828),a=e(50606).BADNUM,L=e(18214),T=e(21081),v=e(91424),d=e(39984),t=e(34098),r=e(13056),u=e(23469).appendArrayPointValue,n=e(63893).NEWLINES,s=e(63893).BR_TAG_ALL;H.exports=function(S,A){var E=A[0].trace,m=E.visible===!0&&E._length!==0,M=E.fill!=="none",w=t.hasLines(E),i=t.hasMarkers(E),C=t.hasText(E),y=i&&E.marker.symbol==="circle",_=i&&E.marker.symbol!=="circle",I=E.cluster&&E.cluster.enabled,N=f("fill"),k=f("line"),O=f("circle"),z=f("symbol"),F={fill:N,line:k,circle:O,symbol:z};if(!m)return F;var B;if((M||w)&&(B=L.calcTraceToLineCoords(A)),M&&(N.geojson=L.makePolygon(B),N.layout.visibility="visible",P.extendFlat(N.paint,{"fill-color":E.fillcolor})),w&&(k.geojson=L.makeLine(B),k.layout.visibility="visible",P.extendFlat(k.paint,{"line-width":E.line.width,"line-color":E.line.color,"line-opacity":E.opacity})),y){var G=l(A);O.geojson=G.geojson,O.layout.visibility="visible",I&&(O.filter=["!",["has","point_count"]],F.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":o(E.cluster.color,E.cluster.step),"circle-radius":o(E.cluster.size,E.cluster.step),"circle-opacity":o(E.cluster.opacity,E.cluster.step)}},F.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),P.extendFlat(O.paint,{"circle-color":G.mcc,"circle-radius":G.mrc,"circle-opacity":G.mo})}if(y&&I&&(O.filter=["!",["has","point_count"]]),(_||C)&&(z.geojson=x(A,S),P.extendFlat(z.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),_&&(P.extendFlat(z.layout,{"icon-size":E.marker.size/10}),"angle"in E.marker&&E.marker.angle!=="auto"&&P.extendFlat(z.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),z.layout["icon-allow-overlap"]=E.marker.allowoverlap,P.extendFlat(z.paint,{"icon-opacity":E.opacity*E.marker.opacity,"icon-color":E.marker.color})),C)){var Q=(E.marker||{}).size,ee=r(E.textposition,Q);P.extendFlat(z.layout,{"text-size":E.textfont.size,"text-anchor":ee.anchor,"text-offset":ee.offset,"text-font":E.textfont.family.split(", ")}),P.extendFlat(z.paint,{"text-color":E.textfont.color,"text-opacity":E.opacity})}return F};function f(p){return{type:p,geojson:L.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function l(p){var S=p[0].trace,A=S.marker,E=S.selectedpoints,m=P.isArrayOrTypedArray(A.color),M=P.isArrayOrTypedArray(A.size),w=P.isArrayOrTypedArray(A.opacity),i;function C(Q){return S.opacity*Q}function y(Q){return Q/2}var _;m&&(T.hasColorscale(S,"marker")?_=T.makeColorScaleFuncFromTrace(A):_=P.identity);var I;M&&(I=d(S));var N;w&&(N=function(Q){var ee=g(Q)?+P.constrain(Q,0,1):0;return C(ee)});var k=[];for(i=0;i<p.length;i++){var O=p[i],z=O.lonlat;if(!h(z)){var F={};_&&(F.mcc=O.mcc=_(O.mc)),I&&(F.mrc=O.mrc=I(O.ms)),N&&(F.mo=N(O.mo)),E&&(F.selected=O.selected||0),k.push({type:"Feature",id:i+1,geometry:{type:"Point",coordinates:z},properties:F})}}var B;if(E)for(B=v.makeSelectedPointStyleFns(S),i=0;i<k.length;i++){var G=k[i].properties;B.selectedOpacityFn&&(G.mo=C(B.selectedOpacityFn(G))),B.selectedColorFn&&(G.mcc=B.selectedColorFn(G)),B.selectedSizeFn&&(G.mrc=B.selectedSizeFn(G))}return{geojson:{type:"FeatureCollection",features:k},mcc:m||B&&B.selectedColorFn?{type:"identity",property:"mcc"}:A.color,mrc:M||B&&B.selectedSizeFn?{type:"identity",property:"mrc"}:y(A.size),mo:w||B&&B.selectedOpacityFn?{type:"identity",property:"mo"}:C(A.opacity)}}function x(p,S){for(var A=S._fullLayout,E=p[0].trace,m=E.marker||{},M=m.symbol,w=m.angle,i=M!=="circle"?c(M):b,C=w!=="auto"?c(w,!0):b,y=t.hasText(E)?c(E.text):b,_=[],I=0;I<p.length;I++){var N=p[I];if(!h(N.lonlat)){var k=E.texttemplate,O;if(k){var z=Array.isArray(k)?k[I]||"":k,F=E._module.formatLabels(N,E,A),B={};u(B,E,N.i);var G=E._meta||{};O=P.texttemplateString(z,F,A._d3locale,B,N,G)}else O=y(I);O&&(O=O.replace(n,"").replace(s,`
`)),_.push({type:"Feature",geometry:{type:"Point",coordinates:N.lonlat},properties:{symbol:i(I),angle:C(I),text:O}})}}return{type:"FeatureCollection",features:_}}function c(p,S){return P.isArrayOrTypedArray(p)?S?function(A){return g(p[A])?+p[A]:0}:function(A){return p[A]}:p?function(){return p}:b}function b(){return""}function h(p){return p[0]===a}function o(p,S){var A;if(P.isArrayOrTypedArray(p)&&P.isArrayOrTypedArray(S)){A=["step",["get","point_count"],p[0]];for(var E=1;E<p.length;E++)A.push(S[E-1],p[E])}else A=p;return A}},76645:function(H,U,e){var g=e(71828),P=e(34098),a=e(49508),L=e(11058),T=e(82410),v=e(28908),d=e(99181),t=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];H.exports=function(n,s,f,l){function x(M,w){return g.coerce(n,s,d,M,w)}function c(M,w){return g.coerce2(n,s,d,M,w)}var b=r(n,s,x);if(!b){s.visible=!1;return}if(x("text"),x("texttemplate"),x("hovertext"),x("hovertemplate"),x("mode"),x("below"),P.hasLines(s)&&(L(n,s,f,l,x,{noDash:!0}),x("connectgaps")),P.hasMarkers(s)){a(n,s,f,l,x,{noLine:!0,noAngle:!0}),x("marker.allowoverlap"),x("marker.angle");var h=s.marker;h.symbol!=="circle"&&(g.isArrayOrTypedArray(h.size)&&(h.size=h.size[0]),g.isArrayOrTypedArray(h.color)&&(h.color=h.color[0]))}var o=c("cluster.maxzoom"),p=c("cluster.step"),S=c("cluster.color",s.marker&&s.marker.color||f),A=c("cluster.size"),E=c("cluster.opacity"),m=o!==!1||p!==!1||S!==!1||A!==!1||E!==!1;x("cluster.enabled",m),P.hasText(s)&&T(n,s,l,x,{noSelect:!0,font:{family:t.indexOf(l.font.family)!==-1?l.font.family:"Open Sans Regular",size:l.font.size,color:l.font.color}}),x("fill"),s.fill!=="none"&&v(n,s,f,x),g.coerceSelectionMarkerOpacity(s,x)};function r(u,n,s){var f=s("lon")||[],l=s("lat")||[],x=Math.min(f.length,l.length);return n._length=x,x}},53353:function(H){H.exports=function(e,g){return e.lon=g.lon,e.lat=g.lat,e}},15636:function(H,U,e){var g=e(89298);H.exports=function(a,L,T){var v={},d=T[L.subplot]._subplot,t=d.mockAxis,r=a.lonlat;return v.lonLabel=g.tickText(t,t.c2l(r[0]),!0).text,v.latLabel=g.tickText(t,t.c2l(r[1]),!0).text,v}},28178:function(H,U,e){var g=e(30211),P=e(71828),a=e(34603),L=P.fillText,T=e(50606).BADNUM,v=e(77734).traceLayerPrefix;function d(r,u,n){var s=r.cd,f=s[0].trace,l=r.xa,x=r.ya,c=r.subplot,b=[],h=v+f.uid+"-circle",o=f.cluster&&f.cluster.enabled;if(o){var p=c.map.queryRenderedFeatures(null,{layers:[h]});b=p.map(function(k){return k.id})}var S=u>=0?Math.floor((u+180)/360):Math.ceil((u-180)/360),A=S*360,E=u-A;function m(k){var O=k.lonlat;if(O[0]===T||o&&b.indexOf(k.i+1)===-1)return 1/0;var z=P.modHalf(O[0],360),F=O[1],B=c.project([z,F]),G=B.x-l.c2p([E,F]),Q=B.y-x.c2p([z,n]),ee=Math.max(3,k.mrc||0);return Math.max(Math.sqrt(G*G+Q*Q)-ee,1-3/ee)}if(g.getClosest(s,m,r),r.index!==!1){var M=s[r.index],w=M.lonlat,i=[P.modHalf(w[0],360)+A,w[1]],C=l.c2p(i),y=x.c2p(i),_=M.mrc||1;r.x0=C-_,r.x1=C+_,r.y0=y-_,r.y1=y+_;var I={};I[f.subplot]={_subplot:c};var N=f._module.formatLabels(M,f,I);return r.lonLabel=N.lonLabel,r.latLabel=N.latLabel,r.color=a(f,M),r.extraText=t(f,M,s[0].t.labels),r.hovertemplate=f.hovertemplate,[r]}}function t(r,u,n){if(r.hovertemplate)return;var s=u.hi||r.hoverinfo,f=s.split("+"),l=f.indexOf("all")!==-1,x=f.indexOf("lon")!==-1,c=f.indexOf("lat")!==-1,b=u.lonlat,h=[];function o(p){return p+"°"}return l||x&&c?h.push("("+o(b[1])+", "+o(b[0])+")"):x?h.push(n.lon+o(b[0])):c&&h.push(n.lat+o(b[1])),(l||f.indexOf("text")!==-1)&&L(u,r,h),h.join("<br>")}H.exports={hoverPoints:d,getExtraText:t}},20467:function(H,U,e){H.exports={attributes:e(99181),supplyDefaults:e(76645),colorbar:e(4898),formatLabels:e(15636),calc:e(84622),plot:e(86951),hoverPoints:e(28178).hoverPoints,eventData:e(53353),selectPoints:e(86387),styleOnSelect:function(g,P){if(P){var a=P[0].trace;a._glTrace.update(P)}},moduleType:"trace",name:"scattermapbox",basePlotModule:e(50101),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},86951:function(H,U,e){var g=e(71828),P=e(15790),a=e(77734).traceLayerPrefix,L={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function T(d,t,r,u){this.type="scattermapbox",this.subplot=d,this.uid=t,this.clusterEnabled=r,this.isHidden=u,this.sourceIds={fill:"source-"+t+"-fill",line:"source-"+t+"-line",circle:"source-"+t+"-circle",symbol:"source-"+t+"-symbol",cluster:"source-"+t+"-circle",clusterCount:"source-"+t+"-circle"},this.layerIds={fill:a+t+"-fill",line:a+t+"-line",circle:a+t+"-circle",symbol:a+t+"-symbol",cluster:a+t+"-cluster",clusterCount:a+t+"-cluster-count"},this.below=null}var v=T.prototype;v.addSource=function(d,t,r){var u={type:"geojson",data:t.geojson};r&&r.enabled&&g.extendFlat(u,{cluster:!0,clusterMaxZoom:r.maxzoom});var n=this.subplot.map.getSource(this.sourceIds[d]);n?n.setData(t.geojson):this.subplot.map.addSource(this.sourceIds[d],u)},v.setSourceData=function(d,t){this.subplot.map.getSource(this.sourceIds[d]).setData(t.geojson)},v.addLayer=function(d,t,r){var u={type:t.type,id:this.layerIds[d],source:this.sourceIds[d],layout:t.layout,paint:t.paint};t.filter&&(u.filter=t.filter);for(var n=this.layerIds[d],s,f=this.subplot.getMapLayers(),l=0;l<f.length;l++)if(f[l].id===n){s=!0;break}s?(this.subplot.setOptions(n,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&this.subplot.setOptions(n,"setPaintProperty",u.paint)):this.subplot.addLayer(u,r)},v.update=function(t){var r=t[0].trace,u=this.subplot,n=u.map,s=P(u.gd,t),f=u.belowLookup["trace-"+this.uid],l=!!(r.cluster&&r.cluster.enabled),x=!!this.clusterEnabled,c=this;function b(w){w||c.addSource("circle",s.circle,r.cluster);for(var i=L.cluster,C=0;C<i.length;C++){var y=i[C],_=s[y];c.addLayer(y,_,f)}}function h(w){for(var i=L.cluster,C=i.length-1;C>=0;C--){var y=i[C];n.removeLayer(c.layerIds[y])}w||n.removeSource(c.sourceIds.circle)}function o(w){for(var i=L.nonCluster,C=0;C<i.length;C++){var y=i[C],_=s[y];w||c.addSource(y,_),c.addLayer(y,_,f)}}function p(w){for(var i=L.nonCluster,C=i.length-1;C>=0;C--){var y=i[C];n.removeLayer(c.layerIds[y]),w||n.removeSource(c.sourceIds[y])}}function S(w){x?h(w):p(w)}function A(w){l?b(w):o(w)}function E(){for(var w=l?L.cluster:L.nonCluster,i=0;i<w.length;i++){var C=w[i],y=s[C];y&&(u.setOptions(c.layerIds[C],"setLayoutProperty",y.layout),y.layout.visibility==="visible"&&(C!=="cluster"&&c.setSourceData(C,y),u.setOptions(c.layerIds[C],"setPaintProperty",y.paint)))}}var m=this.isHidden,M=r.visible!==!0;M?m||S():m?M||A():x!==l?(S(),A()):(this.below!==f&&(S(!0),A(!0)),E()),this.clusterEnabled=l,this.isHidden=M,this.below=f,t[0].trace._glTrace=this},v.dispose=function(){for(var t=this.subplot.map,r=this.clusterEnabled?L.cluster:L.nonCluster,u=r.length-1;u>=0;u--){var n=r[u];t.removeLayer(this.layerIds[n]),t.removeSource(this.sourceIds[n])}},H.exports=function(t,r){var u=r[0].trace,n=u.cluster&&u.cluster.enabled,s=u.visible!==!0,f=new T(t,u.uid,n,s),l=P(t.gd,r),x=f.below=t.belowLookup["trace-"+u.uid],c,b,h;if(n)for(f.addSource("circle",l.circle,u.cluster),c=0;c<L.cluster.length;c++)b=L.cluster[c],h=l[b],f.addLayer(b,h,x);else for(c=0;c<L.nonCluster.length;c++)b=L.nonCluster[c],h=l[b],f.addSource(b,h,u.cluster),f.addLayer(b,h,x);return r[0].trace._glTrace=f,f}},86387:function(H,U,e){var g=e(71828),P=e(34098),a=e(50606).BADNUM;H.exports=function(T,v){var d=T.cd,t=T.xaxis,r=T.yaxis,u=[],n=d[0].trace,s;if(!P.hasMarkers(n))return[];if(v===!1)for(s=0;s<d.length;s++)d[s].selected=0;else for(s=0;s<d.length;s++){var f=d[s],l=f.lonlat;if(l[0]!==a){var x=[g.modHalf(l[0],360),l[1]],c=[t.c2p(x),r.c2p(x)];v.contains(c,null,s,T)?(u.push({pointNumber:s,lon:l[0],lat:l[1]}),f.selected=1):f.selected=0}}return u}},81245:function(H,U,e){var g=e(5386).fF,P=e(5386).si,a=e(1426).extendFlat,L=e(82196),T=e(9012),v=L.line;H.exports={mode:L.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:L.text,texttemplate:P({editType:"plot"},{keys:["r","theta","text"]}),hovertext:L.hovertext,line:{color:v.color,width:v.width,dash:v.dash,backoff:v.backoff,shape:a({},v.shape,{values:["linear","spline"]}),smoothing:v.smoothing,editType:"calc"},connectgaps:L.connectgaps,marker:L.marker,cliponaxis:a({},L.cliponaxis,{dflt:!1}),textposition:L.textposition,textfont:L.textfont,fill:a({},L.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:L.fillcolor,hoverinfo:a({},T.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:L.hoveron,hovertemplate:g(),selected:L.selected,unselected:L.unselected}},26442:function(H,U,e){var g=e(92770),P=e(50606).BADNUM,a=e(89298),L=e(36922),T=e(75225),v=e(66279),d=e(47761).calcMarkerSize;H.exports=function(r,u){for(var n=r._fullLayout,s=u.subplot,f=n[s].radialaxis,l=n[s].angularaxis,x=f.makeCalcdata(u,"r"),c=l.makeCalcdata(u,"theta"),b=u._length,h=new Array(b),o=0;o<b;o++){var p=x[o],S=c[o],A=h[o]={};g(p)&&g(S)?(A.r=p,A.theta=S):A.r=P}var E=d(u,b);return u._extremes.x=a.findExtremes(f,x,{ppad:E}),L(r,u),T(h,u),v(h,u),h}},22184:function(H,U,e){var g=e(71828),P=e(34098),a=e(49508),L=e(11058),T=e(94039),v=e(82410),d=e(28908),t=e(47581).PTS_LINESONLY,r=e(81245);function u(s,f,l,x){function c(o,p){return g.coerce(s,f,r,o,p)}var b=n(s,f,x,c);if(!b){f.visible=!1;return}c("thetaunit"),c("mode",b<t?"lines+markers":"lines"),c("text"),c("hovertext"),f.hoveron!=="fills"&&c("hovertemplate"),P.hasLines(f)&&(L(s,f,l,x,c,{backoff:!0}),T(s,f,c),c("connectgaps")),P.hasMarkers(f)&&a(s,f,l,x,c,{gradient:!0}),P.hasText(f)&&(c("texttemplate"),v(s,f,x,c));var h=[];(P.hasMarkers(f)||P.hasText(f))&&(c("cliponaxis"),c("marker.maxdisplayed"),h.push("points")),c("fill"),f.fill!=="none"&&(d(s,f,l,c),P.hasLines(f)||T(s,f,c)),(f.fill==="tonext"||f.fill==="toself")&&h.push("fills"),c("hoveron",h.join("+")||"points"),g.coerceSelectionMarkerOpacity(f,c)}function n(s,f,l,x){var c=x("r"),b=x("theta"),h;if(c)b?h=Math.min(c.length,b.length):(h=c.length,x("theta0"),x("dtheta"));else{if(!b)return 0;h=f.theta.length,x("r0"),x("dr")}return f._length=h,h}H.exports={handleRThetaDefaults:n,supplyDefaults:u}},98608:function(H,U,e){var g=e(71828),P=e(89298);H.exports=function(L,T,v){var d={},t=v[T.subplot]._subplot,r,u;t?(r=t.radialAxis,u=t.angularAxis):(t=v[T.subplot],r=t.radialaxis,u=t.angularaxis);var n=r.c2l(L.r);d.rLabel=P.tickText(r,n,!0).text;var s=u.thetaunit==="degrees"?g.rad2deg(L.theta):L.theta;return d.thetaLabel=P.tickText(u,s,!0).text,d}},59150:function(H,U,e){var g=e(33720);function P(L,T,v,d){var t=g(L,T,v,d);if(!(!t||t[0].index===!1)){var r=t[0];if(r.index===void 0)return t;var u=L.subplot,n=r.cd[r.index],s=r.trace;if(u.isPtInside(n))return r.xLabelVal=void 0,r.yLabelVal=void 0,a(n,s,u,r),r.hovertemplate=s.hovertemplate,t}}function a(L,T,v,d){var t=v.radialAxis,r=v.angularAxis;t._hovertitle="r",r._hovertitle="θ";var u={};u[T.subplot]={_subplot:v};var n=T._module.formatLabels(L,T,u);d.rLabel=n.rLabel,d.thetaLabel=n.thetaLabel;var s=L.hi||T.hoverinfo,f=[];function l(c,b){f.push(c._hovertitle+": "+b)}if(!T.hovertemplate){var x=s.split("+");x.indexOf("all")!==-1&&(x=["r","theta","text"]),x.indexOf("r")!==-1&&l(t,d.rLabel),x.indexOf("theta")!==-1&&l(r,d.thetaLabel),x.indexOf("text")!==-1&&d.text&&(f.push(d.text),delete d.text),d.extraText=f.join("<br>")}}H.exports={hoverPoints:P,makeHoverPointText:a}},91271:function(H,U,e){H.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(23580),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(81245),supplyDefaults:e(22184).supplyDefaults,colorbar:e(4898),formatLabels:e(98608),calc:e(26442),plot:e(45162),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(59150).hoverPoints,selectPoints:e(98002),meta:{}}},45162:function(H,U,e){var g=e(32663),P=e(50606).BADNUM;H.exports=function(L,T,v){for(var d=T.layers.frontplot.select("g.scatterlayer"),t=T.xaxis,r=T.yaxis,u={xaxis:t,yaxis:r,plot:T.framework,layerClipId:T._hasClipOnAxisFalse?T.clipIds.forTraces:null},n=T.radialAxis,s=T.angularAxis,f=0;f<v.length;f++)for(var l=v[f],x=0;x<l.length;x++){x===0&&(l[0].trace._xA=t,l[0].trace._yA=r);var c=l[x],b=c.r;if(b===P)c.x=c.y=P;else{var h=n.c2g(b),o=s.c2g(c.theta);c.x=h*Math.cos(o),c.y=h*Math.sin(o)}}g(L,u,v,d)}},53286:function(H,U,e){var g=e(81245),P=e(42341),a=e(5386).si;H.exports={mode:g.mode,r:g.r,theta:g.theta,r0:g.r0,dr:g.dr,theta0:g.theta0,dtheta:g.dtheta,thetaunit:g.thetaunit,text:g.text,texttemplate:a({editType:"plot"},{keys:["r","theta","text"]}),hovertext:g.hovertext,hovertemplate:g.hovertemplate,line:P.line,connectgaps:P.connectgaps,marker:P.marker,fill:P.fill,fillcolor:P.fillcolor,textposition:P.textposition,textfont:P.textfont,hoverinfo:g.hoverinfo,selected:g.selected,unselected:g.unselected}},65746:function(H,U,e){H.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(23580),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(53286),supplyDefaults:e(75485),colorbar:e(4898),formatLabels:e(46255),calc:e(37499),hoverPoints:e(29347).hoverPoints,selectPoints:e(58147),meta:{}}},37499:function(H,U,e){var g=e(36922),P=e(47761).calcMarkerSize,a=e(19635),L=e(89298),T=e(78232).TOO_MANY_POINTS;H.exports=function(d,t){var r=d._fullLayout,u=t.subplot,n=r[u].radialaxis,s=r[u].angularaxis,f=t._r=n.makeCalcdata(t,"r"),l=t._theta=s.makeCalcdata(t,"theta"),x=t._length,c={};x<f.length&&(f=f.slice(0,x)),x<l.length&&(l=l.slice(0,x)),c.r=f,c.theta=l,g(d,t);var b=c.opts=a.style(d,t),h;return x<T?h=P(t,x):b.marker&&(h=2*(b.marker.sizeAvg||Math.max(b.marker.size,3))),t._extremes.x=L.findExtremes(n,f,{ppad:h}),[{x:!1,y:!1,t:c,trace:t}]}},75485:function(H,U,e){var g=e(71828),P=e(34098),a=e(22184).handleRThetaDefaults,L=e(49508),T=e(11058),v=e(82410),d=e(28908),t=e(47581).PTS_LINESONLY,r=e(53286);H.exports=function(n,s,f,l){function x(b,h){return g.coerce(n,s,r,b,h)}var c=a(n,s,l,x);if(!c){s.visible=!1;return}x("thetaunit"),x("mode",c<t?"lines+markers":"lines"),x("text"),x("hovertext"),s.hoveron!=="fills"&&x("hovertemplate"),P.hasLines(s)&&(T(n,s,f,l,x),x("connectgaps")),P.hasMarkers(s)&&L(n,s,f,l,x,{noAngleRef:!0,noStandOff:!0}),P.hasText(s)&&(x("texttemplate"),v(n,s,l,x)),x("fill"),s.fill!=="none"&&d(n,s,f,x),g.coerceSelectionMarkerOpacity(s,x)}},46255:function(H,U,e){var g=e(98608);H.exports=function(a,L,T){var v=a.i;return"r"in a||(a.r=L._r[v]),"theta"in a||(a.theta=L._theta[v]),g(a,L,T)}},29347:function(H,U,e){var g=e(20794),P=e(59150).makeHoverPointText;function a(L,T,v,d){var t=L.cd,r=t[0].t,u=r.r,n=r.theta,s=g.hoverPoints(L,T,v,d);if(!(!s||s[0].index===!1)){var f=s[0];if(f.index===void 0)return s;var l=L.subplot,x=f.cd[f.index],c=f.trace;if(x.r=u[f.index],x.theta=n[f.index],!!l.isPtInside(x))return f.xLabelVal=void 0,f.yLabelVal=void 0,P(x,c,l,f),s}}H.exports={hoverPoints:a}},21461:function(H,U,e){var g=e(65746);g.plot=e(49741),H.exports=g},49741:function(H,U,e){var g=e(88294),P=e(92770),a=e(26787),L=e(38967),T=e(19635),v=e(71828),d=e(78232).TOO_MANY_POINTS,t={};H.exports=function(u,n,s){if(s.length){var f=n.radialAxis,l=n.angularAxis,x=L(u,n);return s.forEach(function(c){if(!(!c||!c[0]||!c[0].trace)){var b=c[0],h=b.trace,o=b.t,p=h._length,S=o.r,A=o.theta,E=o.opts,m,M=S.slice(),w=A.slice();for(m=0;m<S.length;m++)n.isPtInside({r:S[m],theta:A[m]})||(M[m]=NaN,w[m]=NaN);var i=new Array(p*2),C=Array(p),y=Array(p);for(m=0;m<p;m++){var _=M[m],I,N;if(P(_)){var k=f.c2g(_),O=l.c2g(w[m],h.thetaunit);I=k*Math.cos(O),N=k*Math.sin(O)}else I=N=NaN;C[m]=i[m*2]=I,y[m]=i[m*2+1]=N}o.tree=g(i),E.marker&&p>=d&&(E.marker.cluster=o.tree),E.marker&&(E.markerSel.positions=E.markerUnsel.positions=E.marker.positions=i),E.line&&i.length>1&&v.extendFlat(E.line,T.linePositions(u,h,i)),E.text&&(v.extendFlat(E.text,{positions:i},T.textPosition(u,h,E.text,E.marker)),v.extendFlat(E.textSel,{positions:i},T.textPosition(u,h,E.text,E.markerSel)),v.extendFlat(E.textUnsel,{positions:i},T.textPosition(u,h,E.text,E.markerUnsel))),E.fill&&!x.fill2d&&(x.fill2d=!0),E.marker&&!x.scatter2d&&(x.scatter2d=!0),E.line&&!x.line2d&&(x.line2d=!0),E.text&&!x.glText&&(x.glText=!0),x.lineOptions.push(E.line),x.fillOptions.push(E.fill),x.markerOptions.push(E.marker),x.markerSelectedOptions.push(E.markerSel),x.markerUnselectedOptions.push(E.markerUnsel),x.textOptions.push(E.text),x.textSelectedOptions.push(E.textSel),x.textUnselectedOptions.push(E.textUnsel),x.selectBatch.push([]),x.unselectBatch.push([]),o.x=C,o.y=y,o.rawx=C,o.rawy=y,o.r=S,o.theta=A,o.positions=i,o._scene=x,o.index=x.count,x.count++}}),a(u,n,s)}},H.exports.reglPrecompiled=t},48300:function(H,U,e){var g=e(5386).fF,P=e(5386).si,a=e(1426).extendFlat,L=e(82196),T=e(9012),v=L.line;H.exports={mode:L.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:L.text,texttemplate:P({editType:"plot"},{keys:["real","imag","text"]}),hovertext:L.hovertext,line:{color:v.color,width:v.width,dash:v.dash,backoff:v.backoff,shape:a({},v.shape,{values:["linear","spline"]}),smoothing:v.smoothing,editType:"calc"},connectgaps:L.connectgaps,marker:L.marker,cliponaxis:a({},L.cliponaxis,{dflt:!1}),textposition:L.textposition,textfont:L.textfont,fill:a({},L.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:L.fillcolor,hoverinfo:a({},T.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:L.hoveron,hovertemplate:g(),selected:L.selected,unselected:L.unselected}},30621:function(H,U,e){var g=e(92770),P=e(50606).BADNUM,a=e(36922),L=e(75225),T=e(66279),v=e(47761).calcMarkerSize;H.exports=function(t,r){for(var u=t._fullLayout,n=r.subplot,s=u[n].realaxis,f=u[n].imaginaryaxis,l=s.makeCalcdata(r,"real"),x=f.makeCalcdata(r,"imag"),c=r._length,b=new Array(c),h=0;h<c;h++){var o=l[h],p=x[h],S=b[h]={};g(o)&&g(p)?(S.real=o,S.imag=p):S.real=P}return v(r,c),a(t,r),L(b,r),T(b,r),b}},65269:function(H,U,e){var g=e(71828),P=e(34098),a=e(49508),L=e(11058),T=e(94039),v=e(82410),d=e(28908),t=e(47581).PTS_LINESONLY,r=e(48300);H.exports=function(s,f,l,x){function c(o,p){return g.coerce(s,f,r,o,p)}var b=u(s,f,x,c);if(!b){f.visible=!1;return}c("mode",b<t?"lines+markers":"lines"),c("text"),c("hovertext"),f.hoveron!=="fills"&&c("hovertemplate"),P.hasLines(f)&&(L(s,f,l,x,c,{backoff:!0}),T(s,f,c),c("connectgaps")),P.hasMarkers(f)&&a(s,f,l,x,c,{gradient:!0}),P.hasText(f)&&(c("texttemplate"),v(s,f,x,c));var h=[];(P.hasMarkers(f)||P.hasText(f))&&(c("cliponaxis"),c("marker.maxdisplayed"),h.push("points")),c("fill"),f.fill!=="none"&&(d(s,f,l,c),P.hasLines(f)||T(s,f,c)),(f.fill==="tonext"||f.fill==="toself")&&h.push("fills"),c("hoveron",h.join("+")||"points"),g.coerceSelectionMarkerOpacity(f,c)};function u(n,s,f,l){var x=l("real"),c=l("imag"),b;return x&&c&&(b=Math.min(x.length,c.length)),s._length=b,b}},62047:function(H,U,e){var g=e(89298);H.exports=function(a,L,T){var v={},d=T[L.subplot]._subplot;return v.realLabel=g.tickText(d.radialAxis,a.real,!0).text,v.imagLabel=g.tickText(d.angularAxis,a.imag,!0).text,v}},11350:function(H,U,e){var g=e(33720);function P(L,T,v,d){var t=g(L,T,v,d);if(!(!t||t[0].index===!1)){var r=t[0];if(r.index===void 0)return t;var u=L.subplot,n=r.cd[r.index],s=r.trace;if(u.isPtInside(n))return r.xLabelVal=void 0,r.yLabelVal=void 0,a(n,s,u,r),r.hovertemplate=s.hovertemplate,t}}function a(L,T,v,d){var t=v.radialAxis,r=v.angularAxis;t._hovertitle="real",r._hovertitle="imag";var u={};u[T.subplot]={_subplot:v};var n=T._module.formatLabels(L,T,u);d.realLabel=n.realLabel,d.imagLabel=n.imagLabel;var s=L.hi||T.hoverinfo,f=[];function l(c,b){f.push(c._hovertitle+": "+b)}if(!T.hovertemplate){var x=s.split("+");x.indexOf("all")!==-1&&(x=["real","imag","text"]),x.indexOf("real")!==-1&&l(t,d.realLabel),x.indexOf("imag")!==-1&&l(r,d.imagLabel),x.indexOf("text")!==-1&&d.text&&(f.push(d.text),delete d.text),d.extraText=f.join("<br>")}}H.exports={hoverPoints:P,makeHoverPointText:a}},85956:function(H,U,e){H.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(7504),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(48300),supplyDefaults:e(65269),colorbar:e(4898),formatLabels:e(62047),calc:e(30621),plot:e(12480),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(11350).hoverPoints,selectPoints:e(98002),meta:{}}},12480:function(H,U,e){var g=e(32663),P=e(50606).BADNUM,a=e(23893),L=a.smith;H.exports=function(v,d,t){for(var r=d.layers.frontplot.select("g.scatterlayer"),u=d.xaxis,n=d.yaxis,s={xaxis:u,yaxis:n,plot:d.framework,layerClipId:d._hasClipOnAxisFalse?d.clipIds.forTraces:null},f=0;f<t.length;f++)for(var l=t[f],x=0;x<l.length;x++){x===0&&(l[0].trace._xA=u,l[0].trace._yA=n);var c=l[x],b=c.real;if(b===P)c.x=c.y=P;else{var h=L([b,c.imag]);c.x=h[0],c.y=h[1]}}g(v,s,t,r)}},50413:function(H,U,e){var g=e(5386).fF,P=e(5386).si,a=e(82196),L=e(9012),T=e(50693),v=e(79952).P,d=e(1426).extendFlat,t=a.marker,r=a.line,u=t.line;H.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:d({},a.mode,{dflt:"markers"}),text:d({},a.text,{}),texttemplate:P({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:d({},a.hovertext,{}),line:{color:r.color,width:r.width,dash:v,backoff:r.backoff,shape:d({},r.shape,{values:["linear","spline"]}),smoothing:r.smoothing,editType:"calc"},connectgaps:a.connectgaps,cliponaxis:a.cliponaxis,fill:d({},a.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:a.fillcolor,marker:d({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:d({width:u.width,editType:"calc"},T("marker.line")),gradient:t.gradient,editType:"calc"},T("marker")),textfont:a.textfont,textposition:a.textposition,selected:a.selected,unselected:a.unselected,hoverinfo:d({},L.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:a.hoveron,hovertemplate:g()}},54337:function(H,U,e){var g=e(92770),P=e(36922),a=e(75225),L=e(66279),T=e(47761).calcMarkerSize,v=["a","b","c"],d={a:["b","c"],b:["a","c"],c:["a","b"]};H.exports=function(r,u){var n=r._fullLayout[u.subplot],s=n.sum,f=u.sum||s,l={a:u.a,b:u.b,c:u.c},x,c,b,h,o,p;for(x=0;x<v.length;x++)if(b=v[x],!l[b]){for(o=l[d[b][0]],p=l[d[b][1]],h=new Array(o.length),c=0;c<o.length;c++)h[c]=f-o[c]-p[c];l[b]=h}var S=u._length,A=new Array(S),E,m,M,w,i,C;for(x=0;x<S;x++)E=l.a[x],m=l.b[x],M=l.c[x],g(E)&&g(m)&&g(M)?(E=+E,m=+m,M=+M,w=s/(E+m+M),w!==1&&(E*=w,m*=w,M*=w),C=E,i=M-m,A[x]={x:i,y:C,a:E,b:m,c:M}):A[x]={x:!1,y:!1};return T(u,S),P(r,u),a(A,u),L(A,u),A}},46008:function(H,U,e){var g=e(71828),P=e(47581),a=e(34098),L=e(49508),T=e(11058),v=e(94039),d=e(82410),t=e(28908),r=e(50413);H.exports=function(n,s,f,l){function x(A,E){return g.coerce(n,s,r,A,E)}var c=x("a"),b=x("b"),h=x("c"),o;if(c?(o=c.length,b?(o=Math.min(o,b.length),h&&(o=Math.min(o,h.length))):h?o=Math.min(o,h.length):o=0):b&&h&&(o=Math.min(b.length,h.length)),!o){s.visible=!1;return}s._length=o,x("sum"),x("text"),x("hovertext"),s.hoveron!=="fills"&&x("hovertemplate");var p=o<P.PTS_LINESONLY?"lines+markers":"lines";x("mode",p),a.hasLines(s)&&(T(n,s,f,l,x,{backoff:!0}),v(n,s,x),x("connectgaps")),a.hasMarkers(s)&&L(n,s,f,l,x,{gradient:!0}),a.hasText(s)&&(x("texttemplate"),d(n,s,l,x));var S=[];(a.hasMarkers(s)||a.hasText(s))&&(x("cliponaxis"),x("marker.maxdisplayed"),S.push("points")),x("fill"),s.fill!=="none"&&(t(n,s,f,x),a.hasLines(s)||v(n,s,x)),(s.fill==="tonext"||s.fill==="toself")&&S.push("fills"),x("hoveron",S.join("+")||"points"),g.coerceSelectionMarkerOpacity(s,x)}},4524:function(H){H.exports=function(e,g,P,a,L){if(g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),a[L]){var T=a[L];e.a=T.a,e.b=T.b,e.c=T.c}else e.a=g.a,e.b=g.b,e.c=g.c;return e}},93645:function(H,U,e){var g=e(89298);H.exports=function(a,L,T){var v={},d=T[L.subplot]._subplot;return v.aLabel=g.tickText(d.aaxis,a.a,!0).text,v.bLabel=g.tickText(d.baxis,a.b,!0).text,v.cLabel=g.tickText(d.caxis,a.c,!0).text,v}},47250:function(H,U,e){var g=e(33720);H.exports=function(a,L,T,v){var d=g(a,L,T,v);if(!d||d[0].index===!1)return;var t=d[0];if(t.index===void 0){var r=1-t.y0/a.ya._length,u=a.xa._length,n=u*r/2,s=u-n;return t.x0=Math.max(Math.min(t.x0,s),n),t.x1=Math.max(Math.min(t.x1,s),n),d}var f=t.cd[t.index],l=t.trace,x=t.subplot;t.a=f.a,t.b=f.b,t.c=f.c,t.xLabelVal=void 0,t.yLabelVal=void 0;var c={};c[l.subplot]={_subplot:x};var b=l._module.formatLabels(f,l,c);t.aLabel=b.aLabel,t.bLabel=b.bLabel,t.cLabel=b.cLabel;var h=f.hi||l.hoverinfo,o=[];function p(A,E){o.push(A._hovertitle+": "+E)}if(!l.hovertemplate){var S=h.split("+");S.indexOf("all")!==-1&&(S=["a","b","c"]),S.indexOf("a")!==-1&&p(x.aaxis,t.aLabel),S.indexOf("b")!==-1&&p(x.baxis,t.bLabel),S.indexOf("c")!==-1&&p(x.caxis,t.cLabel)}return t.extraText=o.join("<br>"),t.hovertemplate=l.hovertemplate,d}},52979:function(H,U,e){H.exports={attributes:e(50413),supplyDefaults:e(46008),colorbar:e(4898),formatLabels:e(93645),calc:e(54337),plot:e(7507),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(47250),selectPoints:e(98002),eventData:e(4524),moduleType:"trace",name:"scatterternary",basePlotModule:e(61639),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},7507:function(H,U,e){var g=e(32663);H.exports=function(a,L,T){var v=L.plotContainer;v.select(".scatterlayer").selectAll("*").remove();for(var d=L.xaxis,t=L.yaxis,r={xaxis:d,yaxis:t,plot:v,layerClipId:L._hasClipOnAxisFalse?L.clipIdRelative:null},u=L.layers.frontplot.select("g.scatterlayer"),n=0;n<T.length;n++){var s=T[n];s.length&&(s[0].trace._xA=d,s[0].trace._yA=t)}g(a,r,T,u)}},46880:function(H,U,e){var g=e(82196),P=e(50693),a=e(12663).axisHoverFormat,L=e(5386).fF,T=e(42341),v=e(85555).idRegex,d=e(44467).templatedArray,t=e(1426).extendFlat,r=g.marker,u=r.line,n=t(P("marker.line",{editTypeOverride:"calc"}),{width:t({},u.width,{editType:"calc"}),editType:"calc"}),s=t(P("marker"),{symbol:r.symbol,angle:r.angle,size:t({},r.size,{editType:"markerSize"}),sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,opacity:r.opacity,colorbar:r.colorbar,line:n,editType:"calc"});s.color.editType=s.cmin.editType=s.cmax.editType="style";function f(l){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:v[l],editType:"plot"}}}H.exports={dimensions:d("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:t({},T.text,{}),hovertext:t({},T.hovertext,{}),hovertemplate:L(),xhoverformat:a("x"),yhoverformat:a("y"),marker:s,xaxes:f("x"),yaxes:f("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:T.selected.marker,editType:"calc"},unselected:{marker:T.unselected.marker,editType:"calc"},opacity:T.opacity}},65017:function(H,U,e){var g=e(73972),P=e(83312);H.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(46880),supplyDefaults:e(25784),colorbar:e(4898),calc:e(87625),plot:e(79410),hoverPoints:e(8567).hoverPoints,selectPoints:e(8689),editStyle:e(28801),meta:{}},g.register(P)},16947:function(H,U,e){var g=e(46075),P=e(73972),a=e(79749),L=e(27659).a0,T=e(93612),v=e(41675).getFromId,d=e(89298).shouldShowZeroLine,t="splom",r={};function u(c){var b=c._fullLayout,h=P.getModule(t),o=L(c.calcdata,h)[0],p=a(c,["ANGLE_instanced_arrays","OES_element_index_uint"],r);p&&(b._hasOnlyLargeSploms&&f(c),h.plot(c,{},o))}function n(c){var b=c.calcdata,h=c._fullLayout;h._hasOnlyLargeSploms&&f(c);for(var o=0;o<b.length;o++){var p=b[o][0],S=p.trace,A=h._splomScenes[S.uid];S.type==="splom"&&A&&A.matrix&&s(c,S,A)}}function s(c,b,h){for(var o=h.matrixOptions.data.length,p=b._visibleDims,S=h.viewOpts.ranges=new Array(o),A=0;A<p.length;A++){var E=p[A],m=S[A]=new Array(4),M=v(c,b._diag[E][0]);M&&(m[0]=M.r2l(M.range[0]),m[2]=M.r2l(M.range[1]));var w=v(c,b._diag[E][1]);w&&(m[1]=w.r2l(w.range[0]),m[3]=w.r2l(w.range[1]))}h.selectBatch.length||h.unselectBatch.length?h.matrix.update({ranges:S},{ranges:S}):h.matrix.update({ranges:S})}function f(c){var b=c._fullLayout,h=b._glcanvas.data()[0].regl,o=b._splomGrid;o||(o=b._splomGrid=g(h)),o.update(l(c))}function l(c){var b=c._context.plotGlPixelRatio,h=c._fullLayout,o=h._size,p=[0,0,h.width*b,h.height*b],S={},A;function E(G,Q,ee,ae,fe,K){ee*=b,ae*=b,fe*=b,K*=b;var W=Q[G+"color"],Z=Q[G+"width"],X=String(W+Z);X in S?S[X].data.push(NaN,NaN,ee,ae,fe,K):S[X]={data:[ee,ae,fe,K],join:"rect",thickness:Z*b,color:W,viewport:p,range:p,overlay:!1}}for(A in h._splomSubplots){var m=h._plots[A],M=m.xaxis,w=m.yaxis,i=M._gridVals,C=w._gridVals,y=M._offset,_=M._length,I=w._length,N=o.b+w.domain[0]*o.h,k=-w._m,O=-k*w.r2l(w.range[0],w.calendar),z,F;if(M.showgrid)for(A=0;A<i.length;A++)z=y+M.l2p(i[A].x),E("grid",M,z,N,z,N+I);if(w.showgrid)for(A=0;A<C.length;A++)F=N+O+k*C[A].x,E("grid",w,y,F,y+_,F);d(c,M,w)&&(z=y+M.l2p(0),E("zeroline",M,z,N,z,N+I)),d(c,w,M)&&(F=N+O+0,E("zeroline",w,y,F,y+_,F))}var B=[];for(A in S)B.push(S[A]);return B}function x(c,b,h,o){var p={},S;if(o._splomScenes){for(S=0;S<c.length;S++){var A=c[S];A.type==="splom"&&(p[A.uid]=1)}for(S=0;S<h.length;S++){var E=h[S];if(!p[E.uid]){var m=o._splomScenes[E.uid];m&&m.destroy&&m.destroy(),o._splomScenes[E.uid]=null,delete o._splomScenes[E.uid]}}}Object.keys(o._splomScenes||{}).length===0&&delete o._splomScenes,o._splomGrid&&!b._hasOnlyLargeSploms&&o._hasOnlyLargeSploms&&(o._splomGrid.destroy(),o._splomGrid=null,delete o._splomGrid),T.clean(c,b,h,o)}H.exports={name:t,attr:T.attr,attrRegex:T.attrRegex,layoutAttributes:T.layoutAttributes,supplyLayoutDefaults:T.supplyLayoutDefaults,drawFramework:T.drawFramework,plot:u,drag:n,updateGrid:f,clean:x,updateFx:T.updateFx,toSVG:T.toSVG,reglPrecompiled:r}},87625:function(H,U,e){var g=e(71828),P=e(41675),a=e(47761).calcMarkerSize,L=e(47761).calcAxisExpansion,T=e(36922),v=e(19635).markerSelection,d=e(19635).markerStyle,t=e(10164),r=e(50606).BADNUM,u=e(78232).TOO_MANY_POINTS;H.exports=function(s,f){var l=f.dimensions,x=f._length,c={},b=c.cdata=[],h=c.data=[],o=f._visibleDims=[],p,S,A,E,m;function M(_,I){for(var N=_.makeCalcdata({v:I.values,vcalendar:f.calendar},"v"),k=0;k<N.length;k++)N[k]=N[k]===r?NaN:N[k];b.push(N),h.push(_.type==="log"?g.simpleMap(N,_.c2l):N)}for(p=0;p<l.length;p++)if(A=l[p],A.visible){if(E=P.getFromId(s,f._diag[p][0]),m=P.getFromId(s,f._diag[p][1]),E&&m&&E.type!==m.type){g.log("Skipping splom dimension "+p+" with conflicting axis types");continue}E?(M(E,A),m&&m.type==="category"&&(m._categories=E._categories.slice())):M(m,A),o.push(p)}T(s,f),g.extendFlat(c,d(s,f));var w=b.length,i=w*x>u,C;for(i?C=c.sizeAvg||Math.max(c.size,3):C=a(f,x),S=0;S<o.length;S++)p=o[S],A=l[p],E=P.getFromId(s,f._diag[p][0])||{},m=P.getFromId(s,f._diag[p][1])||{},L(s,f,E,m,b[S],b[S],C);var y=t(s,f);return y.matrix||(y.matrix=!0),y.matrixOptions=c,y.selectedOptions=v(s,f,f.selected),y.unselectedOptions=v(s,f,f.unselected),[{x:!1,y:!1,t:{},trace:f}]}},25784:function(H,U,e){var g=e(71828),P=e(85501),a=e(46880),L=e(34098),T=e(49508),v=e(94397),d=e(68645).isOpenSymbol;H.exports=function(n,s,f,l){function x(E,m){return g.coerce(n,s,a,E,m)}var c=P(n,s,{name:"dimensions",handleItemDefaults:t}),b=x("diagonal.visible"),h=x("showupperhalf"),o=x("showlowerhalf"),p=v(s,c,"values");if(!p||!b&&!h&&!o){s.visible=!1;return}x("text"),x("hovertext"),x("hovertemplate"),x("xhoverformat"),x("yhoverformat"),T(n,s,f,l,x,{noAngleRef:!0,noStandOff:!0});var S=d(s.marker.symbol),A=L.isBubble(s);x("marker.line.width",S||A?1:0),r(n,s,l,x),g.coerceSelectionMarkerOpacity(s,x)};function t(u,n){function s(l,x){return g.coerce(u,n,a.dimensions,l,x)}s("label");var f=s("values");f&&f.length?s("visible"):n.visible=!1,s("axis.type"),s("axis.matches")}function r(u,n,s,f){var l=n.dimensions,x=l.length,c=n.showupperhalf,b=n.showlowerhalf,h=n.diagonal.visible,o,p,S=new Array(x),A=new Array(x);for(o=0;o<x;o++){var E=o?o+1:"";S[o]="x"+E,A[o]="y"+E}var m=f("xaxes",S),M=f("yaxes",A),w=n._diag=new Array(x);n._xaxes={},n._yaxes={};var i=[],C=[];function y(G,Q,ee,ae){if(G){var fe=G.charAt(0),K=s._splomAxes[fe];if(n["_"+fe+"axes"][G]=1,ae.push(G),!(G in K)){var W=K[G]={};ee&&(W.label=ee.label||"",ee.visible&&ee.axis&&(ee.axis.type&&(W.type=ee.axis.type),ee.axis.matches&&(W.matches=Q)))}}}var _=!h&&!b,I=!h&&!c;for(n._axesDim={},o=0;o<x;o++){var N=l[o],k=o===0,O=o===x-1,z=k&&_||O&&I?void 0:m[o],F=k&&I||O&&_?void 0:M[o];y(z,F,N,i),y(F,z,N,C),w[o]=[z,F],n._axesDim[z]=o,n._axesDim[F]=o}for(o=0;o<i.length;o++)for(p=0;p<C.length;p++){var B=i[o]+C[p];(o>p&&c||o<p&&b||o===p&&(h||!b||!c))&&(s._splomSubplots[B]=1)}(!b||!h&&c&&b)&&(s._splomGridDflt.xside="bottom",s._splomGridDflt.yside="left")}},28801:function(H,U,e){var g=e(71828),P=e(36922),a=e(19635).markerStyle;H.exports=function(T,v){var d=v.trace,t=T._fullLayout._splomScenes[d.uid];if(t){P(T,d),g.extendFlat(t.matrixOptions,a(T,d));var r=g.extendFlat({},t.matrixOptions,t.viewOpts);t.matrix.update(r,null)}}},35948:function(H,U){U.getDimIndex=function(g,P){for(var a=P._id,L=a.charAt(0),T={x:0,y:1}[L],v=g._visibleDims,d=0;d<v.length;d++){var t=v[d];if(g._diag[t][T]===a)return d}return!1}},8567:function(H,U,e){var g=e(35948),P=e(20794).calcHover;function a(L,T,v){var d=L.cd,t=d[0].trace,r=L.scene,u=r.matrixOptions.cdata,n=L.xa,s=L.ya,f=n.c2p(T),l=s.c2p(v),x=L.distance,c=g.getDimIndex(t,n),b=g.getDimIndex(t,s);if(c===!1||b===!1)return[L];for(var h=u[c],o=u[b],p,S,A=x,E=0;E<h.length;E++){var m=h[E],M=o[E],w=n.c2p(m)-f,i=s.c2p(M)-l,C=Math.sqrt(w*w+i*i);C<A&&(A=S=C,p=E)}return L.index=p,L.distance=A,L.dxy=S,p===void 0?[L]:[P(L,h,o,t)]}H.exports={hoverPoints:a}},6419:function(H,U,e){var g=e(65017);g.basePlotModule=e(16947),H.exports=g},79410:function(H,U,e){var g=e(60487),P=e(71828),a=e(41675),L=e(64505).selectMode;H.exports=function(d,t,r){if(r.length)for(var u=0;u<r.length;u++)T(d,r[u][0])};function T(v,d){var t=v._fullLayout,r=t._size,u=d.trace,n=d.t,s=t._splomScenes[u.uid],f=s.matrixOptions,l=f.cdata,x=t._glcanvas.data()[0].regl,c=t.dragmode,b,h,o,p,S;if(l.length!==0){f.lower=u.showupperhalf,f.upper=u.showlowerhalf,f.diagonal=u.diagonal.visible;var A=u._visibleDims,E=l.length,m=s.viewOpts={};for(m.ranges=new Array(E),m.domains=new Array(E),S=0;S<A.length;S++){o=A[S];var M=m.ranges[S]=new Array(4),w=m.domains[S]=new Array(4);b=a.getFromId(v,u._diag[o][0]),b&&(M[0]=b._rl[0],M[2]=b._rl[1],w[0]=b.domain[0],w[2]=b.domain[1]),h=a.getFromId(v,u._diag[o][1]),h&&(M[1]=h._rl[0],M[3]=h._rl[1],w[1]=h.domain[0],w[3]=h.domain[1])}var i=v._context.plotGlPixelRatio,C=r.l*i,y=r.b*i,_=r.w*i,I=r.h*i;m.viewport=[C,y,_+C,I+y],s.matrix===!0&&(s.matrix=g(x));var N=t.clickmode.indexOf("select")>-1,k=L(c)||!!u.selectedpoints||N,O=!0;if(k){var z=u._length;if(u.selectedpoints){s.selectBatch=u.selectedpoints;var F=u.selectedpoints,B={};for(o=0;o<F.length;o++)B[F[o]]=!0;var G=[];for(o=0;o<z;o++)B[o]||G.push(o);s.unselectBatch=G}var Q=n.xpx=new Array(E),ee=n.ypx=new Array(E);for(S=0;S<A.length;S++){if(o=A[S],b=a.getFromId(v,u._diag[o][0]),b)for(Q[S]=new Array(z),p=0;p<z;p++)Q[S][p]=b.c2p(l[S][p]);if(h=a.getFromId(v,u._diag[o][1]),h)for(ee[S]=new Array(z),p=0;p<z;p++)ee[S][p]=h.c2p(l[S][p])}if(s.selectBatch.length||s.unselectBatch.length){var ae=P.extendFlat({},f,s.unselectedOptions,m),fe=P.extendFlat({},f,s.selectedOptions,m);s.matrix.update(ae,fe),O=!1}}else n.xpx=n.ypx=null;if(O){var K=P.extendFlat({},f,m);s.matrix.update(K,null)}}}},10164:function(H,U,e){var g=e(71828);H.exports=function(a,L){var T=a._fullLayout,v=L.uid,d=T._splomScenes;d||(d=T._splomScenes={});var t={dirty:!0,selectBatch:[],unselectBatch:[]},r={matrix:!1,selectBatch:[],unselectBatch:[]},u=d[L.uid];return u||(u=d[v]=g.extendFlat({},t,r),u.draw=function(){u.matrix&&u.matrix.draw&&(u.selectBatch.length||u.unselectBatch.length?u.matrix.draw(u.unselectBatch,u.selectBatch):u.matrix.draw()),u.dirty=!1},u.destroy=function(){u.matrix&&u.matrix.destroy&&u.matrix.destroy(),u.matrixOptions=null,u.selectBatch=null,u.unselectBatch=null,u=null}),u.dirty||g.extendFlat(u,t),u}},8689:function(H,U,e){var g=e(71828),P=g.pushUnique,a=e(34098),L=e(35948);H.exports=function(v,d){var t=v.cd,r=t[0].trace,u=t[0].t,n=v.scene,s=n.matrixOptions.cdata,f=v.xaxis,l=v.yaxis,x=[];if(!n)return x;var c=!a.hasMarkers(r)&&!a.hasText(r);if(r.visible!==!0||c)return x;var b=L.getDimIndex(r,f),h=L.getDimIndex(r,l);if(b===!1||h===!1)return x;var o=u.xpx[b],p=u.ypx[h],S=s[b],A=s[h],E=(v.scene.selectBatch||[]).slice(),m=[];if(d!==!1&&!d.degenerate)for(var M=0;M<S.length;M++)d.contains([o[M],p[M]],null,M,v)?(x.push({pointNumber:M,x:S[M],y:A[M]}),P(E,M)):E.indexOf(M)!==-1?P(E,M):m.push(M);var w=n.matrixOptions;return!E.length&&!m.length?n.matrix.update(w,null):!n.selectBatch.length&&!n.unselectBatch.length&&n.matrix.update(n.unselectedOptions,g.extendFlat({},w,n.selectedOptions,n.viewOpts)),n.selectBatch=E,n.unselectBatch=m,x}},21850:function(H,U,e){var g=e(50693),P=e(12663).axisHoverFormat,a=e(5386).fF,L=e(2418),T=e(9012),v=e(1426).extendFlat,d={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:P("u",1),vhoverformat:P("v",1),whoverformat:P("w",1),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),showlegend:v({},T.showlegend,{dflt:!1})};v(d,g("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var t=["opacity","lightposition","lighting"];t.forEach(function(r){d[r]=L[r]}),d.hoverinfo=v({},T.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),d.transforms=void 0,H.exports=d},88489:function(H,U,e){var g=e(71828),P=e(78803);function a(d,t){t._len=Math.min(t.u.length,t.v.length,t.w.length,t.x.length,t.y.length,t.z.length),t._u=v(t.u,t._len),t._v=v(t.v,t._len),t._w=v(t.w,t._len),t._x=v(t.x,t._len),t._y=v(t.y,t._len),t._z=v(t.z,t._len);var r=L(t);t._gridFill=r.fill,t._Xs=r.Xs,t._Ys=r.Ys,t._Zs=r.Zs,t._len=r.len;var u=0,n,s,f;t.starts&&(n=v(t.starts.x||[]),s=v(t.starts.y||[]),f=v(t.starts.z||[]),u=Math.min(n.length,s.length,f.length)),t._startsX=n||[],t._startsY=s||[],t._startsZ=f||[];var l=0,x=1/0,c;for(c=0;c<t._len;c++){var b=t._u[c],h=t._v[c],o=t._w[c],p=Math.sqrt(b*b+h*h+o*o);l=Math.max(l,p),x=Math.min(x,p)}for(P(d,t,{vals:[x,l],containerStr:"",cLetter:"c"}),c=0;c<u;c++){var S=n[c];r.xMax=Math.max(r.xMax,S),r.xMin=Math.min(r.xMin,S);var A=s[c];r.yMax=Math.max(r.yMax,A),r.yMin=Math.min(r.yMin,A);var E=f[c];r.zMax=Math.max(r.zMax,E),r.zMin=Math.min(r.zMin,E)}t._slen=u,t._normMax=l,t._xbnds=[r.xMin,r.xMax],t._ybnds=[r.yMin,r.yMax],t._zbnds=[r.zMin,r.zMax]}function L(d){var t=d._x,r=d._y,u=d._z,n=d._len,s,f,l,x=-1/0,c=1/0,b=-1/0,h=1/0,o=-1/0,p=1/0,S="",A,E,m,M,w,i,C,y,_;for(n&&(M=t[0],i=r[0],y=u[0]),n>1&&(w=t[n-1],C=r[n-1],_=u[n-1]),s=0;s<n;s++)x=Math.max(x,t[s]),c=Math.min(c,t[s]),b=Math.max(b,r[s]),h=Math.min(h,r[s]),o=Math.max(o,u[s]),p=Math.min(p,u[s]),!A&&t[s]!==M&&(A=!0,S+="x"),!E&&r[s]!==i&&(E=!0,S+="y"),!m&&u[s]!==y&&(m=!0,S+="z");A||(S+="x"),E||(S+="y"),m||(S+="z");var I=T(d._x),N=T(d._y),k=T(d._z);S=S.replace("x",(M>w?"-":"+")+"x"),S=S.replace("y",(i>C?"-":"+")+"y"),S=S.replace("z",(y>_?"-":"+")+"z");var O=function(){n=0,I=[],N=[],k=[]};(!n||n<I.length*N.length*k.length)&&O();var z=function(ue){return ue==="x"?t:ue==="y"?r:u},F=function(ue){return ue==="x"?I:ue==="y"?N:k},B=function(ue){return ue[n-1]<ue[0]?-1:1},G=z(S[1]),Q=z(S[3]),ee=z(S[5]),ae=F(S[1]).length,fe=F(S[3]).length,K=F(S[5]).length,W=!1,Z=function(ue,ge,we){return ae*(fe*ue+ge)+we},X=B(z(S[1])),$=B(z(S[3])),ie=B(z(S[5]));for(s=0;s<K-1;s++){for(f=0;f<fe-1;f++){for(l=0;l<ae-1;l++){var J=Z(s,f,l),j=Z(s,f,l+1),se=Z(s,f+1,l),ne=Z(s+1,f,l);if((!(G[J]*X<G[j]*X)||!(Q[J]*$<Q[se]*$)||!(ee[J]*ie<ee[ne]*ie))&&(W=!0),W)break}if(W)break}if(W)break}return W&&(g.warn("Encountered arbitrary coordinates! Unable to input data grid."),O()),{xMin:c,yMin:h,zMin:p,xMax:x,yMax:b,zMax:o,Xs:I,Ys:N,Zs:k,len:n,fill:S}}function T(d){return g.distinctVals(d).vals}function v(d,t){if(t===void 0&&(t=d.length),g.isTypedArray(d))return d.subarray(0,t);for(var r=[],u=0;u<t;u++)r[u]=+d[u];return r}H.exports={calc:a,filter:v,processGrid:L}},90154:function(H,U,e){var g=e(9330).gl_streamtube3d,P=g.createTubeMesh,a=e(71828),L=e(81697).parseColorScale,T=e(21081).extractOpts,v=e(90060),d={xaxis:0,yaxis:1,zaxis:2};function t(l,x){this.scene=l,this.uid=x,this.mesh=null,this.data=null}var r=t.prototype;r.handlePick=function(l){var x=this.scene.fullSceneLayout,c=this.scene.dataScale;function b(p,S){var A=x[S],E=c[d[S]];return A.l2c(p)/E}if(l.object===this.mesh){var h=l.data.position,o=l.data.velocity;return l.traceCoordinate=[b(h[0],"xaxis"),b(h[1],"yaxis"),b(h[2],"zaxis"),b(o[0],"xaxis"),b(o[1],"yaxis"),b(o[2],"zaxis"),l.data.intensity*this.data._normMax,l.data.divergence],l.textLabel=this.data.hovertext||this.data.text,!0}};function u(l){var x=l.length,c;return x>2?c=l.slice(1,x-1):x===2?c=[(l[0]+l[1])/2]:c=l,c}function n(l){var x=l.length;return x===1?[.5,.5]:[l[1]-l[0],l[x-1]-l[x-2]]}function s(l,x){var c=l.fullSceneLayout,b=l.dataScale,h=x._len,o={};function p(fe,K){var W=c[K],Z=b[d[K]];return a.simpleMap(fe,function(X){return W.d2l(X)*Z})}if(o.vectors=v(p(x._u,"xaxis"),p(x._v,"yaxis"),p(x._w,"zaxis"),h),!h)return{positions:[],cells:[]};var S=p(x._Xs,"xaxis"),A=p(x._Ys,"yaxis"),E=p(x._Zs,"zaxis");o.meshgrid=[S,A,E],o.gridFill=x._gridFill;var m=x._slen;if(m)o.startingPositions=v(p(x._startsX,"xaxis"),p(x._startsY,"yaxis"),p(x._startsZ,"zaxis"));else{for(var M=A[0],w=u(S),i=u(E),C=new Array(w.length*i.length),y=0,_=0;_<w.length;_++)for(var I=0;I<i.length;I++)C[y++]=[w[_],M,i[I]];o.startingPositions=C}o.colormap=L(x),o.tubeSize=x.sizeref,o.maxLength=x.maxdisplayed;var N=p(x._xbnds,"xaxis"),k=p(x._ybnds,"yaxis"),O=p(x._zbnds,"zaxis"),z=n(S),F=n(A),B=n(E),G=[[N[0]-z[0],k[0]-F[0],O[0]-B[0]],[N[1]+z[1],k[1]+F[1],O[1]+B[1]]],Q=g(o,G),ee=T(x);Q.vertexIntensityBounds=[ee.min/x._normMax,ee.max/x._normMax];var ae=x.lightposition;return Q.lightPosition=[ae.x,ae.y,ae.z],Q.ambient=x.lighting.ambient,Q.diffuse=x.lighting.diffuse,Q.specular=x.lighting.specular,Q.roughness=x.lighting.roughness,Q.fresnel=x.lighting.fresnel,Q.opacity=x.opacity,x._pad=Q.tubeScale*x.sizeref*2,Q}r.update=function(l){this.data=l;var x=s(this.scene,l);this.mesh.update(x)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function f(l,x){var c=l.glplot.gl,b=s(l,x),h=P(c,b),o=new t(l,x.uid);return o.mesh=h,o.data=x,h._trace=o,l.glplot.add(h),o}H.exports=f},22459:function(H,U,e){var g=e(71828),P=e(1586),a=e(21850);H.exports=function(T,v,d,t){function r(c,b){return g.coerce(T,v,a,c,b)}var u=r("u"),n=r("v"),s=r("w"),f=r("x"),l=r("y"),x=r("z");if(!u||!u.length||!n||!n.length||!s||!s.length||!f||!f.length||!l||!l.length||!x||!x.length){v.visible=!1;return}r("starts.x"),r("starts.y"),r("starts.z"),r("maxdisplayed"),r("sizeref"),r("lighting.ambient"),r("lighting.diffuse"),r("lighting.specular"),r("lighting.roughness"),r("lighting.fresnel"),r("lightposition.x"),r("lightposition.y"),r("lightposition.z"),P(T,v,t,r,{prefix:"",cLetter:"c"}),r("text"),r("hovertext"),r("hovertemplate"),r("uhoverformat"),r("vhoverformat"),r("whoverformat"),r("xhoverformat"),r("yhoverformat"),r("zhoverformat"),v._length=null}},61510:function(H,U,e){H.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(21850),supplyDefaults:e(22459),colorbar:{min:"cmin",max:"cmax"},calc:e(88489).calc,plot:e(90154),eventData:function(g,P){return g.tubex=g.x,g.tubey=g.y,g.tubez=g.z,g.tubeu=P.traceCoordinate[3],g.tubev=P.traceCoordinate[4],g.tubew=P.traceCoordinate[5],g.norm=P.traceCoordinate[6],g.divergence=P.traceCoordinate[7],delete g.x,delete g.y,delete g.z,g},meta:{}}},57564:function(H,U,e){var g=e(9012),P=e(5386).fF,a=e(5386).si,L=e(50693),T=e(27670).Y,v=e(34e3),d=e(7055),t=e(1426).extendFlat,r=e(79952).u;H.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:t({colors:{valType:"data_array",editType:"calc"},line:{color:t({},v.marker.line.color,{dflt:null}),width:t({},v.marker.line.width,{dflt:1}),editType:"calc"},pattern:r,editType:"calc"},L("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:v.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:a({editType:"plot"},{keys:d.eventDataKeys.concat(["label","value"])}),hovertext:v.hovertext,hoverinfo:t({},g.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:P({},{keys:d.eventDataKeys}),textfont:v.textfont,insidetextorientation:v.insidetextorientation,insidetextfont:v.insidetextfont,outsidetextfont:t({},v.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:v.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:T({name:"sunburst",trace:!0,editType:"calc"})}},66888:function(H,U,e){var g=e(74875);U.name="sunburst",U.plot=function(P,a,L,T){g.plotBasePlot(U.name,P,a,L,T)},U.clean=function(P,a,L,T){g.cleanBasePlot(U.name,P,a,L,T)}},52147:function(H,U,e){var g=e(674),P=e(92770),a=e(71828),L=e(21081).makeColorScaleFuncFromTrace,T=e(32354).makePullColorFn,v=e(32354).generateExtendedColors,d=e(21081).calc,t=e(50606).ALMOST_EQUAL,r={},u={},n={};U.calc=function(f,l){var x=f._fullLayout,c=l.ids,b=a.isArrayOrTypedArray(c),h=l.labels,o=l.parents,p=l.values,S=a.isArrayOrTypedArray(p),A=[],E={},m={},M=function(X,$){E[X]?E[X].push($):E[X]=[$],m[$]=1},w=function(X){return X||typeof X=="number"},i=function(X){return!S||P(p[X])&&p[X]>=0},C,y,_;b?(C=Math.min(c.length,o.length),y=function(X){return w(c[X])&&i(X)},_=function(X){return String(c[X])}):(C=Math.min(h.length,o.length),y=function(X){return w(h[X])&&i(X)},_=function(X){return String(h[X])}),S&&(C=Math.min(C,p.length));for(var I=0;I<C;I++)if(y(I)){var N=_(I),k=w(o[I])?String(o[I]):"",O={i:I,id:N,pid:k,label:w(h[I])?String(h[I]):""};S&&(O.v=+p[I]),A.push(O),M(k,N)}if(E[""]){if(E[""].length>1){for(var B=a.randstr(),G=0;G<A.length;G++)A[G].pid===""&&(A[G].pid=B);A.unshift({hasMultipleRoots:!0,id:B,pid:"",label:""})}}else{var z=[],F;for(F in E)m[F]||z.push(F);if(z.length===1)F=z[0],A.unshift({hasImpliedRoot:!0,id:F,pid:"",label:F});else return a.warn(["Multiple implied roots, cannot build",l.type,"hierarchy of",l.name+".","These roots include:",z.join(", ")].join(" "))}var Q;try{Q=g.stratify().id(function(X){return X.id}).parentId(function(X){return X.pid})(A)}catch(X){return a.warn(["Failed to build",l.type,"hierarchy of",l.name+".","Error:",X.message].join(" "))}var ee=g.hierarchy(Q),ae=!1;if(S)switch(l.branchvalues){case"remainder":ee.sum(function(X){return X.data.v});break;case"total":ee.each(function(X){var $=X.data.data,ie=$.v;if(X.children){var J=X.children.reduce(function(j,se){return j+se.data.data.v},0);if(($.hasImpliedRoot||$.hasMultipleRoots)&&(ie=J),ie<J*t)return ae=!0,a.warn(["Total value for node",X.data.data.id,"of",l.name,"is smaller than the sum of its children.",`
parent value =`,ie,`
children sum =`,J].join(" "))}X.value=ie});break}else s(ee,l,{branches:l.count.indexOf("branches")!==-1,leaves:l.count.indexOf("leaves")!==-1});if(!ae){l.sort&&ee.sort(function(X,$){return $.value-X.value});var fe,K,W=l.marker.colors||[],Z=!!W.length;return l._hasColorscale?(Z||(W=S?l.values:l._values),d(f,l,{vals:W,containerStr:"marker",cLetter:"c"}),K=L(l.marker)):fe=T(x["_"+l.type+"colormap"]),ee.each(function(X){var $=X.data.data;$.color=l._hasColorscale?K(W[$.i]):fe(W[$.i],$.id)}),A[0].hierarchy=ee,A}},U._runCrossTraceCalc=function(f,l){var x=l._fullLayout,c=l.calcdata,b=x[f+"colorway"],h=x["_"+f+"colormap"];x["extend"+f+"colors"]&&(b=v(b,f==="icicle"?n:f==="treemap"?u:r));var o=0,p;function S(M){var w=M.data.data,i=w.id;w.color===!1&&(h[i]?w.color=h[i]:M.parent?M.parent.parent?w.color=M.parent.data.data.color:(h[i]=w.color=b[o%b.length],o++):w.color=p)}for(var A=0;A<c.length;A++){var E=c[A],m=E[0];m.trace.type===f&&m.hierarchy&&(p=m.trace.root.color,m.hierarchy.each(S))}},U.crossTraceCalc=function(f){return U._runCrossTraceCalc("sunburst",f)};function s(f,l,x){var c=0,b=f.children;if(b){for(var h=b.length,o=0;o<h;o++)c+=s(b[o],l,x);x.branches&&c++}else x.leaves&&c++;return f.value=f.data.data.value=c,l._values||(l._values=[]),l._values[f.data.data.i]=c,c}},7055:function(H){H.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},17094:function(H,U,e){var g=e(71828),P=e(57564),a=e(27670).c,L=e(90769).handleText,T=e(37434).handleMarkerDefaults,v=e(21081),d=v.hasColorscale,t=v.handleDefaults;H.exports=function(u,n,s,f){function l(S,A){return g.coerce(u,n,P,S,A)}var x=l("labels"),c=l("parents");if(!x||!x.length||!c||!c.length){n.visible=!1;return}var b=l("values");b&&b.length?l("branchvalues"):l("count"),l("level"),l("maxdepth"),T(u,n,f,l);var h=n._hasColorscale=d(u,"marker","colors")||(u.marker||{}).coloraxis;h&&t(u,n,f,l,{prefix:"marker.",cLetter:"c"}),l("leaf.opacity",h?1:.7);var o=l("text");l("texttemplate"),n.texttemplate||l("textinfo",Array.isArray(o)?"text+label":"label"),l("hovertext"),l("hovertemplate");var p="auto";L(u,n,f,l,p,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),l("insidetextorientation"),l("sort"),l("rotation"),l("root.color"),a(n,f,l),n._length=null}},43467:function(H,U,e){var g=e(91424),P=e(7901);H.exports=function(L,T,v,d,t){var r=T.data.data,u=r.i,n=t||r.color;if(u>=0){T.i=r.i;var s=v.marker;s.pattern?(!s.colors||!s.pattern.shape)&&(s.color=n,T.color=n):(s.color=n,T.color=n),g.pointStyle(L,v,d,T)}else P.fill(L,n)}},83523:function(H,U,e){var g=e(39898),P=e(73972),a=e(23469).appendArrayPointValue,L=e(30211),T=e(71828),v=e(11086),d=e(2791),t=e(53581),r=t.formatPieValue;H.exports=function(s,f,l,x,c){var b=x[0],h=b.trace,o=b.hierarchy,p=h.type==="sunburst",S=h.type==="treemap"||h.type==="icicle";"_hasHoverLabel"in h||(h._hasHoverLabel=!1),"_hasHoverEvent"in h||(h._hasHoverEvent=!1);var A=function(M){var w=l._fullLayout;if(!(l._dragging||w.hovermode===!1)){var i=l._fullData[h.index],C=M.data.data,y=C.i,_=d.isHierarchyRoot(M),I=d.getParent(o,M),N=d.getValue(M),k=function(j){return T.castOption(i,y,j)},O=k("hovertemplate"),z=L.castHoverinfo(i,w,y),F=w.separators,B;if(O||z&&z!=="none"&&z!=="skip"){var G,Q;p&&(G=b.cx+M.pxmid[0]*(1-M.rInscribed),Q=b.cy+M.pxmid[1]*(1-M.rInscribed)),S&&(G=M._hoverX,Q=M._hoverY);var ee={},ae=[],fe=[],K=function(j){return ae.indexOf(j)!==-1};z&&(ae=z==="all"?i._module.attributes.hoverinfo.flags:z.split("+")),ee.label=C.label,K("label")&&ee.label&&fe.push(ee.label),C.hasOwnProperty("v")&&(ee.value=C.v,ee.valueLabel=r(ee.value,F),K("value")&&fe.push(ee.valueLabel)),ee.currentPath=M.currentPath=d.getPath(M.data),K("current path")&&!_&&fe.push(ee.currentPath);var W,Z=[],X=function(){Z.indexOf(W)===-1&&(fe.push(W),Z.push(W))};ee.percentParent=M.percentParent=N/d.getValue(I),ee.parent=M.parentString=d.getPtLabel(I),K("percent parent")&&(W=d.formatPercent(ee.percentParent,F)+" of "+ee.parent,X()),ee.percentEntry=M.percentEntry=N/d.getValue(f),ee.entry=M.entry=d.getPtLabel(f),K("percent entry")&&!_&&!M.onPathbar&&(W=d.formatPercent(ee.percentEntry,F)+" of "+ee.entry,X()),ee.percentRoot=M.percentRoot=N/d.getValue(o),ee.root=M.root=d.getPtLabel(o),K("percent root")&&!_&&(W=d.formatPercent(ee.percentRoot,F)+" of "+ee.root,X()),ee.text=k("hovertext")||k("text"),K("text")&&(W=ee.text,T.isValidTextValue(W)&&fe.push(W)),B=[u(M,i,c.eventDataKeys)];var $={trace:i,y:Q,_x0:M._x0,_x1:M._x1,_y0:M._y0,_y1:M._y1,text:fe.join("<br>"),name:O||K("name")?i.name:void 0,color:k("hoverlabel.bgcolor")||C.color,borderColor:k("hoverlabel.bordercolor"),fontFamily:k("hoverlabel.font.family"),fontSize:k("hoverlabel.font.size"),fontColor:k("hoverlabel.font.color"),nameLength:k("hoverlabel.namelength"),textAlign:k("hoverlabel.align"),hovertemplate:O,hovertemplateLabels:ee,eventData:B};p&&($.x0=G-M.rInscribed*M.rpx1,$.x1=G+M.rInscribed*M.rpx1,$.idealAlign=M.pxmid[0]<0?"left":"right"),S&&($.x=G,$.idealAlign=G<0?"left":"right");var ie=[];L.loneHover($,{container:w._hoverlayer.node(),outerContainer:w._paper.node(),gd:l,inOut_bbox:ie}),B[0].bbox=ie[0],h._hasHoverLabel=!0}if(S){var J=s.select("path.surface");c.styleOne(J,M,i,l,{hovered:!0})}h._hasHoverEvent=!0,l.emit("plotly_hover",{points:B||[u(M,i,c.eventDataKeys)],event:g.event})}},E=function(M){var w=l._fullLayout,i=l._fullData[h.index],C=g.select(this).datum();if(h._hasHoverEvent&&(M.originalEvent=g.event,l.emit("plotly_unhover",{points:[u(C,i,c.eventDataKeys)],event:g.event}),h._hasHoverEvent=!1),h._hasHoverLabel&&(L.loneUnhover(w._hoverlayer.node()),h._hasHoverLabel=!1),S){var y=s.select("path.surface");c.styleOne(y,C,i,l,{hovered:!1})}},m=function(M){var w=l._fullLayout,i=l._fullData[h.index],C=p&&(d.isHierarchyRoot(M)||d.isLeaf(M)),y=d.getPtId(M),_=d.isEntry(M)?d.findEntryWithChild(o,y):d.findEntryWithLevel(o,y),I=d.getPtId(_),N={points:[u(M,i,c.eventDataKeys)],event:g.event};C||(N.nextLevel=I);var k=v.triggerHandler(l,"plotly_"+h.type+"click",N);if(k!==!1&&w.hovermode&&(l._hoverdata=[u(M,i,c.eventDataKeys)],L.click(l,g.event)),!C&&k!==!1&&!l._dragging&&!l._transitioning){P.call("_storeDirectGUIEdit",i,w._tracePreGUI[i.uid],{level:i.level});var O={data:[{level:I}],traces:[h.index]},z={frame:{redraw:!1,duration:c.transitionTime},transition:{duration:c.transitionTime,easing:c.transitionEasing},mode:"immediate",fromcurrent:!0};L.loneUnhover(w._hoverlayer.node()),P.call("animate",l,O,z)}};s.on("mouseover",A),s.on("mouseout",E),s.on("click",m)};function u(n,s,f){for(var l=n.data.data,x={curveNumber:s.index,pointNumber:l.i,data:s._input,fullData:s},c=0;c<f.length;c++){var b=f[c];b in n&&(x[b]=n[b])}return"parentString"in n&&!d.isHierarchyRoot(n)&&(x.parent=n.parentString),a(x,s,l.i),x}},2791:function(H,U,e){var g=e(71828),P=e(7901),a=e(6964),L=e(53581);U.findEntryWithLevel=function(t,r){var u;return r&&t.eachAfter(function(n){if(U.getPtId(n)===r)return u=n.copy()}),u||t},U.findEntryWithChild=function(t,r){var u;return t.eachAfter(function(n){for(var s=n.children||[],f=0;f<s.length;f++){var l=s[f];if(U.getPtId(l)===r)return u=n.copy()}}),u||t},U.isEntry=function(t){return!t.parent},U.isLeaf=function(t){return!t.children},U.getPtId=function(t){return t.data.data.id},U.getPtLabel=function(t){return t.data.data.label},U.getValue=function(t){return t.value},U.isHierarchyRoot=function(t){return d(t)===""},U.setSliceCursor=function(t,r,u){var n=u.isTransitioning;if(!n){var s=t.datum();n=u.hideOnRoot&&U.isHierarchyRoot(s)||u.hideOnLeaves&&U.isLeaf(s)}a(t,n?null:"pointer")};function T(t,r,u){return{color:U.getOutsideTextFontKey("color",t,r,u),family:U.getOutsideTextFontKey("family",t,r,u),size:U.getOutsideTextFontKey("size",t,r,u)}}function v(t,r,u,n){var s=(n||{}).onPathbar,f=r.data.data,l=f.i,x=g.castOption(t,l,(s?"pathbar.textfont":"insidetextfont")+".color");return!x&&t._input.textfont&&(x=g.castOption(t._input,l,"textfont.color")),{color:x||P.contrast(f.color),family:U.getInsideTextFontKey("family",t,r,u,n),size:U.getInsideTextFontKey("size",t,r,u,n)}}U.getInsideTextFontKey=function(t,r,u,n,s){var f=(s||{}).onPathbar,l=f?"pathbar.textfont":"insidetextfont",x=u.data.data.i;return g.castOption(r,x,l+"."+t)||g.castOption(r,x,"textfont."+t)||n.size},U.getOutsideTextFontKey=function(t,r,u,n){var s=u.data.data.i;return g.castOption(r,s,"outsidetextfont."+t)||g.castOption(r,s,"textfont."+t)||n.size},U.isOutsideText=function(t,r){return!t._hasColorscale&&U.isHierarchyRoot(r)},U.determineTextFont=function(t,r,u,n){return U.isOutsideText(t,r)?T(t,r,u):v(t,r,u,n)},U.hasTransition=function(t){return!!(t&&t.duration>0)},U.getMaxDepth=function(t){return t.maxdepth>=0?t.maxdepth:1/0},U.isHeader=function(t,r){return!(U.isLeaf(t)||t.depth===r._maxDepth-1)};function d(t){return t.data.data.pid}U.getParent=function(t,r){return U.findEntryWithLevel(t,d(r))},U.listPath=function(t,r){var u=t.parent;if(!u)return[];var n=r?[u.data[r]]:[u];return U.listPath(u,r).concat(n)},U.getPath=function(t){return U.listPath(t,"label").join("/")+"/"},U.formatValue=L.formatPieValue,U.formatPercent=function(t,r){var u=g.formatPercent(t,0);return u==="0%"&&(u=L.formatPiePercent(t,r)),u}},87619:function(H,U,e){H.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(66888),categories:[],animatable:!0,attributes:e(57564),layoutAttributes:e(2654),supplyDefaults:e(17094),supplyLayoutDefaults:e(57034),calc:e(52147).calc,crossTraceCalc:e(52147).crossTraceCalc,plot:e(24714).plot,style:e(29969).style,colorbar:e(4898),meta:{}}},2654:function(H){H.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57034:function(H,U,e){var g=e(71828),P=e(2654);H.exports=function(L,T){function v(d,t){return g.coerce(L,T,P,d,t)}v("sunburstcolorway",T.colorway),v("extendsunburstcolors")}},24714:function(H,U,e){var g=e(39898),P=e(674),a=e(81684).sX,L=e(91424),T=e(71828),v=e(63893),d=e(72597),t=d.recordMinTextSize,r=d.clearMinTextSize,u=e(14575),n=e(53581).getRotationAngle,s=u.computeTransform,f=u.transformInsideText,l=e(29969).styleOne,x=e(16688).resizeText,c=e(83523),b=e(7055),h=e(2791);U.plot=function(m,M,w,i){var C=m._fullLayout,y=C._sunburstlayer,_,I,N=!w,k=!C.uniformtext.mode&&h.hasTransition(w);if(r("sunburst",C),_=y.selectAll("g.trace.sunburst").data(M,function(z){return z[0].trace.uid}),_.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),_.order(),k){i&&(I=i());var O=g.transition().duration(w.duration).ease(w.easing).each("end",function(){I&&I()}).each("interrupt",function(){I&&I()});O.each(function(){y.selectAll("g.trace").each(function(z){o(m,z,this,w)})})}else _.each(function(z){o(m,z,this,w)}),C.uniformtext.mode&&x(m,C._sunburstlayer.selectAll(".trace"),"sunburst");N&&_.exit().remove()};function o(m,M,w,i){var C=m._context.staticPlot,y=m._fullLayout,_=!y.uniformtext.mode&&h.hasTransition(i),I=g.select(w),N=I.selectAll("g.slice"),k=M[0],O=k.trace,z=k.hierarchy,F=h.findEntryWithLevel(z,O.level),B=h.getMaxDepth(O),G=y._size,Q=O.domain,ee=G.w*(Q.x[1]-Q.x[0]),ae=G.h*(Q.y[1]-Q.y[0]),fe=.5*Math.min(ee,ae),K=k.cx=G.l+G.w*(Q.x[1]+Q.x[0])/2,W=k.cy=G.t+G.h*(1-Q.y[0])-ae/2;if(!F)return N.remove();var Z=null,X={};_&&N.each(function(Ve){X[h.getPtId(Ve)]={rpx0:Ve.rpx0,rpx1:Ve.rpx1,x0:Ve.x0,x1:Ve.x1,transform:Ve.transform},!Z&&h.isEntry(Ve)&&(Z=Ve)});var $=p(F).descendants(),ie=F.height+1,J=0,j=B;k.hasMultipleRoots&&h.isHierarchyRoot(F)&&($=$.slice(1),ie-=1,J=1,j+=1),$=$.filter(function(Ve){return Ve.y1<=j});var se=n(O.rotation);se&&$.forEach(function(Ve){Ve.x0+=se,Ve.x1+=se});var ne=Math.min(ie,B),ue=function(Ve){return(Ve-J)/ne*fe},ge=function(Ve,rt){return[Ve*Math.cos(rt),-Ve*Math.sin(rt)]},we=function(Ve){return T.pathAnnulus(Ve.rpx0,Ve.rpx1,Ve.x0,Ve.x1,K,W)},xe=function(Ve){return K+A(Ve)[0]*(Ve.transform.rCenter||0)+(Ve.transform.x||0)},Fe=function(Ve){return W+A(Ve)[1]*(Ve.transform.rCenter||0)+(Ve.transform.y||0)};N=N.data($,h.getPtId),N.enter().append("g").classed("slice",!0),_?N.exit().transition().each(function(){var Ve=g.select(this),rt=Ve.select("path.surface");rt.transition().attrTween("d",function(Je){var qe=Ae(Je);return function(dt){return we(qe(dt))}});var Qe=Ve.select("g.slicetext");Qe.attr("opacity",0)}).remove():N.exit().remove(),N.order();var ze=null;if(_&&Z){var Te=h.getPtId(Z);N.each(function(Ve){ze===null&&h.getPtId(Ve)===Te&&(ze=Ve.x1)})}var ye=N;_&&(ye=ye.transition().each("end",function(){var Ve=g.select(this);h.setSliceCursor(Ve,m,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),ye.each(function(Ve){var rt=g.select(this),Qe=T.ensureSingle(rt,"path","surface",function(Ct){Ct.style("pointer-events",C?"none":"all")});Ve.rpx0=ue(Ve.y0),Ve.rpx1=ue(Ve.y1),Ve.xmid=(Ve.x0+Ve.x1)/2,Ve.pxmid=ge(Ve.rpx1,Ve.xmid),Ve.midangle=-(Ve.xmid-Math.PI/2),Ve.startangle=-(Ve.x0-Math.PI/2),Ve.stopangle=-(Ve.x1-Math.PI/2),Ve.halfangle=.5*Math.min(T.angleDelta(Ve.x0,Ve.x1)||Math.PI,Math.PI),Ve.ring=1-Ve.rpx0/Ve.rpx1,Ve.rInscribed=S(Ve),_?Qe.transition().attrTween("d",function(Ct){var Rt=Ne(Ct);return function(Zt){return we(Rt(Zt))}}):Qe.attr("d",we),rt.call(c,F,m,M,{eventDataKeys:b.eventDataKeys,transitionTime:b.CLICK_TRANSITION_TIME,transitionEasing:b.CLICK_TRANSITION_EASING}).call(h.setSliceCursor,m,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:m._transitioning}),Qe.call(l,Ve,O,m);var Je=T.ensureSingle(rt,"g","slicetext"),qe=T.ensureSingle(Je,"text","",function(Ct){Ct.attr("data-notex",1)}),dt=T.ensureUniformFontSize(m,h.determineTextFont(O,Ve,y.font));qe.text(U.formatSliceLabel(Ve,F,O,M,y)).classed("slicetext",!0).attr("text-anchor","middle").call(L.font,dt).call(v.convertToTspans,m);var pt=L.bBox(qe.node());Ve.transform=f(pt,Ve,k),Ve.transform.targetX=xe(Ve),Ve.transform.targetY=Fe(Ve);var mt=function(Ct,Rt){var Zt=Ct.transform;return s(Zt,Rt),Zt.fontSize=dt.size,t(O.type,Zt,y),T.getTextTransform(Zt)};_?qe.transition().attrTween("transform",function(Ct){var Rt=Ue(Ct);return function(Zt){return mt(Rt(Zt),pt)}}):qe.attr("transform",mt(Ve,pt))});function Ae(Ve){var rt=h.getPtId(Ve),Qe=X[rt],Je=X[h.getPtId(F)],qe;if(Je){var dt=(Ve.x1>Je.x1?2*Math.PI:0)+se;qe=Ve.rpx1<Je.rpx1?{x0:Ve.x0,x1:Ve.x1,rpx0:0,rpx1:0}:{x0:dt,x1:dt,rpx0:Ve.rpx0,rpx1:Ve.rpx1}}else{var pt,mt=h.getPtId(Ve.parent);N.each(function(Le){if(h.getPtId(Le)===mt)return pt=Le});var Ct=pt.children,Rt;Ct.forEach(function(Le,Pe){if(h.getPtId(Le)===rt)return Rt=Pe});var Zt=Ct.length,Xe=a(pt.x0,pt.x1);qe={rpx0:fe,rpx1:fe,x0:Xe(Rt/Zt),x1:Xe((Rt+1)/Zt)}}return a(Qe,qe)}function Ne(Ve){var rt=X[h.getPtId(Ve)],Qe,Je={x0:Ve.x0,x1:Ve.x1,rpx0:Ve.rpx0,rpx1:Ve.rpx1};if(rt)Qe=rt;else if(Z)if(Ve.parent)if(ze){var qe=(Ve.x1>ze?2*Math.PI:0)+se;Qe={x0:qe,x1:qe}}else Qe={rpx0:fe,rpx1:fe},T.extendFlat(Qe,Re(Ve));else Qe={rpx0:0,rpx1:0};else Qe={x0:se,x1:se};return a(Qe,Je)}function Ue(Ve){var rt=X[h.getPtId(Ve)],Qe,Je=Ve.transform;if(rt)Qe=rt;else if(Qe={rpx1:Ve.rpx1,transform:{textPosAngle:Je.textPosAngle,scale:0,rotate:Je.rotate,rCenter:Je.rCenter,x:Je.x,y:Je.y}},Z)if(Ve.parent)if(ze){var qe=Ve.x1>ze?2*Math.PI:0;Qe.x0=Qe.x1=qe}else T.extendFlat(Qe,Re(Ve));else Qe.x0=Qe.x1=se;else Qe.x0=Qe.x1=se;var dt=a(Qe.transform.textPosAngle,Ve.transform.textPosAngle),pt=a(Qe.rpx1,Ve.rpx1),mt=a(Qe.x0,Ve.x0),Ct=a(Qe.x1,Ve.x1),Rt=a(Qe.transform.scale,Je.scale),Zt=a(Qe.transform.rotate,Je.rotate),Xe=Je.rCenter===0?3:Qe.transform.rCenter===0?1/3:1,Le=a(Qe.transform.rCenter,Je.rCenter),Pe=function(ke){return Le(Math.pow(ke,Xe))};return function(ke){var Ce=pt(ke),me=mt(ke),oe=Ct(ke),pe=Pe(ke),Me=ge(Ce,(me+oe)/2),_e=dt(ke),tt={pxmid:Me,rpx1:Ce,transform:{textPosAngle:_e,rCenter:pe,x:Je.x,y:Je.y}};return t(O.type,Je,y),{transform:{targetX:xe(tt),targetY:Fe(tt),scale:Rt(ke),rotate:Zt(ke),rCenter:pe}}}}function Re(Ve){var rt=Ve.parent,Qe=X[h.getPtId(rt)],Je={};if(Qe){var qe=rt.children,dt=qe.indexOf(Ve),pt=qe.length,mt=a(Qe.x0,Qe.x1);Je.x0=mt(dt/pt),Je.x1=mt(dt/pt)}else Je.x0=Je.x1=0;return Je}}function p(m){return P.partition().size([2*Math.PI,m.height+1])(m)}U.formatSliceLabel=function(m,M,w,i,C){var y=w.texttemplate,_=w.textinfo;if(!y&&(!_||_==="none"))return"";var I=C.separators,N=i[0],k=m.data.data,O=N.hierarchy,z=h.isHierarchyRoot(m),F=h.getParent(O,m),B=h.getValue(m);if(!y){var G=_.split("+"),Q=function(J){return G.indexOf(J)!==-1},ee=[],ae;if(Q("label")&&k.label&&ee.push(k.label),k.hasOwnProperty("v")&&Q("value")&&ee.push(h.formatValue(k.v,I)),!z){Q("current path")&&ee.push(h.getPath(m.data));var fe=0;Q("percent parent")&&fe++,Q("percent entry")&&fe++,Q("percent root")&&fe++;var K=fe>1;if(fe){var W,Z=function(J){ae=h.formatPercent(W,I),K&&(ae+=" of "+J),ee.push(ae)};Q("percent parent")&&!z&&(W=B/h.getValue(F),Z("parent")),Q("percent entry")&&(W=B/h.getValue(M),Z("entry")),Q("percent root")&&(W=B/h.getValue(O),Z("root"))}}return Q("text")&&(ae=T.castOption(w,k.i,"text"),T.isValidTextValue(ae)&&ee.push(ae)),ee.join("<br>")}var X=T.castOption(w,k.i,"texttemplate");if(!X)return"";var $={};k.label&&($.label=k.label),k.hasOwnProperty("v")&&($.value=k.v,$.valueLabel=h.formatValue(k.v,I)),$.currentPath=h.getPath(m.data),z||($.percentParent=B/h.getValue(F),$.percentParentLabel=h.formatPercent($.percentParent,I),$.parent=h.getPtLabel(F)),$.percentEntry=B/h.getValue(M),$.percentEntryLabel=h.formatPercent($.percentEntry,I),$.entry=h.getPtLabel(M),$.percentRoot=B/h.getValue(O),$.percentRootLabel=h.formatPercent($.percentRoot,I),$.root=h.getPtLabel(O),k.hasOwnProperty("color")&&($.color=k.color);var ie=T.castOption(w,k.i,"text");return(T.isValidTextValue(ie)||ie==="")&&($.text=ie),$.customdata=T.castOption(w,k.i,"customdata"),T.texttemplateString(X,$,C._d3locale,$,w._meta||{})};function S(m){return m.rpx0===0&&T.isFullCircle([m.x0,m.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(m.halfangle)),m.ring/2))}function A(m){return E(m.rpx1,m.transform.textPosAngle)}function E(m,M){return[m*Math.sin(M),-m*Math.cos(M)]}},29969:function(H,U,e){var g=e(39898),P=e(7901),a=e(71828),L=e(72597).resizeText,T=e(43467);function v(t){var r=t._fullLayout._sunburstlayer.selectAll(".trace");L(t,r,"sunburst"),r.each(function(u){var n=g.select(this),s=u[0],f=s.trace;n.style("opacity",f.opacity),n.selectAll("path.surface").each(function(l){g.select(this).call(d,l,f,t)})})}function d(t,r,u,n){var s=r.data.data,f=!r.children,l=s.i,x=a.castOption(u,l,"marker.line.color")||P.defaultLine,c=a.castOption(u,l,"marker.line.width")||0;t.call(T,r,u,n).style("stroke-width",c).call(P.stroke,x).style("opacity",f?u.leaf.opacity:null)}H.exports={style:v,styleOne:d}},54532:function(H,U,e){var g=e(7901),P=e(50693),a=e(12663).axisHoverFormat,L=e(5386).fF,T=e(9012),v=e(1426).extendFlat,d=e(30962).overrideAll;function t(n){return{valType:"boolean",dflt:!1}}function r(n){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:t(),y:t(),z:t()},color:{valType:"color",dflt:g.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:g.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var u=H.exports=d(v({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:L(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},P("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:r(),y:r(),z:r()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:v({},P.zauto,{}),zmin:v({},P.zmin,{}),zmax:v({},P.zmax,{})},hoverinfo:v({},T.hoverinfo),showlegend:v({},T.showlegend,{dflt:!1})}),"calc","nested");u.x.editType=u.y.editType=u.z.editType="calc+clearAxisTypes",u.transforms=void 0},18396:function(H,U,e){var g=e(78803);H.exports=function(a,L){L.surfacecolor?g(a,L,{vals:L.surfacecolor,containerStr:"",cLetter:"c"}):g(a,L,{vals:L.z,containerStr:"",cLetter:"c"})}},43768:function(H,U,e){var g=e(9330).gl_surface3d,P=e(9330).ndarray,a=e(9330).ndarray_linear_interpolate.d2,L=e(824),T=e(43907),v=e(71828).isArrayOrTypedArray,d=e(81697).parseColorScale,t=e(78614),r=e(21081).extractOpts;function u(i,C,y){this.scene=i,this.uid=y,this.surface=C,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var n=u.prototype;n.getXat=function(i,C,y,_){var I=v(this.data.x)?v(this.data.x[0])?this.data.x[C][i]:this.data.x[i]:i;return y===void 0?I:_.d2l(I,0,y)},n.getYat=function(i,C,y,_){var I=v(this.data.y)?v(this.data.y[0])?this.data.y[C][i]:this.data.y[C]:C;return y===void 0?I:_.d2l(I,0,y)},n.getZat=function(i,C,y,_){var I=this.data.z[C][i];return I===null&&this.data.connectgaps&&this.data._interpolatedZ&&(I=this.data._interpolatedZ[C][i]),y===void 0?I:_.d2l(I,0,y)},n.handlePick=function(i){if(i.object===this.surface){var C=(i.data.index[0]-1)/this.dataScaleX-1,y=(i.data.index[1]-1)/this.dataScaleY-1,_=Math.max(Math.min(Math.round(C),this.data.z[0].length-1),0),I=Math.max(Math.min(Math.round(y),this.data._ylength-1),0);i.index=[_,I],i.traceCoordinate=[this.getXat(_,I),this.getYat(_,I),this.getZat(_,I)],i.dataCoordinate=[this.getXat(_,I,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(_,I,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(_,I,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var N=0;N<3;N++){var k=i.dataCoordinate[N];k!=null&&(i.dataCoordinate[N]*=this.scene.dataScale[N])}var O=this.data.hovertext||this.data.text;return Array.isArray(O)&&O[I]&&O[I][_]!==void 0?i.textLabel=O[I][_]:O?i.textLabel=O:i.textLabel="",i.data.dataCoordinate=i.dataCoordinate.slice(),this.surface.highlight(i.data),this.scene.glplot.spikes.position=i.dataCoordinate,!0}};function s(i){var C=i[0].rgb,y=i[i.length-1].rgb;return C[0]===y[0]&&C[1]===y[1]&&C[2]===y[2]&&C[3]===y[3]}var f=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function l(i,C){if(i<C)return 0;for(var y=0;Math.floor(i%C)===0;)i/=C,y++;return y}function x(i){for(var C=[],y=0;y<f.length;y++){var _=f[y];C.push(l(i,_))}return C}function c(i){for(var C=x(i),y=i,_=0;_<f.length;_++)if(C[_]>0){y=f[_];break}return y}function b(i,C){if(!(i<1||C<1)){for(var y=x(i),_=x(C),I=1,N=0;N<f.length;N++)I*=Math.pow(f[N],Math.max(y[N],_[N]));return I}}function h(i){if(i.length!==0){for(var C=1,y=0;y<i.length;y++)C=b(C,i[y]);return C}}n.calcXnums=function(i){var C,y=[];for(C=1;C<i;C++){var _=this.getXat(C-1,0),I=this.getXat(C,0);I!==_&&_!==void 0&&_!==null&&I!==void 0&&I!==null?y[C-1]=Math.abs(I-_):y[C-1]=0}var N=0;for(C=1;C<i;C++)N+=y[C-1];for(C=1;C<i;C++)y[C-1]===0?y[C-1]=1:y[C-1]=Math.round(N/y[C-1]);return y},n.calcYnums=function(i){var C,y=[];for(C=1;C<i;C++){var _=this.getYat(0,C-1),I=this.getYat(0,C);I!==_&&_!==void 0&&_!==null&&I!==void 0&&I!==null?y[C-1]=Math.abs(I-_):y[C-1]=0}var N=0;for(C=1;C<i;C++)N+=y[C-1];for(C=1;C<i;C++)y[C-1]===0?y[C-1]=1:y[C-1]=Math.round(N/y[C-1]);return y};var o=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],p=o[9],S=o[13];n.estimateScale=function(i,C){for(var y=C===0?this.calcXnums(i):this.calcYnums(i),_=1+h(y);_<p;)_*=2;for(;_>S;)_--,_/=c(_),_++,_<p&&(_=S);var I=Math.round(_/i);return I>1?I:1};function A(i,C,y){var _=y[8]+y[2]*C[0]+y[5]*C[1];return i[0]=(y[6]+y[0]*C[0]+y[3]*C[1])/_,i[1]=(y[7]+y[1]*C[0]+y[4]*C[1])/_,i}function E(i,C,y){return m(i,C,A,y),i}function m(i,C,y,_){for(var I=[0,0],N=i.shape[0],k=i.shape[1],O=0;O<N;O++)for(var z=0;z<k;z++)y(I,[O,z],_),i.set(O,z,a(C,I[0],I[1]));return i}n.refineCoords=function(i){for(var C=this.dataScaleX,y=this.dataScaleY,_=i[0].shape[0],I=i[0].shape[1],N=Math.floor(i[0].shape[0]*C+1)|0,k=Math.floor(i[0].shape[1]*y+1)|0,O=1+_+1,z=1+I+1,F=P(new Float32Array(O*z),[O,z]),B=[1/C,0,0,0,1/y,0,0,0,1],G=0;G<i.length;++G){this.surface.padField(F,i[G]);var Q=P(new Float32Array(N*k),[N,k]);E(Q,F,B),i[G]=Q}};function M(i,C){for(var y=!1,_=0;_<i.length;_++)if(C===i[_]){y=!0;break}y===!1&&i.push(C)}n.setContourLevels=function(){var i=[[],[],[]],C=[!1,!1,!1],y=!1,_,I,N;for(_=0;_<3;++_)if(this.showContour[_]&&(y=!0,this.contourSize[_]>0&&this.contourStart[_]!==null&&this.contourEnd[_]!==null&&this.contourEnd[_]>this.contourStart[_]))for(C[_]=!0,I=this.contourStart[_];I<this.contourEnd[_];I+=this.contourSize[_])N=I*this.scene.dataScale[_],M(i[_],N);if(y){var k=[[],[],[]];for(_=0;_<3;++_)this.showContour[_]&&(k[_]=C[_]?i[_]:this.scene.contourLevels[_]);this.surface.update({levels:k})}},n.update=function(i){var C=this.scene,y=C.fullSceneLayout,_=this.surface,I=d(i),N=C.dataScale,k=i.z[0].length,O=i._ylength,z=C.contourLevels;this.data=i;var F,B,G,Q,ee=[];for(F=0;F<3;F++)for(ee[F]=[],B=0;B<k;B++)ee[F][B]=[];for(B=0;B<k;B++)for(G=0;G<O;G++)ee[0][B][G]=this.getXat(B,G,i.xcalendar,y.xaxis),ee[1][B][G]=this.getYat(B,G,i.ycalendar,y.yaxis),ee[2][B][G]=this.getZat(B,G,i.zcalendar,y.zaxis);if(i.connectgaps)for(i._emptypoints=T(ee[2]),L(ee[2],i._emptypoints),i._interpolatedZ=[],B=0;B<k;B++)for(i._interpolatedZ[B]=[],G=0;G<O;G++)i._interpolatedZ[B][G]=ee[2][B][G];for(F=0;F<3;F++)for(B=0;B<k;B++)for(G=0;G<O;G++)Q=ee[F][B][G],Q==null?ee[F][B][G]=NaN:Q=ee[F][B][G]*=N[F];for(F=0;F<3;F++)for(B=0;B<k;B++)for(G=0;G<O;G++)Q=ee[F][B][G],Q!=null&&(this.minValues[F]>Q&&(this.minValues[F]=Q),this.maxValues[F]<Q&&(this.maxValues[F]=Q));for(F=0;F<3;F++)this.objectOffset[F]=.5*(this.minValues[F]+this.maxValues[F]);for(F=0;F<3;F++)for(B=0;B<k;B++)for(G=0;G<O;G++)Q=ee[F][B][G],Q!=null&&(ee[F][B][G]-=this.objectOffset[F]);var ae=[P(new Float32Array(k*O),[k,O]),P(new Float32Array(k*O),[k,O]),P(new Float32Array(k*O),[k,O])];for(F=0;F<3;F++)for(B=0;B<k;B++)for(G=0;G<O;G++)ae[F].set(B,G,ee[F][B][G]);ee=[];var fe={colormap:I,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!i.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:i.opacityscale,opacity:i.opacity},K=r(i);if(fe.intensityBounds=[K.min,K.max],i.surfacecolor){var W=P(new Float32Array(k*O),[k,O]);for(B=0;B<k;B++)for(G=0;G<O;G++)W.set(B,G,i.surfacecolor[G][B]);ae.push(W)}else fe.intensityBounds[0]*=N[2],fe.intensityBounds[1]*=N[2];(S<ae[0].shape[0]||S<ae[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(ae[0].shape[0],0),this.dataScaleY=this.estimateScale(ae[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(ae)),i.surfacecolor&&(fe.intensity=ae.pop());var Z=[!0,!0,!0],X=["x","y","z"];for(F=0;F<3;++F){var $=i.contours[X[F]];Z[F]=$.highlight,fe.showContour[F]=$.show||$.highlight,fe.showContour[F]&&(fe.contourProject[F]=[$.project.x,$.project.y,$.project.z],$.show?(this.showContour[F]=!0,fe.levels[F]=z[F],_.highlightColor[F]=fe.contourColor[F]=t($.color),$.usecolormap?_.highlightTint[F]=fe.contourTint[F]=0:_.highlightTint[F]=fe.contourTint[F]=1,fe.contourWidth[F]=$.width,this.contourStart[F]=$.start,this.contourEnd[F]=$.end,this.contourSize[F]=$.size):(this.showContour[F]=!1,this.contourStart[F]=null,this.contourEnd[F]=null,this.contourSize[F]=0),$.highlight&&(fe.dynamicColor[F]=t($.highlightcolor),fe.dynamicWidth[F]=$.highlightwidth))}s(I)&&(fe.vertexColor=!0),fe.objectOffset=this.objectOffset,fe.coords=ae,_.update(fe),_.visible=i.visible,_.enableDynamic=Z,_.enableHighlight=Z,_.snapToData=!0,"lighting"in i&&(_.ambientLight=i.lighting.ambient,_.diffuseLight=i.lighting.diffuse,_.specularLight=i.lighting.specular,_.roughness=i.lighting.roughness,_.fresnel=i.lighting.fresnel),"lightposition"in i&&(_.lightPosition=[i.lightposition.x,i.lightposition.y,i.lightposition.z])},n.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function w(i,C){var y=i.glplot.gl,_=g({gl:y}),I=new u(i,_,C.uid);return _._trace=I,I.update(C),i.glplot.add(_),I}H.exports=w},91831:function(H,U,e){var g=e(73972),P=e(71828),a=e(1586),L=e(54532),T=.1;function v(n,s){for(var f=[],l=32,x=0;x<l;x++){var c=x/(l-1),b=s+(1-s)*(1-Math.pow(Math.sin(n*c*Math.PI),2));f.push([c,Math.max(0,Math.min(1,b))])}return f}function d(n){var s=0;if(!Array.isArray(n)||n.length<2||!n[0]||!n[n.length-1]||+n[0][0]!=0||+n[n.length-1][0]!=1)return!1;for(var f=0;f<n.length;f++){var l=n[f];if(l.length!==2||+l[0]<s)return!1;s=+l[0]}return!0}function t(n,s,f,l){var x,c;function b(i,C){return P.coerce(n,s,L,i,C)}var h=b("x"),o=b("y"),p=b("z");if(!p||!p.length||h&&h.length<1||o&&o.length<1){s.visible=!1;return}s._xlength=Array.isArray(h)&&P.isArrayOrTypedArray(h[0])?p.length:p[0].length,s._ylength=p.length;var S=g.getComponentMethod("calendars","handleTraceDefaults");S(n,s,["x","y","z"],l),b("text"),b("hovertext"),b("hovertemplate"),b("xhoverformat"),b("yhoverformat"),b("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(i){b(i)});var A=b("surfacecolor"),E=["x","y","z"];for(x=0;x<3;++x){var m="contours."+E[x],M=b(m+".show"),w=b(m+".highlight");if(M||w)for(c=0;c<3;++c)b(m+".project."+E[c]);M&&(b(m+".color"),b(m+".width"),b(m+".usecolormap")),w&&(b(m+".highlightcolor"),b(m+".highlightwidth")),b(m+".start"),b(m+".end"),b(m+".size")}A||(u(n,"zmin","cmin"),u(n,"zmax","cmax"),u(n,"zauto","cauto")),a(n,s,l,b,{prefix:"",cLetter:"c"}),r(n,s,l,b),s._length=null}function r(n,s,f,l){var x=l("opacityscale");x==="max"?s.opacityscale=[[0,T],[1,1]]:x==="min"?s.opacityscale=[[0,1],[1,T]]:x==="extremes"?s.opacityscale=v(1,T):d(x)||(s.opacityscale=void 0)}function u(n,s,f){s in n&&!(f in n)&&(n[f]=n[s])}H.exports={supplyDefaults:t,opacityscaleDefaults:r}},93601:function(H,U,e){H.exports={attributes:e(54532),supplyDefaults:e(91831).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(18396),plot:e(43768),moduleType:"trace",name:"surface",basePlotModule:e(58547),categories:["gl3d","2dMap","showLegend"],meta:{}}},44464:function(H,U,e){var g=e(50215),P=e(1426).extendFlat,a=e(30962).overrideAll,L=e(41940),T=e(27670).Y,v=e(12663).descriptionOnlyNumbers,d=H.exports=a({domain:T({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:P({},g.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:P({},L({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:P({},g.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:P({},L({arrayOk:!0}))}},"calc","from-root");d.transforms=void 0},99469:function(H,U,e){var g=e(27659).a0,P=e(36736),a="table";U.name=a,U.plot=function(L){var T=g(L.calcdata,a)[0];T.length&&P(L,T)},U.clean=function(L,T,v,d){var t=d._has&&d._has(a),r=T._has&&T._has(a);t&&!r&&d._paperdiv.selectAll(".table").remove()}},76333:function(H,U,e){var g=e(28984).wrap;H.exports=function(){return g({})}},49850:function(H){H.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},51018:function(H,U,e){var g=e(49850),P=e(1426).extendFlat,a=e(92770);H.exports=function(f,l){var x=v(l.cells.values),c=function(B){return B.slice(l.header.values.length,B.length)},b=v(l.header.values);b.length&&!b[0].length&&(b[0]=[""],b=v(b));var h=b.concat(c(x).map(function(){return d((b[0]||[""]).length)})),o=l.domain,p=Math.floor(f._fullLayout._size.w*(o.x[1]-o.x[0])),S=Math.floor(f._fullLayout._size.h*(o.y[1]-o.y[0])),A=l.header.values.length?h[0].map(function(){return l.header.height}):[g.emptyHeaderHeight],E=x.length?x[0].map(function(){return l.cells.height}):[],m=A.reduce(T,0),M=S-m,w=M+g.uplift,i=u(E,w),C=u(A,m),y=r(C,[]),_=r(i,y),I={},N=l._fullInput.columnorder.concat(c(x.map(function(B,G){return G}))),k=h.map(function(B,G){var Q=Array.isArray(l.columnwidth)?l.columnwidth[Math.min(G,l.columnwidth.length-1)]:l.columnwidth;return a(Q)?Number(Q):1}),O=k.reduce(T,0);k=k.map(function(B){return B/O*p});var z=Math.max(L(l.header.line.width),L(l.cells.line.width)),F={key:l.uid+f._context.staticPlot,translateX:o.x[0]*f._fullLayout._size.w,translateY:f._fullLayout._size.h*(1-o.y[1]),size:f._fullLayout._size,width:p,maxLineWidth:z,height:S,columnOrder:N,groupHeight:S,rowBlocks:_,headerRowBlocks:y,scrollY:0,cells:P({},l.cells,{values:x}),headerCells:P({},l.header,{values:h}),gdColumns:h.map(function(B){return B[0]}),gdColumnsOriginalOrder:h.map(function(B){return B[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:h.map(function(B,G){var Q=I[B];I[B]=(Q||0)+1;var ee=B+"__"+I[B];return{key:ee,label:B,specIndex:G,xIndex:N[G],xScale:t,x:void 0,calcdata:void 0,columnWidth:k[G]}})};return F.columns.forEach(function(B){B.calcdata=F,B.x=t(B)}),F};function L(s){if(Array.isArray(s)){for(var f=0,l=0;l<s.length;l++)f=Math.max(f,L(s[l]));return f}return s}function T(s,f){return s+f}function v(s){var f=s.slice(),l=1/0,x=0,c;for(c=0;c<f.length;c++)Array.isArray(f[c])||(f[c]=[f[c]]),l=Math.min(l,f[c].length),x=Math.max(x,f[c].length);if(l!==x)for(c=0;c<f.length;c++){var b=x-f[c].length;b&&(f[c]=f[c].concat(d(b)))}return f}function d(s){for(var f=new Array(s),l=0;l<s;l++)f[l]="";return f}function t(s){return s.calcdata.columns.reduce(function(f,l){return l.xIndex<s.xIndex?f+l.columnWidth:f},0)}function r(s,f){var l=Object.keys(s);return l.map(function(x){return P({},s[x],{auxiliaryBlocks:f})})}function u(s,f){for(var l={},x,c=0,b=0,h=n(),o=0,p=0,S=0;S<s.length;S++)x=s[S],h.rows.push({rowIndex:S,rowHeight:x}),b+=x,(b>=f||S===s.length-1)&&(l[c]=h,h.key=p++,h.firstRowIndex=o,h.lastRowIndex=S,h=n(),c+=b,o=S+1,b=0);return l}function n(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},56269:function(H,U,e){var g=e(1426).extendFlat;U.splitToPanels=function(a){var L=[0,0],T=g({},a,{key:"header",type:"header",page:0,prevPages:L,currentRepaint:[null,null],dragHandle:!0,values:a.calcdata.headerCells.values[a.specIndex],rowBlocks:a.calcdata.headerRowBlocks,calcdata:g({},a.calcdata,{cells:a.calcdata.headerCells})}),v=g({},a,{key:"cells1",type:"cells",page:0,prevPages:L,currentRepaint:[null,null],dragHandle:!1,values:a.calcdata.cells.values[a.specIndex],rowBlocks:a.calcdata.rowBlocks}),d=g({},a,{key:"cells2",type:"cells",page:1,prevPages:L,currentRepaint:[null,null],dragHandle:!1,values:a.calcdata.cells.values[a.specIndex],rowBlocks:a.calcdata.rowBlocks});return[v,d,T]},U.splitToCells=function(a){var L=P(a);return(a.values||[]).slice(L[0],L[1]).map(function(T,v){var d=typeof T=="string"&&T.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:v+d,key:L[0]+v,column:a,calcdata:a.calcdata,page:a.page,rowBlocks:a.rowBlocks,value:T}})};function P(a){var L=a.rowBlocks[a.page],T=L?L.rows[0].rowIndex:0,v=L?T+L.rows.length:0;return[T,v]}},39754:function(H,U,e){var g=e(71828),P=e(44464),a=e(27670).c;function L(T,v){for(var d=T.columnorder||[],t=T.header.values.length,r=d.slice(0,t),u=r.slice().sort(function(f,l){return f-l}),n=r.map(function(f){return u.indexOf(f)}),s=n.length;s<t;s++)n.push(s);v("columnorder",n)}H.exports=function(v,d,t,r){function u(n,s){return g.coerce(v,d,P,n,s)}a(d,r,u),u("columnwidth"),u("header.values"),u("header.format"),u("header.align"),u("header.prefix"),u("header.suffix"),u("header.height"),u("header.line.width"),u("header.line.color"),u("header.fill.color"),g.coerceFont(u,"header.font",g.extendFlat({},r.font)),L(d,u),u("cells.values"),u("cells.format"),u("cells.align"),u("cells.prefix"),u("cells.suffix"),u("cells.height"),u("cells.line.width"),u("cells.line.color"),u("cells.fill.color"),g.coerceFont(u,"cells.font",g.extendFlat({},r.font)),d._length=null}},96595:function(H,U,e){H.exports={attributes:e(44464),supplyDefaults:e(39754),calc:e(76333),plot:e(36736),moduleType:"trace",name:"table",basePlotModule:e(99469),categories:["noOpacity"],meta:{}}},36736:function(H,U,e){var g=e(49850),P=e(39898),a=e(71828),L=a.numberFormat,T=e(28984),v=e(91424),d=e(63893),t=e(71828).raiseToTop,r=e(71828).strTranslate,u=e(71828).cancelTransition,n=e(51018),s=e(56269),f=e(7901);H.exports=function(se,ne){var ue=!se._context.staticPlot,ge=se._fullLayout._paper.selectAll("."+g.cn.table).data(ne.map(function(Je){var qe=T.unwrap(Je),dt=qe.trace;return n(se,dt)}),T.keyFun);ge.exit().remove(),ge.enter().append("g").classed(g.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),ge.attr("width",function(Je){return Je.width+Je.size.l+Je.size.r}).attr("height",function(Je){return Je.height+Je.size.t+Je.size.b}).attr("transform",function(Je){return r(Je.translateX,Je.translateY)});var we=ge.selectAll("."+g.cn.tableControlView).data(T.repeat,T.keyFun),xe=we.enter().append("g").classed(g.cn.tableControlView,!0).style("box-sizing","content-box");if(ue){var Fe="onwheel"in document?"wheel":"mousewheel";xe.on("mousemove",function(Je){we.filter(function(qe){return Je===qe}).call(h,se)}).on(Fe,function(Je){if(!Je.scrollbarState.wheeling){Je.scrollbarState.wheeling=!0;var qe=Je.scrollY+P.event.deltaY,dt=Q(se,we,null,qe)(Je);dt||(P.event.stopPropagation(),P.event.preventDefault()),Je.scrollbarState.wheeling=!1}}).call(h,se,!0)}we.attr("transform",function(Je){return r(Je.size.l,Je.size.t)});var ze=we.selectAll("."+g.cn.scrollBackground).data(T.repeat,T.keyFun);ze.enter().append("rect").classed(g.cn.scrollBackground,!0).attr("fill","none"),ze.attr("width",function(Je){return Je.width}).attr("height",function(Je){return Je.height}),we.each(function(Je){v.setClipUrl(P.select(this),x(se,Je),se)});var Te=we.selectAll("."+g.cn.yColumn).data(function(Je){return Je.columns},T.keyFun);Te.enter().append("g").classed(g.cn.yColumn,!0),Te.exit().remove(),Te.attr("transform",function(Je){return r(Je.x,0)}),ue&&Te.call(P.behavior.drag().origin(function(Je){var qe=P.select(this);return k(qe,Je,-g.uplift),t(this),Je.calcdata.columnDragInProgress=!0,h(we.filter(function(dt){return Je.calcdata.key===dt.key}),se),Je}).on("drag",function(Je){var qe=P.select(this),dt=function(Ct){return(Je===Ct?P.event.x:Ct.x)+Ct.columnWidth/2};Je.x=Math.max(-g.overdrag,Math.min(Je.calcdata.width+g.overdrag-Je.columnWidth,P.event.x));var pt=b(Te).filter(function(Ct){return Ct.calcdata.key===Je.calcdata.key}),mt=pt.sort(function(Ct,Rt){return dt(Ct)-dt(Rt)});mt.forEach(function(Ct,Rt){Ct.xIndex=Rt,Ct.x=Je===Ct?Ct.x:Ct.xScale(Ct)}),Te.filter(function(Ct){return Je!==Ct}).transition().ease(g.transitionEase).duration(g.transitionDuration).attr("transform",function(Ct){return r(Ct.x,0)}),qe.call(u).attr("transform",r(Je.x,-g.uplift))}).on("dragend",function(Je){var qe=P.select(this),dt=Je.calcdata;Je.x=Je.xScale(Je),Je.calcdata.columnDragInProgress=!1,k(qe,Je,0),I(se,dt,dt.columns.map(function(pt){return pt.xIndex}))})),Te.each(function(Je){v.setClipUrl(P.select(this),c(se,Je),se)});var ye=Te.selectAll("."+g.cn.columnBlock).data(s.splitToPanels,T.keyFun);ye.enter().append("g").classed(g.cn.columnBlock,!0).attr("id",function(Je){return Je.key}),ye.style("cursor",function(Je){return Je.dragHandle?"ew-resize":Je.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var Ae=ye.filter(z),Ne=ye.filter(O);ue&&Ne.call(P.behavior.drag().origin(function(Je){return P.event.stopPropagation(),Je}).on("drag",Q(se,we,-1)).on("dragend",function(){})),o(se,we,Ae,ye),o(se,we,Ne,ye);var Ue=we.selectAll("."+g.cn.scrollAreaClip).data(T.repeat,T.keyFun);Ue.enter().append("clipPath").classed(g.cn.scrollAreaClip,!0).attr("id",function(Je){return x(se,Je)});var Re=Ue.selectAll("."+g.cn.scrollAreaClipRect).data(T.repeat,T.keyFun);Re.enter().append("rect").classed(g.cn.scrollAreaClipRect,!0).attr("x",-g.overdrag).attr("y",-g.uplift).attr("fill","none"),Re.attr("width",function(Je){return Je.width+2*g.overdrag}).attr("height",function(Je){return Je.height+g.uplift});var Ve=Te.selectAll("."+g.cn.columnBoundary).data(T.repeat,T.keyFun);Ve.enter().append("g").classed(g.cn.columnBoundary,!0);var rt=Te.selectAll("."+g.cn.columnBoundaryClippath).data(T.repeat,T.keyFun);rt.enter().append("clipPath").classed(g.cn.columnBoundaryClippath,!0),rt.attr("id",function(Je){return c(se,Je)});var Qe=rt.selectAll("."+g.cn.columnBoundaryRect).data(T.repeat,T.keyFun);Qe.enter().append("rect").classed(g.cn.columnBoundaryRect,!0).attr("fill","none"),Qe.attr("width",function(Je){return Je.columnWidth+2*l(Je)}).attr("height",function(Je){return Je.calcdata.height+2*l(Je)+g.uplift}).attr("x",function(Je){return-l(Je)}).attr("y",function(Je){return-l(Je)}),G(null,Ne,we)};function l(j){return Math.ceil(j.calcdata.maxLineWidth/2)}function x(j,se){return"clip"+j._fullLayout._uid+"_scrollAreaBottomClip_"+se.key}function c(j,se){return"clip"+j._fullLayout._uid+"_columnBoundaryClippath_"+se.calcdata.key+"_"+se.specIndex}function b(j){return[].concat.apply([],j.map(function(se){return se})).map(function(se){return se.__data__})}function h(j,se,ne){function ue(Te){var ye=Te.rowBlocks;return Z(ye,ye.length-1)+(ye.length?X(ye[ye.length-1],1/0):1)}var ge=j.selectAll("."+g.cn.scrollbarKit).data(T.repeat,T.keyFun);ge.enter().append("g").classed(g.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),ge.each(function(Te){var ye=Te.scrollbarState;ye.totalHeight=ue(Te),ye.scrollableAreaHeight=Te.groupHeight-F(Te),ye.currentlyVisibleHeight=Math.min(ye.totalHeight,ye.scrollableAreaHeight),ye.ratio=ye.currentlyVisibleHeight/ye.totalHeight,ye.barLength=Math.max(ye.ratio*ye.currentlyVisibleHeight,g.goldenRatio*g.scrollbarWidth),ye.barWiggleRoom=ye.currentlyVisibleHeight-ye.barLength,ye.wiggleRoom=Math.max(0,ye.totalHeight-ye.scrollableAreaHeight),ye.topY=ye.barWiggleRoom===0?0:Te.scrollY/ye.wiggleRoom*ye.barWiggleRoom,ye.bottomY=ye.topY+ye.barLength,ye.dragMultiplier=ye.wiggleRoom/ye.barWiggleRoom}).attr("transform",function(Te){var ye=Te.width+g.scrollbarWidth/2+g.scrollbarOffset;return r(ye,F(Te))});var we=ge.selectAll("."+g.cn.scrollbar).data(T.repeat,T.keyFun);we.enter().append("g").classed(g.cn.scrollbar,!0);var xe=we.selectAll("."+g.cn.scrollbarSlider).data(T.repeat,T.keyFun);xe.enter().append("g").classed(g.cn.scrollbarSlider,!0),xe.attr("transform",function(Te){return r(0,Te.scrollbarState.topY||0)});var Fe=xe.selectAll("."+g.cn.scrollbarGlyph).data(T.repeat,T.keyFun);Fe.enter().append("line").classed(g.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",g.scrollbarWidth).attr("stroke-linecap","round").attr("y1",g.scrollbarWidth/2),Fe.attr("y2",function(Te){return Te.scrollbarState.barLength-g.scrollbarWidth/2}).attr("stroke-opacity",function(Te){return Te.columnDragInProgress||!Te.scrollbarState.barWiggleRoom||ne?0:.4}),Fe.transition().delay(0).duration(0),Fe.transition().delay(g.scrollbarHideDelay).duration(g.scrollbarHideDuration).attr("stroke-opacity",0);var ze=we.selectAll("."+g.cn.scrollbarCaptureZone).data(T.repeat,T.keyFun);ze.enter().append("line").classed(g.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",g.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Te){var ye=P.event.y,Ae=this.getBoundingClientRect(),Ne=Te.scrollbarState,Ue=ye-Ae.top,Re=P.scale.linear().domain([0,Ne.scrollableAreaHeight]).range([0,Ne.totalHeight]).clamp(!0);Ne.topY<=Ue&&Ue<=Ne.bottomY||Q(se,j,null,Re(Ue-Ne.barLength/2))(Te)}).call(P.behavior.drag().origin(function(Te){return P.event.stopPropagation(),Te.scrollbarState.scrollbarScrollInProgress=!0,Te}).on("drag",Q(se,j)).on("dragend",function(){})),ze.attr("y2",function(Te){return Te.scrollbarState.scrollableAreaHeight}),se._context.staticPlot&&(Fe.remove(),ze.remove())}function o(j,se,ne,ue){var ge=p(ne),we=S(ge);M(we);var xe=A(we);i(xe);var Fe=m(we),ze=E(Fe);w(ze),C(ze,se,ue,j),W(we)}function p(j){var se=j.selectAll("."+g.cn.columnCells).data(T.repeat,T.keyFun);return se.enter().append("g").classed(g.cn.columnCells,!0),se.exit().remove(),se}function S(j){var se=j.selectAll("."+g.cn.columnCell).data(s.splitToCells,function(ne){return ne.keyWithinBlock});return se.enter().append("g").classed(g.cn.columnCell,!0),se.exit().remove(),se}function A(j){var se=j.selectAll("."+g.cn.cellRect).data(T.repeat,function(ne){return ne.keyWithinBlock});return se.enter().append("rect").classed(g.cn.cellRect,!0),se}function E(j){var se=j.selectAll("."+g.cn.cellText).data(T.repeat,function(ne){return ne.keyWithinBlock});return se.enter().append("text").classed(g.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){P.event.stopPropagation()}),se}function m(j){var se=j.selectAll("."+g.cn.cellTextHolder).data(T.repeat,function(ne){return ne.keyWithinBlock});return se.enter().append("g").classed(g.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),se}function M(j){j.each(function(se,ne){var ue=se.calcdata.cells.font,ge=se.column.specIndex,we={size:N(ue.size,ge,ne),color:N(ue.color,ge,ne),family:N(ue.family,ge,ne)};se.rowNumber=se.key,se.align=N(se.calcdata.cells.align,ge,ne),se.cellBorderWidth=N(se.calcdata.cells.line.width,ge,ne),se.font=we})}function w(j){j.each(function(se){v.font(P.select(this),se.font)})}function i(j){j.attr("width",function(se){return se.column.columnWidth}).attr("stroke-width",function(se){return se.cellBorderWidth}).each(function(se){var ne=P.select(this);f.stroke(ne,N(se.calcdata.cells.line.color,se.column.specIndex,se.rowNumber)),f.fill(ne,N(se.calcdata.cells.fill.color,se.column.specIndex,se.rowNumber))})}function C(j,se,ne,ue){j.text(function(ge){var we=ge.column.specIndex,xe=ge.rowNumber,Fe=ge.value,ze=typeof Fe=="string",Te=ze&&Fe.match(/<br>/i),ye=!ze||Te;ge.mayHaveMarkup=ze&&Fe.match(/[<&>]/);var Ae=y(Fe);ge.latex=Ae;var Ne=Ae?"":N(ge.calcdata.cells.prefix,we,xe)||"",Ue=Ae?"":N(ge.calcdata.cells.suffix,we,xe)||"",Re=Ae?null:N(ge.calcdata.cells.format,we,xe)||null,Ve=Ne+(Re?L(Re)(ge.value):ge.value)+Ue,rt;ge.wrappingNeeded=!ge.wrapped&&!ye&&!Ae&&(rt=_(Ve)),ge.cellHeightMayIncrease=Te||Ae||ge.mayHaveMarkup||(rt===void 0?_(Ve):rt),ge.needsConvertToTspans=ge.mayHaveMarkup||ge.wrappingNeeded||ge.latex;var Qe;if(ge.wrappingNeeded){var Je=g.wrapSplitCharacter===" "?Ve.replace(/<a href=/ig,"<a_href="):Ve,qe=Je.split(g.wrapSplitCharacter),dt=g.wrapSplitCharacter===" "?qe.map(function(pt){return pt.replace(/<a_href=/ig,"<a href=")}):qe;ge.fragments=dt.map(function(pt){return{text:pt,width:null}}),ge.fragments.push({fragment:g.wrapSpacer,width:null}),Qe=dt.join(g.lineBreaker)+g.lineBreaker+g.wrapSpacer}else delete ge.fragments,Qe=Ve;return Qe}).attr("dy",function(ge){return ge.needsConvertToTspans?0:"0.75em"}).each(function(ge){var we=this,xe=P.select(we),Fe=ge.wrappingNeeded?ae:fe;ge.needsConvertToTspans?d.convertToTspans(xe,ue,Fe(ne,we,se,ue,ge)):P.select(we.parentNode).attr("transform",function(ze){return r(K(ze),g.cellPad)}).attr("text-anchor",function(ze){return{left:"start",center:"middle",right:"end"}[ze.align]})})}function y(j){return typeof j=="string"&&j.match(g.latexCheck)}function _(j){return j.indexOf(g.wrapSplitCharacter)!==-1}function I(j,se,ne){var ue=se.gdColumnsOriginalOrder;se.gdColumns.sort(function(ge,we){return ne[ue.indexOf(ge)]-ne[ue.indexOf(we)]}),se.columnorder=ne,j.emit("plotly_restyle")}function N(j,se,ne){if(Array.isArray(j)){var ue=j[Math.min(se,j.length-1)];return Array.isArray(ue)?ue[Math.min(ne,ue.length-1)]:ue}else return j}function k(j,se,ne){j.transition().ease(g.releaseTransitionEase).duration(g.releaseTransitionDuration).attr("transform",r(se.x,ne))}function O(j){return j.type==="cells"}function z(j){return j.type==="header"}function F(j){var se=j.rowBlocks.length?j.rowBlocks[0].auxiliaryBlocks:[];return se.reduce(function(ne,ue){return ne+X(ue,1/0)},0)}function B(j,se,ne){for(var ue=[],ge=0,we=0;we<j.length;we++){for(var xe=j[we],Fe=xe.rows,ze=0,Te=0;Te<Fe.length;Te++)ze+=Fe[Te].rowHeight;xe.allRowsHeight=ze;var ye=ge+ze,Ae=se,Ne=Ae+ne;Ae<ye&&Ne>ge&&ue.push(we),ge+=ze}return ue}function G(j,se,ne){var ue=b(se)[0];if(ue!==void 0){var ge=ue.rowBlocks,we=ue.calcdata,xe=Z(ge,ge.length),Fe=ue.calcdata.groupHeight-F(ue),ze=we.scrollY=Math.max(0,Math.min(xe-Fe,we.scrollY)),Te=B(ge,ze,Fe);Te.length===1&&(Te[0]===ge.length-1?Te.unshift(Te[0]-1):Te.push(Te[0]+1)),Te[0]%2&&Te.reverse(),se.each(function(ye,Ae){ye.page=Te[Ae],ye.scrollY=ze}),se.attr("transform",function(ye){var Ae=Z(ye.rowBlocks,ye.page)-ye.scrollY;return r(0,Ae)}),j&&(ee(j,ne,se,Te,ue.prevPages,ue,0),ee(j,ne,se,Te,ue.prevPages,ue,1),h(ne,j))}}function Q(j,se,ne,ue){return function(we){var xe=we.calcdata?we.calcdata:we,Fe=se.filter(function(Ae){return xe.key===Ae.key}),ze=ne||xe.scrollbarState.dragMultiplier,Te=xe.scrollY;xe.scrollY=ue===void 0?xe.scrollY+ze*P.event.dy:ue;var ye=Fe.selectAll("."+g.cn.yColumn).selectAll("."+g.cn.columnBlock).filter(O);return G(j,ye,Fe),xe.scrollY===Te}}function ee(j,se,ne,ue,ge,we,xe){var Fe=ue[xe]!==ge[xe];Fe&&(clearTimeout(we.currentRepaint[xe]),we.currentRepaint[xe]=setTimeout(function(){var ze=ne.filter(function(Te,ye){return ye===xe&&ue[ye]!==ge[ye]});o(j,se,ze,ne),ge[xe]=ue[xe]}))}function ae(j,se,ne,ue){return function(){var we=P.select(se.parentNode);we.each(function(xe){var Fe=xe.fragments;we.selectAll("tspan.line").each(function(Ve,rt){Fe[rt].width=this.getComputedTextLength()});var ze=Fe[Fe.length-1].width,Te=Fe.slice(0,-1),ye=[],Ae,Ne,Ue=0,Re=xe.column.columnWidth-2*g.cellPad;for(xe.value="";Te.length;)Ae=Te.shift(),Ne=Ae.width+ze,Ue+Ne>Re&&(xe.value+=ye.join(g.wrapSpacer)+g.lineBreaker,ye=[],Ue=0),ye.push(Ae.text),Ue+=Ne;Ue&&(xe.value+=ye.join(g.wrapSpacer)),xe.wrapped=!0}),we.selectAll("tspan.line").remove(),C(we.select("."+g.cn.cellText),ne,j,ue),P.select(se.parentNode.parentNode).call(W)}}function fe(j,se,ne,ue,ge){return function(){if(!ge.settledY){var xe=P.select(se.parentNode),Fe=ie(ge),ze=ge.key-Fe.firstRowIndex,Te=Fe.rows[ze].rowHeight,ye=ge.cellHeightMayIncrease?se.parentNode.getBoundingClientRect().height+2*g.cellPad:Te,Ae=Math.max(ye,Te),Ne=Ae-Fe.rows[ze].rowHeight;Ne&&(Fe.rows[ze].rowHeight=Ae,j.selectAll("."+g.cn.columnCell).call(W),G(null,j.filter(O),0),h(ne,ue,!0)),xe.attr("transform",function(){var Ue=this,Re=Ue.parentNode,Ve=Re.getBoundingClientRect(),rt=P.select(Ue.parentNode).select("."+g.cn.cellRect).node().getBoundingClientRect(),Qe=Ue.transform.baseVal.consolidate(),Je=rt.top-Ve.top+(Qe?Qe.matrix.f:g.cellPad);return r(K(ge,P.select(Ue.parentNode).select("."+g.cn.cellTextHolder).node().getBoundingClientRect().width),Je)}),ge.settledY=!0}}}function K(j,se){switch(j.align){case"left":return g.cellPad;case"right":return j.column.columnWidth-(se||0)-g.cellPad;case"center":return(j.column.columnWidth-(se||0))/2;default:return g.cellPad}}function W(j){j.attr("transform",function(se){var ne=se.rowBlocks[0].auxiliaryBlocks.reduce(function(xe,Fe){return xe+X(Fe,1/0)},0),ue=ie(se),ge=X(ue,se.key),we=ge+ne;return r(0,we)}).selectAll("."+g.cn.cellRect).attr("height",function(se){return J(ie(se),se.key).rowHeight})}function Z(j,se){for(var ne=0,ue=se-1;ue>=0;ue--)ne+=$(j[ue]);return ne}function X(j,se){for(var ne=0,ue=0;ue<j.rows.length&&j.rows[ue].rowIndex<se;ue++)ne+=j.rows[ue].rowHeight;return ne}function $(j){var se=j.allRowsHeight;if(se!==void 0)return se;for(var ne=0,ue=0;ue<j.rows.length;ue++)ne+=j.rows[ue].rowHeight;return j.allRowsHeight=ne,ne}function ie(j){return j.rowBlocks[j.page]}function J(j,se){return j.rows[se-j.firstRowIndex]}},45802:function(H,U,e){var g=e(5386).fF,P=e(5386).si,a=e(50693),L=e(27670).Y,T=e(34e3),v=e(57564),d=e(43473),t=e(1426).extendFlat,r=e(79952).u;H.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:t({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:v.marker.colors,pattern:r,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:v.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:t({},T.textfont,{}),editType:"calc"},text:T.text,textinfo:v.textinfo,texttemplate:P({editType:"plot"},{keys:d.eventDataKeys.concat(["label","value"])}),hovertext:T.hovertext,hoverinfo:v.hoverinfo,hovertemplate:g({},{keys:d.eventDataKeys}),textfont:T.textfont,insidetextfont:T.insidetextfont,outsidetextfont:t({},T.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:T.sort,root:v.root,domain:L({name:"treemap",trace:!0,editType:"calc"})}},78018:function(H,U,e){var g=e(74875);U.name="treemap",U.plot=function(P,a,L,T){g.plotBasePlot(U.name,P,a,L,T)},U.clean=function(P,a,L,T){g.cleanBasePlot(U.name,P,a,L,T)}},65039:function(H,U,e){var g=e(52147);U.y=function(P,a){return g.calc(P,a)},U.T=function(P){return g._runCrossTraceCalc("treemap",P)}},43473:function(H){H.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},91174:function(H,U,e){var g=e(71828),P=e(45802),a=e(7901),L=e(27670).c,T=e(90769).handleText,v=e(97313).TEXTPAD,d=e(37434).handleMarkerDefaults,t=e(21081),r=t.hasColorscale,u=t.handleDefaults;H.exports=function(s,f,l,x){function c(i,C){return g.coerce(s,f,P,i,C)}var b=c("labels"),h=c("parents");if(!b||!b.length||!h||!h.length){f.visible=!1;return}var o=c("values");o&&o.length?c("branchvalues"):c("count"),c("level"),c("maxdepth");var p=c("tiling.packing");p==="squarify"&&c("tiling.squarifyratio"),c("tiling.flip"),c("tiling.pad");var S=c("text");c("texttemplate"),f.texttemplate||c("textinfo",Array.isArray(S)?"text+label":"label"),c("hovertext"),c("hovertemplate");var A=c("pathbar.visible"),E="auto";T(s,f,x,c,E,{hasPathbar:A,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),c("textposition");var m=f.textposition.indexOf("bottom")!==-1;d(s,f,x,c);var M=f._hasColorscale=r(s,"marker","colors")||(s.marker||{}).coloraxis;M?u(s,f,x,c,{prefix:"marker.",cLetter:"c"}):c("marker.depthfade",!(f.marker.colors||[]).length);var w=f.textfont.size*2;c("marker.pad.t",m?w/4:w),c("marker.pad.l",w/4),c("marker.pad.r",w/4),c("marker.pad.b",m?w:w/4),c("marker.cornerradius"),f._hovered={marker:{line:{width:2,color:a.contrast(x.paper_bgcolor)}}},A&&(c("pathbar.thickness",f.pathbar.textfont.size+2*v),c("pathbar.side"),c("pathbar.edgeshape")),c("sort"),c("root.color"),L(f,x,c),f._length=null}},80694:function(H,U,e){var g=e(39898),P=e(2791),a=e(72597),L=a.clearMinTextSize,T=e(16688).resizeText,v=e(46650);H.exports=function(t,r,u,n,s){var f=s.type,l=s.drawDescendants,x=t._fullLayout,c=x["_"+f+"layer"],b,h,o=!u;if(L(f,x),b=c.selectAll("g.trace."+f).data(r,function(S){return S[0].trace.uid}),b.enter().append("g").classed("trace",!0).classed(f,!0),b.order(),!x.uniformtext.mode&&P.hasTransition(u)){n&&(h=n());var p=g.transition().duration(u.duration).ease(u.easing).each("end",function(){h&&h()}).each("interrupt",function(){h&&h()});p.each(function(){c.selectAll("g.trace").each(function(S){v(t,S,this,u,l)})})}else b.each(function(S){v(t,S,this,u,l)}),x.uniformtext.mode&&T(t,c.selectAll(".trace"),f);o&&b.exit().remove()}},66209:function(H,U,e){var g=e(39898),P=e(71828),a=e(91424),L=e(63893),T=e(37210),v=e(96362).styleOne,d=e(43473),t=e(2791),r=e(83523),u=!0;H.exports=function(s,f,l,x,c){var b=c.barDifY,h=c.width,o=c.height,p=c.viewX,S=c.viewY,A=c.pathSlice,E=c.toMoveInsideSlice,m=c.strTransform,M=c.hasTransition,w=c.handleSlicesExit,i=c.makeUpdateSliceInterpolator,C=c.makeUpdateTextInterpolator,y={},_=s._context.staticPlot,I=s._fullLayout,N=f[0],k=N.trace,O=N.hierarchy,z=h/k._entryDepth,F=t.listPath(l.data,"id"),B=T(O.copy(),[h,o],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();B=B.filter(function(Q){var ee=F.indexOf(Q.data.id);return ee===-1?!1:(Q.x0=z*ee,Q.x1=z*(ee+1),Q.y0=b,Q.y1=b+o,Q.onPathbar=!0,!0)}),B.reverse(),x=x.data(B,t.getPtId),x.enter().append("g").classed("pathbar",!0),w(x,u,y,[h,o],A),x.order();var G=x;M&&(G=G.transition().each("end",function(){var Q=g.select(this);t.setSliceCursor(Q,s,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),G.each(function(Q){Q._x0=p(Q.x0),Q._x1=p(Q.x1),Q._y0=S(Q.y0),Q._y1=S(Q.y1),Q._hoverX=p(Q.x1-Math.min(h,o)/2),Q._hoverY=S(Q.y1-o/2);var ee=g.select(this),ae=P.ensureSingle(ee,"path","surface",function(Z){Z.style("pointer-events",_?"none":"all")});M?ae.transition().attrTween("d",function(Z){var X=i(Z,u,y,[h,o]);return function($){return A(X($))}}):ae.attr("d",A),ee.call(r,l,s,f,{styleOne:v,eventDataKeys:d.eventDataKeys,transitionTime:d.CLICK_TRANSITION_TIME,transitionEasing:d.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,s,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:s._transitioning}),ae.call(v,Q,k,s,{hovered:!1}),Q._text=(t.getPtLabel(Q)||"").split("<br>").join(" ")||"";var fe=P.ensureSingle(ee,"g","slicetext"),K=P.ensureSingle(fe,"text","",function(Z){Z.attr("data-notex",1)}),W=P.ensureUniformFontSize(s,t.determineTextFont(k,Q,I.font,{onPathbar:!0}));K.text(Q._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(a.font,W).call(L.convertToTspans,s),Q.textBB=a.bBox(K.node()),Q.transform=E(Q,{fontSize:W.size,onPathbar:!0}),Q.transform.fontSize=W.size,M?K.transition().attrTween("transform",function(Z){var X=C(Z,u,y,[h,o]);return function($){return m(X($))}}):K.attr("transform",m(Q))})}},52583:function(H,U,e){var g=e(39898),P=e(71828),a=e(91424),L=e(63893),T=e(37210),v=e(96362).styleOne,d=e(43473),t=e(2791),r=e(83523),u=e(24714).formatSliceLabel,n=!1;H.exports=function(f,l,x,c,b){var h=b.width,o=b.height,p=b.viewX,S=b.viewY,A=b.pathSlice,E=b.toMoveInsideSlice,m=b.strTransform,M=b.hasTransition,w=b.handleSlicesExit,i=b.makeUpdateSliceInterpolator,C=b.makeUpdateTextInterpolator,y=b.prevEntry,_={},I=f._context.staticPlot,N=f._fullLayout,k=l[0],O=k.trace,z=O.textposition.indexOf("left")!==-1,F=O.textposition.indexOf("right")!==-1,B=O.textposition.indexOf("bottom")!==-1,G=!B&&!O.marker.pad.t||B&&!O.marker.pad.b,Q=T(x,[h,o],{packing:O.tiling.packing,squarifyratio:O.tiling.squarifyratio,flipX:O.tiling.flip.indexOf("x")>-1,flipY:O.tiling.flip.indexOf("y")>-1,pad:{inner:O.tiling.pad,top:O.marker.pad.t,left:O.marker.pad.l,right:O.marker.pad.r,bottom:O.marker.pad.b}}),ee=Q.descendants(),ae=1/0,fe=-1/0;ee.forEach(function($){var ie=$.depth;ie>=O._maxDepth?($.x0=$.x1=($.x0+$.x1)/2,$.y0=$.y1=($.y0+$.y1)/2):(ae=Math.min(ae,ie),fe=Math.max(fe,ie))}),c=c.data(ee,t.getPtId),O._maxVisibleLayers=isFinite(fe)?fe-ae+1:0,c.enter().append("g").classed("slice",!0),w(c,n,_,[h,o],A),c.order();var K=null;if(M&&y){var W=t.getPtId(y);c.each(function($){K===null&&t.getPtId($)===W&&(K={x0:$.x0,x1:$.x1,y0:$.y0,y1:$.y1})})}var Z=function(){return K||{x0:0,x1:h,y0:0,y1:o}},X=c;return M&&(X=X.transition().each("end",function(){var $=g.select(this);t.setSliceCursor($,f,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),X.each(function($){var ie=t.isHeader($,O);$._x0=p($.x0),$._x1=p($.x1),$._y0=S($.y0),$._y1=S($.y1),$._hoverX=p($.x1-O.marker.pad.r),$._hoverY=S(B?$.y1-O.marker.pad.b/2:$.y0+O.marker.pad.t/2);var J=g.select(this),j=P.ensureSingle(J,"path","surface",function(ge){ge.style("pointer-events",I?"none":"all")});M?j.transition().attrTween("d",function(ge){var we=i(ge,n,Z(),[h,o]);return function(xe){return A(we(xe))}}):j.attr("d",A),J.call(r,x,f,l,{styleOne:v,eventDataKeys:d.eventDataKeys,transitionTime:d.CLICK_TRANSITION_TIME,transitionEasing:d.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,f,{isTransitioning:f._transitioning}),j.call(v,$,O,f,{hovered:!1}),$.x0===$.x1||$.y0===$.y1?$._text="":ie?$._text=G?"":t.getPtLabel($)||"":$._text=u($,x,O,l,N)||"";var se=P.ensureSingle(J,"g","slicetext"),ne=P.ensureSingle(se,"text","",function(ge){ge.attr("data-notex",1)}),ue=P.ensureUniformFontSize(f,t.determineTextFont(O,$,N.font));ne.text($._text||" ").classed("slicetext",!0).attr("text-anchor",F?"end":z||ie?"start":"middle").call(a.font,ue).call(L.convertToTspans,f),$.textBB=a.bBox(ne.node()),$.transform=E($,{fontSize:ue.size,isHeader:ie}),$.transform.fontSize=ue.size,M?ne.transition().attrTween("transform",function(ge){var we=C(ge,n,Z(),[h,o]);return function(xe){return m(we(xe))}}):ne.attr("transform",m($))}),K}},14102:function(H){H.exports=function U(e,g,P){var a;P.swapXY&&(a=e.x0,e.x0=e.y0,e.y0=a,a=e.x1,e.x1=e.y1,e.y1=a),P.flipX&&(a=e.x0,e.x0=g[0]-e.x1,e.x1=g[0]-a),P.flipY&&(a=e.y0,e.y0=g[1]-e.y1,e.y1=g[1]-a);var L=e.children;if(L)for(var T=0;T<L.length;T++)U(L[T],g,P)}},70954:function(H,U,e){H.exports={moduleType:"trace",name:"treemap",basePlotModule:e(78018),categories:[],animatable:!0,attributes:e(45802),layoutAttributes:e(55479),supplyDefaults:e(91174),supplyLayoutDefaults:e(77182),calc:e(65039).y,crossTraceCalc:e(65039).T,plot:e(5893),style:e(96362).style,colorbar:e(4898),meta:{}}},55479:function(H){H.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77182:function(H,U,e){var g=e(71828),P=e(55479);H.exports=function(L,T){function v(d,t){return g.coerce(L,T,P,d,t)}v("treemapcolorway",T.colorway),v("extendtreemapcolors")}},37210:function(H,U,e){var g=e(674),P=e(14102);H.exports=function(T,v,d){var t=d.flipX,r=d.flipY,u=d.packing==="dice-slice",n=d.pad[r?"bottom":"top"],s=d.pad[t?"right":"left"],f=d.pad[t?"left":"right"],l=d.pad[r?"top":"bottom"],x;u&&(x=s,s=n,n=x,x=f,f=l,l=x);var c=g.treemap().tile(a(d.packing,d.squarifyratio)).paddingInner(d.pad.inner).paddingLeft(s).paddingRight(f).paddingTop(n).paddingBottom(l).size(u?[v[1],v[0]]:v)(T);return(u||t||r)&&P(c,v,{swapXY:u,flipX:t,flipY:r}),c};function a(L,T){switch(L){case"squarify":return g.treemapSquarify.ratio(T);case"binary":return g.treemapBinary;case"dice":return g.treemapDice;case"slice":return g.treemapSlice;default:return g.treemapSliceDice}}},5893:function(H,U,e){var g=e(80694),P=e(52583);H.exports=function(L,T,v,d){return g(L,T,v,d,{type:"treemap",drawDescendants:P})}},46650:function(H,U,e){var g=e(39898),P=e(81684).sX,a=e(2791),L=e(71828),T=e(97313).TEXTPAD,v=e(17295),d=v.toMoveInsideBar,t=e(72597),r=t.recordMinTextSize,u=e(43473),n=e(66209);function s(f){return a.isHierarchyRoot(f)?"":a.getPtId(f)}H.exports=function(l,x,c,b,h){var o=l._fullLayout,p=x[0],S=p.trace,A=S.type,E=A==="icicle",m=p.hierarchy,M=a.findEntryWithLevel(m,S.level),w=g.select(c),i=w.selectAll("g.pathbar"),C=w.selectAll("g.slice");if(!M){i.remove(),C.remove();return}var y=a.isHierarchyRoot(M),_=!o.uniformtext.mode&&a.hasTransition(b),I=a.getMaxDepth(S),N=function(Xe){return Xe.data.depth-M.data.depth<I},k=o._size,O=S.domain,z=k.w*(O.x[1]-O.x[0]),F=k.h*(O.y[1]-O.y[0]),B=z,G=S.pathbar.thickness,Q=S.marker.line.width+u.gapWithPathbar,ee=S.pathbar.visible?S.pathbar.side.indexOf("bottom")>-1?F+Q:-(G+Q):0,ae={x0:B,x1:B,y0:ee,y1:ee+G},fe=function(Xe,Le,Pe){var ke=S.tiling.pad,Ce=function(Me){return Me-ke<=Le.x0},me=function(Me){return Me+ke>=Le.x1},oe=function(Me){return Me-ke<=Le.y0},pe=function(Me){return Me+ke>=Le.y1};return Xe.x0===Le.x0&&Xe.x1===Le.x1&&Xe.y0===Le.y0&&Xe.y1===Le.y1?{x0:Xe.x0,x1:Xe.x1,y0:Xe.y0,y1:Xe.y1}:{x0:Ce(Xe.x0-ke)?0:me(Xe.x0-ke)?Pe[0]:Xe.x0,x1:Ce(Xe.x1+ke)?0:me(Xe.x1+ke)?Pe[0]:Xe.x1,y0:oe(Xe.y0-ke)?0:pe(Xe.y0-ke)?Pe[1]:Xe.y0,y1:oe(Xe.y1+ke)?0:pe(Xe.y1+ke)?Pe[1]:Xe.y1}},K=null,W={},Z={},X=null,$=function(Xe,Le){return Le?W[s(Xe)]:Z[s(Xe)]},ie=function(Xe,Le,Pe,ke){if(Le)return W[s(m)]||ae;var Ce=Z[S.level]||Pe;return N(Xe)?fe(Xe,Ce,ke):{}};p.hasMultipleRoots&&y&&I++,S._maxDepth=I,S._backgroundColor=o.paper_bgcolor,S._entryDepth=M.data.depth,S._atRootLevel=y;var J=-z/2+k.l+k.w*(O.x[1]+O.x[0])/2,j=-F/2+k.t+k.h*(1-(O.y[1]+O.y[0])/2),se=function(Xe){return J+Xe},ne=function(Xe){return j+Xe},ue=ne(0),ge=se(0),we=function(Xe){return ge+Xe},xe=function(Xe){return ue+Xe};function Fe(Xe,Le){return Xe+","+Le}var ze=we(0),Te=function(Xe){Xe.x=Math.max(ze,Xe.x)},ye=S.pathbar.edgeshape,Ae=function(Xe){var Le=we(Math.max(Math.min(Xe.x0,Xe.x0),0)),Pe=we(Math.min(Math.max(Xe.x1,Xe.x1),B)),ke=xe(Xe.y0),Ce=xe(Xe.y1),me=G/2,oe={},pe={};oe.x=Le,pe.x=Pe,oe.y=pe.y=(ke+Ce)/2;var Me={x:Le,y:ke},_e={x:Pe,y:ke},tt={x:Pe,y:Ce},at={x:Le,y:Ce};return ye===">"?(Me.x-=me,_e.x-=me,tt.x-=me,at.x-=me):ye==="/"?(tt.x-=me,at.x-=me,oe.x-=me/2,pe.x-=me/2):ye==="\\"?(Me.x-=me,_e.x-=me,oe.x-=me/2,pe.x-=me/2):ye==="<"&&(oe.x-=me,pe.x-=me),Te(Me),Te(at),Te(oe),Te(_e),Te(tt),Te(pe),"M"+Fe(Me.x,Me.y)+"L"+Fe(_e.x,_e.y)+"L"+Fe(pe.x,pe.y)+"L"+Fe(tt.x,tt.y)+"L"+Fe(at.x,at.y)+"L"+Fe(oe.x,oe.y)+"Z"},Ne=S[E?"tiling":"marker"].pad,Ue=function(Xe){return S.textposition.indexOf(Xe)!==-1},Re=Ue("top"),Ve=Ue("left"),rt=Ue("right"),Qe=Ue("bottom"),Je=function(Xe){var Le=se(Xe.x0),Pe=se(Xe.x1),ke=ne(Xe.y0),Ce=ne(Xe.y1),me=Pe-Le,oe=Ce-ke;if(!me||!oe)return"";var pe=S.marker.cornerradius||0,Me=Math.min(pe,me/2,oe/2);Me&&Xe.data&&Xe.data.data&&Xe.data.data.label&&(Re&&(Me=Math.min(Me,Ne.t)),Ve&&(Me=Math.min(Me,Ne.l)),rt&&(Me=Math.min(Me,Ne.r)),Qe&&(Me=Math.min(Me,Ne.b)));var _e=function(tt,at){return Me?"a"+Fe(Me,Me)+" 0 0 1 "+Fe(tt,at):""};return"M"+Fe(Le,ke+Me)+_e(Me,-Me)+"L"+Fe(Pe-Me,ke)+_e(Me,Me)+"L"+Fe(Pe,Ce-Me)+_e(-Me,Me)+"L"+Fe(Le+Me,Ce)+_e(-Me,-Me)+"Z"},qe=function(Xe,Le){var Pe=Xe.x0,ke=Xe.x1,Ce=Xe.y0,me=Xe.y1,oe=Xe.textBB,pe=Re||Le.isHeader&&!Qe,Me=pe?"start":Qe?"end":"middle",_e=Ue("right"),tt=Ue("left")||Le.onPathbar,at=tt?-1:_e?1:0;if(Le.isHeader){if(Pe+=(E?Ne:Ne.l)-T,ke-=(E?Ne:Ne.r)-T,Pe>=ke){var At=(Pe+ke)/2;Pe=At,ke=At}var Ft;Qe?(Ft=me-(E?Ne:Ne.b),Ce<Ft&&Ft<me&&(Ce=Ft)):(Ft=Ce+(E?Ne:Ne.t),Ce<Ft&&Ft<me&&(me=Ft))}var Gt=d(Pe,ke,Ce,me,oe,{isHorizontal:!1,constrained:!0,angle:0,anchor:Me,leftToRight:at});return Gt.fontSize=Le.fontSize,Gt.targetX=se(Gt.targetX),Gt.targetY=ne(Gt.targetY),isNaN(Gt.targetX)||isNaN(Gt.targetY)?{}:(Pe!==ke&&Ce!==me&&r(S.type,Gt,o),{scale:Gt.scale,rotate:Gt.rotate,textX:Gt.textX,textY:Gt.textY,anchorX:Gt.anchorX,anchorY:Gt.anchorY,targetX:Gt.targetX,targetY:Gt.targetY})},dt=function(Xe,Le){for(var Pe,ke=0,Ce=Xe;!Pe&&ke<I;)ke++,Ce=Ce.parent,Ce?Pe=$(Ce,Le):ke=I;return Pe||{}},pt=function(Xe,Le,Pe,ke){var Ce=$(Xe,Le),me;if(Le)me=ae;else{var oe=$(M,Le);oe?me=fe(Xe,oe,ke):me={}}return P(Ce,me)},mt=function(Xe,Le,Pe,ke,Ce){var me=$(Xe,Le),oe;if(me)oe=me;else if(Le)oe=ae;else if(K)if(Xe.parent){var pe=X||Pe;pe&&!Le?oe=fe(Xe,pe,ke):(oe={},L.extendFlat(oe,dt(Xe,Le)))}else oe=L.extendFlat({},Xe),E&&(Ce.orientation==="h"?Ce.flipX?oe.x0=Xe.x1:oe.x1=0:Ce.flipY?oe.y0=Xe.y1:oe.y1=0);else oe={};return P(oe,{x0:Xe.x0,x1:Xe.x1,y0:Xe.y0,y1:Xe.y1})},Ct=function(Xe,Le,Pe,ke){var Ce=$(Xe,Le),me={},oe=ie(Xe,Le,Pe,ke);L.extendFlat(me,{transform:qe({x0:oe.x0,x1:oe.x1,y0:oe.y0,y1:oe.y1,textBB:Xe.textBB,_text:Xe._text},{isHeader:a.isHeader(Xe,S)})}),Ce?me=Ce:Xe.parent&&L.extendFlat(me,dt(Xe,Le));var pe=Xe.transform;return Xe.x0!==Xe.x1&&Xe.y0!==Xe.y1&&r(S.type,pe,o),P(me,{transform:{scale:pe.scale,rotate:pe.rotate,textX:pe.textX,textY:pe.textY,anchorX:pe.anchorX,anchorY:pe.anchorY,targetX:pe.targetX,targetY:pe.targetY}})},Rt=function(Xe,Le,Pe,ke,Ce){var me=ke[0],oe=ke[1];_?Xe.exit().transition().each(function(){var pe=g.select(this),Me=pe.select("path.surface");Me.transition().attrTween("d",function(tt){var at=pt(tt,Le,Pe,[me,oe]);return function(At){return Ce(at(At))}});var _e=pe.select("g.slicetext");_e.attr("opacity",0)}).remove():Xe.exit().remove()},Zt=function(Xe){var Le=Xe.transform;return Xe.x0!==Xe.x1&&Xe.y0!==Xe.y1&&r(S.type,Le,o),L.getTextTransform({textX:Le.textX,textY:Le.textY,anchorX:Le.anchorX,anchorY:Le.anchorY,targetX:Le.targetX,targetY:Le.targetY,scale:Le.scale,rotate:Le.rotate})};_&&(i.each(function(Xe){W[s(Xe)]={x0:Xe.x0,x1:Xe.x1,y0:Xe.y0,y1:Xe.y1},Xe.transform&&(W[s(Xe)].transform={textX:Xe.transform.textX,textY:Xe.transform.textY,anchorX:Xe.transform.anchorX,anchorY:Xe.transform.anchorY,targetX:Xe.transform.targetX,targetY:Xe.transform.targetY,scale:Xe.transform.scale,rotate:Xe.transform.rotate})}),C.each(function(Xe){Z[s(Xe)]={x0:Xe.x0,x1:Xe.x1,y0:Xe.y0,y1:Xe.y1},Xe.transform&&(Z[s(Xe)].transform={textX:Xe.transform.textX,textY:Xe.transform.textY,anchorX:Xe.transform.anchorX,anchorY:Xe.transform.anchorY,targetX:Xe.transform.targetX,targetY:Xe.transform.targetY,scale:Xe.transform.scale,rotate:Xe.transform.rotate}),!K&&a.isEntry(Xe)&&(K=Xe)})),X=h(l,x,M,C,{width:z,height:F,viewX:se,viewY:ne,pathSlice:Je,toMoveInsideSlice:qe,prevEntry:K,makeUpdateSliceInterpolator:mt,makeUpdateTextInterpolator:Ct,handleSlicesExit:Rt,hasTransition:_,strTransform:Zt}),S.pathbar.visible?n(l,x,M,i,{barDifY:ee,width:B,height:G,viewX:we,viewY:xe,pathSlice:Ae,toMoveInsideSlice:qe,makeUpdateSliceInterpolator:mt,makeUpdateTextInterpolator:Ct,handleSlicesExit:Rt,hasTransition:_,strTransform:Zt}):i.remove()}},96362:function(H,U,e){var g=e(39898),P=e(7901),a=e(71828),L=e(2791),T=e(72597).resizeText,v=e(43467);function d(r){var u=r._fullLayout._treemaplayer.selectAll(".trace");T(r,u,"treemap"),u.each(function(n){var s=g.select(this),f=n[0],l=f.trace;s.style("opacity",l.opacity),s.selectAll("path.surface").each(function(x){g.select(this).call(t,x,l,r,{hovered:!1})})})}function t(r,u,n,s,f){var l=(f||{}).hovered,x=u.data.data,c=x.i,b,h,o=x.color,p=L.isHierarchyRoot(u),S=1;if(l)b=n._hovered.marker.line.color,h=n._hovered.marker.line.width;else if(p&&o===n.root.color)S=100,b="rgba(0,0,0,0)",h=0;else if(b=a.castOption(n,c,"marker.line.color")||P.defaultLine,h=a.castOption(n,c,"marker.line.width")||0,!n._hasColorscale&&!u.onPathbar){var A=n.marker.depthfade;if(A){var E=P.combine(P.addOpacity(n._backgroundColor,.75),o),m;if(A===!0){var M=L.getMaxDepth(n);isFinite(M)?L.isLeaf(u)?m=0:m=n._maxVisibleLayers-(u.data.depth-n._entryDepth):m=u.data.height+1}else m=u.data.depth-n._entryDepth,n._atRootLevel||m++;if(m>0)for(var w=0;w<m;w++){var i=.5*w/m;o=P.combine(P.addOpacity(E,i),o)}}}r.call(v,u,n,s,o).style("stroke-width",h).call(P.stroke,b).style("opacity",S)}H.exports={style:d,styleOne:t}},68875:function(H,U,e){var g=e(53522),P=e(1426).extendFlat,a=e(12663).axisHoverFormat;H.exports={y:g.y,x:g.x,x0:g.x0,y0:g.y0,xhoverformat:a("x"),yhoverformat:a("y"),name:P({},g.name,{}),orientation:P({},g.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:g.fillcolor,points:P({},g.boxpoints,{}),jitter:P({},g.jitter,{}),pointpos:P({},g.pointpos,{}),width:P({},g.width,{}),marker:g.marker,text:g.text,hovertext:g.hovertext,hovertemplate:g.hovertemplate,quartilemethod:g.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:g.selected,unselected:g.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},38603:function(H,U,e){var g=e(71828),P=e(89298),a=e(48518),L=e(60168),T=e(50606).BADNUM;H.exports=function(u,n){var s=a(u,n);if(s[0].t.empty)return s;for(var f=u._fullLayout,l=P.getFromId(u,n[n.orientation==="h"?"xaxis":"yaxis"]),x=1/0,c=-1/0,b=0,h=0,o=0;o<s.length;o++){var p=s[o],S=p.pts.map(L.extractVal),A=p.bandwidth=d(n,p,S),E=p.span=t(n,p,l,A);if(p.min===p.max&&A===0)E=p.span=[p.min,p.max],p.density=[{v:1,t:E[0]}],p.bandwidth=A,b=Math.max(b,1);else{var m=E[1]-E[0],M=Math.ceil(m/(A/3)),w=m/M;if(!isFinite(w)||!isFinite(M))return g.error("Something went wrong with computing the violin span"),s[0].t.empty=!0,s;var i=L.makeKDE(p,n,S);p.density=new Array(M);for(var C=0,y=E[0];y<E[1]+w/2;C++,y+=w){var _=i(y);p.density[C]={v:_,t:y},b=Math.max(b,_)}}h=Math.max(h,S.length),x=Math.min(x,E[0]),c=Math.max(c,E[1])}var I=P.findExtremes(l,[x,c],{padded:!0});if(n._extremes[l._id]=I,n.width)s[0].t.maxKDE=b;else{var N=f._violinScaleGroupStats,k=n.scalegroup,O=N[k];O?(O.maxKDE=Math.max(O.maxKDE,b),O.maxCount=Math.max(O.maxCount,h)):N[k]={maxKDE:b,maxCount:h}}return s[0].t.labels.kde=g._(u,"kde:"),s};function v(r,u,n){var s=Math.min(u,n/1.349);return 1.059*s*Math.pow(r,-.2)}function d(r,u,n){var s=u.max-u.min;if(!s)return r.bandwidth?r.bandwidth:0;if(r.bandwidth)return Math.max(r.bandwidth,s/1e4);var f=n.length,l=g.stdev(n,f-1,u.mean);return Math.max(v(f,l,u.q3-u.q1),s/100)}function t(r,u,n,s){var f=r.spanmode,l=r.span||[],x=[u.min,u.max],c=[u.min-2*s,u.max+2*s],b;function h(p){var S=l[p],A=n.type==="multicategory"?n.r2c(S):n.d2c(S,0,r[u.valLetter+"calendar"]);return A===T?c[p]:A}f==="soft"?b=c:f==="hard"?b=x:b=[h(0),h(1)];var o={type:"linear",range:b};return P.setConvert(o),o.cleanRange(),b}},86403:function(H,U,e){var g=e(37188).setPositionOffset,P=["v","h"];H.exports=function(L,T){for(var v=L.calcdata,d=T.xaxis,t=T.yaxis,r=0;r<P.length;r++){for(var u=P[r],n=u==="h"?t:d,s=[],f=0;f<v.length;f++){var l=v[f],x=l[0].t,c=l[0].trace;c.visible===!0&&c.type==="violin"&&!x.empty&&c.orientation===u&&c.xaxis===d._id&&c.yaxis===t._id&&s.push(f)}g("violin",L,s,n)}}},15899:function(H,U,e){var g=e(71828),P=e(7901),a=e(36411),L=e(68875);H.exports=function(v,d,t,r){function u(w,i){return g.coerce(v,d,L,w,i)}function n(w,i){return g.coerce2(v,d,L,w,i)}if(a.handleSampleDefaults(v,d,u,r),d.visible!==!1){u("bandwidth"),u("side");var s=u("width");s||(u("scalegroup",d.name),u("scalemode"));var f=u("span"),l;Array.isArray(f)&&(l="manual"),u("spanmode",l);var x=u("line.color",(v.marker||{}).color||t),c=u("line.width"),b=u("fillcolor",P.addOpacity(d.line.color,.5));a.handlePointsDefaults(v,d,u,{prefix:""});var h=n("box.width"),o=n("box.fillcolor",b),p=n("box.line.color",x),S=n("box.line.width",c),A=u("box.visible",!!(h||o||p||S));A||(d.box={visible:!1});var E=n("meanline.color",x),m=n("meanline.width",c),M=u("meanline.visible",!!(E||m));M||(d.meanline={visible:!1}),u("quartilemethod")}}},60168:function(H,U,e){var g=e(71828),P={gaussian:function(a){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*a*a)}};U.makeKDE=function(a,L,T){var v=T.length,d=P.gaussian,t=a.bandwidth,r=1/(v*t);return function(u){for(var n=0,s=0;s<v;s++)n+=d((u-T[s])/t);return r*n}},U.getPositionOnKdePath=function(a,L,T){var v,d;L.orientation==="h"?(v="y",d="x"):(v="x",d="y");var t=g.findPointOnPath(a.path,T,d,{pathLength:a.pathLength}),r=a.posCenterPx,u=t[v],n=L.side==="both"?2*r-u:r;return[u,n]},U.getKdeValue=function(a,L,T){var v=a.pts.map(U.extractVal),d=U.makeKDE(a,L,v);return d(T)/a.posDensityScale},U.extractVal=function(a){return a.v}},57634:function(H,U,e){var g=e(7901),P=e(71828),a=e(89298),L=e(41868),T=e(60168);H.exports=function(d,t,r,u,n){n||(n={});var s=n.hoverLayer,f=d.cd,l=f[0].trace,x=l.hoveron,c=x.indexOf("violins")!==-1,b=x.indexOf("kde")!==-1,h=[],o,p;if(c||b){var S=L.hoverOnBoxes(d,t,r,u);if(b&&S.length>0){var A=d.xa,E=d.ya,m,M,w,i,C;l.orientation==="h"?(C=t,m="y",w=E,M="x",i=A):(C=r,m="x",w=A,M="y",i=E);var y=f[d.index];if(C>=y.span[0]&&C<=y.span[1]){var _=P.extendFlat({},d),I=i.c2p(C,!0),N=T.getKdeValue(y,l,C),k=T.getPositionOnKdePath(y,l,I),O=w._offset,z=w._length;_[m+"0"]=k[0],_[m+"1"]=k[1],_[M+"0"]=_[M+"1"]=I,_[M+"Label"]=M+": "+a.hoverLabelText(i,C,l[M+"hoverformat"])+", "+f[0].t.labels.kde+" "+N.toFixed(3);for(var F=0,B=0;B<S.length;B++)if(S[B].attr==="med"){F=B;break}_.spikeDistance=S[F].spikeDistance;var G=m+"Spike";_[G]=S[F][G],S[F].spikeDistance=void 0,S[F][G]=void 0,_.hovertemplate=!1,h.push(_),p={},p[m+"1"]=P.constrain(O+k[0],O,O+z),p[m+"2"]=P.constrain(O+k[1],O,O+z),p[M+"1"]=p[M+"2"]=i._offset+I}}c&&(h=h.concat(S))}x.indexOf("points")!==-1&&(o=L.hoverOnPoints(d,t,r));var Q=s.selectAll(".violinline-"+l.uid).data(p?[0]:[]);return Q.enter().append("line").classed("violinline-"+l.uid,!0).attr("stroke-width",1.5),Q.exit().remove(),Q.attr(p).call(g.stroke,d.color),u==="closest"?o?[o]:h:(o&&h.push(o),h)}},47462:function(H,U,e){H.exports={attributes:e(68875),layoutAttributes:e(9228),supplyDefaults:e(15899),crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(33598),calc:e(38603),crossTraceCalc:e(86403),plot:e(28443),style:e(31847),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(57634),selectPoints:e(24626),moduleType:"trace",name:"violin",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},9228:function(H,U,e){var g=e(40094),P=e(71828).extendFlat;H.exports={violinmode:P({},g.boxmode,{}),violingap:P({},g.boxgap,{}),violingroupgap:P({},g.boxgroupgap,{})}},33598:function(H,U,e){var g=e(71828),P=e(9228),a=e(4199);H.exports=function(T,v,d){function t(r,u){return g.coerce(T,v,P,r,u)}a._supply(T,v,d,t,"violin")}},28443:function(H,U,e){var g=e(39898),P=e(71828),a=e(91424),L=e(86047),T=e(34621),v=e(60168);H.exports=function(t,r,u,n){var s=t._context.staticPlot,f=t._fullLayout,l=r.xaxis,x=r.yaxis;function c(b,h){var o=T(b,{xaxis:l,yaxis:x,trace:h,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return a.smoothopen(o[0],1)}P.makeTraceGroups(n,u,"trace violins").each(function(b){var h=g.select(this),o=b[0],p=o.t,S=o.trace;if(S.visible!==!0||p.empty){h.remove();return}var A=p.bPos,E=p.bdPos,m=r[p.valLetter+"axis"],M=r[p.posLetter+"axis"],w=S.side==="both",i=w||S.side==="positive",C=w||S.side==="negative",y=h.selectAll("path.violin").data(P.identity);y.enter().append("path").style("vector-effect",s?"none":"non-scaling-stroke").attr("class","violin"),y.exit().remove(),y.each(function(B){var G=g.select(this),Q=B.density,ee=Q.length,ae=M.c2l(B.pos+A,!0),fe=M.l2p(ae),K;if(S.width)K=p.maxKDE/E;else{var W=f._violinScaleGroupStats[S.scalegroup];K=S.scalemode==="count"?W.maxKDE/E*(W.maxCount/B.pts.length):W.maxKDE/E}var Z,X,$,ie,J,j,se;if(i){for(j=new Array(ee),ie=0;ie<ee;ie++)se=j[ie]={},se[p.posLetter]=ae+Q[ie].v/K,se[p.valLetter]=m.c2l(Q[ie].t,!0);Z=c(j,S)}if(C){for(j=new Array(ee),J=0,ie=ee-1;J<ee;J++,ie--)se=j[J]={},se[p.posLetter]=ae-Q[ie].v/K,se[p.valLetter]=m.c2l(Q[ie].t,!0);X=c(j,S)}if(w)$=Z+"L"+X.substr(1)+"Z";else{var ne=[fe,m.c2p(Q[0].t)],ue=[fe,m.c2p(Q[ee-1].t)];S.orientation==="h"&&(ne.reverse(),ue.reverse()),i?$="M"+ne+"L"+Z.substr(1)+"L"+ue:$="M"+ue+"L"+X.substr(1)+"L"+ne}G.attr("d",$),B.posCenterPx=fe,B.posDensityScale=K*E,B.path=G.node(),B.pathLength=B.path.getTotalLength()/(w?2:1)});var _=S.box,I=_.width,N=(_.line||{}).width,k,O;w?(k=E*I,O=0):i?(k=[0,E*I/2],O=N*{x:1,y:-1}[p.posLetter]):(k=[E*I/2,0],O=N*{x:-1,y:1}[p.posLetter]),L.plotBoxAndWhiskers(h,{pos:M,val:m},S,{bPos:A,bdPos:k,bPosPxOffset:O}),L.plotBoxMean(h,{pos:M,val:m},S,{bPos:A,bdPos:k,bPosPxOffset:O});var z;!S.box.visible&&S.meanline.visible&&(z=P.identity);var F=h.selectAll("path.meanline").data(z||[]);F.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",s?"none":"non-scaling-stroke"),F.exit().remove(),F.each(function(B){var G=m.c2p(B.mean,!0),Q=v.getPositionOnKdePath(B,S,G);g.select(this).attr("d",S.orientation==="h"?"M"+G+","+Q[0]+"V"+Q[1]:"M"+Q[0]+","+G+"H"+Q[1])}),L.plotPoints(h,{x:l,y:x},S,p)})}},31847:function(H,U,e){var g=e(39898),P=e(7901),a=e(16296).stylePoints;H.exports=function(T){var v=g.select(T).selectAll("g.trace.violins");v.style("opacity",function(d){return d[0].trace.opacity}),v.each(function(d){var t=d[0].trace,r=g.select(this),u=t.box||{},n=u.line||{},s=t.meanline||{},f=s.width;r.selectAll("path.violin").style("stroke-width",t.line.width+"px").call(P.stroke,t.line.color).call(P.fill,t.fillcolor),r.selectAll("path.box").style("stroke-width",n.width+"px").call(P.stroke,n.color).call(P.fill,u.fillcolor);var l={"stroke-width":f+"px","stroke-dasharray":2*f+"px,"+f+"px"};r.selectAll("path.mean").style(l).call(P.stroke,s.color),r.selectAll("path.meanline").style(l).call(P.stroke,s.color),a(r,t,T)})}},16336:function(H,U,e){var g=e(50693),P=e(16249),a=e(54532),L=e(9012),T=e(1426).extendFlat,v=e(30962).overrideAll,d=H.exports=v(T({x:P.x,y:P.y,z:P.z,value:P.value,isomin:P.isomin,isomax:P.isomax,surface:P.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:P.slices,caps:P.caps,text:P.text,hovertext:P.hovertext,xhoverformat:P.xhoverformat,yhoverformat:P.yhoverformat,zhoverformat:P.zhoverformat,valuehoverformat:P.valuehoverformat,hovertemplate:P.hovertemplate},g("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:P.colorbar,opacity:P.opacity,opacityscale:a.opacityscale,lightposition:P.lightposition,lighting:P.lighting,flatshading:P.flatshading,contour:P.contour,hoverinfo:T({},L.hoverinfo),showlegend:T({},L.showlegend,{dflt:!1})}),"calc","nested");d.x.editType=d.y.editType=d.z.editType=d.value.editType="calc+clearAxisTypes",d.transforms=void 0},64809:function(H,U,e){var g=e(9330).gl_mesh3d,P=e(81697).parseColorScale,a=e(78614),L=e(21081).extractOpts,T=e(90060),v=e(22674).findNearestOnAxis,d=e(22674).generateIsoMeshes;function t(n,s,f){this.scene=n,this.uid=f,this.mesh=s,this.name="",this.data=null,this.showContour=!1}var r=t.prototype;r.handlePick=function(n){if(n.object===this.mesh){var s=n.data.index,f=this.data._meshX[s],l=this.data._meshY[s],x=this.data._meshZ[s],c=this.data._Ys.length,b=this.data._Zs.length,h=v(f,this.data._Xs).id,o=v(l,this.data._Ys).id,p=v(x,this.data._Zs).id,S=n.index=p+b*o+b*c*h;n.traceCoordinate=[this.data._meshX[S],this.data._meshY[S],this.data._meshZ[S],this.data._value[S]];var A=this.data.hovertext||this.data.text;return Array.isArray(A)&&A[S]!==void 0?n.textLabel=A[S]:A&&(n.textLabel=A),!0}},r.update=function(n){var s=this.scene,f=s.fullSceneLayout;this.data=d(n);function l(o,p,S,A){return p.map(function(E){return o.d2l(E,0,A)*S})}var x=T(l(f.xaxis,n._meshX,s.dataScale[0],n.xcalendar),l(f.yaxis,n._meshY,s.dataScale[1],n.ycalendar),l(f.zaxis,n._meshZ,s.dataScale[2],n.zcalendar)),c=T(n._meshI,n._meshJ,n._meshK),b={positions:x,cells:c,lightPosition:[n.lightposition.x,n.lightposition.y,n.lightposition.z],ambient:n.lighting.ambient,diffuse:n.lighting.diffuse,specular:n.lighting.specular,roughness:n.lighting.roughness,fresnel:n.lighting.fresnel,vertexNormalsEpsilon:n.lighting.vertexnormalsepsilon,faceNormalsEpsilon:n.lighting.facenormalsepsilon,opacity:n.opacity,opacityscale:n.opacityscale,contourEnable:n.contour.show,contourColor:a(n.contour.color).slice(0,3),contourWidth:n.contour.width,useFacetNormals:n.flatshading},h=L(n);b.vertexIntensity=n._meshIntensity,b.vertexIntensityBounds=[h.min,h.max],b.colormap=P(n),this.mesh.update(b)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function u(n,s){var f=n.glplot.gl,l=g({gl:f}),x=new t(n,l,s.uid);return l._trace=x,x.update(s),n.glplot.add(l),x}H.exports=u},47651:function(H,U,e){var g=e(71828),P=e(16336),a=e(82738).supplyIsoDefaults,L=e(91831).opacityscaleDefaults;H.exports=function(v,d,t,r){function u(n,s){return g.coerce(v,d,P,n,s)}a(v,d,t,r,u),L(v,d,r,u)}},17659:function(H,U,e){H.exports={attributes:e(16336),supplyDefaults:e(47651),calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(64809),moduleType:"trace",name:"volume",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},43037:function(H,U,e){var g=e(1486),P=e(82196).line,a=e(9012),L=e(12663).axisHoverFormat,T=e(5386).fF,v=e(5386).si,d=e(48334),t=e(1426).extendFlat,r=e(7901);function u(n){return{marker:{color:t({},g.marker.color,{arrayOk:!1,editType:"style"}),line:{color:t({},g.marker.line.color,{arrayOk:!1,editType:"style"}),width:t({},g.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}H.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),hovertext:g.hovertext,hovertemplate:T({},{keys:d.eventDataKeys}),hoverinfo:t({},a.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:d.eventDataKeys.concat(["label"])}),text:g.text,textposition:g.textposition,insidetextanchor:g.insidetextanchor,textangle:g.textangle,textfont:g.textfont,insidetextfont:g.insidetextfont,outsidetextfont:g.outsidetextfont,constraintext:g.constraintext,cliponaxis:g.cliponaxis,orientation:g.orientation,offset:g.offset,width:g.width,increasing:u(),decreasing:u(),totals:u(),connector:{line:{color:t({},P.color,{dflt:r.defaultLine}),width:t({},P.width,{editType:"plot"}),dash:P.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup}},52752:function(H,U,e){var g=e(89298),P=e(42973),a=e(71828).mergeArray,L=e(66279),T=e(50606).BADNUM;function v(t){return t==="a"||t==="absolute"}function d(t){return t==="t"||t==="total"}H.exports=function(r,u){var n=g.getFromId(r,u.xaxis||"x"),s=g.getFromId(r,u.yaxis||"y"),f,l,x,c,b,h;u.orientation==="h"?(f=n.makeCalcdata(u,"x"),x=s.makeCalcdata(u,"y"),c=P(u,s,"y",x),b=!!u.yperiodalignment,h="y"):(f=s.makeCalcdata(u,"y"),x=n.makeCalcdata(u,"x"),c=P(u,n,"x",x),b=!!u.xperiodalignment,h="x"),l=c.vals;for(var o=Math.min(l.length,f.length),p=new Array(o),S=0,A,E=!1,m=0;m<o;m++){var M=f[m]||0,w=!1;(f[m]!==T||d(u.measure[m])||v(u.measure[m]))&&m+1<o&&(f[m+1]!==T||d(u.measure[m+1])||v(u.measure[m+1]))&&(w=!0);var i=p[m]={i:m,p:l[m],s:M,rawS:M,cNext:w};v(u.measure[m])?(S=i.s,i.isSum=!0,i.dir="totals",i.s=S):d(u.measure[m])?(i.isSum=!0,i.dir="totals",i.s=S):(i.isSum=!1,i.dir=i.rawS<0?"decreasing":"increasing",A=i.s,i.s=S+A,S+=A),i.dir==="totals"&&(E=!0),b&&(p[m].orig_p=x[m],p[m][h+"End"]=c.ends[m],p[m][h+"Start"]=c.starts[m]),u.ids&&(i.id=String(u.ids[m])),i.v=(u.base||0)+S}return p.length&&(p[0].hasTotals=E),a(u.text,p,"tx"),a(u.hovertext,p,"htx"),L(p,u),p}},48334:function(H){H.exports={eventDataKeys:["initial","delta","final"]}},70766:function(H,U,e){var g=e(11661).setGroupPositions;H.exports=function(a,L){var T=a._fullLayout,v=a._fullData,d=a.calcdata,t=L.xaxis,r=L.yaxis,u=[],n=[],s=[],f,l;for(l=0;l<v.length;l++){var x=v[l];x.visible===!0&&x.xaxis===t._id&&x.yaxis===r._id&&x.type==="waterfall"&&(f=d[l],x.orientation==="h"?s.push(f):n.push(f),u.push(f))}var c={mode:T.waterfallmode,norm:T.waterfallnorm,gap:T.waterfallgap,groupgap:T.waterfallgroupgap};for(g(a,t,r,n,c),g(a,r,t,s,c),l=0;l<u.length;l++){f=u[l];for(var b=0;b<f.length;b++){var h=f[b];h.isSum===!1&&(h.s0+=b===0?0:f[b-1].s),b+1<f.length&&(f[b].nextP0=f[b+1].p0,f[b].nextS0=f[b+1].s0)}}}},83266:function(H,U,e){var g=e(71828),P=e(26125),a=e(90769).handleText,L=e(67513),T=e(73927),v=e(43037),d=e(7901),t=e(22372),r=t.INCREASING.COLOR,u=t.DECREASING.COLOR,n="#4499FF";function s(x,c,b){x(c+".marker.color",b),x(c+".marker.line.color",d.defaultLine),x(c+".marker.line.width")}function f(x,c,b,h){function o(m,M){return g.coerce(x,c,v,m,M)}var p=L(x,c,h,o);if(!p){c.visible=!1;return}T(x,c,h,o),o("xhoverformat"),o("yhoverformat"),o("measure"),o("orientation",c.x&&!c.y?"h":"v"),o("base"),o("offset"),o("width"),o("text"),o("hovertext"),o("hovertemplate");var S=o("textposition");a(x,c,h,o,S,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),c.textposition!=="none"&&(o("texttemplate"),c.texttemplate||o("textinfo")),s(o,"increasing",r),s(o,"decreasing",u),s(o,"totals",n);var A=o("connector.visible");if(A){o("connector.mode");var E=o("connector.line.width");E&&(o("connector.line.color"),o("connector.line.dash"))}}function l(x,c){var b,h;function o(S){return g.coerce(h._input,h,v,S)}if(c.waterfallmode==="group")for(var p=0;p<x.length;p++)h=x[p],b=h._input,P(b,h,c,o)}H.exports={supplyDefaults:f,crossTraceDefaults:l}},58593:function(H){H.exports=function(e,g){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"initial"in g&&(e.initial=g.initial),"delta"in g&&(e.delta=g.delta),"final"in g&&(e.final=g.final),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},61326:function(H,U,e){var g=e(89298).hoverLabelText,P=e(7901).opacity,a=e(95423).hoverOnBars,L=e(22372),T={increasing:L.INCREASING.SYMBOL,decreasing:L.DECREASING.SYMBOL};H.exports=function(t,r,u,n,s){var f=a(t,r,u,n,s);if(!f)return;var l=f.cd,x=l[0].trace,c=x.orientation==="h",b=c?"x":"y",h=c?t.xa:t.ya;function o(y){return g(h,y,x[b+"hoverformat"])}var p=f.index,S=l[p],A=S.isSum?S.b+S.s:S.rawS;f.initial=S.b+S.s-A,f.delta=A,f.final=f.initial+f.delta;var E=o(Math.abs(f.delta));f.deltaLabel=A<0?"("+E+")":E,f.finalLabel=o(f.final),f.initialLabel=o(f.initial);var m=S.hi||x.hoverinfo,M=[];if(m&&m!=="none"&&m!=="skip"){var w=m==="all",i=m.split("+"),C=function(y){return w||i.indexOf(y)!==-1};S.isSum||(C("final")&&(c?!C("x"):!C("y"))&&M.push(f.finalLabel),C("delta")&&(A<0?M.push(f.deltaLabel+" "+T.decreasing):M.push(f.deltaLabel+" "+T.increasing)),C("initial")&&M.push("Initial: "+f.initialLabel))}return M.length&&(f.extraText=M.join("<br>")),f.color=v(x,S),[f]};function v(d,t){var r=d[t.dir].marker,u=r.color,n=r.line.color,s=r.line.width;if(P(u))return u;if(P(n)&&s)return n}},19990:function(H,U,e){H.exports={attributes:e(43037),layoutAttributes:e(13494),supplyDefaults:e(83266).supplyDefaults,crossTraceDefaults:e(83266).crossTraceDefaults,supplyLayoutDefaults:e(5176),calc:e(52752),crossTraceCalc:e(70766),plot:e(30436),style:e(55750).style,hoverPoints:e(61326),eventData:e(58593),selectPoints:e(81974),moduleType:"trace",name:"waterfall",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},13494:function(H){H.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},5176:function(H,U,e){var g=e(71828),P=e(13494);H.exports=function(a,L,T){var v=!1;function d(u,n){return g.coerce(a,L,P,u,n)}for(var t=0;t<T.length;t++){var r=T[t];if(r.visible&&r.type==="waterfall"){v=!0;break}}v&&(d("waterfallmode"),d("waterfallgap",.2),d("waterfallgroupgap"))}},30436:function(H,U,e){var g=e(39898),P=e(71828),a=e(91424),L=e(50606).BADNUM,T=e(17295),v=e(72597).clearMinTextSize;H.exports=function(u,n,s,f){var l=u._fullLayout;v("waterfall",l),T.plot(u,n,s,f,{mode:l.waterfallmode,norm:l.waterfallmode,gap:l.waterfallgap,groupgap:l.waterfallgroupgap}),d(u,n,s,f)};function d(r,u,n,s){var f=u.xaxis,l=u.yaxis;P.makeTraceGroups(s,n,"trace bars").each(function(x){var c=g.select(this),b=x[0].trace,h=P.ensureSingle(c,"g","lines");if(!b.connector||!b.connector.visible){h.remove();return}var o=b.orientation==="h",p=b.connector.mode,S=h.selectAll("g.line").data(P.identity);S.enter().append("g").classed("line",!0),S.exit().remove();var A=S.size();S.each(function(E,m){if(!(m!==A-1&&!E.cNext)){var M=t(E,f,l,o),w=M[0],i=M[1],C="";w[0]!==L&&i[0]!==L&&w[1]!==L&&i[1]!==L&&(p==="spanning"&&!E.isSum&&m>0&&(o?C+="M"+w[0]+","+i[1]+"V"+i[0]:C+="M"+w[1]+","+i[0]+"H"+w[0]),p!=="between"&&(E.isSum||m<A-1)&&(o?C+="M"+w[1]+","+i[0]+"V"+i[1]:C+="M"+w[0]+","+i[1]+"H"+w[1]),w[2]!==L&&i[2]!==L&&(o?C+="M"+w[1]+","+i[1]+"V"+i[2]:C+="M"+w[1]+","+i[1]+"H"+w[2])),C===""&&(C="M0,0Z"),P.ensureSingle(g.select(this),"path").attr("d",C).call(a.setClipUrl,u.layerClipId,r)}})})}function t(r,u,n,s){var f=[],l=[],x=s?u:n,c=s?n:u;return f[0]=x.c2p(r.s0,!0),l[0]=c.c2p(r.p0,!0),f[1]=x.c2p(r.s1,!0),l[1]=c.c2p(r.p1,!0),f[2]=x.c2p(r.nextS0,!0),l[2]=c.c2p(r.nextP0,!0),s?[f,l]:[l,f]}},55750:function(H,U,e){var g=e(39898),P=e(91424),a=e(7901),L=e(37822).DESELECTDIM,T=e(16688),v=e(72597).resizeText,d=T.styleTextPoints;function t(r,u,n){var s=n||g.select(r).selectAll("g.waterfalllayer").selectAll("g.trace");v(r,s,"waterfall"),s.style("opacity",function(f){return f[0].trace.opacity}),s.each(function(f){var l=g.select(this),x=f[0].trace;l.selectAll(".point > path").each(function(c){if(!c.isBlank){var b=x[c.dir].marker;g.select(this).call(a.fill,b.color).call(a.stroke,b.line.color).call(P.dashLine,b.line.dash,b.line.width).style("opacity",x.selectedpoints&&!c.selected?L:1)}}),d(l,x,r),l.selectAll(".lines").each(function(){var c=x.connector.line;P.lineGroupStyle(g.select(this).selectAll("path"),c.width,c.color,c.dash)})})}H.exports={style:t}},82887:function(H,U,e){var g=e(89298),P=e(71828),a=e(86281),L=e(79344).p,T=e(50606).BADNUM;U.moduleType="transform",U.name="aggregate";var v=U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},d=v.aggregations;U.supplyDefaults=function(f,l){var x={},c;function b(y,_){return P.coerce(f,x,v,y,_)}var h=b("enabled");if(!h)return x;var o=a.findArrayAttributes(l),p={};for(c=0;c<o.length;c++)p[o[c]]=1;var S=b("groups");if(!Array.isArray(S)){if(!p[S])return x.enabled=!1,x;p[S]=0}var A=f.aggregations||[],E=x.aggregations=new Array(A.length),m;function M(y,_){return P.coerce(A[c],m,d,y,_)}for(c=0;c<A.length;c++){m={_index:c};var w=M("target"),i=M("func"),C=M("enabled");C&&w&&(p[w]||i==="count"&&p[w]===void 0)?(i==="stddev"&&M("funcmode"),p[w]=0,E[c]=m):E[c]={enabled:!1,_index:c}}for(c=0;c<o.length;c++)p[o[c]]&&E.push({target:o[c],func:d.func.dflt,enabled:!0,_index:-1});return x},U.calcTransform=function(f,l,x){if(x.enabled){var c=x.groups,b=P.getTargetArray(l,{target:c});if(b){var h,o,p,S,A={},E={},m=[],M=L(l.transforms,x),w=b.length;for(l._length&&(w=Math.min(w,l._length)),h=0;h<w;h++)o=b[h],p=A[o],p===void 0?(A[o]=m.length,S=[h],m.push(S),E[A[o]]=M(h)):(m[p].push(h),E[A[o]]=(E[A[o]]||[]).concat(M(h)));x._indexToPoints=E;var i=x.aggregations;for(h=0;h<i.length;h++)t(f,l,m,i[h]);typeof c=="string"&&t(f,l,m,{target:c,func:"first",enabled:!0}),l._length=m.length}}};function t(f,l,x,c){if(c.enabled){for(var b=c.target,h=P.nestedProperty(l,b),o=h.get(),p=g.getDataConversions(f,l,b,o),S=r(c,p),A=new Array(x.length),E=0;E<x.length;E++)A[E]=S(o,x[E]);h.set(A),c.func==="count"&&P.pushUnique(l._arrayAttrs,b)}}function r(f,l){var x=f.func,c=l.d2c,b=l.c2d;switch(x){case"count":return u;case"first":return n;case"last":return s;case"sum":return function(h,o){for(var p=0,S=0;S<o.length;S++){var A=c(h[o[S]]);A!==T&&(p+=A)}return b(p)};case"avg":return function(h,o){for(var p=0,S=0,A=0;A<o.length;A++){var E=c(h[o[A]]);E!==T&&(p+=E,S++)}return S?b(p/S):T};case"min":return function(h,o){for(var p=1/0,S=0;S<o.length;S++){var A=c(h[o[S]]);A!==T&&(p=Math.min(p,A))}return p===1/0?T:b(p)};case"max":return function(h,o){for(var p=-1/0,S=0;S<o.length;S++){var A=c(h[o[S]]);A!==T&&(p=Math.max(p,A))}return p===-1/0?T:b(p)};case"range":return function(h,o){for(var p=1/0,S=-1/0,A=0;A<o.length;A++){var E=c(h[o[A]]);E!==T&&(p=Math.min(p,E),S=Math.max(S,E))}return S===-1/0||p===1/0?T:b(S-p)};case"change":return function(h,o){var p=c(h[o[0]]),S=c(h[o[o.length-1]]);return p===T||S===T?T:b(S-p)};case"median":return function(h,o){for(var p=[],S=0;S<o.length;S++){var A=c(h[o[S]]);A!==T&&p.push(A)}if(!p.length)return T;p.sort(P.sorterAsc);var E=(p.length-1)/2;return b((p[Math.floor(E)]+p[Math.ceil(E)])/2)};case"mode":return function(h,o){for(var p={},S=0,A=T,E=0;E<o.length;E++){var m=c(h[o[E]]);if(m!==T){var M=p[m]=(p[m]||0)+1;M>S&&(S=M,A=m)}}return S?b(A):T};case"rms":return function(h,o){for(var p=0,S=0,A=0;A<o.length;A++){var E=c(h[o[A]]);E!==T&&(p+=E*E,S++)}return S?b(Math.sqrt(p/S)):T};case"stddev":return function(h,o){var p=0,S=0,A=1,E=T,m;for(m=0;m<o.length&&E===T;m++)E=c(h[o[m]]);if(E===T)return T;for(;m<o.length;m++){var M=c(h[o[m]]);if(M!==T){var w=M-E;p+=w,S+=w*w,A++}}var i=f.funcmode==="sample"?A-1:A;return i?Math.sqrt((S-p*p/A)/i):0}}}function u(f,l){return l.length}function n(f,l){return f[l[0]]}function s(f,l){return f[l[l.length-1]]}},14382:function(H,U,e){var g=e(71828),P=e(73972),a=e(89298),L=e(79344).p,T=e(74808),v=T.COMPARISON_OPS,d=T.INTERVAL_OPS,t=T.SET_OPS;U.moduleType="transform",U.name="filter",U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(v).concat(d).concat(t),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},U.supplyDefaults=function(u){var n={};function s(c,b){return g.coerce(u,n,U.attributes,c,b)}var f=s("enabled");if(f){var l=s("target");if(g.isArrayOrTypedArray(l)&&l.length===0)return n.enabled=!1,n;s("preservegaps"),s("operation"),s("value");var x=P.getComponentMethod("calendars","handleDefaults");x(u,n,"valuecalendar",null),x(u,n,"targetcalendar",null)}return n},U.calcTransform=function(u,n,s){if(!s.enabled)return;var f=g.getTargetArray(n,s);if(!f)return;var l=s.target,x=f.length;n._length&&(x=Math.min(x,n._length));var c=s.targetcalendar,b=n._arrayAttrs,h=s.preservegaps;if(typeof l=="string"){var o=g.nestedProperty(n,l+"calendar").get();o&&(c=o)}var p=a.getDataToCoordFunc(u,n,l,f),S=r(s,p,c),A={},E={},m=0;function M(I,N){for(var k=0;k<b.length;k++){var O=g.nestedProperty(n,b[k]);I(O,N)}}var w,i;h?(w=function(I){A[I.astr]=g.extendDeep([],I.get()),I.set(new Array(x))},i=function(I,N){var k=A[I.astr][N];I.get()[N]=k}):(w=function(I){A[I.astr]=g.extendDeep([],I.get()),I.set([])},i=function(I,N){var k=A[I.astr][N];I.get().push(k)}),M(w);for(var C=L(n.transforms,s),y=0;y<x;y++){var _=S(f[y]);_?(M(i,y),E[m++]=C(y)):h&&m++}s._indexToPoints=E,n._length=m};function r(u,n,s){var f=u.operation,l=u.value,x=Array.isArray(l);function c(p){return p.indexOf(f)!==-1}var b=function(p){return n(p,0,u.valuecalendar)},h=function(p){return n(p,0,s)},o;switch(c(v)?o=b(x?l[0]:l):c(d)?o=x?[b(l[0]),b(l[1])]:[b(l),b(l)]:c(t)&&(o=x?l.map(b):[b(l)]),f){case"=":return function(p){return h(p)===o};case"!=":return function(p){return h(p)!==o};case"<":return function(p){return h(p)<o};case"<=":return function(p){return h(p)<=o};case">":return function(p){return h(p)>o};case">=":return function(p){return h(p)>=o};case"[]":return function(p){var S=h(p);return S>=o[0]&&S<=o[1]};case"()":return function(p){var S=h(p);return S>o[0]&&S<o[1]};case"[)":return function(p){var S=h(p);return S>=o[0]&&S<o[1]};case"(]":return function(p){var S=h(p);return S>o[0]&&S<=o[1]};case"][":return function(p){var S=h(p);return S<=o[0]||S>=o[1]};case")(":return function(p){var S=h(p);return S<o[0]||S>o[1]};case"](":return function(p){var S=h(p);return S<=o[0]||S>o[1]};case")[":return function(p){var S=h(p);return S<o[0]||S>=o[1]};case"{}":return function(p){return o.indexOf(h(p))!==-1};case"}{":return function(p){return o.indexOf(h(p))===-1}}}},43102:function(H,U,e){var g=e(71828),P=e(86281),a=e(74875),L=e(79344).p;U.moduleType="transform",U.name="groupby",U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},U.supplyDefaults=function(v,d,t){var r,u={};function n(b,h){return g.coerce(v,u,U.attributes,b,h)}var s=n("enabled");if(!s)return u;n("groups"),n("nameformat",t._dataLength>1?"%{group} (%{trace})":"%{group}");var f=v.styles,l=u.styles=[];if(f)for(r=0;r<f.length;r++){var x=l[r]={};g.coerce(f[r],l[r],U.attributes.styles,"target");var c=g.coerce(f[r],l[r],U.attributes.styles,"value");g.isPlainObject(c)?x.value=g.extendDeep({},c):c&&delete x.value}return u},U.transform=function(v,d){var t,r,u,n=[];for(r=0;r<v.length;r++)for(t=T(v[r],d),u=0;u<t.length;u++)n.push(t[u]);return n};function T(v,d){var t,r,u,n,s,f,l,x,c,b,h=d.transform,o=d.transformIndex,p=v.transforms[o].groups,S=L(v.transforms,h);if(!g.isArrayOrTypedArray(p)||p.length===0)return[v];var A=g.filterUnique(p),E=new Array(A.length),m=p.length,M=P.findArrayAttributes(v),w=h.styles||[],i={};for(t=0;t<w.length;t++)i[w[t].target]=w[t].value;h.styles&&(b=g.keyedContainer(h,"styles","target","value.name"));var C={},y={};for(t=0;t<A.length;t++){f=A[t],C[f]=t,y[f]=0,l=E[t]=g.extendDeepNoArrays({},v),l._group=f,l.transforms[o]._indexToPoints={};var _=null;for(b&&(_=b.get(f)),_||_===""?l.name=_:l.name=g.templateString(h.nameformat,{trace:v.name,group:f}),x=l.transforms,l.transforms=[],r=0;r<x.length;r++)l.transforms[r]=g.extendDeepNoArrays({},x[r]);for(r=0;r<M.length;r++)g.nestedProperty(l,M[r]).set([])}for(u=0;u<M.length;u++){for(n=M[u],r=0,c=[];r<A.length;r++)c[r]=g.nestedProperty(E[r],n).get();for(s=g.nestedProperty(v,n).get(),r=0;r<m;r++)c[C[p[r]]].push(s[r])}for(r=0;r<m;r++){l=E[C[p[r]]];var I=l.transforms[o]._indexToPoints;I[y[p[r]]]=S(r),y[p[r]]++}for(t=0;t<A.length;t++)f=A[t],l=E[t],a.clearExpandedTraceDefaultColors(l),l=g.extendDeepNoArrays(l,i[f]||{});return E}},79344:function(H,U){U.p=function(e,g){for(var P,a,L=0;L<e.length&&(P=e[L],P!==g);L++)!P._indexToPoints||P.enabled===!1||(a=P._indexToPoints);var T=a?function(v){return a[v]}:function(v){return[v]};return T}},32275:function(H,U,e){var g=e(71828),P=e(89298),a=e(79344).p,L=e(50606).BADNUM;U.moduleType="transform",U.name="sort",U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},U.supplyDefaults=function(d){var t={};function r(n,s){return g.coerce(d,t,U.attributes,n,s)}var u=r("enabled");return u&&(r("target"),r("order")),t},U.calcTransform=function(d,t,r){if(r.enabled){var u=g.getTargetArray(t,r);if(u){var n=r.target,s=u.length;t._length&&(s=Math.min(s,t._length));var f=t._arrayAttrs,l=P.getDataToCoordFunc(d,t,n,u),x=T(r,u,l,s),c=a(t.transforms,r),b={},h,o;for(h=0;h<f.length;h++){var p=g.nestedProperty(t,f[h]),S=p.get(),A=new Array(s);for(o=0;o<s;o++)A[o]=S[x[o]];p.set(A)}for(o=0;o<s;o++)b[o]=c(x[o]);r._indexToPoints=b,t._length=s}}};function T(d,t,r,u){var n=new Array(u),s=new Array(u),f;for(f=0;f<u;f++)n[f]={v:t[f],i:f};for(n.sort(v(d,r)),f=0;f<u;f++)s[f]=n[f].i;return s}function v(d,t){switch(d.order){case"ascending":return function(r,u){var n=t(r.v),s=t(u.v);return n===L?1:s===L?-1:n-s};case"descending":return function(r,u){var n=t(r.v),s=t(u.v);return n===L?1:s===L?-1:s-n}}}},11506:function(H,U){U.version="2.26.0"},9330:function(H,U,e){var g=e(90386);(function(a,L){H.exports=L()})(self,function(){return function(){var P={7386:function(v,d,t){v.exports={alpha_shape:t(2350),convex_hull:t(5537),delaunay_triangulate:t(4419),gl_cone3d:t(1140),gl_error3d:t(3110),gl_heatmap2d:t(6386),gl_line3d:t(6086),gl_mesh3d:t(8116),gl_plot2d:t(2117),gl_plot3d:t(1059),gl_pointcloud2d:t(8271),gl_scatter3d:t(2182),gl_select_box:t(6623),gl_spikes2d:t(3050),gl_streamtube3d:t(7307),gl_surface3d:t(3754),ndarray:t(5050),ndarray_linear_interpolate:t(3581)}},2146:function(v,d,t){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function r(me,oe){if(!(me instanceof oe))throw new TypeError("Cannot call a class as a function")}function u(me,oe){for(var pe=0;pe<oe.length;pe++){var Me=oe[pe];Me.enumerable=Me.enumerable||!1,Me.configurable=!0,"value"in Me&&(Me.writable=!0),Object.defineProperty(me,Me.key,Me)}}function n(me,oe,pe){return oe&&u(me.prototype,oe),pe&&u(me,pe),Object.defineProperty(me,"prototype",{writable:!1}),me}function s(me,oe){if(typeof oe!="function"&&oe!==null)throw new TypeError("Super expression must either be null or a function");me.prototype=Object.create(oe&&oe.prototype,{constructor:{value:me,writable:!0,configurable:!0}}),Object.defineProperty(me,"prototype",{writable:!1}),oe&&f(me,oe)}function f(me,oe){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Me,_e){return Me.__proto__=_e,Me},f(me,oe)}function l(me){var oe=b();return function(){var Me=h(me),_e;if(oe){var tt=h(this).constructor;_e=Reflect.construct(Me,arguments,tt)}else _e=Me.apply(this,arguments);return x(this,_e)}}function x(me,oe){if(oe&&(o(oe)==="object"||typeof oe=="function"))return oe;if(oe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c(me)}function c(me){if(me===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me}function b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function h(me){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(pe){return pe.__proto__||Object.getPrototypeOf(pe)},h(me)}function o(me){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},o(me)}var p=t(3910),S=t(3187),A=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;d.lW=w,d.h2=50;var E=2147483647;w.TYPED_ARRAY_SUPPORT=m(),!w.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function m(){try{var me=new Uint8Array(1),oe={foo:function(){return 42}};return Object.setPrototypeOf(oe,Uint8Array.prototype),Object.setPrototypeOf(me,oe),me.foo()===42}catch{return!1}}Object.defineProperty(w.prototype,"parent",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.buffer}}),Object.defineProperty(w.prototype,"offset",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.byteOffset}});function M(me){if(me>E)throw new RangeError('The value "'+me+'" is invalid for option "size"');var oe=new Uint8Array(me);return Object.setPrototypeOf(oe,w.prototype),oe}function w(me,oe,pe){if(typeof me=="number"){if(typeof oe=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(me)}return i(me,oe,pe)}w.poolSize=8192;function i(me,oe,pe){if(typeof me=="string")return I(me,oe);if(ArrayBuffer.isView(me))return k(me);if(me==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+o(me));if(Xe(me,ArrayBuffer)||me&&Xe(me.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Xe(me,SharedArrayBuffer)||me&&Xe(me.buffer,SharedArrayBuffer)))return O(me,oe,pe);if(typeof me=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Me=me.valueOf&&me.valueOf();if(Me!=null&&Me!==me)return w.from(Me,oe,pe);var _e=z(me);if(_e)return _e;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof me[Symbol.toPrimitive]=="function")return w.from(me[Symbol.toPrimitive]("string"),oe,pe);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+o(me))}w.from=function(me,oe,pe){return i(me,oe,pe)},Object.setPrototypeOf(w.prototype,Uint8Array.prototype),Object.setPrototypeOf(w,Uint8Array);function C(me){if(typeof me!="number")throw new TypeError('"size" argument must be of type number');if(me<0)throw new RangeError('The value "'+me+'" is invalid for option "size"')}function y(me,oe,pe){return C(me),me<=0?M(me):oe!==void 0?typeof pe=="string"?M(me).fill(oe,pe):M(me).fill(oe):M(me)}w.alloc=function(me,oe,pe){return y(me,oe,pe)};function _(me){return C(me),M(me<0?0:F(me)|0)}w.allocUnsafe=function(me){return _(me)},w.allocUnsafeSlow=function(me){return _(me)};function I(me,oe){if((typeof oe!="string"||oe==="")&&(oe="utf8"),!w.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe);var pe=B(me,oe)|0,Me=M(pe),_e=Me.write(me,oe);return _e!==pe&&(Me=Me.slice(0,_e)),Me}function N(me){for(var oe=me.length<0?0:F(me.length)|0,pe=M(oe),Me=0;Me<oe;Me+=1)pe[Me]=me[Me]&255;return pe}function k(me){if(Xe(me,Uint8Array)){var oe=new Uint8Array(me);return O(oe.buffer,oe.byteOffset,oe.byteLength)}return N(me)}function O(me,oe,pe){if(oe<0||me.byteLength<oe)throw new RangeError('"offset" is outside of buffer bounds');if(me.byteLength<oe+(pe||0))throw new RangeError('"length" is outside of buffer bounds');var Me;return oe===void 0&&pe===void 0?Me=new Uint8Array(me):pe===void 0?Me=new Uint8Array(me,oe):Me=new Uint8Array(me,oe,pe),Object.setPrototypeOf(Me,w.prototype),Me}function z(me){if(w.isBuffer(me)){var oe=F(me.length)|0,pe=M(oe);return pe.length===0||me.copy(pe,0,0,oe),pe}if(me.length!==void 0)return typeof me.length!="number"||Le(me.length)?M(0):N(me);if(me.type==="Buffer"&&Array.isArray(me.data))return N(me.data)}function F(me){if(me>=E)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E.toString(16)+" bytes");return me|0}w.isBuffer=function(oe){return oe!=null&&oe._isBuffer===!0&&oe!==w.prototype},w.compare=function(oe,pe){if(Xe(oe,Uint8Array)&&(oe=w.from(oe,oe.offset,oe.byteLength)),Xe(pe,Uint8Array)&&(pe=w.from(pe,pe.offset,pe.byteLength)),!w.isBuffer(oe)||!w.isBuffer(pe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(oe===pe)return 0;for(var Me=oe.length,_e=pe.length,tt=0,at=Math.min(Me,_e);tt<at;++tt)if(oe[tt]!==pe[tt]){Me=oe[tt],_e=pe[tt];break}return Me<_e?-1:_e<Me?1:0},w.isEncoding=function(oe){switch(String(oe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},w.concat=function(oe,pe){if(!Array.isArray(oe))throw new TypeError('"list" argument must be an Array of Buffers');if(oe.length===0)return w.alloc(0);var Me;if(pe===void 0)for(pe=0,Me=0;Me<oe.length;++Me)pe+=oe[Me].length;var _e=w.allocUnsafe(pe),tt=0;for(Me=0;Me<oe.length;++Me){var at=oe[Me];if(Xe(at,Uint8Array))tt+at.length>_e.length?(w.isBuffer(at)||(at=w.from(at)),at.copy(_e,tt)):Uint8Array.prototype.set.call(_e,at,tt);else if(w.isBuffer(at))at.copy(_e,tt);else throw new TypeError('"list" argument must be an Array of Buffers');tt+=at.length}return _e};function B(me,oe){if(w.isBuffer(me))return me.length;if(ArrayBuffer.isView(me)||Xe(me,ArrayBuffer))return me.byteLength;if(typeof me!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+o(me));var pe=me.length,Me=arguments.length>2&&arguments[2]===!0;if(!Me&&pe===0)return 0;for(var _e=!1;;)switch(oe){case"ascii":case"latin1":case"binary":return pe;case"utf8":case"utf-8":return pt(me).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pe*2;case"hex":return pe>>>1;case"base64":return Rt(me).length;default:if(_e)return Me?-1:pt(me).length;oe=(""+oe).toLowerCase(),_e=!0}}w.byteLength=B;function G(me,oe,pe){var Me=!1;if((oe===void 0||oe<0)&&(oe=0),oe>this.length||((pe===void 0||pe>this.length)&&(pe=this.length),pe<=0)||(pe>>>=0,oe>>>=0,pe<=oe))return"";for(me||(me="utf8");;)switch(me){case"hex":return ue(this,oe,pe);case"utf8":case"utf-8":return ie(this,oe,pe);case"ascii":return se(this,oe,pe);case"latin1":case"binary":return ne(this,oe,pe);case"base64":return $(this,oe,pe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ge(this,oe,pe);default:if(Me)throw new TypeError("Unknown encoding: "+me);me=(me+"").toLowerCase(),Me=!0}}w.prototype._isBuffer=!0;function Q(me,oe,pe){var Me=me[oe];me[oe]=me[pe],me[pe]=Me}w.prototype.swap16=function(){var oe=this.length;if(oe%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var pe=0;pe<oe;pe+=2)Q(this,pe,pe+1);return this},w.prototype.swap32=function(){var oe=this.length;if(oe%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var pe=0;pe<oe;pe+=4)Q(this,pe,pe+3),Q(this,pe+1,pe+2);return this},w.prototype.swap64=function(){var oe=this.length;if(oe%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var pe=0;pe<oe;pe+=8)Q(this,pe,pe+7),Q(this,pe+1,pe+6),Q(this,pe+2,pe+5),Q(this,pe+3,pe+4);return this},w.prototype.toString=function(){var oe=this.length;return oe===0?"":arguments.length===0?ie(this,0,oe):G.apply(this,arguments)},w.prototype.toLocaleString=w.prototype.toString,w.prototype.equals=function(oe){if(!w.isBuffer(oe))throw new TypeError("Argument must be a Buffer");return this===oe?!0:w.compare(this,oe)===0},w.prototype.inspect=function(){var oe="",pe=d.h2;return oe=this.toString("hex",0,pe).replace(/(.{2})/g,"$1 ").trim(),this.length>pe&&(oe+=" ... "),"<Buffer "+oe+">"},A&&(w.prototype[A]=w.prototype.inspect),w.prototype.compare=function(oe,pe,Me,_e,tt){if(Xe(oe,Uint8Array)&&(oe=w.from(oe,oe.offset,oe.byteLength)),!w.isBuffer(oe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+o(oe));if(pe===void 0&&(pe=0),Me===void 0&&(Me=oe?oe.length:0),_e===void 0&&(_e=0),tt===void 0&&(tt=this.length),pe<0||Me>oe.length||_e<0||tt>this.length)throw new RangeError("out of range index");if(_e>=tt&&pe>=Me)return 0;if(_e>=tt)return-1;if(pe>=Me)return 1;if(pe>>>=0,Me>>>=0,_e>>>=0,tt>>>=0,this===oe)return 0;for(var at=tt-_e,At=Me-pe,Ft=Math.min(at,At),Gt=this.slice(_e,tt),Yt=oe.slice(pe,Me),Dt=0;Dt<Ft;++Dt)if(Gt[Dt]!==Yt[Dt]){at=Gt[Dt],At=Yt[Dt];break}return at<At?-1:At<at?1:0};function ee(me,oe,pe,Me,_e){if(me.length===0)return-1;if(typeof pe=="string"?(Me=pe,pe=0):pe>2147483647?pe=2147483647:pe<-2147483648&&(pe=-2147483648),pe=+pe,Le(pe)&&(pe=_e?0:me.length-1),pe<0&&(pe=me.length+pe),pe>=me.length){if(_e)return-1;pe=me.length-1}else if(pe<0)if(_e)pe=0;else return-1;if(typeof oe=="string"&&(oe=w.from(oe,Me)),w.isBuffer(oe))return oe.length===0?-1:ae(me,oe,pe,Me,_e);if(typeof oe=="number")return oe=oe&255,typeof Uint8Array.prototype.indexOf=="function"?_e?Uint8Array.prototype.indexOf.call(me,oe,pe):Uint8Array.prototype.lastIndexOf.call(me,oe,pe):ae(me,[oe],pe,Me,_e);throw new TypeError("val must be string, number or Buffer")}function ae(me,oe,pe,Me,_e){var tt=1,at=me.length,At=oe.length;if(Me!==void 0&&(Me=String(Me).toLowerCase(),Me==="ucs2"||Me==="ucs-2"||Me==="utf16le"||Me==="utf-16le")){if(me.length<2||oe.length<2)return-1;tt=2,at/=2,At/=2,pe/=2}function Ft(lr,Hr){return tt===1?lr[Hr]:lr.readUInt16BE(Hr*tt)}var Gt;if(_e){var Yt=-1;for(Gt=pe;Gt<at;Gt++)if(Ft(me,Gt)===Ft(oe,Yt===-1?0:Gt-Yt)){if(Yt===-1&&(Yt=Gt),Gt-Yt+1===At)return Yt*tt}else Yt!==-1&&(Gt-=Gt-Yt),Yt=-1}else for(pe+At>at&&(pe=at-At),Gt=pe;Gt>=0;Gt--){for(var Dt=!0,$t=0;$t<At;$t++)if(Ft(me,Gt+$t)!==Ft(oe,$t)){Dt=!1;break}if(Dt)return Gt}return-1}w.prototype.includes=function(oe,pe,Me){return this.indexOf(oe,pe,Me)!==-1},w.prototype.indexOf=function(oe,pe,Me){return ee(this,oe,pe,Me,!0)},w.prototype.lastIndexOf=function(oe,pe,Me){return ee(this,oe,pe,Me,!1)};function fe(me,oe,pe,Me){pe=Number(pe)||0;var _e=me.length-pe;Me?(Me=Number(Me),Me>_e&&(Me=_e)):Me=_e;var tt=oe.length;Me>tt/2&&(Me=tt/2);var at;for(at=0;at<Me;++at){var At=parseInt(oe.substr(at*2,2),16);if(Le(At))return at;me[pe+at]=At}return at}function K(me,oe,pe,Me){return Zt(pt(oe,me.length-pe),me,pe,Me)}function W(me,oe,pe,Me){return Zt(mt(oe),me,pe,Me)}function Z(me,oe,pe,Me){return Zt(Rt(oe),me,pe,Me)}function X(me,oe,pe,Me){return Zt(Ct(oe,me.length-pe),me,pe,Me)}w.prototype.write=function(oe,pe,Me,_e){if(pe===void 0)_e="utf8",Me=this.length,pe=0;else if(Me===void 0&&typeof pe=="string")_e=pe,Me=this.length,pe=0;else if(isFinite(pe))pe=pe>>>0,isFinite(Me)?(Me=Me>>>0,_e===void 0&&(_e="utf8")):(_e=Me,Me=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var tt=this.length-pe;if((Me===void 0||Me>tt)&&(Me=tt),oe.length>0&&(Me<0||pe<0)||pe>this.length)throw new RangeError("Attempt to write outside buffer bounds");_e||(_e="utf8");for(var at=!1;;)switch(_e){case"hex":return fe(this,oe,pe,Me);case"utf8":case"utf-8":return K(this,oe,pe,Me);case"ascii":case"latin1":case"binary":return W(this,oe,pe,Me);case"base64":return Z(this,oe,pe,Me);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,oe,pe,Me);default:if(at)throw new TypeError("Unknown encoding: "+_e);_e=(""+_e).toLowerCase(),at=!0}},w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $(me,oe,pe){return oe===0&&pe===me.length?p.fromByteArray(me):p.fromByteArray(me.slice(oe,pe))}function ie(me,oe,pe){pe=Math.min(me.length,pe);for(var Me=[],_e=oe;_e<pe;){var tt=me[_e],at=null,At=tt>239?4:tt>223?3:tt>191?2:1;if(_e+At<=pe){var Ft=void 0,Gt=void 0,Yt=void 0,Dt=void 0;switch(At){case 1:tt<128&&(at=tt);break;case 2:Ft=me[_e+1],(Ft&192)===128&&(Dt=(tt&31)<<6|Ft&63,Dt>127&&(at=Dt));break;case 3:Ft=me[_e+1],Gt=me[_e+2],(Ft&192)===128&&(Gt&192)===128&&(Dt=(tt&15)<<12|(Ft&63)<<6|Gt&63,Dt>2047&&(Dt<55296||Dt>57343)&&(at=Dt));break;case 4:Ft=me[_e+1],Gt=me[_e+2],Yt=me[_e+3],(Ft&192)===128&&(Gt&192)===128&&(Yt&192)===128&&(Dt=(tt&15)<<18|(Ft&63)<<12|(Gt&63)<<6|Yt&63,Dt>65535&&Dt<1114112&&(at=Dt))}}at===null?(at=65533,At=1):at>65535&&(at-=65536,Me.push(at>>>10&1023|55296),at=56320|at&1023),Me.push(at),_e+=At}return j(Me)}var J=4096;function j(me){var oe=me.length;if(oe<=J)return String.fromCharCode.apply(String,me);for(var pe="",Me=0;Me<oe;)pe+=String.fromCharCode.apply(String,me.slice(Me,Me+=J));return pe}function se(me,oe,pe){var Me="";pe=Math.min(me.length,pe);for(var _e=oe;_e<pe;++_e)Me+=String.fromCharCode(me[_e]&127);return Me}function ne(me,oe,pe){var Me="";pe=Math.min(me.length,pe);for(var _e=oe;_e<pe;++_e)Me+=String.fromCharCode(me[_e]);return Me}function ue(me,oe,pe){var Me=me.length;(!oe||oe<0)&&(oe=0),(!pe||pe<0||pe>Me)&&(pe=Me);for(var _e="",tt=oe;tt<pe;++tt)_e+=Pe[me[tt]];return _e}function ge(me,oe,pe){for(var Me=me.slice(oe,pe),_e="",tt=0;tt<Me.length-1;tt+=2)_e+=String.fromCharCode(Me[tt]+Me[tt+1]*256);return _e}w.prototype.slice=function(oe,pe){var Me=this.length;oe=~~oe,pe=pe===void 0?Me:~~pe,oe<0?(oe+=Me,oe<0&&(oe=0)):oe>Me&&(oe=Me),pe<0?(pe+=Me,pe<0&&(pe=0)):pe>Me&&(pe=Me),pe<oe&&(pe=oe);var _e=this.subarray(oe,pe);return Object.setPrototypeOf(_e,w.prototype),_e};function we(me,oe,pe){if(me%1!==0||me<0)throw new RangeError("offset is not uint");if(me+oe>pe)throw new RangeError("Trying to access beyond buffer length")}w.prototype.readUintLE=w.prototype.readUIntLE=function(oe,pe,Me){oe=oe>>>0,pe=pe>>>0,Me||we(oe,pe,this.length);for(var _e=this[oe],tt=1,at=0;++at<pe&&(tt*=256);)_e+=this[oe+at]*tt;return _e},w.prototype.readUintBE=w.prototype.readUIntBE=function(oe,pe,Me){oe=oe>>>0,pe=pe>>>0,Me||we(oe,pe,this.length);for(var _e=this[oe+--pe],tt=1;pe>0&&(tt*=256);)_e+=this[oe+--pe]*tt;return _e},w.prototype.readUint8=w.prototype.readUInt8=function(oe,pe){return oe=oe>>>0,pe||we(oe,1,this.length),this[oe]},w.prototype.readUint16LE=w.prototype.readUInt16LE=function(oe,pe){return oe=oe>>>0,pe||we(oe,2,this.length),this[oe]|this[oe+1]<<8},w.prototype.readUint16BE=w.prototype.readUInt16BE=function(oe,pe){return oe=oe>>>0,pe||we(oe,2,this.length),this[oe]<<8|this[oe+1]},w.prototype.readUint32LE=w.prototype.readUInt32LE=function(oe,pe){return oe=oe>>>0,pe||we(oe,4,this.length),(this[oe]|this[oe+1]<<8|this[oe+2]<<16)+this[oe+3]*16777216},w.prototype.readUint32BE=w.prototype.readUInt32BE=function(oe,pe){return oe=oe>>>0,pe||we(oe,4,this.length),this[oe]*16777216+(this[oe+1]<<16|this[oe+2]<<8|this[oe+3])},w.prototype.readBigUInt64LE=ke(function(oe){oe=oe>>>0,Qe(oe,"offset");var pe=this[oe],Me=this[oe+7];(pe===void 0||Me===void 0)&&Je(oe,this.length-8);var _e=pe+this[++oe]*Math.pow(2,8)+this[++oe]*Math.pow(2,16)+this[++oe]*Math.pow(2,24),tt=this[++oe]+this[++oe]*Math.pow(2,8)+this[++oe]*Math.pow(2,16)+Me*Math.pow(2,24);return BigInt(_e)+(BigInt(tt)<<BigInt(32))}),w.prototype.readBigUInt64BE=ke(function(oe){oe=oe>>>0,Qe(oe,"offset");var pe=this[oe],Me=this[oe+7];(pe===void 0||Me===void 0)&&Je(oe,this.length-8);var _e=pe*Math.pow(2,24)+this[++oe]*Math.pow(2,16)+this[++oe]*Math.pow(2,8)+this[++oe],tt=this[++oe]*Math.pow(2,24)+this[++oe]*Math.pow(2,16)+this[++oe]*Math.pow(2,8)+Me;return(BigInt(_e)<<BigInt(32))+BigInt(tt)}),w.prototype.readIntLE=function(oe,pe,Me){oe=oe>>>0,pe=pe>>>0,Me||we(oe,pe,this.length);for(var _e=this[oe],tt=1,at=0;++at<pe&&(tt*=256);)_e+=this[oe+at]*tt;return tt*=128,_e>=tt&&(_e-=Math.pow(2,8*pe)),_e},w.prototype.readIntBE=function(oe,pe,Me){oe=oe>>>0,pe=pe>>>0,Me||we(oe,pe,this.length);for(var _e=pe,tt=1,at=this[oe+--_e];_e>0&&(tt*=256);)at+=this[oe+--_e]*tt;return tt*=128,at>=tt&&(at-=Math.pow(2,8*pe)),at},w.prototype.readInt8=function(oe,pe){return oe=oe>>>0,pe||we(oe,1,this.length),this[oe]&128?(255-this[oe]+1)*-1:this[oe]},w.prototype.readInt16LE=function(oe,pe){oe=oe>>>0,pe||we(oe,2,this.length);var Me=this[oe]|this[oe+1]<<8;return Me&32768?Me|4294901760:Me},w.prototype.readInt16BE=function(oe,pe){oe=oe>>>0,pe||we(oe,2,this.length);var Me=this[oe+1]|this[oe]<<8;return Me&32768?Me|4294901760:Me},w.prototype.readInt32LE=function(oe,pe){return oe=oe>>>0,pe||we(oe,4,this.length),this[oe]|this[oe+1]<<8|this[oe+2]<<16|this[oe+3]<<24},w.prototype.readInt32BE=function(oe,pe){return oe=oe>>>0,pe||we(oe,4,this.length),this[oe]<<24|this[oe+1]<<16|this[oe+2]<<8|this[oe+3]},w.prototype.readBigInt64LE=ke(function(oe){oe=oe>>>0,Qe(oe,"offset");var pe=this[oe],Me=this[oe+7];(pe===void 0||Me===void 0)&&Je(oe,this.length-8);var _e=this[oe+4]+this[oe+5]*Math.pow(2,8)+this[oe+6]*Math.pow(2,16)+(Me<<24);return(BigInt(_e)<<BigInt(32))+BigInt(pe+this[++oe]*Math.pow(2,8)+this[++oe]*Math.pow(2,16)+this[++oe]*Math.pow(2,24))}),w.prototype.readBigInt64BE=ke(function(oe){oe=oe>>>0,Qe(oe,"offset");var pe=this[oe],Me=this[oe+7];(pe===void 0||Me===void 0)&&Je(oe,this.length-8);var _e=(pe<<24)+this[++oe]*Math.pow(2,16)+this[++oe]*Math.pow(2,8)+this[++oe];return(BigInt(_e)<<BigInt(32))+BigInt(this[++oe]*Math.pow(2,24)+this[++oe]*Math.pow(2,16)+this[++oe]*Math.pow(2,8)+Me)}),w.prototype.readFloatLE=function(oe,pe){return oe=oe>>>0,pe||we(oe,4,this.length),S.read(this,oe,!0,23,4)},w.prototype.readFloatBE=function(oe,pe){return oe=oe>>>0,pe||we(oe,4,this.length),S.read(this,oe,!1,23,4)},w.prototype.readDoubleLE=function(oe,pe){return oe=oe>>>0,pe||we(oe,8,this.length),S.read(this,oe,!0,52,8)},w.prototype.readDoubleBE=function(oe,pe){return oe=oe>>>0,pe||we(oe,8,this.length),S.read(this,oe,!1,52,8)};function xe(me,oe,pe,Me,_e,tt){if(!w.isBuffer(me))throw new TypeError('"buffer" argument must be a Buffer instance');if(oe>_e||oe<tt)throw new RangeError('"value" argument is out of bounds');if(pe+Me>me.length)throw new RangeError("Index out of range")}w.prototype.writeUintLE=w.prototype.writeUIntLE=function(oe,pe,Me,_e){if(oe=+oe,pe=pe>>>0,Me=Me>>>0,!_e){var tt=Math.pow(2,8*Me)-1;xe(this,oe,pe,Me,tt,0)}var at=1,At=0;for(this[pe]=oe&255;++At<Me&&(at*=256);)this[pe+At]=oe/at&255;return pe+Me},w.prototype.writeUintBE=w.prototype.writeUIntBE=function(oe,pe,Me,_e){if(oe=+oe,pe=pe>>>0,Me=Me>>>0,!_e){var tt=Math.pow(2,8*Me)-1;xe(this,oe,pe,Me,tt,0)}var at=Me-1,At=1;for(this[pe+at]=oe&255;--at>=0&&(At*=256);)this[pe+at]=oe/At&255;return pe+Me},w.prototype.writeUint8=w.prototype.writeUInt8=function(oe,pe,Me){return oe=+oe,pe=pe>>>0,Me||xe(this,oe,pe,1,255,0),this[pe]=oe&255,pe+1},w.prototype.writeUint16LE=w.prototype.writeUInt16LE=function(oe,pe,Me){return oe=+oe,pe=pe>>>0,Me||xe(this,oe,pe,2,65535,0),this[pe]=oe&255,this[pe+1]=oe>>>8,pe+2},w.prototype.writeUint16BE=w.prototype.writeUInt16BE=function(oe,pe,Me){return oe=+oe,pe=pe>>>0,Me||xe(this,oe,pe,2,65535,0),this[pe]=oe>>>8,this[pe+1]=oe&255,pe+2},w.prototype.writeUint32LE=w.prototype.writeUInt32LE=function(oe,pe,Me){return oe=+oe,pe=pe>>>0,Me||xe(this,oe,pe,4,4294967295,0),this[pe+3]=oe>>>24,this[pe+2]=oe>>>16,this[pe+1]=oe>>>8,this[pe]=oe&255,pe+4},w.prototype.writeUint32BE=w.prototype.writeUInt32BE=function(oe,pe,Me){return oe=+oe,pe=pe>>>0,Me||xe(this,oe,pe,4,4294967295,0),this[pe]=oe>>>24,this[pe+1]=oe>>>16,this[pe+2]=oe>>>8,this[pe+3]=oe&255,pe+4};function Fe(me,oe,pe,Me,_e){rt(oe,Me,_e,me,pe,7);var tt=Number(oe&BigInt(4294967295));me[pe++]=tt,tt=tt>>8,me[pe++]=tt,tt=tt>>8,me[pe++]=tt,tt=tt>>8,me[pe++]=tt;var at=Number(oe>>BigInt(32)&BigInt(4294967295));return me[pe++]=at,at=at>>8,me[pe++]=at,at=at>>8,me[pe++]=at,at=at>>8,me[pe++]=at,pe}function ze(me,oe,pe,Me,_e){rt(oe,Me,_e,me,pe,7);var tt=Number(oe&BigInt(4294967295));me[pe+7]=tt,tt=tt>>8,me[pe+6]=tt,tt=tt>>8,me[pe+5]=tt,tt=tt>>8,me[pe+4]=tt;var at=Number(oe>>BigInt(32)&BigInt(4294967295));return me[pe+3]=at,at=at>>8,me[pe+2]=at,at=at>>8,me[pe+1]=at,at=at>>8,me[pe]=at,pe+8}w.prototype.writeBigUInt64LE=ke(function(oe){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Fe(this,oe,pe,BigInt(0),BigInt("0xffffffffffffffff"))}),w.prototype.writeBigUInt64BE=ke(function(oe){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ze(this,oe,pe,BigInt(0),BigInt("0xffffffffffffffff"))}),w.prototype.writeIntLE=function(oe,pe,Me,_e){if(oe=+oe,pe=pe>>>0,!_e){var tt=Math.pow(2,8*Me-1);xe(this,oe,pe,Me,tt-1,-tt)}var at=0,At=1,Ft=0;for(this[pe]=oe&255;++at<Me&&(At*=256);)oe<0&&Ft===0&&this[pe+at-1]!==0&&(Ft=1),this[pe+at]=(oe/At>>0)-Ft&255;return pe+Me},w.prototype.writeIntBE=function(oe,pe,Me,_e){if(oe=+oe,pe=pe>>>0,!_e){var tt=Math.pow(2,8*Me-1);xe(this,oe,pe,Me,tt-1,-tt)}var at=Me-1,At=1,Ft=0;for(this[pe+at]=oe&255;--at>=0&&(At*=256);)oe<0&&Ft===0&&this[pe+at+1]!==0&&(Ft=1),this[pe+at]=(oe/At>>0)-Ft&255;return pe+Me},w.prototype.writeInt8=function(oe,pe,Me){return oe=+oe,pe=pe>>>0,Me||xe(this,oe,pe,1,127,-128),oe<0&&(oe=255+oe+1),this[pe]=oe&255,pe+1},w.prototype.writeInt16LE=function(oe,pe,Me){return oe=+oe,pe=pe>>>0,Me||xe(this,oe,pe,2,32767,-32768),this[pe]=oe&255,this[pe+1]=oe>>>8,pe+2},w.prototype.writeInt16BE=function(oe,pe,Me){return oe=+oe,pe=pe>>>0,Me||xe(this,oe,pe,2,32767,-32768),this[pe]=oe>>>8,this[pe+1]=oe&255,pe+2},w.prototype.writeInt32LE=function(oe,pe,Me){return oe=+oe,pe=pe>>>0,Me||xe(this,oe,pe,4,2147483647,-2147483648),this[pe]=oe&255,this[pe+1]=oe>>>8,this[pe+2]=oe>>>16,this[pe+3]=oe>>>24,pe+4},w.prototype.writeInt32BE=function(oe,pe,Me){return oe=+oe,pe=pe>>>0,Me||xe(this,oe,pe,4,2147483647,-2147483648),oe<0&&(oe=4294967295+oe+1),this[pe]=oe>>>24,this[pe+1]=oe>>>16,this[pe+2]=oe>>>8,this[pe+3]=oe&255,pe+4},w.prototype.writeBigInt64LE=ke(function(oe){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Fe(this,oe,pe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),w.prototype.writeBigInt64BE=ke(function(oe){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ze(this,oe,pe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Te(me,oe,pe,Me,_e,tt){if(pe+Me>me.length)throw new RangeError("Index out of range");if(pe<0)throw new RangeError("Index out of range")}function ye(me,oe,pe,Me,_e){return oe=+oe,pe=pe>>>0,_e||Te(me,oe,pe,4),S.write(me,oe,pe,Me,23,4),pe+4}w.prototype.writeFloatLE=function(oe,pe,Me){return ye(this,oe,pe,!0,Me)},w.prototype.writeFloatBE=function(oe,pe,Me){return ye(this,oe,pe,!1,Me)};function Ae(me,oe,pe,Me,_e){return oe=+oe,pe=pe>>>0,_e||Te(me,oe,pe,8),S.write(me,oe,pe,Me,52,8),pe+8}w.prototype.writeDoubleLE=function(oe,pe,Me){return Ae(this,oe,pe,!0,Me)},w.prototype.writeDoubleBE=function(oe,pe,Me){return Ae(this,oe,pe,!1,Me)},w.prototype.copy=function(oe,pe,Me,_e){if(!w.isBuffer(oe))throw new TypeError("argument should be a Buffer");if(Me||(Me=0),!_e&&_e!==0&&(_e=this.length),pe>=oe.length&&(pe=oe.length),pe||(pe=0),_e>0&&_e<Me&&(_e=Me),_e===Me||oe.length===0||this.length===0)return 0;if(pe<0)throw new RangeError("targetStart out of bounds");if(Me<0||Me>=this.length)throw new RangeError("Index out of range");if(_e<0)throw new RangeError("sourceEnd out of bounds");_e>this.length&&(_e=this.length),oe.length-pe<_e-Me&&(_e=oe.length-pe+Me);var tt=_e-Me;return this===oe&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(pe,Me,_e):Uint8Array.prototype.set.call(oe,this.subarray(Me,_e),pe),tt},w.prototype.fill=function(oe,pe,Me,_e){if(typeof oe=="string"){if(typeof pe=="string"?(_e=pe,pe=0,Me=this.length):typeof Me=="string"&&(_e=Me,Me=this.length),_e!==void 0&&typeof _e!="string")throw new TypeError("encoding must be a string");if(typeof _e=="string"&&!w.isEncoding(_e))throw new TypeError("Unknown encoding: "+_e);if(oe.length===1){var tt=oe.charCodeAt(0);(_e==="utf8"&&tt<128||_e==="latin1")&&(oe=tt)}}else typeof oe=="number"?oe=oe&255:typeof oe=="boolean"&&(oe=Number(oe));if(pe<0||this.length<pe||this.length<Me)throw new RangeError("Out of range index");if(Me<=pe)return this;pe=pe>>>0,Me=Me===void 0?this.length:Me>>>0,oe||(oe=0);var at;if(typeof oe=="number")for(at=pe;at<Me;++at)this[at]=oe;else{var At=w.isBuffer(oe)?oe:w.from(oe,_e),Ft=At.length;if(Ft===0)throw new TypeError('The value "'+oe+'" is invalid for argument "value"');for(at=0;at<Me-pe;++at)this[at+pe]=At[at%Ft]}return this};var Ne={};function Ue(me,oe,pe){Ne[me]=function(Me){s(tt,Me);var _e=l(tt);function tt(){var at;return r(this,tt),at=_e.call(this),Object.defineProperty(c(at),"message",{value:oe.apply(c(at),arguments),writable:!0,configurable:!0}),at.name="".concat(at.name," [").concat(me,"]"),at.stack,delete at.name,at}return n(tt,[{key:"code",get:function(){return me},set:function(At){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:At,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(me,"]: ").concat(this.message)}}]),tt}(pe)}Ue("ERR_BUFFER_OUT_OF_BOUNDS",function(me){return me?"".concat(me," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Ue("ERR_INVALID_ARG_TYPE",function(me,oe){return'The "'.concat(me,'" argument must be of type number. Received type ').concat(o(oe))},TypeError),Ue("ERR_OUT_OF_RANGE",function(me,oe,pe){var Me='The value of "'.concat(me,'" is out of range.'),_e=pe;return Number.isInteger(pe)&&Math.abs(pe)>Math.pow(2,32)?_e=Re(String(pe)):typeof pe=="bigint"&&(_e=String(pe),(pe>Math.pow(BigInt(2),BigInt(32))||pe<-Math.pow(BigInt(2),BigInt(32)))&&(_e=Re(_e)),_e+="n"),Me+=" It must be ".concat(oe,". Received ").concat(_e),Me},RangeError);function Re(me){for(var oe="",pe=me.length,Me=me[0]==="-"?1:0;pe>=Me+4;pe-=3)oe="_".concat(me.slice(pe-3,pe)).concat(oe);return"".concat(me.slice(0,pe)).concat(oe)}function Ve(me,oe,pe){Qe(oe,"offset"),(me[oe]===void 0||me[oe+pe]===void 0)&&Je(oe,me.length-(pe+1))}function rt(me,oe,pe,Me,_e,tt){if(me>pe||me<oe){var at=typeof oe=="bigint"?"n":"",At;throw tt>3?oe===0||oe===BigInt(0)?At=">= 0".concat(at," and < 2").concat(at," ** ").concat((tt+1)*8).concat(at):At=">= -(2".concat(at," ** ").concat((tt+1)*8-1).concat(at,") and < 2 ** ")+"".concat((tt+1)*8-1).concat(at):At=">= ".concat(oe).concat(at," and <= ").concat(pe).concat(at),new Ne.ERR_OUT_OF_RANGE("value",At,me)}Ve(Me,_e,tt)}function Qe(me,oe){if(typeof me!="number")throw new Ne.ERR_INVALID_ARG_TYPE(oe,"number",me)}function Je(me,oe,pe){throw Math.floor(me)!==me?(Qe(me,pe),new Ne.ERR_OUT_OF_RANGE(pe||"offset","an integer",me)):oe<0?new Ne.ERR_BUFFER_OUT_OF_BOUNDS:new Ne.ERR_OUT_OF_RANGE(pe||"offset",">= ".concat(pe?1:0," and <= ").concat(oe),me)}var qe=/[^+/0-9A-Za-z-_]/g;function dt(me){if(me=me.split("=")[0],me=me.trim().replace(qe,""),me.length<2)return"";for(;me.length%4!==0;)me=me+"=";return me}function pt(me,oe){oe=oe||1/0;for(var pe,Me=me.length,_e=null,tt=[],at=0;at<Me;++at){if(pe=me.charCodeAt(at),pe>55295&&pe<57344){if(!_e){if(pe>56319){(oe-=3)>-1&&tt.push(239,191,189);continue}else if(at+1===Me){(oe-=3)>-1&&tt.push(239,191,189);continue}_e=pe;continue}if(pe<56320){(oe-=3)>-1&&tt.push(239,191,189),_e=pe;continue}pe=(_e-55296<<10|pe-56320)+65536}else _e&&(oe-=3)>-1&&tt.push(239,191,189);if(_e=null,pe<128){if((oe-=1)<0)break;tt.push(pe)}else if(pe<2048){if((oe-=2)<0)break;tt.push(pe>>6|192,pe&63|128)}else if(pe<65536){if((oe-=3)<0)break;tt.push(pe>>12|224,pe>>6&63|128,pe&63|128)}else if(pe<1114112){if((oe-=4)<0)break;tt.push(pe>>18|240,pe>>12&63|128,pe>>6&63|128,pe&63|128)}else throw new Error("Invalid code point")}return tt}function mt(me){for(var oe=[],pe=0;pe<me.length;++pe)oe.push(me.charCodeAt(pe)&255);return oe}function Ct(me,oe){for(var pe,Me,_e,tt=[],at=0;at<me.length&&!((oe-=2)<0);++at)pe=me.charCodeAt(at),Me=pe>>8,_e=pe%256,tt.push(_e),tt.push(Me);return tt}function Rt(me){return p.toByteArray(dt(me))}function Zt(me,oe,pe,Me){var _e;for(_e=0;_e<Me&&!(_e+pe>=oe.length||_e>=me.length);++_e)oe[_e+pe]=me[_e];return _e}function Xe(me,oe){return me instanceof oe||me!=null&&me.constructor!=null&&me.constructor.name!=null&&me.constructor.name===oe.name}function Le(me){return me!==me}var Pe=function(){for(var me="0123456789abcdef",oe=new Array(256),pe=0;pe<16;++pe)for(var Me=pe*16,_e=0;_e<16;++_e)oe[Me+_e]=me[pe]+me[_e];return oe}();function ke(me){return typeof BigInt>"u"?Ce:me}function Ce(){throw new Error("BigInt not supported")}},2321:function(v){v.exports=u,v.exports.isMobile=u,v.exports.default=u;var d=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,r=/android|ipad|playbook|silk/i;function u(n){n||(n={});var s=n.ua;if(!s&&typeof navigator<"u"&&(s=navigator.userAgent),s&&s.headers&&typeof s.headers["user-agent"]=="string"&&(s=s.headers["user-agent"]),typeof s!="string")return!1;var f=d.test(s)&&!t.test(s)||!!n.tablet&&r.test(s);return!f&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&s.indexOf("Macintosh")!==-1&&s.indexOf("Safari")!==-1&&(f=!0),f}},3910:function(v,d){d.byteLength=x,d.toByteArray=b,d.fromByteArray=p;for(var t=[],r=[],u=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,f=n.length;s<f;++s)t[s]=n[s],r[n.charCodeAt(s)]=s;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63;function l(S){var A=S.length;if(A%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=S.indexOf("=");E===-1&&(E=A);var m=E===A?0:4-E%4;return[E,m]}function x(S){var A=l(S),E=A[0],m=A[1];return(E+m)*3/4-m}function c(S,A,E){return(A+E)*3/4-E}function b(S){var A,E=l(S),m=E[0],M=E[1],w=new u(c(S,m,M)),i=0,C=M>0?m-4:m,y;for(y=0;y<C;y+=4)A=r[S.charCodeAt(y)]<<18|r[S.charCodeAt(y+1)]<<12|r[S.charCodeAt(y+2)]<<6|r[S.charCodeAt(y+3)],w[i++]=A>>16&255,w[i++]=A>>8&255,w[i++]=A&255;return M===2&&(A=r[S.charCodeAt(y)]<<2|r[S.charCodeAt(y+1)]>>4,w[i++]=A&255),M===1&&(A=r[S.charCodeAt(y)]<<10|r[S.charCodeAt(y+1)]<<4|r[S.charCodeAt(y+2)]>>2,w[i++]=A>>8&255,w[i++]=A&255),w}function h(S){return t[S>>18&63]+t[S>>12&63]+t[S>>6&63]+t[S&63]}function o(S,A,E){for(var m,M=[],w=A;w<E;w+=3)m=(S[w]<<16&16711680)+(S[w+1]<<8&65280)+(S[w+2]&255),M.push(h(m));return M.join("")}function p(S){for(var A,E=S.length,m=E%3,M=[],w=16383,i=0,C=E-m;i<C;i+=w)M.push(o(S,i,i+w>C?C:i+w));return m===1?(A=S[E-1],M.push(t[A>>2]+t[A<<4&63]+"==")):m===2&&(A=(S[E-2]<<8)+S[E-1],M.push(t[A>>10]+t[A>>4&63]+t[A<<2&63]+"=")),M.join("")}},3187:function(v,d){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */d.read=function(t,r,u,n,s){var f,l,x=s*8-n-1,c=(1<<x)-1,b=c>>1,h=-7,o=u?s-1:0,p=u?-1:1,S=t[r+o];for(o+=p,f=S&(1<<-h)-1,S>>=-h,h+=x;h>0;f=f*256+t[r+o],o+=p,h-=8);for(l=f&(1<<-h)-1,f>>=-h,h+=n;h>0;l=l*256+t[r+o],o+=p,h-=8);if(f===0)f=1-b;else{if(f===c)return l?NaN:(S?-1:1)*(1/0);l=l+Math.pow(2,n),f=f-b}return(S?-1:1)*l*Math.pow(2,f-n)},d.write=function(t,r,u,n,s,f){var l,x,c,b=f*8-s-1,h=(1<<b)-1,o=h>>1,p=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=n?0:f-1,A=n?1:-1,E=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(x=isNaN(r)?1:0,l=h):(l=Math.floor(Math.log(r)/Math.LN2),r*(c=Math.pow(2,-l))<1&&(l--,c*=2),l+o>=1?r+=p/c:r+=p*Math.pow(2,1-o),r*c>=2&&(l++,c/=2),l+o>=h?(x=0,l=h):l+o>=1?(x=(r*c-1)*Math.pow(2,s),l=l+o):(x=r*Math.pow(2,o-1)*Math.pow(2,s),l=0));s>=8;t[u+S]=x&255,S+=A,x/=256,s-=8);for(l=l<<s|x,b+=s;b>0;t[u+S]=l&255,S+=A,l/=256,b-=8);t[u+S-A]|=E*128}},1152:function(v,d,t){v.exports=l;var r=t(3440),u=t(7774),n=t(9298);function s(x,c){this._controllerNames=Object.keys(x),this._controllerList=this._controllerNames.map(function(b){return x[b]}),this._mode=c,this._active=x[c],this._active||(this._mode="turntable",this._active=x.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var f=s.prototype;f.flush=function(x){for(var c=this._controllerList,b=0;b<c.length;++b)c[b].flush(x)},f.idle=function(x){for(var c=this._controllerList,b=0;b<c.length;++b)c[b].idle(x)},f.lookAt=function(x,c,b,h){for(var o=this._controllerList,p=0;p<o.length;++p)o[p].lookAt(x,c,b,h)},f.rotate=function(x,c,b,h){for(var o=this._controllerList,p=0;p<o.length;++p)o[p].rotate(x,c,b,h)},f.pan=function(x,c,b,h){for(var o=this._controllerList,p=0;p<o.length;++p)o[p].pan(x,c,b,h)},f.translate=function(x,c,b,h){for(var o=this._controllerList,p=0;p<o.length;++p)o[p].translate(x,c,b,h)},f.setMatrix=function(x,c){for(var b=this._controllerList,h=0;h<b.length;++h)b[h].setMatrix(x,c)},f.setDistanceLimits=function(x,c){for(var b=this._controllerList,h=0;h<b.length;++h)b[h].setDistanceLimits(x,c)},f.setDistance=function(x,c){for(var b=this._controllerList,h=0;h<b.length;++h)b[h].setDistance(x,c)},f.recalcMatrix=function(x){this._active.recalcMatrix(x)},f.getDistance=function(x){return this._active.getDistance(x)},f.getDistanceLimits=function(x){return this._active.getDistanceLimits(x)},f.lastT=function(){return this._active.lastT()},f.setMode=function(x){if(x!==this._mode){var c=this._controllerNames.indexOf(x);if(!(c<0)){var b=this._active,h=this._controllerList[c],o=Math.max(b.lastT(),h.lastT());b.recalcMatrix(o),h.setMatrix(o,b.computedMatrix),this._active=h,this._mode=x,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},f.getMode=function(){return this._mode};function l(x){x=x||{};var c=x.eye||[0,0,1],b=x.center||[0,0,0],h=x.up||[0,1,0],o=x.distanceLimits||[0,1/0],p=x.mode||"turntable",S=r(),A=u(),E=n();return S.setDistanceLimits(o[0],o[1]),S.lookAt(0,c,b,h),A.setDistanceLimits(o[0],o[1]),A.lookAt(0,c,b,h),E.setDistanceLimits(o[0],o[1]),E.lookAt(0,c,b,h),new s({turntable:S,orbit:A,matrix:E},p)}},8126:function(v,d,t){var r=typeof WeakMap>"u"?t(5346):WeakMap,u=t(5827),n=t(2944),s=new r;function f(l){var x=s.get(l),c=x&&(x._triangleBuffer.handle||x._triangleBuffer.buffer);if(!c||!l.isBuffer(c)){var b=u(l,new Float32Array([-1,-1,-1,4,4,-1]));x=n(l,[{buffer:b,type:l.FLOAT,size:2}]),x._triangleBuffer=b,s.set(l,x)}x.bind(),l.drawArrays(l.TRIANGLES,0,3),x.unbind()}v.exports=f},8008:function(v,d,t){var r=t(4930);v.exports=u;function u(n,s,f){s=typeof s=="number"?s:1,f=f||": ";var l=n.split(/\r?\n/),x=String(l.length+s-1).length;return l.map(function(c,b){var h=b+s,o=String(h).length,p=r(h,x-o);return p+f+c}).join(`
`)}},2153:function(v,d,t){v.exports=n;var r=t(417);function u(s,f){for(var l=new Array(f+1),x=0;x<s.length;++x)l[x]=s[x];for(var x=0;x<=s.length;++x){for(var c=s.length;c<=f;++c){for(var b=new Array(f),h=0;h<f;++h)b[h]=Math.pow(c+1-x,h);l[c]=b}var o=r.apply(void 0,l);if(o)return!0}return!1}function n(s){var f=s.length;if(f===0)return[];if(f===1)return[0];for(var l=s[0].length,x=[s[0]],c=[0],b=1;b<f;++b){if(x.push(s[b]),!u(x,l)){x.pop();continue}if(c.push(b),c.length===l+1)return c}return c}},4653:function(v,d,t){v.exports=n;var r=t(4419),u=t(1778);function n(s,f){return r(f).filter(function(l){for(var x=new Array(l.length),c=0;c<l.length;++c)x[c]=f[l[c]];return u(x)*s<1})}},2350:function(v,d,t){v.exports=n;var r=t(4653),u=t(8691);function n(s,f){return u(r(s,f))}},7896:function(v){v.exports=function(t){return atob(t)}},957:function(v,d,t){v.exports=n;var r=t(6606);function u(s){for(var f=0,l=0;l<s.length;++l)f+=s[l];return f}function n(s,f){for(var l=f.length,x=new Array(l+1),c=0;c<l;++c){for(var b=new Array(l+1),h=0;h<=l;++h)b[h]=s[h][c];x[c]=b}x[l]=new Array(l+1);for(var c=0;c<=l;++c)x[l][c]=1;for(var o=new Array(l+1),c=0;c<l;++c)o[c]=f[c];o[l]=1;var p=r(x,o),S=u(p[l+1]);S===0&&(S=1);for(var A=new Array(l+1),c=0;c<=l;++c)A[c]=u(p[c])/S;return A}},1539:function(v,d,t){var r=t(8524);v.exports=u;function u(n,s){return r(n[0].mul(s[1]).add(s[0].mul(n[1])),n[1].mul(s[1]))}},8846:function(v){v.exports=d;function d(t,r){return t[0].mul(r[1]).cmp(r[0].mul(t[1]))}},9189:function(v,d,t){var r=t(8524);v.exports=u;function u(n,s){return r(n[0].mul(s[1]),n[1].mul(s[0]))}},5125:function(v,d,t){var r=t(234),u=t(3218),n=t(5514),s=t(2813),f=t(8524),l=t(9189);v.exports=x;function x(c,b){if(r(c))return b?l(c,x(b)):[c[0].clone(),c[1].clone()];var h=0,o,p;if(u(c))o=c.clone();else if(typeof c=="string")o=s(c);else{if(c===0)return[n(0),n(1)];if(c===Math.floor(c))o=n(c);else{for(;c!==Math.floor(c);)c=c*Math.pow(2,256),h-=256;o=n(c)}}if(r(b))o.mul(b[1]),p=b[0].clone();else if(u(b))p=b.clone();else if(typeof b=="string")p=s(b);else if(!b)p=n(1);else if(b===Math.floor(b))p=n(b);else{for(;b!==Math.floor(b);)b=b*Math.pow(2,256),h+=256;p=n(b)}return h>0?o=o.ushln(h):h<0&&(p=p.ushln(-h)),f(o,p)}},234:function(v,d,t){var r=t(3218);v.exports=u;function u(n){return Array.isArray(n)&&n.length===2&&r(n[0])&&r(n[1])}},4275:function(v,d,t){var r=t(1928);v.exports=u;function u(n){return n.cmp(new r(0))}},9958:function(v,d,t){var r=t(4275);v.exports=u;function u(n){var s=n.length,f=n.words,l=0;if(s===1)l=f[0];else if(s===2)l=f[0]+f[1]*67108864;else for(var x=0;x<s;x++){var c=f[x];l+=c*Math.pow(67108864,x)}return r(n)*l}},1112:function(v,d,t){var r=t(8362),u=t(2288).countTrailingZeros;v.exports=n;function n(s){var f=u(r.lo(s));if(f<32)return f;var l=u(r.hi(s));return l>20?52:l+32}},3218:function(v,d,t){t(1928),v.exports=r;function r(u){return u&&typeof u=="object"&&!!u.words}},5514:function(v,d,t){var r=t(1928),u=t(8362);v.exports=n;function n(s){var f=u.exponent(s);return f<52?new r(s):new r(s*Math.pow(2,52-f)).ushln(f-52)}},8524:function(v,d,t){var r=t(5514),u=t(4275);v.exports=n;function n(s,f){var l=u(s),x=u(f);if(l===0)return[r(0),r(1)];if(x===0)return[r(0),r(0)];x<0&&(s=s.neg(),f=f.neg());var c=s.gcd(f);return c.cmpn(1)?[s.div(c),f.div(c)]:[s,f]}},2813:function(v,d,t){var r=t(1928);v.exports=u;function u(n){return new r(n)}},3962:function(v,d,t){var r=t(8524);v.exports=u;function u(n,s){return r(n[0].mul(s[0]),n[1].mul(s[1]))}},4951:function(v,d,t){var r=t(4275);v.exports=u;function u(n){return r(n[0])*r(n[1])}},4354:function(v,d,t){var r=t(8524);v.exports=u;function u(n,s){return r(n[0].mul(s[1]).sub(n[1].mul(s[0])),n[1].mul(s[1]))}},7999:function(v,d,t){var r=t(9958),u=t(1112);v.exports=n;function n(s){var f=s[0],l=s[1];if(f.cmpn(0)===0)return 0;var x=f.abs().divmod(l.abs()),c=x.div,b=r(c),h=x.mod,o=f.negative!==l.negative?-1:1;if(h.cmpn(0)===0)return o*b;if(b){var p=u(b)+4,S=r(h.ushln(p).divRound(l));return o*(b+S*Math.pow(2,-p))}else{var A=l.bitLength()-h.bitLength()+53,S=r(h.ushln(A).divRound(l));return A<1023?o*S*Math.pow(2,-A):(S*=Math.pow(2,-1023),o*S*Math.pow(2,1023-A))}}},5070:function(v){function d(f,l,x,c,b){for(var h=b+1;c<=b;){var o=c+b>>>1,p=f[o],S=x!==void 0?x(p,l):p-l;S>=0?(h=o,b=o-1):c=o+1}return h}function t(f,l,x,c,b){for(var h=b+1;c<=b;){var o=c+b>>>1,p=f[o],S=x!==void 0?x(p,l):p-l;S>0?(h=o,b=o-1):c=o+1}return h}function r(f,l,x,c,b){for(var h=c-1;c<=b;){var o=c+b>>>1,p=f[o],S=x!==void 0?x(p,l):p-l;S<0?(h=o,c=o+1):b=o-1}return h}function u(f,l,x,c,b){for(var h=c-1;c<=b;){var o=c+b>>>1,p=f[o],S=x!==void 0?x(p,l):p-l;S<=0?(h=o,c=o+1):b=o-1}return h}function n(f,l,x,c,b){for(;c<=b;){var h=c+b>>>1,o=f[h],p=x!==void 0?x(o,l):o-l;if(p===0)return h;p<=0?c=h+1:b=h-1}return-1}function s(f,l,x,c,b,h){return typeof x=="function"?h(f,l,x,c===void 0?0:c|0,b===void 0?f.length-1:b|0):h(f,l,void 0,x===void 0?0:x|0,c===void 0?f.length-1:c|0)}v.exports={ge:function(f,l,x,c,b){return s(f,l,x,c,b,d)},gt:function(f,l,x,c,b){return s(f,l,x,c,b,t)},lt:function(f,l,x,c,b){return s(f,l,x,c,b,r)},le:function(f,l,x,c,b){return s(f,l,x,c,b,u)},eq:function(f,l,x,c,b){return s(f,l,x,c,b,n)}}},2288:function(v,d){"use restrict";var t=32;d.INT_BITS=t,d.INT_MAX=2147483647,d.INT_MIN=-1<<t-1,d.sign=function(n){return(n>0)-(n<0)},d.abs=function(n){var s=n>>t-1;return(n^s)-s},d.min=function(n,s){return s^(n^s)&-(n<s)},d.max=function(n,s){return n^(n^s)&-(n<s)},d.isPow2=function(n){return!(n&n-1)&&!!n},d.log2=function(n){var s,f;return s=(n>65535)<<4,n>>>=s,f=(n>255)<<3,n>>>=f,s|=f,f=(n>15)<<2,n>>>=f,s|=f,f=(n>3)<<1,n>>>=f,s|=f,s|n>>1},d.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},d.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function r(n){var s=32;return n&=-n,n&&s--,n&65535&&(s-=16),n&16711935&&(s-=8),n&252645135&&(s-=4),n&858993459&&(s-=2),n&1431655765&&(s-=1),s}d.countTrailingZeros=r,d.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},d.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},d.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var u=new Array(256);(function(n){for(var s=0;s<256;++s){var f=s,l=s,x=7;for(f>>>=1;f;f>>>=1)l<<=1,l|=f&1,--x;n[s]=l<<x&255}})(u),d.reverse=function(n){return u[n&255]<<24|u[n>>>8&255]<<16|u[n>>>16&255]<<8|u[n>>>24&255]},d.interleave2=function(n,s){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,s&=65535,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,n|s<<1},d.deinterleave2=function(n,s){return n=n>>>s&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},d.interleave3=function(n,s,f){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,s&=1023,s=(s|s<<16)&4278190335,s=(s|s<<8)&251719695,s=(s|s<<4)&3272356035,s=(s|s<<2)&1227133513,n|=s<<1,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,n|f<<2},d.deinterleave3=function(n,s){return n=n>>>s&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},d.nextCombination=function(n){var s=n|n-1;return s+1|(~s&-~s)-1>>>r(n)+1}},1928:function(v,d,t){v=t.nmd(v),function(r,u){function n(z,F){if(!z)throw new Error(F||"Assertion failed")}function s(z,F){z.super_=F;var B=function(){};B.prototype=F.prototype,z.prototype=new B,z.prototype.constructor=z}function f(z,F,B){if(f.isBN(z))return z;this.negative=0,this.words=null,this.length=0,this.red=null,z!==null&&((F==="le"||F==="be")&&(B=F,F=10),this._init(z||0,F||10,B||"be"))}typeof r=="object"?r.exports=f:u.BN=f,f.BN=f,f.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=t(6601).Buffer}catch{}f.isBN=function(F){return F instanceof f?!0:F!==null&&typeof F=="object"&&F.constructor.wordSize===f.wordSize&&Array.isArray(F.words)},f.max=function(F,B){return F.cmp(B)>0?F:B},f.min=function(F,B){return F.cmp(B)<0?F:B},f.prototype._init=function(F,B,G){if(typeof F=="number")return this._initNumber(F,B,G);if(typeof F=="object")return this._initArray(F,B,G);B==="hex"&&(B=16),n(B===(B|0)&&B>=2&&B<=36),F=F.toString().replace(/\s+/g,"");var Q=0;F[0]==="-"&&(Q++,this.negative=1),Q<F.length&&(B===16?this._parseHex(F,Q,G):(this._parseBase(F,B,Q),G==="le"&&this._initArray(this.toArray(),B,G)))},f.prototype._initNumber=function(F,B,G){F<0&&(this.negative=1,F=-F),F<67108864?(this.words=[F&67108863],this.length=1):F<4503599627370496?(this.words=[F&67108863,F/67108864&67108863],this.length=2):(n(F<9007199254740992),this.words=[F&67108863,F/67108864&67108863,1],this.length=3),G==="le"&&this._initArray(this.toArray(),B,G)},f.prototype._initArray=function(F,B,G){if(n(typeof F.length=="number"),F.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(F.length/3),this.words=new Array(this.length);for(var Q=0;Q<this.length;Q++)this.words[Q]=0;var ee,ae,fe=0;if(G==="be")for(Q=F.length-1,ee=0;Q>=0;Q-=3)ae=F[Q]|F[Q-1]<<8|F[Q-2]<<16,this.words[ee]|=ae<<fe&67108863,this.words[ee+1]=ae>>>26-fe&67108863,fe+=24,fe>=26&&(fe-=26,ee++);else if(G==="le")for(Q=0,ee=0;Q<F.length;Q+=3)ae=F[Q]|F[Q+1]<<8|F[Q+2]<<16,this.words[ee]|=ae<<fe&67108863,this.words[ee+1]=ae>>>26-fe&67108863,fe+=24,fe>=26&&(fe-=26,ee++);return this.strip()};function x(z,F){var B=z.charCodeAt(F);return B>=65&&B<=70?B-55:B>=97&&B<=102?B-87:B-48&15}function c(z,F,B){var G=x(z,B);return B-1>=F&&(G|=x(z,B-1)<<4),G}f.prototype._parseHex=function(F,B,G){this.length=Math.ceil((F.length-B)/6),this.words=new Array(this.length);for(var Q=0;Q<this.length;Q++)this.words[Q]=0;var ee=0,ae=0,fe;if(G==="be")for(Q=F.length-1;Q>=B;Q-=2)fe=c(F,B,Q)<<ee,this.words[ae]|=fe&67108863,ee>=18?(ee-=18,ae+=1,this.words[ae]|=fe>>>26):ee+=8;else{var K=F.length-B;for(Q=K%2===0?B+1:B;Q<F.length;Q+=2)fe=c(F,B,Q)<<ee,this.words[ae]|=fe&67108863,ee>=18?(ee-=18,ae+=1,this.words[ae]|=fe>>>26):ee+=8}this.strip()};function b(z,F,B,G){for(var Q=0,ee=Math.min(z.length,B),ae=F;ae<ee;ae++){var fe=z.charCodeAt(ae)-48;Q*=G,fe>=49?Q+=fe-49+10:fe>=17?Q+=fe-17+10:Q+=fe}return Q}f.prototype._parseBase=function(F,B,G){this.words=[0],this.length=1;for(var Q=0,ee=1;ee<=67108863;ee*=B)Q++;Q--,ee=ee/B|0;for(var ae=F.length-G,fe=ae%Q,K=Math.min(ae,ae-fe)+G,W=0,Z=G;Z<K;Z+=Q)W=b(F,Z,Z+Q,B),this.imuln(ee),this.words[0]+W<67108864?this.words[0]+=W:this._iaddn(W);if(fe!==0){var X=1;for(W=b(F,Z,F.length,B),Z=0;Z<fe;Z++)X*=B;this.imuln(X),this.words[0]+W<67108864?this.words[0]+=W:this._iaddn(W)}this.strip()},f.prototype.copy=function(F){F.words=new Array(this.length);for(var B=0;B<this.length;B++)F.words[B]=this.words[B];F.length=this.length,F.negative=this.negative,F.red=this.red},f.prototype.clone=function(){var F=new f(null);return this.copy(F),F},f.prototype._expand=function(F){for(;this.length<F;)this.words[this.length++]=0;return this},f.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},f.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},f.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],o=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];f.prototype.toString=function(F,B){F=F||10,B=B|0||1;var G;if(F===16||F==="hex"){G="";for(var Q=0,ee=0,ae=0;ae<this.length;ae++){var fe=this.words[ae],K=((fe<<Q|ee)&16777215).toString(16);ee=fe>>>24-Q&16777215,ee!==0||ae!==this.length-1?G=h[6-K.length]+K+G:G=K+G,Q+=2,Q>=26&&(Q-=26,ae--)}for(ee!==0&&(G=ee.toString(16)+G);G.length%B!==0;)G="0"+G;return this.negative!==0&&(G="-"+G),G}if(F===(F|0)&&F>=2&&F<=36){var W=o[F],Z=p[F];G="";var X=this.clone();for(X.negative=0;!X.isZero();){var $=X.modn(Z).toString(F);X=X.idivn(Z),X.isZero()?G=$+G:G=h[W-$.length]+$+G}for(this.isZero()&&(G="0"+G);G.length%B!==0;)G="0"+G;return this.negative!==0&&(G="-"+G),G}n(!1,"Base should be between 2 and 36")},f.prototype.toNumber=function(){var F=this.words[0];return this.length===2?F+=this.words[1]*67108864:this.length===3&&this.words[2]===1?F+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-F:F},f.prototype.toJSON=function(){return this.toString(16)},f.prototype.toBuffer=function(F,B){return n(typeof l<"u"),this.toArrayLike(l,F,B)},f.prototype.toArray=function(F,B){return this.toArrayLike(Array,F,B)},f.prototype.toArrayLike=function(F,B,G){var Q=this.byteLength(),ee=G||Math.max(1,Q);n(Q<=ee,"byte array longer than desired length"),n(ee>0,"Requested array length <= 0"),this.strip();var ae=B==="le",fe=new F(ee),K,W,Z=this.clone();if(ae){for(W=0;!Z.isZero();W++)K=Z.andln(255),Z.iushrn(8),fe[W]=K;for(;W<ee;W++)fe[W]=0}else{for(W=0;W<ee-Q;W++)fe[W]=0;for(W=0;!Z.isZero();W++)K=Z.andln(255),Z.iushrn(8),fe[ee-W-1]=K}return fe},Math.clz32?f.prototype._countBits=function(F){return 32-Math.clz32(F)}:f.prototype._countBits=function(F){var B=F,G=0;return B>=4096&&(G+=13,B>>>=13),B>=64&&(G+=7,B>>>=7),B>=8&&(G+=4,B>>>=4),B>=2&&(G+=2,B>>>=2),G+B},f.prototype._zeroBits=function(F){if(F===0)return 26;var B=F,G=0;return B&8191||(G+=13,B>>>=13),B&127||(G+=7,B>>>=7),B&15||(G+=4,B>>>=4),B&3||(G+=2,B>>>=2),B&1||G++,G},f.prototype.bitLength=function(){var F=this.words[this.length-1],B=this._countBits(F);return(this.length-1)*26+B};function S(z){for(var F=new Array(z.bitLength()),B=0;B<F.length;B++){var G=B/26|0,Q=B%26;F[B]=(z.words[G]&1<<Q)>>>Q}return F}f.prototype.zeroBits=function(){if(this.isZero())return 0;for(var F=0,B=0;B<this.length;B++){var G=this._zeroBits(this.words[B]);if(F+=G,G!==26)break}return F},f.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},f.prototype.toTwos=function(F){return this.negative!==0?this.abs().inotn(F).iaddn(1):this.clone()},f.prototype.fromTwos=function(F){return this.testn(F-1)?this.notn(F).iaddn(1).ineg():this.clone()},f.prototype.isNeg=function(){return this.negative!==0},f.prototype.neg=function(){return this.clone().ineg()},f.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},f.prototype.iuor=function(F){for(;this.length<F.length;)this.words[this.length++]=0;for(var B=0;B<F.length;B++)this.words[B]=this.words[B]|F.words[B];return this.strip()},f.prototype.ior=function(F){return n((this.negative|F.negative)===0),this.iuor(F)},f.prototype.or=function(F){return this.length>F.length?this.clone().ior(F):F.clone().ior(this)},f.prototype.uor=function(F){return this.length>F.length?this.clone().iuor(F):F.clone().iuor(this)},f.prototype.iuand=function(F){var B;this.length>F.length?B=F:B=this;for(var G=0;G<B.length;G++)this.words[G]=this.words[G]&F.words[G];return this.length=B.length,this.strip()},f.prototype.iand=function(F){return n((this.negative|F.negative)===0),this.iuand(F)},f.prototype.and=function(F){return this.length>F.length?this.clone().iand(F):F.clone().iand(this)},f.prototype.uand=function(F){return this.length>F.length?this.clone().iuand(F):F.clone().iuand(this)},f.prototype.iuxor=function(F){var B,G;this.length>F.length?(B=this,G=F):(B=F,G=this);for(var Q=0;Q<G.length;Q++)this.words[Q]=B.words[Q]^G.words[Q];if(this!==B)for(;Q<B.length;Q++)this.words[Q]=B.words[Q];return this.length=B.length,this.strip()},f.prototype.ixor=function(F){return n((this.negative|F.negative)===0),this.iuxor(F)},f.prototype.xor=function(F){return this.length>F.length?this.clone().ixor(F):F.clone().ixor(this)},f.prototype.uxor=function(F){return this.length>F.length?this.clone().iuxor(F):F.clone().iuxor(this)},f.prototype.inotn=function(F){n(typeof F=="number"&&F>=0);var B=Math.ceil(F/26)|0,G=F%26;this._expand(B),G>0&&B--;for(var Q=0;Q<B;Q++)this.words[Q]=~this.words[Q]&67108863;return G>0&&(this.words[Q]=~this.words[Q]&67108863>>26-G),this.strip()},f.prototype.notn=function(F){return this.clone().inotn(F)},f.prototype.setn=function(F,B){n(typeof F=="number"&&F>=0);var G=F/26|0,Q=F%26;return this._expand(G+1),B?this.words[G]=this.words[G]|1<<Q:this.words[G]=this.words[G]&~(1<<Q),this.strip()},f.prototype.iadd=function(F){var B;if(this.negative!==0&&F.negative===0)return this.negative=0,B=this.isub(F),this.negative^=1,this._normSign();if(this.negative===0&&F.negative!==0)return F.negative=0,B=this.isub(F),F.negative=1,B._normSign();var G,Q;this.length>F.length?(G=this,Q=F):(G=F,Q=this);for(var ee=0,ae=0;ae<Q.length;ae++)B=(G.words[ae]|0)+(Q.words[ae]|0)+ee,this.words[ae]=B&67108863,ee=B>>>26;for(;ee!==0&&ae<G.length;ae++)B=(G.words[ae]|0)+ee,this.words[ae]=B&67108863,ee=B>>>26;if(this.length=G.length,ee!==0)this.words[this.length]=ee,this.length++;else if(G!==this)for(;ae<G.length;ae++)this.words[ae]=G.words[ae];return this},f.prototype.add=function(F){var B;return F.negative!==0&&this.negative===0?(F.negative=0,B=this.sub(F),F.negative^=1,B):F.negative===0&&this.negative!==0?(this.negative=0,B=F.sub(this),this.negative=1,B):this.length>F.length?this.clone().iadd(F):F.clone().iadd(this)},f.prototype.isub=function(F){if(F.negative!==0){F.negative=0;var B=this.iadd(F);return F.negative=1,B._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(F),this.negative=1,this._normSign();var G=this.cmp(F);if(G===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Q,ee;G>0?(Q=this,ee=F):(Q=F,ee=this);for(var ae=0,fe=0;fe<ee.length;fe++)B=(Q.words[fe]|0)-(ee.words[fe]|0)+ae,ae=B>>26,this.words[fe]=B&67108863;for(;ae!==0&&fe<Q.length;fe++)B=(Q.words[fe]|0)+ae,ae=B>>26,this.words[fe]=B&67108863;if(ae===0&&fe<Q.length&&Q!==this)for(;fe<Q.length;fe++)this.words[fe]=Q.words[fe];return this.length=Math.max(this.length,fe),Q!==this&&(this.negative=1),this.strip()},f.prototype.sub=function(F){return this.clone().isub(F)};function A(z,F,B){B.negative=F.negative^z.negative;var G=z.length+F.length|0;B.length=G,G=G-1|0;var Q=z.words[0]|0,ee=F.words[0]|0,ae=Q*ee,fe=ae&67108863,K=ae/67108864|0;B.words[0]=fe;for(var W=1;W<G;W++){for(var Z=K>>>26,X=K&67108863,$=Math.min(W,F.length-1),ie=Math.max(0,W-z.length+1);ie<=$;ie++){var J=W-ie|0;Q=z.words[J]|0,ee=F.words[ie]|0,ae=Q*ee+X,Z+=ae/67108864|0,X=ae&67108863}B.words[W]=X|0,K=Z|0}return K!==0?B.words[W]=K|0:B.length--,B.strip()}var E=function(F,B,G){var Q=F.words,ee=B.words,ae=G.words,fe=0,K,W,Z,X=Q[0]|0,$=X&8191,ie=X>>>13,J=Q[1]|0,j=J&8191,se=J>>>13,ne=Q[2]|0,ue=ne&8191,ge=ne>>>13,we=Q[3]|0,xe=we&8191,Fe=we>>>13,ze=Q[4]|0,Te=ze&8191,ye=ze>>>13,Ae=Q[5]|0,Ne=Ae&8191,Ue=Ae>>>13,Re=Q[6]|0,Ve=Re&8191,rt=Re>>>13,Qe=Q[7]|0,Je=Qe&8191,qe=Qe>>>13,dt=Q[8]|0,pt=dt&8191,mt=dt>>>13,Ct=Q[9]|0,Rt=Ct&8191,Zt=Ct>>>13,Xe=ee[0]|0,Le=Xe&8191,Pe=Xe>>>13,ke=ee[1]|0,Ce=ke&8191,me=ke>>>13,oe=ee[2]|0,pe=oe&8191,Me=oe>>>13,_e=ee[3]|0,tt=_e&8191,at=_e>>>13,At=ee[4]|0,Ft=At&8191,Gt=At>>>13,Yt=ee[5]|0,Dt=Yt&8191,$t=Yt>>>13,lr=ee[6]|0,Hr=lr&8191,xt=lr>>>13,Qt=ee[7]|0,jt=Qt&8191,Sr=Qt>>>13,gr=ee[8]|0,ut=gr&8191,st=gr>>>13,bt=ee[9]|0,St=bt&8191,Pt=bt>>>13;G.negative=F.negative^B.negative,G.length=19,K=Math.imul($,Le),W=Math.imul($,Pe),W=W+Math.imul(ie,Le)|0,Z=Math.imul(ie,Pe);var Et=(fe+K|0)+((W&8191)<<13)|0;fe=(Z+(W>>>13)|0)+(Et>>>26)|0,Et&=67108863,K=Math.imul(j,Le),W=Math.imul(j,Pe),W=W+Math.imul(se,Le)|0,Z=Math.imul(se,Pe),K=K+Math.imul($,Ce)|0,W=W+Math.imul($,me)|0,W=W+Math.imul(ie,Ce)|0,Z=Z+Math.imul(ie,me)|0;var Bt=(fe+K|0)+((W&8191)<<13)|0;fe=(Z+(W>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,K=Math.imul(ue,Le),W=Math.imul(ue,Pe),W=W+Math.imul(ge,Le)|0,Z=Math.imul(ge,Pe),K=K+Math.imul(j,Ce)|0,W=W+Math.imul(j,me)|0,W=W+Math.imul(se,Ce)|0,Z=Z+Math.imul(se,me)|0,K=K+Math.imul($,pe)|0,W=W+Math.imul($,Me)|0,W=W+Math.imul(ie,pe)|0,Z=Z+Math.imul(ie,Me)|0;var Wt=(fe+K|0)+((W&8191)<<13)|0;fe=(Z+(W>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,K=Math.imul(xe,Le),W=Math.imul(xe,Pe),W=W+Math.imul(Fe,Le)|0,Z=Math.imul(Fe,Pe),K=K+Math.imul(ue,Ce)|0,W=W+Math.imul(ue,me)|0,W=W+Math.imul(ge,Ce)|0,Z=Z+Math.imul(ge,me)|0,K=K+Math.imul(j,pe)|0,W=W+Math.imul(j,Me)|0,W=W+Math.imul(se,pe)|0,Z=Z+Math.imul(se,Me)|0,K=K+Math.imul($,tt)|0,W=W+Math.imul($,at)|0,W=W+Math.imul(ie,tt)|0,Z=Z+Math.imul(ie,at)|0;var tr=(fe+K|0)+((W&8191)<<13)|0;fe=(Z+(W>>>13)|0)+(tr>>>26)|0,tr&=67108863,K=Math.imul(Te,Le),W=Math.imul(Te,Pe),W=W+Math.imul(ye,Le)|0,Z=Math.imul(ye,Pe),K=K+Math.imul(xe,Ce)|0,W=W+Math.imul(xe,me)|0,W=W+Math.imul(Fe,Ce)|0,Z=Z+Math.imul(Fe,me)|0,K=K+Math.imul(ue,pe)|0,W=W+Math.imul(ue,Me)|0,W=W+Math.imul(ge,pe)|0,Z=Z+Math.imul(ge,Me)|0,K=K+Math.imul(j,tt)|0,W=W+Math.imul(j,at)|0,W=W+Math.imul(se,tt)|0,Z=Z+Math.imul(se,at)|0,K=K+Math.imul($,Ft)|0,W=W+Math.imul($,Gt)|0,W=W+Math.imul(ie,Ft)|0,Z=Z+Math.imul(ie,Gt)|0;var er=(fe+K|0)+((W&8191)<<13)|0;fe=(Z+(W>>>13)|0)+(er>>>26)|0,er&=67108863,K=Math.imul(Ne,Le),W=Math.imul(Ne,Pe),W=W+Math.imul(Ue,Le)|0,Z=Math.imul(Ue,Pe),K=K+Math.imul(Te,Ce)|0,W=W+Math.imul(Te,me)|0,W=W+Math.imul(ye,Ce)|0,Z=Z+Math.imul(ye,me)|0,K=K+Math.imul(xe,pe)|0,W=W+Math.imul(xe,Me)|0,W=W+Math.imul(Fe,pe)|0,Z=Z+Math.imul(Fe,Me)|0,K=K+Math.imul(ue,tt)|0,W=W+Math.imul(ue,at)|0,W=W+Math.imul(ge,tt)|0,Z=Z+Math.imul(ge,at)|0,K=K+Math.imul(j,Ft)|0,W=W+Math.imul(j,Gt)|0,W=W+Math.imul(se,Ft)|0,Z=Z+Math.imul(se,Gt)|0,K=K+Math.imul($,Dt)|0,W=W+Math.imul($,$t)|0,W=W+Math.imul(ie,Dt)|0,Z=Z+Math.imul(ie,$t)|0;var ur=(fe+K|0)+((W&8191)<<13)|0;fe=(Z+(W>>>13)|0)+(ur>>>26)|0,ur&=67108863,K=Math.imul(Ve,Le),W=Math.imul(Ve,Pe),W=W+Math.imul(rt,Le)|0,Z=Math.imul(rt,Pe),K=K+Math.imul(Ne,Ce)|0,W=W+Math.imul(Ne,me)|0,W=W+Math.imul(Ue,Ce)|0,Z=Z+Math.imul(Ue,me)|0,K=K+Math.imul(Te,pe)|0,W=W+Math.imul(Te,Me)|0,W=W+Math.imul(ye,pe)|0,Z=Z+Math.imul(ye,Me)|0,K=K+Math.imul(xe,tt)|0,W=W+Math.imul(xe,at)|0,W=W+Math.imul(Fe,tt)|0,Z=Z+Math.imul(Fe,at)|0,K=K+Math.imul(ue,Ft)|0,W=W+Math.imul(ue,Gt)|0,W=W+Math.imul(ge,Ft)|0,Z=Z+Math.imul(ge,Gt)|0,K=K+Math.imul(j,Dt)|0,W=W+Math.imul(j,$t)|0,W=W+Math.imul(se,Dt)|0,Z=Z+Math.imul(se,$t)|0,K=K+Math.imul($,Hr)|0,W=W+Math.imul($,xt)|0,W=W+Math.imul(ie,Hr)|0,Z=Z+Math.imul(ie,xt)|0;var kr=(fe+K|0)+((W&8191)<<13)|0;fe=(Z+(W>>>13)|0)+(kr>>>26)|0,kr&=67108863,K=Math.imul(Je,Le),W=Math.imul(Je,Pe),W=W+Math.imul(qe,Le)|0,Z=Math.imul(qe,Pe),K=K+Math.imul(Ve,Ce)|0,W=W+Math.imul(Ve,me)|0,W=W+Math.imul(rt,Ce)|0,Z=Z+Math.imul(rt,me)|0,K=K+Math.imul(Ne,pe)|0,W=W+Math.imul(Ne,Me)|0,W=W+Math.imul(Ue,pe)|0,Z=Z+Math.imul(Ue,Me)|0,K=K+Math.imul(Te,tt)|0,W=W+Math.imul(Te,at)|0,W=W+Math.imul(ye,tt)|0,Z=Z+Math.imul(ye,at)|0,K=K+Math.imul(xe,Ft)|0,W=W+Math.imul(xe,Gt)|0,W=W+Math.imul(Fe,Ft)|0,Z=Z+Math.imul(Fe,Gt)|0,K=K+Math.imul(ue,Dt)|0,W=W+Math.imul(ue,$t)|0,W=W+Math.imul(ge,Dt)|0,Z=Z+Math.imul(ge,$t)|0,K=K+Math.imul(j,Hr)|0,W=W+Math.imul(j,xt)|0,W=W+Math.imul(se,Hr)|0,Z=Z+Math.imul(se,xt)|0,K=K+Math.imul($,jt)|0,W=W+Math.imul($,Sr)|0,W=W+Math.imul(ie,jt)|0,Z=Z+Math.imul(ie,Sr)|0;var We=(fe+K|0)+((W&8191)<<13)|0;fe=(Z+(W>>>13)|0)+(We>>>26)|0,We&=67108863,K=Math.imul(pt,Le),W=Math.imul(pt,Pe),W=W+Math.imul(mt,Le)|0,Z=Math.imul(mt,Pe),K=K+Math.imul(Je,Ce)|0,W=W+Math.imul(Je,me)|0,W=W+Math.imul(qe,Ce)|0,Z=Z+Math.imul(qe,me)|0,K=K+Math.imul(Ve,pe)|0,W=W+Math.imul(Ve,Me)|0,W=W+Math.imul(rt,pe)|0,Z=Z+Math.imul(rt,Me)|0,K=K+Math.imul(Ne,tt)|0,W=W+Math.imul(Ne,at)|0,W=W+Math.imul(Ue,tt)|0,Z=Z+Math.imul(Ue,at)|0,K=K+Math.imul(Te,Ft)|0,W=W+Math.imul(Te,Gt)|0,W=W+Math.imul(ye,Ft)|0,Z=Z+Math.imul(ye,Gt)|0,K=K+Math.imul(xe,Dt)|0,W=W+Math.imul(xe,$t)|0,W=W+Math.imul(Fe,Dt)|0,Z=Z+Math.imul(Fe,$t)|0,K=K+Math.imul(ue,Hr)|0,W=W+Math.imul(ue,xt)|0,W=W+Math.imul(ge,Hr)|0,Z=Z+Math.imul(ge,xt)|0,K=K+Math.imul(j,jt)|0,W=W+Math.imul(j,Sr)|0,W=W+Math.imul(se,jt)|0,Z=Z+Math.imul(se,Sr)|0,K=K+Math.imul($,ut)|0,W=W+Math.imul($,st)|0,W=W+Math.imul(ie,ut)|0,Z=Z+Math.imul(ie,st)|0;var Ge=(fe+K|0)+((W&8191)<<13)|0;fe=(Z+(W>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,K=Math.imul(Rt,Le),W=Math.imul(Rt,Pe),W=W+Math.imul(Zt,Le)|0,Z=Math.imul(Zt,Pe),K=K+Math.imul(pt,Ce)|0,W=W+Math.imul(pt,me)|0,W=W+Math.imul(mt,Ce)|0,Z=Z+Math.imul(mt,me)|0,K=K+Math.imul(Je,pe)|0,W=W+Math.imul(Je,Me)|0,W=W+Math.imul(qe,pe)|0,Z=Z+Math.imul(qe,Me)|0,K=K+Math.imul(Ve,tt)|0,W=W+Math.imul(Ve,at)|0,W=W+Math.imul(rt,tt)|0,Z=Z+Math.imul(rt,at)|0,K=K+Math.imul(Ne,Ft)|0,W=W+Math.imul(Ne,Gt)|0,W=W+Math.imul(Ue,Ft)|0,Z=Z+Math.imul(Ue,Gt)|0,K=K+Math.imul(Te,Dt)|0,W=W+Math.imul(Te,$t)|0,W=W+Math.imul(ye,Dt)|0,Z=Z+Math.imul(ye,$t)|0,K=K+Math.imul(xe,Hr)|0,W=W+Math.imul(xe,xt)|0,W=W+Math.imul(Fe,Hr)|0,Z=Z+Math.imul(Fe,xt)|0,K=K+Math.imul(ue,jt)|0,W=W+Math.imul(ue,Sr)|0,W=W+Math.imul(ge,jt)|0,Z=Z+Math.imul(ge,Sr)|0,K=K+Math.imul(j,ut)|0,W=W+Math.imul(j,st)|0,W=W+Math.imul(se,ut)|0,Z=Z+Math.imul(se,st)|0,K=K+Math.imul($,St)|0,W=W+Math.imul($,Pt)|0,W=W+Math.imul(ie,St)|0,Z=Z+Math.imul(ie,Pt)|0;var _t=(fe+K|0)+((W&8191)<<13)|0;fe=(Z+(W>>>13)|0)+(_t>>>26)|0,_t&=67108863,K=Math.imul(Rt,Ce),W=Math.imul(Rt,me),W=W+Math.imul(Zt,Ce)|0,Z=Math.imul(Zt,me),K=K+Math.imul(pt,pe)|0,W=W+Math.imul(pt,Me)|0,W=W+Math.imul(mt,pe)|0,Z=Z+Math.imul(mt,Me)|0,K=K+Math.imul(Je,tt)|0,W=W+Math.imul(Je,at)|0,W=W+Math.imul(qe,tt)|0,Z=Z+Math.imul(qe,at)|0,K=K+Math.imul(Ve,Ft)|0,W=W+Math.imul(Ve,Gt)|0,W=W+Math.imul(rt,Ft)|0,Z=Z+Math.imul(rt,Gt)|0,K=K+Math.imul(Ne,Dt)|0,W=W+Math.imul(Ne,$t)|0,W=W+Math.imul(Ue,Dt)|0,Z=Z+Math.imul(Ue,$t)|0,K=K+Math.imul(Te,Hr)|0,W=W+Math.imul(Te,xt)|0,W=W+Math.imul(ye,Hr)|0,Z=Z+Math.imul(ye,xt)|0,K=K+Math.imul(xe,jt)|0,W=W+Math.imul(xe,Sr)|0,W=W+Math.imul(Fe,jt)|0,Z=Z+Math.imul(Fe,Sr)|0,K=K+Math.imul(ue,ut)|0,W=W+Math.imul(ue,st)|0,W=W+Math.imul(ge,ut)|0,Z=Z+Math.imul(ge,st)|0,K=K+Math.imul(j,St)|0,W=W+Math.imul(j,Pt)|0,W=W+Math.imul(se,St)|0,Z=Z+Math.imul(se,Pt)|0;var Ot=(fe+K|0)+((W&8191)<<13)|0;fe=(Z+(W>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,K=Math.imul(Rt,pe),W=Math.imul(Rt,Me),W=W+Math.imul(Zt,pe)|0,Z=Math.imul(Zt,Me),K=K+Math.imul(pt,tt)|0,W=W+Math.imul(pt,at)|0,W=W+Math.imul(mt,tt)|0,Z=Z+Math.imul(mt,at)|0,K=K+Math.imul(Je,Ft)|0,W=W+Math.imul(Je,Gt)|0,W=W+Math.imul(qe,Ft)|0,Z=Z+Math.imul(qe,Gt)|0,K=K+Math.imul(Ve,Dt)|0,W=W+Math.imul(Ve,$t)|0,W=W+Math.imul(rt,Dt)|0,Z=Z+Math.imul(rt,$t)|0,K=K+Math.imul(Ne,Hr)|0,W=W+Math.imul(Ne,xt)|0,W=W+Math.imul(Ue,Hr)|0,Z=Z+Math.imul(Ue,xt)|0,K=K+Math.imul(Te,jt)|0,W=W+Math.imul(Te,Sr)|0,W=W+Math.imul(ye,jt)|0,Z=Z+Math.imul(ye,Sr)|0,K=K+Math.imul(xe,ut)|0,W=W+Math.imul(xe,st)|0,W=W+Math.imul(Fe,ut)|0,Z=Z+Math.imul(Fe,st)|0,K=K+Math.imul(ue,St)|0,W=W+Math.imul(ue,Pt)|0,W=W+Math.imul(ge,St)|0,Z=Z+Math.imul(ge,Pt)|0;var Kt=(fe+K|0)+((W&8191)<<13)|0;fe=(Z+(W>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,K=Math.imul(Rt,tt),W=Math.imul(Rt,at),W=W+Math.imul(Zt,tt)|0,Z=Math.imul(Zt,at),K=K+Math.imul(pt,Ft)|0,W=W+Math.imul(pt,Gt)|0,W=W+Math.imul(mt,Ft)|0,Z=Z+Math.imul(mt,Gt)|0,K=K+Math.imul(Je,Dt)|0,W=W+Math.imul(Je,$t)|0,W=W+Math.imul(qe,Dt)|0,Z=Z+Math.imul(qe,$t)|0,K=K+Math.imul(Ve,Hr)|0,W=W+Math.imul(Ve,xt)|0,W=W+Math.imul(rt,Hr)|0,Z=Z+Math.imul(rt,xt)|0,K=K+Math.imul(Ne,jt)|0,W=W+Math.imul(Ne,Sr)|0,W=W+Math.imul(Ue,jt)|0,Z=Z+Math.imul(Ue,Sr)|0,K=K+Math.imul(Te,ut)|0,W=W+Math.imul(Te,st)|0,W=W+Math.imul(ye,ut)|0,Z=Z+Math.imul(ye,st)|0,K=K+Math.imul(xe,St)|0,W=W+Math.imul(xe,Pt)|0,W=W+Math.imul(Fe,St)|0,Z=Z+Math.imul(Fe,Pt)|0;var or=(fe+K|0)+((W&8191)<<13)|0;fe=(Z+(W>>>13)|0)+(or>>>26)|0,or&=67108863,K=Math.imul(Rt,Ft),W=Math.imul(Rt,Gt),W=W+Math.imul(Zt,Ft)|0,Z=Math.imul(Zt,Gt),K=K+Math.imul(pt,Dt)|0,W=W+Math.imul(pt,$t)|0,W=W+Math.imul(mt,Dt)|0,Z=Z+Math.imul(mt,$t)|0,K=K+Math.imul(Je,Hr)|0,W=W+Math.imul(Je,xt)|0,W=W+Math.imul(qe,Hr)|0,Z=Z+Math.imul(qe,xt)|0,K=K+Math.imul(Ve,jt)|0,W=W+Math.imul(Ve,Sr)|0,W=W+Math.imul(rt,jt)|0,Z=Z+Math.imul(rt,Sr)|0,K=K+Math.imul(Ne,ut)|0,W=W+Math.imul(Ne,st)|0,W=W+Math.imul(Ue,ut)|0,Z=Z+Math.imul(Ue,st)|0,K=K+Math.imul(Te,St)|0,W=W+Math.imul(Te,Pt)|0,W=W+Math.imul(ye,St)|0,Z=Z+Math.imul(ye,Pt)|0;var hr=(fe+K|0)+((W&8191)<<13)|0;fe=(Z+(W>>>13)|0)+(hr>>>26)|0,hr&=67108863,K=Math.imul(Rt,Dt),W=Math.imul(Rt,$t),W=W+Math.imul(Zt,Dt)|0,Z=Math.imul(Zt,$t),K=K+Math.imul(pt,Hr)|0,W=W+Math.imul(pt,xt)|0,W=W+Math.imul(mt,Hr)|0,Z=Z+Math.imul(mt,xt)|0,K=K+Math.imul(Je,jt)|0,W=W+Math.imul(Je,Sr)|0,W=W+Math.imul(qe,jt)|0,Z=Z+Math.imul(qe,Sr)|0,K=K+Math.imul(Ve,ut)|0,W=W+Math.imul(Ve,st)|0,W=W+Math.imul(rt,ut)|0,Z=Z+Math.imul(rt,st)|0,K=K+Math.imul(Ne,St)|0,W=W+Math.imul(Ne,Pt)|0,W=W+Math.imul(Ue,St)|0,Z=Z+Math.imul(Ue,Pt)|0;var ir=(fe+K|0)+((W&8191)<<13)|0;fe=(Z+(W>>>13)|0)+(ir>>>26)|0,ir&=67108863,K=Math.imul(Rt,Hr),W=Math.imul(Rt,xt),W=W+Math.imul(Zt,Hr)|0,Z=Math.imul(Zt,xt),K=K+Math.imul(pt,jt)|0,W=W+Math.imul(pt,Sr)|0,W=W+Math.imul(mt,jt)|0,Z=Z+Math.imul(mt,Sr)|0,K=K+Math.imul(Je,ut)|0,W=W+Math.imul(Je,st)|0,W=W+Math.imul(qe,ut)|0,Z=Z+Math.imul(qe,st)|0,K=K+Math.imul(Ve,St)|0,W=W+Math.imul(Ve,Pt)|0,W=W+Math.imul(rt,St)|0,Z=Z+Math.imul(rt,Pt)|0;var Nt=(fe+K|0)+((W&8191)<<13)|0;fe=(Z+(W>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,K=Math.imul(Rt,jt),W=Math.imul(Rt,Sr),W=W+Math.imul(Zt,jt)|0,Z=Math.imul(Zt,Sr),K=K+Math.imul(pt,ut)|0,W=W+Math.imul(pt,st)|0,W=W+Math.imul(mt,ut)|0,Z=Z+Math.imul(mt,st)|0,K=K+Math.imul(Je,St)|0,W=W+Math.imul(Je,Pt)|0,W=W+Math.imul(qe,St)|0,Z=Z+Math.imul(qe,Pt)|0;var vr=(fe+K|0)+((W&8191)<<13)|0;fe=(Z+(W>>>13)|0)+(vr>>>26)|0,vr&=67108863,K=Math.imul(Rt,ut),W=Math.imul(Rt,st),W=W+Math.imul(Zt,ut)|0,Z=Math.imul(Zt,st),K=K+Math.imul(pt,St)|0,W=W+Math.imul(pt,Pt)|0,W=W+Math.imul(mt,St)|0,Z=Z+Math.imul(mt,Pt)|0;var mr=(fe+K|0)+((W&8191)<<13)|0;fe=(Z+(W>>>13)|0)+(mr>>>26)|0,mr&=67108863,K=Math.imul(Rt,St),W=Math.imul(Rt,Pt),W=W+Math.imul(Zt,St)|0,Z=Math.imul(Zt,Pt);var xr=(fe+K|0)+((W&8191)<<13)|0;return fe=(Z+(W>>>13)|0)+(xr>>>26)|0,xr&=67108863,ae[0]=Et,ae[1]=Bt,ae[2]=Wt,ae[3]=tr,ae[4]=er,ae[5]=ur,ae[6]=kr,ae[7]=We,ae[8]=Ge,ae[9]=_t,ae[10]=Ot,ae[11]=Kt,ae[12]=or,ae[13]=hr,ae[14]=ir,ae[15]=Nt,ae[16]=vr,ae[17]=mr,ae[18]=xr,fe!==0&&(ae[19]=fe,G.length++),G};Math.imul||(E=A);function m(z,F,B){B.negative=F.negative^z.negative,B.length=z.length+F.length;for(var G=0,Q=0,ee=0;ee<B.length-1;ee++){var ae=Q;Q=0;for(var fe=G&67108863,K=Math.min(ee,F.length-1),W=Math.max(0,ee-z.length+1);W<=K;W++){var Z=ee-W,X=z.words[Z]|0,$=F.words[W]|0,ie=X*$,J=ie&67108863;ae=ae+(ie/67108864|0)|0,J=J+fe|0,fe=J&67108863,ae=ae+(J>>>26)|0,Q+=ae>>>26,ae&=67108863}B.words[ee]=fe,G=ae,ae=Q}return G!==0?B.words[ee]=G:B.length--,B.strip()}function M(z,F,B){var G=new w;return G.mulp(z,F,B)}f.prototype.mulTo=function(F,B){var G,Q=this.length+F.length;return this.length===10&&F.length===10?G=E(this,F,B):Q<63?G=A(this,F,B):Q<1024?G=m(this,F,B):G=M(this,F,B),G};function w(z,F){this.x=z,this.y=F}w.prototype.makeRBT=function(F){for(var B=new Array(F),G=f.prototype._countBits(F)-1,Q=0;Q<F;Q++)B[Q]=this.revBin(Q,G,F);return B},w.prototype.revBin=function(F,B,G){if(F===0||F===G-1)return F;for(var Q=0,ee=0;ee<B;ee++)Q|=(F&1)<<B-ee-1,F>>=1;return Q},w.prototype.permute=function(F,B,G,Q,ee,ae){for(var fe=0;fe<ae;fe++)Q[fe]=B[F[fe]],ee[fe]=G[F[fe]]},w.prototype.transform=function(F,B,G,Q,ee,ae){this.permute(ae,F,B,G,Q,ee);for(var fe=1;fe<ee;fe<<=1)for(var K=fe<<1,W=Math.cos(2*Math.PI/K),Z=Math.sin(2*Math.PI/K),X=0;X<ee;X+=K)for(var $=W,ie=Z,J=0;J<fe;J++){var j=G[X+J],se=Q[X+J],ne=G[X+J+fe],ue=Q[X+J+fe],ge=$*ne-ie*ue;ue=$*ue+ie*ne,ne=ge,G[X+J]=j+ne,Q[X+J]=se+ue,G[X+J+fe]=j-ne,Q[X+J+fe]=se-ue,J!==K&&(ge=W*$-Z*ie,ie=W*ie+Z*$,$=ge)}},w.prototype.guessLen13b=function(F,B){var G=Math.max(B,F)|1,Q=G&1,ee=0;for(G=G/2|0;G;G=G>>>1)ee++;return 1<<ee+1+Q},w.prototype.conjugate=function(F,B,G){if(!(G<=1))for(var Q=0;Q<G/2;Q++){var ee=F[Q];F[Q]=F[G-Q-1],F[G-Q-1]=ee,ee=B[Q],B[Q]=-B[G-Q-1],B[G-Q-1]=-ee}},w.prototype.normalize13b=function(F,B){for(var G=0,Q=0;Q<B/2;Q++){var ee=Math.round(F[2*Q+1]/B)*8192+Math.round(F[2*Q]/B)+G;F[Q]=ee&67108863,ee<67108864?G=0:G=ee/67108864|0}return F},w.prototype.convert13b=function(F,B,G,Q){for(var ee=0,ae=0;ae<B;ae++)ee=ee+(F[ae]|0),G[2*ae]=ee&8191,ee=ee>>>13,G[2*ae+1]=ee&8191,ee=ee>>>13;for(ae=2*B;ae<Q;++ae)G[ae]=0;n(ee===0),n((ee&-8192)===0)},w.prototype.stub=function(F){for(var B=new Array(F),G=0;G<F;G++)B[G]=0;return B},w.prototype.mulp=function(F,B,G){var Q=2*this.guessLen13b(F.length,B.length),ee=this.makeRBT(Q),ae=this.stub(Q),fe=new Array(Q),K=new Array(Q),W=new Array(Q),Z=new Array(Q),X=new Array(Q),$=new Array(Q),ie=G.words;ie.length=Q,this.convert13b(F.words,F.length,fe,Q),this.convert13b(B.words,B.length,Z,Q),this.transform(fe,ae,K,W,Q,ee),this.transform(Z,ae,X,$,Q,ee);for(var J=0;J<Q;J++){var j=K[J]*X[J]-W[J]*$[J];W[J]=K[J]*$[J]+W[J]*X[J],K[J]=j}return this.conjugate(K,W,Q),this.transform(K,W,ie,ae,Q,ee),this.conjugate(ie,ae,Q),this.normalize13b(ie,Q),G.negative=F.negative^B.negative,G.length=F.length+B.length,G.strip()},f.prototype.mul=function(F){var B=new f(null);return B.words=new Array(this.length+F.length),this.mulTo(F,B)},f.prototype.mulf=function(F){var B=new f(null);return B.words=new Array(this.length+F.length),M(this,F,B)},f.prototype.imul=function(F){return this.clone().mulTo(F,this)},f.prototype.imuln=function(F){n(typeof F=="number"),n(F<67108864);for(var B=0,G=0;G<this.length;G++){var Q=(this.words[G]|0)*F,ee=(Q&67108863)+(B&67108863);B>>=26,B+=Q/67108864|0,B+=ee>>>26,this.words[G]=ee&67108863}return B!==0&&(this.words[G]=B,this.length++),this},f.prototype.muln=function(F){return this.clone().imuln(F)},f.prototype.sqr=function(){return this.mul(this)},f.prototype.isqr=function(){return this.imul(this.clone())},f.prototype.pow=function(F){var B=S(F);if(B.length===0)return new f(1);for(var G=this,Q=0;Q<B.length&&B[Q]===0;Q++,G=G.sqr());if(++Q<B.length)for(var ee=G.sqr();Q<B.length;Q++,ee=ee.sqr())B[Q]!==0&&(G=G.mul(ee));return G},f.prototype.iushln=function(F){n(typeof F=="number"&&F>=0);var B=F%26,G=(F-B)/26,Q=67108863>>>26-B<<26-B,ee;if(B!==0){var ae=0;for(ee=0;ee<this.length;ee++){var fe=this.words[ee]&Q,K=(this.words[ee]|0)-fe<<B;this.words[ee]=K|ae,ae=fe>>>26-B}ae&&(this.words[ee]=ae,this.length++)}if(G!==0){for(ee=this.length-1;ee>=0;ee--)this.words[ee+G]=this.words[ee];for(ee=0;ee<G;ee++)this.words[ee]=0;this.length+=G}return this.strip()},f.prototype.ishln=function(F){return n(this.negative===0),this.iushln(F)},f.prototype.iushrn=function(F,B,G){n(typeof F=="number"&&F>=0);var Q;B?Q=(B-B%26)/26:Q=0;var ee=F%26,ae=Math.min((F-ee)/26,this.length),fe=67108863^67108863>>>ee<<ee,K=G;if(Q-=ae,Q=Math.max(0,Q),K){for(var W=0;W<ae;W++)K.words[W]=this.words[W];K.length=ae}if(ae!==0)if(this.length>ae)for(this.length-=ae,W=0;W<this.length;W++)this.words[W]=this.words[W+ae];else this.words[0]=0,this.length=1;var Z=0;for(W=this.length-1;W>=0&&(Z!==0||W>=Q);W--){var X=this.words[W]|0;this.words[W]=Z<<26-ee|X>>>ee,Z=X&fe}return K&&Z!==0&&(K.words[K.length++]=Z),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},f.prototype.ishrn=function(F,B,G){return n(this.negative===0),this.iushrn(F,B,G)},f.prototype.shln=function(F){return this.clone().ishln(F)},f.prototype.ushln=function(F){return this.clone().iushln(F)},f.prototype.shrn=function(F){return this.clone().ishrn(F)},f.prototype.ushrn=function(F){return this.clone().iushrn(F)},f.prototype.testn=function(F){n(typeof F=="number"&&F>=0);var B=F%26,G=(F-B)/26,Q=1<<B;if(this.length<=G)return!1;var ee=this.words[G];return!!(ee&Q)},f.prototype.imaskn=function(F){n(typeof F=="number"&&F>=0);var B=F%26,G=(F-B)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=G)return this;if(B!==0&&G++,this.length=Math.min(G,this.length),B!==0){var Q=67108863^67108863>>>B<<B;this.words[this.length-1]&=Q}return this.strip()},f.prototype.maskn=function(F){return this.clone().imaskn(F)},f.prototype.iaddn=function(F){return n(typeof F=="number"),n(F<67108864),F<0?this.isubn(-F):this.negative!==0?this.length===1&&(this.words[0]|0)<F?(this.words[0]=F-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(F),this.negative=1,this):this._iaddn(F)},f.prototype._iaddn=function(F){this.words[0]+=F;for(var B=0;B<this.length&&this.words[B]>=67108864;B++)this.words[B]-=67108864,B===this.length-1?this.words[B+1]=1:this.words[B+1]++;return this.length=Math.max(this.length,B+1),this},f.prototype.isubn=function(F){if(n(typeof F=="number"),n(F<67108864),F<0)return this.iaddn(-F);if(this.negative!==0)return this.negative=0,this.iaddn(F),this.negative=1,this;if(this.words[0]-=F,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var B=0;B<this.length&&this.words[B]<0;B++)this.words[B]+=67108864,this.words[B+1]-=1;return this.strip()},f.prototype.addn=function(F){return this.clone().iaddn(F)},f.prototype.subn=function(F){return this.clone().isubn(F)},f.prototype.iabs=function(){return this.negative=0,this},f.prototype.abs=function(){return this.clone().iabs()},f.prototype._ishlnsubmul=function(F,B,G){var Q=F.length+G,ee;this._expand(Q);var ae,fe=0;for(ee=0;ee<F.length;ee++){ae=(this.words[ee+G]|0)+fe;var K=(F.words[ee]|0)*B;ae-=K&67108863,fe=(ae>>26)-(K/67108864|0),this.words[ee+G]=ae&67108863}for(;ee<this.length-G;ee++)ae=(this.words[ee+G]|0)+fe,fe=ae>>26,this.words[ee+G]=ae&67108863;if(fe===0)return this.strip();for(n(fe===-1),fe=0,ee=0;ee<this.length;ee++)ae=-(this.words[ee]|0)+fe,fe=ae>>26,this.words[ee]=ae&67108863;return this.negative=1,this.strip()},f.prototype._wordDiv=function(F,B){var G=this.length-F.length,Q=this.clone(),ee=F,ae=ee.words[ee.length-1]|0,fe=this._countBits(ae);G=26-fe,G!==0&&(ee=ee.ushln(G),Q.iushln(G),ae=ee.words[ee.length-1]|0);var K=Q.length-ee.length,W;if(B!=="mod"){W=new f(null),W.length=K+1,W.words=new Array(W.length);for(var Z=0;Z<W.length;Z++)W.words[Z]=0}var X=Q.clone()._ishlnsubmul(ee,1,K);X.negative===0&&(Q=X,W&&(W.words[K]=1));for(var $=K-1;$>=0;$--){var ie=(Q.words[ee.length+$]|0)*67108864+(Q.words[ee.length+$-1]|0);for(ie=Math.min(ie/ae|0,67108863),Q._ishlnsubmul(ee,ie,$);Q.negative!==0;)ie--,Q.negative=0,Q._ishlnsubmul(ee,1,$),Q.isZero()||(Q.negative^=1);W&&(W.words[$]=ie)}return W&&W.strip(),Q.strip(),B!=="div"&&G!==0&&Q.iushrn(G),{div:W||null,mod:Q}},f.prototype.divmod=function(F,B,G){if(n(!F.isZero()),this.isZero())return{div:new f(0),mod:new f(0)};var Q,ee,ae;return this.negative!==0&&F.negative===0?(ae=this.neg().divmod(F,B),B!=="mod"&&(Q=ae.div.neg()),B!=="div"&&(ee=ae.mod.neg(),G&&ee.negative!==0&&ee.iadd(F)),{div:Q,mod:ee}):this.negative===0&&F.negative!==0?(ae=this.divmod(F.neg(),B),B!=="mod"&&(Q=ae.div.neg()),{div:Q,mod:ae.mod}):this.negative&F.negative?(ae=this.neg().divmod(F.neg(),B),B!=="div"&&(ee=ae.mod.neg(),G&&ee.negative!==0&&ee.isub(F)),{div:ae.div,mod:ee}):F.length>this.length||this.cmp(F)<0?{div:new f(0),mod:this}:F.length===1?B==="div"?{div:this.divn(F.words[0]),mod:null}:B==="mod"?{div:null,mod:new f(this.modn(F.words[0]))}:{div:this.divn(F.words[0]),mod:new f(this.modn(F.words[0]))}:this._wordDiv(F,B)},f.prototype.div=function(F){return this.divmod(F,"div",!1).div},f.prototype.mod=function(F){return this.divmod(F,"mod",!1).mod},f.prototype.umod=function(F){return this.divmod(F,"mod",!0).mod},f.prototype.divRound=function(F){var B=this.divmod(F);if(B.mod.isZero())return B.div;var G=B.div.negative!==0?B.mod.isub(F):B.mod,Q=F.ushrn(1),ee=F.andln(1),ae=G.cmp(Q);return ae<0||ee===1&&ae===0?B.div:B.div.negative!==0?B.div.isubn(1):B.div.iaddn(1)},f.prototype.modn=function(F){n(F<=67108863);for(var B=(1<<26)%F,G=0,Q=this.length-1;Q>=0;Q--)G=(B*G+(this.words[Q]|0))%F;return G},f.prototype.idivn=function(F){n(F<=67108863);for(var B=0,G=this.length-1;G>=0;G--){var Q=(this.words[G]|0)+B*67108864;this.words[G]=Q/F|0,B=Q%F}return this.strip()},f.prototype.divn=function(F){return this.clone().idivn(F)},f.prototype.egcd=function(F){n(F.negative===0),n(!F.isZero());var B=this,G=F.clone();B.negative!==0?B=B.umod(F):B=B.clone();for(var Q=new f(1),ee=new f(0),ae=new f(0),fe=new f(1),K=0;B.isEven()&&G.isEven();)B.iushrn(1),G.iushrn(1),++K;for(var W=G.clone(),Z=B.clone();!B.isZero();){for(var X=0,$=1;!(B.words[0]&$)&&X<26;++X,$<<=1);if(X>0)for(B.iushrn(X);X-- >0;)(Q.isOdd()||ee.isOdd())&&(Q.iadd(W),ee.isub(Z)),Q.iushrn(1),ee.iushrn(1);for(var ie=0,J=1;!(G.words[0]&J)&&ie<26;++ie,J<<=1);if(ie>0)for(G.iushrn(ie);ie-- >0;)(ae.isOdd()||fe.isOdd())&&(ae.iadd(W),fe.isub(Z)),ae.iushrn(1),fe.iushrn(1);B.cmp(G)>=0?(B.isub(G),Q.isub(ae),ee.isub(fe)):(G.isub(B),ae.isub(Q),fe.isub(ee))}return{a:ae,b:fe,gcd:G.iushln(K)}},f.prototype._invmp=function(F){n(F.negative===0),n(!F.isZero());var B=this,G=F.clone();B.negative!==0?B=B.umod(F):B=B.clone();for(var Q=new f(1),ee=new f(0),ae=G.clone();B.cmpn(1)>0&&G.cmpn(1)>0;){for(var fe=0,K=1;!(B.words[0]&K)&&fe<26;++fe,K<<=1);if(fe>0)for(B.iushrn(fe);fe-- >0;)Q.isOdd()&&Q.iadd(ae),Q.iushrn(1);for(var W=0,Z=1;!(G.words[0]&Z)&&W<26;++W,Z<<=1);if(W>0)for(G.iushrn(W);W-- >0;)ee.isOdd()&&ee.iadd(ae),ee.iushrn(1);B.cmp(G)>=0?(B.isub(G),Q.isub(ee)):(G.isub(B),ee.isub(Q))}var X;return B.cmpn(1)===0?X=Q:X=ee,X.cmpn(0)<0&&X.iadd(F),X},f.prototype.gcd=function(F){if(this.isZero())return F.abs();if(F.isZero())return this.abs();var B=this.clone(),G=F.clone();B.negative=0,G.negative=0;for(var Q=0;B.isEven()&&G.isEven();Q++)B.iushrn(1),G.iushrn(1);do{for(;B.isEven();)B.iushrn(1);for(;G.isEven();)G.iushrn(1);var ee=B.cmp(G);if(ee<0){var ae=B;B=G,G=ae}else if(ee===0||G.cmpn(1)===0)break;B.isub(G)}while(!0);return G.iushln(Q)},f.prototype.invm=function(F){return this.egcd(F).a.umod(F)},f.prototype.isEven=function(){return(this.words[0]&1)===0},f.prototype.isOdd=function(){return(this.words[0]&1)===1},f.prototype.andln=function(F){return this.words[0]&F},f.prototype.bincn=function(F){n(typeof F=="number");var B=F%26,G=(F-B)/26,Q=1<<B;if(this.length<=G)return this._expand(G+1),this.words[G]|=Q,this;for(var ee=Q,ae=G;ee!==0&&ae<this.length;ae++){var fe=this.words[ae]|0;fe+=ee,ee=fe>>>26,fe&=67108863,this.words[ae]=fe}return ee!==0&&(this.words[ae]=ee,this.length++),this},f.prototype.isZero=function(){return this.length===1&&this.words[0]===0},f.prototype.cmpn=function(F){var B=F<0;if(this.negative!==0&&!B)return-1;if(this.negative===0&&B)return 1;this.strip();var G;if(this.length>1)G=1;else{B&&(F=-F),n(F<=67108863,"Number is too big");var Q=this.words[0]|0;G=Q===F?0:Q<F?-1:1}return this.negative!==0?-G|0:G},f.prototype.cmp=function(F){if(this.negative!==0&&F.negative===0)return-1;if(this.negative===0&&F.negative!==0)return 1;var B=this.ucmp(F);return this.negative!==0?-B|0:B},f.prototype.ucmp=function(F){if(this.length>F.length)return 1;if(this.length<F.length)return-1;for(var B=0,G=this.length-1;G>=0;G--){var Q=this.words[G]|0,ee=F.words[G]|0;if(Q!==ee){Q<ee?B=-1:Q>ee&&(B=1);break}}return B},f.prototype.gtn=function(F){return this.cmpn(F)===1},f.prototype.gt=function(F){return this.cmp(F)===1},f.prototype.gten=function(F){return this.cmpn(F)>=0},f.prototype.gte=function(F){return this.cmp(F)>=0},f.prototype.ltn=function(F){return this.cmpn(F)===-1},f.prototype.lt=function(F){return this.cmp(F)===-1},f.prototype.lten=function(F){return this.cmpn(F)<=0},f.prototype.lte=function(F){return this.cmp(F)<=0},f.prototype.eqn=function(F){return this.cmpn(F)===0},f.prototype.eq=function(F){return this.cmp(F)===0},f.red=function(F){return new k(F)},f.prototype.toRed=function(F){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),F.convertTo(this)._forceRed(F)},f.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},f.prototype._forceRed=function(F){return this.red=F,this},f.prototype.forceRed=function(F){return n(!this.red,"Already a number in reduction context"),this._forceRed(F)},f.prototype.redAdd=function(F){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,F)},f.prototype.redIAdd=function(F){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,F)},f.prototype.redSub=function(F){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,F)},f.prototype.redISub=function(F){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,F)},f.prototype.redShl=function(F){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,F)},f.prototype.redMul=function(F){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,F),this.red.mul(this,F)},f.prototype.redIMul=function(F){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,F),this.red.imul(this,F)},f.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},f.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},f.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},f.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},f.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},f.prototype.redPow=function(F){return n(this.red&&!F.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,F)};var i={k256:null,p224:null,p192:null,p25519:null};function C(z,F){this.name=z,this.p=new f(F,16),this.n=this.p.bitLength(),this.k=new f(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}C.prototype._tmp=function(){var F=new f(null);return F.words=new Array(Math.ceil(this.n/13)),F},C.prototype.ireduce=function(F){var B=F,G;do this.split(B,this.tmp),B=this.imulK(B),B=B.iadd(this.tmp),G=B.bitLength();while(G>this.n);var Q=G<this.n?-1:B.ucmp(this.p);return Q===0?(B.words[0]=0,B.length=1):Q>0?B.isub(this.p):B.strip!==void 0?B.strip():B._strip(),B},C.prototype.split=function(F,B){F.iushrn(this.n,0,B)},C.prototype.imulK=function(F){return F.imul(this.k)};function y(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(y,C),y.prototype.split=function(F,B){for(var G=4194303,Q=Math.min(F.length,9),ee=0;ee<Q;ee++)B.words[ee]=F.words[ee];if(B.length=Q,F.length<=9){F.words[0]=0,F.length=1;return}var ae=F.words[9];for(B.words[B.length++]=ae&G,ee=10;ee<F.length;ee++){var fe=F.words[ee]|0;F.words[ee-10]=(fe&G)<<4|ae>>>22,ae=fe}ae>>>=22,F.words[ee-10]=ae,ae===0&&F.length>10?F.length-=10:F.length-=9},y.prototype.imulK=function(F){F.words[F.length]=0,F.words[F.length+1]=0,F.length+=2;for(var B=0,G=0;G<F.length;G++){var Q=F.words[G]|0;B+=Q*977,F.words[G]=B&67108863,B=Q*64+(B/67108864|0)}return F.words[F.length-1]===0&&(F.length--,F.words[F.length-1]===0&&F.length--),F};function _(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(_,C);function I(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(I,C);function N(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(N,C),N.prototype.imulK=function(F){for(var B=0,G=0;G<F.length;G++){var Q=(F.words[G]|0)*19+B,ee=Q&67108863;Q>>>=26,F.words[G]=ee,B=Q}return B!==0&&(F.words[F.length++]=B),F},f._prime=function(F){if(i[F])return i[F];var B;if(F==="k256")B=new y;else if(F==="p224")B=new _;else if(F==="p192")B=new I;else if(F==="p25519")B=new N;else throw new Error("Unknown prime "+F);return i[F]=B,B};function k(z){if(typeof z=="string"){var F=f._prime(z);this.m=F.p,this.prime=F}else n(z.gtn(1),"modulus must be greater than 1"),this.m=z,this.prime=null}k.prototype._verify1=function(F){n(F.negative===0,"red works only with positives"),n(F.red,"red works only with red numbers")},k.prototype._verify2=function(F,B){n((F.negative|B.negative)===0,"red works only with positives"),n(F.red&&F.red===B.red,"red works only with red numbers")},k.prototype.imod=function(F){return this.prime?this.prime.ireduce(F)._forceRed(this):F.umod(this.m)._forceRed(this)},k.prototype.neg=function(F){return F.isZero()?F.clone():this.m.sub(F)._forceRed(this)},k.prototype.add=function(F,B){this._verify2(F,B);var G=F.add(B);return G.cmp(this.m)>=0&&G.isub(this.m),G._forceRed(this)},k.prototype.iadd=function(F,B){this._verify2(F,B);var G=F.iadd(B);return G.cmp(this.m)>=0&&G.isub(this.m),G},k.prototype.sub=function(F,B){this._verify2(F,B);var G=F.sub(B);return G.cmpn(0)<0&&G.iadd(this.m),G._forceRed(this)},k.prototype.isub=function(F,B){this._verify2(F,B);var G=F.isub(B);return G.cmpn(0)<0&&G.iadd(this.m),G},k.prototype.shl=function(F,B){return this._verify1(F),this.imod(F.ushln(B))},k.prototype.imul=function(F,B){return this._verify2(F,B),this.imod(F.imul(B))},k.prototype.mul=function(F,B){return this._verify2(F,B),this.imod(F.mul(B))},k.prototype.isqr=function(F){return this.imul(F,F.clone())},k.prototype.sqr=function(F){return this.mul(F,F)},k.prototype.sqrt=function(F){if(F.isZero())return F.clone();var B=this.m.andln(3);if(n(B%2===1),B===3){var G=this.m.add(new f(1)).iushrn(2);return this.pow(F,G)}for(var Q=this.m.subn(1),ee=0;!Q.isZero()&&Q.andln(1)===0;)ee++,Q.iushrn(1);n(!Q.isZero());var ae=new f(1).toRed(this),fe=ae.redNeg(),K=this.m.subn(1).iushrn(1),W=this.m.bitLength();for(W=new f(2*W*W).toRed(this);this.pow(W,K).cmp(fe)!==0;)W.redIAdd(fe);for(var Z=this.pow(W,Q),X=this.pow(F,Q.addn(1).iushrn(1)),$=this.pow(F,Q),ie=ee;$.cmp(ae)!==0;){for(var J=$,j=0;J.cmp(ae)!==0;j++)J=J.redSqr();n(j<ie);var se=this.pow(Z,new f(1).iushln(ie-j-1));X=X.redMul(se),Z=se.redSqr(),$=$.redMul(Z),ie=j}return X},k.prototype.invm=function(F){var B=F._invmp(this.m);return B.negative!==0?(B.negative=0,this.imod(B).redNeg()):this.imod(B)},k.prototype.pow=function(F,B){if(B.isZero())return new f(1).toRed(this);if(B.cmpn(1)===0)return F.clone();var G=4,Q=new Array(1<<G);Q[0]=new f(1).toRed(this),Q[1]=F;for(var ee=2;ee<Q.length;ee++)Q[ee]=this.mul(Q[ee-1],F);var ae=Q[0],fe=0,K=0,W=B.bitLength()%26;for(W===0&&(W=26),ee=B.length-1;ee>=0;ee--){for(var Z=B.words[ee],X=W-1;X>=0;X--){var $=Z>>X&1;if(ae!==Q[0]&&(ae=this.sqr(ae)),$===0&&fe===0){K=0;continue}fe<<=1,fe|=$,K++,!(K!==G&&(ee!==0||X!==0))&&(ae=this.mul(ae,Q[fe]),K=0,fe=0)}W=26}return ae},k.prototype.convertTo=function(F){var B=F.umod(this.m);return B===F?B.clone():B},k.prototype.convertFrom=function(F){var B=F.clone();return B.red=null,B},f.mont=function(F){return new O(F)};function O(z){k.call(this,z),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new f(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(O,k),O.prototype.convertTo=function(F){return this.imod(F.ushln(this.shift))},O.prototype.convertFrom=function(F){var B=this.imod(F.mul(this.rinv));return B.red=null,B},O.prototype.imul=function(F,B){if(F.isZero()||B.isZero())return F.words[0]=0,F.length=1,F;var G=F.imul(B),Q=G.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ee=G.isub(Q).iushrn(this.shift),ae=ee;return ee.cmp(this.m)>=0?ae=ee.isub(this.m):ee.cmpn(0)<0&&(ae=ee.iadd(this.m)),ae._forceRed(this)},O.prototype.mul=function(F,B){if(F.isZero()||B.isZero())return new f(0)._forceRed(this);var G=F.mul(B),Q=G.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ee=G.isub(Q).iushrn(this.shift),ae=ee;return ee.cmp(this.m)>=0?ae=ee.isub(this.m):ee.cmpn(0)<0&&(ae=ee.iadd(this.m)),ae._forceRed(this)},O.prototype.invm=function(F){var B=this.imod(F._invmp(this.m).mul(this.r2));return B._forceRed(this)}}(v,this)},2692:function(v){v.exports=d;function d(t){var r,u,n,s=t.length,f=0;for(r=0;r<s;++r)f+=t[r].length;var l=new Array(f),x=0;for(r=0;r<s;++r){var c=t[r],b=c.length;for(u=0;u<b;++u){var h=l[x++]=new Array(b-1),o=0;for(n=0;n<b;++n)n!==u&&(h[o++]=c[n]);if(u&1){var p=h[1];h[1]=h[0],h[0]=p}}}return l}},2569:function(v,d,t){v.exports=o;var r=t(5306),u=t(1390),n=t(2337);function s(p,S){for(var A=0;A<p;++A)if(!(S[A]<=S[A+p]))return!0;return!1}function f(p,S,A,E){for(var m=0,M=0,w=0,i=p.length;w<i;++w){var C=p[w];if(!s(S,C)){for(var y=0;y<2*S;++y)A[m++]=C[y];E[M++]=w}}return M}function l(p,S,A,E){var m=p.length,M=S.length;if(!(m<=0||M<=0)){var w=p[0].length>>>1;if(!(w<=0)){var i,C=r.mallocDouble(2*w*m),y=r.mallocInt32(m);if(m=f(p,w,C,y),m>0){if(w===1&&E)u.init(m),i=u.sweepComplete(w,A,0,m,C,y,0,m,C,y);else{var _=r.mallocDouble(2*w*M),I=r.mallocInt32(M);M=f(S,w,_,I),M>0&&(u.init(m+M),w===1?i=u.sweepBipartite(w,A,0,m,C,y,0,M,_,I):i=n(w,A,E,m,C,y,M,_,I),r.free(_),r.free(I))}r.free(C),r.free(y)}return i}}}var x;function c(p,S){x.push([p,S])}function b(p){return x=[],l(p,p,c,!0),x}function h(p,S){return x=[],l(p,S,c,!1),x}function o(p,S,A){switch(arguments.length){case 1:return b(p);case 2:return typeof S=="function"?l(p,p,S,!0):h(p,S);case 3:return l(p,S,A,!1);default:throw new Error("box-intersect: Invalid arguments")}}},7333:function(v,d){function t(){function n(l,x,c,b,h,o,p,S,A,E,m){for(var M=2*l,w=b,i=M*b;w<h;++w,i+=M){var C=o[x+i],y=o[x+i+l],_=p[w];e:for(var I=S,N=M*S;I<A;++I,N+=M){var k=E[x+N],O=E[x+N+l],z=m[I];if(!(O<C||y<k)){for(var F=x+1;F<l;++F){var B=o[F+i],G=o[F+l+i],Q=E[F+N],ee=E[F+l+N];if(G<Q||ee<B)continue e}var ae=c(_,z);if(ae!==void 0)return ae}}}}function s(l,x,c,b,h,o,p,S,A,E,m){for(var M=2*l,w=S,i=M*S;w<A;++w,i+=M){var C=E[x+i],y=E[x+i+l],_=m[w];e:for(var I=b,N=M*b;I<h;++I,N+=M){var k=o[x+N],O=o[x+N+l],z=p[I];if(!(y<k||O<C)){for(var F=x+1;F<l;++F){var B=o[F+N],G=o[F+l+N],Q=E[F+i],ee=E[F+l+i];if(G<Q||ee<B)continue e}var ae=c(z,_);if(ae!==void 0)return ae}}}}function f(l,x,c,b,h,o,p,S,A,E,m){return h-b>A-S?n(l,x,c,b,h,o,p,S,A,E,m):s(l,x,c,b,h,o,p,S,A,E,m)}return f}function r(){function n(c,b,h,o,p,S,A,E,m,M,w){for(var i=2*c,C=o,y=i*o;C<p;++C,y+=i){var _=S[b+y],I=S[b+y+c],N=A[C];e:for(var k=E,O=i*E;k<m;++k,O+=i){var z=M[b+O],F=w[k];if(!(z<=_||I<z)){for(var B=b+1;B<c;++B){var G=S[B+y],Q=S[B+c+y],ee=M[B+O],ae=M[B+c+O];if(Q<ee||ae<G)continue e}var fe=h(F,N);if(fe!==void 0)return fe}}}}function s(c,b,h,o,p,S,A,E,m,M,w){for(var i=2*c,C=o,y=i*o;C<p;++C,y+=i){var _=S[b+y],I=S[b+y+c],N=A[C];e:for(var k=E,O=i*E;k<m;++k,O+=i){var z=M[b+O],F=w[k];if(!(z<_||I<z)){for(var B=b+1;B<c;++B){var G=S[B+y],Q=S[B+c+y],ee=M[B+O],ae=M[B+c+O];if(Q<ee||ae<G)continue e}var fe=h(N,F);if(fe!==void 0)return fe}}}}function f(c,b,h,o,p,S,A,E,m,M,w){for(var i=2*c,C=E,y=i*E;C<m;++C,y+=i){var _=M[b+y],I=w[C];e:for(var N=o,k=i*o;N<p;++N,k+=i){var O=S[b+k],z=S[b+k+c],F=A[N];if(!(_<=O||z<_)){for(var B=b+1;B<c;++B){var G=S[B+k],Q=S[B+c+k],ee=M[B+y],ae=M[B+c+y];if(Q<ee||ae<G)continue e}var fe=h(I,F);if(fe!==void 0)return fe}}}}function l(c,b,h,o,p,S,A,E,m,M,w){for(var i=2*c,C=E,y=i*E;C<m;++C,y+=i){var _=M[b+y],I=w[C];e:for(var N=o,k=i*o;N<p;++N,k+=i){var O=S[b+k],z=S[b+k+c],F=A[N];if(!(_<O||z<_)){for(var B=b+1;B<c;++B){var G=S[B+k],Q=S[B+c+k],ee=M[B+y],ae=M[B+c+y];if(Q<ee||ae<G)continue e}var fe=h(F,I);if(fe!==void 0)return fe}}}}function x(c,b,h,o,p,S,A,E,m,M,w,i){return S-p>M-m?o?n(c,b,h,p,S,A,E,m,M,w,i):s(c,b,h,p,S,A,E,m,M,w,i):o?f(c,b,h,p,S,A,E,m,M,w,i):l(c,b,h,p,S,A,E,m,M,w,i)}return x}function u(n){return n?t():r()}d.partial=u(!1),d.full=u(!0)},2337:function(v,d,t){v.exports=z;var r=t(5306),u=t(2288),n=t(7333),s=n.partial,f=n.full,l=t(1390),x=t(2464),c=t(122),b=128,h=1<<22,o=1<<22,p=c("!(lo>=p0)&&!(p1>=hi)"),S=c("lo===p0"),A=c("lo<p0"),E=c("hi<=p0"),m=c("lo<=p0&&p0<=hi"),M=c("lo<p0&&p0<=hi"),w=6,i=2,C=1024,y=r.mallocInt32(C),_=r.mallocDouble(C);function I(F,B){var G=8*u.log2(B+1)*(F+1)|0,Q=u.nextPow2(w*G);y.length<Q&&(r.free(y),y=r.mallocInt32(Q));var ee=u.nextPow2(i*G);_.length<ee&&(r.free(_),_=r.mallocDouble(ee))}function N(F,B,G,Q,ee,ae,fe,K,W){var Z=w*F;y[Z]=B,y[Z+1]=G,y[Z+2]=Q,y[Z+3]=ee,y[Z+4]=ae,y[Z+5]=fe;var X=i*F;_[X]=K,_[X+1]=W}function k(F,B,G,Q,ee,ae,fe,K,W,Z,X){var $=2*F,ie=W*$,J=Z[ie+B];e:for(var j=ee,se=ee*$;j<ae;++j,se+=$){var ne=fe[se+B],ue=fe[se+B+F];if(!(J<ne||ue<J)&&!(Q&&J===ne)){for(var ge=K[j],we=B+1;we<F;++we){var ne=fe[se+we],ue=fe[se+we+F],xe=Z[ie+we],Fe=Z[ie+we+F];if(ue<xe||Fe<ne)continue e}var ze;if(Q?ze=G(X,ge):ze=G(ge,X),ze!==void 0)return ze}}}function O(F,B,G,Q,ee,ae,fe,K,W,Z){var X=2*F,$=K*X,ie=W[$+B];e:for(var J=Q,j=Q*X;J<ee;++J,j+=X){var se=fe[J];if(se!==Z){var ne=ae[j+B],ue=ae[j+B+F];if(!(ie<ne||ue<ie)){for(var ge=B+1;ge<F;++ge){var ne=ae[j+ge],ue=ae[j+ge+F],we=W[$+ge],xe=W[$+ge+F];if(ue<we||xe<ne)continue e}var Fe=G(se,Z);if(Fe!==void 0)return Fe}}}}function z(F,B,G,Q,ee,ae,fe,K,W){I(F,Q+fe);var Z=0,X=2*F,$;for(N(Z++,0,0,Q,0,fe,G?16:0,-1/0,1/0),G||N(Z++,0,0,fe,0,Q,1,-1/0,1/0);Z>0;){Z-=1;var ie=Z*w,J=y[ie],j=y[ie+1],se=y[ie+2],ne=y[ie+3],ue=y[ie+4],ge=y[ie+5],we=Z*i,xe=_[we],Fe=_[we+1],ze=ge&1,Te=!!(ge&16),ye=ee,Ae=ae,Ne=K,Ue=W;if(ze&&(ye=K,Ae=W,Ne=ee,Ue=ae),!(ge&2&&(se=A(F,J,j,se,ye,Ae,Fe),j>=se))&&!(ge&4&&(j=E(F,J,j,se,ye,Ae,xe),j>=se))){var Re=se-j,Ve=ue-ne;if(Te){if(F*Re*(Re+Ve)<o){if($=l.scanComplete(F,J,B,j,se,ye,Ae,ne,ue,Ne,Ue),$!==void 0)return $;continue}}else if(F*Math.min(Re,Ve)<b){if($=s(F,J,B,ze,j,se,ye,Ae,ne,ue,Ne,Ue),$!==void 0)return $;continue}else if(F*Re*Ve<h){if($=l.scanBipartite(F,J,B,ze,j,se,ye,Ae,ne,ue,Ne,Ue),$!==void 0)return $;continue}var rt=p(F,J,j,se,ye,Ae,xe,Fe);if(j<rt)if(F*(rt-j)<b){if($=f(F,J+1,B,j,rt,ye,Ae,ne,ue,Ne,Ue),$!==void 0)return $}else if(J===F-2){if(ze?$=l.sweepBipartite(F,B,ne,ue,Ne,Ue,j,rt,ye,Ae):$=l.sweepBipartite(F,B,j,rt,ye,Ae,ne,ue,Ne,Ue),$!==void 0)return $}else N(Z++,J+1,j,rt,ne,ue,ze,-1/0,1/0),N(Z++,J+1,ne,ue,j,rt,ze^1,-1/0,1/0);if(rt<se){var Qe=x(F,J,ne,ue,Ne,Ue),Je=Ne[X*Qe+J],qe=S(F,J,Qe,ue,Ne,Ue,Je);if(qe<ue&&N(Z++,J,rt,se,qe,ue,(ze|4)+(Te?16:0),Je,Fe),ne<Qe&&N(Z++,J,rt,se,ne,Qe,(ze|2)+(Te?16:0),xe,Je),Qe+1===qe){if(Te?$=O(F,J,B,rt,se,ye,Ae,Qe,Ne,Ue[Qe]):$=k(F,J,B,ze,rt,se,ye,Ae,Qe,Ne,Ue[Qe]),$!==void 0)return $}else if(Qe<qe){var dt;if(Te){if(dt=m(F,J,rt,se,ye,Ae,Je),rt<dt){var pt=S(F,J,rt,dt,ye,Ae,Je);if(J===F-2){if(rt<pt&&($=l.sweepComplete(F,B,rt,pt,ye,Ae,Qe,qe,Ne,Ue),$!==void 0)||pt<dt&&($=l.sweepBipartite(F,B,pt,dt,ye,Ae,Qe,qe,Ne,Ue),$!==void 0))return $}else rt<pt&&N(Z++,J+1,rt,pt,Qe,qe,16,-1/0,1/0),pt<dt&&(N(Z++,J+1,pt,dt,Qe,qe,0,-1/0,1/0),N(Z++,J+1,Qe,qe,pt,dt,1,-1/0,1/0))}}else ze?dt=M(F,J,rt,se,ye,Ae,Je):dt=m(F,J,rt,se,ye,Ae,Je),rt<dt&&(J===F-2?ze?$=l.sweepBipartite(F,B,Qe,qe,Ne,Ue,rt,dt,ye,Ae):$=l.sweepBipartite(F,B,rt,dt,ye,Ae,Qe,qe,Ne,Ue):(N(Z++,J+1,rt,dt,Qe,qe,ze,-1/0,1/0),N(Z++,J+1,Qe,qe,rt,dt,ze^1,-1/0,1/0)))}}}}}},2464:function(v,d,t){v.exports=f;var r=t(122),u=r("lo<p0"),n=8;function s(l,x,c,b,h,o){for(var p=2*l,S=p*(c+1)+x,A=c+1;A<b;++A,S+=p)for(var E=h[S],m=A,M=p*(A-1);m>c&&h[M+x]>E;--m,M-=p){for(var w=M,i=M+p,C=0;C<p;++C,++w,++i){var y=h[w];h[w]=h[i],h[i]=y}var _=o[m];o[m]=o[m-1],o[m-1]=_}}function f(l,x,c,b,h,o){if(b<=c+1)return c;for(var p=c,S=b,A=b+c>>>1,E=2*l,m=A,M=h[E*A+x];p<S;){if(S-p<n){s(l,x,p,S,h,o),M=h[E*A+x];break}var w=S-p,i=Math.random()*w+p|0,C=h[E*i+x],y=Math.random()*w+p|0,_=h[E*y+x],I=Math.random()*w+p|0,N=h[E*I+x];C<=_?N>=_?(m=y,M=_):C>=N?(m=i,M=C):(m=I,M=N):_>=N?(m=y,M=_):N>=C?(m=i,M=C):(m=I,M=N);for(var z=E*(S-1),F=E*m,k=0;k<E;++k,++z,++F){var O=h[z];h[z]=h[F],h[F]=O}var B=o[S-1];o[S-1]=o[m],o[m]=B,m=u(l,x,p,S-1,h,o,M);for(var z=E*(S-1),F=E*m,k=0;k<E;++k,++z,++F){var O=h[z];h[z]=h[F],h[F]=O}var B=o[S-1];if(o[S-1]=o[m],o[m]=B,A<m){for(S=m-1;p<S&&h[E*(S-1)+x]===M;)S-=1;S+=1}else if(m<A)for(p=m+1;p<S&&h[E*p+x]===M;)p+=1;else break}return u(l,x,c,A,h,o,h[E*A+x])}},122:function(v){v.exports=t;var d={"lo===p0":r,"lo<p0":u,"lo<=p0":n,"hi<=p0":s,"lo<p0&&p0<=hi":l,"lo<=p0&&p0<=hi":f,"!(lo>=p0)&&!(p1>=hi)":x};function t(c){return d[c]}function r(c,b,h,o,p,S,A){for(var E=2*c,m=E*h,M=m,w=h,i=b,C=c+b,y=h;o>y;++y,m+=E){var _=p[m+i];if(_===A)if(w===y)w+=1,M+=E;else{for(var I=0;E>I;++I){var N=p[m+I];p[m+I]=p[M],p[M++]=N}var k=S[y];S[y]=S[w],S[w++]=k}}return w}function u(c,b,h,o,p,S,A){for(var E=2*c,m=E*h,M=m,w=h,i=b,C=c+b,y=h;o>y;++y,m+=E){var _=p[m+i];if(_<A)if(w===y)w+=1,M+=E;else{for(var I=0;E>I;++I){var N=p[m+I];p[m+I]=p[M],p[M++]=N}var k=S[y];S[y]=S[w],S[w++]=k}}return w}function n(c,b,h,o,p,S,A){for(var E=2*c,m=E*h,M=m,w=h,i=b,C=c+b,y=h;o>y;++y,m+=E){var _=p[m+C];if(_<=A)if(w===y)w+=1,M+=E;else{for(var I=0;E>I;++I){var N=p[m+I];p[m+I]=p[M],p[M++]=N}var k=S[y];S[y]=S[w],S[w++]=k}}return w}function s(c,b,h,o,p,S,A){for(var E=2*c,m=E*h,M=m,w=h,i=b,C=c+b,y=h;o>y;++y,m+=E){var _=p[m+C];if(_<=A)if(w===y)w+=1,M+=E;else{for(var I=0;E>I;++I){var N=p[m+I];p[m+I]=p[M],p[M++]=N}var k=S[y];S[y]=S[w],S[w++]=k}}return w}function f(c,b,h,o,p,S,A){for(var E=2*c,m=E*h,M=m,w=h,i=b,C=c+b,y=h;o>y;++y,m+=E){var _=p[m+i],I=p[m+C];if(_<=A&&A<=I)if(w===y)w+=1,M+=E;else{for(var N=0;E>N;++N){var k=p[m+N];p[m+N]=p[M],p[M++]=k}var O=S[y];S[y]=S[w],S[w++]=O}}return w}function l(c,b,h,o,p,S,A){for(var E=2*c,m=E*h,M=m,w=h,i=b,C=c+b,y=h;o>y;++y,m+=E){var _=p[m+i],I=p[m+C];if(_<A&&A<=I)if(w===y)w+=1,M+=E;else{for(var N=0;E>N;++N){var k=p[m+N];p[m+N]=p[M],p[M++]=k}var O=S[y];S[y]=S[w],S[w++]=O}}return w}function x(c,b,h,o,p,S,A,E){for(var m=2*c,M=m*h,w=M,i=h,C=b,y=c+b,_=h;o>_;++_,M+=m){var I=p[M+C],N=p[M+y];if(!(I>=A)&&!(E>=N))if(i===_)i+=1,w+=m;else{for(var k=0;m>k;++k){var O=p[M+k];p[M+k]=p[w],p[w++]=O}var z=S[_];S[_]=S[i],S[i++]=z}}return i}},309:function(v){v.exports=t;var d=32;function t(b,h){h<=4*d?r(0,h-1,b):c(0,h-1,b)}function r(b,h,o){for(var p=2*(b+1),S=b+1;S<=h;++S){for(var A=o[p++],E=o[p++],m=S,M=p-2;m-- >b;){var w=o[M-2],i=o[M-1];if(w<A)break;if(w===A&&i<E)break;o[M]=w,o[M+1]=i,M-=2}o[M]=A,o[M+1]=E}}function u(b,h,o){b*=2,h*=2;var p=o[b],S=o[b+1];o[b]=o[h],o[b+1]=o[h+1],o[h]=p,o[h+1]=S}function n(b,h,o){b*=2,h*=2,o[b]=o[h],o[b+1]=o[h+1]}function s(b,h,o,p){b*=2,h*=2,o*=2;var S=p[b],A=p[b+1];p[b]=p[h],p[b+1]=p[h+1],p[h]=p[o],p[h+1]=p[o+1],p[o]=S,p[o+1]=A}function f(b,h,o,p,S){b*=2,h*=2,S[b]=S[h],S[h]=o,S[b+1]=S[h+1],S[h+1]=p}function l(b,h,o){b*=2,h*=2;var p=o[b],S=o[h];return p<S?!1:p===S?o[b+1]>o[h+1]:!0}function x(b,h,o,p){b*=2;var S=p[b];return S<h?!0:S===h?p[b+1]<o:!1}function c(b,h,o){var p=(h-b+1)/6|0,S=b+p,A=h-p,E=b+h>>1,m=E-p,M=E+p,w=S,i=m,C=E,y=M,_=A,I=b+1,N=h-1,k=0;l(w,i,o)&&(k=w,w=i,i=k),l(y,_,o)&&(k=y,y=_,_=k),l(w,C,o)&&(k=w,w=C,C=k),l(i,C,o)&&(k=i,i=C,C=k),l(w,y,o)&&(k=w,w=y,y=k),l(C,y,o)&&(k=C,C=y,y=k),l(i,_,o)&&(k=i,i=_,_=k),l(i,C,o)&&(k=i,i=C,C=k),l(y,_,o)&&(k=y,y=_,_=k);for(var O=o[2*i],z=o[2*i+1],F=o[2*y],B=o[2*y+1],G=2*w,Q=2*C,ee=2*_,ae=2*S,fe=2*E,K=2*A,W=0;W<2;++W){var Z=o[G+W],X=o[Q+W],$=o[ee+W];o[ae+W]=Z,o[fe+W]=X,o[K+W]=$}n(m,b,o),n(M,h,o);for(var ie=I;ie<=N;++ie)if(x(ie,O,z,o))ie!==I&&u(ie,I,o),++I;else if(!x(ie,F,B,o))for(;;)if(x(N,F,B,o)){x(N,O,z,o)?(s(ie,I,N,o),++I,--N):(u(ie,N,o),--N);break}else{if(--N<ie)break;continue}f(b,I-1,O,z,o),f(h,N+1,F,B,o),I-2-b<=d?r(b,I-2,o):c(b,I-2,o),h-(N+2)<=d?r(N+2,h,o):c(N+2,h,o),N-I<=d?r(I,N,o):c(I,N,o)}},1390:function(v,d,t){v.exports={init:S,sweepBipartite:m,sweepComplete:M,scanBipartite:w,scanComplete:i};var r=t(5306),u=t(2288),n=t(309),s=1<<28,f=1024,l=r.mallocInt32(f),x=r.mallocInt32(f),c=r.mallocInt32(f),b=r.mallocInt32(f),h=r.mallocInt32(f),o=r.mallocInt32(f),p=r.mallocDouble(f*8);function S(C){var y=u.nextPow2(C);l.length<y&&(r.free(l),l=r.mallocInt32(y)),x.length<y&&(r.free(x),x=r.mallocInt32(y)),c.length<y&&(r.free(c),c=r.mallocInt32(y)),b.length<y&&(r.free(b),b=r.mallocInt32(y)),h.length<y&&(r.free(h),h=r.mallocInt32(y)),o.length<y&&(r.free(o),o=r.mallocInt32(y));var _=8*y;p.length<_&&(r.free(p),p=r.mallocDouble(_))}function A(C,y,_,I){var N=y[I],k=C[_-1];C[N]=k,y[k]=N}function E(C,y,_,I){C[_]=I,y[I]=_}function m(C,y,_,I,N,k,O,z,F,B){for(var G=0,Q=2*C,ee=C-1,ae=Q-1,fe=_;fe<I;++fe){var K=k[fe],W=Q*fe;p[G++]=N[W+ee],p[G++]=-(K+1),p[G++]=N[W+ae],p[G++]=K}for(var fe=O;fe<z;++fe){var K=B[fe]+s,Z=Q*fe;p[G++]=F[Z+ee],p[G++]=-K,p[G++]=F[Z+ae],p[G++]=K}var X=G>>>1;n(p,X);for(var $=0,ie=0,fe=0;fe<X;++fe){var J=p[2*fe+1]|0;if(J>=s)J=J-s|0,A(c,b,ie--,J);else if(J>=0)A(l,x,$--,J);else if(J<=-s){J=-J-s|0;for(var j=0;j<$;++j){var se=y(l[j],J);if(se!==void 0)return se}E(c,b,ie++,J)}else{J=-J-1|0;for(var j=0;j<ie;++j){var se=y(J,c[j]);if(se!==void 0)return se}E(l,x,$++,J)}}}function M(C,y,_,I,N,k,O,z,F,B){for(var G=0,Q=2*C,ee=C-1,ae=Q-1,fe=_;fe<I;++fe){var K=k[fe]+1<<1,W=Q*fe;p[G++]=N[W+ee],p[G++]=-K,p[G++]=N[W+ae],p[G++]=K}for(var fe=O;fe<z;++fe){var K=B[fe]+1<<1,Z=Q*fe;p[G++]=F[Z+ee],p[G++]=-K|1,p[G++]=F[Z+ae],p[G++]=K|1}var X=G>>>1;n(p,X);for(var $=0,ie=0,J=0,fe=0;fe<X;++fe){var j=p[2*fe+1]|0,se=j&1;if(fe<X-1&&j>>1===p[2*fe+3]>>1&&(se=2,fe+=1),j<0){for(var ne=-(j>>1)-1,ue=0;ue<J;++ue){var ge=y(h[ue],ne);if(ge!==void 0)return ge}if(se!==0)for(var ue=0;ue<$;++ue){var ge=y(l[ue],ne);if(ge!==void 0)return ge}if(se!==1)for(var ue=0;ue<ie;++ue){var ge=y(c[ue],ne);if(ge!==void 0)return ge}se===0?E(l,x,$++,ne):se===1?E(c,b,ie++,ne):se===2&&E(h,o,J++,ne)}else{var ne=(j>>1)-1;se===0?A(l,x,$--,ne):se===1?A(c,b,ie--,ne):se===2&&A(h,o,J--,ne)}}}function w(C,y,_,I,N,k,O,z,F,B,G,Q){var ee=0,ae=2*C,fe=y,K=y+C,W=1,Z=1;I?Z=s:W=s;for(var X=N;X<k;++X){var $=X+W,ie=ae*X;p[ee++]=O[ie+fe],p[ee++]=-$,p[ee++]=O[ie+K],p[ee++]=$}for(var X=F;X<B;++X){var $=X+Z,J=ae*X;p[ee++]=G[J+fe],p[ee++]=-$}var j=ee>>>1;n(p,j);for(var se=0,X=0;X<j;++X){var ne=p[2*X+1]|0;if(ne<0){var $=-ne,ue=!1;if($>=s?(ue=!I,$-=s):(ue=!!I,$-=1),ue)E(l,x,se++,$);else{var ge=Q[$],we=ae*$,xe=G[we+y+1],Fe=G[we+y+1+C];e:for(var ze=0;ze<se;++ze){var Te=l[ze],ye=ae*Te;if(!(Fe<O[ye+y+1]||O[ye+y+1+C]<xe)){for(var Ae=y+2;Ae<C;++Ae)if(G[we+Ae+C]<O[ye+Ae]||O[ye+Ae+C]<G[we+Ae])continue e;var Ne=z[Te],Ue;if(I?Ue=_(ge,Ne):Ue=_(Ne,ge),Ue!==void 0)return Ue}}}}else A(l,x,se--,ne-W)}}function i(C,y,_,I,N,k,O,z,F,B,G){for(var Q=0,ee=2*C,ae=y,fe=y+C,K=I;K<N;++K){var W=K+s,Z=ee*K;p[Q++]=k[Z+ae],p[Q++]=-W,p[Q++]=k[Z+fe],p[Q++]=W}for(var K=z;K<F;++K){var W=K+1,X=ee*K;p[Q++]=B[X+ae],p[Q++]=-W}var $=Q>>>1;n(p,$);for(var ie=0,K=0;K<$;++K){var J=p[2*K+1]|0;if(J<0){var W=-J;if(W>=s)l[ie++]=W-s;else{W-=1;var j=G[W],se=ee*W,ne=B[se+y+1],ue=B[se+y+1+C];e:for(var ge=0;ge<ie;++ge){var we=l[ge],xe=O[we];if(xe===j)break;var Fe=ee*we;if(!(ue<k[Fe+y+1]||k[Fe+y+1+C]<ne)){for(var ze=y+2;ze<C;++ze)if(B[se+ze+C]<k[Fe+ze]||k[Fe+ze+C]<B[se+ze])continue e;var Te=_(xe,j);if(Te!==void 0)return Te}}}}else{for(var W=J-s,ge=ie-1;ge>=0;--ge)if(l[ge]===W){for(var ze=ge+1;ze<ie;++ze)l[ze-1]=l[ze];break}--ie}}}},7761:function(v,d,t){var r=t(9971),u=t(743),n=t(2161),s=t(7098);v.exports=b;function f(h){return[Math.min(h[0],h[1]),Math.max(h[0],h[1])]}function l(h,o){return h[0]-o[0]||h[1]-o[1]}function x(h){return h.map(f).sort(l)}function c(h,o,p){return o in h?h[o]:p}function b(h,o,p){Array.isArray(o)?(p=p||{},o=o||[]):(p=o||{},o=[]);var S=!!c(p,"delaunay",!0),A=!!c(p,"interior",!0),E=!!c(p,"exterior",!0),m=!!c(p,"infinity",!1);if(!A&&!E||h.length===0)return[];var M=r(h,o);if(S||A!==E||m){for(var w=u(h.length,x(o)),i=0;i<M.length;++i){var C=M[i];w.addTriangle(C[0],C[1],C[2])}return S&&n(h,w),E?A?m?s(w,0,m):w.cells():s(w,1,m):s(w,-1)}else return M}},2161:function(v,d,t){var r=t(2227)[4];t(5070),v.exports=n;function u(s,f,l,x,c,b){var h=f.opposite(x,c);if(!(h<0)){if(c<x){var o=x;x=c,c=o,o=b,b=h,h=o}f.isConstraint(x,c)||r(s[x],s[c],s[b],s[h])<0&&l.push(x,c)}}function n(s,f){for(var l=[],x=s.length,c=f.stars,b=0;b<x;++b)for(var h=c[b],o=1;o<h.length;o+=2){var p=h[o];if(!(p<b)&&!f.isConstraint(b,p)){for(var S=h[o-1],A=-1,E=1;E<h.length;E+=2)if(h[E-1]===p){A=h[E];break}A<0||r(s[b],s[p],s[S],s[A])<0&&l.push(b,p)}}for(;l.length>0;){for(var p=l.pop(),b=l.pop(),S=-1,A=-1,h=c[b],m=1;m<h.length;m+=2){var M=h[m-1],w=h[m];M===p?A=w:w===p&&(S=M)}S<0||A<0||r(s[b],s[p],s[S],s[A])>=0||(f.flip(b,p),u(s,f,l,S,b,A),u(s,f,l,b,A,S),u(s,f,l,A,p,S),u(s,f,l,p,S,A))}}},7098:function(v,d,t){var r=t(5070);v.exports=x;function u(c,b,h,o,p,S,A){this.cells=c,this.neighbor=b,this.flags=o,this.constraint=h,this.active=p,this.next=S,this.boundary=A}var n=u.prototype;function s(c,b){return c[0]-b[0]||c[1]-b[1]||c[2]-b[2]}n.locate=function(){var c=[0,0,0];return function(b,h,o){var p=b,S=h,A=o;return h<o?h<b&&(p=h,S=o,A=b):o<b&&(p=o,S=b,A=h),p<0?-1:(c[0]=p,c[1]=S,c[2]=A,r.eq(this.cells,c,s))}}();function f(c,b){for(var h=c.cells(),o=h.length,p=0;p<o;++p){var S=h[p],A=S[0],E=S[1],m=S[2];E<m?E<A&&(S[0]=E,S[1]=m,S[2]=A):m<A&&(S[0]=m,S[1]=A,S[2]=E)}h.sort(s);for(var M=new Array(o),p=0;p<M.length;++p)M[p]=0;var w=[],i=[],C=new Array(3*o),y=new Array(3*o),_=null;b&&(_=[]);for(var I=new u(h,C,y,M,w,i,_),p=0;p<o;++p)for(var S=h[p],N=0;N<3;++N){var A=S[N],E=S[(N+1)%3],k=C[3*p+N]=I.locate(E,A,c.opposite(E,A)),O=y[3*p+N]=c.isConstraint(A,E);k<0&&(O?i.push(p):(w.push(p),M[p]=1),b&&_.push([E,A,-1]))}return I}function l(c,b,h){for(var o=0,p=0;p<c.length;++p)b[p]===h&&(c[o++]=c[p]);return c.length=o,c}function x(c,b,h){var o=f(c,h);if(b===0)return h?o.cells.concat(o.boundary):o.cells;for(var p=1,S=o.active,A=o.next,E=o.flags,m=o.cells,M=o.constraint,w=o.neighbor;S.length>0||A.length>0;){for(;S.length>0;){var i=S.pop();if(E[i]!==-p){E[i]=p,m[i];for(var C=0;C<3;++C){var y=w[3*i+C];y>=0&&E[y]===0&&(M[3*i+C]?A.push(y):(S.push(y),E[y]=p))}}}var _=A;A=S,S=_,A.length=0,p=-p}var I=l(m,E,b);return h?I.concat(o.boundary):I}},9971:function(v,d,t){var r=t(5070),u=t(417)[3],n=0,s=1,f=2;v.exports=A;function l(E,m,M,w,i){this.a=E,this.b=m,this.idx=M,this.lowerIds=w,this.upperIds=i}function x(E,m,M,w){this.a=E,this.b=m,this.type=M,this.idx=w}function c(E,m){var M=E.a[0]-m.a[0]||E.a[1]-m.a[1]||E.type-m.type;return M||E.type!==n&&(M=u(E.a,E.b,m.b),M)?M:E.idx-m.idx}function b(E,m){return u(E.a,E.b,m)}function h(E,m,M,w,i){for(var C=r.lt(m,w,b),y=r.gt(m,w,b),_=C;_<y;++_){for(var I=m[_],N=I.lowerIds,O=N.length;O>1&&u(M[N[O-2]],M[N[O-1]],w)>0;)E.push([N[O-1],N[O-2],i]),O-=1;N.length=O,N.push(i);for(var k=I.upperIds,O=k.length;O>1&&u(M[k[O-2]],M[k[O-1]],w)<0;)E.push([k[O-2],k[O-1],i]),O-=1;k.length=O,k.push(i)}}function o(E,m){var M;return E.a[0]<m.a[0]?M=u(E.a,E.b,m.a):M=u(m.b,m.a,E.a),M||(m.b[0]<E.b[0]?M=u(E.a,E.b,m.b):M=u(m.b,m.a,E.b),M||E.idx-m.idx)}function p(E,m,M){var w=r.le(E,M,o),i=E[w],C=i.upperIds,y=C[C.length-1];i.upperIds=[y],E.splice(w+1,0,new l(M.a,M.b,M.idx,[y],C))}function S(E,m,M){var w=M.a;M.a=M.b,M.b=w;var i=r.eq(E,M,o),C=E[i],y=E[i-1];y.upperIds=C.upperIds,E.splice(i,1)}function A(E,m){for(var M=E.length,w=m.length,i=[],C=0;C<M;++C)i.push(new x(E[C],null,n,C));for(var C=0;C<w;++C){var y=m[C],_=E[y[0]],I=E[y[1]];_[0]<I[0]?i.push(new x(_,I,f,C),new x(I,_,s,C)):_[0]>I[0]&&i.push(new x(I,_,f,C),new x(_,I,s,C))}i.sort(c);for(var N=i[0].a[0]-(1+Math.abs(i[0].a[0]))*Math.pow(2,-52),k=[new l([N,1],[N,0],-1,[],[])],O=[],C=0,z=i.length;C<z;++C){var F=i[C],B=F.type;B===n?h(O,k,E,F.a,F.idx):B===f?p(k,E,F):S(k,E,F)}return O}},743:function(v,d,t){var r=t(5070);v.exports=f;function u(l,x){this.stars=l,this.edges=x}var n=u.prototype;function s(l,x,c){for(var b=1,h=l.length;b<h;b+=2)if(l[b-1]===x&&l[b]===c){l[b-1]=l[h-2],l[b]=l[h-1],l.length=h-2;return}}n.isConstraint=function(){var l=[0,0];function x(c,b){return c[0]-b[0]||c[1]-b[1]}return function(c,b){return l[0]=Math.min(c,b),l[1]=Math.max(c,b),r.eq(this.edges,l,x)>=0}}(),n.removeTriangle=function(l,x,c){var b=this.stars;s(b[l],x,c),s(b[x],c,l),s(b[c],l,x)},n.addTriangle=function(l,x,c){var b=this.stars;b[l].push(x,c),b[x].push(c,l),b[c].push(l,x)},n.opposite=function(l,x){for(var c=this.stars[x],b=1,h=c.length;b<h;b+=2)if(c[b]===l)return c[b-1];return-1},n.flip=function(l,x){var c=this.opposite(l,x),b=this.opposite(x,l);this.removeTriangle(l,x,c),this.removeTriangle(x,l,b),this.addTriangle(l,b,c),this.addTriangle(x,c,b)},n.edges=function(){for(var l=this.stars,x=[],c=0,b=l.length;c<b;++c)for(var h=l[c],o=0,p=h.length;o<p;o+=2)x.push([h[o],h[o+1]]);return x},n.cells=function(){for(var l=this.stars,x=[],c=0,b=l.length;c<b;++c)for(var h=l[c],o=0,p=h.length;o<p;o+=2){var S=h[o],A=h[o+1];c<Math.min(S,A)&&x.push([c,S,A])}return x};function f(l,x){for(var c=new Array(l),b=0;b<l;++b)c[b]=[];return new u(c,x)}},9887:function(v){v.exports=d;function d(t){for(var r=1,u=1;u<t.length;++u)for(var n=0;n<u;++n)if(t[u]<t[n])r=-r;else if(t[n]===t[u])return 0;return r}},9243:function(v,d,t){var r=t(3094),u=t(6606);function n(l,x){for(var c=0,b=l.length,h=0;h<b;++h)c+=l[h]*x[h];return c}function s(l){var x=l.length;if(x===0)return[];l[0].length;var c=r([l.length+1,l.length+1],1),b=r([l.length+1],1);c[x][x]=0;for(var h=0;h<x;++h){for(var o=0;o<=h;++o)c[o][h]=c[h][o]=2*n(l[h],l[o]);b[h]=n(l[h],l[h])}for(var p=u(c,b),S=0,A=p[x+1],h=0;h<A.length;++h)S+=A[h];for(var E=new Array(x),h=0;h<x;++h){for(var A=p[h],m=0,o=0;o<A.length;++o)m+=A[o];E[h]=m/S}return E}function f(l){if(l.length===0)return[];for(var x=l[0].length,c=r([x]),b=s(l),h=0;h<l.length;++h)for(var o=0;o<x;++o)c[o]+=l[h][o]*b[h];return c}f.barycenetric=s,v.exports=f},1778:function(v,d,t){v.exports=u;var r=t(9243);function u(n){for(var s=r(n),f=0,l=0;l<n.length;++l)for(var x=n[l],c=0;c<s.length;++c)f+=Math.pow(x[c]-s[c],2);return Math.sqrt(f/n.length)}},197:function(v,d,t){v.exports=_;var r=t(1731),u=t(2569),n=t(4434),s=t(5125),f=t(8846),l=t(7999),x=t(2826),c=t(8551),b=t(5528);function h(I){var N=l(I);return[c(N,-1/0),c(N,1/0)]}function o(I,N){for(var k=new Array(N.length),O=0;O<N.length;++O){var z=N[O],F=I[z[0]],B=I[z[1]];k[O]=[c(Math.min(F[0],B[0]),-1/0),c(Math.min(F[1],B[1]),-1/0),c(Math.max(F[0],B[0]),1/0),c(Math.max(F[1],B[1]),1/0)]}return k}function p(I){for(var N=new Array(I.length),k=0;k<I.length;++k){var O=I[k];N[k]=[c(O[0],-1/0),c(O[1],-1/0),c(O[0],1/0),c(O[1],1/0)]}return N}function S(I,N,k){var O=[];return u(k,function(z,F){var B=N[z],G=N[F];if(!(B[0]===G[0]||B[0]===G[1]||B[1]===G[0]||B[1]===G[1])){var Q=I[B[0]],ee=I[B[1]],ae=I[G[0]],fe=I[G[1]];n(Q,ee,ae,fe)&&O.push([z,F])}}),O}function A(I,N,k,O){var z=[];return u(k,O,function(F,B){var G=N[F];if(!(G[0]===B||G[1]===B)){var Q=I[B],ee=I[G[0]],ae=I[G[1]];n(ee,ae,Q,Q)&&z.push([F,B])}}),z}function E(I,N,k,O,z){var F,B,G=I.map(function(we){return[s(we[0]),s(we[1])]});for(F=0;F<k.length;++F){var Q=k[F];B=Q[0];var ee=Q[1],ae=N[B],fe=N[ee],K=b(x(I[ae[0]]),x(I[ae[1]]),x(I[fe[0]]),x(I[fe[1]]));if(K){var W=I.length;I.push([l(K[0]),l(K[1])]),G.push(K),O.push([B,W],[ee,W])}}for(O.sort(function(we,xe){if(we[0]!==xe[0])return we[0]-xe[0];var Fe=G[we[1]],ze=G[xe[1]];return f(Fe[0],ze[0])||f(Fe[1],ze[1])}),F=O.length-1;F>=0;--F){var Z=O[F];B=Z[0];var X=N[B],$=X[0],ie=X[1],J=I[$],j=I[ie];if((J[0]-j[0]||J[1]-j[1])<0){var se=$;$=ie,ie=se}X[0]=$;var ne=X[1]=Z[1],ue;for(z&&(ue=X[2]);F>0&&O[F-1][0]===B;){var Z=O[--F],ge=Z[1];z?N.push([ne,ge,ue]):N.push([ne,ge]),ne=ge}z?N.push([ne,ie,ue]):N.push([ne,ie])}return G}function m(I,N,k){for(var O=N.length,z=new r(O),F=[],B=0;B<N.length;++B){var G=N[B],Q=h(G[0]),ee=h(G[1]);F.push([c(Q[0],-1/0),c(ee[0],-1/0),c(Q[1],1/0),c(ee[1],1/0)])}u(F,function(Z,X){z.link(Z,X)});for(var ae=!0,fe=new Array(O),B=0;B<O;++B){var K=z.find(B);K!==B&&(ae=!1,I[K]=[Math.min(I[B][0],I[K][0]),Math.min(I[B][1],I[K][1])])}if(ae)return null;for(var W=0,B=0;B<O;++B){var K=z.find(B);K===B?(fe[B]=W,I[W++]=I[B]):fe[B]=-1}I.length=W;for(var B=0;B<O;++B)fe[B]<0&&(fe[B]=fe[z.find(B)]);return fe}function M(I,N){return I[0]-N[0]||I[1]-N[1]}function w(I,N){var k=I[0]-N[0]||I[1]-N[1];return k||(I[2]<N[2]?-1:I[2]>N[2]?1:0)}function i(I,N,k){if(I.length!==0){if(N)for(var O=0;O<I.length;++O){var z=I[O],F=N[z[0]],B=N[z[1]];z[0]=Math.min(F,B),z[1]=Math.max(F,B)}else for(var O=0;O<I.length;++O){var z=I[O],F=z[0],B=z[1];z[0]=Math.min(F,B),z[1]=Math.max(F,B)}k?I.sort(w):I.sort(M);for(var G=1,O=1;O<I.length;++O){var Q=I[O-1],ee=I[O];ee[0]===Q[0]&&ee[1]===Q[1]&&(!k||ee[2]===Q[2])||(I[G++]=ee)}I.length=G}}function C(I,N,k){var O=m(I,[],p(I));return i(N,O,k),!!O}function y(I,N,k){var O=o(I,N),z=S(I,N,O),F=p(I),B=A(I,N,O,F),G=E(I,N,z,B,k),Q=m(I,G);return i(N,Q,k),Q?!0:z.length>0||B.length>0}function _(I,N,k){var O;if(k){O=N;for(var z=new Array(N.length),F=0;F<N.length;++F){var B=N[F];z[F]=[B[0],B[1],k[F]]}N=z}for(var G=C(I,N,!!k);y(I,N,!!k);)G=!0;if(k&&G){O.length=0,k.length=0;for(var F=0;F<N.length;++F){var B=N[F];O.push([B[0],B[1]]),k.push(B[2])}}return G}},5528:function(v,d,t){v.exports=b;var r=t(3962),u=t(9189),n=t(4354),s=t(4951),f=t(6695),l=t(7584),x=t(4469);function c(h,o){return n(r(h[0],o[1]),r(h[1],o[0]))}function b(h,o,p,S){var A=f(o,h),E=f(S,p),m=c(A,E);if(s(m)===0)return null;var M=f(h,p),w=c(E,M),i=u(w,m),C=x(A,i),y=l(h,C);return y}},5692:function(v){v.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(v,d,t){var r=t(5692),u=t(3578);v.exports=n;function n(x){var c,b,h,o,p,S,A,E,i,m,M;if(x||(x={}),E=(x.nshades||72)-1,A=x.format||"hex",S=x.colormap,S||(S="jet"),typeof S=="string"){if(S=S.toLowerCase(),!r[S])throw Error(S+" not a supported colorscale");p=r[S]}else if(Array.isArray(S))p=S.slice();else throw Error("unsupported colormap option",S);if(p.length>E+1)throw new Error(S+" map requires nshades to be at least size "+p.length);Array.isArray(x.alpha)?x.alpha.length!==2?m=[1,1]:m=x.alpha.slice():typeof x.alpha=="number"?m=[x.alpha,x.alpha]:m=[1,1],c=p.map(function(_){return Math.round(_.index*E)}),m[0]=Math.min(Math.max(m[0],0),1),m[1]=Math.min(Math.max(m[1],0),1);var w=p.map(function(_,I){var N=p[I].index,k=p[I].rgb.slice();return k.length===4&&k[3]>=0&&k[3]<=1||(k[3]=m[0]+(m[1]-m[0])*N),k}),i=[];for(M=0;M<c.length-1;++M){o=c[M+1]-c[M],b=w[M],h=w[M+1];for(var C=0;C<o;C++){var y=C/o;i.push([Math.round(u(b[0],h[0],y)),Math.round(u(b[1],h[1],y)),Math.round(u(b[2],h[2],y)),u(b[3],h[3],y)])}}return i.push(p[p.length-1].rgb.concat(m[1])),A==="hex"?i=i.map(f):A==="rgbaString"?i=i.map(l):A==="float"&&(i=i.map(s)),i}function s(x){return[x[0]/255,x[1]/255,x[2]/255,x[3]]}function f(x){for(var c,b="#",h=0;h<3;++h)c=x[h],c=c.toString(16),b+=("00"+c).substr(c.length);return b}function l(x){return"rgba("+x.join(",")+")"}},9398:function(v,d,t){v.exports=x;var r=t(417),u=t(7538),n=t(87),s=t(2019),f=t(9662);function l(c,b,h){var o=n(c[0],-b[0]),p=n(c[1],-b[1]),S=n(h[0],-b[0]),A=n(h[1],-b[1]),E=f(s(o,S),s(p,A));return E[E.length-1]>=0}function x(c,b,h,o){var p=r(b,h,o);if(p===0){var S=u(r(c,b,h)),A=u(r(c,b,o));if(S===A){if(S===0){var E=l(c,b,h),m=l(c,b,o);return E===m?0:E?1:-1}return 0}else{if(A===0)return S>0||l(c,b,o)?-1:1;if(S===0)return A>0||l(c,b,h)?1:-1}return u(A-S)}var M=r(c,b,h);if(M>0)return p>0&&r(c,b,o)>0?1:-1;if(M<0)return p>0||r(c,b,o)>0?1:-1;var w=r(c,b,o);return w>0||l(c,b,h)?1:-1}},7538:function(v){v.exports=function(t){return t<0?-1:t>0?1:0}},9209:function(v){v.exports=r;var d=Math.min;function t(u,n){return u-n}function r(u,n){var s=u.length,f=u.length-n.length;if(f)return f;switch(s){case 0:return 0;case 1:return u[0]-n[0];case 2:return u[0]+u[1]-n[0]-n[1]||d(u[0],u[1])-d(n[0],n[1]);case 3:var l=u[0]+u[1],x=n[0]+n[1];if(f=l+u[2]-(x+n[2]),f)return f;var c=d(u[0],u[1]),b=d(n[0],n[1]);return d(c,u[2])-d(b,n[2])||d(c+u[2],l)-d(b+n[2],x);case 4:var h=u[0],o=u[1],p=u[2],S=u[3],A=n[0],E=n[1],m=n[2],M=n[3];return h+o+p+S-(A+E+m+M)||d(h,o,p,S)-d(A,E,m,M,A)||d(h+o,h+p,h+S,o+p,o+S,p+S)-d(A+E,A+m,A+M,E+m,E+M,m+M)||d(h+o+p,h+o+S,h+p+S,o+p+S)-d(A+E+m,A+E+M,A+m+M,E+m+M);default:for(var w=u.slice().sort(t),i=n.slice().sort(t),C=0;C<s;++C)if(f=w[C]-i[C],f)return f;return 0}}},1284:function(v,d,t){var r=t(9209),u=t(9887);v.exports=n;function n(s,f){return r(s,f)||u(s)-u(f)}},5537:function(v,d,t){var r=t(8950),u=t(8722),n=t(3332);v.exports=s;function s(f){var l=f.length;if(l===0)return[];if(l===1)return[[0]];var x=f[0].length;return x===0?[]:x===1?r(f):x===2?u(f):n(f,x)}},8950:function(v){v.exports=d;function d(t){for(var r=0,u=0,n=1;n<t.length;++n)t[n][0]<t[r][0]&&(r=n),t[n][0]>t[u][0]&&(u=n);return r<u?[[r],[u]]:r>u?[[u],[r]]:[[r]]}},8722:function(v,d,t){v.exports=u;var r=t(3266);function u(n){var s=r(n),f=s.length;if(f<=2)return[];for(var l=new Array(f),x=s[f-1],c=0;c<f;++c){var b=s[c];l[c]=[x,b],x=b}return l}},3332:function(v,d,t){v.exports=f;var r=t(2183),u=t(2153);function n(l,x){for(var c=l.length,b=new Array(c),h=0;h<x.length;++h)b[h]=l[x[h]];for(var o=x.length,h=0;h<c;++h)x.indexOf(h)<0&&(b[o++]=l[h]);return b}function s(l,x){for(var c=l.length,b=x.length,h=0;h<c;++h)for(var o=l[h],p=0;p<o.length;++p){var S=o[p];if(S<b)o[p]=x[S];else{S=S-b;for(var A=0;A<b;++A)S>=x[A]&&(S+=1);o[p]=S}}return l}function f(l,x){try{return r(l,!0)}catch{var c=u(l);if(c.length<=x)return[];var b=n(l,c),h=r(b,!0);return s(h,c)}}},9680:function(v){function d(r,u,n,s,f,l){var x=6*f*f-6*f,c=3*f*f-4*f+1,b=-6*f*f+6*f,h=3*f*f-2*f;if(r.length){l||(l=new Array(r.length));for(var o=r.length-1;o>=0;--o)l[o]=x*r[o]+c*u[o]+b*n[o]+h*s[o];return l}return x*r+c*u+b*n[o]+h*s}function t(r,u,n,s,f,l){var x=f-1,c=f*f,b=x*x,h=(1+2*f)*b,o=f*b,p=c*(3-2*f),S=c*x;if(r.length){l||(l=new Array(r.length));for(var A=r.length-1;A>=0;--A)l[A]=h*r[A]+o*u[A]+p*n[A]+S*s[A];return l}return h*r+o*u+p*n+S*s}v.exports=t,v.exports.derivative=d},4419:function(v,d,t){var r=t(2183),u=t(1215);v.exports=l;function n(x,c){this.point=x,this.index=c}function s(x,c){for(var b=x.point,h=c.point,o=b.length,p=0;p<o;++p){var S=h[p]-b[p];if(S)return S}return 0}function f(x,c,b){if(x===1)return b?[[-1,0]]:[];var h=c.map(function(E,m){return[E[0],m]});h.sort(function(E,m){return E[0]-m[0]});for(var o=new Array(x-1),p=1;p<x;++p){var S=h[p-1],A=h[p];o[p-1]=[S[1],A[1]]}return b&&o.push([-1,o[0][1]],[o[x-1][1],-1]),o}function l(x,c){var b=x.length;if(b===0)return[];var h=x[0].length;if(h<1)return[];if(h===1)return f(b,x,c);for(var o=new Array(b),p=1,S=0;S<b;++S){for(var A=x[S],E=new Array(h+1),m=0,M=0;M<h;++M){var w=A[M];E[M]=w,m+=w*w}E[h]=m,o[S]=new n(E,S),p=Math.max(m,p)}u(o,s),b=o.length;for(var i=new Array(b+h+1),C=new Array(b+h+1),y=(h+1)*(h+1)*p,_=new Array(h+1),S=0;S<=h;++S)_[S]=0;_[h]=y,i[0]=_.slice(),C[0]=-1;for(var S=0;S<=h;++S){var E=_.slice();E[S]=1,i[S+1]=E,C[S+1]=-1}for(var S=0;S<b;++S){var I=o[S];i[S+h+1]=I.point,C[S+h+1]=I.index}var N=r(i,!1);if(c?N=N.filter(function(k){for(var O=0,z=0;z<=h;++z){var F=C[k[z]];if(F<0&&++O>=2)return!1;k[z]=F}return!0}):N=N.filter(function(k){for(var O=0;O<=h;++O){var z=C[k[O]];if(z<0)return!1;k[O]=z}return!0}),h&1)for(var S=0;S<N.length;++S){var I=N[S],E=I[0];I[0]=I[1],I[1]=E}return N}},8362:function(v){var d=!1;if(typeof Float64Array<"u"){var t=new Float64Array(1),r=new Uint32Array(t.buffer);if(t[0]=1,d=!0,r[1]===1072693248){let n=function(l,x){return r[0]=l,r[1]=x,t[0]},s=function(l){return t[0]=l,r[0]},f=function(l){return t[0]=l,r[1]};v.exports=function(x){return t[0]=x,[r[0],r[1]]},v.exports.pack=n,v.exports.lo=s,v.exports.hi=f}else if(r[0]===1072693248){let n=function(l,x){return r[1]=l,r[0]=x,t[0]},s=function(l){return t[0]=l,r[1]},f=function(l){return t[0]=l,r[0]};v.exports=function(x){return t[0]=x,[r[1],r[0]]},v.exports.pack=n,v.exports.lo=s,v.exports.hi=f}else d=!1}if(!d){let n=function(l,x){return u.writeUInt32LE(l,0,!0),u.writeUInt32LE(x,4,!0),u.readDoubleLE(0,!0)},s=function(l){return u.writeDoubleLE(l,0,!0),u.readUInt32LE(0,!0)},f=function(l){return u.writeDoubleLE(l,0,!0),u.readUInt32LE(4,!0)};var u=new Buffer(8);v.exports=function(x){return u.writeDoubleLE(x,0,!0),[u.readUInt32LE(0,!0),u.readUInt32LE(4,!0)]},v.exports.pack=n,v.exports.lo=s,v.exports.hi=f}v.exports.sign=function(n){return v.exports.hi(n)>>>31},v.exports.exponent=function(n){var s=v.exports.hi(n);return(s<<1>>>21)-1023},v.exports.fraction=function(n){var s=v.exports.lo(n),f=v.exports.hi(n),l=f&(1<<20)-1;return f&2146435072&&(l+=1048576),[s,l]},v.exports.denormalized=function(n){var s=v.exports.hi(n);return!(s&2146435072)}},3094:function(v){function d(u,n,s){var f=u[s]|0;if(f<=0)return[];var l=new Array(f),x;if(s===u.length-1)for(x=0;x<f;++x)l[x]=n;else for(x=0;x<f;++x)l[x]=d(u,n,s+1);return l}function t(u,n){var s,f;for(s=new Array(u),f=0;f<u;++f)s[f]=n;return s}function r(u,n){switch(typeof n>"u"&&(n=0),typeof u){case"number":if(u>0)return t(u|0,n);break;case"object":if(typeof u.length=="number")return d(u,n,0);break}return[]}v.exports=r},8348:function(v,d,t){v.exports=u;var r=t(1215);function u(n,s){var f=n.length;if(typeof s!="number"){s=0;for(var l=0;l<f;++l){var x=n[l];s=Math.max(s,x[0],x[1])}s=(s|0)+1}s=s|0;for(var c=new Array(s),l=0;l<s;++l)c[l]=[];for(var l=0;l<f;++l){var x=n[l];c[x[0]].push(x[1]),c[x[1]].push(x[0])}for(var b=0;b<s;++b)r(c[b],function(h,o){return h-o});return c}},5795:function(v){v.exports=d;function d(t,r,u){var n=r||0,s=u||1;return[[t[12]+t[0],t[13]+t[1],t[14]+t[2],t[15]+t[3]],[t[12]-t[0],t[13]-t[1],t[14]-t[2],t[15]-t[3]],[t[12]+t[4],t[13]+t[5],t[14]+t[6],t[15]+t[7]],[t[12]-t[4],t[13]-t[5],t[14]-t[6],t[15]-t[7]],[n*t[12]+t[8],n*t[13]+t[9],n*t[14]+t[10],n*t[15]+t[11]],[s*t[12]-t[8],s*t[13]-t[9],s*t[14]-t[10],s*t[15]-t[11]]]}},8444:function(v,d,t){v.exports=x;var r=t(9680),u=t(5070);function n(c,b,h){return Math.min(b,Math.max(c,h))}function s(c,b,h){this.dimension=c.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var o=0;o<this.dimension;++o)this.bounds[0][o]=-1/0,this.bounds[1][o]=1/0;this._state=c.slice().reverse(),this._velocity=b.slice().reverse(),this._time=[h],this._scratch=[c.slice(),c.slice(),c.slice(),c.slice(),c.slice()]}var f=s.prototype;f.flush=function(c){var b=u.gt(this._time,c)-1;b<=0||(this._time.splice(0,b),this._state.splice(0,b*this.dimension),this._velocity.splice(0,b*this.dimension))},f.curve=function(c){var b=this._time,h=b.length,o=u.le(b,c),p=this._scratch[0],S=this._state,A=this._velocity,E=this.dimension,m=this.bounds;if(o<0)for(var M=E-1,w=0;w<E;++w,--M)p[w]=S[M];else if(o>=h-1)for(var M=S.length-1,i=c-b[h-1],w=0;w<E;++w,--M)p[w]=S[M]+i*A[M];else{for(var M=E*(o+1)-1,C=b[o],y=b[o+1],_=y-C||1,I=this._scratch[1],N=this._scratch[2],k=this._scratch[3],O=this._scratch[4],z=!0,w=0;w<E;++w,--M)I[w]=S[M],k[w]=A[M]*_,N[w]=S[M+E],O[w]=A[M+E]*_,z=z&&I[w]===N[w]&&k[w]===O[w]&&k[w]===0;if(z)for(var w=0;w<E;++w)p[w]=I[w];else r(I,k,N,O,(c-C)/_,p)}for(var F=m[0],B=m[1],w=0;w<E;++w)p[w]=n(F[w],B[w],p[w]);return p},f.dcurve=function(c){var b=this._time,h=b.length,o=u.le(b,c),p=this._scratch[0],S=this._state,A=this._velocity,E=this.dimension;if(o>=h-1){var m=S.length-1;c-b[h-1];for(var M=0;M<E;++M,--m)p[M]=A[m]}else{for(var m=E*(o+1)-1,w=b[o],i=b[o+1],C=i-w||1,y=this._scratch[1],_=this._scratch[2],I=this._scratch[3],N=this._scratch[4],k=!0,M=0;M<E;++M,--m)y[M]=S[m],I[M]=A[m]*C,_[M]=S[m+E],N[M]=A[m+E]*C,k=k&&y[M]===_[M]&&I[M]===N[M]&&I[M]===0;if(k)for(var M=0;M<E;++M)p[M]=0;else{r.derivative(y,I,_,N,(c-w)/C,p);for(var M=0;M<E;++M)p[M]/=C}}return p},f.lastT=function(){var c=this._time;return c[c.length-1]},f.stable=function(){for(var c=this._velocity,b=c.length,h=this.dimension-1;h>=0;--h)if(c[--b])return!1;return!0},f.jump=function(c){var b=this.lastT(),h=this.dimension;if(!(c<b||arguments.length!==h+1)){var o=this._state,p=this._velocity,S=o.length-this.dimension,A=this.bounds,E=A[0],m=A[1];this._time.push(b,c);for(var M=0;M<2;++M)for(var w=0;w<h;++w)o.push(o[S++]),p.push(0);this._time.push(c);for(var w=h;w>0;--w)o.push(n(E[w-1],m[w-1],arguments[w])),p.push(0)}},f.push=function(c){var b=this.lastT(),h=this.dimension;if(!(c<b||arguments.length!==h+1)){var o=this._state,p=this._velocity,S=o.length-this.dimension,A=c-b,E=this.bounds,m=E[0],M=E[1],w=A>1e-6?1/A:0;this._time.push(c);for(var i=h;i>0;--i){var C=n(m[i-1],M[i-1],arguments[i]);o.push(C),p.push((C-o[S++])*w)}}},f.set=function(c){var b=this.dimension;if(!(c<this.lastT()||arguments.length!==b+1)){var h=this._state,o=this._velocity,p=this.bounds,S=p[0],A=p[1];this._time.push(c);for(var E=b;E>0;--E)h.push(n(S[E-1],A[E-1],arguments[E])),o.push(0)}},f.move=function(c){var b=this.lastT(),h=this.dimension;if(!(c<=b||arguments.length!==h+1)){var o=this._state,p=this._velocity,S=o.length-this.dimension,A=this.bounds,E=A[0],m=A[1],M=c-b,w=M>1e-6?1/M:0;this._time.push(c);for(var i=h;i>0;--i){var C=arguments[i];o.push(n(E[i-1],m[i-1],o[S++]+C)),p.push(C*w)}}},f.idle=function(c){var b=this.lastT();if(!(c<b)){var h=this.dimension,o=this._state,p=this._velocity,S=o.length-h,A=this.bounds,E=A[0],m=A[1],M=c-b;this._time.push(c);for(var w=h-1;w>=0;--w)o.push(n(E[w],m[w],o[S]+M*p[S])),p.push(0),S+=1}};function l(c){for(var b=new Array(c),h=0;h<c;++h)b[h]=0;return b}function x(c,b,h){switch(arguments.length){case 0:return new s([0],[0],0);case 1:if(typeof c=="number"){var o=l(c);return new s(o,o,0)}else return new s(c,l(c.length),0);case 2:if(typeof b=="number"){var o=l(c.length);return new s(c,o,+b)}else h=0;case 3:if(c.length!==b.length)throw new Error("state and velocity lengths must match");return new s(c,b,h)}}},7080:function(v){v.exports=E;var d=0,t=1;function r(m,M,w,i,C,y){this._color=m,this.key=M,this.value=w,this.left=i,this.right=C,this._count=y}function u(m){return new r(m._color,m.key,m.value,m.left,m.right,m._count)}function n(m,M){return new r(m,M.key,M.value,M.left,M.right,M._count)}function s(m){m._count=1+(m.left?m.left._count:0)+(m.right?m.right._count:0)}function f(m,M){this._compare=m,this.root=M}var l=f.prototype;Object.defineProperty(l,"keys",{get:function(){var m=[];return this.forEach(function(M,w){m.push(M)}),m}}),Object.defineProperty(l,"values",{get:function(){var m=[];return this.forEach(function(M,w){m.push(w)}),m}}),Object.defineProperty(l,"length",{get:function(){return this.root?this.root._count:0}}),l.insert=function(m,M){for(var w=this._compare,i=this.root,C=[],y=[];i;){var _=w(m,i.key);C.push(i),y.push(_),_<=0?i=i.left:i=i.right}C.push(new r(d,m,M,null,null,1));for(var I=C.length-2;I>=0;--I){var i=C[I];y[I]<=0?C[I]=new r(i._color,i.key,i.value,C[I+1],i.right,i._count+1):C[I]=new r(i._color,i.key,i.value,i.left,C[I+1],i._count+1)}for(var I=C.length-1;I>1;--I){var N=C[I-1],i=C[I];if(N._color===t||i._color===t)break;var k=C[I-2];if(k.left===N)if(N.left===i){var O=k.right;if(O&&O._color===d)N._color=t,k.right=n(t,O),k._color=d,I-=1;else{if(k._color=d,k.left=N.right,N._color=t,N.right=k,C[I-2]=N,C[I-1]=i,s(k),s(N),I>=3){var z=C[I-3];z.left===k?z.left=N:z.right=N}break}}else{var O=k.right;if(O&&O._color===d)N._color=t,k.right=n(t,O),k._color=d,I-=1;else{if(N.right=i.left,k._color=d,k.left=i.right,i._color=t,i.left=N,i.right=k,C[I-2]=i,C[I-1]=N,s(k),s(N),s(i),I>=3){var z=C[I-3];z.left===k?z.left=i:z.right=i}break}}else if(N.right===i){var O=k.left;if(O&&O._color===d)N._color=t,k.left=n(t,O),k._color=d,I-=1;else{if(k._color=d,k.right=N.left,N._color=t,N.left=k,C[I-2]=N,C[I-1]=i,s(k),s(N),I>=3){var z=C[I-3];z.right===k?z.right=N:z.left=N}break}}else{var O=k.left;if(O&&O._color===d)N._color=t,k.left=n(t,O),k._color=d,I-=1;else{if(N.left=i.right,k._color=d,k.right=i.left,i._color=t,i.right=N,i.left=k,C[I-2]=i,C[I-1]=N,s(k),s(N),s(i),I>=3){var z=C[I-3];z.right===k?z.right=i:z.left=i}break}}}return C[0]._color=t,new f(w,C[0])};function x(m,M){if(M.left){var w=x(m,M.left);if(w)return w}var w=m(M.key,M.value);if(w)return w;if(M.right)return x(m,M.right)}function c(m,M,w,i){var C=M(m,i.key);if(C<=0){if(i.left){var y=c(m,M,w,i.left);if(y)return y}var y=w(i.key,i.value);if(y)return y}if(i.right)return c(m,M,w,i.right)}function b(m,M,w,i,C){var y=w(m,C.key),_=w(M,C.key),I;if(y<=0&&(C.left&&(I=b(m,M,w,i,C.left),I)||_>0&&(I=i(C.key,C.value),I)))return I;if(_>0&&C.right)return b(m,M,w,i,C.right)}l.forEach=function(M,w,i){if(this.root)switch(arguments.length){case 1:return x(M,this.root);case 2:return c(w,this._compare,M,this.root);case 3:return this._compare(w,i)>=0?void 0:b(w,i,this._compare,M,this.root)}},Object.defineProperty(l,"begin",{get:function(){for(var m=[],M=this.root;M;)m.push(M),M=M.left;return new h(this,m)}}),Object.defineProperty(l,"end",{get:function(){for(var m=[],M=this.root;M;)m.push(M),M=M.right;return new h(this,m)}}),l.at=function(m){if(m<0)return new h(this,[]);for(var M=this.root,w=[];;){if(w.push(M),M.left){if(m<M.left._count){M=M.left;continue}m-=M.left._count}if(!m)return new h(this,w);if(m-=1,M.right){if(m>=M.right._count)break;M=M.right}else break}return new h(this,[])},l.ge=function(m){for(var M=this._compare,w=this.root,i=[],C=0;w;){var y=M(m,w.key);i.push(w),y<=0&&(C=i.length),y<=0?w=w.left:w=w.right}return i.length=C,new h(this,i)},l.gt=function(m){for(var M=this._compare,w=this.root,i=[],C=0;w;){var y=M(m,w.key);i.push(w),y<0&&(C=i.length),y<0?w=w.left:w=w.right}return i.length=C,new h(this,i)},l.lt=function(m){for(var M=this._compare,w=this.root,i=[],C=0;w;){var y=M(m,w.key);i.push(w),y>0&&(C=i.length),y<=0?w=w.left:w=w.right}return i.length=C,new h(this,i)},l.le=function(m){for(var M=this._compare,w=this.root,i=[],C=0;w;){var y=M(m,w.key);i.push(w),y>=0&&(C=i.length),y<0?w=w.left:w=w.right}return i.length=C,new h(this,i)},l.find=function(m){for(var M=this._compare,w=this.root,i=[];w;){var C=M(m,w.key);if(i.push(w),C===0)return new h(this,i);C<=0?w=w.left:w=w.right}return new h(this,[])},l.remove=function(m){var M=this.find(m);return M?M.remove():this},l.get=function(m){for(var M=this._compare,w=this.root;w;){var i=M(m,w.key);if(i===0)return w.value;i<=0?w=w.left:w=w.right}};function h(m,M){this.tree=m,this._stack=M}var o=h.prototype;Object.defineProperty(o,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(o,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),o.clone=function(){return new h(this.tree,this._stack.slice())};function p(m,M){m.key=M.key,m.value=M.value,m.left=M.left,m.right=M.right,m._color=M._color,m._count=M._count}function S(m){for(var M,w,i,C,y=m.length-1;y>=0;--y){if(M=m[y],y===0){M._color=t;return}if(w=m[y-1],w.left===M){if(i=w.right,i.right&&i.right._color===d){if(i=w.right=u(i),C=i.right=u(i.right),w.right=i.left,i.left=w,i.right=C,i._color=w._color,M._color=t,w._color=t,C._color=t,s(w),s(i),y>1){var _=m[y-2];_.left===w?_.left=i:_.right=i}m[y-1]=i;return}else if(i.left&&i.left._color===d){if(i=w.right=u(i),C=i.left=u(i.left),w.right=C.left,i.left=C.right,C.left=w,C.right=i,C._color=w._color,w._color=t,i._color=t,M._color=t,s(w),s(i),s(C),y>1){var _=m[y-2];_.left===w?_.left=C:_.right=C}m[y-1]=C;return}if(i._color===t)if(w._color===d){w._color=t,w.right=n(d,i);return}else{w.right=n(d,i);continue}else{if(i=u(i),w.right=i.left,i.left=w,i._color=w._color,w._color=d,s(w),s(i),y>1){var _=m[y-2];_.left===w?_.left=i:_.right=i}m[y-1]=i,m[y]=w,y+1<m.length?m[y+1]=M:m.push(M),y=y+2}}else{if(i=w.left,i.left&&i.left._color===d){if(i=w.left=u(i),C=i.left=u(i.left),w.left=i.right,i.right=w,i.left=C,i._color=w._color,M._color=t,w._color=t,C._color=t,s(w),s(i),y>1){var _=m[y-2];_.right===w?_.right=i:_.left=i}m[y-1]=i;return}else if(i.right&&i.right._color===d){if(i=w.left=u(i),C=i.right=u(i.right),w.left=C.right,i.right=C.left,C.right=w,C.left=i,C._color=w._color,w._color=t,i._color=t,M._color=t,s(w),s(i),s(C),y>1){var _=m[y-2];_.right===w?_.right=C:_.left=C}m[y-1]=C;return}if(i._color===t)if(w._color===d){w._color=t,w.left=n(d,i);return}else{w.left=n(d,i);continue}else{if(i=u(i),w.left=i.right,i.right=w,i._color=w._color,w._color=d,s(w),s(i),y>1){var _=m[y-2];_.right===w?_.right=i:_.left=i}m[y-1]=i,m[y]=w,y+1<m.length?m[y+1]=M:m.push(M),y=y+2}}}}o.remove=function(){var m=this._stack;if(m.length===0)return this.tree;var M=new Array(m.length),w=m[m.length-1];M[M.length-1]=new r(w._color,w.key,w.value,w.left,w.right,w._count);for(var i=m.length-2;i>=0;--i){var w=m[i];w.left===m[i+1]?M[i]=new r(w._color,w.key,w.value,M[i+1],w.right,w._count):M[i]=new r(w._color,w.key,w.value,w.left,M[i+1],w._count)}if(w=M[M.length-1],w.left&&w.right){var C=M.length;for(w=w.left;w.right;)M.push(w),w=w.right;var y=M[C-1];M.push(new r(w._color,y.key,y.value,w.left,w.right,w._count)),M[C-1].key=w.key,M[C-1].value=w.value;for(var i=M.length-2;i>=C;--i)w=M[i],M[i]=new r(w._color,w.key,w.value,w.left,M[i+1],w._count);M[C-1].left=M[C]}if(w=M[M.length-1],w._color===d){var _=M[M.length-2];_.left===w?_.left=null:_.right===w&&(_.right=null),M.pop();for(var i=0;i<M.length;++i)M[i]._count--;return new f(this.tree._compare,M[0])}else if(w.left||w.right){w.left?p(w,w.left):w.right&&p(w,w.right),w._color=t;for(var i=0;i<M.length-1;++i)M[i]._count--;return new f(this.tree._compare,M[0])}else{if(M.length===1)return new f(this.tree._compare,null);for(var i=0;i<M.length;++i)M[i]._count--;var I=M[M.length-2];S(M),I.left===w?I.left=null:I.right=null}return new f(this.tree._compare,M[0])},Object.defineProperty(o,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(o,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(o,"index",{get:function(){var m=0,M=this._stack;if(M.length===0){var w=this.tree.root;return w?w._count:0}else M[M.length-1].left&&(m=M[M.length-1].left._count);for(var i=M.length-2;i>=0;--i)M[i+1]===M[i].right&&(++m,M[i].left&&(m+=M[i].left._count));return m},enumerable:!0}),o.next=function(){var m=this._stack;if(m.length!==0){var M=m[m.length-1];if(M.right)for(M=M.right;M;)m.push(M),M=M.left;else for(m.pop();m.length>0&&m[m.length-1].right===M;)M=m[m.length-1],m.pop()}},Object.defineProperty(o,"hasNext",{get:function(){var m=this._stack;if(m.length===0)return!1;if(m[m.length-1].right)return!0;for(var M=m.length-1;M>0;--M)if(m[M-1].left===m[M])return!0;return!1}}),o.update=function(m){var M=this._stack;if(M.length===0)throw new Error("Can't update empty node!");var w=new Array(M.length),i=M[M.length-1];w[w.length-1]=new r(i._color,i.key,m,i.left,i.right,i._count);for(var C=M.length-2;C>=0;--C)i=M[C],i.left===M[C+1]?w[C]=new r(i._color,i.key,i.value,w[C+1],i.right,i._count):w[C]=new r(i._color,i.key,i.value,i.left,w[C+1],i._count);return new f(this.tree._compare,w[0])},o.prev=function(){var m=this._stack;if(m.length!==0){var M=m[m.length-1];if(M.left)for(M=M.left;M;)m.push(M),M=M.right;else for(m.pop();m.length>0&&m[m.length-1].left===M;)M=m[m.length-1],m.pop()}},Object.defineProperty(o,"hasPrev",{get:function(){var m=this._stack;if(m.length===0)return!1;if(m[m.length-1].left)return!0;for(var M=m.length-1;M>0;--M)if(m[M-1].right===m[M])return!0;return!1}});function A(m,M){return m<M?-1:m>M?1:0}function E(m){return new f(m||A,null)}},7453:function(v,d,t){v.exports=i;var r=t(9557),u=t(1681),n=t(1011),s=t(2864),f=t(8468),l=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function x(C,y){return C[0]=y[0],C[1]=y[1],C[2]=y[2],C}function c(C){this.gl=C,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=n(C)}var b=c.prototype;b.update=function(C){C=C||{};function y(ae,fe,K){if(K in C){var W=C[K],Z=this[K],X;(ae?Array.isArray(W)&&Array.isArray(W[0]):Array.isArray(W))?this[K]=X=[fe(W[0]),fe(W[1]),fe(W[2])]:this[K]=X=[fe(W),fe(W),fe(W)];for(var $=0;$<3;++$)if(X[$]!==Z[$])return!0}return!1}var _=y.bind(this,!1,Number),I=y.bind(this,!1,Boolean),N=y.bind(this,!1,String),k=y.bind(this,!0,function(ae){if(Array.isArray(ae)){if(ae.length===3)return[+ae[0],+ae[1],+ae[2],1];if(ae.length===4)return[+ae[0],+ae[1],+ae[2],+ae[3]]}return[0,0,0,1]}),O,z=!1,F=!1;if("bounds"in C)for(var B=C.bounds,G=0;G<2;++G)for(var Q=0;Q<3;++Q)B[G][Q]!==this.bounds[G][Q]&&(F=!0),this.bounds[G][Q]=B[G][Q];if("ticks"in C){O=C.ticks,z=!0,this.autoTicks=!1;for(var G=0;G<3;++G)this.tickSpacing[G]=0}else _("tickSpacing")&&(this.autoTicks=!0,F=!0);if(this._firstInit&&("ticks"in C||"tickSpacing"in C||(this.autoTicks=!0),F=!0,z=!0,this._firstInit=!1),F&&this.autoTicks&&(O=f.create(this.bounds,this.tickSpacing),z=!0),z){for(var G=0;G<3;++G)O[G].sort(function(fe,K){return fe.x-K.x});f.equal(O,this.ticks)?z=!1:this.ticks=O}I("tickEnable"),N("tickFont")&&(z=!0),_("tickSize"),_("tickAngle"),_("tickPad"),k("tickColor");var ee=N("labels");N("labelFont")&&(ee=!0),I("labelEnable"),_("labelSize"),_("labelPad"),k("labelColor"),I("lineEnable"),I("lineMirror"),_("lineWidth"),k("lineColor"),I("lineTickEnable"),I("lineTickMirror"),_("lineTickLength"),_("lineTickWidth"),k("lineTickColor"),I("gridEnable"),_("gridWidth"),k("gridColor"),I("zeroEnable"),k("zeroLineColor"),_("zeroLineWidth"),I("backgroundEnable"),k("backgroundColor"),this._text?this._text&&(ee||z)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=r(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&z&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=u(this.gl,this.bounds,this.ticks))};function h(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var o=[new h,new h,new h];function p(C,y,_,I,N){for(var k=C.primalOffset,O=C.primalMinor,z=C.mirrorOffset,F=C.mirrorMinor,B=I[y],G=0;G<3;++G)if(y!==G){var Q=k,ee=z,ae=O,fe=F;B&1<<G&&(Q=z,ee=k,ae=F,fe=O),Q[G]=_[0][G],ee[G]=_[1][G],N[G]>0?(ae[G]=-1,fe[G]=0):(ae[G]=0,fe[G]=1)}}var S=[0,0,0],A={model:l,view:l,projection:l,_ortho:!1};b.isOpaque=function(){return!0},b.isTransparent=function(){return!1},b.drawTransparent=function(C){};var E=0,m=[0,0,0],M=[0,0,0],w=[0,0,0];b.draw=function(C){C=C||A;for(var Z=this.gl,y=C.model||l,_=C.view||l,I=C.projection||l,N=this.bounds,k=C._ortho||!1,O=s(y,_,I,N,k),z=O.cubeEdges,F=O.axis,B=_[12],G=_[13],Q=_[14],ee=_[15],ae=k?2:1,fe=ae*this.pixelRatio*(I[3]*B+I[7]*G+I[11]*Q+I[15]*ee)/Z.drawingBufferHeight,K=0;K<3;++K)this.lastCubeProps.cubeEdges[K]=z[K],this.lastCubeProps.axis[K]=F[K];for(var W=o,K=0;K<3;++K)p(o[K],K,this.bounds,z,F);for(var Z=this.gl,X=S,K=0;K<3;++K)this.backgroundEnable[K]?X[K]=F[K]:X[K]=0;this._background.draw(y,_,I,N,X,this.backgroundColor),this._lines.bind(y,_,I,this);for(var K=0;K<3;++K){var $=[0,0,0];F[K]>0?$[K]=N[1][K]:$[K]=N[0][K];for(var ie=0;ie<2;++ie){var J=(K+1+ie)%3,j=(K+1+(ie^1))%3;this.gridEnable[J]&&this._lines.drawGrid(J,j,this.bounds,$,this.gridColor[J],this.gridWidth[J]*this.pixelRatio)}for(var ie=0;ie<2;++ie){var J=(K+1+ie)%3,j=(K+1+(ie^1))%3;this.zeroEnable[j]&&Math.min(N[0][j],N[1][j])<=0&&Math.max(N[0][j],N[1][j])>=0&&this._lines.drawZero(J,j,this.bounds,$,this.zeroLineColor[j],this.zeroLineWidth[j]*this.pixelRatio)}}for(var K=0;K<3;++K){this.lineEnable[K]&&this._lines.drawAxisLine(K,this.bounds,W[K].primalOffset,this.lineColor[K],this.lineWidth[K]*this.pixelRatio),this.lineMirror[K]&&this._lines.drawAxisLine(K,this.bounds,W[K].mirrorOffset,this.lineColor[K],this.lineWidth[K]*this.pixelRatio);for(var se=x(m,W[K].primalMinor),ne=x(M,W[K].mirrorMinor),ue=this.lineTickLength,ie=0;ie<3;++ie){var ge=fe/y[5*ie];se[ie]*=ue[ie]*ge,ne[ie]*=ue[ie]*ge}this.lineTickEnable[K]&&this._lines.drawAxisTicks(K,W[K].primalOffset,se,this.lineTickColor[K],this.lineTickWidth[K]*this.pixelRatio),this.lineTickMirror[K]&&this._lines.drawAxisTicks(K,W[K].mirrorOffset,ne,this.lineTickColor[K],this.lineTickWidth[K]*this.pixelRatio)}this._lines.unbind(),this._text.bind(y,_,I,this.pixelRatio);var we,xe=.5,Fe,ze;function Te(Ve){ze=[0,0,0],ze[Ve]=1}function ye(Ve,rt,Qe){var Je=(Ve+1)%3,qe=(Ve+2)%3,dt=rt[Je],pt=rt[qe],mt=Qe[Je],Ct=Qe[qe];if(dt>0&&Ct>0){Te(Je);return}else if(dt>0&&Ct<0){Te(Je);return}else if(dt<0&&Ct>0){Te(Je);return}else if(dt<0&&Ct<0){Te(Je);return}else if(pt>0&&mt>0){Te(qe);return}else if(pt>0&&mt<0){Te(qe);return}else if(pt<0&&mt>0){Te(qe);return}else if(pt<0&&mt<0){Te(qe);return}}for(var K=0;K<3;++K){for(var Ae=W[K].primalMinor,Ne=W[K].mirrorMinor,Ue=x(w,W[K].primalOffset),ie=0;ie<3;++ie)this.lineTickEnable[K]&&(Ue[ie]+=fe*Ae[ie]*Math.max(this.lineTickLength[ie],0)/y[5*ie]);var Re=[0,0,0];if(Re[K]=1,this.tickEnable[K]){this.tickAngle[K]===-3600?(this.tickAngle[K]=0,this.tickAlign[K]="auto"):this.tickAlign[K]=-1,Fe=1,we=[this.tickAlign[K],xe,Fe],we[0]==="auto"?we[0]=E:we[0]=parseInt(""+we[0]),ze=[0,0,0],ye(K,Ae,Ne);for(var ie=0;ie<3;++ie)Ue[ie]+=fe*Ae[ie]*this.tickPad[ie]/y[5*ie];this._text.drawTicks(K,this.tickSize[K],this.tickAngle[K],Ue,this.tickColor[K],Re,ze,we)}if(this.labelEnable[K]){Fe=0,ze=[0,0,0],this.labels[K].length>4&&(Te(K),Fe=1),we=[this.labelAlign[K],xe,Fe],we[0]==="auto"?we[0]=E:we[0]=parseInt(""+we[0]);for(var ie=0;ie<3;++ie)Ue[ie]+=fe*Ae[ie]*this.labelPad[ie]/y[5*ie];Ue[K]+=.5*(N[0][K]+N[1][K]),this._text.drawLabel(K,this.labelSize[K],this.labelAngle[K],Ue,this.labelColor[K],[0,0,0],ze,we)}}this._text.unbind()},b.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function i(C,y){var _=new c(C);return _.update(y),_}},1011:function(v,d,t){v.exports=l;var r=t(5827),u=t(2944),n=t(1943).bg;function s(x,c,b,h){this.gl=x,this.buffer=c,this.vao=b,this.shader=h}var f=s.prototype;f.draw=function(x,c,b,h,o,p){for(var S=!1,A=0;A<3;++A)S=S||o[A];if(S){var E=this.gl;E.enable(E.POLYGON_OFFSET_FILL),E.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:x,view:c,projection:b,bounds:h,enable:o,colors:p},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),E.disable(E.POLYGON_OFFSET_FILL)}},f.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function l(x){for(var c=[],b=[],h=0,o=0;o<3;++o)for(var p=(o+1)%3,S=(o+2)%3,A=[0,0,0],E=[0,0,0],m=-1;m<=1;m+=2){b.push(h,h+2,h+1,h+1,h+2,h+3),A[o]=m,E[o]=m;for(var M=-1;M<=1;M+=2){A[p]=M;for(var w=-1;w<=1;w+=2)A[S]=w,c.push(A[0],A[1],A[2],E[0],E[1],E[2]),h+=1}var i=p;p=S,S=i}var C=r(x,new Float32Array(c)),y=r(x,new Uint16Array(b),x.ELEMENT_ARRAY_BUFFER),_=u(x,[{buffer:C,type:x.FLOAT,size:3,offset:0,stride:24},{buffer:C,type:x.FLOAT,size:3,offset:12,stride:24}],y),I=n(x);return I.attributes.position.location=0,I.attributes.normal.location=1,new s(x,C,_,I)}},2864:function(v,d,t){v.exports=m;var r=t(2288),u=t(104),n=t(4670),s=t(417),f=new Array(16),l=new Array(8),x=new Array(8),c=new Array(3),b=[0,0,0];(function(){for(var M=0;M<8;++M)l[M]=[1,1,1,1],x[M]=[1,1,1]})();function h(M,w,i){for(var C=0;C<4;++C){M[C]=i[12+C];for(var y=0;y<3;++y)M[C]+=w[y]*i[4*y+C]}}var o=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function p(M){for(var w=0;w<o.length;++w)if(M=n.positive(M,o[w]),M.length<3)return 0;for(var i=M[0],C=i[0]/i[3],y=i[1]/i[3],_=0,w=1;w+1<M.length;++w){var I=M[w],N=M[w+1],k=I[0]/I[3],O=I[1]/I[3],z=N[0]/N[3],F=N[1]/N[3],B=k-C,G=O-y,Q=z-C,ee=F-y;_+=Math.abs(B*ee-G*Q)}return _}var S=[1,1,1],A=[0,0,0],E={cubeEdges:S,axis:A};function m(M,w,i,C,y){u(f,w,M),u(f,i,f);for(var _=0,I=0;I<2;++I){c[2]=C[I][2];for(var N=0;N<2;++N){c[1]=C[N][1];for(var k=0;k<2;++k)c[0]=C[k][0],h(l[_],c,f),_+=1}}for(var O=-1,I=0;I<8;++I){for(var z=l[I][3],F=0;F<3;++F)x[I][F]=l[I][F]/z;y&&(x[I][2]*=-1),z<0&&(O<0||x[I][2]<x[O][2])&&(O=I)}if(O<0){O=0;for(var B=0;B<3;++B){for(var G=(B+2)%3,Q=(B+1)%3,ee=-1,ae=-1,fe=0;fe<2;++fe){var K=fe<<B,W=K+(fe<<G)+(1-fe<<Q),Z=K+(1-fe<<G)+(fe<<Q);s(x[K],x[W],x[Z],b)<0||(fe?ee=1:ae=1)}if(ee<0||ae<0){ae>ee&&(O|=1<<B);continue}for(var fe=0;fe<2;++fe){var K=fe<<B,W=K+(fe<<G)+(1-fe<<Q),Z=K+(1-fe<<G)+(fe<<Q),X=p([l[K],l[W],l[Z],l[K+(1<<G)+(1<<Q)]]);fe?ee=X:ae=X}if(ae>ee){O|=1<<B;continue}}}for(var $=7^O,ie=-1,I=0;I<8;++I)I===O||I===$||(ie<0||x[ie][1]>x[I][1])&&(ie=I);for(var J=-1,I=0;I<3;++I){var j=ie^1<<I;if(!(j===O||j===$)){J<0&&(J=j);var Q=x[j];Q[0]<x[J][0]&&(J=j)}}for(var se=-1,I=0;I<3;++I){var j=ie^1<<I;if(!(j===O||j===$||j===J)){se<0&&(se=j);var Q=x[j];Q[0]>x[se][0]&&(se=j)}}var ne=S;ne[0]=ne[1]=ne[2]=0,ne[r.log2(J^ie)]=ie&J,ne[r.log2(ie^se)]=ie&se;var ue=se^7;ue===O||ue===$?(ue=J^7,ne[r.log2(se^ue)]=ue&se):ne[r.log2(J^ue)]=ue&J;for(var ge=A,we=O,B=0;B<3;++B)we&1<<B?ge[B]=-1:ge[B]=1;return E}},1681:function(v,d,t){v.exports=S;var r=t(5827),u=t(2944),n=t(1943).j,s=[0,0,0],f=[0,0,0],l=[0,0,0],x=[0,0,0],c=[1,1];function b(A){return A[0]=A[1]=A[2]=0,A}function h(A,E){return A[0]=E[0],A[1]=E[1],A[2]=E[2],A}function o(A,E,m,M,w,i,C,y){this.gl=A,this.vertBuffer=E,this.vao=m,this.shader=M,this.tickCount=w,this.tickOffset=i,this.gridCount=C,this.gridOffset=y}var p=o.prototype;p.bind=function(A,E,m){this.shader.bind(),this.shader.uniforms.model=A,this.shader.uniforms.view=E,this.shader.uniforms.projection=m,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=c,this.vao.bind()},p.unbind=function(){this.vao.unbind()},p.drawAxisLine=function(A,E,m,M,w){var i=b(f);this.shader.uniforms.majorAxis=f,i[A]=E[1][A]-E[0][A],this.shader.uniforms.minorAxis=i;var C=h(x,m);C[A]+=E[0][A],this.shader.uniforms.offset=C,this.shader.uniforms.lineWidth=w,this.shader.uniforms.color=M;var y=b(l);y[(A+2)%3]=1,this.shader.uniforms.screenAxis=y,this.vao.draw(this.gl.TRIANGLES,6);var y=b(l);y[(A+1)%3]=1,this.shader.uniforms.screenAxis=y,this.vao.draw(this.gl.TRIANGLES,6)},p.drawAxisTicks=function(A,E,m,M,w){if(this.tickCount[A]){var i=b(s);i[A]=1,this.shader.uniforms.majorAxis=i,this.shader.uniforms.offset=E,this.shader.uniforms.minorAxis=m,this.shader.uniforms.color=M,this.shader.uniforms.lineWidth=w;var C=b(l);C[A]=1,this.shader.uniforms.screenAxis=C,this.vao.draw(this.gl.TRIANGLES,this.tickCount[A],this.tickOffset[A])}},p.drawGrid=function(A,E,m,M,w,i){if(this.gridCount[A]){var C=b(f);C[E]=m[1][E]-m[0][E],this.shader.uniforms.minorAxis=C;var y=h(x,M);y[E]+=m[0][E],this.shader.uniforms.offset=y;var _=b(s);_[A]=1,this.shader.uniforms.majorAxis=_;var I=b(l);I[A]=1,this.shader.uniforms.screenAxis=I,this.shader.uniforms.lineWidth=i,this.shader.uniforms.color=w,this.vao.draw(this.gl.TRIANGLES,this.gridCount[A],this.gridOffset[A])}},p.drawZero=function(A,E,m,M,w,i){var C=b(f);this.shader.uniforms.majorAxis=C,C[A]=m[1][A]-m[0][A],this.shader.uniforms.minorAxis=C;var y=h(x,M);y[A]+=m[0][A],this.shader.uniforms.offset=y;var _=b(l);_[E]=1,this.shader.uniforms.screenAxis=_,this.shader.uniforms.lineWidth=i,this.shader.uniforms.color=w,this.vao.draw(this.gl.TRIANGLES,6)},p.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function S(A,E,m){var M=[],w=[0,0,0],i=[0,0,0],C=[0,0,0],y=[0,0,0];M.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var _=0;_<3;++_){for(var k=M.length/3|0,I=0;I<m[_].length;++I){var N=+m[_][I].x;M.push(N,0,1,N,1,1,N,0,-1,N,0,-1,N,1,1,N,1,-1)}var z=M.length/3|0;w[_]=k,i[_]=z-k;for(var k=M.length/3|0,O=0;O<m[_].length;++O){var N=+m[_][O].x;M.push(N,0,1,N,1,1,N,0,-1,N,0,-1,N,1,1,N,1,-1)}var z=M.length/3|0;C[_]=k,y[_]=z-k}var F=r(A,new Float32Array(M)),B=u(A,[{buffer:F,type:A.FLOAT,size:3,stride:0,offset:0}]),G=n(A);return G.attributes.position.location=0,new o(A,F,B,G,i,w,y,C)}},1943:function(v,d,t){var r=t(6832),u=t(5158),n=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),s=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);d.j=function(b){return u(b,n,s,null,[{name:"position",type:"vec3"}])};var f=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),l=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);d.f=function(b){return u(b,f,l,null,[{name:"position",type:"vec3"}])};var x=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),c=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);d.bg=function(b){return u(b,x,c,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(v,d,t){v.exports=p;var r=t(5827),u=t(2944),n=t(875),s=t(1943).f,f=window||g.global||{},l=f.__TEXT_CACHE||{};f.__TEXT_CACHE={};var x=3;function c(S,A,E,m){this.gl=S,this.shader=A,this.buffer=E,this.vao=m,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var b=c.prototype,h=[0,0];b.bind=function(S,A,E,m){this.vao.bind(),this.shader.bind();var M=this.shader.uniforms;M.model=S,M.view=A,M.projection=E,M.pixelScale=m,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=h},b.unbind=function(){this.vao.unbind()},b.update=function(S,A,E,m,M){var w=[];function i(F,B,G,Q,ee,ae){var fe=l[G];fe||(fe=l[G]={});var K=fe[B];K||(K=fe[B]=o(B,{triangles:!0,font:G,textAlign:"center",textBaseline:"middle",lineSpacing:ee,styletags:ae}));for(var W=(Q||12)/12,Z=K.positions,X=K.cells,$=0,ie=X.length;$<ie;++$)for(var J=X[$],j=2;j>=0;--j){var se=Z[J[j]];w.push(W*se[0],-W*se[1],F)}}for(var C=[0,0,0],y=[0,0,0],_=[0,0,0],I=[0,0,0],N=1.25,k={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},O=0;O<3;++O){_[O]=w.length/x|0,i(.5*(S[0][O]+S[1][O]),A[O],E[O],12,N,k),I[O]=(w.length/x|0)-_[O],C[O]=w.length/x|0;for(var z=0;z<m[O].length;++z)m[O][z].text&&i(m[O][z].x,m[O][z].text,m[O][z].font||M,m[O][z].fontSize||12,N,k);y[O]=(w.length/x|0)-C[O]}this.buffer.update(w),this.tickOffset=C,this.tickCount=y,this.labelOffset=_,this.labelCount=I},b.drawTicks=function(S,A,E,m,M,w,i,C){this.tickCount[S]&&(this.shader.uniforms.axis=w,this.shader.uniforms.color=M,this.shader.uniforms.angle=E,this.shader.uniforms.scale=A,this.shader.uniforms.offset=m,this.shader.uniforms.alignDir=i,this.shader.uniforms.alignOpt=C,this.vao.draw(this.gl.TRIANGLES,this.tickCount[S],this.tickOffset[S]))},b.drawLabel=function(S,A,E,m,M,w,i,C){this.labelCount[S]&&(this.shader.uniforms.axis=w,this.shader.uniforms.color=M,this.shader.uniforms.angle=E,this.shader.uniforms.scale=A,this.shader.uniforms.offset=m,this.shader.uniforms.alignDir=i,this.shader.uniforms.alignOpt=C,this.vao.draw(this.gl.TRIANGLES,this.labelCount[S],this.labelOffset[S]))},b.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function o(S,A){try{return n(S,A)}catch(E){return console.warn('error vectorizing text:"'+S+'" error:',E),{cells:[],positions:[]}}}function p(S,A,E,m,M,w){var i=r(S),C=u(S,[{buffer:i,size:3}]),y=s(S);y.attributes.position.location=0;var _=new c(S,y,i,C);return _.update(A,E,m,M,w),_}},8468:function(v,d){d.create=r,d.equal=u;function t(n,s){var f=n+"",l=f.indexOf("."),x=0;l>=0&&(x=f.length-l-1);var c=Math.pow(10,x),b=Math.round(n*s*c),h=b+"";if(h.indexOf("e")>=0)return h;var o=b/c,p=b%c;b<0?(o=-Math.ceil(o)|0,p=-p|0):(o=Math.floor(o)|0,p=p|0);var S=""+o;if(b<0&&(S="-"+S),x){for(var A=""+p;A.length<x;)A="0"+A;return S+"."+A}else return S}function r(n,s){for(var f=[],l=0;l<3;++l){var x=[];.5*(n[0][l]+n[1][l]);for(var c=0;c*s[l]<=n[1][l];++c)x.push({x:c*s[l],text:t(s[l],c)});for(var c=-1;c*s[l]>=n[0][l];--c)x.push({x:c*s[l],text:t(s[l],c)});f.push(x)}return f}function u(n,s){for(var f=0;f<3;++f){if(n[f].length!==s[f].length)return!1;for(var l=0;l<n[f].length;++l){var x=n[f][l],c=s[f][l];if(x.x!==c.x||x.text!==c.text||x.font!==c.font||x.fontColor!==c.fontColor||x.fontSize!==c.fontSize||x.dx!==c.dx||x.dy!==c.dy)return!1}}return!0}},2771:function(v,d,t){v.exports=E;var r=t(5795),u=t(4670),n=t(2864),s=t(104),f=t(2142),l=t(6342),x=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),c=new Float32Array(16);function b(m,M,w){this.lo=m,this.hi=M,this.pixelsPerDataUnit=w}var h=[0,0,0,1],o=[0,0,0,1];function p(m,M,w,i,C){for(var y=0;y<3;++y){for(var _=h,I=o,N=0;N<3;++N)I[N]=_[N]=w[N];I[3]=_[3]=1,I[y]+=1,l(I,I,M),I[3]<0&&(m[y]=1/0),_[y]-=1,l(_,_,M),_[3]<0&&(m[y]=1/0);var k=(_[0]/_[3]-I[0]/I[3])*i,O=(_[1]/_[3]-I[1]/I[3])*C;m[y]=.25*Math.sqrt(k*k+O*O)}return m}var S=[new b(1/0,-1/0,1/0),new b(1/0,-1/0,1/0),new b(1/0,-1/0,1/0)],A=[0,0,0];function E(m,M,w,i,O){var y=M.model||x,_=M.view||x,I=M.projection||x,N=M._ortho||!1,k=m.bounds,O=O||n(y,_,I,k,N),z=O.axis;s(c,_,y),s(c,I,c);for(var F=S,B=0;B<3;++B)F[B].lo=1/0,F[B].hi=-1/0,F[B].pixelsPerDataUnit=1/0;var G=r(f(c,c));f(c,c);for(var Q=0;Q<3;++Q){var ee=(Q+1)%3,ae=(Q+2)%3,fe=A;e:for(var B=0;B<2;++B){var K=[];if(z[Q]<0!=!!B){fe[Q]=k[B][Q];for(var W=0;W<2;++W){fe[ee]=k[W^B][ee];for(var Z=0;Z<2;++Z)fe[ae]=k[Z^W^B][ae],K.push(fe.slice())}for(var X=N?5:4,W=X;W===X;++W){if(K.length===0)continue e;K=u.positive(K,G[W])}for(var W=0;W<K.length;++W)for(var ae=K[W],$=p(A,c,ae,w,i),Z=0;Z<3;++Z)F[Z].lo=Math.min(F[Z].lo,ae[Z]),F[Z].hi=Math.max(F[Z].hi,ae[Z]),Z!==Q&&(F[Z].pixelsPerDataUnit=Math.min(F[Z].pixelsPerDataUnit,Math.abs($[Z])))}}}return F}},5827:function(v,d,t){var r=t(5306),u=t(7498),n=t(5050),s=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function f(o,p,S,A,E){this.gl=o,this.type=p,this.handle=S,this.length=A,this.usage=E}var l=f.prototype;l.bind=function(){this.gl.bindBuffer(this.type,this.handle)},l.unbind=function(){this.gl.bindBuffer(this.type,null)},l.dispose=function(){this.gl.deleteBuffer(this.handle)};function x(o,p,S,A,E,m){var M=E.length*E.BYTES_PER_ELEMENT;if(m<0)return o.bufferData(p,E,A),M;if(M+m>S)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return o.bufferSubData(p,m,E),S}function c(o,p){for(var S=r.malloc(o.length,p),A=o.length,E=0;E<A;++E)S[E]=o[E];return S}function b(o,p){for(var S=1,A=p.length-1;A>=0;--A){if(p[A]!==S)return!1;S*=o[A]}return!0}l.update=function(o,p){if(typeof p!="number"&&(p=-1),this.bind(),typeof o=="object"&&typeof o.shape<"u"){var S=o.dtype;if(s.indexOf(S)<0&&(S="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var A=gl.getExtension("OES_element_index_uint");A&&S!=="uint16"?S="uint32":S="uint16"}if(S===o.dtype&&b(o.shape,o.stride))o.offset===0&&o.data.length===o.shape[0]?this.length=x(this.gl,this.type,this.length,this.usage,o.data,p):this.length=x(this.gl,this.type,this.length,this.usage,o.data.subarray(o.offset,o.shape[0]),p);else{var E=r.malloc(o.size,S),m=n(E,o.shape);u.assign(m,o),p<0?this.length=x(this.gl,this.type,this.length,this.usage,E,p):this.length=x(this.gl,this.type,this.length,this.usage,E.subarray(0,o.size),p),r.free(E)}}else if(Array.isArray(o)){var M;this.type===this.gl.ELEMENT_ARRAY_BUFFER?M=c(o,"uint16"):M=c(o,"float32"),p<0?this.length=x(this.gl,this.type,this.length,this.usage,M,p):this.length=x(this.gl,this.type,this.length,this.usage,M.subarray(0,o.length),p),r.free(M)}else if(typeof o=="object"&&typeof o.length=="number")this.length=x(this.gl,this.type,this.length,this.usage,o,p);else if(typeof o=="number"||o===void 0){if(p>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");o=o|0,o<=0&&(o=1),this.gl.bufferData(this.type,o|0,this.usage),this.length=o}else throw new Error("gl-buffer: Invalid data type")};function h(o,p,S,A){if(S=S||o.ARRAY_BUFFER,A=A||o.DYNAMIC_DRAW,S!==o.ARRAY_BUFFER&&S!==o.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(A!==o.DYNAMIC_DRAW&&A!==o.STATIC_DRAW&&A!==o.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var E=o.createBuffer(),m=new f(o,S,E,0,A);return m.update(p),m}v.exports=h},1140:function(v,d,t){var r=t(2858);v.exports=function(n,s){var f=n.positions,l=n.vectors,x={positions:[],vertexIntensity:[],vertexIntensityBounds:n.vertexIntensityBounds,vectors:[],cells:[],coneOffset:n.coneOffset,colormap:n.colormap};if(n.positions.length===0)return s&&(s[0]=[0,0,0],s[1]=[0,0,0]),x;for(var c=0,b=1/0,h=-1/0,o=1/0,p=-1/0,S=1/0,A=-1/0,E=null,m=null,M=[],w=1/0,i=!1,C=0;C<f.length;C++){var y=f[C];b=Math.min(y[0],b),h=Math.max(y[0],h),o=Math.min(y[1],o),p=Math.max(y[1],p),S=Math.min(y[2],S),A=Math.max(y[2],A);var _=l[C];if(r.length(_)>c&&(c=r.length(_)),C){var I=2*r.distance(E,y)/(r.length(m)+r.length(_));I?(w=Math.min(w,I),i=!1):i=!0}i||(E=y,m=_),M.push(_)}var N=[b,o,S],k=[h,p,A];s&&(s[0]=N,s[1]=k),c===0&&(c=1);var O=1/c;isFinite(w)||(w=1),x.vectorScale=w;var z=n.coneSize||.5;n.absoluteConeSize&&(z=n.absoluteConeSize*O),x.coneScale=z;for(var C=0,F=0;C<f.length;C++)for(var y=f[C],B=y[0],G=y[1],Q=y[2],ee=M[C],ae=r.length(ee)*O,fe=0,K=8;fe<K;fe++){x.positions.push([B,G,Q,F++]),x.positions.push([B,G,Q,F++]),x.positions.push([B,G,Q,F++]),x.positions.push([B,G,Q,F++]),x.positions.push([B,G,Q,F++]),x.positions.push([B,G,Q,F++]),x.vectors.push(ee),x.vectors.push(ee),x.vectors.push(ee),x.vectors.push(ee),x.vectors.push(ee),x.vectors.push(ee),x.vertexIntensity.push(ae,ae,ae),x.vertexIntensity.push(ae,ae,ae);var W=x.positions.length;x.cells.push([W-6,W-5,W-4],[W-3,W-2,W-1])}return x};var u=t(7234);v.exports.createMesh=t(5028),v.exports.createConeMesh=function(n,s){return v.exports.createMesh(n,s,{shaders:u,traceType:"cone"})}},5028:function(v,d,t){var r=t(5158),u=t(5827),n=t(2944),s=t(8931),f=t(104),l=t(7437),x=t(5050),c=t(9156),b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function h(M,w,i,C,y,_,I,N,k,O,z){this.gl=M,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=w,this.dirty=!0,this.triShader=i,this.pickShader=C,this.trianglePositions=y,this.triangleVectors=_,this.triangleColors=N,this.triangleUVs=k,this.triangleIds=I,this.triangleVAO=O,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=z,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=b,this._view=b,this._projection=b,this._resolution=[1,1]}var o=h.prototype;o.isOpaque=function(){return this.opacity>=1},o.isTransparent=function(){return this.opacity<1},o.pickSlots=1,o.setPickBase=function(M){this.pickId=M};function p(M){for(var w=c({colormap:M,nshades:256,format:"rgba"}),i=new Uint8Array(256*4),C=0;C<256;++C){for(var y=w[C],_=0;_<3;++_)i[4*C+_]=y[_];i[4*C+3]=y[3]*255}return x(i,[256,256,4],[4,0,1])}function S(M){for(var w=M.length,i=new Array(w),C=0;C<w;++C)i[C]=M[C][2];return i}o.update=function(M){M=M||{};var w=this.gl;this.dirty=!0,"lightPosition"in M&&(this.lightPosition=M.lightPosition),"opacity"in M&&(this.opacity=M.opacity),"ambient"in M&&(this.ambientLight=M.ambient),"diffuse"in M&&(this.diffuseLight=M.diffuse),"specular"in M&&(this.specularLight=M.specular),"roughness"in M&&(this.roughness=M.roughness),"fresnel"in M&&(this.fresnel=M.fresnel),M.tubeScale!==void 0&&(this.tubeScale=M.tubeScale),M.vectorScale!==void 0&&(this.vectorScale=M.vectorScale),M.coneScale!==void 0&&(this.coneScale=M.coneScale),M.coneOffset!==void 0&&(this.coneOffset=M.coneOffset),M.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=w.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=w.LINEAR,this.texture.setPixels(p(M.colormap)),this.texture.generateMipmap());var i=M.cells,C=M.positions,y=M.vectors;if(!(!C||!i||!y)){var _=[],I=[],N=[],k=[],O=[];this.cells=i,this.positions=C,this.vectors=y;var z=M.meshColor||[1,1,1,1],F=M.vertexIntensity,B=1/0,G=-1/0;if(F)if(M.vertexIntensityBounds)B=+M.vertexIntensityBounds[0],G=+M.vertexIntensityBounds[1];else for(var Q=0;Q<F.length;++Q){var ee=F[Q];B=Math.min(B,ee),G=Math.max(G,ee)}else for(var Q=0;Q<C.length;++Q){var ee=C[Q][2];B=Math.min(B,ee),G=Math.max(G,ee)}F?this.intensity=F:this.intensity=S(C),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Q=0;Q<C.length;++Q)for(var ae=C[Q],fe=0;fe<3;++fe)isNaN(ae[fe])||!isFinite(ae[fe])||(this.bounds[0][fe]=Math.min(this.bounds[0][fe],ae[fe]),this.bounds[1][fe]=Math.max(this.bounds[1][fe],ae[fe]));var K=0;e:for(var Q=0;Q<i.length;++Q){var W=i[Q];switch(W.length){case 3:for(var fe=0;fe<3;++fe)for(var Z=W[fe],ae=C[Z],X=0;X<3;++X)if(isNaN(ae[X])||!isFinite(ae[X]))continue e;for(var fe=0;fe<3;++fe){var Z=W[2-fe],ae=C[Z];_.push(ae[0],ae[1],ae[2],ae[3]);var $=y[Z];I.push($[0],$[1],$[2],$[3]||0);var ie=z;ie.length===3?N.push(ie[0],ie[1],ie[2],1):N.push(ie[0],ie[1],ie[2],ie[3]);var J;F?J=[(F[Z]-B)/(G-B),0]:J=[(ae[2]-B)/(G-B),0],k.push(J[0],J[1]),O.push(Q)}K+=1;break}}this.triangleCount=K,this.trianglePositions.update(_),this.triangleVectors.update(I),this.triangleColors.update(N),this.triangleUVs.update(k),this.triangleIds.update(new Uint32Array(O))}},o.drawTransparent=o.draw=function(M){M=M||{};for(var w=this.gl,i=M.model||b,C=M.view||b,y=M.projection||b,_=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],I=0;I<3;++I)_[0][I]=Math.max(_[0][I],this.clipBounds[0][I]),_[1][I]=Math.min(_[1][I],this.clipBounds[1][I]);var N={model:i,view:C,projection:y,inverseModel:b.slice(),clipBounds:_,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};N.inverseModel=l(N.inverseModel,N.model),w.disable(w.CULL_FACE),this.texture.bind(0);var k=new Array(16);f(k,N.view,N.model),f(k,N.projection,k),l(k,k);for(var I=0;I<3;++I)N.eyePosition[I]=k[12+I]/k[15];for(var O=k[15],I=0;I<3;++I)O+=this.lightPosition[I]*k[4*I+3];for(var I=0;I<3;++I){for(var z=k[12+I],F=0;F<3;++F)z+=k[4*F+I]*this.lightPosition[F];N.lightPosition[I]=z/O}if(this.triangleCount>0){var B=this.triShader;B.bind(),B.uniforms=N,this.triangleVAO.bind(),w.drawArrays(w.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},o.drawPick=function(M){M=M||{};for(var w=this.gl,i=M.model||b,C=M.view||b,y=M.projection||b,_=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],I=0;I<3;++I)_[0][I]=Math.max(_[0][I],this.clipBounds[0][I]),_[1][I]=Math.min(_[1][I],this.clipBounds[1][I]);this._model=[].slice.call(i),this._view=[].slice.call(C),this._projection=[].slice.call(y),this._resolution=[w.drawingBufferWidth,w.drawingBufferHeight];var N={model:i,view:C,projection:y,clipBounds:_,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},k=this.pickShader;k.bind(),k.uniforms=N,this.triangleCount>0&&(this.triangleVAO.bind(),w.drawArrays(w.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},o.pick=function(M){if(!M||M.id!==this.pickId)return null;var w=M.value[0]+256*M.value[1]+65536*M.value[2],i=this.cells[w],C=this.positions[i[1]].slice(0,3),y={position:C,dataCoordinate:C,index:Math.floor(i[1]/48)};return this.traceType==="cone"?y.index=Math.floor(i[1]/48):this.traceType==="streamtube"&&(y.intensity=this.intensity[i[1]],y.velocity=this.vectors[i[1]].slice(0,3),y.divergence=this.vectors[i[1]][3],y.index=w),y},o.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function A(M,w){var i=r(M,w.meshShader.vertex,w.meshShader.fragment,null,w.meshShader.attributes);return i.attributes.position.location=0,i.attributes.color.location=2,i.attributes.uv.location=3,i.attributes.vector.location=4,i}function E(M,w){var i=r(M,w.pickShader.vertex,w.pickShader.fragment,null,w.pickShader.attributes);return i.attributes.position.location=0,i.attributes.id.location=1,i.attributes.vector.location=4,i}function m(M,w,i){var C=i.shaders;arguments.length===1&&(w=M,M=w.gl);var y=A(M,C),_=E(M,C),I=s(M,x(new Uint8Array([255,255,255,255]),[1,1,4]));I.generateMipmap(),I.minFilter=M.LINEAR_MIPMAP_LINEAR,I.magFilter=M.LINEAR;var N=u(M),k=u(M),O=u(M),z=u(M),F=u(M),B=n(M,[{buffer:N,type:M.FLOAT,size:4},{buffer:F,type:M.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:O,type:M.FLOAT,size:4},{buffer:z,type:M.FLOAT,size:2},{buffer:k,type:M.FLOAT,size:4}]),G=new h(M,I,y,_,N,k,F,O,z,B,i.traceType||"cone");return G.update(w),G}v.exports=m},7234:function(v,d,t){var r=t(6832),u=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),s=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),f=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);d.meshShader={vertex:u,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},d.pickShader={vertex:s,fragment:f,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(v){v.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(v,d,t){var r=t(1950);v.exports=function(n){return r[n]}},3110:function(v,d,t){v.exports=h;var r=t(5827),u=t(2944),n=t(7667),s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(o,p,S,A){this.gl=o,this.shader=A,this.buffer=p,this.vao=S,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var l=f.prototype;l.isOpaque=function(){return!this.hasAlpha},l.isTransparent=function(){return this.hasAlpha},l.drawTransparent=l.draw=function(o){var p=this.gl,S=this.shader.uniforms;this.shader.bind();var A=S.view=o.view||s,E=S.projection=o.projection||s;S.model=o.model||s,S.clipBounds=this.clipBounds,S.opacity=this.opacity;var m=A[12],M=A[13],w=A[14],i=A[15],C=o._ortho||!1,y=C?2:1,_=y*this.pixelRatio*(E[3]*m+E[7]*M+E[11]*w+E[15]*i)/p.drawingBufferHeight;this.vao.bind();for(var I=0;I<3;++I)p.lineWidth(this.lineWidth[I]*this.pixelRatio),S.capSize=this.capSize[I]*_,this.lineCount[I]&&p.drawArrays(p.LINES,this.lineOffset[I],this.lineCount[I]);this.vao.unbind()};function x(o,p){for(var S=0;S<3;++S)o[0][S]=Math.min(o[0][S],p[S]),o[1][S]=Math.max(o[1][S],p[S])}var c=function(){for(var o=new Array(3),p=0;p<3;++p){for(var S=[],A=1;A<=2;++A)for(var E=-1;E<=1;E+=2){var m=(A+p)%3,M=[0,0,0];M[m]=E,S.push(M)}o[p]=S}return o}();function b(o,p,S,A){for(var E=c[A],m=0;m<E.length;++m){var M=E[m];o.push(p[0],p[1],p[2],S[0],S[1],S[2],S[3],M[0],M[1],M[2])}return E.length}l.update=function(o){o=o||{},"lineWidth"in o&&(this.lineWidth=o.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in o&&(this.capSize=o.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in o&&(this.opacity=+o.opacity,this.opacity<1&&(this.hasAlpha=!0));var p=o.color||[[0,0,0],[0,0,0],[0,0,0]],S=o.position,A=o.error;if(Array.isArray(p[0])||(p=[p,p,p]),S&&A){var E=[],m=S.length,M=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var w=0;w<3;++w){this.lineOffset[w]=M;e:for(var i=0;i<m;++i){for(var C=S[i],y=0;y<3;++y)if(isNaN(C[y])||!isFinite(C[y]))continue e;var _=A[i],I=p[w];if(Array.isArray(I[0])&&(I=p[i]),I.length===3?I=[I[0],I[1],I[2],1]:I.length===4&&(I=[I[0],I[1],I[2],I[3]],!this.hasAlpha&&I[3]<1&&(this.hasAlpha=!0)),!(isNaN(_[0][w])||isNaN(_[1][w]))){if(_[0][w]<0){var N=C.slice();N[w]+=_[0][w],E.push(C[0],C[1],C[2],I[0],I[1],I[2],I[3],0,0,0,N[0],N[1],N[2],I[0],I[1],I[2],I[3],0,0,0),x(this.bounds,N),M+=2+b(E,N,I,w)}if(_[1][w]>0){var N=C.slice();N[w]+=_[1][w],E.push(C[0],C[1],C[2],I[0],I[1],I[2],I[3],0,0,0,N[0],N[1],N[2],I[0],I[1],I[2],I[3],0,0,0),x(this.bounds,N),M+=2+b(E,N,I,w)}}}this.lineCount[w]=M-this.lineOffset[w]}this.buffer.update(E)}},l.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function h(o){var p=o.gl,S=r(p),A=u(p,[{buffer:S,type:p.FLOAT,size:3,offset:0,stride:40},{buffer:S,type:p.FLOAT,size:4,offset:12,stride:40},{buffer:S,type:p.FLOAT,size:3,offset:28,stride:40}]),E=n(p);E.attributes.position.location=0,E.attributes.color.location=1,E.attributes.offset.location=2;var m=new f(p,S,A,E);return m.update(o),m}},7667:function(v,d,t){var r=t(6832),u=t(5158),n=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),s=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);v.exports=function(f){return u(f,n,s,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(v,d,t){var r=t(8931);v.exports=M;var u=null,n,s,f,l;function x(w){var i=w.getParameter(w.FRAMEBUFFER_BINDING),C=w.getParameter(w.RENDERBUFFER_BINDING),y=w.getParameter(w.TEXTURE_BINDING_2D);return[i,C,y]}function c(w,i){w.bindFramebuffer(w.FRAMEBUFFER,i[0]),w.bindRenderbuffer(w.RENDERBUFFER,i[1]),w.bindTexture(w.TEXTURE_2D,i[2])}function b(w,i){var C=w.getParameter(i.MAX_COLOR_ATTACHMENTS_WEBGL);u=new Array(C+1);for(var y=0;y<=C;++y){for(var _=new Array(C),I=0;I<y;++I)_[I]=w.COLOR_ATTACHMENT0+I;for(var I=y;I<C;++I)_[I]=w.NONE;u[y]=_}}function h(w){switch(w){case n:throw new Error("gl-fbo: Framebuffer unsupported");case s:throw new Error("gl-fbo: Framebuffer incomplete attachment");case f:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case l:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function o(w,i,C,y,_,I){if(!y)return null;var N=r(w,i,C,_,y);return N.magFilter=w.NEAREST,N.minFilter=w.NEAREST,N.mipSamples=1,N.bind(),w.framebufferTexture2D(w.FRAMEBUFFER,I,w.TEXTURE_2D,N.handle,0),N}function p(w,i,C,y,_){var I=w.createRenderbuffer();return w.bindRenderbuffer(w.RENDERBUFFER,I),w.renderbufferStorage(w.RENDERBUFFER,y,i,C),w.framebufferRenderbuffer(w.FRAMEBUFFER,_,w.RENDERBUFFER,I),I}function S(w){var i=x(w.gl),C=w.gl,y=w.handle=C.createFramebuffer(),_=w._shape[0],I=w._shape[1],N=w.color.length,k=w._ext,O=w._useStencil,z=w._useDepth,F=w._colorType;C.bindFramebuffer(C.FRAMEBUFFER,y);for(var B=0;B<N;++B)w.color[B]=o(C,_,I,F,C.RGBA,C.COLOR_ATTACHMENT0+B);N===0?(w._color_rb=p(C,_,I,C.RGBA4,C.COLOR_ATTACHMENT0),k&&k.drawBuffersWEBGL(u[0])):N>1&&k.drawBuffersWEBGL(u[N]);var G=C.getExtension("WEBGL_depth_texture");G?O?w.depth=o(C,_,I,G.UNSIGNED_INT_24_8_WEBGL,C.DEPTH_STENCIL,C.DEPTH_STENCIL_ATTACHMENT):z&&(w.depth=o(C,_,I,C.UNSIGNED_SHORT,C.DEPTH_COMPONENT,C.DEPTH_ATTACHMENT)):z&&O?w._depth_rb=p(C,_,I,C.DEPTH_STENCIL,C.DEPTH_STENCIL_ATTACHMENT):z?w._depth_rb=p(C,_,I,C.DEPTH_COMPONENT16,C.DEPTH_ATTACHMENT):O&&(w._depth_rb=p(C,_,I,C.STENCIL_INDEX,C.STENCIL_ATTACHMENT));var Q=C.checkFramebufferStatus(C.FRAMEBUFFER);if(Q!==C.FRAMEBUFFER_COMPLETE){w._destroyed=!0,C.bindFramebuffer(C.FRAMEBUFFER,null),C.deleteFramebuffer(w.handle),w.handle=null,w.depth&&(w.depth.dispose(),w.depth=null),w._depth_rb&&(C.deleteRenderbuffer(w._depth_rb),w._depth_rb=null);for(var B=0;B<w.color.length;++B)w.color[B].dispose(),w.color[B]=null;w._color_rb&&(C.deleteRenderbuffer(w._color_rb),w._color_rb=null),c(C,i),h(Q)}c(C,i)}function A(w,i,C,y,_,I,N,k){this.gl=w,this._shape=[i|0,C|0],this._destroyed=!1,this._ext=k,this.color=new Array(_);for(var O=0;O<_;++O)this.color[O]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=y,this._useDepth=I,this._useStencil=N;var z=this,F=[i|0,C|0];Object.defineProperties(F,{0:{get:function(){return z._shape[0]},set:function(B){return z.width=B}},1:{get:function(){return z._shape[1]},set:function(B){return z.height=B}}}),this._shapeVector=F,S(this)}var E=A.prototype;function m(w,i,C){if(w._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(w._shape[0]===i&&w._shape[1]===C)){var y=w.gl,_=y.getParameter(y.MAX_RENDERBUFFER_SIZE);if(i<0||i>_||C<0||C>_)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");w._shape[0]=i,w._shape[1]=C;for(var I=x(y),N=0;N<w.color.length;++N)w.color[N].shape=w._shape;w._color_rb&&(y.bindRenderbuffer(y.RENDERBUFFER,w._color_rb),y.renderbufferStorage(y.RENDERBUFFER,y.RGBA4,w._shape[0],w._shape[1])),w.depth&&(w.depth.shape=w._shape),w._depth_rb&&(y.bindRenderbuffer(y.RENDERBUFFER,w._depth_rb),w._useDepth&&w._useStencil?y.renderbufferStorage(y.RENDERBUFFER,y.DEPTH_STENCIL,w._shape[0],w._shape[1]):w._useDepth?y.renderbufferStorage(y.RENDERBUFFER,y.DEPTH_COMPONENT16,w._shape[0],w._shape[1]):w._useStencil&&y.renderbufferStorage(y.RENDERBUFFER,y.STENCIL_INDEX,w._shape[0],w._shape[1])),y.bindFramebuffer(y.FRAMEBUFFER,w.handle);var k=y.checkFramebufferStatus(y.FRAMEBUFFER);k!==y.FRAMEBUFFER_COMPLETE&&(w.dispose(),c(y,I),h(k)),c(y,I)}}Object.defineProperties(E,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(w){if(Array.isArray(w)||(w=[w|0,w|0]),w.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var i=w[0]|0,C=w[1]|0;return m(this,i,C),[i,C]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(w){return w=w|0,m(this,w,this._shape[1]),w},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(w){return w=w|0,m(this,this._shape[0],w),w},enumerable:!1}}),E.bind=function(){if(!this._destroyed){var w=this.gl;w.bindFramebuffer(w.FRAMEBUFFER,this.handle),w.viewport(0,0,this._shape[0],this._shape[1])}},E.dispose=function(){if(!this._destroyed){this._destroyed=!0;var w=this.gl;w.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(w.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var i=0;i<this.color.length;++i)this.color[i].dispose(),this.color[i]=null;this._color_rb&&(w.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function M(w,i,C,y){n||(n=w.FRAMEBUFFER_UNSUPPORTED,s=w.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,f=w.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,l=w.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var _=w.getExtension("WEBGL_draw_buffers");if(!u&&_&&b(w,_),Array.isArray(i)&&(y=C,C=i[1]|0,i=i[0]|0),typeof i!="number")throw new Error("gl-fbo: Missing shape parameter");var I=w.getParameter(w.MAX_RENDERBUFFER_SIZE);if(i<0||i>I||C<0||C>I)throw new Error("gl-fbo: Parameters are too large for FBO");y=y||{};var N=1;if("color"in y){if(N=Math.max(y.color|0,0),N<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(N>1)if(_){if(N>w.getParameter(_.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+N+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var k=w.UNSIGNED_BYTE,O=w.getExtension("OES_texture_float");if(y.float&&N>0){if(!O)throw new Error("gl-fbo: Context does not support floating point textures");k=w.FLOAT}else y.preferFloat&&N>0&&O&&(k=w.FLOAT);var z=!0;"depth"in y&&(z=!!y.depth);var F=!1;return"stencil"in y&&(F=!!y.stencil),new A(w,i,C,k,N,z,F,_)}},3530:function(v,d,t){var r=t(8974).sprintf,u=t(6603),n=t(9365),s=t(8008);v.exports=f;function f(l,x,c){var b=n(x)||"of unknown name (see npm glsl-shader-name)",h="unknown type";c!==void 0&&(h=c===u.FRAGMENT_SHADER?"fragment":"vertex");for(var o=r(`Error compiling %s shader %s:
`,h,b),p=r("%s%s",o,l),S=l.split(`
`),A={},E=0;E<S.length;E++){var m=S[E];if(!(m===""||m==="\0")){var M=parseInt(m.split(":")[2]);if(isNaN(M))throw new Error(r("Could not parse error: %s",m));A[M]=m}}for(var w=s(x).split(`
`),E=0;E<w.length;E++)if(!(!A[E+3]&&!A[E+2]&&!A[E+1])){var i=w[E];if(o+=i+`
`,A[E+1]){var C=A[E+1];C=C.substr(C.split(":",3).join(":").length+1).trim(),o+=r(`^^^ %s

`,C)}}return{long:o.trim(),short:p.trim()}}},6386:function(v,d,t){v.exports=h;var r=t(5070),u=t(9560),n=t(5306),s=t(5158),f=t(5827),l=t(1292);function x(o,p,S,A,E,m,M){this.plot=o,this.shader=p,this.pickShader=S,this.positionBuffer=A,this.weightBuffer=E,this.colorBuffer=m,this.idBuffer=M,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var c=x.prototype,b=[0,0,1,0,0,1,1,0,1,1,0,1];c.draw=function(){var o=[1,0,0,0,1,0,0,0,1];return function(){var p=this.plot,S=this.shader,A=this.bounds,E=this.numVertices;if(!(E<=0)){var m=p.gl,M=p.dataBox,w=A[2]-A[0],i=A[3]-A[1],C=M[2]-M[0],y=M[3]-M[1];o[0]=2*w/C,o[4]=2*i/y,o[6]=2*(A[0]-M[0])/C-1,o[7]=2*(A[1]-M[1])/y-1,S.bind();var _=S.uniforms;_.viewTransform=o,_.shape=this.shape;var I=S.attributes;this.positionBuffer.bind(),I.position.pointer(),this.weightBuffer.bind(),I.weight.pointer(m.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),I.color.pointer(m.UNSIGNED_BYTE,!0),m.drawArrays(m.TRIANGLES,0,E)}}}(),c.drawPick=function(){var o=[1,0,0,0,1,0,0,0,1],p=[0,0,0,0];return function(S){var A=this.plot,E=this.pickShader,m=this.bounds,M=this.numVertices;if(!(M<=0)){var w=A.gl,i=A.dataBox,C=m[2]-m[0],y=m[3]-m[1],_=i[2]-i[0],I=i[3]-i[1];o[0]=2*C/_,o[4]=2*y/I,o[6]=2*(m[0]-i[0])/_-1,o[7]=2*(m[1]-i[1])/I-1;for(var N=0;N<4;++N)p[N]=S>>N*8&255;this.pickOffset=S,E.bind();var k=E.uniforms;k.viewTransform=o,k.pickOffset=p,k.shape=this.shape;var O=E.attributes;return this.positionBuffer.bind(),O.position.pointer(),this.weightBuffer.bind(),O.weight.pointer(w.UNSIGNED_BYTE,!1),this.idBuffer.bind(),O.pickId.pointer(w.UNSIGNED_BYTE,!1),w.drawArrays(w.TRIANGLES,0,M),S+this.shape[0]*this.shape[1]}}}(),c.pick=function(o,p,S){var A=this.pickOffset,E=this.shape[0]*this.shape[1];if(S<A||S>=A+E)return null;var m=S-A,M=this.xData,w=this.yData;return{object:this,pointId:m,dataCoord:[M[m%this.shape[0]],w[m/this.shape[0]|0]]}},c.update=function(o){o=o||{};var p=o.shape||[0,0],S=o.x||u(p[0]),A=o.y||u(p[1]),E=o.z||new Float32Array(p[0]*p[1]),m=o.zsmooth!==!1;this.xData=S,this.yData=A;var M=o.colorLevels||[0],w=o.colorValues||[0,0,0,1],i=M.length,C=this.bounds,y,_,I,N;m?(y=C[0]=S[0],_=C[1]=A[0],I=C[2]=S[S.length-1],N=C[3]=A[A.length-1]):(y=C[0]=S[0]+(S[1]-S[0])/2,_=C[1]=A[0]+(A[1]-A[0])/2,I=C[2]=S[S.length-1]+(S[S.length-1]-S[S.length-2])/2,N=C[3]=A[A.length-1]+(A[A.length-1]-A[A.length-2])/2);var k=1/(I-y),O=1/(N-_),z=p[0],F=p[1];this.shape=[z,F];var B=(m?(z-1)*(F-1):z*F)*(b.length>>>1);this.numVertices=B;for(var G=n.mallocUint8(B*4),Q=n.mallocFloat32(B*2),ee=n.mallocUint8(B*2),ae=n.mallocUint32(B),fe=0,K=m?z-1:z,W=m?F-1:F,Z=0;Z<W;++Z){var X,$;m?(X=O*(A[Z]-_),$=O*(A[Z+1]-_)):(X=Z<F-1?O*(A[Z]-(A[Z+1]-A[Z])/2-_):O*(A[Z]-(A[Z]-A[Z-1])/2-_),$=Z<F-1?O*(A[Z]+(A[Z+1]-A[Z])/2-_):O*(A[Z]+(A[Z]-A[Z-1])/2-_));for(var ie=0;ie<K;++ie){var J,j;m?(J=k*(S[ie]-y),j=k*(S[ie+1]-y)):(J=ie<z-1?k*(S[ie]-(S[ie+1]-S[ie])/2-y):k*(S[ie]-(S[ie]-S[ie-1])/2-y),j=ie<z-1?k*(S[ie]+(S[ie+1]-S[ie])/2-y):k*(S[ie]+(S[ie]-S[ie-1])/2-y));for(var se=0;se<b.length;se+=2){var ne=b[se],ue=b[se+1],ge=m?(Z+ue)*z+(ie+ne):Z*z+ie,we=E[ge],xe=r.le(M,we),Fe,ze,Te,ye;if(xe<0)Fe=w[0],ze=w[1],Te=w[2],ye=w[3];else if(xe===i-1)Fe=w[4*i-4],ze=w[4*i-3],Te=w[4*i-2],ye=w[4*i-1];else{var Ae=(we-M[xe])/(M[xe+1]-M[xe]),Ne=1-Ae,Ue=4*xe,Re=4*(xe+1);Fe=Ne*w[Ue]+Ae*w[Re],ze=Ne*w[Ue+1]+Ae*w[Re+1],Te=Ne*w[Ue+2]+Ae*w[Re+2],ye=Ne*w[Ue+3]+Ae*w[Re+3]}G[4*fe]=255*Fe,G[4*fe+1]=255*ze,G[4*fe+2]=255*Te,G[4*fe+3]=255*ye,Q[2*fe]=J*.5+j*.5,Q[2*fe+1]=X*.5+$*.5,ee[2*fe]=ne,ee[2*fe+1]=ue,ae[fe]=Z*z+ie,fe+=1}}}this.positionBuffer.update(Q),this.weightBuffer.update(ee),this.colorBuffer.update(G),this.idBuffer.update(ae),n.free(Q),n.free(G),n.free(ee),n.free(ae)},c.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function h(o,p){var S=o.gl,A=s(S,l.vertex,l.fragment),E=s(S,l.pickVertex,l.pickFragment),m=f(S),M=f(S),w=f(S),i=f(S),C=new x(o,A,E,m,M,w,i);return C.update(p),o.addObject(C),C}},1292:function(v,d,t){var r=t(6832);v.exports={fragment:r([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},248:function(v,d,t){var r=t(6832),u=t(5158),n=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),s=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),f=r([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),l=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];d.createShader=function(x){return u(x,n,s,null,l)},d.createPickShader=function(x){return u(x,n,f,null,l)}},6086:function(v,d,t){v.exports=w;var r=t(5827),u=t(2944),n=t(8931),s=new Uint8Array(4),f=new Float32Array(s.buffer);function l(i,C,y,_){return s[0]=_,s[1]=y,s[2]=C,s[3]=i,f[0]}var x=t(5070),c=t(5050),b=t(248),h=b.createShader,o=b.createPickShader,p=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function S(i,C){for(var y=0,_=0;_<3;++_){var I=i[_]-C[_];y+=I*I}return Math.sqrt(y)}function A(i){for(var C=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],y=0;y<3;++y)C[0][y]=Math.max(i[0][y],C[0][y]),C[1][y]=Math.min(i[1][y],C[1][y]);return C}function E(i,C,y,_){this.arcLength=i,this.position=C,this.index=y,this.dataCoordinate=_}function m(i,C,y,_,I,N){this.gl=i,this.shader=C,this.pickShader=y,this.buffer=_,this.vao=I,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=N,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var M=m.prototype;M.isTransparent=function(){return this.hasAlpha},M.isOpaque=function(){return!this.hasAlpha},M.pickSlots=1,M.setPickBase=function(i){this.pickId=i},M.drawTransparent=M.draw=function(i){if(this.vertexCount){var C=this.gl,y=this.shader,_=this.vao;y.bind(),y.uniforms={model:i.model||p,view:i.view||p,projection:i.projection||p,clipBounds:A(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[C.drawingBufferWidth,C.drawingBufferHeight],pixelRatio:this.pixelRatio},_.bind(),_.draw(C.TRIANGLE_STRIP,this.vertexCount),_.unbind()}},M.drawPick=function(i){if(this.vertexCount){var C=this.gl,y=this.pickShader,_=this.vao;y.bind(),y.uniforms={model:i.model||p,view:i.view||p,projection:i.projection||p,pickId:this.pickId,clipBounds:A(this.clipBounds),screenShape:[C.drawingBufferWidth,C.drawingBufferHeight],pixelRatio:this.pixelRatio},_.bind(),_.draw(C.TRIANGLE_STRIP,this.vertexCount),_.unbind()}},M.update=function(i){var C,y;this.dirty=!0;var _=!!i.connectGaps;"dashScale"in i&&(this.dashScale=i.dashScale),this.hasAlpha=!1,"opacity"in i&&(this.opacity=+i.opacity,this.opacity<1&&(this.hasAlpha=!0));var I=[],N=[],k=[],O=0,z=0,F=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],B=i.position||i.positions;if(B){var G=i.color||i.colors||[0,0,0,1],Q=i.lineWidth||1,ee=!1;e:for(C=1;C<B.length;++C){var ae=B[C-1],fe=B[C];for(N.push(O),k.push(ae.slice()),y=0;y<3;++y){if(isNaN(ae[y])||isNaN(fe[y])||!isFinite(ae[y])||!isFinite(fe[y])){if(!_&&I.length>0){for(var K=0;K<24;++K)I.push(I[I.length-12]);z+=2,ee=!0}continue e}F[0][y]=Math.min(F[0][y],ae[y],fe[y]),F[1][y]=Math.max(F[1][y],ae[y],fe[y])}var W,Z;Array.isArray(G[0])?(W=G.length>C-1?G[C-1]:G.length>0?G[G.length-1]:[0,0,0,1],Z=G.length>C?G[C]:G.length>0?G[G.length-1]:[0,0,0,1]):W=Z=G,W.length===3&&(W=[W[0],W[1],W[2],1]),Z.length===3&&(Z=[Z[0],Z[1],Z[2],1]),!this.hasAlpha&&W[3]<1&&(this.hasAlpha=!0);var X;Array.isArray(Q)?X=Q.length>C-1?Q[C-1]:Q.length>0?Q[Q.length-1]:[0,0,0,1]:X=Q;var $=O;if(O+=S(ae,fe),ee){for(y=0;y<2;++y)I.push(ae[0],ae[1],ae[2],fe[0],fe[1],fe[2],$,X,W[0],W[1],W[2],W[3]);z+=2,ee=!1}I.push(ae[0],ae[1],ae[2],fe[0],fe[1],fe[2],$,X,W[0],W[1],W[2],W[3],ae[0],ae[1],ae[2],fe[0],fe[1],fe[2],$,-X,W[0],W[1],W[2],W[3],fe[0],fe[1],fe[2],ae[0],ae[1],ae[2],O,-X,Z[0],Z[1],Z[2],Z[3],fe[0],fe[1],fe[2],ae[0],ae[1],ae[2],O,X,Z[0],Z[1],Z[2],Z[3]),z+=4}}if(this.buffer.update(I),N.push(O),k.push(B[B.length-1].slice()),this.bounds=F,this.vertexCount=z,this.points=k,this.arcLength=N,"dashes"in i){var ie=i.dashes,J=ie.slice();for(J.unshift(0),C=1;C<J.length;++C)J[C]=J[C-1]+J[C];var j=c(new Array(256*4),[256,1,4]);for(C=0;C<256;++C){for(y=0;y<4;++y)j.set(C,0,y,0);x.le(J,J[J.length-1]*C/255)&1?j.set(C,0,0,0):j.set(C,0,0,255)}this.texture.setPixels(j)}},M.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},M.pick=function(i){if(!i||i.id!==this.pickId)return null;var C=l(i.value[0],i.value[1],i.value[2],0),y=x.le(this.arcLength,C);if(y<0)return null;if(y===this.arcLength.length-1)return new E(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),y);for(var _=this.points[y],I=this.points[Math.min(y+1,this.points.length-1)],N=(C-this.arcLength[y])/(this.arcLength[y+1]-this.arcLength[y]),k=1-N,O=[0,0,0],z=0;z<3;++z)O[z]=k*_[z]+N*I[z];var F=Math.min(N<.5?y:y+1,this.points.length-1);return new E(C,O,F,this.points[F])};function w(i){var C=i.gl||i.scene&&i.scene.gl,y=h(C);y.attributes.position.location=0,y.attributes.nextPosition.location=1,y.attributes.arcLength.location=2,y.attributes.lineWidth.location=3,y.attributes.color.location=4;var _=o(C);_.attributes.position.location=0,_.attributes.nextPosition.location=1,_.attributes.arcLength.location=2,_.attributes.lineWidth.location=3,_.attributes.color.location=4;for(var I=r(C),N=u(C,[{buffer:I,size:3,offset:0,stride:48},{buffer:I,size:3,offset:12,stride:48},{buffer:I,size:1,offset:24,stride:48},{buffer:I,size:1,offset:28,stride:48},{buffer:I,size:4,offset:32,stride:48}]),k=c(new Array(256*4),[256,1,4]),O=0;O<1024;++O)k.data[O]=255;var z=n(C,k);z.wrap=C.REPEAT;var F=new m(C,y,_,I,N,z);return F.update(i),F}},7332:function(v){v.exports=d;function d(t){var r=new Float32Array(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}},9823:function(v){v.exports=d;function d(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7787:function(v){v.exports=d;function d(t){var r=t[0],u=t[1],n=t[2],s=t[3],f=t[4],l=t[5],x=t[6],c=t[7],b=t[8],h=t[9],o=t[10],p=t[11],S=t[12],A=t[13],E=t[14],m=t[15],M=r*l-u*f,w=r*x-n*f,i=r*c-s*f,C=u*x-n*l,y=u*c-s*l,_=n*c-s*x,I=b*A-h*S,N=b*E-o*S,k=b*m-p*S,O=h*E-o*A,z=h*m-p*A,F=o*m-p*E;return M*F-w*z+i*O+C*k-y*N+_*I}},5950:function(v){v.exports=d;function d(t,r){var u=r[0],n=r[1],s=r[2],f=r[3],l=u+u,x=n+n,c=s+s,b=u*l,h=n*l,o=n*x,p=s*l,S=s*x,A=s*c,E=f*l,m=f*x,M=f*c;return t[0]=1-o-A,t[1]=h+M,t[2]=p-m,t[3]=0,t[4]=h-M,t[5]=1-b-A,t[6]=S+E,t[7]=0,t[8]=p+m,t[9]=S-E,t[10]=1-b-o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7280:function(v){v.exports=d;function d(t,r,u){var n=r[0],s=r[1],f=r[2],l=r[3],x=n+n,c=s+s,b=f+f,h=n*x,o=n*c,p=n*b,S=s*c,A=s*b,E=f*b,m=l*x,M=l*c,w=l*b;return t[0]=1-(S+E),t[1]=o+w,t[2]=p-M,t[3]=0,t[4]=o-w,t[5]=1-(h+E),t[6]=A+m,t[7]=0,t[8]=p+M,t[9]=A-m,t[10]=1-(h+S),t[11]=0,t[12]=u[0],t[13]=u[1],t[14]=u[2],t[15]=1,t}},9947:function(v){v.exports=d;function d(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7437:function(v){v.exports=d;function d(t,r){var u=r[0],n=r[1],s=r[2],f=r[3],l=r[4],x=r[5],c=r[6],b=r[7],h=r[8],o=r[9],p=r[10],S=r[11],A=r[12],E=r[13],m=r[14],M=r[15],w=u*x-n*l,i=u*c-s*l,C=u*b-f*l,y=n*c-s*x,_=n*b-f*x,I=s*b-f*c,N=h*E-o*A,k=h*m-p*A,O=h*M-S*A,z=o*m-p*E,F=o*M-S*E,B=p*M-S*m,G=w*B-i*F+C*z+y*O-_*k+I*N;return G?(G=1/G,t[0]=(x*B-c*F+b*z)*G,t[1]=(s*F-n*B-f*z)*G,t[2]=(E*I-m*_+M*y)*G,t[3]=(p*_-o*I-S*y)*G,t[4]=(c*O-l*B-b*k)*G,t[5]=(u*B-s*O+f*k)*G,t[6]=(m*C-A*I-M*i)*G,t[7]=(h*I-p*C+S*i)*G,t[8]=(l*F-x*O+b*N)*G,t[9]=(n*O-u*F-f*N)*G,t[10]=(A*_-E*C+M*w)*G,t[11]=(o*C-h*_-S*w)*G,t[12]=(x*k-l*z-c*N)*G,t[13]=(u*z-n*k+s*N)*G,t[14]=(E*i-A*y-m*w)*G,t[15]=(h*y-o*i+p*w)*G,t):null}},3012:function(v,d,t){var r=t(9947);v.exports=u;function u(n,s,f,l){var x,c,b,h,o,p,S,A,E,m,M=s[0],w=s[1],i=s[2],C=l[0],y=l[1],_=l[2],I=f[0],N=f[1],k=f[2];return Math.abs(M-I)<1e-6&&Math.abs(w-N)<1e-6&&Math.abs(i-k)<1e-6?r(n):(S=M-I,A=w-N,E=i-k,m=1/Math.sqrt(S*S+A*A+E*E),S*=m,A*=m,E*=m,x=y*E-_*A,c=_*S-C*E,b=C*A-y*S,m=Math.sqrt(x*x+c*c+b*b),m?(m=1/m,x*=m,c*=m,b*=m):(x=0,c=0,b=0),h=A*b-E*c,o=E*x-S*b,p=S*c-A*x,m=Math.sqrt(h*h+o*o+p*p),m?(m=1/m,h*=m,o*=m,p*=m):(h=0,o=0,p=0),n[0]=x,n[1]=h,n[2]=S,n[3]=0,n[4]=c,n[5]=o,n[6]=A,n[7]=0,n[8]=b,n[9]=p,n[10]=E,n[11]=0,n[12]=-(x*M+c*w+b*i),n[13]=-(h*M+o*w+p*i),n[14]=-(S*M+A*w+E*i),n[15]=1,n)}},104:function(v){v.exports=d;function d(t,r,u){var n=r[0],s=r[1],f=r[2],l=r[3],x=r[4],c=r[5],b=r[6],h=r[7],o=r[8],p=r[9],S=r[10],A=r[11],E=r[12],m=r[13],M=r[14],w=r[15],i=u[0],C=u[1],y=u[2],_=u[3];return t[0]=i*n+C*x+y*o+_*E,t[1]=i*s+C*c+y*p+_*m,t[2]=i*f+C*b+y*S+_*M,t[3]=i*l+C*h+y*A+_*w,i=u[4],C=u[5],y=u[6],_=u[7],t[4]=i*n+C*x+y*o+_*E,t[5]=i*s+C*c+y*p+_*m,t[6]=i*f+C*b+y*S+_*M,t[7]=i*l+C*h+y*A+_*w,i=u[8],C=u[9],y=u[10],_=u[11],t[8]=i*n+C*x+y*o+_*E,t[9]=i*s+C*c+y*p+_*m,t[10]=i*f+C*b+y*S+_*M,t[11]=i*l+C*h+y*A+_*w,i=u[12],C=u[13],y=u[14],_=u[15],t[12]=i*n+C*x+y*o+_*E,t[13]=i*s+C*c+y*p+_*m,t[14]=i*f+C*b+y*S+_*M,t[15]=i*l+C*h+y*A+_*w,t}},5268:function(v){v.exports=d;function d(t,r,u,n,s,f,l){var x=1/(r-u),c=1/(n-s),b=1/(f-l);return t[0]=-2*x,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*b,t[11]=0,t[12]=(r+u)*x,t[13]=(s+n)*c,t[14]=(l+f)*b,t[15]=1,t}},1120:function(v){v.exports=d;function d(t,r,u,n,s){var f=1/Math.tan(r/2),l=1/(n-s);return t[0]=f/u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=f,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(s+n)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*s*n*l,t[15]=0,t}},4422:function(v){v.exports=d;function d(t,r,u,n){var s=n[0],f=n[1],l=n[2],x=Math.sqrt(s*s+f*f+l*l),c,b,h,o,p,S,A,E,m,M,w,i,C,y,_,I,N,k,O,z,F,B,G,Q;return Math.abs(x)<1e-6?null:(x=1/x,s*=x,f*=x,l*=x,c=Math.sin(u),b=Math.cos(u),h=1-b,o=r[0],p=r[1],S=r[2],A=r[3],E=r[4],m=r[5],M=r[6],w=r[7],i=r[8],C=r[9],y=r[10],_=r[11],I=s*s*h+b,N=f*s*h+l*c,k=l*s*h-f*c,O=s*f*h-l*c,z=f*f*h+b,F=l*f*h+s*c,B=s*l*h+f*c,G=f*l*h-s*c,Q=l*l*h+b,t[0]=o*I+E*N+i*k,t[1]=p*I+m*N+C*k,t[2]=S*I+M*N+y*k,t[3]=A*I+w*N+_*k,t[4]=o*O+E*z+i*F,t[5]=p*O+m*z+C*F,t[6]=S*O+M*z+y*F,t[7]=A*O+w*z+_*F,t[8]=o*B+E*G+i*Q,t[9]=p*B+m*G+C*Q,t[10]=S*B+M*G+y*Q,t[11]=A*B+w*G+_*Q,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)}},6109:function(v){v.exports=d;function d(t,r,u){var n=Math.sin(u),s=Math.cos(u),f=r[4],l=r[5],x=r[6],c=r[7],b=r[8],h=r[9],o=r[10],p=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=f*s+b*n,t[5]=l*s+h*n,t[6]=x*s+o*n,t[7]=c*s+p*n,t[8]=b*s-f*n,t[9]=h*s-l*n,t[10]=o*s-x*n,t[11]=p*s-c*n,t}},7115:function(v){v.exports=d;function d(t,r,u){var n=Math.sin(u),s=Math.cos(u),f=r[0],l=r[1],x=r[2],c=r[3],b=r[8],h=r[9],o=r[10],p=r[11];return r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=f*s-b*n,t[1]=l*s-h*n,t[2]=x*s-o*n,t[3]=c*s-p*n,t[8]=f*n+b*s,t[9]=l*n+h*s,t[10]=x*n+o*s,t[11]=c*n+p*s,t}},5240:function(v){v.exports=d;function d(t,r,u){var n=Math.sin(u),s=Math.cos(u),f=r[0],l=r[1],x=r[2],c=r[3],b=r[4],h=r[5],o=r[6],p=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=f*s+b*n,t[1]=l*s+h*n,t[2]=x*s+o*n,t[3]=c*s+p*n,t[4]=b*s-f*n,t[5]=h*s-l*n,t[6]=o*s-x*n,t[7]=p*s-c*n,t}},3668:function(v){v.exports=d;function d(t,r,u){var n=u[0],s=u[1],f=u[2];return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=r[7]*s,t[8]=r[8]*f,t[9]=r[9]*f,t[10]=r[10]*f,t[11]=r[11]*f,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}},998:function(v){v.exports=d;function d(t,r,u){var n=u[0],s=u[1],f=u[2],l,x,c,b,h,o,p,S,A,E,m,M;return r===t?(t[12]=r[0]*n+r[4]*s+r[8]*f+r[12],t[13]=r[1]*n+r[5]*s+r[9]*f+r[13],t[14]=r[2]*n+r[6]*s+r[10]*f+r[14],t[15]=r[3]*n+r[7]*s+r[11]*f+r[15]):(l=r[0],x=r[1],c=r[2],b=r[3],h=r[4],o=r[5],p=r[6],S=r[7],A=r[8],E=r[9],m=r[10],M=r[11],t[0]=l,t[1]=x,t[2]=c,t[3]=b,t[4]=h,t[5]=o,t[6]=p,t[7]=S,t[8]=A,t[9]=E,t[10]=m,t[11]=M,t[12]=l*n+h*s+A*f+r[12],t[13]=x*n+o*s+E*f+r[13],t[14]=c*n+p*s+m*f+r[14],t[15]=b*n+S*s+M*f+r[15]),t}},2142:function(v){v.exports=d;function d(t,r){if(t===r){var u=r[1],n=r[2],s=r[3],f=r[6],l=r[7],x=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=u,t[6]=r[9],t[7]=r[13],t[8]=n,t[9]=f,t[11]=r[14],t[12]=s,t[13]=l,t[14]=x}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15];return t}},4340:function(v,d,t){var r=t(957),u=t(7309);v.exports=x;function n(c,b){for(var h=[0,0,0,0],o=0;o<4;++o)for(var p=0;p<4;++p)h[p]+=c[4*o+p]*b[o];return h}function s(c,b,h,o,p){for(var S=n(o,n(h,n(b,[c[0],c[1],c[2],1]))),A=0;A<3;++A)S[A]/=S[3];return[.5*p[0]*(1+S[0]),.5*p[1]*(1-S[1])]}function f(c,b){if(c.length===2){for(var h=0,o=0,p=0;p<2;++p)h+=Math.pow(b[p]-c[0][p],2),o+=Math.pow(b[p]-c[1][p],2);return h=Math.sqrt(h),o=Math.sqrt(o),h+o<1e-6?[1,0]:[o/(h+o),h/(o+h)]}else if(c.length===3){var S=[0,0];return u(c[0],c[1],c[2],b,S),r(c,S)}return[]}function l(c,b){for(var h=[0,0,0],o=0;o<c.length;++o)for(var p=c[o],S=b[o],A=0;A<3;++A)h[A]+=S*p[A];return h}function x(c,b,h,o,p,S){if(c.length===1)return[0,c[0].slice()];for(var A=new Array(c.length),E=0;E<c.length;++E)A[E]=s(c[E],h,o,p,S);for(var m=0,M=1/0,E=0;E<A.length;++E){for(var w=0,i=0;i<2;++i)w+=Math.pow(A[E][i]-b[i],2);w<M&&(M=w,m=E)}for(var C=f(A,b),y=0,E=0;E<3;++E){if(C[E]<-.001||C[E]>1.0001)return null;y+=C[E]}return Math.abs(y-1)>.001?null:[m,l(c,C),C]}},2056:function(v,d,t){var r=t(6832),u=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),n=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),s=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),f=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),l=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),x=r([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),c=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),b=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),h=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),o=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),p=r([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);d.meshShader={vertex:u,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},d.wireShader={vertex:s,fragment:f,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},d.pointShader={vertex:l,fragment:x,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},d.pickShader={vertex:c,fragment:b,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},d.pointPickShader={vertex:h,fragment:b,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},d.contourShader={vertex:o,fragment:p,attributes:[{name:"position",type:"vec3"}]}},8116:function(v,d,t){var r=1e-6,u=1e-6,n=t(5158),s=t(5827),f=t(2944),l=t(8931),x=t(115),c=t(104),b=t(7437),h=t(5050),o=t(9156),p=t(7212),S=t(5306),A=t(2056),E=t(4340),m=A.meshShader,M=A.wireShader,w=A.pointShader,i=A.pickShader,C=A.pointPickShader,y=A.contourShader,_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function I(K,W,Z,X,$,ie,J,j,se,ne,ue,ge,we,xe,Fe,ze,Te,ye,Ae,Ne,Ue,Re,Ve,rt,Qe,Je,qe){this.gl=K,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=W,this.dirty=!0,this.triShader=Z,this.lineShader=X,this.pointShader=$,this.pickShader=ie,this.pointPickShader=J,this.contourShader=j,this.trianglePositions=se,this.triangleColors=ue,this.triangleNormals=we,this.triangleUVs=ge,this.triangleIds=ne,this.triangleVAO=xe,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Fe,this.edgeColors=Te,this.edgeUVs=ye,this.edgeIds=ze,this.edgeVAO=Ae,this.edgeCount=0,this.pointPositions=Ne,this.pointColors=Re,this.pointUVs=Ve,this.pointSizes=rt,this.pointIds=Ue,this.pointVAO=Qe,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=Je,this.contourVAO=qe,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=_,this._view=_,this._projection=_,this._resolution=[1,1]}var N=I.prototype;N.isOpaque=function(){return!this.hasAlpha},N.isTransparent=function(){return this.hasAlpha},N.pickSlots=1,N.setPickBase=function(K){this.pickId=K};function k(K,W){if(!W||!W.length)return 1;for(var Z=0;Z<W.length;++Z){if(W.length<2)return 1;if(W[Z][0]===K)return W[Z][1];if(W[Z][0]>K&&Z>0){var X=(W[Z][0]-K)/(W[Z][0]-W[Z-1][0]);return W[Z][1]*(1-X)+X*W[Z-1][1]}}return 1}function O(K,W){for(var Z=o({colormap:K,nshades:256,format:"rgba"}),X=new Uint8Array(256*4),$=0;$<256;++$){for(var ie=Z[$],J=0;J<3;++J)X[4*$+J]=ie[J];W?X[4*$+3]=255*k($/255,W):X[4*$+3]=255*ie[3]}return h(X,[256,256,4],[4,0,1])}function z(K){for(var W=K.length,Z=new Array(W),X=0;X<W;++X)Z[X]=K[X][2];return Z}N.highlight=function(K){if(!K||!this.contourEnable){this.contourCount=0;return}for(var W=p(this.cells,this.intensity,K.intensity),Z=W.cells,X=W.vertexIds,$=W.vertexWeights,ie=Z.length,J=S.mallocFloat32(2*3*ie),j=0,se=0;se<ie;++se)for(var ne=Z[se],ue=0;ue<2;++ue){var ge=ne[0];ne.length===2&&(ge=ne[ue]);for(var we=X[ge][0],xe=X[ge][1],Fe=$[ge],ze=1-Fe,Te=this.positions[we],ye=this.positions[xe],Ae=0;Ae<3;++Ae)J[j++]=Fe*Te[Ae]+ze*ye[Ae]}this.contourCount=j/3|0,this.contourPositions.update(J.subarray(0,j)),S.free(J)},N.update=function(K){K=K||{};var W=this.gl;this.dirty=!0,"contourEnable"in K&&(this.contourEnable=K.contourEnable),"contourColor"in K&&(this.contourColor=K.contourColor),"lineWidth"in K&&(this.lineWidth=K.lineWidth),"lightPosition"in K&&(this.lightPosition=K.lightPosition),this.hasAlpha=!1,"opacity"in K&&(this.opacity=K.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in K&&(this.opacityscale=K.opacityscale,this.hasAlpha=!0),"ambient"in K&&(this.ambientLight=K.ambient),"diffuse"in K&&(this.diffuseLight=K.diffuse),"specular"in K&&(this.specularLight=K.specular),"roughness"in K&&(this.roughness=K.roughness),"fresnel"in K&&(this.fresnel=K.fresnel),K.texture?(this.texture.dispose(),this.texture=l(W,K.texture)):K.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=W.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=W.LINEAR,this.texture.setPixels(O(K.colormap,this.opacityscale)),this.texture.generateMipmap());var Z=K.cells,X=K.positions;if(!(!X||!Z)){var $=[],ie=[],J=[],j=[],se=[],ne=[],ue=[],ge=[],we=[],xe=[],Fe=[],ze=[],Te=[],ye=[];this.cells=Z,this.positions=X;var Ae=K.vertexNormals,Ne=K.cellNormals,Ue=K.vertexNormalsEpsilon===void 0?r:K.vertexNormalsEpsilon,Re=K.faceNormalsEpsilon===void 0?u:K.faceNormalsEpsilon;K.useFacetNormals&&!Ne&&(Ne=x.faceNormals(Z,X,Re)),!Ne&&!Ae&&(Ae=x.vertexNormals(Z,X,Ue));var Ve=K.vertexColors,rt=K.cellColors,Qe=K.meshColor||[1,1,1,1],Je=K.vertexUVs,qe=K.vertexIntensity,dt=K.cellUVs,pt=K.cellIntensity,mt=1/0,Ct=-1/0;if(!Je&&!dt)if(qe)if(K.vertexIntensityBounds)mt=+K.vertexIntensityBounds[0],Ct=+K.vertexIntensityBounds[1];else for(var Rt=0;Rt<qe.length;++Rt){var Zt=qe[Rt];mt=Math.min(mt,Zt),Ct=Math.max(Ct,Zt)}else if(pt)if(K.cellIntensityBounds)mt=+K.cellIntensityBounds[0],Ct=+K.cellIntensityBounds[1];else for(var Rt=0;Rt<pt.length;++Rt){var Zt=pt[Rt];mt=Math.min(mt,Zt),Ct=Math.max(Ct,Zt)}else for(var Rt=0;Rt<X.length;++Rt){var Zt=X[Rt][2];mt=Math.min(mt,Zt),Ct=Math.max(Ct,Zt)}qe?this.intensity=qe:pt?this.intensity=pt:this.intensity=z(X),this.pickVertex=!(pt||rt);var Xe=K.pointSizes,Le=K.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Rt=0;Rt<X.length;++Rt)for(var Pe=X[Rt],ke=0;ke<3;++ke)isNaN(Pe[ke])||!isFinite(Pe[ke])||(this.bounds[0][ke]=Math.min(this.bounds[0][ke],Pe[ke]),this.bounds[1][ke]=Math.max(this.bounds[1][ke],Pe[ke]));var Ce=0,me=0,oe=0;e:for(var Rt=0;Rt<Z.length;++Rt){var pe=Z[Rt];switch(pe.length){case 1:for(var Me=pe[0],Pe=X[Me],ke=0;ke<3;++ke)if(isNaN(Pe[ke])||!isFinite(Pe[ke]))continue e;xe.push(Pe[0],Pe[1],Pe[2]);var _e;Ve?_e=Ve[Me]:rt?_e=rt[Rt]:_e=Qe,this.opacityscale&&qe?ie.push(_e[0],_e[1],_e[2],this.opacity*k((qe[Me]-mt)/(Ct-mt),this.opacityscale)):_e.length===3?Fe.push(_e[0],_e[1],_e[2],this.opacity):(Fe.push(_e[0],_e[1],_e[2],_e[3]*this.opacity),_e[3]<1&&(this.hasAlpha=!0));var tt;Je?tt=Je[Me]:qe?tt=[(qe[Me]-mt)/(Ct-mt),0]:dt?tt=dt[Rt]:pt?tt=[(pt[Rt]-mt)/(Ct-mt),0]:tt=[(Pe[2]-mt)/(Ct-mt),0],ze.push(tt[0],tt[1]),Xe?Te.push(Xe[Me]):Te.push(Le),ye.push(Rt),oe+=1;break;case 2:for(var ke=0;ke<2;++ke)for(var Me=pe[ke],Pe=X[Me],at=0;at<3;++at)if(isNaN(Pe[at])||!isFinite(Pe[at]))continue e;for(var ke=0;ke<2;++ke){var Me=pe[ke],Pe=X[Me];ne.push(Pe[0],Pe[1],Pe[2]);var _e;Ve?_e=Ve[Me]:rt?_e=rt[Rt]:_e=Qe,this.opacityscale&&qe?ie.push(_e[0],_e[1],_e[2],this.opacity*k((qe[Me]-mt)/(Ct-mt),this.opacityscale)):_e.length===3?ue.push(_e[0],_e[1],_e[2],this.opacity):(ue.push(_e[0],_e[1],_e[2],_e[3]*this.opacity),_e[3]<1&&(this.hasAlpha=!0));var tt;Je?tt=Je[Me]:qe?tt=[(qe[Me]-mt)/(Ct-mt),0]:dt?tt=dt[Rt]:pt?tt=[(pt[Rt]-mt)/(Ct-mt),0]:tt=[(Pe[2]-mt)/(Ct-mt),0],ge.push(tt[0],tt[1]),we.push(Rt)}me+=1;break;case 3:for(var ke=0;ke<3;++ke)for(var Me=pe[ke],Pe=X[Me],at=0;at<3;++at)if(isNaN(Pe[at])||!isFinite(Pe[at]))continue e;for(var ke=0;ke<3;++ke){var Me=pe[2-ke],Pe=X[Me];$.push(Pe[0],Pe[1],Pe[2]);var _e;Ve?_e=Ve[Me]:rt?_e=rt[Rt]:_e=Qe,_e?this.opacityscale&&qe?ie.push(_e[0],_e[1],_e[2],this.opacity*k((qe[Me]-mt)/(Ct-mt),this.opacityscale)):_e.length===3?ie.push(_e[0],_e[1],_e[2],this.opacity):(ie.push(_e[0],_e[1],_e[2],_e[3]*this.opacity),_e[3]<1&&(this.hasAlpha=!0)):ie.push(.5,.5,.5,1);var tt;Je?tt=Je[Me]:qe?tt=[(qe[Me]-mt)/(Ct-mt),0]:dt?tt=dt[Rt]:pt?tt=[(pt[Rt]-mt)/(Ct-mt),0]:tt=[(Pe[2]-mt)/(Ct-mt),0],j.push(tt[0],tt[1]);var At;Ae?At=Ae[Me]:At=Ne[Rt],J.push(At[0],At[1],At[2]),se.push(Rt)}Ce+=1;break}}this.pointCount=oe,this.edgeCount=me,this.triangleCount=Ce,this.pointPositions.update(xe),this.pointColors.update(Fe),this.pointUVs.update(ze),this.pointSizes.update(Te),this.pointIds.update(new Uint32Array(ye)),this.edgePositions.update(ne),this.edgeColors.update(ue),this.edgeUVs.update(ge),this.edgeIds.update(new Uint32Array(we)),this.trianglePositions.update($),this.triangleColors.update(ie),this.triangleUVs.update(j),this.triangleNormals.update(J),this.triangleIds.update(new Uint32Array(se))}},N.drawTransparent=N.draw=function(K){K=K||{};for(var W=this.gl,Z=K.model||_,X=K.view||_,$=K.projection||_,ie=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],J=0;J<3;++J)ie[0][J]=Math.max(ie[0][J],this.clipBounds[0][J]),ie[1][J]=Math.min(ie[1][J],this.clipBounds[1][J]);var j={model:Z,view:X,projection:$,inverseModel:_.slice(),clipBounds:ie,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};j.inverseModel=b(j.inverseModel,j.model),W.disable(W.CULL_FACE),this.texture.bind(0);var se=new Array(16);c(se,j.view,j.model),c(se,j.projection,se),b(se,se);for(var J=0;J<3;++J)j.eyePosition[J]=se[12+J]/se[15];for(var ne=se[15],J=0;J<3;++J)ne+=this.lightPosition[J]*se[4*J+3];for(var J=0;J<3;++J){for(var ue=se[12+J],ge=0;ge<3;++ge)ue+=se[4*ge+J]*this.lightPosition[ge];j.lightPosition[J]=ue/ne}if(this.triangleCount>0){var we=this.triShader;we.bind(),we.uniforms=j,this.triangleVAO.bind(),W.drawArrays(W.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var we=this.lineShader;we.bind(),we.uniforms=j,this.edgeVAO.bind(),W.lineWidth(this.lineWidth*this.pixelRatio),W.drawArrays(W.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var we=this.pointShader;we.bind(),we.uniforms=j,this.pointVAO.bind(),W.drawArrays(W.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var we=this.contourShader;we.bind(),we.uniforms=j,this.contourVAO.bind(),W.drawArrays(W.LINES,0,this.contourCount),this.contourVAO.unbind()}},N.drawPick=function(K){K=K||{};for(var W=this.gl,Z=K.model||_,X=K.view||_,$=K.projection||_,ie=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],J=0;J<3;++J)ie[0][J]=Math.max(ie[0][J],this.clipBounds[0][J]),ie[1][J]=Math.min(ie[1][J],this.clipBounds[1][J]);this._model=[].slice.call(Z),this._view=[].slice.call(X),this._projection=[].slice.call($),this._resolution=[W.drawingBufferWidth,W.drawingBufferHeight];var j={model:Z,view:X,projection:$,clipBounds:ie,pickId:this.pickId/255},se=this.pickShader;if(se.bind(),se.uniforms=j,this.triangleCount>0&&(this.triangleVAO.bind(),W.drawArrays(W.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),W.lineWidth(this.lineWidth*this.pixelRatio),W.drawArrays(W.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var se=this.pointPickShader;se.bind(),se.uniforms=j,this.pointVAO.bind(),W.drawArrays(W.POINTS,0,this.pointCount),this.pointVAO.unbind()}},N.pick=function(K){if(!K||K.id!==this.pickId)return null;for(var W=K.value[0]+256*K.value[1]+65536*K.value[2],Z=this.cells[W],X=this.positions,$=new Array(Z.length),ie=0;ie<Z.length;++ie)$[ie]=X[Z[ie]];var J=K.coord[0],j=K.coord[1];if(!this.pickVertex){var se=this.positions[Z[0]],ne=this.positions[Z[1]],ue=this.positions[Z[2]],ge=[(se[0]+ne[0]+ue[0])/3,(se[1]+ne[1]+ue[1])/3,(se[2]+ne[2]+ue[2])/3];return{_cellCenter:!0,position:[J,j],index:W,cell:Z,cellId:W,intensity:this.intensity[W],dataCoordinate:ge}}var we=E($,[J*this.pixelRatio,this._resolution[1]-j*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!we)return null;for(var xe=we[2],Fe=0,ie=0;ie<Z.length;++ie)Fe+=xe[ie]*this.intensity[Z[ie]];return{position:we[1],index:Z[we[0]],cell:Z,cellId:W,intensity:Fe,dataCoordinate:this.positions[Z[we[0]]]}},N.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function F(K){var W=n(K,m.vertex,m.fragment);return W.attributes.position.location=0,W.attributes.color.location=2,W.attributes.uv.location=3,W.attributes.normal.location=4,W}function B(K){var W=n(K,M.vertex,M.fragment);return W.attributes.position.location=0,W.attributes.color.location=2,W.attributes.uv.location=3,W}function G(K){var W=n(K,w.vertex,w.fragment);return W.attributes.position.location=0,W.attributes.color.location=2,W.attributes.uv.location=3,W.attributes.pointSize.location=4,W}function Q(K){var W=n(K,i.vertex,i.fragment);return W.attributes.position.location=0,W.attributes.id.location=1,W}function ee(K){var W=n(K,C.vertex,C.fragment);return W.attributes.position.location=0,W.attributes.id.location=1,W.attributes.pointSize.location=4,W}function ae(K){var W=n(K,y.vertex,y.fragment);return W.attributes.position.location=0,W}function fe(K,W){arguments.length===1&&(W=K,K=W.gl);var Z=K.getExtension("OES_standard_derivatives")||K.getExtension("MOZ_OES_standard_derivatives")||K.getExtension("WEBKIT_OES_standard_derivatives");if(!Z)throw new Error("derivatives not supported");var X=F(K),$=B(K),ie=G(K),J=Q(K),j=ee(K),se=ae(K),ne=l(K,h(new Uint8Array([255,255,255,255]),[1,1,4]));ne.generateMipmap(),ne.minFilter=K.LINEAR_MIPMAP_LINEAR,ne.magFilter=K.LINEAR;var ue=s(K),ge=s(K),we=s(K),xe=s(K),Fe=s(K),ze=f(K,[{buffer:ue,type:K.FLOAT,size:3},{buffer:Fe,type:K.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ge,type:K.FLOAT,size:4},{buffer:we,type:K.FLOAT,size:2},{buffer:xe,type:K.FLOAT,size:3}]),Te=s(K),ye=s(K),Ae=s(K),Ne=s(K),Ue=f(K,[{buffer:Te,type:K.FLOAT,size:3},{buffer:Ne,type:K.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ye,type:K.FLOAT,size:4},{buffer:Ae,type:K.FLOAT,size:2}]),Re=s(K),Ve=s(K),rt=s(K),Qe=s(K),Je=s(K),qe=f(K,[{buffer:Re,type:K.FLOAT,size:3},{buffer:Je,type:K.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Ve,type:K.FLOAT,size:4},{buffer:rt,type:K.FLOAT,size:2},{buffer:Qe,type:K.FLOAT,size:1}]),dt=s(K),pt=f(K,[{buffer:dt,type:K.FLOAT,size:3}]),mt=new I(K,ne,X,$,ie,J,j,se,ue,Fe,ge,we,xe,ze,Te,Ne,ye,Ae,Ue,Re,Je,Ve,rt,Qe,qe,dt,pt);return mt.update(W),mt}v.exports=fe},4554:function(v,d,t){v.exports=l;var r=t(5827),u=t(5158),n=t(2709);function s(x,c,b){this.plot=x,this.vbo=c,this.shader=b}var f=s.prototype;f.bind=function(){var x=this.shader;this.vbo.bind(),this.shader.bind(),x.attributes.coord.pointer(),x.uniforms.screenBox=this.plot.screenBox},f.drawBox=function(){var x=[0,0],c=[0,0];return function(b,h,o,p,S){var A=this.plot,E=this.shader,m=A.gl;x[0]=b,x[1]=h,c[0]=o,c[1]=p,E.uniforms.lo=x,E.uniforms.hi=c,E.uniforms.color=S,m.drawArrays(m.TRIANGLE_STRIP,0,4)}}(),f.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function l(x){var c=x.gl,b=r(c,[0,0,0,1,1,0,1,1]),h=u(c,n.boxVert,n.lineFrag);return new s(x,b,h)}},3016:function(v,d,t){v.exports=c;var r=t(5827),u=t(5158),n=t(5070),s=t(2709);function f(b,h,o,p){this.plot=b,this.vbo=h,this.shader=o,this.tickShader=p,this.ticks=[[],[]]}function l(b,h){return b-h}var x=f.prototype;x.draw=function(){var b=[0,0],h=[0,0],o=[0,0];return function(){for(var p=this.plot,S=this.vbo,A=this.shader,E=this.ticks,m=p.gl,M=p._tickBounds,w=p.dataBox,i=p.viewBox,C=p.gridLineWidth,y=p.gridLineColor,_=p.gridLineEnable,I=p.pixelRatio,N=0;N<2;++N){var k=M[N],O=M[N+2],z=O-k,F=.5*(w[N+2]+w[N]),B=w[N+2]-w[N];h[N]=2*z/B,b[N]=2*(k-F)/B}A.bind(),S.bind(),A.attributes.dataCoord.pointer(),A.uniforms.dataShift=b,A.uniforms.dataScale=h;for(var G=0,N=0;N<2;++N){o[0]=o[1]=0,o[N]=1,A.uniforms.dataAxis=o,A.uniforms.lineWidth=C[N]/(i[N+2]-i[N])*I,A.uniforms.color=y[N];var Q=E[N].length*6;_[N]&&Q&&m.drawArrays(m.TRIANGLES,G,Q),G+=Q}}}(),x.drawTickMarks=function(){var b=[0,0],h=[0,0],o=[1,0],p=[0,1],S=[0,0],A=[0,0];return function(){for(var E=this.plot,m=this.vbo,M=this.tickShader,w=this.ticks,i=E.gl,C=E._tickBounds,y=E.dataBox,_=E.viewBox,I=E.pixelRatio,N=E.screenBox,k=N[2]-N[0],O=N[3]-N[1],z=_[2]-_[0],F=_[3]-_[1],B=0;B<2;++B){var G=C[B],Q=C[B+2],ee=Q-G,ae=.5*(y[B+2]+y[B]),fe=y[B+2]-y[B];h[B]=2*ee/fe,b[B]=2*(G-ae)/fe}h[0]*=z/k,b[0]*=z/k,h[1]*=F/O,b[1]*=F/O,M.bind(),m.bind(),M.attributes.dataCoord.pointer();var K=M.uniforms;K.dataShift=b,K.dataScale=h;var W=E.tickMarkLength,Z=E.tickMarkWidth,X=E.tickMarkColor,$=0,ie=w[0].length*6,J=Math.min(n.ge(w[0],(y[0]-C[0])/(C[2]-C[0]),l),w[0].length),j=Math.min(n.gt(w[0],(y[2]-C[0])/(C[2]-C[0]),l),w[0].length),se=$+6*J,ne=6*Math.max(0,j-J),ue=Math.min(n.ge(w[1],(y[1]-C[1])/(C[3]-C[1]),l),w[1].length),ge=Math.min(n.gt(w[1],(y[3]-C[1])/(C[3]-C[1]),l),w[1].length),we=ie+6*ue,xe=6*Math.max(0,ge-ue);S[0]=2*(_[0]-W[1])/k-1,S[1]=(_[3]+_[1])/O-1,A[0]=W[1]*I/k,A[1]=Z[1]*I/O,xe&&(K.color=X[1],K.tickScale=A,K.dataAxis=p,K.screenOffset=S,i.drawArrays(i.TRIANGLES,we,xe)),S[0]=(_[2]+_[0])/k-1,S[1]=2*(_[1]-W[0])/O-1,A[0]=Z[0]*I/k,A[1]=W[0]*I/O,ne&&(K.color=X[0],K.tickScale=A,K.dataAxis=o,K.screenOffset=S,i.drawArrays(i.TRIANGLES,se,ne)),S[0]=2*(_[2]+W[3])/k-1,S[1]=(_[3]+_[1])/O-1,A[0]=W[3]*I/k,A[1]=Z[3]*I/O,xe&&(K.color=X[3],K.tickScale=A,K.dataAxis=p,K.screenOffset=S,i.drawArrays(i.TRIANGLES,we,xe)),S[0]=(_[2]+_[0])/k-1,S[1]=2*(_[3]+W[2])/O-1,A[0]=Z[2]*I/k,A[1]=W[2]*I/O,ne&&(K.color=X[2],K.tickScale=A,K.dataAxis=o,K.screenOffset=S,i.drawArrays(i.TRIANGLES,se,ne))}}(),x.update=function(){var b=[1,1,-1,-1,1,-1],h=[1,-1,1,1,-1,-1];return function(o){var p=o.ticks,S=o.bounds,A=new Float32Array(6*3*(p[0].length+p[1].length));this.plot.zeroLineEnable;for(var E=0,m=[[],[]],M=0;M<2;++M)for(var w=m[M],i=p[M],C=S[M],y=S[M+2],_=0;_<i.length;++_){var I=(i[_].x-C)/(y-C);w.push(I);for(var N=0;N<6;++N)A[E++]=I,A[E++]=b[N],A[E++]=h[N]}this.ticks=m,this.vbo.update(A)}}(),x.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function c(b){var h=b.gl,o=r(h),p=u(h,s.gridVert,s.gridFrag),S=u(h,s.tickVert,s.gridFrag),A=new f(b,o,p,S);return A}},1154:function(v,d,t){v.exports=l;var r=t(5827),u=t(5158),n=t(2709);function s(x,c,b){this.plot=x,this.vbo=c,this.shader=b}var f=s.prototype;f.bind=function(){var x=this.shader;this.vbo.bind(),this.shader.bind(),x.attributes.coord.pointer(),x.uniforms.screenBox=this.plot.screenBox},f.drawLine=function(){var x=[0,0],c=[0,0];return function(b,h,o,p,S,A){var E=this.plot,m=this.shader,M=E.gl;x[0]=b,x[1]=h,c[0]=o,c[1]=p,m.uniforms.start=x,m.uniforms.end=c,m.uniforms.width=S*E.pixelRatio,m.uniforms.color=A,M.drawArrays(M.TRIANGLE_STRIP,0,4)}}(),f.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function l(x){var c=x.gl,b=r(c,[-1,-1,-1,1,1,-1,1,1]),h=u(c,n.lineVert,n.lineFrag),o=new s(x,b,h);return o}},2709:function(v,d,t){var r=t(6832),u=r([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);v.exports={lineVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:u,textVert:r([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:u,gridVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:u,boxVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},5613:function(v,d,t){v.exports=c;var r=t(5827),u=t(5158),n=t(6946),s=t(5070),f=t(2709);function l(b,h,o){this.plot=b,this.vbo=h,this.shader=o,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var x=l.prototype;x.drawTicks=function(){var b=[0,0],h=[0,0],o=[0,0];return function(p){var S=this.plot,A=this.shader,E=this.tickX[p],m=this.tickOffset[p],M=S.gl,w=S.viewBox,i=S.dataBox,C=S.screenBox,y=S.pixelRatio,_=S.tickEnable,I=S.tickPad,N=S.tickColor,k=S.tickAngle,O=S.labelEnable,z=S.labelPad,F=S.labelColor,B=S.labelAngle,G=this.labelOffset[p],Q=this.labelCount[p],ee=s.lt(E,i[p]),ae=s.le(E,i[p+2]);b[0]=b[1]=0,b[p]=1,h[p]=(w[2+p]+w[p])/(C[2+p]-C[p])-1;var fe=2/C[2+(p^1)]-C[p^1];h[p^1]=fe*w[p^1]-1,_[p]&&(h[p^1]-=fe*y*I[p],ee<ae&&m[ae]>m[ee]&&(A.uniforms.dataAxis=b,A.uniforms.screenOffset=h,A.uniforms.color=N[p],A.uniforms.angle=k[p],M.drawArrays(M.TRIANGLES,m[ee],m[ae]-m[ee]))),O[p]&&Q&&(h[p^1]-=fe*y*z[p],A.uniforms.dataAxis=o,A.uniforms.screenOffset=h,A.uniforms.color=F[p],A.uniforms.angle=B[p],M.drawArrays(M.TRIANGLES,G,Q)),h[p^1]=fe*w[2+(p^1)]-1,_[p+2]&&(h[p^1]+=fe*y*I[p+2],ee<ae&&m[ae]>m[ee]&&(A.uniforms.dataAxis=b,A.uniforms.screenOffset=h,A.uniforms.color=N[p+2],A.uniforms.angle=k[p+2],M.drawArrays(M.TRIANGLES,m[ee],m[ae]-m[ee]))),O[p+2]&&Q&&(h[p^1]+=fe*y*z[p+2],A.uniforms.dataAxis=o,A.uniforms.screenOffset=h,A.uniforms.color=F[p+2],A.uniforms.angle=B[p+2],M.drawArrays(M.TRIANGLES,G,Q))}}(),x.drawTitle=function(){var b=[0,0],h=[0,0];return function(){var o=this.plot,p=this.shader,S=o.gl,A=o.screenBox,E=o.titleCenter,m=o.titleAngle,M=o.titleColor,w=o.pixelRatio;if(this.titleCount){for(var i=0;i<2;++i)h[i]=2*(E[i]*w-A[i])/(A[2+i]-A[i])-1;p.bind(),p.uniforms.dataAxis=b,p.uniforms.screenOffset=h,p.uniforms.angle=m,p.uniforms.color=M,S.drawArrays(S.TRIANGLES,this.titleOffset,this.titleCount)}}}(),x.bind=function(){var b=[0,0],h=[0,0],o=[0,0];return function(){var p=this.plot,S=this.shader,A=p._tickBounds,E=p.dataBox,m=p.screenBox,M=p.viewBox;S.bind();for(var w=0;w<2;++w){var i=A[w],C=A[w+2],y=C-i,_=.5*(E[w+2]+E[w]),I=E[w+2]-E[w],N=M[w],k=M[w+2],O=k-N,z=m[w],F=m[w+2],B=F-z;h[w]=2*y/I*O/B,b[w]=2*(i-_)/I*O/B}o[1]=2*p.pixelRatio/(m[3]-m[1]),o[0]=o[1]*(m[3]-m[1])/(m[2]-m[0]),S.uniforms.dataScale=h,S.uniforms.dataShift=b,S.uniforms.textScale=o,this.vbo.bind(),S.attributes.textCoordinate.pointer()}}(),x.update=function(b){var h=[],o=b.ticks,p=b.bounds,S,A,E,m,M;for(M=0;M<2;++M){var w=[Math.floor(h.length/3)],i=[-1/0],C=o[M];for(S=0;S<C.length;++S){var y=C[S],_=y.x,I=y.text,N=y.font||"sans-serif";m=y.fontSize||12;for(var k=1/(p[M+2]-p[M]),O=p[M],z=I.split(`
`),F=0;F<z.length;F++)for(E=n(N,z[F]).data,A=0;A<E.length;A+=2)h.push(E[A]*m,-E[A+1]*m-F*m*1.2,(_-O)*k);w.push(Math.floor(h.length/3)),i.push(_)}this.tickOffset[M]=w,this.tickX[M]=i}for(M=0;M<2;++M){for(this.labelOffset[M]=Math.floor(h.length/3),E=n(b.labelFont[M],b.labels[M],{textAlign:"center"}).data,m=b.labelSize[M],S=0;S<E.length;S+=2)h.push(E[S]*m,-E[S+1]*m,0);this.labelCount[M]=Math.floor(h.length/3)-this.labelOffset[M]}for(this.titleOffset=Math.floor(h.length/3),E=n(b.titleFont,b.title).data,m=b.titleSize,S=0;S<E.length;S+=2)h.push(E[S]*m,-E[S+1]*m,0);this.titleCount=Math.floor(h.length/3)-this.titleOffset,this.vbo.update(h)},x.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function c(b){var h=b.gl,o=r(h),p=u(h,f.textVert,f.textFrag),S=new l(b,o,p);return S}},2117:function(v,d,t){v.exports=h;var r=t(2611),u=t(3016),n=t(5613),s=t(1154),f=t(4554);function l(o,p){this.gl=o,this.pickBuffer=p,this.screenBox=[0,0,o.drawingBufferWidth,o.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var x=l.prototype;x.setDirty=function(){this.dirty=this.pickDirty=!0},x.setOverlayDirty=function(){this.dirty=!0},x.nextDepthValue=function(){return this._depthCounter++/65536},x.draw=function(){return function(){var o=this.gl,p=this.screenBox,S=this.viewBox,A=this.dataBox,E=this.pixelRatio,m=this.grid,M=this.line,w=this.text,i=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,o.bindFramebuffer(o.FRAMEBUFFER,null),o.enable(o.SCISSOR_TEST),o.disable(o.DEPTH_TEST),o.depthFunc(o.LESS),o.depthMask(!1),o.enable(o.BLEND),o.blendEquation(o.FUNC_ADD,o.FUNC_ADD),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),this.borderColor){o.scissor(p[0],p[1],p[2]-p[0],p[3]-p[1]);var C=this.borderColor;o.clearColor(C[0]*C[3],C[1]*C[3],C[2]*C[3],C[3]),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT)}o.scissor(S[0],S[1],S[2]-S[0],S[3]-S[1]),o.viewport(S[0],S[1],S[2]-S[0],S[3]-S[1]);var y=this.backgroundColor;o.clearColor(y[0]*y[3],y[1]*y[3],y[2]*y[3],y[3]),o.clear(o.COLOR_BUFFER_BIT),m.draw();var _=this.zeroLineEnable,I=this.zeroLineColor,N=this.zeroLineWidth;if(_[0]||_[1]){M.bind();for(var k=0;k<2;++k)if(!(!_[k]||!(A[k]<=0&&A[k+2]>=0))){var O=p[k]-A[k]*(p[k+2]-p[k])/(A[k+2]-A[k]);k===0?M.drawLine(O,p[1],O,p[3],N[k],I[k]):M.drawLine(p[0],O,p[2],O,N[k],I[k])}}for(var k=0;k<i.length;++k)i[k].draw();o.viewport(p[0],p[1],p[2]-p[0],p[3]-p[1]),o.scissor(p[0],p[1],p[2]-p[0],p[3]-p[1]),this.grid.drawTickMarks(),M.bind();var z=this.borderLineEnable,F=this.borderLineWidth,B=this.borderLineColor;z[1]&&M.drawLine(S[0],S[1]-.5*F[1]*E,S[0],S[3]+.5*F[3]*E,F[1],B[1]),z[0]&&M.drawLine(S[0]-.5*F[0]*E,S[1],S[2]+.5*F[2]*E,S[1],F[0],B[0]),z[3]&&M.drawLine(S[2],S[1]-.5*F[1]*E,S[2],S[3]+.5*F[3]*E,F[3],B[3]),z[2]&&M.drawLine(S[0]-.5*F[0]*E,S[3],S[2]+.5*F[2]*E,S[3],F[2],B[2]),w.bind();for(var k=0;k<2;++k)w.drawTicks(k);this.titleEnable&&w.drawTitle();for(var G=this.overlays,k=0;k<G.length;++k)G[k].draw();o.disable(o.SCISSOR_TEST),o.disable(o.BLEND),o.depthMask(!0)}}}(),x.drawPick=function(){return function(){if(!this.static){var o=this.pickBuffer;this.gl,this._pickTimeout=null,o.begin();for(var p=1,S=this.objects,A=0;A<S.length;++A)p=S[A].drawPick(p);o.end()}}}(),x.pick=function(){return function(o,p){if(!this.static){var S=this.pixelRatio,A=this.pickPixelRatio,E=this.viewBox,m=Math.round((o-E[0]/S)*A)|0,M=Math.round((p-E[1]/S)*A)|0,w=this.pickBuffer.query(m,M,this.pickRadius);if(!w)return null;for(var i=w.id+(w.value[0]<<8)+(w.value[1]<<16)+(w.value[2]<<24),C=this.objects,y=0;y<C.length;++y){var _=C[y].pick(m,M,i);if(_)return _}return null}}}();function c(o){for(var p=o.slice(),S=0;S<p.length;++S)p[S]=p[S].slice();return p}function b(o,p){return o.x-p.x}x.setScreenBox=function(o){var p=this.screenBox,S=this.pixelRatio;p[0]=Math.round(o[0]*S)|0,p[1]=Math.round(o[1]*S)|0,p[2]=Math.round(o[2]*S)|0,p[3]=Math.round(o[3]*S)|0,this.setDirty()},x.setDataBox=function(o){var p=this.dataBox,S=p[0]!==o[0]||p[1]!==o[1]||p[2]!==o[2]||p[3]!==o[3];S&&(p[0]=o[0],p[1]=o[1],p[2]=o[2],p[3]=o[3],this.setDirty())},x.setViewBox=function(o){var p=this.pixelRatio,S=this.viewBox;S[0]=Math.round(o[0]*p)|0,S[1]=Math.round(o[1]*p)|0,S[2]=Math.round(o[2]*p)|0,S[3]=Math.round(o[3]*p)|0;var A=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((o[2]-o[0])*A)|0,Math.round((o[3]-o[1])*A)|0],this.setDirty()},x.update=function(o){o=o||{};var p=this.gl;this.pixelRatio=o.pixelRatio||1;var S=this.pixelRatio;this.pickPixelRatio=Math.max(S,1),this.setScreenBox(o.screenBox||[0,0,p.drawingBufferWidth/S,p.drawingBufferHeight/S]),this.screenBox,this.setViewBox(o.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/S,.125*(this.screenBox[3]-this.screenBox[1])/S,.875*(this.screenBox[2]-this.screenBox[0])/S,.875*(this.screenBox[3]-this.screenBox[1])/S]);var A=this.viewBox,E=(A[2]-A[0])/(A[3]-A[1]);this.setDataBox(o.dataBox||[-10,-10/E,10,10/E]),this.borderColor=o.borderColor!==!1?(o.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(o.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(o.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(o.gridLineWidth||[1,1]).slice(),this.gridLineColor=c(o.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(o.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(o.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=c(o.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(o.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(o.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=c(o.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(o.titleCenter||[.5*(A[0]+A[2])/S,(A[3]+120)/S]).slice(),this.titleEnable=!("titleEnable"in o)||!!o.titleEnable,this.titleAngle=o.titleAngle||0,this.titleColor=(o.titleColor||[0,0,0,1]).slice(),this.labelPad=(o.labelPad||[15,15,15,15]).slice(),this.labelAngle=(o.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(o.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=c(o.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(o.tickPad||[15,15,15,15]).slice(),this.tickAngle=(o.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(o.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=c(o.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(o.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(o.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=c(o.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var m=o.ticks||[[],[]],M=this._tickBounds;M[0]=M[1]=1/0,M[2]=M[3]=-1/0;for(var w=0;w<2;++w){var i=m[w].slice(0);i.length!==0&&(i.sort(b),M[w]=Math.min(M[w],i[0].x),M[w+2]=Math.max(M[w+2],i[i.length-1].x))}this.grid.update({bounds:M,ticks:m}),this.text.update({bounds:M,ticks:m,labels:o.labels||["x","y"],labelSize:o.labelSize||[12,12],labelFont:o.labelFont||["sans-serif","sans-serif"],title:o.title||"",titleSize:o.titleSize||18,titleFont:o.titleFont||"sans-serif"}),this.static=!!o.static,this.setDirty()},x.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var o=this.objects.length-1;o>=0;--o)this.objects[o].dispose();this.objects.length=0;for(var o=this.overlays.length-1;o>=0;--o)this.overlays[o].dispose();this.overlays.length=0,this.gl=null},x.addObject=function(o){this.objects.indexOf(o)<0&&(this.objects.push(o),this.setDirty())},x.removeObject=function(o){for(var p=this.objects,S=0;S<p.length;++S)if(p[S]===o){p.splice(S,1),this.setDirty();break}},x.addOverlay=function(o){this.overlays.indexOf(o)<0&&(this.overlays.push(o),this.setOverlayDirty())},x.removeOverlay=function(o){for(var p=this.overlays,S=0;S<p.length;++S)if(p[S]===o){p.splice(S,1),this.setOverlayDirty();break}};function h(o){var p=o.gl,S=r(p,[p.drawingBufferWidth,p.drawingBufferHeight]),A=new l(p,S);return A.grid=u(A),A.text=n(A),A.line=s(A),A.box=f(A),A.update(o),A}},4296:function(v,d,t){v.exports=x;var r=t(8161),u=t(1152),n=t(6145),s=t(6475),f=t(2565),l=t(5233);function x(c,b){c=c||document.body,b=b||{};var h=[.01,1/0];"distanceLimits"in b&&(h[0]=b.distanceLimits[0],h[1]=b.distanceLimits[1]),"zoomMin"in b&&(h[0]=b.zoomMin),"zoomMax"in b&&(h[1]=b.zoomMax);var o=u({center:b.center||[0,0,0],up:b.up||[0,1,0],eye:b.eye||[0,0,10],mode:b.mode||"orbit",distanceLimits:h}),p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],S=0,A=c.clientWidth,E=c.clientHeight,m={keyBindingMode:"rotate",enableWheel:!0,view:o,element:c,delay:b.delay||16,rotateSpeed:b.rotateSpeed||1,zoomSpeed:b.zoomSpeed||1,translateSpeed:b.translateSpeed||1,flipX:!!b.flipX,flipY:!!b.flipY,modes:o.modes,_ortho:b._ortho||b.projection&&b.projection.type==="orthographic"||!1,tick:function(){var M=r(),w=this.delay,i=M-2*w;o.idle(M-w),o.recalcMatrix(i),o.flush(M-(100+w*2));for(var C=!0,y=o.computedMatrix,_=0;_<16;++_)C=C&&p[_]===y[_],p[_]=y[_];var I=c.clientWidth===A&&c.clientHeight===E;return A=c.clientWidth,E=c.clientHeight,C?!I:(S=Math.exp(o.computedRadius[0]),!0)},lookAt:function(M,w,i){o.lookAt(o.lastT(),M,w,i)},rotate:function(M,w,i){o.rotate(o.lastT(),M,w,i)},pan:function(M,w,i){o.pan(o.lastT(),M,w,i)},translate:function(M,w,i){o.translate(o.lastT(),M,w,i)}};return Object.defineProperties(m,{matrix:{get:function(){return o.computedMatrix},set:function(M){return o.setMatrix(o.lastT(),M),o.computedMatrix},enumerable:!0},mode:{get:function(){return o.getMode()},set:function(M){var w=o.computedUp.slice(),i=o.computedEye.slice(),C=o.computedCenter.slice();if(o.setMode(M),M==="turntable"){var y=r();o._active.lookAt(y,i,C,w),o._active.lookAt(y+500,i,C,[0,0,1]),o._active.flush(y)}return o.getMode()},enumerable:!0},center:{get:function(){return o.computedCenter},set:function(M){return o.lookAt(o.lastT(),null,M),o.computedCenter},enumerable:!0},eye:{get:function(){return o.computedEye},set:function(M){return o.lookAt(o.lastT(),M),o.computedEye},enumerable:!0},up:{get:function(){return o.computedUp},set:function(M){return o.lookAt(o.lastT(),null,null,M),o.computedUp},enumerable:!0},distance:{get:function(){return S},set:function(M){return o.setDistance(o.lastT(),M),M},enumerable:!0},distanceLimits:{get:function(){return o.getDistanceLimits(h)},set:function(M){return o.setDistanceLimits(M),M},enumerable:!0}}),c.addEventListener("contextmenu",function(M){return M.preventDefault(),!1}),m._lastX=-1,m._lastY=-1,m._lastMods={shift:!1,control:!1,alt:!1,meta:!1},m.enableMouseListeners=function(){m.mouseListener=n(c,M),c.addEventListener("touchstart",function(w){var i=f(w.changedTouches[0],c);M(0,i[0],i[1],m._lastMods),M(1,i[0],i[1],m._lastMods)},l?{passive:!0}:!1),c.addEventListener("touchmove",function(w){var i=f(w.changedTouches[0],c);M(1,i[0],i[1],m._lastMods),w.preventDefault()},l?{passive:!1}:!1),c.addEventListener("touchend",function(w){M(0,m._lastX,m._lastY,m._lastMods)},l?{passive:!0}:!1);function M(w,i,C,y){var _=m.keyBindingMode;if(_!==!1){var I=_==="rotate",N=_==="pan",k=_==="zoom",O=!!y.control,z=!!y.alt,F=!!y.shift,B=!!(w&1),G=!!(w&2),Q=!!(w&4),ee=1/c.clientHeight,ae=ee*(i-m._lastX),fe=ee*(C-m._lastY),K=m.flipX?1:-1,W=m.flipY?1:-1,Z=Math.PI*m.rotateSpeed,X=r();if(m._lastX!==-1&&m._lastY!==-1&&((I&&B&&!O&&!z&&!F||B&&!O&&!z&&F)&&o.rotate(X,K*Z*ae,-W*Z*fe,0),(N&&B&&!O&&!z&&!F||G||B&&O&&!z&&!F)&&o.pan(X,-m.translateSpeed*ae*S,m.translateSpeed*fe*S,0),k&&B&&!O&&!z&&!F||Q||B&&!O&&z&&!F)){var $=-m.zoomSpeed*fe/window.innerHeight*(X-o.lastT())*100;o.pan(X,0,0,S*(Math.exp($)-1))}return m._lastX=i,m._lastY=C,m._lastMods=y,!0}}m.wheelListener=s(c,function(w,i){if(m.keyBindingMode!==!1&&m.enableWheel){var C=m.flipX?1:-1,y=m.flipY?1:-1,_=r();if(Math.abs(w)>Math.abs(i))o.rotate(_,0,0,-w*C*Math.PI*m.rotateSpeed/window.innerWidth);else if(!m._ortho){var I=-m.zoomSpeed*y*i/window.innerHeight*(_-o.lastT())/20;o.pan(_,0,0,S*(Math.exp(I)-1))}}},!0)},m.enableMouseListeners(),m}},8245:function(v,d,t){var r=t(6832),u=t(5158),n=r([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),s=r([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);v.exports=function(f){return u(f,n,s,null,[{name:"position",type:"vec2"}])}},1059:function(v,d,t){var r=t(4296),u=t(7453),n=t(2771),s=t(6496),f=t(2611),l=t(4234),x=t(8126),c=t(6145),b=t(1120),h=t(5268),o=t(8245),p=t(2321)({tablet:!0,featureDetect:!0});v.exports={createScene:M,createCamera:r};function S(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function A(i,C){var y=null;try{y=i.getContext("webgl",C),y||(y=i.getContext("experimental-webgl",C))}catch{return null}return y}function E(i){var C=Math.round(Math.log(Math.abs(i))/Math.log(10));if(C<0){var y=Math.round(Math.pow(10,-C));return Math.ceil(i*y)/y}else if(C>0){var y=Math.round(Math.pow(10,C));return Math.ceil(i/y)*y}return Math.ceil(i)}function m(i){return typeof i=="boolean"?i:!0}function M(i){i=i||{},i.camera=i.camera||{};var C=i.canvas;if(!C)if(C=document.createElement("canvas"),i.container){var y=i.container;y.appendChild(C)}else document.body.appendChild(C);var _=i.gl;if(_||(i.glOptions&&(p=!!i.glOptions.preserveDrawingBuffer),_=A(C,i.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:p})),!_)throw new Error("webgl not supported");var I=i.bounds||[[-10,-10,-10],[10,10,10]],N=new S,k=l(_,_.drawingBufferWidth,_.drawingBufferHeight,{preferFloat:!p}),O=o(_),z=i.cameraObject&&i.cameraObject._ortho===!0||i.camera.projection&&i.camera.projection.type==="orthographic"||!1,F={eye:i.camera.eye||[2,0,0],center:i.camera.center||[0,0,0],up:i.camera.up||[0,1,0],zoomMin:i.camera.zoomMax||.1,zoomMax:i.camera.zoomMin||100,mode:i.camera.mode||"turntable",_ortho:z},B=i.axes||{},G=u(_,B);G.enable=!B.disable;var Q=i.spikes||{},ee=s(_,Q),ae=[],fe=[],K=[],W=[],Z=!0,J=!0,X=new Array(16),$=new Array(16),ie={view:null,projection:X,model:$,_ortho:!1},J=!0,j=[_.drawingBufferWidth,_.drawingBufferHeight],se=i.cameraObject||r(C,F),ne={gl:_,contextLost:!1,pixelRatio:i.pixelRatio||1,canvas:C,selection:N,camera:se,axes:G,axesPixels:null,spikes:ee,bounds:I,objects:ae,shape:j,aspect:i.aspectRatio||[1,1,1],pickRadius:i.pickRadius||10,zNear:i.zNear||.01,zFar:i.zFar||1e3,fovy:i.fovy||Math.PI/4,clearColor:i.clearColor||[0,0,0,0],autoResize:m(i.autoResize),autoBounds:m(i.autoBounds),autoScale:!!i.autoScale,autoCenter:m(i.autoCenter),clipToBounds:m(i.clipToBounds),snapToData:!!i.snapToData,onselect:i.onselect||null,onrender:i.onrender||null,onclick:i.onclick||null,cameraParams:ie,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ne){this.aspect[0]=Ne.x,this.aspect[1]=Ne.y,this.aspect[2]=Ne.z,J=!0},setBounds:function(Ne,Ue){this.bounds[0][Ne]=Ue.min,this.bounds[1][Ne]=Ue.max},setClearColor:function(Ne){this.clearColor=Ne},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},ue=[_.drawingBufferWidth/ne.pixelRatio|0,_.drawingBufferHeight/ne.pixelRatio|0];function ge(){if(!ne._stopped&&ne.autoResize){var Ne=C.parentNode,Ue=1,Re=1;Ne&&Ne!==document.body?(Ue=Ne.clientWidth,Re=Ne.clientHeight):(Ue=window.innerWidth,Re=window.innerHeight);var Ve=Math.ceil(Ue*ne.pixelRatio)|0,rt=Math.ceil(Re*ne.pixelRatio)|0;if(Ve!==C.width||rt!==C.height){C.width=Ve,C.height=rt;var Qe=C.style;Qe.position=Qe.position||"absolute",Qe.left="0px",Qe.top="0px",Qe.width=Ue+"px",Qe.height=Re+"px",Z=!0}}}ne.autoResize&&ge(),window.addEventListener("resize",ge);function we(){for(var Ne=ae.length,Ue=W.length,Re=0;Re<Ue;++Re)K[Re]=0;e:for(var Re=0;Re<Ne;++Re){var Ve=ae[Re],rt=Ve.pickSlots;if(!rt){fe[Re]=-1;continue}for(var Qe=0;Qe<Ue;++Qe)if(K[Qe]+rt<255){fe[Re]=Qe,Ve.setPickBase(K[Qe]+1),K[Qe]+=rt;continue e}var Je=f(_,j);fe[Re]=Ue,W.push(Je),K.push(rt),Ve.setPickBase(1),Ue+=1}for(;Ue>0&&K[Ue-1]===0;)K.pop(),W.pop().dispose()}ne.update=function(Ne){ne._stopped||(Z=!0,J=!0)},ne.add=function(Ne){ne._stopped||(Ne.axes=G,ae.push(Ne),fe.push(-1),Z=!0,J=!0,we())},ne.remove=function(Ne){if(!ne._stopped){var Ue=ae.indexOf(Ne);Ue<0||(ae.splice(Ue,1),fe.pop(),Z=!0,J=!0,we())}},ne.dispose=function(){if(!ne._stopped&&(ne._stopped=!0,window.removeEventListener("resize",ge),C.removeEventListener("webglcontextlost",xe),ne.mouseListener.enabled=!1,!ne.contextLost)){G.dispose(),ee.dispose();for(var Ne=0;Ne<ae.length;++Ne)ae[Ne].dispose();k.dispose();for(var Ne=0;Ne<W.length;++Ne)W[Ne].dispose();O.dispose(),_=null,G=null,ee=null,ae=[]}},ne._mouseRotating=!1,ne._prevButtons=0,ne.enableMouseListeners=function(){ne.mouseListener=c(C,function(Ne,Ue,Re){if(!ne._stopped){var Ve=W.length,rt=ae.length,Qe=N.object;N.distance=1/0,N.mouse[0]=Ue,N.mouse[1]=Re,N.object=null,N.screen=null,N.dataCoordinate=N.dataPosition=null;var Je=!1;if(Ne&&ne._prevButtons)ne._mouseRotating=!0;else{ne._mouseRotating&&(J=!0),ne._mouseRotating=!1;for(var qe=0;qe<Ve;++qe){var dt=W[qe].query(Ue,ue[1]-Re-1,ne.pickRadius);if(dt){if(dt.distance>N.distance)continue;for(var pt=0;pt<rt;++pt){var mt=ae[pt];if(fe[pt]===qe){var Ct=mt.pick(dt);Ct&&(N.buttons=Ne,N.screen=dt.coord,N.distance=dt.distance,N.object=mt,N.index=Ct.distance,N.dataPosition=Ct.position,N.dataCoordinate=Ct.dataCoordinate,N.data=Ct,Je=!0)}}}}}Qe&&Qe!==N.object&&(Qe.highlight&&Qe.highlight(null),Z=!0),N.object&&(N.object.highlight&&N.object.highlight(N.data),Z=!0),Je=Je||N.object!==Qe,Je&&ne.onselect&&ne.onselect(N),Ne&1&&!(ne._prevButtons&1)&&ne.onclick&&ne.onclick(N),ne._prevButtons=Ne}})};function xe(){if(ne.contextLost)return!0;_.isContextLost()&&(ne.contextLost=!0,ne.mouseListener.enabled=!1,ne.selection.object=null,ne.oncontextloss&&ne.oncontextloss())}C.addEventListener("webglcontextlost",xe);function Fe(){if(!xe()){_.colorMask(!0,!0,!0,!0),_.depthMask(!0),_.disable(_.BLEND),_.enable(_.DEPTH_TEST),_.depthFunc(_.LEQUAL);for(var Ne=ae.length,Ue=W.length,Re=0;Re<Ue;++Re){var Ve=W[Re];Ve.shape=ue,Ve.begin();for(var rt=0;rt<Ne;++rt)if(fe[rt]===Re){var Qe=ae[rt];Qe.drawPick&&(Qe.pixelRatio=1,Qe.drawPick(ie))}Ve.end()}}}var ze=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Te=[ze[0].slice(),ze[1].slice()];function ye(){if(!xe()){ge();var Ne=ne.camera.tick();ie.view=ne.camera.matrix,Z=Z||Ne,J=J||Ne,G.pixelRatio=ne.pixelRatio,ee.pixelRatio=ne.pixelRatio;var Ue=ae.length,Re=ze[0],Ve=ze[1];Re[0]=Re[1]=Re[2]=1/0,Ve[0]=Ve[1]=Ve[2]=-1/0;for(var rt=0;rt<Ue;++rt){var Qe=ae[rt];Qe.pixelRatio=ne.pixelRatio,Qe.axes=ne.axes,Z=Z||!!Qe.dirty,J=J||!!Qe.dirty;var Je=Qe.bounds;if(Je)for(var qe=Je[0],dt=Je[1],pt=0;pt<3;++pt)Re[pt]=Math.min(Re[pt],qe[pt]),Ve[pt]=Math.max(Ve[pt],dt[pt])}var mt=ne.bounds;if(ne.autoBounds)for(var pt=0;pt<3;++pt){if(Ve[pt]<Re[pt])Re[pt]=-1,Ve[pt]=1;else{Re[pt]===Ve[pt]&&(Re[pt]-=1,Ve[pt]+=1);var Ct=.05*(Ve[pt]-Re[pt]);Re[pt]=Re[pt]-Ct,Ve[pt]=Ve[pt]+Ct}mt[0][pt]=Re[pt],mt[1][pt]=Ve[pt]}for(var Rt=!1,pt=0;pt<3;++pt)Rt=Rt||Te[0][pt]!==mt[0][pt]||Te[1][pt]!==mt[1][pt],Te[0][pt]=mt[0][pt],Te[1][pt]=mt[1][pt];if(J=J||Rt,Z=Z||Rt,!!Z){if(Rt){for(var Zt=[0,0,0],rt=0;rt<3;++rt)Zt[rt]=E((mt[1][rt]-mt[0][rt])/10);G.autoTicks?G.update({bounds:mt,tickSpacing:Zt}):G.update({bounds:mt})}var Xe=_.drawingBufferWidth,Le=_.drawingBufferHeight;j[0]=Xe,j[1]=Le,ue[0]=Math.max(Xe/ne.pixelRatio,1)|0,ue[1]=Math.max(Le/ne.pixelRatio,1)|0,w(ne,z);for(var rt=0;rt<Ue;++rt){var Qe=ae[rt];Qe.axesBounds=mt,ne.clipToBounds&&(Qe.clipBounds=mt)}N.object&&(ne.snapToData?ee.position=N.dataCoordinate:ee.position=N.dataPosition,ee.bounds=mt),J&&(J=!1,Fe()),ne.axesPixels=n(ne.axes,ie,Xe,Le),ne.onrender&&ne.onrender(),_.bindFramebuffer(_.FRAMEBUFFER,null),_.viewport(0,0,Xe,Le),ne.clearRGBA(),_.depthMask(!0),_.colorMask(!0,!0,!0,!0),_.enable(_.DEPTH_TEST),_.depthFunc(_.LEQUAL),_.disable(_.BLEND),_.disable(_.CULL_FACE);var Pe=!1;G.enable&&(Pe=Pe||G.isTransparent(),G.draw(ie)),ee.axes=G,N.object&&ee.draw(ie),_.disable(_.CULL_FACE);for(var rt=0;rt<Ue;++rt){var Qe=ae[rt];Qe.axes=G,Qe.pixelRatio=ne.pixelRatio,Qe.isOpaque&&Qe.isOpaque()&&Qe.draw(ie),Qe.isTransparent&&Qe.isTransparent()&&(Pe=!0)}if(Pe){k.shape=j,k.bind(),_.clear(_.DEPTH_BUFFER_BIT),_.colorMask(!1,!1,!1,!1),_.depthMask(!0),_.depthFunc(_.LESS),G.enable&&G.isTransparent()&&G.drawTransparent(ie);for(var rt=0;rt<Ue;++rt){var Qe=ae[rt];Qe.isOpaque&&Qe.isOpaque()&&Qe.draw(ie)}_.enable(_.BLEND),_.blendEquation(_.FUNC_ADD),_.blendFunc(_.ONE,_.ONE_MINUS_SRC_ALPHA),_.colorMask(!0,!0,!0,!0),_.depthMask(!1),_.clearColor(0,0,0,0),_.clear(_.COLOR_BUFFER_BIT),G.isTransparent()&&G.drawTransparent(ie);for(var rt=0;rt<Ue;++rt){var Qe=ae[rt];Qe.isTransparent&&Qe.isTransparent()&&Qe.drawTransparent(ie)}_.bindFramebuffer(_.FRAMEBUFFER,null),_.blendFunc(_.ONE,_.ONE_MINUS_SRC_ALPHA),_.disable(_.DEPTH_TEST),O.bind(),k.color[0].bind(0),O.uniforms.accumBuffer=0,x(_),_.disable(_.BLEND)}Z=!1;for(var rt=0;rt<Ue;++rt)ae[rt].dirty=!1}}}function Ae(){ne._stopped||ne.contextLost||(ye(),requestAnimationFrame(Ae))}return ne.enableMouseListeners(),Ae(),ne.redraw=function(){ne._stopped||(Z=!0,ye())},ne}function w(i,C){var y=i.bounds,_=i.cameraParams,I=_.projection,N=_.model,k=i.gl.drawingBufferWidth,O=i.gl.drawingBufferHeight,z=i.zNear,F=i.zFar,B=i.fovy,G=k/O;C?(h(I,-G,G,-1,1,z,F),_._ortho=!0):(b(I,B,G,z,F),_._ortho=!1);for(var Q=0;Q<16;++Q)N[Q]=0;N[15]=1;for(var ee=0,Q=0;Q<3;++Q)ee=Math.max(ee,y[1][Q]-y[0][Q]);for(var Q=0;Q<3;++Q)i.autoScale?N[5*Q]=i.aspect[Q]/(y[1][Q]-y[0][Q]):N[5*Q]=1/ee,i.autoCenter&&(N[12+Q]=-N[5*Q]*.5*(y[0][Q]+y[1][Q]))}},8023:function(v,d,t){var r=t(6832);d.pointVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),d.pointFragment=r([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),d.pickVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),d.pickFragment=r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},8271:function(v,d,t){var r=t(5158),u=t(5827),n=t(5306),s=t(8023);v.exports=c;function f(b,h,o,p,S){this.plot=b,this.offsetBuffer=h,this.pickBuffer=o,this.shader=p,this.pickShader=S,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var l=f.prototype;l.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},l.update=function(b){var h;b=b||{};function o(w,i){return w in b?b[w]:i}this.sizeMin=o("sizeMin",.5),this.sizeMax=o("sizeMax",20),this.color=o("color",[1,0,0,1]).slice(),this.areaRatio=o("areaRatio",1),this.borderColor=o("borderColor",[0,0,0,1]).slice(),this.blend=o("blend",!1);var p=b.positions.length>>>1,S=b.positions instanceof Float32Array,A=b.idToIndex instanceof Int32Array&&b.idToIndex.length>=p,E=b.positions,m=S?E:n.mallocFloat32(E.length),M=A?b.idToIndex:n.mallocInt32(p);if(S||m.set(E),!A)for(m.set(E),h=0;h<p;h++)M[h]=h;this.points=E,this.offsetBuffer.update(m),this.pickBuffer.update(M),S||n.free(m),A||n.free(M),this.pointCount=p,this.pickOffset=0};function x(b,h){var o=0,p=b.length>>>1,S;for(S=0;S<p;S++){var A=b[S*2],E=b[S*2+1];A>=h[0]&&A<=h[2]&&E>=h[1]&&E<=h[3]&&o++}return o}l.unifiedDraw=function(){var b=[1,0,0,0,1,0,0,0,1],h=[0,0,0,0];return function(o){var p=o!==void 0,S=p?this.pickShader:this.shader,A=this.plot.gl,E=this.plot.dataBox;if(this.pointCount===0)return o;var m=E[2]-E[0],M=E[3]-E[1],w=x(this.points,E),i=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(w,.33333)));b[0]=2/m,b[4]=2/M,b[6]=-2*E[0]/m-1,b[7]=-2*E[1]/M-1,this.offsetBuffer.bind(),S.bind(),S.attributes.position.pointer(),S.uniforms.matrix=b,S.uniforms.color=this.color,S.uniforms.borderColor=this.borderColor,S.uniforms.pointCloud=i<5,S.uniforms.pointSize=i,S.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),p&&(h[0]=o&255,h[1]=o>>8&255,h[2]=o>>16&255,h[3]=o>>24&255,this.pickBuffer.bind(),S.attributes.pickId.pointer(A.UNSIGNED_BYTE),S.uniforms.pickOffset=h,this.pickOffset=o);var C=A.getParameter(A.BLEND),y=A.getParameter(A.DITHER);return C&&!this.blend&&A.disable(A.BLEND),y&&A.disable(A.DITHER),A.drawArrays(A.POINTS,0,this.pointCount),C&&!this.blend&&A.enable(A.BLEND),y&&A.enable(A.DITHER),o+this.pointCount}}(),l.draw=l.unifiedDraw,l.drawPick=l.unifiedDraw,l.pick=function(b,h,o){var p=this.pickOffset,S=this.pointCount;if(o<p||o>=p+S)return null;var A=o-p,E=this.points;return{object:this,pointId:A,dataCoord:[E[2*A],E[2*A+1]]}};function c(b,h){var o=b.gl,p=u(o),S=u(o),A=r(o,s.pointVertex,s.pointFragment),E=r(o,s.pickVertex,s.pickFragment),m=new f(b,p,S,A,E);return m.update(h),b.addObject(m),m}},6093:function(v){v.exports=d;function d(t,r,u,n){var s=r[0],f=r[1],l=r[2],x=r[3],c=u[0],b=u[1],h=u[2],o=u[3],p,S,A,E,m;return S=s*c+f*b+l*h+x*o,S<0&&(S=-S,c=-c,b=-b,h=-h,o=-o),1-S>1e-6?(p=Math.acos(S),A=Math.sin(p),E=Math.sin((1-n)*p)/A,m=Math.sin(n*p)/A):(E=1-n,m=n),t[0]=E*s+m*c,t[1]=E*f+m*b,t[2]=E*l+m*h,t[3]=E*x+m*o,t}},8240:function(v){v.exports=function(d){return!d&&d!==0?"":d.toString()}},4123:function(v,d,t){var r=t(875);v.exports=n;var u={};function n(s,f,l){var x=u[f];if(x||(x=u[f]={}),s in x)return x[s];var c={textAlign:"center",textBaseline:"middle",lineHeight:1,font:f,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};c.triangles=!0;var b=r(s,c);c.triangles=!1;var h=r(s,c),o,p;if(l&&l!==1){for(o=0;o<b.positions.length;++o)for(p=0;p<b.positions[o].length;++p)b.positions[o][p]/=l;for(o=0;o<h.positions.length;++o)for(p=0;p<h.positions[o].length;++p)h.positions[o][p]/=l}var S=[[1/0,1/0],[-1/0,-1/0]],A=h.positions.length;for(o=0;o<A;++o){var E=h.positions[o];for(p=0;p<2;++p)S[0][p]=Math.min(S[0][p],E[p]),S[1][p]=Math.max(S[1][p],E[p])}return x[s]=[b,h,S]}},9282:function(v,d,t){var r=t(5158),u=t(6832),n=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),s=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),f=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),l=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),x=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),c=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],b={vertex:n,fragment:l,attributes:c},h={vertex:s,fragment:l,attributes:c},o={vertex:f,fragment:l,attributes:c},p={vertex:n,fragment:x,attributes:c},S={vertex:s,fragment:x,attributes:c},A={vertex:f,fragment:x,attributes:c};function E(m,M){var w=r(m,M),i=w.attributes;return i.position.location=0,i.color.location=1,i.glyph.location=2,i.id.location=3,w}d.createPerspective=function(m){return E(m,b)},d.createOrtho=function(m){return E(m,h)},d.createProject=function(m){return E(m,o)},d.createPickPerspective=function(m){return E(m,p)},d.createPickOrtho=function(m){return E(m,S)},d.createPickProject=function(m){return E(m,A)}},2182:function(v,d,t){var r=t(3596),u=t(5827),n=t(2944),s=t(5306),f=t(104),l=t(9282),x=t(4123),c=t(8240),b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];v.exports=fe;function h(K,W){var Z=K[0],X=K[1],$=K[2],ie=K[3];return K[0]=W[0]*Z+W[4]*X+W[8]*$+W[12]*ie,K[1]=W[1]*Z+W[5]*X+W[9]*$+W[13]*ie,K[2]=W[2]*Z+W[6]*X+W[10]*$+W[14]*ie,K[3]=W[3]*Z+W[7]*X+W[11]*$+W[15]*ie,K}function o(K,W,Z,X){return h(X,X),h(X,X),h(X,X)}function p(K,W){this.index=K,this.dataCoordinate=this.position=W}function S(K){return K===!0||K>1?1:K}function A(K,W,Z,X,$,ie,J,j,se,ne,ue,ge){this.gl=K,this.pixelRatio=1,this.shader=W,this.orthoShader=Z,this.projectShader=X,this.pointBuffer=$,this.colorBuffer=ie,this.glyphBuffer=J,this.idBuffer=j,this.vao=se,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=ne,this.pickOrthoShader=ue,this.pickProjectShader=ge,this.points=[],this._selectResult=new p(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var E=A.prototype;E.pickSlots=1,E.setPickBase=function(K){this.pickId=K},E.isTransparent=function(){if(this.hasAlpha)return!0;for(var K=0;K<3;++K)if(this.axesProject[K]&&this.projectHasAlpha)return!0;return!1},E.isOpaque=function(){if(!this.hasAlpha)return!0;for(var K=0;K<3;++K)if(this.axesProject[K]&&!this.projectHasAlpha)return!0;return!1};var m=[0,0],M=[0,0,0],w=[0,0,0],i=[0,0,0,1],C=[0,0,0,1],y=b.slice(),_=[0,0,0],I=[[0,0,0],[0,0,0]];function N(K){return K[0]=K[1]=K[2]=0,K}function k(K,W){return K[0]=W[0],K[1]=W[1],K[2]=W[2],K[3]=1,K}function O(K,W,Z,X){return K[0]=W[0],K[1]=W[1],K[2]=W[2],K[Z]=X,K}function z(K){for(var W=I,Z=0;Z<2;++Z)for(var X=0;X<3;++X)W[Z][X]=Math.max(Math.min(K[Z][X],1e8),-1e8);return W}function F(K,W,Z,X){var $=W.axesProject,ie=W.gl,J=K.uniforms,j=Z.model||b,se=Z.view||b,ne=Z.projection||b,ue=W.axesBounds,ge=z(W.clipBounds),we;W.axes&&W.axes.lastCubeProps?we=W.axes.lastCubeProps.axis:we=[1,1,1],m[0]=2/ie.drawingBufferWidth,m[1]=2/ie.drawingBufferHeight,K.bind(),J.view=se,J.projection=ne,J.screenSize=m,J.highlightId=W.highlightId,J.highlightScale=W.highlightScale,J.clipBounds=ge,J.pickGroup=W.pickId/255,J.pixelRatio=X;for(var xe=0;xe<3;++xe)if($[xe]){J.scale=W.projectScale[xe],J.opacity=W.projectOpacity[xe];for(var Fe=y,ze=0;ze<16;++ze)Fe[ze]=0;for(var ze=0;ze<4;++ze)Fe[5*ze]=1;Fe[5*xe]=0,we[xe]<0?Fe[12+xe]=ue[0][xe]:Fe[12+xe]=ue[1][xe],f(Fe,j,Fe),J.model=Fe;var Te=(xe+1)%3,ye=(xe+2)%3,Ae=N(M),Ne=N(w);Ae[Te]=1,Ne[ye]=1;var Ue=o(ne,se,j,k(i,Ae)),Re=o(ne,se,j,k(C,Ne));if(Math.abs(Ue[1])>Math.abs(Re[1])){var Ve=Ue;Ue=Re,Re=Ve,Ve=Ae,Ae=Ne,Ne=Ve;var rt=Te;Te=ye,ye=rt}Ue[0]<0&&(Ae[Te]=-1),Re[1]>0&&(Ne[ye]=-1);for(var Qe=0,Je=0,ze=0;ze<4;++ze)Qe+=Math.pow(j[4*Te+ze],2),Je+=Math.pow(j[4*ye+ze],2);Ae[Te]/=Math.sqrt(Qe),Ne[ye]/=Math.sqrt(Je),J.axes[0]=Ae,J.axes[1]=Ne,J.fragClipBounds[0]=O(_,ge[0],xe,-1e8),J.fragClipBounds[1]=O(_,ge[1],xe,1e8),W.vao.bind(),W.vao.draw(ie.TRIANGLES,W.vertexCount),W.lineWidth>0&&(ie.lineWidth(W.lineWidth*X),W.vao.draw(ie.LINES,W.lineVertexCount,W.vertexCount)),W.vao.unbind()}}var B=[-1e8,-1e8,-1e8],G=[1e8,1e8,1e8],Q=[B,G];function ee(K,W,Z,X,$,ie,J){var j=Z.gl;if((ie===Z.projectHasAlpha||J)&&F(W,Z,X,$),ie===Z.hasAlpha||J){K.bind();var se=K.uniforms;se.model=X.model||b,se.view=X.view||b,se.projection=X.projection||b,m[0]=2/j.drawingBufferWidth,m[1]=2/j.drawingBufferHeight,se.screenSize=m,se.highlightId=Z.highlightId,se.highlightScale=Z.highlightScale,se.fragClipBounds=Q,se.clipBounds=Z.axes.bounds,se.opacity=Z.opacity,se.pickGroup=Z.pickId/255,se.pixelRatio=$,Z.vao.bind(),Z.vao.draw(j.TRIANGLES,Z.vertexCount),Z.lineWidth>0&&(j.lineWidth(Z.lineWidth*$),Z.vao.draw(j.LINES,Z.lineVertexCount,Z.vertexCount)),Z.vao.unbind()}}E.draw=function(K){var W=this.useOrtho?this.orthoShader:this.shader;ee(W,this.projectShader,this,K,this.pixelRatio,!1,!1)},E.drawTransparent=function(K){var W=this.useOrtho?this.orthoShader:this.shader;ee(W,this.projectShader,this,K,this.pixelRatio,!0,!1)},E.drawPick=function(K){var W=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;ee(W,this.pickProjectShader,this,K,1,!0,!0)},E.pick=function(K){if(!K||K.id!==this.pickId)return null;var W=K.value[2]+(K.value[1]<<8)+(K.value[0]<<16);if(W>=this.pointCount||W<0)return null;var Z=this.points[W],X=this._selectResult;X.index=W;for(var $=0;$<3;++$)X.position[$]=X.dataCoordinate[$]=Z[$];return X},E.highlight=function(K){if(!K)this.highlightId=[1,1,1,1];else{var W=K.index,Z=W&255,X=W>>8&255,$=W>>16&255;this.highlightId=[Z/255,X/255,$/255,0]}};function ae(K,W,Z,X){var $;Array.isArray(K)?W<K.length?$=K[W]:$=void 0:$=K,$=c($);var ie=!0;r($)&&($="▼",ie=!1);var J=x($,Z,X);return{mesh:J[0],lines:J[1],bounds:J[2],visible:ie}}E.update=function(K){if(K=K||{},"perspective"in K&&(this.useOrtho=!K.perspective),"orthographic"in K&&(this.useOrtho=!!K.orthographic),"lineWidth"in K&&(this.lineWidth=K.lineWidth),"project"in K)if(Array.isArray(K.project))this.axesProject=K.project;else{var W=!!K.project;this.axesProject=[W,W,W]}if("projectScale"in K)if(Array.isArray(K.projectScale))this.projectScale=K.projectScale.slice();else{var Z=+K.projectScale;this.projectScale=[Z,Z,Z]}if(this.projectHasAlpha=!1,"projectOpacity"in K){if(Array.isArray(K.projectOpacity))this.projectOpacity=K.projectOpacity.slice();else{var Z=+K.projectOpacity;this.projectOpacity=[Z,Z,Z]}for(var X=0;X<3;++X)this.projectOpacity[X]=S(this.projectOpacity[X]),this.projectOpacity[X]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in K&&(this.opacity=S(K.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var $=K.position,ie=K.font||"normal",J=K.alignment||[0,0],j,se;if(J.length===2)j=J[0],se=J[1];else{j=[],se=[];for(var X=0;X<J.length;++X)j[X]=J[X][0],se[X]=J[X][1]}var ne=[1/0,1/0,1/0],ue=[-1/0,-1/0,-1/0],ge=K.glyph,we=K.color,xe=K.size,Fe=K.angle,ze=K.lineColor,Te=-1,ye=0,Ae=0,Ne=0;if($.length){Ne=$.length;e:for(var X=0;X<Ne;++X){for(var Ue=$[X],Re=0;Re<3;++Re)if(isNaN(Ue[Re])||!isFinite(Ue[Re]))continue e;var Ve=ae(ge,X,ie,this.pixelRatio),rt=Ve.mesh,Qe=Ve.lines,Je=Ve.bounds;ye+=rt.cells.length*3,Ae+=Qe.edges.length*2}}var qe=ye+Ae,dt=s.mallocFloat(3*qe),pt=s.mallocFloat(4*qe),mt=s.mallocFloat(2*qe),Ct=s.mallocUint32(qe);if(qe>0){var Rt=0,Zt=ye,Xe=[0,0,0,1],Le=[0,0,0,1],Pe=Array.isArray(we)&&Array.isArray(we[0]),ke=Array.isArray(ze)&&Array.isArray(ze[0]);e:for(var X=0;X<Ne;++X){Te+=1;for(var Ue=$[X],Re=0;Re<3;++Re){if(isNaN(Ue[Re])||!isFinite(Ue[Re]))continue e;ue[Re]=Math.max(ue[Re],Ue[Re]),ne[Re]=Math.min(ne[Re],Ue[Re])}var Ve=ae(ge,X,ie,this.pixelRatio),rt=Ve.mesh,Qe=Ve.lines,Je=Ve.bounds,Ce=Ve.visible;if(!Ce)Xe=[1,1,1,0];else if(Array.isArray(we)){var me;if(Pe?X<we.length?me=we[X]:me=[0,0,0,0]:me=we,me.length===3){for(var Re=0;Re<3;++Re)Xe[Re]=me[Re];Xe[3]=1}else if(me.length===4){for(var Re=0;Re<4;++Re)Xe[Re]=me[Re];!this.hasAlpha&&me[3]<1&&(this.hasAlpha=!0)}}else Xe[0]=Xe[1]=Xe[2]=0,Xe[3]=1;if(!Ce)Le=[1,1,1,0];else if(Array.isArray(ze)){var me;if(ke?X<ze.length?me=ze[X]:me=[0,0,0,0]:me=ze,me.length===3){for(var Re=0;Re<3;++Re)Le[Re]=me[Re];Le[Re]=1}else if(me.length===4){for(var Re=0;Re<4;++Re)Le[Re]=me[Re];!this.hasAlpha&&me[3]<1&&(this.hasAlpha=!0)}}else Le[0]=Le[1]=Le[2]=0,Le[3]=1;var oe=.5;Ce?Array.isArray(xe)?X<xe.length?oe=+xe[X]:oe=12:xe?oe=+xe:this.useOrtho&&(oe=12):oe=0;var pe=0;Array.isArray(Fe)?X<Fe.length?pe=+Fe[X]:pe=0:Fe&&(pe=+Fe);for(var Me=Math.cos(pe),_e=Math.sin(pe),Ue=$[X],Re=0;Re<3;++Re)ue[Re]=Math.max(ue[Re],Ue[Re]),ne[Re]=Math.min(ne[Re],Ue[Re]);var tt=j,at=se,tt=0;Array.isArray(j)?X<j.length?tt=j[X]:tt=0:j&&(tt=j);var at=0;Array.isArray(se)?X<se.length?at=se[X]:at=0:se&&(at=se),tt*=tt>0?1-Je[0][0]:tt<0?1+Je[1][0]:1,at*=at>0?1-Je[0][1]:at<0?1+Je[1][1]:1;for(var At=[tt,at],$t=rt.cells||[],lr=rt.positions||[],Re=0;Re<$t.length;++Re)for(var Ft=$t[Re],Gt=0;Gt<3;++Gt){for(var Yt=0;Yt<3;++Yt)dt[3*Rt+Yt]=Ue[Yt];for(var Yt=0;Yt<4;++Yt)pt[4*Rt+Yt]=Xe[Yt];Ct[Rt]=Te;var Dt=lr[Ft[Gt]];mt[2*Rt]=oe*(Me*Dt[0]-_e*Dt[1]+At[0]),mt[2*Rt+1]=oe*(_e*Dt[0]+Me*Dt[1]+At[1]),Rt+=1}for(var $t=Qe.edges,lr=Qe.positions,Re=0;Re<$t.length;++Re)for(var Ft=$t[Re],Gt=0;Gt<2;++Gt){for(var Yt=0;Yt<3;++Yt)dt[3*Zt+Yt]=Ue[Yt];for(var Yt=0;Yt<4;++Yt)pt[4*Zt+Yt]=Le[Yt];Ct[Zt]=Te;var Dt=lr[Ft[Gt]];mt[2*Zt]=oe*(Me*Dt[0]-_e*Dt[1]+At[0]),mt[2*Zt+1]=oe*(_e*Dt[0]+Me*Dt[1]+At[1]),Zt+=1}}}this.bounds=[ne,ue],this.points=$,this.pointCount=$.length,this.vertexCount=ye,this.lineVertexCount=Ae,this.pointBuffer.update(dt),this.colorBuffer.update(pt),this.glyphBuffer.update(mt),this.idBuffer.update(Ct),s.free(dt),s.free(pt),s.free(mt),s.free(Ct)},E.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function fe(K){var W=K.gl,Z=l.createPerspective(W),X=l.createOrtho(W),$=l.createProject(W),ie=l.createPickPerspective(W),J=l.createPickOrtho(W),j=l.createPickProject(W),se=u(W),ne=u(W),ue=u(W),ge=u(W),we=n(W,[{buffer:se,size:3,type:W.FLOAT},{buffer:ne,size:4,type:W.FLOAT},{buffer:ue,size:2,type:W.FLOAT},{buffer:ge,size:4,type:W.UNSIGNED_BYTE,normalized:!0}]),xe=new A(W,Z,X,$,se,ne,ue,ge,we,ie,J,j);return xe.update(K),xe}},1884:function(v,d,t){var r=t(6832);d.boxVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),d.boxFragment=r([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},6623:function(v,d,t){var r=t(5158),u=t(5827),n=t(1884);v.exports=l;function s(x,c,b){this.plot=x,this.boxBuffer=c,this.boxShader=b,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var f=s.prototype;f.draw=function(){if(this.enabled){var x=this.plot,c=this.selectBox,b=this.borderWidth;this.innerFill;var h=this.innerColor;this.outerFill;var o=this.outerColor,p=this.borderColor,S=x.box,A=x.screenBox,E=x.dataBox,m=x.viewBox,M=x.pixelRatio,w=(c[0]-E[0])*(m[2]-m[0])/(E[2]-E[0])+m[0],i=(c[1]-E[1])*(m[3]-m[1])/(E[3]-E[1])+m[1],C=(c[2]-E[0])*(m[2]-m[0])/(E[2]-E[0])+m[0],y=(c[3]-E[1])*(m[3]-m[1])/(E[3]-E[1])+m[1];if(w=Math.max(w,m[0]),i=Math.max(i,m[1]),C=Math.min(C,m[2]),y=Math.min(y,m[3]),!(C<w||y<i)){S.bind();var _=A[2]-A[0],I=A[3]-A[1];if(this.outerFill&&(S.drawBox(0,0,_,i,o),S.drawBox(0,i,w,y,o),S.drawBox(0,y,_,I,o),S.drawBox(C,i,_,y,o)),this.innerFill&&S.drawBox(w,i,C,y,h),b>0){var N=b*M;S.drawBox(w-N,i-N,C+N,i+N,p),S.drawBox(w-N,y-N,C+N,y+N,p),S.drawBox(w-N,i-N,w+N,y+N,p),S.drawBox(C-N,i-N,C+N,y+N,p)}}}},f.update=function(x){x=x||{},this.innerFill=!!x.innerFill,this.outerFill=!!x.outerFill,this.innerColor=(x.innerColor||[0,0,0,.5]).slice(),this.outerColor=(x.outerColor||[0,0,0,.5]).slice(),this.borderColor=(x.borderColor||[0,0,0,1]).slice(),this.borderWidth=x.borderWidth||0,this.selectBox=(x.selectBox||this.selectBox).slice()},f.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function l(x,c){var b=x.gl,h=u(b,[0,0,0,1,1,0,1,1]),o=r(b,n.boxVertex,n.boxFragment),p=new s(x,h,o);return p.update(c),x.addOverlay(p),p}},2611:function(v,d,t){v.exports=b;var r=t(4234),u=t(5306),n=t(5050),s=t(2288).nextPow2,f=function(h,o,p){for(var S=1e8,A=-1,E=-1,m=h.shape[0],M=h.shape[1],w=0;w<m;w++)for(var i=0;i<M;i++){var C=h.get(w,i,0),y=h.get(w,i,1),_=h.get(w,i,2),I=h.get(w,i,3);if(C<255||y<255||_<255||I<255){var N=o-w,k=p-i,O=N*N+k*k;O<S&&(S=O,A=w,E=i)}}return[A,E,S]};function l(h,o,p,S,A){this.coord=[h,o],this.id=p,this.value=S,this.distance=A}function x(h,o,p){this.gl=h,this.fbo=o,this.buffer=p,this._readTimeout=null;var S=this;this._readCallback=function(){S.gl&&(o.bind(),h.readPixels(0,0,o.shape[0],o.shape[1],h.RGBA,h.UNSIGNED_BYTE,S.buffer),S._readTimeout=null)}}var c=x.prototype;Object.defineProperty(c,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(h){if(this.gl){this.fbo.shape=h;var o=this.fbo.shape[0],p=this.fbo.shape[1];if(p*o*4>this.buffer.length){u.free(this.buffer);for(var S=this.buffer=u.mallocUint8(s(p*o*4)),A=0;A<p*o*4;++A)S[A]=255}return h}}}),c.begin=function(){var h=this.gl;this.shape,h&&(this.fbo.bind(),h.clearColor(1,1,1,1),h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT))},c.end=function(){var h=this.gl;h&&(h.bindFramebuffer(h.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},c.query=function(h,o,p){if(!this.gl)return null;var S=this.fbo.shape.slice();h=h|0,o=o|0,typeof p!="number"&&(p=1);var A=Math.min(Math.max(h-p,0),S[0])|0,E=Math.min(Math.max(h+p,0),S[0])|0,m=Math.min(Math.max(o-p,0),S[1])|0,M=Math.min(Math.max(o+p,0),S[1])|0;if(E<=A||M<=m)return null;var w=[E-A,M-m],i=n(this.buffer,[w[0],w[1],4],[4,S[0]*4,1],4*(A+S[0]*m)),C=f(i.hi(w[0],w[1],1),p,p),y=C[0],_=C[1];if(y<0||Math.pow(this.radius,2)<C[2])return null;var I=i.get(y,_,0),N=i.get(y,_,1),k=i.get(y,_,2),O=i.get(y,_,3);return new l(y+A|0,_+m|0,I,[N,k,O],Math.sqrt(C[2]))},c.dispose=function(){this.gl&&(this.fbo.dispose(),u.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function b(h,o){var p=o[0],S=o[1],A={},E=r(h,p,S,A),m=u.mallocUint8(p*S*4);return new x(h,E,m)}},5158:function(v,d,t){var r=t(9016),u=t(4280),n=t(3984),s=t(1628),f=t(2631),l=t(9068);function x(o){this.gl=o,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var c=x.prototype;c.bind=function(){this.program||this._relink();var o,p=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),S=this.gl.lastAttribCount;if(p>S)for(o=S;o<p;o++)this.gl.enableVertexAttribArray(o);else if(S>p)for(o=p;o<S;o++)this.gl.disableVertexAttribArray(o);this.gl.lastAttribCount=p,this.gl.useProgram(this.program)},c.dispose=function(){for(var o=this.gl.lastAttribCount,p=0;p<o;p++)this.gl.disableVertexAttribArray(p);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function b(o,p){return o.name<p.name?-1:1}c.update=function(o,p,S,A){if(!p||arguments.length===1){var E=o;o=E.vertex,p=E.fragment,S=E.uniforms,A=E.attributes}var m=this,M=m.gl,w=m._vref;m._vref=s.shader(M,M.VERTEX_SHADER,o),w&&w.dispose(),m.vertShader=m._vref.shader;var i=this._fref;if(m._fref=s.shader(M,M.FRAGMENT_SHADER,p),i&&i.dispose(),m.fragShader=m._fref.shader,!S||!A){var C=M.createProgram();if(M.attachShader(C,m.fragShader),M.attachShader(C,m.vertShader),M.linkProgram(C),!M.getProgramParameter(C,M.LINK_STATUS)){var y=M.getProgramInfoLog(C);throw new l(y,"Error linking program:"+y)}S=S||f.uniforms(M,C),A=A||f.attributes(M,C),M.deleteProgram(C)}A=A.slice(),A.sort(b);var _=[],I=[],N=[],k;for(k=0;k<A.length;++k){var O=A[k];if(O.type.indexOf("mat")>=0){for(var z=O.type.charAt(O.type.length-1)|0,F=new Array(z),B=0;B<z;++B)F[B]=N.length,I.push(O.name+"["+B+"]"),typeof O.location=="number"?N.push(O.location+B):Array.isArray(O.location)&&O.location.length===z&&typeof O.location[B]=="number"?N.push(O.location[B]|0):N.push(-1);_.push({name:O.name,type:O.type,locations:F})}else _.push({name:O.name,type:O.type,locations:[N.length]}),I.push(O.name),typeof O.location=="number"?N.push(O.location|0):N.push(-1)}var G=0;for(k=0;k<N.length;++k)if(N[k]<0){for(;N.indexOf(G)>=0;)G+=1;N[k]=G}var Q=new Array(S.length);function ee(){m.program=s.program(M,m._vref,m._fref,I,N);for(var ae=0;ae<S.length;++ae)Q[ae]=M.getUniformLocation(m.program,S[ae].name)}ee(),m._relink=ee,m.types={uniforms:n(S),attributes:n(A)},m.attributes=u(M,m,_,N),Object.defineProperty(m,"uniforms",r(M,m,S,Q))};function h(o,p,S,A,E){var m=new x(o);return m.update(p,S,A,E),m}v.exports=h},9068:function(v){function d(t,r,u){this.shortMessage=r||"",this.longMessage=u||"",this.rawError=t||"",this.message="gl-shader: "+(r||t||"")+(u?`
`+u:""),this.stack=new Error().stack}d.prototype=new Error,d.prototype.name="GLError",d.prototype.constructor=d,v.exports=d},4280:function(v,d,t){v.exports=x;var r=t(9068);function u(c,b,h,o,p,S){this._gl=c,this._wrapper=b,this._index=h,this._locations=o,this._dimension=p,this._constFunc=S}var n=u.prototype;n.pointer=function(b,h,o,p){var S=this,A=S._gl,E=S._locations[S._index];A.vertexAttribPointer(E,S._dimension,b||A.FLOAT,!!h,o||0,p||0),A.enableVertexAttribArray(E)},n.set=function(c,b,h,o){return this._constFunc(this._locations[this._index],c,b,h,o)},Object.defineProperty(n,"location",{get:function(){return this._locations[this._index]},set:function(c){return c!==this._locations[this._index]&&(this._locations[this._index]=c|0,this._wrapper.program=null),c|0}});var s=[function(c,b,h){return h.length===void 0?c.vertexAttrib1f(b,h):c.vertexAttrib1fv(b,h)},function(c,b,h,o){return h.length===void 0?c.vertexAttrib2f(b,h,o):c.vertexAttrib2fv(b,h)},function(c,b,h,o,p){return h.length===void 0?c.vertexAttrib3f(b,h,o,p):c.vertexAttrib3fv(b,h)},function(c,b,h,o,p,S){return h.length===void 0?c.vertexAttrib4f(b,h,o,p,S):c.vertexAttrib4fv(b,h)}];function f(c,b,h,o,p,S,A){var E=s[p],m=new u(c,b,h,o,p,E);Object.defineProperty(S,A,{set:function(M){return c.disableVertexAttribArray(o[h]),E(c,o[h],M),M},get:function(){return m},enumerable:!0})}function l(c,b,h,o,p,S,A){for(var E=new Array(p),m=new Array(p),M=0;M<p;++M)f(c,b,h[M],o,p,E,M),m[M]=E[M];Object.defineProperty(E,"location",{set:function(C){if(Array.isArray(C))for(var y=0;y<p;++y)m[y].location=C[y];else for(var y=0;y<p;++y)m[y].location=C+y;return C},get:function(){for(var C=new Array(p),y=0;y<p;++y)C[y]=o[h[y]];return C},enumerable:!0}),E.pointer=function(C,y,_,I){C=C||c.FLOAT,y=!!y,_=_||p*p,I=I||0;for(var N=0;N<p;++N){var k=o[h[N]];c.vertexAttribPointer(k,p,C,y,_,I+N*p),c.enableVertexAttribArray(k)}};var w=new Array(p),i=c["vertexAttrib"+p+"fv"];Object.defineProperty(S,A,{set:function(C){for(var y=0;y<p;++y){var _=o[h[y]];if(c.disableVertexAttribArray(_),Array.isArray(C[0]))i.call(c,_,C[y]);else{for(var I=0;I<p;++I)w[I]=C[p*y+I];i.call(c,_,w)}}return C},get:function(){return E},enumerable:!0})}function x(c,b,h,o){for(var p={},S=0,A=h.length;S<A;++S){var E=h[S],m=E.name,M=E.type,w=E.locations;switch(M){case"bool":case"int":case"float":f(c,b,w[0],o,1,p,m);break;default:if(M.indexOf("vec")>=0){var i=M.charCodeAt(M.length-1)-48;if(i<2||i>4)throw new r("","Invalid data type for attribute "+m+": "+M);f(c,b,w[0],o,i,p,m)}else if(M.indexOf("mat")>=0){var i=M.charCodeAt(M.length-1)-48;if(i<2||i>4)throw new r("","Invalid data type for attribute "+m+": "+M);l(c,b,w,o,i,p,m)}else throw new r("","Unknown data type for attribute "+m+": "+M);break}}return p}},9016:function(v,d,t){var r=t(3984),u=t(9068);v.exports=f;function n(l){return function(){return l}}function s(l,x){for(var c=new Array(l),b=0;b<l;++b)c[b]=x;return c}function f(l,x,c,b){function h(M){return function(w,i,C){return w.getUniform(i.program,C[M])}}function o(M){return function(i){for(var C=p("",M),y=0;y<C.length;++y){var _=C[y],I=_[0],N=_[1];if(b[N]){var k=i;if(typeof I=="string"&&(I.indexOf(".")===0||I.indexOf("[")===0)){var O=I;if(I.indexOf(".")===0&&(O=I.slice(1)),O.indexOf("]")===O.length-1){var z=O.indexOf("["),F=O.slice(0,z),B=O.slice(z+1,O.length-1);k=F?i[F][B]:i[B]}else k=i[O]}var G=c[N].type,Q;switch(G){case"bool":case"int":case"sampler2D":case"samplerCube":l.uniform1i(b[N],k);break;case"float":l.uniform1f(b[N],k);break;default:var ee=G.indexOf("vec");if(0<=ee&&ee<=1&&G.length===4+ee){if(Q=G.charCodeAt(G.length-1)-48,Q<2||Q>4)throw new u("","Invalid data type");switch(G.charAt(0)){case"b":case"i":l["uniform"+Q+"iv"](b[N],k);break;case"v":l["uniform"+Q+"fv"](b[N],k);break;default:throw new u("","Unrecognized data type for vector "+name+": "+G)}}else if(G.indexOf("mat")===0&&G.length===4){if(Q=G.charCodeAt(G.length-1)-48,Q<2||Q>4)throw new u("","Invalid uniform dimension type for matrix "+name+": "+G);l["uniformMatrix"+Q+"fv"](b[N],!1,k);break}else throw new u("","Unknown uniform data type for "+name+": "+G)}}}}}function p(M,w){if(typeof w!="object")return[[M,w]];var i=[];for(var C in w){var y=w[C],_=M;parseInt(C)+""===C?_+="["+C+"]":_+="."+C,typeof y=="object"?i.push.apply(i,p(_,y)):i.push([_,y])}return i}function S(M){switch(M){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var w=M.indexOf("vec");if(0<=w&&w<=1&&M.length===4+w){var i=M.charCodeAt(M.length-1)-48;if(i<2||i>4)throw new u("","Invalid data type");return M.charAt(0)==="b"?s(i,!1):s(i,0)}else if(M.indexOf("mat")===0&&M.length===4){var i=M.charCodeAt(M.length-1)-48;if(i<2||i>4)throw new u("","Invalid uniform dimension type for matrix "+name+": "+M);return s(i*i,0)}else throw new u("","Unknown uniform data type for "+name+": "+M)}}function A(M,w,i){if(typeof i=="object"){var C=E(i);Object.defineProperty(M,w,{get:n(C),set:o(i),enumerable:!0,configurable:!1})}else b[i]?Object.defineProperty(M,w,{get:h(i),set:o(i),enumerable:!0,configurable:!1}):M[w]=S(c[i].type)}function E(M){var w;if(Array.isArray(M)){w=new Array(M.length);for(var i=0;i<M.length;++i)A(w,i,M[i])}else{w={};for(var C in M)A(w,C,M[C])}return w}var m=r(c,!0);return{get:n(E(m)),set:o(m),enumerable:!0,configurable:!0}}},3984:function(v){v.exports=d;function d(t,r){for(var u={},n=0;n<t.length;++n)for(var s=t[n].name,f=s.split("."),l=u,x=0;x<f.length;++x){var c=f[x].split("[");if(c.length>1){c[0]in l||(l[c[0]]=[]),l=l[c[0]];for(var b=1;b<c.length;++b){var h=parseInt(c[b]);b<c.length-1||x<f.length-1?(h in l||(b<c.length-1?l[h]=[]:l[h]={}),l=l[h]):r?l[h]=n:l[h]=t[n].type}}else x<f.length-1?(c[0]in l||(l[c[0]]={}),l=l[c[0]]):r?l[c[0]]=n:l[c[0]]=t[n].type}return u}},2631:function(v,d){d.uniforms=n,d.attributes=s;var t={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},r=null;function u(f,l){if(!r){var x=Object.keys(t);r={};for(var c=0;c<x.length;++c){var b=x[c];r[f[b]]=t[b]}}return r[l]}function n(f,l){for(var x=f.getProgramParameter(l,f.ACTIVE_UNIFORMS),c=[],b=0;b<x;++b){var h=f.getActiveUniform(l,b);if(h){var o=u(f,h.type);if(h.size>1)for(var p=0;p<h.size;++p)c.push({name:h.name.replace("[0]","["+p+"]"),type:o});else c.push({name:h.name,type:o})}}return c}function s(f,l){for(var x=f.getProgramParameter(l,f.ACTIVE_ATTRIBUTES),c=[],b=0;b<x;++b){var h=f.getActiveAttrib(l,b);h&&c.push({name:h.name,type:u(f,h.type)})}return c}},1628:function(v,d,t){d.shader=p,d.program=S;var r=t(9068),u=t(3530),n=typeof WeakMap>"u"?t(4037):WeakMap,s=new n,f=0;function l(A,E,m,M,w,i,C){this.id=A,this.src=E,this.type=m,this.shader=M,this.count=i,this.programs=[],this.cache=C}l.prototype.dispose=function(){if(--this.count===0){for(var A=this.cache,E=A.gl,m=this.programs,M=0,w=m.length;M<w;++M){var i=A.programs[m[M]];i&&(delete A.programs[M],E.deleteProgram(i))}E.deleteShader(this.shader),delete A.shaders[this.type===E.FRAGMENT_SHADER|0][this.src]}};function x(A){this.gl=A,this.shaders=[{},{}],this.programs={}}var c=x.prototype;function b(A,E,m){var M=A.createShader(E);if(A.shaderSource(M,m),A.compileShader(M),!A.getShaderParameter(M,A.COMPILE_STATUS)){var w=A.getShaderInfoLog(M);try{var i=u(w,m,E)}catch(C){throw console.warn("Failed to format compiler error: "+C),new r(w,`Error compiling shader:
`+w)}throw new r(w,i.short,i.long)}return M}c.getShaderReference=function(A,E){var m=this.gl,M=this.shaders[A===m.FRAGMENT_SHADER|0],w=M[E];if(!w||!m.isShader(w.shader)){var i=b(m,A,E);w=M[E]=new l(f++,E,A,i,[],1,this)}else w.count+=1;return w};function h(A,E,m,M,w){var i=A.createProgram();A.attachShader(i,E),A.attachShader(i,m);for(var C=0;C<M.length;++C)A.bindAttribLocation(i,w[C],M[C]);if(A.linkProgram(i),!A.getProgramParameter(i,A.LINK_STATUS)){var y=A.getProgramInfoLog(i);throw new r(y,"Error linking program: "+y)}return i}c.getProgram=function(A,E,m,M){var w=[A.id,E.id,m.join(":"),M.join(":")].join("@"),i=this.programs[w];return(!i||!this.gl.isProgram(i))&&(this.programs[w]=i=h(this.gl,A.shader,E.shader,m,M),A.programs.push(w),E.programs.push(w)),i};function o(A){var E=s.get(A);return E||(E=new x(A),s.set(A,E)),E}function p(A,E,m){return o(A).getShaderReference(E,m)}function S(A,E,m,M,w){return o(A).getProgram(E,m,M,w)}},3050:function(v){v.exports=r;function d(u){this.plot=u,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var t=d.prototype;t.update=function(u){u=u||{},this.enable=(u.enable||[!0,!0,!1,!1]).slice(),this.width=(u.width||[1,1,1,1]).slice(),this.color=(u.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(n){return n.slice()}),this.center=(u.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},t.draw=function(){var u=this.enable,n=this.width,s=this.color,f=this.center,l=this.plot,x=l.line,c=l.dataBox,b=l.viewBox;if(x.bind(),c[0]<=f[0]&&f[0]<=c[2]&&c[1]<=f[1]&&f[1]<=c[3]){var h=b[0]+(f[0]-c[0])/(c[2]-c[0])*(b[2]-b[0]),o=b[1]+(f[1]-c[1])/(c[3]-c[1])*(b[3]-b[1]);u[0]&&x.drawLine(h,o,b[0],o,n[0],s[0]),u[1]&&x.drawLine(h,o,h,b[1],n[1],s[1]),u[2]&&x.drawLine(h,o,b[2],o,n[2],s[2]),u[3]&&x.drawLine(h,o,h,b[3],n[3],s[3])}},t.dispose=function(){this.plot.removeOverlay(this)};function r(u,n){var s=new d(u);return s.update(n),u.addOverlay(s),s}},3540:function(v,d,t){var r=t(6832),u=t(5158),n=r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),s=r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);v.exports=function(f){return u(f,n,s,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(v,d,t){var r=t(5827),u=t(2944),n=t(3540);v.exports=h;var s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(o,p,S,A){this.gl=o,this.buffer=p,this.vao=S,this.shader=A,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var l=f.prototype,x=[0,0,0],c=[0,0,0],b=[0,0];l.isTransparent=function(){return!1},l.drawTransparent=function(o){},l.draw=function(o){var p=this.gl,S=this.vao,A=this.shader;S.bind(),A.bind();var E=o.model||s,m=o.view||s,M=o.projection||s,w;this.axes&&(w=this.axes.lastCubeProps.axis);for(var i=x,C=c,y=0;y<3;++y)w&&w[y]<0?(i[y]=this.bounds[0][y],C[y]=this.bounds[1][y]):(i[y]=this.bounds[1][y],C[y]=this.bounds[0][y]);b[0]=p.drawingBufferWidth,b[1]=p.drawingBufferHeight,A.uniforms.model=E,A.uniforms.view=m,A.uniforms.projection=M,A.uniforms.coordinates=[this.position,i,C],A.uniforms.colors=this.colors,A.uniforms.screenShape=b;for(var y=0;y<3;++y)A.uniforms.lineWidth=this.lineWidth[y]*this.pixelRatio,this.enabled[y]&&(S.draw(p.TRIANGLES,6,6*y),this.drawSides[y]&&S.draw(p.TRIANGLES,12,18+12*y));S.unbind()},l.update=function(o){o&&("bounds"in o&&(this.bounds=o.bounds),"position"in o&&(this.position=o.position),"lineWidth"in o&&(this.lineWidth=o.lineWidth),"colors"in o&&(this.colors=o.colors),"enabled"in o&&(this.enabled=o.enabled),"drawSides"in o&&(this.drawSides=o.drawSides))},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function h(o,p){var S=[];function A(i,C,y,_,I,N){var k=[i,C,y,0,0,0,1];k[_+3]=1,k[_]=I,S.push.apply(S,k),k[6]=-1,S.push.apply(S,k),k[_]=N,S.push.apply(S,k),S.push.apply(S,k),k[6]=1,S.push.apply(S,k),k[_]=I,S.push.apply(S,k)}A(0,0,0,0,0,1),A(0,0,0,1,0,1),A(0,0,0,2,0,1),A(1,0,0,1,-1,1),A(1,0,0,2,-1,1),A(0,1,0,0,-1,1),A(0,1,0,2,-1,1),A(0,0,1,0,-1,1),A(0,0,1,1,-1,1);var E=r(o,S),m=u(o,[{type:o.FLOAT,buffer:E,size:3,offset:0,stride:28},{type:o.FLOAT,buffer:E,size:3,offset:12,stride:28},{type:o.FLOAT,buffer:E,size:1,offset:24,stride:28}]),M=n(o);M.attributes.position.location=0,M.attributes.color.location=1,M.attributes.weight.location=2;var w=new f(o,E,m,M);return w.update(p),w}},9578:function(v,d,t){var r=t(6832),u=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),s=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),f=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);d.meshShader={vertex:u,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},d.pickShader={vertex:s,fragment:f,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(v,d,t){var r=t(2858),u=t(4020),n=["xyz","xzy","yxz","yzx","zxy","zyx"],s=function(S,A,E,m){for(var M=S.points,w=S.velocities,i=S.divergences,C=[],y=[],_=[],I=[],N=[],k=[],O=0,z=0,F=u.create(),B=u.create(),G=8,Q=0;Q<M.length;Q++){var ee=M[Q],ae=w[Q],fe=i[Q];A===0&&(fe=E*.05),z=r.length(ae)/m,F=u.create(),r.copy(F,ae),F[3]=fe;for(var K=0;K<G;K++)N[K]=[ee[0],ee[1],ee[2],K];if(I.length>0)for(var K=0;K<G;K++){var W=(K+1)%G;C.push(I[K],N[K],N[W],N[W],I[W],I[K]),_.push(B,F,F,F,B,B),k.push(O,z,z,z,O,O);var Z=C.length;y.push([Z-6,Z-5,Z-4],[Z-3,Z-2,Z-1])}var X=I;I=N,N=X;var $=B;B=F,F=$;var ie=O;O=z,z=ie}return{positions:C,cells:y,vectors:_,vertexIntensity:k}},f=function(S,A,E,m){for(var M=0,w=0;w<S.length;w++)for(var i=S[w].velocities,C=0;C<i.length;C++)M=Math.max(M,r.length(i[C]));for(var y=S.map(function(Q){return s(Q,E,m,M)}),_=[],I=[],N=[],k=[],w=0;w<y.length;w++){var O=y[w],z=_.length;_=_.concat(O.positions),N=N.concat(O.vectors),k=k.concat(O.vertexIntensity);for(var C=0;C<O.cells.length;C++){var F=O.cells[C],B=[];I.push(B);for(var G=0;G<F.length;G++)B.push(F[G]+z)}}return{positions:_,cells:I,vectors:N,vertexIntensity:k,colormap:A}},l=function(S,A){var E=S.length,m;for(m=0;m<E;m++){var M=S[m];if(M===A)return m;if(M>A)return m-1}return m},x=function(S,A,E){return S<A?A:S>E?E:S},c=function(S,A,E){var m=A.vectors,M=A.meshgrid,w=S[0],i=S[1],C=S[2],y=M[0].length,_=M[1].length,I=M[2].length,N=l(M[0],w),k=l(M[1],i),O=l(M[2],C),z=N+1,F=k+1,B=O+1;if(N=x(N,0,y-1),z=x(z,0,y-1),k=x(k,0,_-1),F=x(F,0,_-1),O=x(O,0,I-1),B=x(B,0,I-1),N<0||k<0||O<0||z>y-1||F>_-1||B>I-1)return r.create();var G=M[0][N],Q=M[0][z],ee=M[1][k],ae=M[1][F],fe=M[2][O],K=M[2][B],W=(w-G)/(Q-G),Z=(i-ee)/(ae-ee),X=(C-fe)/(K-fe);isFinite(W)||(W=.5),isFinite(Z)||(Z=.5),isFinite(X)||(X=.5);var $,ie,J,j,se,ne;switch(E.reversedX&&(N=y-1-N,z=y-1-z),E.reversedY&&(k=_-1-k,F=_-1-F),E.reversedZ&&(O=I-1-O,B=I-1-B),E.filled){case 5:se=O,ne=B,J=k*I,j=F*I,$=N*I*_,ie=z*I*_;break;case 4:se=O,ne=B,$=N*I,ie=z*I,J=k*I*y,j=F*I*y;break;case 3:J=k,j=F,se=O*_,ne=B*_,$=N*_*I,ie=z*_*I;break;case 2:J=k,j=F,$=N*_,ie=z*_,se=O*_*y,ne=B*_*y;break;case 1:$=N,ie=z,se=O*y,ne=B*y,J=k*y*I,j=F*y*I;break;default:$=N,ie=z,J=k*y,j=F*y,se=O*y*_,ne=B*y*_;break}var ue=m[$+J+se],ge=m[$+J+ne],we=m[$+j+se],xe=m[$+j+ne],Fe=m[ie+J+se],ze=m[ie+J+ne],Te=m[ie+j+se],ye=m[ie+j+ne],Ae=r.create(),Ne=r.create(),Ue=r.create(),Re=r.create();r.lerp(Ae,ue,Fe,W),r.lerp(Ne,ge,ze,W),r.lerp(Ue,we,Te,W),r.lerp(Re,xe,ye,W);var Ve=r.create(),rt=r.create();r.lerp(Ve,Ae,Ue,Z),r.lerp(rt,Ne,Re,Z);var Qe=r.create();return r.lerp(Qe,Ve,rt,X),Qe},b=function(S){var A=1/0;S.sort(function(w,i){return w-i});for(var E=S.length,m=1;m<E;m++){var M=Math.abs(S[m]-S[m-1]);M<A&&(A=M)}return A},h=function(S){for(var A=[],E=[],m=[],M={},w={},i={},C=S.length,y=0;y<C;y++){var _=S[y],I=_[0],N=_[1],k=_[2];M[I]||(A.push(I),M[I]=!0),w[N]||(E.push(N),w[N]=!0),i[k]||(m.push(k),i[k]=!0)}var O=b(A),z=b(E),F=b(m),B=Math.min(O,z,F);return isFinite(B)?B:1};v.exports=function(S,A){var E=S.startingPositions,m=S.maxLength||1e3,M=S.tubeSize||1,w=S.absoluteTubeSize,i=S.gridFill||"+x+y+z",C={};i.indexOf("-x")!==-1&&(C.reversedX=!0),i.indexOf("-y")!==-1&&(C.reversedY=!0),i.indexOf("-z")!==-1&&(C.reversedZ=!0),C.filled=n.indexOf(i.replace(/-/g,"").replace(/\+/g,""));var y=S.getVelocity||function(ze){return c(ze,S,C)},_=S.getDivergence||function(ze,Te){var ye=r.create(),Ae=1e-4;r.add(ye,ze,[Ae,0,0]);var Ne=y(ye);r.subtract(Ne,Ne,Te),r.scale(Ne,Ne,1/Ae),r.add(ye,ze,[0,Ae,0]);var Ue=y(ye);r.subtract(Ue,Ue,Te),r.scale(Ue,Ue,1/Ae),r.add(ye,ze,[0,0,Ae]);var Re=y(ye);return r.subtract(Re,Re,Te),r.scale(Re,Re,1/Ae),r.add(ye,Ne,Ue),r.add(ye,ye,Re),ye},I=[],N=A[0][0],k=A[0][1],O=A[0][2],z=A[1][0],F=A[1][1],B=A[1][2],G=function(ze){var Te=ze[0],ye=ze[1],Ae=ze[2];return!(Te<N||Te>z||ye<k||ye>F||Ae<O||Ae>B)},Q=r.distance(A[0],A[1]),ee=10*Q/m,ae=ee*ee,fe=1,K=0,W=E.length;W>1&&(fe=h(E));for(var Z=0;Z<W;Z++){var X=r.create();r.copy(X,E[Z]);var $=[X],ie=[],J=y(X),j=X;ie.push(J);var se=[],ne=_(X,J),ue=r.length(ne);isFinite(ue)&&ue>K&&(K=ue),se.push(ue),I.push({points:$,velocities:ie,divergences:se});for(var ge=0;ge<m*100&&$.length<m&&G(X);){ge++;var we=r.clone(J),xe=r.squaredLength(we);if(xe===0)break;if(xe>ae&&r.scale(we,we,ee/Math.sqrt(xe)),r.add(we,we,X),J=y(we),r.squaredDistance(j,we)-ae>-1e-4*ae){$.push(we),j=we,ie.push(J);var ne=_(we,J),ue=r.length(ne);isFinite(ue)&&ue>K&&(K=ue),se.push(ue)}X=we}}var Fe=f(I,S.colormap,K,fe);return w?Fe.tubeScale=w:(K===0&&(K=1),Fe.tubeScale=M*.5*fe/K),Fe};var o=t(9578),p=t(1140).createMesh;v.exports.createTubeMesh=function(S,A){return p(S,A,{shaders:o,traceType:"streamtube"})}},9054:function(v,d,t){var r=t(5158),u=t(6832),n=u([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),s=u([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color — in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),f=u([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),l=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);d.createShader=function(x){var c=r(x,n,s,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},d.createPickShader=function(x){var c=r(x,n,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},d.createContourShader=function(x){var c=r(x,f,s,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c},d.createPickContourShader=function(x){var c=r(x,f,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c}},3754:function(v,d,t){v.exports=ie;var r=t(2288),u=t(5827),n=t(2944),s=t(8931),f=t(5306),l=t(9156),x=t(7498),c=t(7382),b=t(5050),h=t(4162),o=t(104),p=t(7437),S=t(5070),A=t(9144),E=t(9054),m=E.createShader,M=E.createContourShader,w=E.createPickShader,i=E.createPickContourShader,C=4*(4+3+3),y=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],_=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],I=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var J=0;J<3;++J){var j=I[J],se=(J+1)%3,ne=(J+2)%3;j[se+0]=1,j[ne+3]=1,j[J+6]=1}})();function N(J,j,se,ne,ue){this.position=J,this.index=j,this.uv=se,this.level=ne,this.dataCoordinate=ue}var k=256;function O(J,j,se,ne,ue,ge,we,xe,Fe,ze,Te,ye,Ae,Ne,Ue){this.gl=J,this.shape=j,this.bounds=se,this.objectOffset=Ue,this.intensityBounds=[],this._shader=ne,this._pickShader=ue,this._coordinateBuffer=ge,this._vao=we,this._colorMap=xe,this._contourShader=Fe,this._contourPickShader=ze,this._contourBuffer=Te,this._contourVAO=ye,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new N([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Ae,this._dynamicVAO=Ne,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[b(f.mallocFloat(1024),[0,0]),b(f.mallocFloat(1024),[0,0]),b(f.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var z=O.prototype;z.genColormap=function(J,j){var se=!1,ne=c([l({colormap:J,nshades:k,format:"rgba"}).map(function(ue,ge){var we=j?F(ge/255,j):ue[3];return we<1&&(se=!0),[ue[0],ue[1],ue[2],255*we]})]);return x.divseq(ne,255),this.hasAlphaScale=se,ne},z.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},z.isOpaque=function(){return!this.isTransparent()},z.pickSlots=1,z.setPickBase=function(J){this.pickId=J};function F(J,j){if(!j||!j.length)return 1;for(var se=0;se<j.length;++se){if(j.length<2)return 1;if(j[se][0]===J)return j[se][1];if(j[se][0]>J&&se>0){var ne=(j[se][0]-J)/(j[se][0]-j[se-1][0]);return j[se][1]*(1-ne)+ne*j[se-1][1]}}return 1}var B=[0,0,0],G={showSurface:!1,showContour:!1,projections:[y.slice(),y.slice(),y.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function Q(J,j){var se,ne,ue,ge=j.axes&&j.axes.lastCubeProps.axis||B,we=j.showSurface,xe=j.showContour;for(se=0;se<3;++se)for(we=we||j.surfaceProject[se],ne=0;ne<3;++ne)xe=xe||j.contourProject[se][ne];for(se=0;se<3;++se){var Fe=G.projections[se];for(ne=0;ne<16;++ne)Fe[ne]=0;for(ne=0;ne<4;++ne)Fe[5*ne]=1;Fe[5*se]=0,Fe[12+se]=j.axesBounds[+(ge[se]>0)][se],o(Fe,J.model,Fe);var ze=G.clipBounds[se];for(ue=0;ue<2;++ue)for(ne=0;ne<3;++ne)ze[ue][ne]=J.clipBounds[ue][ne];ze[0][se]=-1e8,ze[1][se]=1e8}return G.showSurface=we,G.showContour=xe,G}var ee={model:y,view:y,projection:y,inverseModel:y.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},ae=y.slice(),fe=[1,0,0,0,1,0,0,0,1];function K(J,j){J=J||{};var se=this.gl;se.disable(se.CULL_FACE),this._colorMap.bind(0);var ne=ee;ne.model=J.model||y,ne.view=J.view||y,ne.projection=J.projection||y,ne.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],ne.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],ne.objectOffset=this.objectOffset,ne.contourColor=this.contourColor[0],ne.inverseModel=p(ne.inverseModel,ne.model);for(var ue=0;ue<2;++ue)for(var ge=ne.clipBounds[ue],we=0;we<3;++we)ge[we]=Math.min(Math.max(this.clipBounds[ue][we],-1e8),1e8);ne.kambient=this.ambientLight,ne.kdiffuse=this.diffuseLight,ne.kspecular=this.specularLight,ne.roughness=this.roughness,ne.fresnel=this.fresnel,ne.opacity=this.opacity,ne.height=0,ne.permutation=fe,ne.vertexColor=this.vertexColor;var xe=ae;for(o(xe,ne.view,ne.model),o(xe,ne.projection,xe),p(xe,xe),ue=0;ue<3;++ue)ne.eyePosition[ue]=xe[12+ue]/xe[15];var Fe=xe[15];for(ue=0;ue<3;++ue)Fe+=this.lightPosition[ue]*xe[4*ue+3];for(ue=0;ue<3;++ue){var ze=xe[12+ue];for(we=0;we<3;++we)ze+=xe[4*we+ue]*this.lightPosition[we];ne.lightPosition[ue]=ze/Fe}var Te=Q(ne,this);if(Te.showSurface){for(this._shader.bind(),this._shader.uniforms=ne,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(se.TRIANGLES,this._vertexCount),ue=0;ue<3;++ue)!this.surfaceProject[ue]||!this.vertexCount||(this._shader.uniforms.model=Te.projections[ue],this._shader.uniforms.clipBounds=Te.clipBounds[ue],this._vao.draw(se.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Te.showContour){var ye=this._contourShader;ne.kambient=1,ne.kdiffuse=0,ne.kspecular=0,ne.opacity=1,ye.bind(),ye.uniforms=ne;var Ae=this._contourVAO;for(Ae.bind(),ue=0;ue<3;++ue)for(ye.uniforms.permutation=I[ue],se.lineWidth(this.contourWidth[ue]*this.pixelRatio),we=0;we<this.contourLevels[ue].length;++we)we===this.highlightLevel[ue]?(ye.uniforms.contourColor=this.highlightColor[ue],ye.uniforms.contourTint=this.highlightTint[ue]):(we===0||we-1===this.highlightLevel[ue])&&(ye.uniforms.contourColor=this.contourColor[ue],ye.uniforms.contourTint=this.contourTint[ue]),this._contourCounts[ue][we]&&(ye.uniforms.height=this.contourLevels[ue][we],Ae.draw(se.LINES,this._contourCounts[ue][we],this._contourOffsets[ue][we]));for(ue=0;ue<3;++ue)for(ye.uniforms.model=Te.projections[ue],ye.uniforms.clipBounds=Te.clipBounds[ue],we=0;we<3;++we)if(this.contourProject[ue][we]){ye.uniforms.permutation=I[we],se.lineWidth(this.contourWidth[we]*this.pixelRatio);for(var Ne=0;Ne<this.contourLevels[we].length;++Ne)Ne===this.highlightLevel[we]?(ye.uniforms.contourColor=this.highlightColor[we],ye.uniforms.contourTint=this.highlightTint[we]):(Ne===0||Ne-1===this.highlightLevel[we])&&(ye.uniforms.contourColor=this.contourColor[we],ye.uniforms.contourTint=this.contourTint[we]),this._contourCounts[we][Ne]&&(ye.uniforms.height=this.contourLevels[we][Ne],Ae.draw(se.LINES,this._contourCounts[we][Ne],this._contourOffsets[we][Ne]))}for(Ae.unbind(),Ae=this._dynamicVAO,Ae.bind(),ue=0;ue<3;++ue)if(this._dynamicCounts[ue]!==0)for(ye.uniforms.model=ne.model,ye.uniforms.clipBounds=ne.clipBounds,ye.uniforms.permutation=I[ue],se.lineWidth(this.dynamicWidth[ue]*this.pixelRatio),ye.uniforms.contourColor=this.dynamicColor[ue],ye.uniforms.contourTint=this.dynamicTint[ue],ye.uniforms.height=this.dynamicLevel[ue],Ae.draw(se.LINES,this._dynamicCounts[ue],this._dynamicOffsets[ue]),we=0;we<3;++we)this.contourProject[we][ue]&&(ye.uniforms.model=Te.projections[we],ye.uniforms.clipBounds=Te.clipBounds[we],Ae.draw(se.LINES,this._dynamicCounts[ue],this._dynamicOffsets[ue]));Ae.unbind()}}z.draw=function(J){return K.call(this,J,!1)},z.drawTransparent=function(J){return K.call(this,J,!0)};var W={model:y,view:y,projection:y,inverseModel:y,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};z.drawPick=function(J){J=J||{};var j=this.gl;j.disable(j.CULL_FACE);var se=W;se.model=J.model||y,se.view=J.view||y,se.projection=J.projection||y,se.shape=this._field[2].shape,se.pickId=this.pickId/255,se.lowerBound=this.bounds[0],se.upperBound=this.bounds[1],se.objectOffset=this.objectOffset,se.permutation=fe;for(var ne=0;ne<2;++ne)for(var ue=se.clipBounds[ne],ge=0;ge<3;++ge)ue[ge]=Math.min(Math.max(this.clipBounds[ne][ge],-1e8),1e8);var we=Q(se,this);if(we.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=se,this._vao.bind(),this._vao.draw(j.TRIANGLES,this._vertexCount),ne=0;ne<3;++ne)this.surfaceProject[ne]&&(this._pickShader.uniforms.model=we.projections[ne],this._pickShader.uniforms.clipBounds=we.clipBounds[ne],this._vao.draw(j.TRIANGLES,this._vertexCount));this._vao.unbind()}if(we.showContour){var xe=this._contourPickShader;xe.bind(),xe.uniforms=se;var Fe=this._contourVAO;for(Fe.bind(),ge=0;ge<3;++ge)for(j.lineWidth(this.contourWidth[ge]*this.pixelRatio),xe.uniforms.permutation=I[ge],ne=0;ne<this.contourLevels[ge].length;++ne)this._contourCounts[ge][ne]&&(xe.uniforms.height=this.contourLevels[ge][ne],Fe.draw(j.LINES,this._contourCounts[ge][ne],this._contourOffsets[ge][ne]));for(ne=0;ne<3;++ne)for(xe.uniforms.model=we.projections[ne],xe.uniforms.clipBounds=we.clipBounds[ne],ge=0;ge<3;++ge)if(this.contourProject[ne][ge]){xe.uniforms.permutation=I[ge],j.lineWidth(this.contourWidth[ge]*this.pixelRatio);for(var ze=0;ze<this.contourLevels[ge].length;++ze)this._contourCounts[ge][ze]&&(xe.uniforms.height=this.contourLevels[ge][ze],Fe.draw(j.LINES,this._contourCounts[ge][ze],this._contourOffsets[ge][ze]))}Fe.unbind()}},z.pick=function(J){if(!J||J.id!==this.pickId)return null;var j=this._field[2].shape,se=this._pickResult,ne=j[0]*(J.value[0]+(J.value[2]>>4)/16)/255,ue=Math.floor(ne),ge=ne-ue,we=j[1]*(J.value[1]+(J.value[2]&15)/16)/255,xe=Math.floor(we),Fe=we-xe;ue+=1,xe+=1;var ze=se.position;ze[0]=ze[1]=ze[2]=0;for(var Te=0;Te<2;++Te)for(var ye=Te?ge:1-ge,Ae=0;Ae<2;++Ae)for(var Ne=Ae?Fe:1-Fe,Ue=ue+Te,Re=xe+Ae,Ve=ye*Ne,rt=0;rt<3;++rt)ze[rt]+=this._field[rt].get(Ue,Re)*Ve;for(var Qe=this._pickResult.level,Je=0;Je<3;++Je)if(Qe[Je]=S.le(this.contourLevels[Je],ze[Je]),Qe[Je]<0)this.contourLevels[Je].length>0&&(Qe[Je]=0);else if(Qe[Je]<this.contourLevels[Je].length-1){var qe=this.contourLevels[Je][Qe[Je]],dt=this.contourLevels[Je][Qe[Je]+1];Math.abs(qe-ze[Je])>Math.abs(dt-ze[Je])&&(Qe[Je]+=1)}for(se.index[0]=ge<.5?ue:ue+1,se.index[1]=Fe<.5?xe:xe+1,se.uv[0]=ne/j[0],se.uv[1]=we/j[1],rt=0;rt<3;++rt)se.dataCoordinate[rt]=this._field[rt].get(se.index[0],se.index[1]);return se},z.padField=function(J,j){var se=j.shape.slice(),ne=J.shape.slice();x.assign(J.lo(1,1).hi(se[0],se[1]),j),x.assign(J.lo(1).hi(se[0],1),j.hi(se[0],1)),x.assign(J.lo(1,ne[1]-1).hi(se[0],1),j.lo(0,se[1]-1).hi(se[0],1)),x.assign(J.lo(0,1).hi(1,se[1]),j.hi(1)),x.assign(J.lo(ne[0]-1,1).hi(1,se[1]),j.lo(se[0]-1)),J.set(0,0,j.get(0,0)),J.set(0,ne[1]-1,j.get(0,se[1]-1)),J.set(ne[0]-1,0,j.get(se[0]-1,0)),J.set(ne[0]-1,ne[1]-1,j.get(se[0]-1,se[1]-1))};function Z(J,j){return Array.isArray(J)?[j(J[0]),j(J[1]),j(J[2])]:[j(J),j(J),j(J)]}function X(J){return Array.isArray(J)?J.length===3?[J[0],J[1],J[2],1]:[J[0],J[1],J[2],J[3]]:[0,0,0,1]}function $(J){if(Array.isArray(J)){if(Array.isArray(J))return[X(J[0]),X(J[1]),X(J[2])];var j=X(J);return[j.slice(),j.slice(),j.slice()]}}z.update=function(J){J=J||{},this.objectOffset=J.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in J&&(this.contourWidth=Z(J.contourWidth,Number)),"showContour"in J&&(this.showContour=Z(J.showContour,Boolean)),"showSurface"in J&&(this.showSurface=!!J.showSurface),"contourTint"in J&&(this.contourTint=Z(J.contourTint,Boolean)),"contourColor"in J&&(this.contourColor=$(J.contourColor)),"contourProject"in J&&(this.contourProject=Z(J.contourProject,function(Ot){return Z(Ot,Boolean)})),"surfaceProject"in J&&(this.surfaceProject=J.surfaceProject),"dynamicColor"in J&&(this.dynamicColor=$(J.dynamicColor)),"dynamicTint"in J&&(this.dynamicTint=Z(J.dynamicTint,Number)),"dynamicWidth"in J&&(this.dynamicWidth=Z(J.dynamicWidth,Number)),"opacity"in J&&(this.opacity=J.opacity),"opacityscale"in J&&(this.opacityscale=J.opacityscale),"colorBounds"in J&&(this.colorBounds=J.colorBounds),"vertexColor"in J&&(this.vertexColor=J.vertexColor?1:0),"colormap"in J&&this._colorMap.setPixels(this.genColormap(J.colormap,this.opacityscale));var j=J.field||J.coords&&J.coords[2]||null,se=!1;if(j||(this._field[2].shape[0]||this._field[2].shape[2]?j=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):j=this._field[2].hi(0,0)),"field"in J||"coords"in J){var ne=(j.shape[0]+2)*(j.shape[1]+2);ne>this._field[2].data.length&&(f.freeFloat(this._field[2].data),this._field[2].data=f.mallocFloat(r.nextPow2(ne))),this._field[2]=b(this._field[2].data,[j.shape[0]+2,j.shape[1]+2]),this.padField(this._field[2],j),this.shape=j.shape.slice();for(var ue=this.shape,ge=0;ge<2;++ge)this._field[2].size>this._field[ge].data.length&&(f.freeFloat(this._field[ge].data),this._field[ge].data=f.mallocFloat(this._field[2].size)),this._field[ge]=b(this._field[ge].data,[ue[0]+2,ue[1]+2]);if(J.coords){var we=J.coords;if(!Array.isArray(we)||we.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(ge=0;ge<2;++ge){var xe=we[ge];for(Ae=0;Ae<2;++Ae)if(xe.shape[Ae]!==ue[Ae])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[ge],xe)}}else if(J.ticks){var Fe=J.ticks;if(!Array.isArray(Fe)||Fe.length!==2)throw new Error("gl-surface: invalid ticks");for(ge=0;ge<2;++ge){var ze=Fe[ge];if((Array.isArray(ze)||ze.length)&&(ze=b(ze)),ze.shape[0]!==ue[ge])throw new Error("gl-surface: invalid tick length");var Te=b(ze.data,ue);Te.stride[ge]=ze.stride[0],Te.stride[ge^1]=0,this.padField(this._field[ge],Te)}}else{for(ge=0;ge<2;++ge){var ye=[0,0];ye[ge]=1,this._field[ge]=b(this._field[ge].data,[ue[0]+2,ue[1]+2],ye,0)}this._field[0].set(0,0,0);for(var Ae=0;Ae<ue[0];++Ae)this._field[0].set(Ae+1,0,Ae);for(this._field[0].set(ue[0]+1,0,ue[0]-1),this._field[1].set(0,0,0),Ae=0;Ae<ue[1];++Ae)this._field[1].set(0,Ae+1,Ae);this._field[1].set(0,ue[1]+1,ue[1]-1)}var Ne=this._field,Ue=b(f.mallocFloat(Ne[2].size*3*2),[3,ue[0]+2,ue[1]+2,2]);for(ge=0;ge<3;++ge)A(Ue.pick(ge),Ne[ge],"mirror");var Re=b(f.mallocFloat(Ne[2].size*3),[ue[0]+2,ue[1]+2,3]);for(ge=0;ge<ue[0]+2;++ge)for(Ae=0;Ae<ue[1]+2;++Ae){var Ve=Ue.get(0,ge,Ae,0),rt=Ue.get(0,ge,Ae,1),Qe=Ue.get(1,ge,Ae,0),Je=Ue.get(1,ge,Ae,1),qe=Ue.get(2,ge,Ae,0),dt=Ue.get(2,ge,Ae,1),pt=Qe*dt-Je*qe,mt=qe*rt-dt*Ve,Ct=Ve*Je-rt*Qe,Rt=Math.sqrt(pt*pt+mt*mt+Ct*Ct);Rt<1e-8?(Rt=Math.max(Math.abs(pt),Math.abs(mt),Math.abs(Ct)),Rt<1e-8?(Ct=1,mt=pt=0,Rt=1):Rt=1/Rt):Rt=1/Math.sqrt(Rt),Re.set(ge,Ae,0,pt*Rt),Re.set(ge,Ae,1,mt*Rt),Re.set(ge,Ae,2,Ct*Rt)}f.free(Ue.data);var Zt=[1/0,1/0,1/0],Xe=[-1/0,-1/0,-1/0],Le=1/0,Pe=-1/0,ke=(ue[0]-1)*(ue[1]-1)*6,Ce=f.mallocFloat(r.nextPow2(10*ke)),me=0,oe=0;for(ge=0;ge<ue[0]-1;++ge)e:for(Ae=0;Ae<ue[1]-1;++Ae){for(var pe=0;pe<2;++pe)for(var Me=0;Me<2;++Me)for(var _e=0;_e<3;++_e){var tt=this._field[_e].get(1+ge+pe,1+Ae+Me);if(isNaN(tt)||!isFinite(tt))continue e}for(_e=0;_e<6;++_e){var at=ge+_[_e][0],At=Ae+_[_e][1],Ft=this._field[0].get(at+1,At+1),Gt=this._field[1].get(at+1,At+1);tt=this._field[2].get(at+1,At+1),pt=Re.get(at+1,At+1,0),mt=Re.get(at+1,At+1,1),Ct=Re.get(at+1,At+1,2),J.intensity&&(Yt=J.intensity.get(at,At));var Yt=J.intensity?J.intensity.get(at,At):tt+this.objectOffset[2];Ce[me++]=at,Ce[me++]=At,Ce[me++]=Ft,Ce[me++]=Gt,Ce[me++]=tt,Ce[me++]=0,Ce[me++]=Yt,Ce[me++]=pt,Ce[me++]=mt,Ce[me++]=Ct,Zt[0]=Math.min(Zt[0],Ft+this.objectOffset[0]),Zt[1]=Math.min(Zt[1],Gt+this.objectOffset[1]),Zt[2]=Math.min(Zt[2],tt+this.objectOffset[2]),Le=Math.min(Le,Yt),Xe[0]=Math.max(Xe[0],Ft+this.objectOffset[0]),Xe[1]=Math.max(Xe[1],Gt+this.objectOffset[1]),Xe[2]=Math.max(Xe[2],tt+this.objectOffset[2]),Pe=Math.max(Pe,Yt),oe+=1}}for(J.intensityBounds&&(Le=+J.intensityBounds[0],Pe=+J.intensityBounds[1]),ge=6;ge<me;ge+=10)Ce[ge]=(Ce[ge]-Le)/(Pe-Le);this._vertexCount=oe,this._coordinateBuffer.update(Ce.subarray(0,me)),f.freeFloat(Ce),f.free(Re.data),this.bounds=[Zt,Xe],this.intensity=J.intensity||this._field[2],(this.intensityBounds[0]!==Le||this.intensityBounds[1]!==Pe)&&(se=!0),this.intensityBounds=[Le,Pe]}if("levels"in J){var Dt=J.levels;for(Array.isArray(Dt[0])?Dt=Dt.slice():Dt=[[],[],Dt],ge=0;ge<3;++ge)Dt[ge]=Dt[ge].slice(),Dt[ge].sort(function(Ot,Kt){return Ot-Kt});for(ge=0;ge<3;++ge)for(Ae=0;Ae<Dt[ge].length;++Ae)Dt[ge][Ae]-=this.objectOffset[ge];e:for(ge=0;ge<3;++ge){if(Dt[ge].length!==this.contourLevels[ge].length){se=!0;break}for(Ae=0;Ae<Dt[ge].length;++Ae)if(Dt[ge][Ae]!==this.contourLevels[ge][Ae]){se=!0;break e}}this.contourLevels=Dt}if(se){Ne=this._field,ue=this.shape;for(var $t=[],lr=0;lr<3;++lr){var Hr=this.contourLevels[lr],xt=[],Qt=[],jt=[0,0,0];for(ge=0;ge<Hr.length;++ge){var Sr=h(this._field[lr],Hr[ge]);xt.push($t.length/5|0),oe=0;e:for(Ae=0;Ae<Sr.cells.length;++Ae){var gr=Sr.cells[Ae];for(_e=0;_e<2;++_e){var ut=Sr.positions[gr[_e]],st=ut[0],bt=Math.floor(st)|0,St=st-bt,Pt=ut[1],Et=Math.floor(Pt)|0,Bt=Pt-Et,Wt=!1;t:for(var tr=0;tr<3;++tr){jt[tr]=0;var er=(lr+tr+1)%3;for(pe=0;pe<2;++pe){var ur=pe?St:1-St;for(at=Math.min(Math.max(bt+pe,0),ue[0])|0,Me=0;Me<2;++Me){var kr=Me?Bt:1-Bt;if(At=Math.min(Math.max(Et+Me,0),ue[1])|0,tr<2?tt=this._field[er].get(at,At):tt=(this.intensity.get(at,At)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(tt)||isNaN(tt)){Wt=!0;break t}var We=ur*kr;jt[tr]+=We*tt}}}if(!Wt)$t.push(jt[0],jt[1],ut[0],ut[1],jt[2]),oe+=1;else{if(_e>0){for(var Ge=0;Ge<5;++Ge)$t.pop();oe-=1}continue e}}}Qt.push(oe)}this._contourOffsets[lr]=xt,this._contourCounts[lr]=Qt}var _t=f.mallocFloat($t.length);for(ge=0;ge<$t.length;++ge)_t[ge]=$t[ge];this._contourBuffer.update(_t),f.freeFloat(_t)}},z.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var J=0;J<3;++J)f.freeFloat(this._field[J].data)},z.highlight=function(J){var j;if(!J){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(j=0;j<3;++j)this.enableHighlight[j]?this.highlightLevel[j]=J.level[j]:this.highlightLevel[j]=-1;var se;for(this.snapToData?se=J.dataCoordinate:se=J.position,j=0;j<3;++j)se[j]-=this.objectOffset[j];if(!((!this.enableDynamic[0]||se[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||se[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||se[2]===this.dynamicLevel[2]))){for(var ne=0,ue=this.shape,ge=f.mallocFloat(12*ue[0]*ue[1]),we=0;we<3;++we){if(!this.enableDynamic[we]){this.dynamicLevel[we]=NaN,this._dynamicCounts[we]=0;continue}this.dynamicLevel[we]=se[we];var xe=(we+1)%3,Fe=(we+2)%3,ze=this._field[we],Te=this._field[xe],ye=this._field[Fe],Ae=h(ze,se[we]),Ne=Ae.cells,Ue=Ae.positions;for(this._dynamicOffsets[we]=ne,j=0;j<Ne.length;++j)for(var Re=Ne[j],Ve=0;Ve<2;++Ve){var rt=Ue[Re[Ve]],Qe=+rt[0],Je=Qe|0,qe=Math.min(Je+1,ue[0])|0,dt=Qe-Je,pt=1-dt,mt=+rt[1],Ct=mt|0,Rt=Math.min(Ct+1,ue[1])|0,Zt=mt-Ct,Xe=1-Zt,Le=pt*Xe,Pe=pt*Zt,ke=dt*Xe,Ce=dt*Zt,me=Le*Te.get(Je,Ct)+Pe*Te.get(Je,Rt)+ke*Te.get(qe,Ct)+Ce*Te.get(qe,Rt),oe=Le*ye.get(Je,Ct)+Pe*ye.get(Je,Rt)+ke*ye.get(qe,Ct)+Ce*ye.get(qe,Rt);if(isNaN(me)||isNaN(oe)){Ve&&(ne-=1);break}ge[2*ne+0]=me,ge[2*ne+1]=oe,ne+=1}this._dynamicCounts[we]=ne-this._dynamicOffsets[we]}this._dynamicBuffer.update(ge.subarray(0,2*ne)),f.freeFloat(ge)}};function ie(J){var j=J.gl,se=m(j),ne=w(j),ue=M(j),ge=i(j),we=u(j),xe=n(j,[{buffer:we,size:4,stride:C,offset:0},{buffer:we,size:3,stride:C,offset:16},{buffer:we,size:3,stride:C,offset:28}]),Fe=u(j),ze=n(j,[{buffer:Fe,size:4,stride:20,offset:0},{buffer:Fe,size:1,stride:20,offset:16}]),Te=u(j),ye=n(j,[{buffer:Te,size:2,type:j.FLOAT}]),Ae=s(j,1,k,j.RGBA,j.UNSIGNED_BYTE);Ae.minFilter=j.LINEAR,Ae.magFilter=j.LINEAR;var Ne=new O(j,[0,0],[[0,0,0],[0,0,0]],se,ne,we,xe,Ae,ue,ge,Fe,ze,Te,ye,[0,0,0]),Ue={levels:[[],[],[]]};for(var Re in J)Ue[Re]=J[Re];return Ue.colormap=Ue.colormap||"jet",Ne.update(Ue),Ne}},8931:function(v,d,t){var r=t(5050),u=t(7498),n=t(5306);v.exports=i;var s=null,f=null,l=null;function x(C){s=[C.LINEAR,C.NEAREST_MIPMAP_LINEAR,C.LINEAR_MIPMAP_NEAREST,C.LINEAR_MIPMAP_NEAREST],f=[C.NEAREST,C.LINEAR,C.NEAREST_MIPMAP_NEAREST,C.NEAREST_MIPMAP_LINEAR,C.LINEAR_MIPMAP_NEAREST,C.LINEAR_MIPMAP_LINEAR],l=[C.REPEAT,C.CLAMP_TO_EDGE,C.MIRRORED_REPEAT]}function c(C){return typeof HTMLCanvasElement<"u"&&C instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&C instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&C instanceof HTMLVideoElement||typeof ImageData<"u"&&C instanceof ImageData}var b=function(C,y){u.muls(C,y,255)};function h(C,y,_){var I=C.gl,N=I.getParameter(I.MAX_TEXTURE_SIZE);if(y<0||y>N||_<0||_>N)throw new Error("gl-texture2d: Invalid texture size");return C._shape=[y,_],C.bind(),I.texImage2D(I.TEXTURE_2D,0,C.format,y,_,0,C.format,C.type,null),C._mipLevels=[0],C}function o(C,y,_,I,N,k){this.gl=C,this.handle=y,this.format=N,this.type=k,this._shape=[_,I],this._mipLevels=[0],this._magFilter=C.NEAREST,this._minFilter=C.NEAREST,this._wrapS=C.CLAMP_TO_EDGE,this._wrapT=C.CLAMP_TO_EDGE,this._anisoSamples=1;var O=this,z=[this._wrapS,this._wrapT];Object.defineProperties(z,[{get:function(){return O._wrapS},set:function(B){return O.wrapS=B}},{get:function(){return O._wrapT},set:function(B){return O.wrapT=B}}]),this._wrapVector=z;var F=[this._shape[0],this._shape[1]];Object.defineProperties(F,[{get:function(){return O._shape[0]},set:function(B){return O.width=B}},{get:function(){return O._shape[1]},set:function(B){return O.height=B}}]),this._shapeVector=F}var p=o.prototype;Object.defineProperties(p,{minFilter:{get:function(){return this._minFilter},set:function(C){this.bind();var y=this.gl;if(this.type===y.FLOAT&&s.indexOf(C)>=0&&(y.getExtension("OES_texture_float_linear")||(C=y.NEAREST)),f.indexOf(C)<0)throw new Error("gl-texture2d: Unknown filter mode "+C);return y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,C),this._minFilter=C}},magFilter:{get:function(){return this._magFilter},set:function(C){this.bind();var y=this.gl;if(this.type===y.FLOAT&&s.indexOf(C)>=0&&(y.getExtension("OES_texture_float_linear")||(C=y.NEAREST)),f.indexOf(C)<0)throw new Error("gl-texture2d: Unknown filter mode "+C);return y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,C),this._magFilter=C}},mipSamples:{get:function(){return this._anisoSamples},set:function(C){var y=this._anisoSamples;if(this._anisoSamples=Math.max(C,1)|0,y!==this._anisoSamples){var _=this.gl.getExtension("EXT_texture_filter_anisotropic");_&&this.gl.texParameterf(this.gl.TEXTURE_2D,_.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(C){if(this.bind(),l.indexOf(C)<0)throw new Error("gl-texture2d: Unknown wrap mode "+C);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,C),this._wrapS=C}},wrapT:{get:function(){return this._wrapT},set:function(C){if(this.bind(),l.indexOf(C)<0)throw new Error("gl-texture2d: Unknown wrap mode "+C);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,C),this._wrapT=C}},wrap:{get:function(){return this._wrapVector},set:function(C){if(Array.isArray(C)||(C=[C,C]),C.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var y=0;y<2;++y)if(l.indexOf(C[y])<0)throw new Error("gl-texture2d: Unknown wrap mode "+C);this._wrapS=C[0],this._wrapT=C[1];var _=this.gl;return this.bind(),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,this._wrapS),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,this._wrapT),C}},shape:{get:function(){return this._shapeVector},set:function(C){if(!Array.isArray(C))C=[C|0,C|0];else if(C.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return h(this,C[0]|0,C[1]|0),[C[0]|0,C[1]|0]}},width:{get:function(){return this._shape[0]},set:function(C){return C=C|0,h(this,C,this._shape[1]),C}},height:{get:function(){return this._shape[1]},set:function(C){return C=C|0,h(this,this._shape[0],C),C}}}),p.bind=function(C){var y=this.gl;return C!==void 0&&y.activeTexture(y.TEXTURE0+(C|0)),y.bindTexture(y.TEXTURE_2D,this.handle),C!==void 0?C|0:y.getParameter(y.ACTIVE_TEXTURE)-y.TEXTURE0},p.dispose=function(){this.gl.deleteTexture(this.handle)},p.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var C=Math.min(this._shape[0],this._shape[1]),y=0;C>0;++y,C>>>=1)this._mipLevels.indexOf(y)<0&&this._mipLevels.push(y)},p.setPixels=function(C,y,_,I){var N=this.gl;this.bind(),Array.isArray(y)?(I=_,_=y[1]|0,y=y[0]|0):(y=y||0,_=_||0),I=I||0;var k=c(C)?C:C.raw;if(k){var O=this._mipLevels.indexOf(I)<0;O?(N.texImage2D(N.TEXTURE_2D,0,this.format,this.format,this.type,k),this._mipLevels.push(I)):N.texSubImage2D(N.TEXTURE_2D,I,y,_,this.format,this.type,k)}else if(C.shape&&C.stride&&C.data){if(C.shape.length<2||y+C.shape[1]>this._shape[1]>>>I||_+C.shape[0]>this._shape[0]>>>I||y<0||_<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");A(N,y,_,I,this.format,this.type,this._mipLevels,C)}else throw new Error("gl-texture2d: Unsupported data type")};function S(C,y){return C.length===3?y[2]===1&&y[1]===C[0]*C[2]&&y[0]===C[2]:y[0]===1&&y[1]===C[0]}function A(C,y,_,I,N,k,O,z){var F=z.dtype,B=z.shape.slice();if(B.length<2||B.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var G=0,Q=0,ee=S(B,z.stride.slice());if(F==="float32"?G=C.FLOAT:F==="float64"?(G=C.FLOAT,ee=!1,F="float32"):F==="uint8"?G=C.UNSIGNED_BYTE:(G=C.UNSIGNED_BYTE,ee=!1,F="uint8"),B.length===2)Q=C.LUMINANCE,B=[B[0],B[1],1],z=r(z.data,B,[z.stride[0],z.stride[1],1],z.offset);else if(B.length===3){if(B[2]===1)Q=C.ALPHA;else if(B[2]===2)Q=C.LUMINANCE_ALPHA;else if(B[2]===3)Q=C.RGB;else if(B[2]===4)Q=C.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");B[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((Q===C.LUMINANCE||Q===C.ALPHA)&&(N===C.LUMINANCE||N===C.ALPHA)&&(Q=N),Q!==N)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var ae=z.size,fe=O.indexOf(I)<0;if(fe&&O.push(I),G===k&&ee)z.offset===0&&z.data.length===ae?fe?C.texImage2D(C.TEXTURE_2D,I,N,B[0],B[1],0,N,k,z.data):C.texSubImage2D(C.TEXTURE_2D,I,y,_,B[0],B[1],N,k,z.data):fe?C.texImage2D(C.TEXTURE_2D,I,N,B[0],B[1],0,N,k,z.data.subarray(z.offset,z.offset+ae)):C.texSubImage2D(C.TEXTURE_2D,I,y,_,B[0],B[1],N,k,z.data.subarray(z.offset,z.offset+ae));else{var K;k===C.FLOAT?K=n.mallocFloat32(ae):K=n.mallocUint8(ae);var W=r(K,B,[B[2],B[2]*B[0],1]);G===C.FLOAT&&k===C.UNSIGNED_BYTE?b(W,z):u.assign(W,z),fe?C.texImage2D(C.TEXTURE_2D,I,N,B[0],B[1],0,N,k,K.subarray(0,ae)):C.texSubImage2D(C.TEXTURE_2D,I,y,_,B[0],B[1],N,k,K.subarray(0,ae)),k===C.FLOAT?n.freeFloat32(K):n.freeUint8(K)}}function E(C){var y=C.createTexture();return C.bindTexture(C.TEXTURE_2D,y),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,C.NEAREST),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,C.NEAREST),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,C.CLAMP_TO_EDGE),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,C.CLAMP_TO_EDGE),y}function m(C,y,_,I,N){var k=C.getParameter(C.MAX_TEXTURE_SIZE);if(y<0||y>k||_<0||_>k)throw new Error("gl-texture2d: Invalid texture shape");if(N===C.FLOAT&&!C.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var O=E(C);return C.texImage2D(C.TEXTURE_2D,0,I,y,_,0,I,N,null),new o(C,O,y,_,I,N)}function M(C,y,_,I,N,k){var O=E(C);return C.texImage2D(C.TEXTURE_2D,0,N,N,k,y),new o(C,O,_,I,N,k)}function w(C,y){var _=y.dtype,I=y.shape.slice(),N=C.getParameter(C.MAX_TEXTURE_SIZE);if(I[0]<0||I[0]>N||I[1]<0||I[1]>N)throw new Error("gl-texture2d: Invalid texture size");var k=S(I,y.stride.slice()),O=0;_==="float32"?O=C.FLOAT:_==="float64"?(O=C.FLOAT,k=!1,_="float32"):_==="uint8"?O=C.UNSIGNED_BYTE:(O=C.UNSIGNED_BYTE,k=!1,_="uint8");var z=0;if(I.length===2)z=C.LUMINANCE,I=[I[0],I[1],1],y=r(y.data,I,[y.stride[0],y.stride[1],1],y.offset);else if(I.length===3)if(I[2]===1)z=C.ALPHA;else if(I[2]===2)z=C.LUMINANCE_ALPHA;else if(I[2]===3)z=C.RGB;else if(I[2]===4)z=C.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");O===C.FLOAT&&!C.getExtension("OES_texture_float")&&(O=C.UNSIGNED_BYTE,k=!1);var F,B,G=y.size;if(k)y.offset===0&&y.data.length===G?F=y.data:F=y.data.subarray(y.offset,y.offset+G);else{var Q=[I[2],I[2]*I[0],1];B=n.malloc(G,_);var ee=r(B,I,Q,0);(_==="float32"||_==="float64")&&O===C.UNSIGNED_BYTE?b(ee,y):u.assign(ee,y),F=B.subarray(0,G)}var ae=E(C);return C.texImage2D(C.TEXTURE_2D,0,z,I[0],I[1],0,z,O,F),k||n.free(B),new o(C,ae,I[0],I[1],z,O)}function i(C){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(s||x(C),typeof arguments[1]=="number")return m(C,arguments[1],arguments[2],arguments[3]||C.RGBA,arguments[4]||C.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return m(C,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||C.RGBA,arguments[3]||C.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var y=arguments[1],_=c(y)?y:y.raw;if(_)return M(C,_,y.width|0,y.height|0,arguments[2]||C.RGBA,arguments[3]||C.UNSIGNED_BYTE);if(y.shape&&y.data&&y.stride)return w(C,y)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},3056:function(v){function d(t,r,u){r?r.bind():t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var n=t.getParameter(t.MAX_VERTEX_ATTRIBS)|0;if(u){if(u.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var s=0;s<u.length;++s){var f=u[s];if(f.buffer){var l=f.buffer,x=f.size||4,c=f.type||t.FLOAT,b=!!f.normalized,h=f.stride||0,o=f.offset||0;l.bind(),t.enableVertexAttribArray(s),t.vertexAttribPointer(s,x,c,b,h,o)}else{if(typeof f=="number")t.vertexAttrib1f(s,f);else if(f.length===1)t.vertexAttrib1f(s,f[0]);else if(f.length===2)t.vertexAttrib2f(s,f[0],f[1]);else if(f.length===3)t.vertexAttrib3f(s,f[0],f[1],f[2]);else if(f.length===4)t.vertexAttrib4f(s,f[0],f[1],f[2],f[3]);else throw new Error("gl-vao: Invalid vertex attribute");t.disableVertexAttribArray(s)}}for(;s<n;++s)t.disableVertexAttribArray(s)}else{t.bindBuffer(t.ARRAY_BUFFER,null);for(var s=0;s<n;++s)t.disableVertexAttribArray(s)}}v.exports=d},7220:function(v,d,t){var r=t(3056);function u(s){this.gl=s,this._elements=null,this._attributes=null,this._elementsType=s.UNSIGNED_SHORT}u.prototype.bind=function(){r(this.gl,this._elements,this._attributes)},u.prototype.update=function(s,f,l){this._elements=f,this._attributes=s,this._elementsType=l||this.gl.UNSIGNED_SHORT},u.prototype.dispose=function(){},u.prototype.unbind=function(){},u.prototype.draw=function(s,f,l){l=l||0;var x=this.gl;this._elements?x.drawElements(s,f,this._elementsType,l):x.drawArrays(s,l,f)};function n(s){return new u(s)}v.exports=n},3778:function(v,d,t){var r=t(3056);function u(f,l,x,c,b,h){this.location=f,this.dimension=l,this.a=x,this.b=c,this.c=b,this.d=h}u.prototype.bind=function(f){switch(this.dimension){case 1:f.vertexAttrib1f(this.location,this.a);break;case 2:f.vertexAttrib2f(this.location,this.a,this.b);break;case 3:f.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:f.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function n(f,l,x){this.gl=f,this._ext=l,this.handle=x,this._attribs=[],this._useElements=!1,this._elementsType=f.UNSIGNED_SHORT}n.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var f=0;f<this._attribs.length;++f)this._attribs[f].bind(this.gl)},n.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},n.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},n.prototype.update=function(f,l,x){if(this.bind(),r(this.gl,l,f),this.unbind(),this._attribs.length=0,f)for(var c=0;c<f.length;++c){var b=f[c];typeof b=="number"?this._attribs.push(new u(c,1,b)):Array.isArray(b)&&this._attribs.push(new u(c,b.length,b[0],b[1],b[2],b[3]))}this._useElements=!!l,this._elementsType=x||this.gl.UNSIGNED_SHORT},n.prototype.draw=function(f,l,x){x=x||0;var c=this.gl;this._useElements?c.drawElements(f,l,this._elementsType,x):c.drawArrays(f,x,l)};function s(f,l){return new n(f,l,l.createVertexArrayOES())}v.exports=s},2944:function(v,d,t){var r=t(3778),u=t(7220);function n(f){this.bindVertexArrayOES=f.bindVertexArray.bind(f),this.createVertexArrayOES=f.createVertexArray.bind(f),this.deleteVertexArrayOES=f.deleteVertexArray.bind(f)}function s(f,l,x,c){var b=f.createVertexArray?new n(f):f.getExtension("OES_vertex_array_object"),h;return b?h=r(f,b):h=u(f),h.update(l,x,c),h}v.exports=s},2598:function(v){v.exports=d;function d(t,r,u){return t[0]=r[0]+u[0],t[1]=r[1]+u[1],t[2]=r[2]+u[2],t}},5879:function(v,d,t){v.exports=s;var r=t(5415),u=t(899),n=t(9305);function s(f,l){var x=r(f[0],f[1],f[2]),c=r(l[0],l[1],l[2]);u(x,x),u(c,c);var b=n(x,c);return b>1?0:Math.acos(b)}},8827:function(v){v.exports=d;function d(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t}},7622:function(v){v.exports=d;function d(t){var r=new Float32Array(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}},8782:function(v){v.exports=d;function d(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}},8501:function(v){v.exports=d;function d(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}},903:function(v){v.exports=d;function d(t,r,u){var n=r[0],s=r[1],f=r[2],l=u[0],x=u[1],c=u[2];return t[0]=s*c-f*x,t[1]=f*l-n*c,t[2]=n*x-s*l,t}},5981:function(v,d,t){v.exports=t(8288)},8288:function(v){v.exports=d;function d(t,r){var u=r[0]-t[0],n=r[1]-t[1],s=r[2]-t[2];return Math.sqrt(u*u+n*n+s*s)}},8629:function(v,d,t){v.exports=t(7979)},7979:function(v){v.exports=d;function d(t,r,u){return t[0]=r[0]/u[0],t[1]=r[1]/u[1],t[2]=r[2]/u[2],t}},9305:function(v){v.exports=d;function d(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}},154:function(v){v.exports=1e-6},4932:function(v,d,t){v.exports=u;var r=t(154);function u(n,s){var f=n[0],l=n[1],x=n[2],c=s[0],b=s[1],h=s[2];return Math.abs(f-c)<=r*Math.max(1,Math.abs(f),Math.abs(c))&&Math.abs(l-b)<=r*Math.max(1,Math.abs(l),Math.abs(b))&&Math.abs(x-h)<=r*Math.max(1,Math.abs(x),Math.abs(h))}},5777:function(v){v.exports=d;function d(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]}},3306:function(v){v.exports=d;function d(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t}},7447:function(v,d,t){v.exports=u;var r=t(8501)();function u(n,s,f,l,x,c){var b,h;for(s||(s=3),f||(f=0),l?h=Math.min(l*s+f,n.length):h=n.length,b=f;b<h;b+=s)r[0]=n[b],r[1]=n[b+1],r[2]=n[b+2],x(r,r,c),n[b]=r[0],n[b+1]=r[1],n[b+2]=r[2];return n}},5415:function(v){v.exports=d;function d(t,r,u){var n=new Float32Array(3);return n[0]=t,n[1]=r,n[2]=u,n}},2858:function(v,d,t){v.exports={EPSILON:t(154),create:t(8501),clone:t(7622),angle:t(5879),fromValues:t(5415),copy:t(8782),set:t(831),equals:t(4932),exactEquals:t(5777),add:t(2598),subtract:t(911),sub:t(8921),multiply:t(105),mul:t(5733),divide:t(7979),div:t(8629),min:t(3605),max:t(1716),floor:t(3306),ceil:t(8827),round:t(1624),scale:t(5685),scaleAndAdd:t(6722),distance:t(8288),dist:t(5981),squaredDistance:t(6403),sqrDist:t(5294),length:t(4693),len:t(1468),squaredLength:t(4337),sqrLen:t(3303),negate:t(435),inverse:t(2073),normalize:t(899),dot:t(9305),cross:t(903),lerp:t(1868),random:t(6660),transformMat4:t(3255),transformMat3:t(9908),transformQuat:t(6568),rotateX:t(392),rotateY:t(3222),rotateZ:t(3388),forEach:t(7447)}},2073:function(v){v.exports=d;function d(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t}},1468:function(v,d,t){v.exports=t(4693)},4693:function(v){v.exports=d;function d(t){var r=t[0],u=t[1],n=t[2];return Math.sqrt(r*r+u*u+n*n)}},1868:function(v){v.exports=d;function d(t,r,u,n){var s=r[0],f=r[1],l=r[2];return t[0]=s+n*(u[0]-s),t[1]=f+n*(u[1]-f),t[2]=l+n*(u[2]-l),t}},1716:function(v){v.exports=d;function d(t,r,u){return t[0]=Math.max(r[0],u[0]),t[1]=Math.max(r[1],u[1]),t[2]=Math.max(r[2],u[2]),t}},3605:function(v){v.exports=d;function d(t,r,u){return t[0]=Math.min(r[0],u[0]),t[1]=Math.min(r[1],u[1]),t[2]=Math.min(r[2],u[2]),t}},5733:function(v,d,t){v.exports=t(105)},105:function(v){v.exports=d;function d(t,r,u){return t[0]=r[0]*u[0],t[1]=r[1]*u[1],t[2]=r[2]*u[2],t}},435:function(v){v.exports=d;function d(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t}},899:function(v){v.exports=d;function d(t,r){var u=r[0],n=r[1],s=r[2],f=u*u+n*n+s*s;return f>0&&(f=1/Math.sqrt(f),t[0]=r[0]*f,t[1]=r[1]*f,t[2]=r[2]*f),t}},6660:function(v){v.exports=d;function d(t,r){r=r||1;var u=Math.random()*2*Math.PI,n=Math.random()*2-1,s=Math.sqrt(1-n*n)*r;return t[0]=Math.cos(u)*s,t[1]=Math.sin(u)*s,t[2]=n*r,t}},392:function(v){v.exports=d;function d(t,r,u,n){var s=u[1],f=u[2],l=r[1]-s,x=r[2]-f,c=Math.sin(n),b=Math.cos(n);return t[0]=r[0],t[1]=s+l*b-x*c,t[2]=f+l*c+x*b,t}},3222:function(v){v.exports=d;function d(t,r,u,n){var s=u[0],f=u[2],l=r[0]-s,x=r[2]-f,c=Math.sin(n),b=Math.cos(n);return t[0]=s+x*c+l*b,t[1]=r[1],t[2]=f+x*b-l*c,t}},3388:function(v){v.exports=d;function d(t,r,u,n){var s=u[0],f=u[1],l=r[0]-s,x=r[1]-f,c=Math.sin(n),b=Math.cos(n);return t[0]=s+l*b-x*c,t[1]=f+l*c+x*b,t[2]=r[2],t}},1624:function(v){v.exports=d;function d(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t}},5685:function(v){v.exports=d;function d(t,r,u){return t[0]=r[0]*u,t[1]=r[1]*u,t[2]=r[2]*u,t}},6722:function(v){v.exports=d;function d(t,r,u,n){return t[0]=r[0]+u[0]*n,t[1]=r[1]+u[1]*n,t[2]=r[2]+u[2]*n,t}},831:function(v){v.exports=d;function d(t,r,u,n){return t[0]=r,t[1]=u,t[2]=n,t}},5294:function(v,d,t){v.exports=t(6403)},3303:function(v,d,t){v.exports=t(4337)},6403:function(v){v.exports=d;function d(t,r){var u=r[0]-t[0],n=r[1]-t[1],s=r[2]-t[2];return u*u+n*n+s*s}},4337:function(v){v.exports=d;function d(t){var r=t[0],u=t[1],n=t[2];return r*r+u*u+n*n}},8921:function(v,d,t){v.exports=t(911)},911:function(v){v.exports=d;function d(t,r,u){return t[0]=r[0]-u[0],t[1]=r[1]-u[1],t[2]=r[2]-u[2],t}},9908:function(v){v.exports=d;function d(t,r,u){var n=r[0],s=r[1],f=r[2];return t[0]=n*u[0]+s*u[3]+f*u[6],t[1]=n*u[1]+s*u[4]+f*u[7],t[2]=n*u[2]+s*u[5]+f*u[8],t}},3255:function(v){v.exports=d;function d(t,r,u){var n=r[0],s=r[1],f=r[2],l=u[3]*n+u[7]*s+u[11]*f+u[15];return l=l||1,t[0]=(u[0]*n+u[4]*s+u[8]*f+u[12])/l,t[1]=(u[1]*n+u[5]*s+u[9]*f+u[13])/l,t[2]=(u[2]*n+u[6]*s+u[10]*f+u[14])/l,t}},6568:function(v){v.exports=d;function d(t,r,u){var n=r[0],s=r[1],f=r[2],l=u[0],x=u[1],c=u[2],b=u[3],h=b*n+x*f-c*s,o=b*s+c*n-l*f,p=b*f+l*s-x*n,S=-l*n-x*s-c*f;return t[0]=h*b+S*-l+o*-c-p*-x,t[1]=o*b+S*-x+p*-l-h*-c,t[2]=p*b+S*-c+h*-x-o*-l,t}},3433:function(v){v.exports=d;function d(t,r,u){return t[0]=r[0]+u[0],t[1]=r[1]+u[1],t[2]=r[2]+u[2],t[3]=r[3]+u[3],t}},1413:function(v){v.exports=d;function d(t){var r=new Float32Array(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}},3470:function(v){v.exports=d;function d(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}},5313:function(v){v.exports=d;function d(){var t=new Float32Array(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}},5446:function(v){v.exports=d;function d(t,r){var u=r[0]-t[0],n=r[1]-t[1],s=r[2]-t[2],f=r[3]-t[3];return Math.sqrt(u*u+n*n+s*s+f*f)}},205:function(v){v.exports=d;function d(t,r,u){return t[0]=r[0]/u[0],t[1]=r[1]/u[1],t[2]=r[2]/u[2],t[3]=r[3]/u[3],t}},4242:function(v){v.exports=d;function d(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]}},5680:function(v){v.exports=d;function d(t,r,u,n){var s=new Float32Array(4);return s[0]=t,s[1]=r,s[2]=u,s[3]=n,s}},4020:function(v,d,t){v.exports={create:t(5313),clone:t(1413),fromValues:t(5680),copy:t(3470),set:t(6453),add:t(3433),subtract:t(2705),multiply:t(746),divide:t(205),min:t(2170),max:t(3030),scale:t(5510),scaleAndAdd:t(4224),distance:t(5446),squaredDistance:t(1542),length:t(8177),squaredLength:t(9037),negate:t(6459),inverse:t(8057),normalize:t(381),dot:t(4242),lerp:t(8746),random:t(3770),transformMat4:t(6342),transformQuat:t(5022)}},8057:function(v){v.exports=d;function d(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t[3]=1/r[3],t}},8177:function(v){v.exports=d;function d(t){var r=t[0],u=t[1],n=t[2],s=t[3];return Math.sqrt(r*r+u*u+n*n+s*s)}},8746:function(v){v.exports=d;function d(t,r,u,n){var s=r[0],f=r[1],l=r[2],x=r[3];return t[0]=s+n*(u[0]-s),t[1]=f+n*(u[1]-f),t[2]=l+n*(u[2]-l),t[3]=x+n*(u[3]-x),t}},3030:function(v){v.exports=d;function d(t,r,u){return t[0]=Math.max(r[0],u[0]),t[1]=Math.max(r[1],u[1]),t[2]=Math.max(r[2],u[2]),t[3]=Math.max(r[3],u[3]),t}},2170:function(v){v.exports=d;function d(t,r,u){return t[0]=Math.min(r[0],u[0]),t[1]=Math.min(r[1],u[1]),t[2]=Math.min(r[2],u[2]),t[3]=Math.min(r[3],u[3]),t}},746:function(v){v.exports=d;function d(t,r,u){return t[0]=r[0]*u[0],t[1]=r[1]*u[1],t[2]=r[2]*u[2],t[3]=r[3]*u[3],t}},6459:function(v){v.exports=d;function d(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=-r[3],t}},381:function(v){v.exports=d;function d(t,r){var u=r[0],n=r[1],s=r[2],f=r[3],l=u*u+n*n+s*s+f*f;return l>0&&(l=1/Math.sqrt(l),t[0]=u*l,t[1]=n*l,t[2]=s*l,t[3]=f*l),t}},3770:function(v,d,t){var r=t(381),u=t(5510);v.exports=n;function n(s,f){return f=f||1,s[0]=Math.random(),s[1]=Math.random(),s[2]=Math.random(),s[3]=Math.random(),r(s,s),u(s,s,f),s}},5510:function(v){v.exports=d;function d(t,r,u){return t[0]=r[0]*u,t[1]=r[1]*u,t[2]=r[2]*u,t[3]=r[3]*u,t}},4224:function(v){v.exports=d;function d(t,r,u,n){return t[0]=r[0]+u[0]*n,t[1]=r[1]+u[1]*n,t[2]=r[2]+u[2]*n,t[3]=r[3]+u[3]*n,t}},6453:function(v){v.exports=d;function d(t,r,u,n,s){return t[0]=r,t[1]=u,t[2]=n,t[3]=s,t}},1542:function(v){v.exports=d;function d(t,r){var u=r[0]-t[0],n=r[1]-t[1],s=r[2]-t[2],f=r[3]-t[3];return u*u+n*n+s*s+f*f}},9037:function(v){v.exports=d;function d(t){var r=t[0],u=t[1],n=t[2],s=t[3];return r*r+u*u+n*n+s*s}},2705:function(v){v.exports=d;function d(t,r,u){return t[0]=r[0]-u[0],t[1]=r[1]-u[1],t[2]=r[2]-u[2],t[3]=r[3]-u[3],t}},6342:function(v){v.exports=d;function d(t,r,u){var n=r[0],s=r[1],f=r[2],l=r[3];return t[0]=u[0]*n+u[4]*s+u[8]*f+u[12]*l,t[1]=u[1]*n+u[5]*s+u[9]*f+u[13]*l,t[2]=u[2]*n+u[6]*s+u[10]*f+u[14]*l,t[3]=u[3]*n+u[7]*s+u[11]*f+u[15]*l,t}},5022:function(v){v.exports=d;function d(t,r,u){var n=r[0],s=r[1],f=r[2],l=u[0],x=u[1],c=u[2],b=u[3],h=b*n+x*f-c*s,o=b*s+c*n-l*f,p=b*f+l*s-x*n,S=-l*n-x*s-c*f;return t[0]=h*b+S*-l+o*-c-p*-x,t[1]=o*b+S*-x+p*-l-h*-c,t[2]=p*b+S*-c+h*-x-o*-l,t[3]=r[3],t}},9365:function(v,d,t){var r=t(8096),u=t(7896);v.exports=n;function n(s){for(var f=Array.isArray(s)?s:r(s),l=0;l<f.length;l++){var x=f[l];if(x.type==="preprocessor"){var c=x.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(c&&c[2]){var b=c[1],h=c[2];return(b?u(h):h).trim()}}}}},3193:function(v,d,t){v.exports=y;var r=t(399),u=t(9746),n=t(9525),s=t(9458),f=t(3585),l=999,x=9999,c=0,b=1,h=2,o=3,p=4,S=5,A=6,E=7,m=8,M=9,w=10,i=11,C=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function y(_){var I=0,N=0,k=l,O,z,F=[],B=[],G=1,Q=0,ee=0,ae=!1,fe=!1,K="",W;_=_||{};var Z=n,X=r;_.version==="300 es"&&(Z=f,X=s);for(var $={},ie={},I=0;I<Z.length;I++)$[Z[I]]=!0;for(var I=0;I<X.length;I++)ie[X[I]]=!0;return function(Ue){return B=[],Ue!==null?j(Ue):se()};function J(Ue){Ue.length&&B.push({type:C[k],data:Ue,position:ee,line:G,column:Q})}function j(Ue){I=0,Ue.toString&&(Ue=Ue.toString()),K+=Ue.replace(/\r\n/g,`
`),W=K.length;for(var Re;O=K[I],I<W;){switch(Re=I,k){case c:I=xe();break;case b:I=we();break;case h:I=ge();break;case o:I=Fe();break;case p:I=ye();break;case i:I=Te();break;case S:I=Ae();break;case x:I=Ne();break;case M:I=ue();break;case l:I=ne();break}if(Re!==I)switch(K[Re]){case`
`:Q=0,++G;break;default:++Q;break}}return N+=I,K=K.slice(I),B}function se(Ue){return F.length&&J(F.join("")),k=w,J("(eof)"),B}function ne(){return F=F.length?[]:F,z==="/"&&O==="*"?(ee=N+I-1,k=c,z=O,I+1):z==="/"&&O==="/"?(ee=N+I-1,k=b,z=O,I+1):O==="#"?(k=h,ee=N+I,I):/\s/.test(O)?(k=M,ee=N+I,I):(ae=/\d/.test(O),fe=/[^\w_]/.test(O),ee=N+I,k=ae?p:fe?o:x,I)}function ue(){return/[^\s]/g.test(O)?(J(F.join("")),k=l,I):(F.push(O),z=O,I+1)}function ge(){return(O==="\r"||O===`
`)&&z!=="\\"?(J(F.join("")),k=l,I):(F.push(O),z=O,I+1)}function we(){return ge()}function xe(){return O==="/"&&z==="*"?(F.push(O),J(F.join("")),k=l,I+1):(F.push(O),z=O,I+1)}function Fe(){if(z==="."&&/\d/.test(O))return k=S,I;if(z==="/"&&O==="*")return k=c,I;if(z==="/"&&O==="/")return k=b,I;if(O==="."&&F.length){for(;ze(F););return k=S,I}if(O===";"||O===")"||O==="("){if(F.length)for(;ze(F););return J(O),k=l,I+1}var Ue=F.length===2&&O!=="=";if(/[\w_\d\s]/.test(O)||Ue){for(;ze(F););return k=l,I}return F.push(O),z=O,I+1}function ze(Ue){var Re=0,Ve,rt;do{if(Ve=u.indexOf(Ue.slice(0,Ue.length+Re).join("")),rt=u[Ve],Ve===-1){if(Re--+Ue.length>0)continue;rt=Ue.slice(0,1).join("")}return J(rt),ee+=rt.length,F=F.slice(rt.length),F.length}while(1)}function Te(){return/[^a-fA-F0-9]/.test(O)?(J(F.join("")),k=l,I):(F.push(O),z=O,I+1)}function ye(){return O==="."||/[eE]/.test(O)?(F.push(O),k=S,z=O,I+1):O==="x"&&F.length===1&&F[0]==="0"?(k=i,F.push(O),z=O,I+1):/[^\d]/.test(O)?(J(F.join("")),k=l,I):(F.push(O),z=O,I+1)}function Ae(){return O==="f"&&(F.push(O),z=O,I+=1),/[eE]/.test(O)||(O==="-"||O==="+")&&/[eE]/.test(z)?(F.push(O),z=O,I+1):/[^\d]/.test(O)?(J(F.join("")),k=l,I):(F.push(O),z=O,I+1)}function Ne(){if(/[^\d\w_]/.test(O)){var Ue=F.join("");return ie[Ue]?k=m:$[Ue]?k=E:k=A,J(F.join("")),k=l,I}return F.push(O),z=O,I+1}}},3585:function(v,d,t){var r=t(9525);r=r.slice().filter(function(u){return!/^(gl\_|texture)/.test(u)}),v.exports=r.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(v){v.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(v,d,t){var r=t(399);v.exports=r.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(v){v.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(v){v.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(v,d,t){var r=t(3193);v.exports=u;function u(n,s){var f=r(s),l=[];return l=l.concat(f(n)),l=l.concat(f(null)),l}},6832:function(v){v.exports=function(d){typeof d=="string"&&(d=[d]);for(var t=[].slice.call(arguments,1),r=[],u=0;u<d.length-1;u++)r.push(d[u],t[u]||"");return r.push(d[u]),r.join("")}},5233:function(v,d,t){var r=t(4846);function u(){var n=!1;try{var s=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,s),window.removeEventListener("test",null,s)}catch{n=!1}return n}v.exports=r&&u()},2183:function(v,d,t){v.exports=o;var r=t(417),u=t(8211).H;function n(p,S,A){this.vertices=p,this.adjacent=S,this.boundary=A,this.lastVisited=-1}n.prototype.flip=function(){var p=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=p;var S=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=S};function s(p,S,A){this.vertices=p,this.cell=S,this.index=A}function f(p,S){return u(p.vertices,S.vertices)}function l(p){return function(){var S=this.tuple;return p.apply(this,S)}}function x(p){var S=r[p+1];return S||(S=r),l(S)}var c=[];function b(p,S,A){this.dimension=p,this.vertices=S,this.simplices=A,this.interior=A.filter(function(M){return!M.boundary}),this.tuple=new Array(p+1);for(var E=0;E<=p;++E)this.tuple[E]=this.vertices[E];var m=c[p];m||(m=c[p]=x(p)),this.orient=m}var h=b.prototype;h.handleBoundaryDegeneracy=function(p,S){var A=this.dimension,E=this.vertices.length-1,m=this.tuple,M=this.vertices,w=[p];for(p.lastVisited=-E;w.length>0;){p=w.pop();for(var i=p.adjacent,C=0;C<=A;++C){var y=i[C];if(!(!y.boundary||y.lastVisited<=-E)){for(var _=y.vertices,I=0;I<=A;++I){var N=_[I];N<0?m[I]=S:m[I]=M[N]}var k=this.orient();if(k>0)return y;y.lastVisited=-E,k===0&&w.push(y)}}}return null},h.walk=function(p,S){var A=this.vertices.length-1,E=this.dimension,m=this.vertices,M=this.tuple,w=S?this.interior.length*Math.random()|0:this.interior.length-1,i=this.interior[w];e:for(;!i.boundary;){for(var C=i.vertices,y=i.adjacent,_=0;_<=E;++_)M[_]=m[C[_]];i.lastVisited=A;for(var _=0;_<=E;++_){var I=y[_];if(!(I.lastVisited>=A)){var N=M[_];M[_]=p;var k=this.orient();if(M[_]=N,k<0){i=I;continue e}else I.boundary?I.lastVisited=-A:I.lastVisited=A}}return}return i},h.addPeaks=function(p,S){var A=this.vertices.length-1,E=this.dimension,m=this.vertices,M=this.tuple,w=this.interior,i=this.simplices,C=[S];S.lastVisited=A,S.vertices[S.vertices.indexOf(-1)]=A,S.boundary=!1,w.push(S);for(var y=[];C.length>0;){var S=C.pop(),_=S.vertices,I=S.adjacent,N=_.indexOf(A);if(!(N<0)){for(var k=0;k<=E;++k)if(k!==N){var O=I[k];if(!(!O.boundary||O.lastVisited>=A)){var z=O.vertices;if(O.lastVisited!==-A){for(var F=0,B=0;B<=E;++B)z[B]<0?(F=B,M[B]=p):M[B]=m[z[B]];var G=this.orient();if(G>0){z[F]=A,O.boundary=!1,w.push(O),C.push(O),O.lastVisited=A;continue}else O.lastVisited=-A}var Q=O.adjacent,ee=_.slice(),ae=I.slice(),fe=new n(ee,ae,!0);i.push(fe);var K=Q.indexOf(S);if(!(K<0)){Q[K]=fe,ae[N]=O,ee[k]=-1,ae[k]=S,I[k]=fe,fe.flip();for(var B=0;B<=E;++B){var W=ee[B];if(!(W<0||W===A)){for(var Z=new Array(E-1),X=0,$=0;$<=E;++$){var ie=ee[$];ie<0||$===B||(Z[X++]=ie)}y.push(new s(Z,fe,B))}}}}}}}y.sort(f);for(var k=0;k+1<y.length;k+=2){var J=y[k],j=y[k+1],se=J.index,ne=j.index;se<0||ne<0||(J.cell.adjacent[J.index]=j.cell,j.cell.adjacent[j.index]=J.cell)}},h.insert=function(p,S){var A=this.vertices;A.push(p);var E=this.walk(p,S);if(E){for(var m=this.dimension,M=this.tuple,w=0;w<=m;++w){var i=E.vertices[w];i<0?M[w]=p:M[w]=A[i]}var C=this.orient(M);C<0||C===0&&(E=this.handleBoundaryDegeneracy(E,p),!E)||this.addPeaks(p,E)}},h.boundary=function(){for(var p=this.dimension,S=[],A=this.simplices,E=A.length,m=0;m<E;++m){var M=A[m];if(M.boundary){for(var w=new Array(p),i=M.vertices,C=0,y=0,_=0;_<=p;++_)i[_]>=0?w[C++]=i[_]:y=_&1;if(y===(p&1)){var I=w[0];w[0]=w[1],w[1]=I}S.push(w)}}return S};function o(p,S){var A=p.length;if(A===0)throw new Error("Must have at least d+1 points");var E=p[0].length;if(A<=E)throw new Error("Must input at least d+1 points");var m=p.slice(0,E+1),M=r.apply(void 0,m);if(M===0)throw new Error("Input not in general position");for(var w=new Array(E+1),i=0;i<=E;++i)w[i]=i;M<0&&(w[0]=1,w[1]=0);for(var C=new n(w,new Array(E+1),!1),y=C.adjacent,_=new Array(E+2),i=0;i<=E;++i){for(var I=w.slice(),N=0;N<=E;++N)N===i&&(I[N]=-1);var k=I[0];I[0]=I[1],I[1]=k;var O=new n(I,new Array(E+1),!0);y[i]=O,_[i]=O}_[E+1]=C;for(var i=0;i<=E;++i)for(var I=y[i].vertices,z=y[i].adjacent,N=0;N<=E;++N){var F=I[N];if(F<0){z[N]=C;continue}for(var B=0;B<=E;++B)y[B].vertices.indexOf(F)<0&&(z[N]=y[B])}for(var G=new b(E,m,_),Q=!!S,i=E+1;i<A;++i)G.insert(p[i],Q);return G.boundary()}},9014:function(v,d,t){var r=t(5070),u=0,n=1,s=2;v.exports=C;function f(y,_,I,N,k){this.mid=y,this.left=_,this.right=I,this.leftPoints=N,this.rightPoints=k,this.count=(_?_.count:0)+(I?I.count:0)+N.length}var l=f.prototype;function x(y,_){y.mid=_.mid,y.left=_.left,y.right=_.right,y.leftPoints=_.leftPoints,y.rightPoints=_.rightPoints,y.count=_.count}function c(y,_){var I=M(_);y.mid=I.mid,y.left=I.left,y.right=I.right,y.leftPoints=I.leftPoints,y.rightPoints=I.rightPoints,y.count=I.count}function b(y,_){var I=y.intervals([]);I.push(_),c(y,I)}function h(y,_){var I=y.intervals([]),N=I.indexOf(_);return N<0?u:(I.splice(N,1),c(y,I),n)}l.intervals=function(y){return y.push.apply(y,this.leftPoints),this.left&&this.left.intervals(y),this.right&&this.right.intervals(y),y},l.insert=function(y){var _=this.count-this.leftPoints.length;if(this.count+=1,y[1]<this.mid)this.left?4*(this.left.count+1)>3*(_+1)?b(this,y):this.left.insert(y):this.left=M([y]);else if(y[0]>this.mid)this.right?4*(this.right.count+1)>3*(_+1)?b(this,y):this.right.insert(y):this.right=M([y]);else{var I=r.ge(this.leftPoints,y,E),N=r.ge(this.rightPoints,y,m);this.leftPoints.splice(I,0,y),this.rightPoints.splice(N,0,y)}},l.remove=function(y){var _=this.count-this.leftPoints;if(y[1]<this.mid){if(!this.left)return u;var I=this.right?this.right.count:0;if(4*I>3*(_-1))return h(this,y);var N=this.left.remove(y);return N===s?(this.left=null,this.count-=1,n):(N===n&&(this.count-=1),N)}else if(y[0]>this.mid){if(!this.right)return u;var k=this.left?this.left.count:0;if(4*k>3*(_-1))return h(this,y);var N=this.right.remove(y);return N===s?(this.right=null,this.count-=1,n):(N===n&&(this.count-=1),N)}else{if(this.count===1)return this.leftPoints[0]===y?s:u;if(this.leftPoints.length===1&&this.leftPoints[0]===y){if(this.left&&this.right){for(var O=this,z=this.left;z.right;)O=z,z=z.right;if(O===this)z.right=this.right;else{var F=this.left,N=this.right;O.count-=z.count,O.right=z.left,z.left=F,z.right=N}x(this,z),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?x(this,this.left):x(this,this.right);return n}for(var F=r.ge(this.leftPoints,y,E);F<this.leftPoints.length&&this.leftPoints[F][0]===y[0];++F)if(this.leftPoints[F]===y){this.count-=1,this.leftPoints.splice(F,1);for(var N=r.ge(this.rightPoints,y,m);N<this.rightPoints.length&&this.rightPoints[N][1]===y[1];++N)if(this.rightPoints[N]===y)return this.rightPoints.splice(N,1),n}return u}};function o(y,_,I){for(var N=0;N<y.length&&y[N][0]<=_;++N){var k=I(y[N]);if(k)return k}}function p(y,_,I){for(var N=y.length-1;N>=0&&y[N][1]>=_;--N){var k=I(y[N]);if(k)return k}}function S(y,_){for(var I=0;I<y.length;++I){var N=_(y[I]);if(N)return N}}l.queryPoint=function(y,_){if(y<this.mid){if(this.left){var I=this.left.queryPoint(y,_);if(I)return I}return o(this.leftPoints,y,_)}else if(y>this.mid){if(this.right){var I=this.right.queryPoint(y,_);if(I)return I}return p(this.rightPoints,y,_)}else return S(this.leftPoints,_)},l.queryInterval=function(y,_,I){if(y<this.mid&&this.left){var N=this.left.queryInterval(y,_,I);if(N)return N}if(_>this.mid&&this.right){var N=this.right.queryInterval(y,_,I);if(N)return N}return _<this.mid?o(this.leftPoints,_,I):y>this.mid?p(this.rightPoints,y,I):S(this.leftPoints,I)};function A(y,_){return y-_}function E(y,_){var I=y[0]-_[0];return I||y[1]-_[1]}function m(y,_){var I=y[1]-_[1];return I||y[0]-_[0]}function M(y){if(y.length===0)return null;for(var _=[],I=0;I<y.length;++I)_.push(y[I][0],y[I][1]);_.sort(A);for(var N=_[_.length>>1],k=[],O=[],z=[],I=0;I<y.length;++I){var F=y[I];F[1]<N?k.push(F):N<F[0]?O.push(F):z.push(F)}var B=z,G=z.slice();return B.sort(E),G.sort(m),new f(N,M(k),M(O),B,G)}function w(y){this.root=y}var i=w.prototype;i.insert=function(y){this.root?this.root.insert(y):this.root=new f(y[0],null,null,[y],[y])},i.remove=function(y){if(this.root){var _=this.root.remove(y);return _===s&&(this.root=null),_!==u}return!1},i.queryPoint=function(y,_){if(this.root)return this.root.queryPoint(y,_)},i.queryInterval=function(y,_,I){if(y<=_&&this.root)return this.root.queryInterval(y,_,I)},Object.defineProperty(i,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(i,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function C(y){return!y||y.length===0?new w(null):new w(M(y))}},9560:function(v){function d(t){for(var r=new Array(t),u=0;u<t;++u)r[u]=u;return r}v.exports=d},4846:function(v){v.exports=!0},4780:function(v){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/v.exports=function(r){return r!=null&&(d(r)||t(r)||!!r._isBuffer)};function d(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function t(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&d(r.slice(0,0))}},3596:function(v){v.exports=function(d){for(var t=d.length,r,u=0;u<t;u++)if(r=d.charCodeAt(u),(r<9||r>13)&&r!==32&&r!==133&&r!==160&&r!==5760&&r!==6158&&(r<8192||r>8205)&&r!==8232&&r!==8233&&r!==8239&&r!==8287&&r!==8288&&r!==12288&&r!==65279)return!1;return!0}},3578:function(v){function d(t,r,u){return t*(1-u)+r*u}v.exports=d},7191:function(v,d,t){var r=t(4690),u=t(9823),n=t(7332),s=t(7787),f=t(7437),l=t(2142),x={length:t(4693),normalize:t(899),dot:t(9305),cross:t(903)},c=u(),b=u(),h=[0,0,0,0],o=[[0,0,0],[0,0,0],[0,0,0]],p=[0,0,0];v.exports=function(M,w,i,C,y,_){if(w||(w=[0,0,0]),i||(i=[0,0,0]),C||(C=[0,0,0]),y||(y=[0,0,0,1]),_||(_=[0,0,0,1]),!r(c,M)||(n(b,c),b[3]=0,b[7]=0,b[11]=0,b[15]=1,Math.abs(s(b)<1e-8)))return!1;var I=c[3],N=c[7],k=c[11],O=c[12],z=c[13],F=c[14],B=c[15];if(I!==0||N!==0||k!==0){h[0]=I,h[1]=N,h[2]=k,h[3]=B;var G=f(b,b);if(!G)return!1;l(b,b),S(y,h,b)}else y[0]=y[1]=y[2]=0,y[3]=1;if(w[0]=O,w[1]=z,w[2]=F,A(o,c),i[0]=x.length(o[0]),x.normalize(o[0],o[0]),C[0]=x.dot(o[0],o[1]),E(o[1],o[1],o[0],1,-C[0]),i[1]=x.length(o[1]),x.normalize(o[1],o[1]),C[0]/=i[1],C[1]=x.dot(o[0],o[2]),E(o[2],o[2],o[0],1,-C[1]),C[2]=x.dot(o[1],o[2]),E(o[2],o[2],o[1],1,-C[2]),i[2]=x.length(o[2]),x.normalize(o[2],o[2]),C[1]/=i[2],C[2]/=i[2],x.cross(p,o[1],o[2]),x.dot(o[0],p)<0)for(var Q=0;Q<3;Q++)i[Q]*=-1,o[Q][0]*=-1,o[Q][1]*=-1,o[Q][2]*=-1;return _[0]=.5*Math.sqrt(Math.max(1+o[0][0]-o[1][1]-o[2][2],0)),_[1]=.5*Math.sqrt(Math.max(1-o[0][0]+o[1][1]-o[2][2],0)),_[2]=.5*Math.sqrt(Math.max(1-o[0][0]-o[1][1]+o[2][2],0)),_[3]=.5*Math.sqrt(Math.max(1+o[0][0]+o[1][1]+o[2][2],0)),o[2][1]>o[1][2]&&(_[0]=-_[0]),o[0][2]>o[2][0]&&(_[1]=-_[1]),o[1][0]>o[0][1]&&(_[2]=-_[2]),!0};function S(m,M,w){var i=M[0],C=M[1],y=M[2],_=M[3];return m[0]=w[0]*i+w[4]*C+w[8]*y+w[12]*_,m[1]=w[1]*i+w[5]*C+w[9]*y+w[13]*_,m[2]=w[2]*i+w[6]*C+w[10]*y+w[14]*_,m[3]=w[3]*i+w[7]*C+w[11]*y+w[15]*_,m}function A(m,M){m[0][0]=M[0],m[0][1]=M[1],m[0][2]=M[2],m[1][0]=M[4],m[1][1]=M[5],m[1][2]=M[6],m[2][0]=M[8],m[2][1]=M[9],m[2][2]=M[10]}function E(m,M,w,i,C){m[0]=M[0]*i+w[0]*C,m[1]=M[1]*i+w[1]*C,m[2]=M[2]*i+w[2]*C}},4690:function(v){v.exports=function(t,r){var u=r[15];if(u===0)return!1;for(var n=1/u,s=0;s<16;s++)t[s]=r[s]*n;return!0}},7649:function(v,d,t){var r=t(1868),u=t(1102),n=t(7191),s=t(7787),f=t(1116),l=h(),x=h(),c=h();v.exports=b;function b(S,A,E,m){if(s(A)===0||s(E)===0)return!1;var M=n(A,l.translate,l.scale,l.skew,l.perspective,l.quaternion),w=n(E,x.translate,x.scale,x.skew,x.perspective,x.quaternion);return!M||!w?!1:(r(c.translate,l.translate,x.translate,m),r(c.skew,l.skew,x.skew,m),r(c.scale,l.scale,x.scale,m),r(c.perspective,l.perspective,x.perspective,m),f(c.quaternion,l.quaternion,x.quaternion,m),u(S,c.translate,c.scale,c.skew,c.perspective,c.quaternion),!0)}function h(){return{translate:o(),scale:o(1),skew:o(),perspective:p(),quaternion:p()}}function o(S){return[S||0,S||0,S||0]}function p(){return[0,0,0,1]}},1102:function(v,d,t){var r={identity:t(9947),translate:t(998),multiply:t(104),create:t(9823),scale:t(3668),fromRotationTranslation:t(7280)};r.create();var u=r.create();v.exports=function(s,f,l,x,c,b){return r.identity(s),r.fromRotationTranslation(s,b,f),s[3]=c[0],s[7]=c[1],s[11]=c[2],s[15]=c[3],r.identity(u),x[2]!==0&&(u[9]=x[2],r.multiply(s,s,u)),x[1]!==0&&(u[9]=0,u[8]=x[1],r.multiply(s,s,u)),x[0]!==0&&(u[8]=0,u[4]=x[0],r.multiply(s,s,u)),r.scale(s,s,l),s}},9298:function(v,d,t){var r=t(5070),u=t(7649),n=t(7437),s=t(6109),f=t(7115),l=t(5240),x=t(3012),c=t(998);t(3668);var b=t(899),h=[0,0,0];v.exports=A;function o(E){this._components=E.slice(),this._time=[0],this.prevMatrix=E.slice(),this.nextMatrix=E.slice(),this.computedMatrix=E.slice(),this.computedInverse=E.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var p=o.prototype;p.recalcMatrix=function(E){var m=this._time,M=r.le(m,E),w=this.computedMatrix;if(!(M<0)){var i=this._components;if(M===m.length-1)for(var C=16*M,y=0;y<16;++y)w[y]=i[C++];else{for(var _=m[M+1]-m[M],C=16*M,I=this.prevMatrix,N=!0,y=0;y<16;++y)I[y]=i[C++];for(var k=this.nextMatrix,y=0;y<16;++y)k[y]=i[C++],N=N&&I[y]===k[y];if(_<1e-6||N)for(var y=0;y<16;++y)w[y]=I[y];else u(w,I,k,(E-m[M])/_)}var O=this.computedUp;O[0]=w[1],O[1]=w[5],O[2]=w[9],b(O,O);var z=this.computedInverse;n(z,w);var F=this.computedEye,B=z[15];F[0]=z[12]/B,F[1]=z[13]/B,F[2]=z[14]/B;for(var G=this.computedCenter,Q=Math.exp(this.computedRadius[0]),y=0;y<3;++y)G[y]=F[y]-w[2+4*y]*Q}},p.idle=function(E){if(!(E<this.lastT())){for(var m=this._components,M=m.length-16,w=0;w<16;++w)m.push(m[M++]);this._time.push(E)}},p.flush=function(E){var m=r.gt(this._time,E)-2;m<0||(this._time.splice(0,m),this._components.splice(0,16*m))},p.lastT=function(){return this._time[this._time.length-1]},p.lookAt=function(E,m,M,w){this.recalcMatrix(E),m=m||this.computedEye,M=M||h,w=w||this.computedUp,this.setMatrix(E,x(this.computedMatrix,m,M,w));for(var i=0,C=0;C<3;++C)i+=Math.pow(M[C]-m[C],2);i=Math.log(Math.sqrt(i)),this.computedRadius[0]=i},p.rotate=function(E,m,M,w){this.recalcMatrix(E);var i=this.computedInverse;m&&f(i,i,m),M&&s(i,i,M),w&&l(i,i,w),this.setMatrix(E,n(this.computedMatrix,i))};var S=[0,0,0];p.pan=function(E,m,M,w){S[0]=-(m||0),S[1]=-(M||0),S[2]=-(w||0),this.recalcMatrix(E);var i=this.computedInverse;c(i,i,S),this.setMatrix(E,n(i,i))},p.translate=function(E,m,M,w){S[0]=m||0,S[1]=M||0,S[2]=w||0,this.recalcMatrix(E);var i=this.computedMatrix;c(i,i,S),this.setMatrix(E,i)},p.setMatrix=function(E,m){if(!(E<this.lastT())){this._time.push(E);for(var M=0;M<16;++M)this._components.push(m[M])}},p.setDistance=function(E,m){this.computedRadius[0]=m},p.setDistanceLimits=function(E,m){var M=this._limits;M[0]=E,M[1]=m},p.getDistanceLimits=function(E){var m=this._limits;return E?(E[0]=m[0],E[1]=m[1],E):m};function A(E){E=E||{};var m=E.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new o(m)}},3266:function(v,d,t){v.exports=u;var r=t(417)[3];function u(n){var s=n.length;if(s<3){for(var p=new Array(s),f=0;f<s;++f)p[f]=f;return s===2&&n[0][0]===n[1][0]&&n[0][1]===n[1][1]?[0]:p}for(var l=new Array(s),f=0;f<s;++f)l[f]=f;l.sort(function(m,M){var w=n[m][0]-n[M][0];return w||n[m][1]-n[M][1]});for(var x=[l[0],l[1]],c=[l[0],l[1]],f=2;f<s;++f){for(var b=l[f],h=n[b],o=x.length;o>1&&r(n[x[o-2]],n[x[o-1]],h)<=0;)o-=1,x.pop();for(x.push(b),o=c.length;o>1&&r(n[c[o-2]],n[c[o-1]],h)>=0;)o-=1,c.pop();c.push(b)}for(var p=new Array(c.length+x.length-2),S=0,f=0,A=x.length;f<A;++f)p[S++]=x[f];for(var E=c.length-2;E>0;--E)p[S++]=c[E];return p}},6145:function(v,d,t){v.exports=u;var r=t(4110);function u(n,s){s||(s=n,n=window);var f=0,l=0,x=0,c={shift:!1,alt:!1,control:!1,meta:!1},b=!1;function h(y){var _=!1;return"altKey"in y&&(_=_||y.altKey!==c.alt,c.alt=!!y.altKey),"shiftKey"in y&&(_=_||y.shiftKey!==c.shift,c.shift=!!y.shiftKey),"ctrlKey"in y&&(_=_||y.ctrlKey!==c.control,c.control=!!y.ctrlKey),"metaKey"in y&&(_=_||y.metaKey!==c.meta,c.meta=!!y.metaKey),_}function o(y,_){var I=r.x(_),N=r.y(_);"buttons"in _&&(y=_.buttons|0),(y!==f||I!==l||N!==x||h(_))&&(f=y|0,l=I||0,x=N||0,s&&s(f,l,x,c))}function p(y){o(0,y)}function S(){(f||l||x||c.shift||c.alt||c.meta||c.control)&&(l=x=0,f=0,c.shift=c.alt=c.control=c.meta=!1,s&&s(0,0,0,c))}function A(y){h(y)&&s&&s(f,l,x,c)}function E(y){r.buttons(y)===0?o(0,y):o(f,y)}function m(y){o(f|r.buttons(y),y)}function M(y){o(f&~r.buttons(y),y)}function w(){b||(b=!0,n.addEventListener("mousemove",E),n.addEventListener("mousedown",m),n.addEventListener("mouseup",M),n.addEventListener("mouseleave",p),n.addEventListener("mouseenter",p),n.addEventListener("mouseout",p),n.addEventListener("mouseover",p),n.addEventListener("blur",S),n.addEventListener("keyup",A),n.addEventListener("keydown",A),n.addEventListener("keypress",A),n!==window&&(window.addEventListener("blur",S),window.addEventListener("keyup",A),window.addEventListener("keydown",A),window.addEventListener("keypress",A)))}function i(){b&&(b=!1,n.removeEventListener("mousemove",E),n.removeEventListener("mousedown",m),n.removeEventListener("mouseup",M),n.removeEventListener("mouseleave",p),n.removeEventListener("mouseenter",p),n.removeEventListener("mouseout",p),n.removeEventListener("mouseover",p),n.removeEventListener("blur",S),n.removeEventListener("keyup",A),n.removeEventListener("keydown",A),n.removeEventListener("keypress",A),n!==window&&(window.removeEventListener("blur",S),window.removeEventListener("keyup",A),window.removeEventListener("keydown",A),window.removeEventListener("keypress",A)))}w();var C={element:n};return Object.defineProperties(C,{enabled:{get:function(){return b},set:function(y){y?w():i()},enumerable:!0},buttons:{get:function(){return f},enumerable:!0},x:{get:function(){return l},enumerable:!0},y:{get:function(){return x},enumerable:!0},mods:{get:function(){return c},enumerable:!0}}),C}},2565:function(v){var d={left:0,top:0};v.exports=t;function t(u,n,s){n=n||u.currentTarget||u.srcElement,Array.isArray(s)||(s=[0,0]);var f=u.clientX||0,l=u.clientY||0,x=r(n);return s[0]=f-x.left,s[1]=l-x.top,s}function r(u){return u===window||u===document||u===document.body?d:u.getBoundingClientRect()}},4110:function(v,d){function t(s){if(typeof s=="object"){if("buttons"in s)return s.buttons;if("which"in s){var f=s.which;if(f===2)return 4;if(f===3)return 2;if(f>0)return 1<<f-1}else if("button"in s){var f=s.button;if(f===1)return 4;if(f===2)return 2;if(f>=0)return 1<<f}}return 0}d.buttons=t;function r(s){return s.target||s.srcElement||window}d.element=r;function u(s){if(typeof s=="object"){if("offsetX"in s)return s.offsetX;var f=r(s),l=f.getBoundingClientRect();return s.clientX-l.left}return 0}d.x=u;function n(s){if(typeof s=="object"){if("offsetY"in s)return s.offsetY;var f=r(s),l=f.getBoundingClientRect();return s.clientY-l.top}return 0}d.y=n},6475:function(v,d,t){var r=t(14);v.exports=u;function u(n,s,f){typeof n=="function"&&(f=!!s,s=n,n=window);var l=r("ex",n),x=function(c){f&&c.preventDefault();var b=c.deltaX||0,h=c.deltaY||0,o=c.deltaZ||0,p=c.deltaMode,S=1;switch(p){case 1:S=l;break;case 2:S=window.innerHeight;break}if(b*=S,h*=S,o*=S,b||h||o)return s(b,h,o,c)};return n.addEventListener("wheel",x),x}},9284:function(v,d,t){var r=t(5306);v.exports=s;var u={"false,0,1":function(l,x,c,b,h){return function(p,S,A,E){var m=p.shape[0]|0,M=p.shape[1]|0,w=p.data,i=p.offset|0,C=p.stride[0]|0,y=p.stride[1]|0,_=i,I,N=-C|0,k=0,O=-y|0,z=0,F=-C-y|0,B=0,G=C|0,Q=y-C*m|0,ee=0,ae=0,fe=0,K=2*m|0,W=b(K),Z=b(K),X=0,$=0,ie=-1,J=-1,j=0,se=-m|0,ne=m|0,ue=0,ge=-m-1|0,we=m-1|0,xe=0,Fe=0,ze=0;for(ee=0;ee<m;++ee)W[X++]=c(w[_],S,A,E),_+=G;if(_+=Q,M>0){if(ae=1,W[X++]=c(w[_],S,A,E),_+=G,m>0)for(ee=1,I=w[_],$=W[X]=c(I,S,A,E),j=W[X+ie],ue=W[X+se],xe=W[X+ge],($!==j||$!==ue||$!==xe)&&(k=w[_+N],z=w[_+O],B=w[_+F],l(ee,ae,I,k,z,B,$,j,ue,xe,S,A,E),Fe=Z[X]=fe++),X+=1,_+=G,ee=2;ee<m;++ee)I=w[_],$=W[X]=c(I,S,A,E),j=W[X+ie],ue=W[X+se],xe=W[X+ge],($!==j||$!==ue||$!==xe)&&(k=w[_+N],z=w[_+O],B=w[_+F],l(ee,ae,I,k,z,B,$,j,ue,xe,S,A,E),Fe=Z[X]=fe++,xe!==j&&x(Z[X+ie],Fe,B,k,xe,j,S,A,E)),X+=1,_+=G;for(_+=Q,X=0,ze=ie,ie=J,J=ze,ze=se,se=ne,ne=ze,ze=ge,ge=we,we=ze,ae=2;ae<M;++ae){if(W[X++]=c(w[_],S,A,E),_+=G,m>0)for(ee=1,I=w[_],$=W[X]=c(I,S,A,E),j=W[X+ie],ue=W[X+se],xe=W[X+ge],($!==j||$!==ue||$!==xe)&&(k=w[_+N],z=w[_+O],B=w[_+F],l(ee,ae,I,k,z,B,$,j,ue,xe,S,A,E),Fe=Z[X]=fe++,xe!==ue&&x(Z[X+se],Fe,z,B,ue,xe,S,A,E)),X+=1,_+=G,ee=2;ee<m;++ee)I=w[_],$=W[X]=c(I,S,A,E),j=W[X+ie],ue=W[X+se],xe=W[X+ge],($!==j||$!==ue||$!==xe)&&(k=w[_+N],z=w[_+O],B=w[_+F],l(ee,ae,I,k,z,B,$,j,ue,xe,S,A,E),Fe=Z[X]=fe++,xe!==ue&&x(Z[X+se],Fe,z,B,ue,xe,S,A,E),xe!==j&&x(Z[X+ie],Fe,B,k,xe,j,S,A,E)),X+=1,_+=G;ae&1&&(X=0),ze=ie,ie=J,J=ze,ze=se,se=ne,ne=ze,ze=ge,ge=we,we=ze,_+=Q}}h(Z),h(W)}},"false,1,0":function(l,x,c,b,h){return function(p,S,A,E){var m=p.shape[0]|0,M=p.shape[1]|0,w=p.data,i=p.offset|0,C=p.stride[0]|0,y=p.stride[1]|0,_=i,I,N=-C|0,k=0,O=-y|0,z=0,F=-C-y|0,B=0,G=y|0,Q=C-y*M|0,ee=0,ae=0,fe=0,K=2*M|0,W=b(K),Z=b(K),X=0,$=0,ie=-1,J=-1,j=0,se=-M|0,ne=M|0,ue=0,ge=-M-1|0,we=M-1|0,xe=0,Fe=0,ze=0;for(ae=0;ae<M;++ae)W[X++]=c(w[_],S,A,E),_+=G;if(_+=Q,m>0){if(ee=1,W[X++]=c(w[_],S,A,E),_+=G,M>0)for(ae=1,I=w[_],$=W[X]=c(I,S,A,E),ue=W[X+se],j=W[X+ie],xe=W[X+ge],($!==ue||$!==j||$!==xe)&&(k=w[_+N],z=w[_+O],B=w[_+F],l(ee,ae,I,k,z,B,$,ue,j,xe,S,A,E),Fe=Z[X]=fe++),X+=1,_+=G,ae=2;ae<M;++ae)I=w[_],$=W[X]=c(I,S,A,E),ue=W[X+se],j=W[X+ie],xe=W[X+ge],($!==ue||$!==j||$!==xe)&&(k=w[_+N],z=w[_+O],B=w[_+F],l(ee,ae,I,k,z,B,$,ue,j,xe,S,A,E),Fe=Z[X]=fe++,xe!==j&&x(Z[X+ie],Fe,z,B,j,xe,S,A,E)),X+=1,_+=G;for(_+=Q,X=0,ze=se,se=ne,ne=ze,ze=ie,ie=J,J=ze,ze=ge,ge=we,we=ze,ee=2;ee<m;++ee){if(W[X++]=c(w[_],S,A,E),_+=G,M>0)for(ae=1,I=w[_],$=W[X]=c(I,S,A,E),ue=W[X+se],j=W[X+ie],xe=W[X+ge],($!==ue||$!==j||$!==xe)&&(k=w[_+N],z=w[_+O],B=w[_+F],l(ee,ae,I,k,z,B,$,ue,j,xe,S,A,E),Fe=Z[X]=fe++,xe!==ue&&x(Z[X+se],Fe,B,k,xe,ue,S,A,E)),X+=1,_+=G,ae=2;ae<M;++ae)I=w[_],$=W[X]=c(I,S,A,E),ue=W[X+se],j=W[X+ie],xe=W[X+ge],($!==ue||$!==j||$!==xe)&&(k=w[_+N],z=w[_+O],B=w[_+F],l(ee,ae,I,k,z,B,$,ue,j,xe,S,A,E),Fe=Z[X]=fe++,xe!==j&&x(Z[X+ie],Fe,z,B,j,xe,S,A,E),xe!==ue&&x(Z[X+se],Fe,B,k,xe,ue,S,A,E)),X+=1,_+=G;ee&1&&(X=0),ze=se,se=ne,ne=ze,ze=ie,ie=J,J=ze,ze=ge,ge=we,we=ze,_+=Q}}h(Z),h(W)}}};function n(f,l,x,c,b,h){var o=[h,b].join(","),p=u[o];return p(f,l,x,r.mallocUint32,r.freeUint32)}function s(f){function l(S){throw new Error("ndarray-extract-contour: "+S)}typeof f!="object"&&l("Must specify arguments");var x=f.order;Array.isArray(x)||l("Must specify order");var c=f.arrayArguments||1;c<1&&l("Must have at least one array argument");var b=f.scalarArguments||0;b<0&&l("Scalar arg count must be > 0"),typeof f.vertex!="function"&&l("Must specify vertex creation function"),typeof f.cell!="function"&&l("Must specify cell creation function"),typeof f.phase!="function"&&l("Must specify phase function");for(var h=f.getters||[],o=new Array(c),p=0;p<c;++p)h.indexOf(p)>=0?o[p]=!0:o[p]=!1;return n(f.vertex,f.cell,f.phase,b,x,o)}},9144:function(v,d,t){var r=t(3094),u={zero:function(A,E,m,M){var w=A[0],i=m[0];M|=0;var C=0,y=i;for(C=0;C<w;++C)E[M]=0,M+=y},fdTemplate1:function(A,E,m,M,w,i,C){var y=A[0],_=m[0],I=i[0],N=-1*_,k=_;M|=0,C|=0;var O=0,z=_,F=I;for(O=0;O<y;++O)w[C]=.5*(E[M+N]-E[M+k]),M+=z,C+=F},fdTemplate2:function(A,E,m,M,w,i,C,y,_,I){var N=A[0],k=A[1],O=m[0],z=m[1],F=i[0],B=i[1],G=_[0],Q=_[1],ee=-1*O,ae=O,fe=-1*z,K=z;M|=0,C|=0,I|=0;var W=0,Z=0,X=z,$=O-k*z,ie=B,J=F-k*B,j=Q,se=G-k*Q;for(Z=0;Z<N;++Z){for(W=0;W<k;++W)w[C]=.5*(E[M+ee]-E[M+ae]),y[I]=.5*(E[M+fe]-E[M+K]),M+=X,C+=ie,I+=j;M+=$,C+=J,I+=se}}},n={cdiff:function(A){var E={};return function(M,w,i){var C=M.dtype,y=M.order,_=w.dtype,I=w.order,N=i.dtype,k=i.order,O=[C,y.join(),_,I.join(),N,k.join()].join(),z=E[O];return z||(E[O]=z=A([C,y,_,I,N,k])),z(M.shape.slice(0),M.data,M.stride,M.offset|0,w.data,w.stride,w.offset|0,i.data,i.stride,i.offset|0)}},zero:function(A){var E={};return function(M){var w=M.dtype,i=M.order,C=[w,i.join()].join(),y=E[C];return y||(E[C]=y=A([w,i])),y(M.shape.slice(0),M.data,M.stride,M.offset|0)}},fdTemplate1:function(A){var E={};return function(M,w){var i=M.dtype,C=M.order,y=w.dtype,_=w.order,I=[i,C.join(),y,_.join()].join(),N=E[I];return N||(E[I]=N=A([i,C,y,_])),N(M.shape.slice(0),M.data,M.stride,M.offset|0,w.data,w.stride,w.offset|0)}},fdTemplate2:function(A){var E={};return function(M,w,i){var C=M.dtype,y=M.order,_=w.dtype,I=w.order,N=i.dtype,k=i.order,O=[C,y.join(),_,I.join(),N,k.join()].join(),z=E[O];return z||(E[O]=z=A([C,y,_,I,N,k])),z(M.shape.slice(0),M.data,M.stride,M.offset|0,w.data,w.stride,w.offset|0,i.data,i.stride,i.offset|0)}}};function s(A){var E=n[A.funcName];return E(f.bind(void 0,A))}function f(A){return u[A.funcName]}function l(A){return s({funcName:A.funcName})}var x={},c={},b=l({funcName:"cdiff"}),h=l({funcName:"zero"});function o(A){return A in x?x[A]:x[A]=l({funcName:"fdTemplate"+A})}function p(A,E,m,M){return function(w,i){var C=i.shape.slice();return C[0]>2&&C[1]>2&&M(i.pick(-1,-1).lo(1,1).hi(C[0]-2,C[1]-2),w.pick(-1,-1,0).lo(1,1).hi(C[0]-2,C[1]-2),w.pick(-1,-1,1).lo(1,1).hi(C[0]-2,C[1]-2)),C[1]>2&&(m(i.pick(0,-1).lo(1).hi(C[1]-2),w.pick(0,-1,1).lo(1).hi(C[1]-2)),E(w.pick(0,-1,0).lo(1).hi(C[1]-2))),C[1]>2&&(m(i.pick(C[0]-1,-1).lo(1).hi(C[1]-2),w.pick(C[0]-1,-1,1).lo(1).hi(C[1]-2)),E(w.pick(C[0]-1,-1,0).lo(1).hi(C[1]-2))),C[0]>2&&(m(i.pick(-1,0).lo(1).hi(C[0]-2),w.pick(-1,0,0).lo(1).hi(C[0]-2)),E(w.pick(-1,0,1).lo(1).hi(C[0]-2))),C[0]>2&&(m(i.pick(-1,C[1]-1).lo(1).hi(C[0]-2),w.pick(-1,C[1]-1,0).lo(1).hi(C[0]-2)),E(w.pick(-1,C[1]-1,1).lo(1).hi(C[0]-2))),w.set(0,0,0,0),w.set(0,0,1,0),w.set(C[0]-1,0,0,0),w.set(C[0]-1,0,1,0),w.set(0,C[1]-1,0,0),w.set(0,C[1]-1,1,0),w.set(C[0]-1,C[1]-1,0,0),w.set(C[0]-1,C[1]-1,1,0),w}}function S(A){var E=A.join(),C=c[E];if(C)return C;for(var m=A.length,M=[b,h],w=1;w<=m;++w)M.push(o(w));var i=p,C=i.apply(void 0,M);return c[E]=C,C}v.exports=function(E,m,M){if(Array.isArray(M)||(typeof M=="string"?M=r(m.dimension,M):M=r(m.dimension,"clamp")),m.size===0)return E;if(m.dimension===0)return E.set(0),E;var w=S(M);return w(E,m)}},3581:function(v){function d(s,f){var l=Math.floor(f),x=f-l,c=0<=l&&l<s.shape[0],b=0<=l+1&&l+1<s.shape[0],h=c?+s.get(l):0,o=b?+s.get(l+1):0;return(1-x)*h+x*o}function t(s,f,l){var x=Math.floor(f),c=f-x,b=0<=x&&x<s.shape[0],h=0<=x+1&&x+1<s.shape[0],o=Math.floor(l),p=l-o,S=0<=o&&o<s.shape[1],A=0<=o+1&&o+1<s.shape[1],E=b&&S?s.get(x,o):0,m=b&&A?s.get(x,o+1):0,M=h&&S?s.get(x+1,o):0,w=h&&A?s.get(x+1,o+1):0;return(1-p)*((1-c)*E+c*M)+p*((1-c)*m+c*w)}function r(s,f,l,x){var c=Math.floor(f),b=f-c,h=0<=c&&c<s.shape[0],o=0<=c+1&&c+1<s.shape[0],p=Math.floor(l),S=l-p,A=0<=p&&p<s.shape[1],E=0<=p+1&&p+1<s.shape[1],m=Math.floor(x),M=x-m,w=0<=m&&m<s.shape[2],i=0<=m+1&&m+1<s.shape[2],C=h&&A&&w?s.get(c,p,m):0,y=h&&E&&w?s.get(c,p+1,m):0,_=o&&A&&w?s.get(c+1,p,m):0,I=o&&E&&w?s.get(c+1,p+1,m):0,N=h&&A&&i?s.get(c,p,m+1):0,k=h&&E&&i?s.get(c,p+1,m+1):0,O=o&&A&&i?s.get(c+1,p,m+1):0,z=o&&E&&i?s.get(c+1,p+1,m+1):0;return(1-M)*((1-S)*((1-b)*C+b*_)+S*((1-b)*y+b*I))+M*((1-S)*((1-b)*N+b*O)+S*((1-b)*k+b*z))}function u(s){var f=s.shape.length|0,l=new Array(f),x=new Array(f),c=new Array(f),b=new Array(f),h,o;for(h=0;h<f;++h)o=+arguments[h+1],l[h]=Math.floor(o),x[h]=o-l[h],c[h]=0<=l[h]&&l[h]<s.shape[h],b[h]=0<=l[h]+1&&l[h]+1<s.shape[h];var p=0,S,A,E;e:for(h=0;h<1<<f;++h){for(A=1,E=s.offset,S=0;S<f;++S)if(h&1<<S){if(!b[S])continue e;A*=x[S],E+=s.stride[S]*(l[S]+1)}else{if(!c[S])continue e;A*=1-x[S],E+=s.stride[S]*l[S]}p+=A*s.data[E]}return p}function n(s,f,l,x){switch(s.shape.length){case 0:return 0;case 1:return d(s,f);case 2:return t(s,f,l);case 3:return r(s,f,l,x);default:return u.apply(void 0,arguments)}}v.exports=n,v.exports.d1=d,v.exports.d2=t,v.exports.d3=r},7498:function(v,d){var t={"float64,2,1,0":function(){return function(c,b,h,o,p){var S=c[0],A=c[1],E=c[2],m=h[0],M=h[1],w=h[2];o|=0;var i=0,C=0,y=0,_=w,I=M-E*w,N=m-A*M;for(y=0;y<S;++y){for(C=0;C<A;++C){for(i=0;i<E;++i)b[o]/=p,o+=_;o+=I}o+=N}}},"uint8,2,0,1,float64,2,1,0":function(){return function(c,b,h,o,p,S,A,E){var m=c[0],M=c[1],w=c[2],i=h[0],C=h[1],y=h[2],_=S[0],I=S[1],N=S[2];o|=0,A|=0;for(var k=o,O=A,z=c[0]|0;z>0;){z<64?(m=z,z=0):(m=64,z-=64);for(var F=c[1]|0;F>0;){F<64?(M=F,F=0):(M=64,F-=64),o=k+z*i+F*C,A=O+z*_+F*I;var B=0,G=0,Q=0,ee=y,ae=i-w*y,fe=C-m*i,K=N,W=_-w*N,Z=I-m*_;for(Q=0;Q<M;++Q){for(G=0;G<m;++G){for(B=0;B<w;++B)b[o]=p[A]*E,o+=ee,A+=K;o+=ae,A+=W}o+=fe,A+=Z}}}}},"float32,1,0,float32,1,0":function(){return function(c,b,h,o,p,S,A){var E=c[0],m=c[1],M=h[0],w=h[1],i=S[0],C=S[1];o|=0,A|=0;var y=0,_=0,I=w,N=M-m*w,k=C,O=i-m*C;for(_=0;_<E;++_){for(y=0;y<m;++y)b[o]=p[A],o+=I,A+=k;o+=N,A+=O}}},"float32,1,0,float32,0,1":function(){return function(c,b,h,o,p,S,A){var E=c[0],m=c[1],M=h[0],w=h[1],i=S[0],C=S[1];o|=0,A|=0;for(var y=o,_=A,I=c[1]|0;I>0;){I<64?(m=I,I=0):(m=64,I-=64);for(var N=c[0]|0;N>0;){N<64?(E=N,N=0):(E=64,N-=64),o=y+I*w+N*M,A=_+I*C+N*i;var k=0,O=0,z=w,F=M-m*w,B=C,G=i-m*C;for(O=0;O<E;++O){for(k=0;k<m;++k)b[o]=p[A],o+=z,A+=B;o+=F,A+=G}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(c,b,h,o,p,S,A){var E=c[0],m=c[1],M=c[2],w=h[0],i=h[1],C=h[2],y=S[0],_=S[1],I=S[2];o|=0,A|=0;for(var N=o,k=A,O=c[2]|0;O>0;){O<64?(M=O,O=0):(M=64,O-=64);for(var z=c[0]|0;z>0;){z<64?(E=z,z=0):(E=64,z-=64);for(var F=c[1]|0;F>0;){F<64?(m=F,F=0):(m=64,F-=64),o=N+O*C+z*w+F*i,A=k+O*I+z*y+F*_;var B=0,G=0,Q=0,ee=C,ae=w-M*C,fe=i-E*w,K=I,W=y-M*I,Z=_-E*y;for(Q=0;Q<m;++Q){for(G=0;G<E;++G){for(B=0;B<M;++B)b[o]=p[A],o+=ee,A+=K;o+=ae,A+=W}o+=fe,A+=Z}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(c,b,h,o,p,S,A){var E=c[0],m=c[1],M=c[2],w=h[0],i=h[1],C=h[2],y=S[0],_=S[1],I=S[2];o|=0,A|=0;var N=0,k=0,O=0,z=C,F=w-M*C,B=i-E*w,G=I,Q=y-M*I,ee=_-E*y;for(O=0;O<m;++O){for(k=0;k<E;++k){for(N=0;N<M;++N)b[o]=p[A],o+=z,A+=G;o+=F,A+=Q}o+=B,A+=ee}}}};function r(x,c){var b=c.join(","),h=t[b];return h()}var u=r,n={mul:function(x){var c={};return function(h,o,p){var S=h.dtype,A=h.order,E=o.dtype,m=o.order,M=p.dtype,w=p.order,i=[S,A.join(),E,m.join(),M,w.join()].join(),C=c[i];return C||(c[i]=C=x([S,A,E,m,M,w])),C(h.shape.slice(0),h.data,h.stride,h.offset|0,o.data,o.stride,o.offset|0,p.data,p.stride,p.offset|0)}},muls:function(x){var c={};return function(h,o,p){var S=h.dtype,A=h.order,E=o.dtype,m=o.order,M=[S,A.join(),E,m.join()].join(),w=c[M];return w||(c[M]=w=x([S,A,E,m])),w(h.shape.slice(0),h.data,h.stride,h.offset|0,o.data,o.stride,o.offset|0,p)}},mulseq:function(x){var c={};return function(h,o){var p=h.dtype,S=h.order,A=[p,S.join()].join(),E=c[A];return E||(c[A]=E=x([p,S])),E(h.shape.slice(0),h.data,h.stride,h.offset|0,o)}},div:function(x){var c={};return function(h,o,p){var S=h.dtype,A=h.order,E=o.dtype,m=o.order,M=p.dtype,w=p.order,i=[S,A.join(),E,m.join(),M,w.join()].join(),C=c[i];return C||(c[i]=C=x([S,A,E,m,M,w])),C(h.shape.slice(0),h.data,h.stride,h.offset|0,o.data,o.stride,o.offset|0,p.data,p.stride,p.offset|0)}},divs:function(x){var c={};return function(h,o,p){var S=h.dtype,A=h.order,E=o.dtype,m=o.order,M=[S,A.join(),E,m.join()].join(),w=c[M];return w||(c[M]=w=x([S,A,E,m])),w(h.shape.slice(0),h.data,h.stride,h.offset|0,o.data,o.stride,o.offset|0,p)}},divseq:function(x){var c={};return function(h,o){var p=h.dtype,S=h.order,A=[p,S.join()].join(),E=c[A];return E||(c[A]=E=x([p,S])),E(h.shape.slice(0),h.data,h.stride,h.offset|0,o)}},assign:function(x){var c={};return function(h,o){var p=h.dtype,S=h.order,A=o.dtype,E=o.order,m=[p,S.join(),A,E.join()].join(),M=c[m];return M||(c[m]=M=x([p,S,A,E])),M(h.shape.slice(0),h.data,h.stride,h.offset|0,o.data,o.stride,o.offset|0)}}};function s(x){var c=n[x.funcName];return c(u.bind(void 0,x))}function f(x){return s({funcName:x.funcName})}var l={mul:"*",div:"/"};(function(){for(var x in l)d[x]=f({funcName:x}),d[x+"s"]=f({funcName:x+"s"}),d[x+"seq"]=f({funcName:x+"seq"})})(),d.assign=f({funcName:"assign"})},7382:function(v,d,t){var r=t(5050),u=t(9262);v.exports=function(s,f){for(var l=[],x=s,c=1;Array.isArray(x);)l.push(x.length),c*=x.length,x=x[0];return l.length===0?r():(f||(f=r(new Float64Array(c),l)),u(f,s),f)}},9262:function(v){function d(){return function(f,l,x,c,b){var h=f[0],o=f[1],p=f[2],S=x[0],A=x[1],E=x[2],m=[0,0,0];c|=0;var M=0,w=0,i=0,C=E,y=A-p*E,_=S-o*A;for(i=0;i<h;++i){for(w=0;w<o;++w){for(M=0;M<p;++M){{var I=b,N;for(N=0;N<m.length-1;++N)I=I[m[N]];l[c]=I[m[m.length-1]]}c+=C,++m[2]}c+=y,m[2]-=p,++m[1]}c+=_,m[1]-=o,++m[0]}}}function t(){return d()}var r=t;function u(f){var l={};return function(c,b){var h=c.dtype,o=c.order,p=[h,o.join()].join(),S=l[p];return S||(l[p]=S=f([h,o])),S(c.shape.slice(0),c.data,c.stride,c.offset|0,b)}}function n(f){return u(r.bind(void 0,f))}function s(f){return n({funcName:f.funcName})}v.exports=s({funcName:"convert"})},8139:function(v,d,t){var r=t(5306);function u(b){switch(b){case"uint32":return[r.mallocUint32,r.freeUint32];default:return null}}var n={"uint32,1,0":function(b,h){return function(p,S,A,E,m,M,w,i,C,y,_){var I,N,k,O=p*m+E,z,F=b(i),B,G,Q,ee;for(I=p+1;I<=S;++I){for(N=I,O+=m,k=O,B=0,G=O,z=0;z<i;++z)F[B++]=A[G],G+=C;e:for(;N-- >p;){B=0,G=k-m;t:for(z=0;z<i;++z){if(Q=A[G],ee=F[B],Q<ee)break e;if(Q>ee)break t;G+=y,B+=_}for(B=k,G=k-m,z=0;z<i;++z)A[B]=A[G],B+=C,G+=C;k-=m}for(B=k,G=0,z=0;z<i;++z)A[B]=F[G++],B+=C}h(F)}}};function s(b,h){var o=u(h),p=[h,b].join(","),S=n[p];return o?S(o[0],o[1]):S()}var f={"uint32,1,0":function(b,h,o){return function p(S,A,E,m,M,w,i,C,y,_,I){var N=(A-S+1)/6|0,k=S+N,O=A-N,z=S+A>>1,F=z-N,B=z+N,G=k,Q=F,ee=z,ae=B,fe=O,K=S+1,W=A-1,Z=!0,X,$,ie,J,j,se,ne,ue,ge,we=0,xe=0,Fe=0,ze,Te,ye,Ae,Ne,Ue,Re,Ve,rt,Qe,Je,qe,dt,pt,mt,Ct,Rt=C,Zt=h(Rt),Xe=h(Rt);Te=M*G,ye=M*Q,Ct=m;e:for(ze=0;ze<C;++ze){if(ne=Te+Ct,ue=ye+Ct,Fe=E[ne]-E[ue],Fe>0){$=G,G=Q,Q=$;break e}if(Fe<0)break e;Ct+=_}Te=M*ae,ye=M*fe,Ct=m;e:for(ze=0;ze<C;++ze){if(ne=Te+Ct,ue=ye+Ct,Fe=E[ne]-E[ue],Fe>0){$=ae,ae=fe,fe=$;break e}if(Fe<0)break e;Ct+=_}Te=M*G,ye=M*ee,Ct=m;e:for(ze=0;ze<C;++ze){if(ne=Te+Ct,ue=ye+Ct,Fe=E[ne]-E[ue],Fe>0){$=G,G=ee,ee=$;break e}if(Fe<0)break e;Ct+=_}Te=M*Q,ye=M*ee,Ct=m;e:for(ze=0;ze<C;++ze){if(ne=Te+Ct,ue=ye+Ct,Fe=E[ne]-E[ue],Fe>0){$=Q,Q=ee,ee=$;break e}if(Fe<0)break e;Ct+=_}Te=M*G,ye=M*ae,Ct=m;e:for(ze=0;ze<C;++ze){if(ne=Te+Ct,ue=ye+Ct,Fe=E[ne]-E[ue],Fe>0){$=G,G=ae,ae=$;break e}if(Fe<0)break e;Ct+=_}Te=M*ee,ye=M*ae,Ct=m;e:for(ze=0;ze<C;++ze){if(ne=Te+Ct,ue=ye+Ct,Fe=E[ne]-E[ue],Fe>0){$=ee,ee=ae,ae=$;break e}if(Fe<0)break e;Ct+=_}Te=M*Q,ye=M*fe,Ct=m;e:for(ze=0;ze<C;++ze){if(ne=Te+Ct,ue=ye+Ct,Fe=E[ne]-E[ue],Fe>0){$=Q,Q=fe,fe=$;break e}if(Fe<0)break e;Ct+=_}Te=M*Q,ye=M*ee,Ct=m;e:for(ze=0;ze<C;++ze){if(ne=Te+Ct,ue=ye+Ct,Fe=E[ne]-E[ue],Fe>0){$=Q,Q=ee,ee=$;break e}if(Fe<0)break e;Ct+=_}Te=M*ae,ye=M*fe,Ct=m;e:for(ze=0;ze<C;++ze){if(ne=Te+Ct,ue=ye+Ct,Fe=E[ne]-E[ue],Fe>0){$=ae,ae=fe,fe=$;break e}if(Fe<0)break e;Ct+=_}for(Te=M*G,ye=M*Q,Ae=M*ee,Ne=M*ae,Ue=M*fe,Re=M*k,Ve=M*z,rt=M*O,mt=0,Ct=m,ze=0;ze<C;++ze)ne=Te+Ct,ue=ye+Ct,ge=Ae+Ct,Qe=Ne+Ct,Je=Ue+Ct,qe=Re+Ct,dt=Ve+Ct,pt=rt+Ct,Zt[mt]=E[ue],Xe[mt]=E[Qe],Z=Z&&Zt[mt]===Xe[mt],ie=E[ne],J=E[ge],j=E[Je],E[qe]=ie,E[dt]=J,E[pt]=j,++mt,Ct+=y;for(Te=M*F,ye=M*S,Ct=m,ze=0;ze<C;++ze)ne=Te+Ct,ue=ye+Ct,E[ne]=E[ue],Ct+=y;for(Te=M*B,ye=M*A,Ct=m,ze=0;ze<C;++ze)ne=Te+Ct,ue=ye+Ct,E[ne]=E[ue],Ct+=y;if(Z)for(se=K;se<=W;++se){ne=m+se*M,mt=0;e:for(ze=0;ze<C;++ze){if(Fe=E[ne]-Zt[mt],Fe!==0)break e;mt+=I,ne+=_}if(Fe!==0)if(Fe<0){if(se!==K)for(Te=M*se,ye=M*K,Ct=m,ze=0;ze<C;++ze)ne=Te+Ct,ue=ye+Ct,X=E[ne],E[ne]=E[ue],E[ue]=X,Ct+=y;++K}else for(;;){ne=m+W*M,mt=0;e:for(ze=0;ze<C;++ze){if(Fe=E[ne]-Zt[mt],Fe!==0)break e;mt+=I,ne+=_}if(Fe>0)W--;else if(Fe<0){for(Te=M*se,ye=M*K,Ae=M*W,Ct=m,ze=0;ze<C;++ze)ne=Te+Ct,ue=ye+Ct,ge=Ae+Ct,X=E[ne],E[ne]=E[ue],E[ue]=E[ge],E[ge]=X,Ct+=y;++K,--W;break}else{for(Te=M*se,ye=M*W,Ct=m,ze=0;ze<C;++ze)ne=Te+Ct,ue=ye+Ct,X=E[ne],E[ne]=E[ue],E[ue]=X,Ct+=y;--W;break}}}else for(se=K;se<=W;++se){ne=m+se*M,mt=0;e:for(ze=0;ze<C;++ze){if(we=E[ne]-Zt[mt],we!==0)break e;mt+=I,ne+=_}if(we<0){if(se!==K)for(Te=M*se,ye=M*K,Ct=m,ze=0;ze<C;++ze)ne=Te+Ct,ue=ye+Ct,X=E[ne],E[ne]=E[ue],E[ue]=X,Ct+=y;++K}else{ne=m+se*M,mt=0;e:for(ze=0;ze<C;++ze){if(xe=E[ne]-Xe[mt],xe!==0)break e;mt+=I,ne+=_}if(xe>0)for(;;){ne=m+W*M,mt=0;e:for(ze=0;ze<C;++ze){if(Fe=E[ne]-Xe[mt],Fe!==0)break e;mt+=I,ne+=_}if(Fe>0){if(--W<se)break;continue}else{ne=m+W*M,mt=0;e:for(ze=0;ze<C;++ze){if(Fe=E[ne]-Zt[mt],Fe!==0)break e;mt+=I,ne+=_}if(Fe<0){for(Te=M*se,ye=M*K,Ae=M*W,Ct=m,ze=0;ze<C;++ze)ne=Te+Ct,ue=ye+Ct,ge=Ae+Ct,X=E[ne],E[ne]=E[ue],E[ue]=E[ge],E[ge]=X,Ct+=y;++K,--W}else{for(Te=M*se,ye=M*W,Ct=m,ze=0;ze<C;++ze)ne=Te+Ct,ue=ye+Ct,X=E[ne],E[ne]=E[ue],E[ue]=X,Ct+=y;--W}break}}}}for(Te=M*S,ye=M*(K-1),mt=0,Ct=m,ze=0;ze<C;++ze)ne=Te+Ct,ue=ye+Ct,E[ne]=E[ue],E[ue]=Zt[mt],++mt,Ct+=y;for(Te=M*A,ye=M*(W+1),mt=0,Ct=m,ze=0;ze<C;++ze)ne=Te+Ct,ue=ye+Ct,E[ne]=E[ue],E[ue]=Xe[mt],++mt,Ct+=y;if(K-2-S<=32?b(S,K-2,E,m,M,w,i,C,y,_,I):p(S,K-2,E,m,M,w,i,C,y,_,I),A-(W+2)<=32?b(W+2,A,E,m,M,w,i,C,y,_,I):p(W+2,A,E,m,M,w,i,C,y,_,I),Z){o(Zt),o(Xe);return}if(K<k&&W>O){e:for(;;){for(ne=m+K*M,mt=0,Ct=m,ze=0;ze<C;++ze){if(E[ne]!==Zt[mt])break e;++mt,ne+=y}++K}e:for(;;){for(ne=m+W*M,mt=0,Ct=m,ze=0;ze<C;++ze){if(E[ne]!==Xe[mt])break e;++mt,ne+=y}--W}for(se=K;se<=W;++se){ne=m+se*M,mt=0;e:for(ze=0;ze<C;++ze){if(we=E[ne]-Zt[mt],we!==0)break e;mt+=I,ne+=_}if(we===0){if(se!==K)for(Te=M*se,ye=M*K,Ct=m,ze=0;ze<C;++ze)ne=Te+Ct,ue=ye+Ct,X=E[ne],E[ne]=E[ue],E[ue]=X,Ct+=y;++K}else{ne=m+se*M,mt=0;e:for(ze=0;ze<C;++ze){if(xe=E[ne]-Xe[mt],xe!==0)break e;mt+=I,ne+=_}if(xe===0)for(;;){ne=m+W*M,mt=0;e:for(ze=0;ze<C;++ze){if(Fe=E[ne]-Xe[mt],Fe!==0)break e;mt+=I,ne+=_}if(Fe===0){if(--W<se)break;continue}else{ne=m+W*M,mt=0;e:for(ze=0;ze<C;++ze){if(Fe=E[ne]-Zt[mt],Fe!==0)break e;mt+=I,ne+=_}if(Fe<0){for(Te=M*se,ye=M*K,Ae=M*W,Ct=m,ze=0;ze<C;++ze)ne=Te+Ct,ue=ye+Ct,ge=Ae+Ct,X=E[ne],E[ne]=E[ue],E[ue]=E[ge],E[ge]=X,Ct+=y;++K,--W}else{for(Te=M*se,ye=M*W,Ct=m,ze=0;ze<C;++ze)ne=Te+Ct,ue=ye+Ct,X=E[ne],E[ne]=E[ue],E[ue]=X,Ct+=y;--W}break}}}}}o(Zt),o(Xe),W-K<=32?b(K,W,E,m,M,w,i,C,y,_,I):p(K,W,E,m,M,w,i,C,y,_,I)}}};function l(b,h,o){var p=u(h),S=[h,b].join(","),A=f[S];return b.length>1&&p?A(o,p[0],p[1]):A(o)}var x={"uint32,1,0":function(b,h){return function(o){var p=o.data,S=o.offset|0,A=o.shape,E=o.stride,m=E[0]|0,M=A[0]|0,w=E[1]|0,i=A[1]|0,C=w,y=w,_=1;M<=32?b(0,M-1,p,S,m,w,M,i,C,y,_):h(0,M-1,p,S,m,w,M,i,C,y,_)}}};function c(b,h){var o=[h,b].join(","),p=x[o],S=s(b,h),A=l(b,h,S);return p(S,A)}v.exports=c},8729:function(v,d,t){var r=t(8139),u={};function n(s){var f=s.order,l=s.dtype,x=[f,l],c=x.join(":"),b=u[c];return b||(u[c]=b=r(f,l)),b(s),s}v.exports=n},5050:function(v,d,t){var r=t(4780),u=typeof Float64Array<"u";function n(h,o){return h[0]-o[0]}function s(){var h=this.stride,o=new Array(h.length),p;for(p=0;p<o.length;++p)o[p]=[Math.abs(h[p]),p];o.sort(n);var S=new Array(o.length);for(p=0;p<S.length;++p)S[p]=o[p][1];return S}var f={T:function(h){function o(S){this.data=S}var p=o.prototype;return p.dtype=h,p.index=function(){return-1},p.size=0,p.dimension=-1,p.shape=p.stride=p.order=[],p.lo=p.hi=p.transpose=p.step=function(){return new o(this.data)},p.get=p.set=function(){},p.pick=function(){return null},function(A){return new o(A)}},0:function(h,o){function p(A,E){this.data=A,this.offset=E}var S=p.prototype;return S.dtype=h,S.index=function(){return this.offset},S.dimension=0,S.size=1,S.shape=S.stride=S.order=[],S.lo=S.hi=S.transpose=S.step=function(){return new p(this.data,this.offset)},S.pick=function(){return o(this.data)},S.valueOf=S.get=function(){return h==="generic"?this.data.get(this.offset):this.data[this.offset]},S.set=function(E){return h==="generic"?this.data.set(this.offset,E):this.data[this.offset]=E},function(E,m,M,w){return new p(E,w)}},1:function(h,o,p){function S(E,m,M,w){this.data=E,this.shape=[m],this.stride=[M],this.offset=w|0}var A=S.prototype;return A.dtype=h,A.dimension=1,Object.defineProperty(A,"size",{get:function(){return this.shape[0]}}),A.order=[0],A.set=function(m,M){return h==="generic"?this.data.set(this.offset+this.stride[0]*m,M):this.data[this.offset+this.stride[0]*m]=M},A.get=function(m){return h==="generic"?this.data.get(this.offset+this.stride[0]*m):this.data[this.offset+this.stride[0]*m]},A.index=function(m){return this.offset+this.stride[0]*m},A.hi=function(m){return new S(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,this.stride[0],this.offset)},A.lo=function(m){var M=this.offset,w=0,i=this.shape[0],C=this.stride[0];return typeof m=="number"&&m>=0&&(w=m|0,M+=C*w,i-=w),new S(this.data,i,C,M)},A.step=function(m){var M=this.shape[0],w=this.stride[0],i=this.offset,C=0,y=Math.ceil;return typeof m=="number"&&(C=m|0,C<0?(i+=w*(M-1),M=y(-M/C)):M=y(M/C),w*=C),new S(this.data,M,w,i)},A.transpose=function(m){m=m===void 0?0:m|0;var M=this.shape,w=this.stride;return new S(this.data,M[m],w[m],this.offset)},A.pick=function(m){var M=[],w=[],i=this.offset;typeof m=="number"&&m>=0?i=i+this.stride[0]*m|0:(M.push(this.shape[0]),w.push(this.stride[0]));var C=o[M.length+1];return C(this.data,M,w,i)},function(m,M,w,i){return new S(m,M[0],w[0],i)}},2:function(h,o,p){function S(E,m,M,w,i,C){this.data=E,this.shape=[m,M],this.stride=[w,i],this.offset=C|0}var A=S.prototype;return A.dtype=h,A.dimension=2,Object.defineProperty(A,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(A,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),A.set=function(m,M,w){return h==="generic"?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*M,w):this.data[this.offset+this.stride[0]*m+this.stride[1]*M]=w},A.get=function(m,M){return h==="generic"?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*M):this.data[this.offset+this.stride[0]*m+this.stride[1]*M]},A.index=function(m,M){return this.offset+this.stride[0]*m+this.stride[1]*M},A.hi=function(m,M){return new S(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,typeof M!="number"||M<0?this.shape[1]:M|0,this.stride[0],this.stride[1],this.offset)},A.lo=function(m,M){var w=this.offset,i=0,C=this.shape[0],y=this.shape[1],_=this.stride[0],I=this.stride[1];return typeof m=="number"&&m>=0&&(i=m|0,w+=_*i,C-=i),typeof M=="number"&&M>=0&&(i=M|0,w+=I*i,y-=i),new S(this.data,C,y,_,I,w)},A.step=function(m,M){var w=this.shape[0],i=this.shape[1],C=this.stride[0],y=this.stride[1],_=this.offset,I=0,N=Math.ceil;return typeof m=="number"&&(I=m|0,I<0?(_+=C*(w-1),w=N(-w/I)):w=N(w/I),C*=I),typeof M=="number"&&(I=M|0,I<0?(_+=y*(i-1),i=N(-i/I)):i=N(i/I),y*=I),new S(this.data,w,i,C,y,_)},A.transpose=function(m,M){m=m===void 0?0:m|0,M=M===void 0?1:M|0;var w=this.shape,i=this.stride;return new S(this.data,w[m],w[M],i[m],i[M],this.offset)},A.pick=function(m,M){var w=[],i=[],C=this.offset;typeof m=="number"&&m>=0?C=C+this.stride[0]*m|0:(w.push(this.shape[0]),i.push(this.stride[0])),typeof M=="number"&&M>=0?C=C+this.stride[1]*M|0:(w.push(this.shape[1]),i.push(this.stride[1]));var y=o[w.length+1];return y(this.data,w,i,C)},function(m,M,w,i){return new S(m,M[0],M[1],w[0],w[1],i)}},3:function(h,o,p){function S(E,m,M,w,i,C,y,_){this.data=E,this.shape=[m,M,w],this.stride=[i,C,y],this.offset=_|0}var A=S.prototype;return A.dtype=h,A.dimension=3,Object.defineProperty(A,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(A,"order",{get:function(){var m=Math.abs(this.stride[0]),M=Math.abs(this.stride[1]),w=Math.abs(this.stride[2]);return m>M?M>w?[2,1,0]:m>w?[1,2,0]:[1,0,2]:m>w?[2,0,1]:w>M?[0,1,2]:[0,2,1]}}),A.set=function(m,M,w,i){return h==="generic"?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*M+this.stride[2]*w,i):this.data[this.offset+this.stride[0]*m+this.stride[1]*M+this.stride[2]*w]=i},A.get=function(m,M,w){return h==="generic"?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*M+this.stride[2]*w):this.data[this.offset+this.stride[0]*m+this.stride[1]*M+this.stride[2]*w]},A.index=function(m,M,w){return this.offset+this.stride[0]*m+this.stride[1]*M+this.stride[2]*w},A.hi=function(m,M,w){return new S(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,typeof M!="number"||M<0?this.shape[1]:M|0,typeof w!="number"||w<0?this.shape[2]:w|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},A.lo=function(m,M,w){var i=this.offset,C=0,y=this.shape[0],_=this.shape[1],I=this.shape[2],N=this.stride[0],k=this.stride[1],O=this.stride[2];return typeof m=="number"&&m>=0&&(C=m|0,i+=N*C,y-=C),typeof M=="number"&&M>=0&&(C=M|0,i+=k*C,_-=C),typeof w=="number"&&w>=0&&(C=w|0,i+=O*C,I-=C),new S(this.data,y,_,I,N,k,O,i)},A.step=function(m,M,w){var i=this.shape[0],C=this.shape[1],y=this.shape[2],_=this.stride[0],I=this.stride[1],N=this.stride[2],k=this.offset,O=0,z=Math.ceil;return typeof m=="number"&&(O=m|0,O<0?(k+=_*(i-1),i=z(-i/O)):i=z(i/O),_*=O),typeof M=="number"&&(O=M|0,O<0?(k+=I*(C-1),C=z(-C/O)):C=z(C/O),I*=O),typeof w=="number"&&(O=w|0,O<0?(k+=N*(y-1),y=z(-y/O)):y=z(y/O),N*=O),new S(this.data,i,C,y,_,I,N,k)},A.transpose=function(m,M,w){m=m===void 0?0:m|0,M=M===void 0?1:M|0,w=w===void 0?2:w|0;var i=this.shape,C=this.stride;return new S(this.data,i[m],i[M],i[w],C[m],C[M],C[w],this.offset)},A.pick=function(m,M,w){var i=[],C=[],y=this.offset;typeof m=="number"&&m>=0?y=y+this.stride[0]*m|0:(i.push(this.shape[0]),C.push(this.stride[0])),typeof M=="number"&&M>=0?y=y+this.stride[1]*M|0:(i.push(this.shape[1]),C.push(this.stride[1])),typeof w=="number"&&w>=0?y=y+this.stride[2]*w|0:(i.push(this.shape[2]),C.push(this.stride[2]));var _=o[i.length+1];return _(this.data,i,C,y)},function(m,M,w,i){return new S(m,M[0],M[1],M[2],w[0],w[1],w[2],i)}},4:function(h,o,p){function S(E,m,M,w,i,C,y,_,I,N){this.data=E,this.shape=[m,M,w,i],this.stride=[C,y,_,I],this.offset=N|0}var A=S.prototype;return A.dtype=h,A.dimension=4,Object.defineProperty(A,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(A,"order",{get:p}),A.set=function(m,M,w,i,C){return h==="generic"?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*M+this.stride[2]*w+this.stride[3]*i,C):this.data[this.offset+this.stride[0]*m+this.stride[1]*M+this.stride[2]*w+this.stride[3]*i]=C},A.get=function(m,M,w,i){return h==="generic"?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*M+this.stride[2]*w+this.stride[3]*i):this.data[this.offset+this.stride[0]*m+this.stride[1]*M+this.stride[2]*w+this.stride[3]*i]},A.index=function(m,M,w,i){return this.offset+this.stride[0]*m+this.stride[1]*M+this.stride[2]*w+this.stride[3]*i},A.hi=function(m,M,w,i){return new S(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,typeof M!="number"||M<0?this.shape[1]:M|0,typeof w!="number"||w<0?this.shape[2]:w|0,typeof i!="number"||i<0?this.shape[3]:i|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},A.lo=function(m,M,w,i){var C=this.offset,y=0,_=this.shape[0],I=this.shape[1],N=this.shape[2],k=this.shape[3],O=this.stride[0],z=this.stride[1],F=this.stride[2],B=this.stride[3];return typeof m=="number"&&m>=0&&(y=m|0,C+=O*y,_-=y),typeof M=="number"&&M>=0&&(y=M|0,C+=z*y,I-=y),typeof w=="number"&&w>=0&&(y=w|0,C+=F*y,N-=y),typeof i=="number"&&i>=0&&(y=i|0,C+=B*y,k-=y),new S(this.data,_,I,N,k,O,z,F,B,C)},A.step=function(m,M,w,i){var C=this.shape[0],y=this.shape[1],_=this.shape[2],I=this.shape[3],N=this.stride[0],k=this.stride[1],O=this.stride[2],z=this.stride[3],F=this.offset,B=0,G=Math.ceil;return typeof m=="number"&&(B=m|0,B<0?(F+=N*(C-1),C=G(-C/B)):C=G(C/B),N*=B),typeof M=="number"&&(B=M|0,B<0?(F+=k*(y-1),y=G(-y/B)):y=G(y/B),k*=B),typeof w=="number"&&(B=w|0,B<0?(F+=O*(_-1),_=G(-_/B)):_=G(_/B),O*=B),typeof i=="number"&&(B=i|0,B<0?(F+=z*(I-1),I=G(-I/B)):I=G(I/B),z*=B),new S(this.data,C,y,_,I,N,k,O,z,F)},A.transpose=function(m,M,w,i){m=m===void 0?0:m|0,M=M===void 0?1:M|0,w=w===void 0?2:w|0,i=i===void 0?3:i|0;var C=this.shape,y=this.stride;return new S(this.data,C[m],C[M],C[w],C[i],y[m],y[M],y[w],y[i],this.offset)},A.pick=function(m,M,w,i){var C=[],y=[],_=this.offset;typeof m=="number"&&m>=0?_=_+this.stride[0]*m|0:(C.push(this.shape[0]),y.push(this.stride[0])),typeof M=="number"&&M>=0?_=_+this.stride[1]*M|0:(C.push(this.shape[1]),y.push(this.stride[1])),typeof w=="number"&&w>=0?_=_+this.stride[2]*w|0:(C.push(this.shape[2]),y.push(this.stride[2])),typeof i=="number"&&i>=0?_=_+this.stride[3]*i|0:(C.push(this.shape[3]),y.push(this.stride[3]));var I=o[C.length+1];return I(this.data,C,y,_)},function(m,M,w,i){return new S(m,M[0],M[1],M[2],M[3],w[0],w[1],w[2],w[3],i)}},5:function(o,p,S){function A(m,M,w,i,C,y,_,I,N,k,O,z){this.data=m,this.shape=[M,w,i,C,y],this.stride=[_,I,N,k,O],this.offset=z|0}var E=A.prototype;return E.dtype=o,E.dimension=5,Object.defineProperty(E,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(E,"order",{get:S}),E.set=function(M,w,i,C,y,_){return o==="generic"?this.data.set(this.offset+this.stride[0]*M+this.stride[1]*w+this.stride[2]*i+this.stride[3]*C+this.stride[4]*y,_):this.data[this.offset+this.stride[0]*M+this.stride[1]*w+this.stride[2]*i+this.stride[3]*C+this.stride[4]*y]=_},E.get=function(M,w,i,C,y){return o==="generic"?this.data.get(this.offset+this.stride[0]*M+this.stride[1]*w+this.stride[2]*i+this.stride[3]*C+this.stride[4]*y):this.data[this.offset+this.stride[0]*M+this.stride[1]*w+this.stride[2]*i+this.stride[3]*C+this.stride[4]*y]},E.index=function(M,w,i,C,y){return this.offset+this.stride[0]*M+this.stride[1]*w+this.stride[2]*i+this.stride[3]*C+this.stride[4]*y},E.hi=function(M,w,i,C,y){return new A(this.data,typeof M!="number"||M<0?this.shape[0]:M|0,typeof w!="number"||w<0?this.shape[1]:w|0,typeof i!="number"||i<0?this.shape[2]:i|0,typeof C!="number"||C<0?this.shape[3]:C|0,typeof y!="number"||y<0?this.shape[4]:y|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},E.lo=function(M,w,i,C,y){var _=this.offset,I=0,N=this.shape[0],k=this.shape[1],O=this.shape[2],z=this.shape[3],F=this.shape[4],B=this.stride[0],G=this.stride[1],Q=this.stride[2],ee=this.stride[3],ae=this.stride[4];return typeof M=="number"&&M>=0&&(I=M|0,_+=B*I,N-=I),typeof w=="number"&&w>=0&&(I=w|0,_+=G*I,k-=I),typeof i=="number"&&i>=0&&(I=i|0,_+=Q*I,O-=I),typeof C=="number"&&C>=0&&(I=C|0,_+=ee*I,z-=I),typeof y=="number"&&y>=0&&(I=y|0,_+=ae*I,F-=I),new A(this.data,N,k,O,z,F,B,G,Q,ee,ae,_)},E.step=function(M,w,i,C,y){var _=this.shape[0],I=this.shape[1],N=this.shape[2],k=this.shape[3],O=this.shape[4],z=this.stride[0],F=this.stride[1],B=this.stride[2],G=this.stride[3],Q=this.stride[4],ee=this.offset,ae=0,fe=Math.ceil;return typeof M=="number"&&(ae=M|0,ae<0?(ee+=z*(_-1),_=fe(-_/ae)):_=fe(_/ae),z*=ae),typeof w=="number"&&(ae=w|0,ae<0?(ee+=F*(I-1),I=fe(-I/ae)):I=fe(I/ae),F*=ae),typeof i=="number"&&(ae=i|0,ae<0?(ee+=B*(N-1),N=fe(-N/ae)):N=fe(N/ae),B*=ae),typeof C=="number"&&(ae=C|0,ae<0?(ee+=G*(k-1),k=fe(-k/ae)):k=fe(k/ae),G*=ae),typeof y=="number"&&(ae=y|0,ae<0?(ee+=Q*(O-1),O=fe(-O/ae)):O=fe(O/ae),Q*=ae),new A(this.data,_,I,N,k,O,z,F,B,G,Q,ee)},E.transpose=function(M,w,i,C,y){M=M===void 0?0:M|0,w=w===void 0?1:w|0,i=i===void 0?2:i|0,C=C===void 0?3:C|0,y=y===void 0?4:y|0;var _=this.shape,I=this.stride;return new A(this.data,_[M],_[w],_[i],_[C],_[y],I[M],I[w],I[i],I[C],I[y],this.offset)},E.pick=function(M,w,i,C,y){var _=[],I=[],N=this.offset;typeof M=="number"&&M>=0?N=N+this.stride[0]*M|0:(_.push(this.shape[0]),I.push(this.stride[0])),typeof w=="number"&&w>=0?N=N+this.stride[1]*w|0:(_.push(this.shape[1]),I.push(this.stride[1])),typeof i=="number"&&i>=0?N=N+this.stride[2]*i|0:(_.push(this.shape[2]),I.push(this.stride[2])),typeof C=="number"&&C>=0?N=N+this.stride[3]*C|0:(_.push(this.shape[3]),I.push(this.stride[3])),typeof y=="number"&&y>=0?N=N+this.stride[4]*y|0:(_.push(this.shape[4]),I.push(this.stride[4]));var k=p[_.length+1];return k(this.data,_,I,N)},function(M,w,i,C){return new A(M,w[0],w[1],w[2],w[3],w[4],i[0],i[1],i[2],i[3],i[4],C)}}};function l(h,o){var p=o===-1?"T":String(o),S=f[p];return o===-1?S(h):o===0?S(h,c[h][0]):S(h,c[h],s)}function x(h){if(r(h))return"buffer";if(u)switch(Object.prototype.toString.call(h)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(h)?"array":"generic"}var c={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function b(h,o,p,S){if(h===void 0){var i=c.array[0];return i([])}else typeof h=="number"&&(h=[h]);o===void 0&&(o=[h.length]);var A=o.length;if(p===void 0){p=new Array(A);for(var E=A-1,m=1;E>=0;--E)p[E]=m,m*=o[E]}if(S===void 0){S=0;for(var E=0;E<A;++E)p[E]<0&&(S-=(o[E]-1)*p[E])}for(var M=x(h),w=c[M];w.length<=A+1;)w.push(l(M,w.length-1));var i=w[A+1];return i(h,o,p,S)}v.exports=b},8551:function(v,d,t){var r=t(8362),u=Math.pow(2,-1074),n=-1>>>0;v.exports=s;function s(f,l){if(isNaN(f)||isNaN(l))return NaN;if(f===l)return f;if(f===0)return l<0?-u:u;var x=r.hi(f),c=r.lo(f);return l>f==f>0?c===n?(x+=1,c=0):c+=1:c===0?(c=n,x-=1):c-=1,r.pack(c,x)}},115:function(v,d){var t=1e-6,r=1e-6;d.vertexNormals=function(u,n,s){for(var f=n.length,l=new Array(f),x=s===void 0?t:s,c=0;c<f;++c)l[c]=[0,0,0];for(var c=0;c<u.length;++c)for(var b=u[c],h=0,o=b[b.length-1],p=b[0],S=0;S<b.length;++S){h=o,o=p,p=b[(S+1)%b.length];for(var A=n[h],E=n[o],m=n[p],M=new Array(3),w=0,i=new Array(3),C=0,y=0;y<3;++y)M[y]=A[y]-E[y],w+=M[y]*M[y],i[y]=m[y]-E[y],C+=i[y]*i[y];if(w*C>x)for(var _=l[o],I=1/Math.sqrt(w*C),y=0;y<3;++y){var N=(y+1)%3,k=(y+2)%3;_[y]+=I*(i[N]*M[k]-i[k]*M[N])}}for(var c=0;c<f;++c){for(var _=l[c],O=0,y=0;y<3;++y)O+=_[y]*_[y];if(O>x)for(var I=1/Math.sqrt(O),y=0;y<3;++y)_[y]*=I;else for(var y=0;y<3;++y)_[y]=0}return l},d.faceNormals=function(u,n,s){for(var f=u.length,l=new Array(f),x=s===void 0?r:s,c=0;c<f;++c){for(var b=u[c],h=new Array(3),o=0;o<3;++o)h[o]=n[b[o]];for(var p=new Array(3),S=new Array(3),o=0;o<3;++o)p[o]=h[1][o]-h[0][o],S[o]=h[2][o]-h[0][o];for(var A=new Array(3),E=0,o=0;o<3;++o){var m=(o+1)%3,M=(o+2)%3;A[o]=p[m]*S[M]-p[M]*S[m],E+=A[o]*A[o]}E>x?E=1/Math.sqrt(E):E=0;for(var o=0;o<3;++o)A[o]*=E;l[c]=A}return l}},567:function(v){v.exports=d;function d(t,r,u,n,s,f,l,x,c,b){var h=r+f+b;if(o>0){var o=Math.sqrt(h+1);t[0]=.5*(l-c)/o,t[1]=.5*(x-n)/o,t[2]=.5*(u-f)/o,t[3]=.5*o}else{var p=Math.max(r,f,b),o=Math.sqrt(2*p-h+1);r>=p?(t[0]=.5*o,t[1]=.5*(s+u)/o,t[2]=.5*(x+n)/o,t[3]=.5*(l-c)/o):f>=p?(t[0]=.5*(u+s)/o,t[1]=.5*o,t[2]=.5*(c+l)/o,t[3]=.5*(x-n)/o):(t[0]=.5*(n+x)/o,t[1]=.5*(l+c)/o,t[2]=.5*o,t[3]=.5*(u-s)/o)}return t}},7774:function(v,d,t){v.exports=o;var r=t(8444),u=t(3012),n=t(5950),s=t(7437),f=t(567);function l(p,S,A){return Math.sqrt(Math.pow(p,2)+Math.pow(S,2)+Math.pow(A,2))}function x(p,S,A,E){return Math.sqrt(Math.pow(p,2)+Math.pow(S,2)+Math.pow(A,2)+Math.pow(E,2))}function c(p,S){var A=S[0],E=S[1],m=S[2],M=S[3],w=x(A,E,m,M);w>1e-6?(p[0]=A/w,p[1]=E/w,p[2]=m/w,p[3]=M/w):(p[0]=p[1]=p[2]=0,p[3]=1)}function b(p,S,A){this.radius=r([A]),this.center=r(S),this.rotation=r(p),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var h=b.prototype;h.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},h.recalcMatrix=function(p){this.radius.curve(p),this.center.curve(p),this.rotation.curve(p);var S=this.computedRotation;c(S,S);var A=this.computedMatrix;n(A,S);var E=this.computedCenter,m=this.computedEye,M=this.computedUp,w=Math.exp(this.computedRadius[0]);m[0]=E[0]+w*A[2],m[1]=E[1]+w*A[6],m[2]=E[2]+w*A[10],M[0]=A[1],M[1]=A[5],M[2]=A[9];for(var i=0;i<3;++i){for(var C=0,y=0;y<3;++y)C+=A[i+4*y]*m[y];A[12+i]=-C}},h.getMatrix=function(p,S){this.recalcMatrix(p);var A=this.computedMatrix;if(S){for(var E=0;E<16;++E)S[E]=A[E];return S}return A},h.idle=function(p){this.center.idle(p),this.radius.idle(p),this.rotation.idle(p)},h.flush=function(p){this.center.flush(p),this.radius.flush(p),this.rotation.flush(p)},h.pan=function(p,S,A,E){S=S||0,A=A||0,E=E||0,this.recalcMatrix(p);var m=this.computedMatrix,M=m[1],w=m[5],i=m[9],C=l(M,w,i);M/=C,w/=C,i/=C;var y=m[0],_=m[4],I=m[8],N=y*M+_*w+I*i;y-=M*N,_-=w*N,I-=i*N;var k=l(y,_,I);y/=k,_/=k,I/=k,m[2],m[6],m[10];var O=y*S+M*A,z=_*S+w*A,F=I*S+i*A;this.center.move(p,O,z,F);var B=Math.exp(this.computedRadius[0]);B=Math.max(1e-4,B+E),this.radius.set(p,Math.log(B))},h.rotate=function(p,S,A,E){this.recalcMatrix(p),S=S||0,A=A||0;var m=this.computedMatrix,M=m[0],w=m[4],i=m[8],C=m[1],y=m[5],_=m[9],I=m[2],N=m[6],k=m[10],O=S*M+A*C,z=S*w+A*y,F=S*i+A*_,B=-(N*F-k*z),G=-(k*O-I*F),Q=-(I*z-N*O),ee=Math.sqrt(Math.max(0,1-Math.pow(B,2)-Math.pow(G,2)-Math.pow(Q,2))),ae=x(B,G,Q,ee);ae>1e-6?(B/=ae,G/=ae,Q/=ae,ee/=ae):(B=G=Q=0,ee=1);var fe=this.computedRotation,K=fe[0],W=fe[1],Z=fe[2],X=fe[3],$=K*ee+X*B+W*Q-Z*G,ie=W*ee+X*G+Z*B-K*Q,J=Z*ee+X*Q+K*G-W*B,j=X*ee-K*B-W*G-Z*Q;if(E){B=I,G=N,Q=k;var se=Math.sin(E)/l(B,G,Q);B*=se,G*=se,Q*=se,ee=Math.cos(S),$=$*ee+j*B+ie*Q-J*G,ie=ie*ee+j*G+J*B-$*Q,J=J*ee+j*Q+$*G-ie*B,j=j*ee-$*B-ie*G-J*Q}var ne=x($,ie,J,j);ne>1e-6?($/=ne,ie/=ne,J/=ne,j/=ne):($=ie=J=0,j=1),this.rotation.set(p,$,ie,J,j)},h.lookAt=function(p,S,A,E){this.recalcMatrix(p),A=A||this.computedCenter,S=S||this.computedEye,E=E||this.computedUp;var m=this.computedMatrix;u(m,S,A,E);var M=this.computedRotation;f(M,m[0],m[1],m[2],m[4],m[5],m[6],m[8],m[9],m[10]),c(M,M),this.rotation.set(p,M[0],M[1],M[2],M[3]);for(var w=0,i=0;i<3;++i)w+=Math.pow(A[i]-S[i],2);this.radius.set(p,.5*Math.log(Math.max(w,1e-6))),this.center.set(p,A[0],A[1],A[2])},h.translate=function(p,S,A,E){this.center.move(p,S||0,A||0,E||0)},h.setMatrix=function(p,S){var A=this.computedRotation;f(A,S[0],S[1],S[2],S[4],S[5],S[6],S[8],S[9],S[10]),c(A,A),this.rotation.set(p,A[0],A[1],A[2],A[3]);var E=this.computedMatrix;s(E,S);var m=E[15];if(Math.abs(m)>1e-6){var M=E[12]/m,w=E[13]/m,i=E[14]/m;this.recalcMatrix(p);var C=Math.exp(this.computedRadius[0]);this.center.set(p,M-E[2]*C,w-E[6]*C,i-E[10]*C),this.radius.idle(p)}else this.center.idle(p),this.radius.idle(p)},h.setDistance=function(p,S){S>0&&this.radius.set(p,Math.log(S))},h.setDistanceLimits=function(p,S){p>0?p=Math.log(p):p=-1/0,S>0?S=Math.log(S):S=1/0,S=Math.max(S,p),this.radius.bounds[0][0]=p,this.radius.bounds[1][0]=S},h.getDistanceLimits=function(p){var S=this.radius.bounds;return p?(p[0]=Math.exp(S[0][0]),p[1]=Math.exp(S[1][0]),p):[Math.exp(S[0][0]),Math.exp(S[1][0])]},h.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},h.fromJSON=function(p){var S=this.lastT(),A=p.center;A&&this.center.set(S,A[0],A[1],A[2]);var E=p.rotation;E&&this.rotation.set(S,E[0],E[1],E[2],E[3]);var m=p.distance;m&&m>0&&this.radius.set(S,Math.log(m)),this.setDistanceLimits(p.zoomMin,p.zoomMax)};function o(p){p=p||{};var S=p.center||[0,0,0],A=p.rotation||[0,0,0,1],E=p.radius||1;S=[].slice.call(S,0,3),A=[].slice.call(A,0,4),c(A,A);var m=new b(A,S,Math.log(E));return m.setDistanceLimits(p.zoomMin,p.zoomMax),("eye"in p||"up"in p)&&m.lookAt(0,p.eye,p.center,p.up),m}},4930:function(v,d,t){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var r=t(6184);v.exports=function(n,s,f){return f=typeof f<"u"?f+"":" ",r(f,s)+n}},4405:function(v){v.exports=function(t,r){r||(r=[0,""]),t=String(t);var u=parseFloat(t,10);return r[0]=u,r[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",r}},4166:function(v,d,t){v.exports=u;var r=t(9398);function u(n,s){for(var f=s.length|0,l=n.length,x=[new Array(f),new Array(f)],c=0;c<f;++c)x[0][c]=[],x[1][c]=[];for(var c=0;c<l;++c){var b=n[c];x[0][b[0]].push(b),x[1][b[1]].push(b)}for(var h=[],c=0;c<f;++c)x[0][c].length+x[1][c].length===0&&h.push([c]);function o(w,i){var C=x[i][w[i]];C.splice(C.indexOf(w),1)}function p(w,i,C){for(var y,_,I,N=0;N<2;++N)if(x[N][i].length>0){y=x[N][i][0],I=N;break}_=y[I^1];for(var k=0;k<2;++k)for(var O=x[k][i],z=0;z<O.length;++z){var F=O[z],B=F[k^1],G=r(s[w],s[i],s[_],s[B]);G>0&&(y=F,_=B,I=k)}return C||y&&o(y,I),_}function S(w,i){var C=x[i][w][0],y=[w];o(C,i);for(var _=C[i^1];;){for(;_!==w;)y.push(_),_=p(y[y.length-2],_,!1);if(x[0][w].length+x[1][w].length===0)break;var I=y[y.length-1],N=w,k=y[1],O=p(I,N,!0);if(r(s[I],s[N],s[k],s[O])<0)break;y.push(w),_=p(I,N)}return y}function A(w,i){return i[1]===i[i.length-1]}for(var c=0;c<f;++c)for(var E=0;E<2;++E){for(var m=[];x[E][c].length>0;){x[0][c].length;var M=S(c,E);A(m,M)?m.push.apply(m,M):(m.length>0&&h.push(m),m=M)}m.length>0&&h.push(m)}return h}},3959:function(v,d,t){v.exports=u;var r=t(8348);function u(n,s){for(var f=r(n,s.length),l=new Array(s.length),x=new Array(s.length),c=[],b=0;b<s.length;++b){var h=f[b].length;x[b]=h,l[b]=!0,h<=1&&c.push(b)}for(;c.length>0;){var o=c.pop();l[o]=!1;for(var p=f[o],b=0;b<p.length;++b){var S=p[b];--x[S]===0&&c.push(S)}}for(var A=new Array(s.length),E=[],b=0;b<s.length;++b)if(l[b]){var o=E.length;A[b]=o,E.push(s[b])}else A[b]=-1;for(var m=[],b=0;b<n.length;++b){var M=n[b];l[M[0]]&&l[M[1]]&&m.push([A[M[0]],A[M[1]]])}return[m,E]}},8040:function(v,d,t){v.exports=h;var r=t(8348),u=t(4166),n=t(211),s=t(9660),f=t(9662),l=t(1215),x=t(3959);function c(o,p){for(var S=new Array(o),A=0;A<o;++A)S[A]=p;return S}function b(o){for(var p=new Array(o),S=0;S<o;++S)p[S]=[];return p}function h(o,p){var j=x(o,p);o=j[0],p=j[1];var S=p.length;o.length;for(var A=r(o,p.length),E=0;E<S;++E)if(A[E].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var m=u(o,p);function M(Fe){for(var ze=Fe.length,Te=[0],ye=0;ye<ze;++ye){var Ae=p[Fe[ye]],Ne=p[Fe[(ye+1)%ze]],Ue=s(-Ae[0],Ae[1]),Re=s(-Ae[0],Ne[1]),Ve=s(Ne[0],Ae[1]),rt=s(Ne[0],Ne[1]);Te=f(Te,f(f(Ue,Re),f(Ve,rt)))}return Te[Te.length-1]>0}m=m.filter(M);for(var w=m.length,i=new Array(w),C=new Array(w),E=0;E<w;++E){i[E]=E;var y=new Array(w),_=m[E].map(function(ze){return p[ze]}),I=n([_]),N=0;e:for(var k=0;k<w;++k)if(y[k]=0,E!==k){for(var O=m[k],z=O.length,F=0;F<z;++F){var B=I(p[O[F]]);if(B!==0){B<0&&(y[k]=1,N+=1);continue e}}y[k]=1,N+=1}C[E]=[N,E,y]}C.sort(function(Fe,ze){return ze[0]-Fe[0]});for(var E=0;E<w;++E)for(var y=C[E],G=y[1],Q=y[2],k=0;k<w;++k)Q[k]&&(i[k]=G);for(var ee=b(w),E=0;E<w;++E)ee[E].push(i[E]),ee[i[E]].push(E);for(var ae={},fe=c(S,!1),E=0;E<w;++E)for(var O=m[E],z=O.length,k=0;k<z;++k){var K=O[k],W=O[(k+1)%z],Z=Math.min(K,W)+":"+Math.max(K,W);if(Z in ae){var X=ae[Z];ee[X].push(E),ee[E].push(X),fe[K]=fe[W]=!0}else ae[Z]=E}function $(Fe){for(var ze=Fe.length,Te=0;Te<ze;++Te)if(!fe[Fe[Te]])return!1;return!0}for(var ie=[],J=c(w,-1),E=0;E<w;++E)i[E]===E&&!$(m[E])?(ie.push(E),J[E]=0):J[E]=-1;for(var j=[];ie.length>0;){var se=ie.pop(),ne=ee[se];l(ne,function(Fe,ze){return Fe-ze});var ue=ne.length,ge=J[se],we;if(ge===0){var O=m[se];we=[O]}for(var E=0;E<ue;++E){var xe=ne[E];if(!(J[xe]>=0)&&(J[xe]=ge^1,ie.push(xe),ge===0)){var O=m[xe];$(O)||(O.reverse(),we.push(O))}}ge===0&&j.push(we)}return j}},211:function(v,d,t){v.exports=p;var r=t(417)[3],u=t(4385),n=t(9014),s=t(5070);function f(){return!0}function l(S){return function(A,E){var m=S[A];return m?!!m.queryPoint(E,f):!1}}function x(S){for(var A={},E=0;E<S.length;++E){var m=S[E],M=m[0][0],w=m[0][1],i=m[1][1],C=[Math.min(w,i),Math.max(w,i)];M in A?A[M].push(C):A[M]=[C]}for(var y={},_=Object.keys(A),E=0;E<_.length;++E){var I=A[_[E]];y[_[E]]=n(I)}return l(y)}function c(S,A){return function(E){var m=s.le(A,E[0]);if(m<0)return 1;var M=S[m];if(!M)if(m>0&&A[m]===E[0])M=S[m-1];else return 1;for(var w=1;M;){var i=M.key,C=r(E,i[0],i[1]);if(i[0][0]<i[1][0])if(C<0)M=M.left;else if(C>0)w=-1,M=M.right;else return 0;else if(C>0)M=M.left;else if(C<0)w=1,M=M.right;else return 0}return w}}function b(S){return 1}function h(S){return function(E){return S(E[0],E[1])?0:1}}function o(S,A){return function(m){return S(m[0],m[1])?0:A(m)}}function p(S){for(var A=S.length,E=[],m=[],M=0;M<A;++M)for(var w=S[M],i=w.length,C=i-1,y=0;y<i;C=y++){var _=w[C],I=w[y];_[0]===I[0]?m.push([_,I]):E.push([_,I])}if(E.length===0)return m.length===0?b:h(x(m));var N=u(E),k=c(N.slabs,N.coordinates);return m.length===0?k:o(x(m),k)}},7309:function(v){var d=new Float64Array(4),t=new Float64Array(4),r=new Float64Array(4);function u(n,s,f,l,x){d.length<l.length&&(d=new Float64Array(l.length),t=new Float64Array(l.length),r=new Float64Array(l.length));for(var c=0;c<l.length;++c)d[c]=n[c]-l[c],t[c]=s[c]-n[c],r[c]=f[c]-n[c];for(var b=0,h=0,o=0,p=0,S=0,A=0,c=0;c<l.length;++c){var E=t[c],m=r[c],M=d[c];b+=E*E,h+=E*m,o+=m*m,p+=M*E,S+=M*m,A+=M*M}var w=Math.abs(b*o-h*h),i=h*S-o*p,C=h*p-b*S,y;if(i+C<=w)if(i<0)C<0&&p<0?(C=0,-p>=b?(i=1,y=b+2*p+A):(i=-p/b,y=p*i+A)):(i=0,S>=0?(C=0,y=A):-S>=o?(C=1,y=o+2*S+A):(C=-S/o,y=S*C+A));else if(C<0)C=0,p>=0?(i=0,y=A):-p>=b?(i=1,y=b+2*p+A):(i=-p/b,y=p*i+A);else{var _=1/w;i*=_,C*=_,y=i*(b*i+h*C+2*p)+C*(h*i+o*C+2*S)+A}else{var I,N,k,O;i<0?(I=h+p,N=o+S,N>I?(k=N-I,O=b-2*h+o,k>=O?(i=1,C=0,y=b+2*p+A):(i=k/O,C=1-i,y=i*(b*i+h*C+2*p)+C*(h*i+o*C+2*S)+A)):(i=0,N<=0?(C=1,y=o+2*S+A):S>=0?(C=0,y=A):(C=-S/o,y=S*C+A))):C<0?(I=h+S,N=b+p,N>I?(k=N-I,O=b-2*h+o,k>=O?(C=1,i=0,y=o+2*S+A):(C=k/O,i=1-C,y=i*(b*i+h*C+2*p)+C*(h*i+o*C+2*S)+A)):(C=0,N<=0?(i=1,y=b+2*p+A):p>=0?(i=0,y=A):(i=-p/b,y=p*i+A))):(k=o+S-h-p,k<=0?(i=0,C=1,y=o+2*S+A):(O=b-2*h+o,k>=O?(i=1,C=0,y=b+2*p+A):(i=k/O,C=1-i,y=i*(b*i+h*C+2*p)+C*(h*i+o*C+2*S)+A)))}for(var z=1-i-C,c=0;c<l.length;++c)x[c]=z*n[c]+i*s[c]+C*f[c];return y<0?0:y}v.exports=u},1116:function(v,d,t){v.exports=t(6093)},7584:function(v,d,t){var r=t(1539);v.exports=u;function u(n,s){for(var f=n.length,l=new Array(f),x=0;x<f;++x)l[x]=r(n[x],s[x]);return l}},2826:function(v,d,t){v.exports=u;var r=t(5125);function u(n){for(var s=new Array(n.length),f=0;f<n.length;++f)s[f]=r(n[f]);return s}},4469:function(v,d,t){var r=t(5125),u=t(3962);v.exports=n;function n(s,f){for(var l=r(f),x=s.length,c=new Array(x),b=0;b<x;++b)c[b]=u(s[b],l);return c}},6695:function(v,d,t){var r=t(4354);v.exports=u;function u(n,s){for(var f=n.length,l=new Array(f),x=0;x<f;++x)l[x]=r(n[x],s[x]);return l}},7037:function(v,d,t){var r=t(9209),u=t(1284),n=t(9887);v.exports=s;function s(f){f.sort(u);for(var l=f.length,x=0,c=0;c<l;++c){var b=f[c],h=n(b);if(h!==0){if(x>0){var o=f[x-1];if(r(b,o)===0&&n(o)!==h){x-=1;continue}}f[x++]=b}}return f.length=x,f}},6184:function(v){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var d="",t;v.exports=r;function r(u,n){if(typeof u!="string")throw new TypeError("expected a string");if(n===1)return u;if(n===2)return u+u;var s=u.length*n;if(t!==u||typeof t>"u")t=u,d="";else if(d.length>=s)return d.substr(0,s);for(;s>d.length&&n>1;)n&1&&(d+=u),n>>=1,u+=u;return d+=u,d=d.substr(0,s),d}},8161:function(v,d,t){v.exports=t.g.performance&&t.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(v){v.exports=d;function d(t){for(var r=t.length,u=t[t.length-1],n=r,s=r-2;s>=0;--s){var f=u,l=t[s];u=f+l;var x=u-f,c=l-x;c&&(t[--n]=u,u=c)}for(var b=0,s=n;s<r;++s){var f=t[s],l=u;u=f+l;var x=u-f,c=l-x;c&&(t[b++]=c)}return t[b++]=u,t.length=b,t}},8167:function(v,d,t){var r=t(9660),u=t(9662),n=t(8289),s=t(402),f=6;function l(A,E,m,M){return function(i){return M(A(m(i[0][0],i[1][1]),m(-i[0][1],i[1][0])))}}function x(A,E,m,M){return function(i){return M(A(E(A(m(i[1][1],i[2][2]),m(-i[1][2],i[2][1])),i[0][0]),A(E(A(m(i[1][0],i[2][2]),m(-i[1][2],i[2][0])),-i[0][1]),E(A(m(i[1][0],i[2][1]),m(-i[1][1],i[2][0])),i[0][2]))))}}function c(A,E,m,M){return function(i){return M(A(A(E(A(E(A(m(i[2][2],i[3][3]),m(-i[2][3],i[3][2])),i[1][1]),A(E(A(m(i[2][1],i[3][3]),m(-i[2][3],i[3][1])),-i[1][2]),E(A(m(i[2][1],i[3][2]),m(-i[2][2],i[3][1])),i[1][3]))),i[0][0]),E(A(E(A(m(i[2][2],i[3][3]),m(-i[2][3],i[3][2])),i[1][0]),A(E(A(m(i[2][0],i[3][3]),m(-i[2][3],i[3][0])),-i[1][2]),E(A(m(i[2][0],i[3][2]),m(-i[2][2],i[3][0])),i[1][3]))),-i[0][1])),A(E(A(E(A(m(i[2][1],i[3][3]),m(-i[2][3],i[3][1])),i[1][0]),A(E(A(m(i[2][0],i[3][3]),m(-i[2][3],i[3][0])),-i[1][1]),E(A(m(i[2][0],i[3][1]),m(-i[2][1],i[3][0])),i[1][3]))),i[0][2]),E(A(E(A(m(i[2][1],i[3][2]),m(-i[2][2],i[3][1])),i[1][0]),A(E(A(m(i[2][0],i[3][2]),m(-i[2][2],i[3][0])),-i[1][1]),E(A(m(i[2][0],i[3][1]),m(-i[2][1],i[3][0])),i[1][2]))),-i[0][3]))))}}function b(A,E,m,M){return function(i){return M(A(A(E(A(A(E(A(E(A(m(i[3][3],i[4][4]),m(-i[3][4],i[4][3])),i[2][2]),A(E(A(m(i[3][2],i[4][4]),m(-i[3][4],i[4][2])),-i[2][3]),E(A(m(i[3][2],i[4][3]),m(-i[3][3],i[4][2])),i[2][4]))),i[1][1]),E(A(E(A(m(i[3][3],i[4][4]),m(-i[3][4],i[4][3])),i[2][1]),A(E(A(m(i[3][1],i[4][4]),m(-i[3][4],i[4][1])),-i[2][3]),E(A(m(i[3][1],i[4][3]),m(-i[3][3],i[4][1])),i[2][4]))),-i[1][2])),A(E(A(E(A(m(i[3][2],i[4][4]),m(-i[3][4],i[4][2])),i[2][1]),A(E(A(m(i[3][1],i[4][4]),m(-i[3][4],i[4][1])),-i[2][2]),E(A(m(i[3][1],i[4][2]),m(-i[3][2],i[4][1])),i[2][4]))),i[1][3]),E(A(E(A(m(i[3][2],i[4][3]),m(-i[3][3],i[4][2])),i[2][1]),A(E(A(m(i[3][1],i[4][3]),m(-i[3][3],i[4][1])),-i[2][2]),E(A(m(i[3][1],i[4][2]),m(-i[3][2],i[4][1])),i[2][3]))),-i[1][4]))),i[0][0]),E(A(A(E(A(E(A(m(i[3][3],i[4][4]),m(-i[3][4],i[4][3])),i[2][2]),A(E(A(m(i[3][2],i[4][4]),m(-i[3][4],i[4][2])),-i[2][3]),E(A(m(i[3][2],i[4][3]),m(-i[3][3],i[4][2])),i[2][4]))),i[1][0]),E(A(E(A(m(i[3][3],i[4][4]),m(-i[3][4],i[4][3])),i[2][0]),A(E(A(m(i[3][0],i[4][4]),m(-i[3][4],i[4][0])),-i[2][3]),E(A(m(i[3][0],i[4][3]),m(-i[3][3],i[4][0])),i[2][4]))),-i[1][2])),A(E(A(E(A(m(i[3][2],i[4][4]),m(-i[3][4],i[4][2])),i[2][0]),A(E(A(m(i[3][0],i[4][4]),m(-i[3][4],i[4][0])),-i[2][2]),E(A(m(i[3][0],i[4][2]),m(-i[3][2],i[4][0])),i[2][4]))),i[1][3]),E(A(E(A(m(i[3][2],i[4][3]),m(-i[3][3],i[4][2])),i[2][0]),A(E(A(m(i[3][0],i[4][3]),m(-i[3][3],i[4][0])),-i[2][2]),E(A(m(i[3][0],i[4][2]),m(-i[3][2],i[4][0])),i[2][3]))),-i[1][4]))),-i[0][1])),A(E(A(A(E(A(E(A(m(i[3][3],i[4][4]),m(-i[3][4],i[4][3])),i[2][1]),A(E(A(m(i[3][1],i[4][4]),m(-i[3][4],i[4][1])),-i[2][3]),E(A(m(i[3][1],i[4][3]),m(-i[3][3],i[4][1])),i[2][4]))),i[1][0]),E(A(E(A(m(i[3][3],i[4][4]),m(-i[3][4],i[4][3])),i[2][0]),A(E(A(m(i[3][0],i[4][4]),m(-i[3][4],i[4][0])),-i[2][3]),E(A(m(i[3][0],i[4][3]),m(-i[3][3],i[4][0])),i[2][4]))),-i[1][1])),A(E(A(E(A(m(i[3][1],i[4][4]),m(-i[3][4],i[4][1])),i[2][0]),A(E(A(m(i[3][0],i[4][4]),m(-i[3][4],i[4][0])),-i[2][1]),E(A(m(i[3][0],i[4][1]),m(-i[3][1],i[4][0])),i[2][4]))),i[1][3]),E(A(E(A(m(i[3][1],i[4][3]),m(-i[3][3],i[4][1])),i[2][0]),A(E(A(m(i[3][0],i[4][3]),m(-i[3][3],i[4][0])),-i[2][1]),E(A(m(i[3][0],i[4][1]),m(-i[3][1],i[4][0])),i[2][3]))),-i[1][4]))),i[0][2]),A(E(A(A(E(A(E(A(m(i[3][2],i[4][4]),m(-i[3][4],i[4][2])),i[2][1]),A(E(A(m(i[3][1],i[4][4]),m(-i[3][4],i[4][1])),-i[2][2]),E(A(m(i[3][1],i[4][2]),m(-i[3][2],i[4][1])),i[2][4]))),i[1][0]),E(A(E(A(m(i[3][2],i[4][4]),m(-i[3][4],i[4][2])),i[2][0]),A(E(A(m(i[3][0],i[4][4]),m(-i[3][4],i[4][0])),-i[2][2]),E(A(m(i[3][0],i[4][2]),m(-i[3][2],i[4][0])),i[2][4]))),-i[1][1])),A(E(A(E(A(m(i[3][1],i[4][4]),m(-i[3][4],i[4][1])),i[2][0]),A(E(A(m(i[3][0],i[4][4]),m(-i[3][4],i[4][0])),-i[2][1]),E(A(m(i[3][0],i[4][1]),m(-i[3][1],i[4][0])),i[2][4]))),i[1][2]),E(A(E(A(m(i[3][1],i[4][2]),m(-i[3][2],i[4][1])),i[2][0]),A(E(A(m(i[3][0],i[4][2]),m(-i[3][2],i[4][0])),-i[2][1]),E(A(m(i[3][0],i[4][1]),m(-i[3][1],i[4][0])),i[2][2]))),-i[1][4]))),-i[0][3]),E(A(A(E(A(E(A(m(i[3][2],i[4][3]),m(-i[3][3],i[4][2])),i[2][1]),A(E(A(m(i[3][1],i[4][3]),m(-i[3][3],i[4][1])),-i[2][2]),E(A(m(i[3][1],i[4][2]),m(-i[3][2],i[4][1])),i[2][3]))),i[1][0]),E(A(E(A(m(i[3][2],i[4][3]),m(-i[3][3],i[4][2])),i[2][0]),A(E(A(m(i[3][0],i[4][3]),m(-i[3][3],i[4][0])),-i[2][2]),E(A(m(i[3][0],i[4][2]),m(-i[3][2],i[4][0])),i[2][3]))),-i[1][1])),A(E(A(E(A(m(i[3][1],i[4][3]),m(-i[3][3],i[4][1])),i[2][0]),A(E(A(m(i[3][0],i[4][3]),m(-i[3][3],i[4][0])),-i[2][1]),E(A(m(i[3][0],i[4][1]),m(-i[3][1],i[4][0])),i[2][3]))),i[1][2]),E(A(E(A(m(i[3][1],i[4][2]),m(-i[3][2],i[4][1])),i[2][0]),A(E(A(m(i[3][0],i[4][2]),m(-i[3][2],i[4][0])),-i[2][1]),E(A(m(i[3][0],i[4][1]),m(-i[3][1],i[4][0])),i[2][2]))),-i[1][3]))),i[0][4])))))}}function h(A){var E=A===2?l:A===3?x:A===4?c:A===5?b:void 0;return E(u,n,r,s)}var o=[function(){return[0]},function(E){return[E[0][0]]}];function p(A,E,m,M,w,i,C,y){return function(I){switch(I.length){case 0:return A(I);case 1:return E(I);case 2:return m(I);case 3:return M(I);case 4:return w(I);case 5:return i(I)}var N=C[I.length];return N||(N=C[I.length]=y(I.length)),N(I)}}function S(){for(;o.length<f;)o.push(h(o.length));v.exports=p.apply(void 0,o.concat([o,h]));for(var A=0;A<o.length;++A)v.exports[A]=o[A]}S()},9130:function(v,d,t){var r=t(9660),u=t(9662);v.exports=n;function n(s,f){for(var l=r(s[0],f[0]),x=1;x<s.length;++x)l=u(l,r(s[x],f[x]));return l}},2227:function(v,d,t){var r=t(9660),u=t(9662),n=t(4078),s=t(8289),f=6;function l(w){var i=w===3?h:w===4?o:w===5?p:S;return i(u,n,r,s)}function x(){return 0}function c(){return 0}function b(){return 0}function h(w,i,C,y){function _(I,N,k){var O=C(I[0],I[0]),z=y(O,N[0]),F=y(O,k[0]),B=C(N[0],N[0]),G=y(B,I[0]),Q=y(B,k[0]),ee=C(k[0],k[0]),ae=y(ee,I[0]),fe=y(ee,N[0]),K=w(i(fe,Q),i(G,z)),W=i(ae,F),Z=i(K,W);return Z[Z.length-1]}return _}function o(w,i,C,y){function _(I,N,k,O){var z=w(C(I[0],I[0]),C(I[1],I[1])),F=y(z,N[0]),B=y(z,k[0]),G=y(z,O[0]),Q=w(C(N[0],N[0]),C(N[1],N[1])),ee=y(Q,I[0]),ae=y(Q,k[0]),fe=y(Q,O[0]),K=w(C(k[0],k[0]),C(k[1],k[1])),W=y(K,I[0]),Z=y(K,N[0]),X=y(K,O[0]),$=w(C(O[0],O[0]),C(O[1],O[1])),ie=y($,I[0]),J=y($,N[0]),j=y($,k[0]),se=w(w(y(i(j,X),N[1]),w(y(i(J,fe),-k[1]),y(i(Z,ae),O[1]))),w(y(i(J,fe),I[1]),w(y(i(ie,G),-N[1]),y(i(ee,F),O[1])))),ne=w(w(y(i(j,X),I[1]),w(y(i(ie,G),-k[1]),y(i(W,B),O[1]))),w(y(i(Z,ae),I[1]),w(y(i(W,B),-N[1]),y(i(ee,F),k[1])))),ue=i(se,ne);return ue[ue.length-1]}return _}function p(w,i,C,y){function _(I,N,k,O,z){var F=w(C(I[0],I[0]),w(C(I[1],I[1]),C(I[2],I[2]))),B=y(F,N[0]),G=y(F,k[0]),Q=y(F,O[0]),ee=y(F,z[0]),ae=w(C(N[0],N[0]),w(C(N[1],N[1]),C(N[2],N[2]))),fe=y(ae,I[0]),K=y(ae,k[0]),W=y(ae,O[0]),Z=y(ae,z[0]),X=w(C(k[0],k[0]),w(C(k[1],k[1]),C(k[2],k[2]))),$=y(X,I[0]),ie=y(X,N[0]),J=y(X,O[0]),j=y(X,z[0]),se=w(C(O[0],O[0]),w(C(O[1],O[1]),C(O[2],O[2]))),ne=y(se,I[0]),ue=y(se,N[0]),ge=y(se,k[0]),we=y(se,z[0]),xe=w(C(z[0],z[0]),w(C(z[1],z[1]),C(z[2],z[2]))),Fe=y(xe,I[0]),ze=y(xe,N[0]),Te=y(xe,k[0]),ye=y(xe,O[0]),Ae=w(w(w(y(w(y(i(ye,we),k[1]),w(y(i(Te,j),-O[1]),y(i(ge,J),z[1]))),N[2]),w(y(w(y(i(ye,we),N[1]),w(y(i(ze,Z),-O[1]),y(i(ue,W),z[1]))),-k[2]),y(w(y(i(Te,j),N[1]),w(y(i(ze,Z),-k[1]),y(i(ie,K),z[1]))),O[2]))),w(y(w(y(i(ge,J),N[1]),w(y(i(ue,W),-k[1]),y(i(ie,K),O[1]))),-z[2]),w(y(w(y(i(ye,we),N[1]),w(y(i(ze,Z),-O[1]),y(i(ue,W),z[1]))),I[2]),y(w(y(i(ye,we),I[1]),w(y(i(Fe,ee),-O[1]),y(i(ne,Q),z[1]))),-N[2])))),w(w(y(w(y(i(ze,Z),I[1]),w(y(i(Fe,ee),-N[1]),y(i(fe,B),z[1]))),O[2]),w(y(w(y(i(ue,W),I[1]),w(y(i(ne,Q),-N[1]),y(i(fe,B),O[1]))),-z[2]),y(w(y(i(ge,J),N[1]),w(y(i(ue,W),-k[1]),y(i(ie,K),O[1]))),I[2]))),w(y(w(y(i(ge,J),I[1]),w(y(i(ne,Q),-k[1]),y(i($,G),O[1]))),-N[2]),w(y(w(y(i(ue,W),I[1]),w(y(i(ne,Q),-N[1]),y(i(fe,B),O[1]))),k[2]),y(w(y(i(ie,K),I[1]),w(y(i($,G),-N[1]),y(i(fe,B),k[1]))),-O[2]))))),Ne=w(w(w(y(w(y(i(ye,we),k[1]),w(y(i(Te,j),-O[1]),y(i(ge,J),z[1]))),I[2]),y(w(y(i(ye,we),I[1]),w(y(i(Fe,ee),-O[1]),y(i(ne,Q),z[1]))),-k[2])),w(y(w(y(i(Te,j),I[1]),w(y(i(Fe,ee),-k[1]),y(i($,G),z[1]))),O[2]),y(w(y(i(ge,J),I[1]),w(y(i(ne,Q),-k[1]),y(i($,G),O[1]))),-z[2]))),w(w(y(w(y(i(Te,j),N[1]),w(y(i(ze,Z),-k[1]),y(i(ie,K),z[1]))),I[2]),y(w(y(i(Te,j),I[1]),w(y(i(Fe,ee),-k[1]),y(i($,G),z[1]))),-N[2])),w(y(w(y(i(ze,Z),I[1]),w(y(i(Fe,ee),-N[1]),y(i(fe,B),z[1]))),k[2]),y(w(y(i(ie,K),I[1]),w(y(i($,G),-N[1]),y(i(fe,B),k[1]))),-z[2])))),Ue=i(Ae,Ne);return Ue[Ue.length-1]}return _}function S(w,i,C,y){function _(I,N,k,O,z,F){var B=w(w(C(I[0],I[0]),C(I[1],I[1])),w(C(I[2],I[2]),C(I[3],I[3]))),G=y(B,N[0]),Q=y(B,k[0]),ee=y(B,O[0]),ae=y(B,z[0]),fe=y(B,F[0]),K=w(w(C(N[0],N[0]),C(N[1],N[1])),w(C(N[2],N[2]),C(N[3],N[3]))),W=y(K,I[0]),Z=y(K,k[0]),X=y(K,O[0]),$=y(K,z[0]),ie=y(K,F[0]),J=w(w(C(k[0],k[0]),C(k[1],k[1])),w(C(k[2],k[2]),C(k[3],k[3]))),j=y(J,I[0]),se=y(J,N[0]),ne=y(J,O[0]),ue=y(J,z[0]),ge=y(J,F[0]),we=w(w(C(O[0],O[0]),C(O[1],O[1])),w(C(O[2],O[2]),C(O[3],O[3]))),xe=y(we,I[0]),Fe=y(we,N[0]),ze=y(we,k[0]),Te=y(we,z[0]),ye=y(we,F[0]),Ae=w(w(C(z[0],z[0]),C(z[1],z[1])),w(C(z[2],z[2]),C(z[3],z[3]))),Ne=y(Ae,I[0]),Ue=y(Ae,N[0]),Re=y(Ae,k[0]),Ve=y(Ae,O[0]),rt=y(Ae,F[0]),Qe=w(w(C(F[0],F[0]),C(F[1],F[1])),w(C(F[2],F[2]),C(F[3],F[3]))),Je=y(Qe,I[0]),qe=y(Qe,N[0]),dt=y(Qe,k[0]),pt=y(Qe,O[0]),mt=y(Qe,z[0]),Ct=w(w(w(y(w(w(y(w(y(i(mt,rt),O[1]),w(y(i(pt,ye),-z[1]),y(i(Ve,Te),F[1]))),k[2]),y(w(y(i(mt,rt),k[1]),w(y(i(dt,ge),-z[1]),y(i(Re,ue),F[1]))),-O[2])),w(y(w(y(i(pt,ye),k[1]),w(y(i(dt,ge),-O[1]),y(i(ze,ne),F[1]))),z[2]),y(w(y(i(Ve,Te),k[1]),w(y(i(Re,ue),-O[1]),y(i(ze,ne),z[1]))),-F[2]))),N[3]),w(y(w(w(y(w(y(i(mt,rt),O[1]),w(y(i(pt,ye),-z[1]),y(i(Ve,Te),F[1]))),N[2]),y(w(y(i(mt,rt),N[1]),w(y(i(qe,ie),-z[1]),y(i(Ue,$),F[1]))),-O[2])),w(y(w(y(i(pt,ye),N[1]),w(y(i(qe,ie),-O[1]),y(i(Fe,X),F[1]))),z[2]),y(w(y(i(Ve,Te),N[1]),w(y(i(Ue,$),-O[1]),y(i(Fe,X),z[1]))),-F[2]))),-k[3]),y(w(w(y(w(y(i(mt,rt),k[1]),w(y(i(dt,ge),-z[1]),y(i(Re,ue),F[1]))),N[2]),y(w(y(i(mt,rt),N[1]),w(y(i(qe,ie),-z[1]),y(i(Ue,$),F[1]))),-k[2])),w(y(w(y(i(dt,ge),N[1]),w(y(i(qe,ie),-k[1]),y(i(se,Z),F[1]))),z[2]),y(w(y(i(Re,ue),N[1]),w(y(i(Ue,$),-k[1]),y(i(se,Z),z[1]))),-F[2]))),O[3]))),w(w(y(w(w(y(w(y(i(pt,ye),k[1]),w(y(i(dt,ge),-O[1]),y(i(ze,ne),F[1]))),N[2]),y(w(y(i(pt,ye),N[1]),w(y(i(qe,ie),-O[1]),y(i(Fe,X),F[1]))),-k[2])),w(y(w(y(i(dt,ge),N[1]),w(y(i(qe,ie),-k[1]),y(i(se,Z),F[1]))),O[2]),y(w(y(i(ze,ne),N[1]),w(y(i(Fe,X),-k[1]),y(i(se,Z),O[1]))),-F[2]))),-z[3]),y(w(w(y(w(y(i(Ve,Te),k[1]),w(y(i(Re,ue),-O[1]),y(i(ze,ne),z[1]))),N[2]),y(w(y(i(Ve,Te),N[1]),w(y(i(Ue,$),-O[1]),y(i(Fe,X),z[1]))),-k[2])),w(y(w(y(i(Re,ue),N[1]),w(y(i(Ue,$),-k[1]),y(i(se,Z),z[1]))),O[2]),y(w(y(i(ze,ne),N[1]),w(y(i(Fe,X),-k[1]),y(i(se,Z),O[1]))),-z[2]))),F[3])),w(y(w(w(y(w(y(i(mt,rt),O[1]),w(y(i(pt,ye),-z[1]),y(i(Ve,Te),F[1]))),N[2]),y(w(y(i(mt,rt),N[1]),w(y(i(qe,ie),-z[1]),y(i(Ue,$),F[1]))),-O[2])),w(y(w(y(i(pt,ye),N[1]),w(y(i(qe,ie),-O[1]),y(i(Fe,X),F[1]))),z[2]),y(w(y(i(Ve,Te),N[1]),w(y(i(Ue,$),-O[1]),y(i(Fe,X),z[1]))),-F[2]))),I[3]),y(w(w(y(w(y(i(mt,rt),O[1]),w(y(i(pt,ye),-z[1]),y(i(Ve,Te),F[1]))),I[2]),y(w(y(i(mt,rt),I[1]),w(y(i(Je,fe),-z[1]),y(i(Ne,ae),F[1]))),-O[2])),w(y(w(y(i(pt,ye),I[1]),w(y(i(Je,fe),-O[1]),y(i(xe,ee),F[1]))),z[2]),y(w(y(i(Ve,Te),I[1]),w(y(i(Ne,ae),-O[1]),y(i(xe,ee),z[1]))),-F[2]))),-N[3])))),w(w(w(y(w(w(y(w(y(i(mt,rt),N[1]),w(y(i(qe,ie),-z[1]),y(i(Ue,$),F[1]))),I[2]),y(w(y(i(mt,rt),I[1]),w(y(i(Je,fe),-z[1]),y(i(Ne,ae),F[1]))),-N[2])),w(y(w(y(i(qe,ie),I[1]),w(y(i(Je,fe),-N[1]),y(i(W,G),F[1]))),z[2]),y(w(y(i(Ue,$),I[1]),w(y(i(Ne,ae),-N[1]),y(i(W,G),z[1]))),-F[2]))),O[3]),y(w(w(y(w(y(i(pt,ye),N[1]),w(y(i(qe,ie),-O[1]),y(i(Fe,X),F[1]))),I[2]),y(w(y(i(pt,ye),I[1]),w(y(i(Je,fe),-O[1]),y(i(xe,ee),F[1]))),-N[2])),w(y(w(y(i(qe,ie),I[1]),w(y(i(Je,fe),-N[1]),y(i(W,G),F[1]))),O[2]),y(w(y(i(Fe,X),I[1]),w(y(i(xe,ee),-N[1]),y(i(W,G),O[1]))),-F[2]))),-z[3])),w(y(w(w(y(w(y(i(Ve,Te),N[1]),w(y(i(Ue,$),-O[1]),y(i(Fe,X),z[1]))),I[2]),y(w(y(i(Ve,Te),I[1]),w(y(i(Ne,ae),-O[1]),y(i(xe,ee),z[1]))),-N[2])),w(y(w(y(i(Ue,$),I[1]),w(y(i(Ne,ae),-N[1]),y(i(W,G),z[1]))),O[2]),y(w(y(i(Fe,X),I[1]),w(y(i(xe,ee),-N[1]),y(i(W,G),O[1]))),-z[2]))),F[3]),y(w(w(y(w(y(i(pt,ye),k[1]),w(y(i(dt,ge),-O[1]),y(i(ze,ne),F[1]))),N[2]),y(w(y(i(pt,ye),N[1]),w(y(i(qe,ie),-O[1]),y(i(Fe,X),F[1]))),-k[2])),w(y(w(y(i(dt,ge),N[1]),w(y(i(qe,ie),-k[1]),y(i(se,Z),F[1]))),O[2]),y(w(y(i(ze,ne),N[1]),w(y(i(Fe,X),-k[1]),y(i(se,Z),O[1]))),-F[2]))),I[3]))),w(w(y(w(w(y(w(y(i(pt,ye),k[1]),w(y(i(dt,ge),-O[1]),y(i(ze,ne),F[1]))),I[2]),y(w(y(i(pt,ye),I[1]),w(y(i(Je,fe),-O[1]),y(i(xe,ee),F[1]))),-k[2])),w(y(w(y(i(dt,ge),I[1]),w(y(i(Je,fe),-k[1]),y(i(j,Q),F[1]))),O[2]),y(w(y(i(ze,ne),I[1]),w(y(i(xe,ee),-k[1]),y(i(j,Q),O[1]))),-F[2]))),-N[3]),y(w(w(y(w(y(i(pt,ye),N[1]),w(y(i(qe,ie),-O[1]),y(i(Fe,X),F[1]))),I[2]),y(w(y(i(pt,ye),I[1]),w(y(i(Je,fe),-O[1]),y(i(xe,ee),F[1]))),-N[2])),w(y(w(y(i(qe,ie),I[1]),w(y(i(Je,fe),-N[1]),y(i(W,G),F[1]))),O[2]),y(w(y(i(Fe,X),I[1]),w(y(i(xe,ee),-N[1]),y(i(W,G),O[1]))),-F[2]))),k[3])),w(y(w(w(y(w(y(i(dt,ge),N[1]),w(y(i(qe,ie),-k[1]),y(i(se,Z),F[1]))),I[2]),y(w(y(i(dt,ge),I[1]),w(y(i(Je,fe),-k[1]),y(i(j,Q),F[1]))),-N[2])),w(y(w(y(i(qe,ie),I[1]),w(y(i(Je,fe),-N[1]),y(i(W,G),F[1]))),k[2]),y(w(y(i(se,Z),I[1]),w(y(i(j,Q),-N[1]),y(i(W,G),k[1]))),-F[2]))),-O[3]),y(w(w(y(w(y(i(ze,ne),N[1]),w(y(i(Fe,X),-k[1]),y(i(se,Z),O[1]))),I[2]),y(w(y(i(ze,ne),I[1]),w(y(i(xe,ee),-k[1]),y(i(j,Q),O[1]))),-N[2])),w(y(w(y(i(Fe,X),I[1]),w(y(i(xe,ee),-N[1]),y(i(W,G),O[1]))),k[2]),y(w(y(i(se,Z),I[1]),w(y(i(j,Q),-N[1]),y(i(W,G),k[1]))),-O[2]))),F[3]))))),Rt=w(w(w(y(w(w(y(w(y(i(mt,rt),O[1]),w(y(i(pt,ye),-z[1]),y(i(Ve,Te),F[1]))),k[2]),y(w(y(i(mt,rt),k[1]),w(y(i(dt,ge),-z[1]),y(i(Re,ue),F[1]))),-O[2])),w(y(w(y(i(pt,ye),k[1]),w(y(i(dt,ge),-O[1]),y(i(ze,ne),F[1]))),z[2]),y(w(y(i(Ve,Te),k[1]),w(y(i(Re,ue),-O[1]),y(i(ze,ne),z[1]))),-F[2]))),I[3]),w(y(w(w(y(w(y(i(mt,rt),O[1]),w(y(i(pt,ye),-z[1]),y(i(Ve,Te),F[1]))),I[2]),y(w(y(i(mt,rt),I[1]),w(y(i(Je,fe),-z[1]),y(i(Ne,ae),F[1]))),-O[2])),w(y(w(y(i(pt,ye),I[1]),w(y(i(Je,fe),-O[1]),y(i(xe,ee),F[1]))),z[2]),y(w(y(i(Ve,Te),I[1]),w(y(i(Ne,ae),-O[1]),y(i(xe,ee),z[1]))),-F[2]))),-k[3]),y(w(w(y(w(y(i(mt,rt),k[1]),w(y(i(dt,ge),-z[1]),y(i(Re,ue),F[1]))),I[2]),y(w(y(i(mt,rt),I[1]),w(y(i(Je,fe),-z[1]),y(i(Ne,ae),F[1]))),-k[2])),w(y(w(y(i(dt,ge),I[1]),w(y(i(Je,fe),-k[1]),y(i(j,Q),F[1]))),z[2]),y(w(y(i(Re,ue),I[1]),w(y(i(Ne,ae),-k[1]),y(i(j,Q),z[1]))),-F[2]))),O[3]))),w(w(y(w(w(y(w(y(i(pt,ye),k[1]),w(y(i(dt,ge),-O[1]),y(i(ze,ne),F[1]))),I[2]),y(w(y(i(pt,ye),I[1]),w(y(i(Je,fe),-O[1]),y(i(xe,ee),F[1]))),-k[2])),w(y(w(y(i(dt,ge),I[1]),w(y(i(Je,fe),-k[1]),y(i(j,Q),F[1]))),O[2]),y(w(y(i(ze,ne),I[1]),w(y(i(xe,ee),-k[1]),y(i(j,Q),O[1]))),-F[2]))),-z[3]),y(w(w(y(w(y(i(Ve,Te),k[1]),w(y(i(Re,ue),-O[1]),y(i(ze,ne),z[1]))),I[2]),y(w(y(i(Ve,Te),I[1]),w(y(i(Ne,ae),-O[1]),y(i(xe,ee),z[1]))),-k[2])),w(y(w(y(i(Re,ue),I[1]),w(y(i(Ne,ae),-k[1]),y(i(j,Q),z[1]))),O[2]),y(w(y(i(ze,ne),I[1]),w(y(i(xe,ee),-k[1]),y(i(j,Q),O[1]))),-z[2]))),F[3])),w(y(w(w(y(w(y(i(mt,rt),k[1]),w(y(i(dt,ge),-z[1]),y(i(Re,ue),F[1]))),N[2]),y(w(y(i(mt,rt),N[1]),w(y(i(qe,ie),-z[1]),y(i(Ue,$),F[1]))),-k[2])),w(y(w(y(i(dt,ge),N[1]),w(y(i(qe,ie),-k[1]),y(i(se,Z),F[1]))),z[2]),y(w(y(i(Re,ue),N[1]),w(y(i(Ue,$),-k[1]),y(i(se,Z),z[1]))),-F[2]))),I[3]),y(w(w(y(w(y(i(mt,rt),k[1]),w(y(i(dt,ge),-z[1]),y(i(Re,ue),F[1]))),I[2]),y(w(y(i(mt,rt),I[1]),w(y(i(Je,fe),-z[1]),y(i(Ne,ae),F[1]))),-k[2])),w(y(w(y(i(dt,ge),I[1]),w(y(i(Je,fe),-k[1]),y(i(j,Q),F[1]))),z[2]),y(w(y(i(Re,ue),I[1]),w(y(i(Ne,ae),-k[1]),y(i(j,Q),z[1]))),-F[2]))),-N[3])))),w(w(w(y(w(w(y(w(y(i(mt,rt),N[1]),w(y(i(qe,ie),-z[1]),y(i(Ue,$),F[1]))),I[2]),y(w(y(i(mt,rt),I[1]),w(y(i(Je,fe),-z[1]),y(i(Ne,ae),F[1]))),-N[2])),w(y(w(y(i(qe,ie),I[1]),w(y(i(Je,fe),-N[1]),y(i(W,G),F[1]))),z[2]),y(w(y(i(Ue,$),I[1]),w(y(i(Ne,ae),-N[1]),y(i(W,G),z[1]))),-F[2]))),k[3]),y(w(w(y(w(y(i(dt,ge),N[1]),w(y(i(qe,ie),-k[1]),y(i(se,Z),F[1]))),I[2]),y(w(y(i(dt,ge),I[1]),w(y(i(Je,fe),-k[1]),y(i(j,Q),F[1]))),-N[2])),w(y(w(y(i(qe,ie),I[1]),w(y(i(Je,fe),-N[1]),y(i(W,G),F[1]))),k[2]),y(w(y(i(se,Z),I[1]),w(y(i(j,Q),-N[1]),y(i(W,G),k[1]))),-F[2]))),-z[3])),w(y(w(w(y(w(y(i(Re,ue),N[1]),w(y(i(Ue,$),-k[1]),y(i(se,Z),z[1]))),I[2]),y(w(y(i(Re,ue),I[1]),w(y(i(Ne,ae),-k[1]),y(i(j,Q),z[1]))),-N[2])),w(y(w(y(i(Ue,$),I[1]),w(y(i(Ne,ae),-N[1]),y(i(W,G),z[1]))),k[2]),y(w(y(i(se,Z),I[1]),w(y(i(j,Q),-N[1]),y(i(W,G),k[1]))),-z[2]))),F[3]),y(w(w(y(w(y(i(Ve,Te),k[1]),w(y(i(Re,ue),-O[1]),y(i(ze,ne),z[1]))),N[2]),y(w(y(i(Ve,Te),N[1]),w(y(i(Ue,$),-O[1]),y(i(Fe,X),z[1]))),-k[2])),w(y(w(y(i(Re,ue),N[1]),w(y(i(Ue,$),-k[1]),y(i(se,Z),z[1]))),O[2]),y(w(y(i(ze,ne),N[1]),w(y(i(Fe,X),-k[1]),y(i(se,Z),O[1]))),-z[2]))),I[3]))),w(w(y(w(w(y(w(y(i(Ve,Te),k[1]),w(y(i(Re,ue),-O[1]),y(i(ze,ne),z[1]))),I[2]),y(w(y(i(Ve,Te),I[1]),w(y(i(Ne,ae),-O[1]),y(i(xe,ee),z[1]))),-k[2])),w(y(w(y(i(Re,ue),I[1]),w(y(i(Ne,ae),-k[1]),y(i(j,Q),z[1]))),O[2]),y(w(y(i(ze,ne),I[1]),w(y(i(xe,ee),-k[1]),y(i(j,Q),O[1]))),-z[2]))),-N[3]),y(w(w(y(w(y(i(Ve,Te),N[1]),w(y(i(Ue,$),-O[1]),y(i(Fe,X),z[1]))),I[2]),y(w(y(i(Ve,Te),I[1]),w(y(i(Ne,ae),-O[1]),y(i(xe,ee),z[1]))),-N[2])),w(y(w(y(i(Ue,$),I[1]),w(y(i(Ne,ae),-N[1]),y(i(W,G),z[1]))),O[2]),y(w(y(i(Fe,X),I[1]),w(y(i(xe,ee),-N[1]),y(i(W,G),O[1]))),-z[2]))),k[3])),w(y(w(w(y(w(y(i(Re,ue),N[1]),w(y(i(Ue,$),-k[1]),y(i(se,Z),z[1]))),I[2]),y(w(y(i(Re,ue),I[1]),w(y(i(Ne,ae),-k[1]),y(i(j,Q),z[1]))),-N[2])),w(y(w(y(i(Ue,$),I[1]),w(y(i(Ne,ae),-N[1]),y(i(W,G),z[1]))),k[2]),y(w(y(i(se,Z),I[1]),w(y(i(j,Q),-N[1]),y(i(W,G),k[1]))),-z[2]))),-O[3]),y(w(w(y(w(y(i(ze,ne),N[1]),w(y(i(Fe,X),-k[1]),y(i(se,Z),O[1]))),I[2]),y(w(y(i(ze,ne),I[1]),w(y(i(xe,ee),-k[1]),y(i(j,Q),O[1]))),-N[2])),w(y(w(y(i(Fe,X),I[1]),w(y(i(xe,ee),-N[1]),y(i(W,G),O[1]))),k[2]),y(w(y(i(se,Z),I[1]),w(y(i(j,Q),-N[1]),y(i(W,G),k[1]))),-O[2]))),z[3]))))),Zt=i(Ct,Rt);return Zt[Zt.length-1]}return _}var A=[x,c,b];function E(w){var i=A[w.length];return i||(i=A[w.length]=l(w.length)),i.apply(void 0,w)}function m(w,i,C,y,_,I,N,k){function O(z,F,B,G,Q,ee){switch(arguments.length){case 0:case 1:return 0;case 2:return y(z,F);case 3:return _(z,F,B);case 4:return I(z,F,B,G);case 5:return N(z,F,B,G,Q);case 6:return k(z,F,B,G,Q,ee)}for(var ae=new Array(arguments.length),fe=0;fe<arguments.length;++fe)ae[fe]=arguments[fe];return w(ae)}return O}function M(){for(;A.length<=f;)A.push(l(A.length));v.exports=m.apply(void 0,[E].concat(A));for(var w=0;w<=f;++w)v.exports[w]=A[w]}M()},6606:function(v,d,t){var r=t(8167),u=6;function n(A){var E=A===2?l:A===3?x:A===4?c:A===5?b:h;return A<6?E(r[A]):E(r)}function s(){return[[0]]}function f(A,E){return[[E[0]],[A[0][0]]]}function l(A){return function(m,M){return[A([[+M[0],+m[0][1]],[+M[1],+m[1][1]]]),A([[+m[0][0],+M[0]],[+m[1][0],+M[1]]]),A(m)]}}function x(A){return function(m,M){return[A([[+M[0],+m[0][1],+m[0][2]],[+M[1],+m[1][1],+m[1][2]],[+M[2],+m[2][1],+m[2][2]]]),A([[+m[0][0],+M[0],+m[0][2]],[+m[1][0],+M[1],+m[1][2]],[+m[2][0],+M[2],+m[2][2]]]),A([[+m[0][0],+m[0][1],+M[0]],[+m[1][0],+m[1][1],+M[1]],[+m[2][0],+m[2][1],+M[2]]]),A(m)]}}function c(A){return function(m,M){return[A([[+M[0],+m[0][1],+m[0][2],+m[0][3]],[+M[1],+m[1][1],+m[1][2],+m[1][3]],[+M[2],+m[2][1],+m[2][2],+m[2][3]],[+M[3],+m[3][1],+m[3][2],+m[3][3]]]),A([[+m[0][0],+M[0],+m[0][2],+m[0][3]],[+m[1][0],+M[1],+m[1][2],+m[1][3]],[+m[2][0],+M[2],+m[2][2],+m[2][3]],[+m[3][0],+M[3],+m[3][2],+m[3][3]]]),A([[+m[0][0],+m[0][1],+M[0],+m[0][3]],[+m[1][0],+m[1][1],+M[1],+m[1][3]],[+m[2][0],+m[2][1],+M[2],+m[2][3]],[+m[3][0],+m[3][1],+M[3],+m[3][3]]]),A([[+m[0][0],+m[0][1],+m[0][2],+M[0]],[+m[1][0],+m[1][1],+m[1][2],+M[1]],[+m[2][0],+m[2][1],+m[2][2],+M[2]],[+m[3][0],+m[3][1],+m[3][2],+M[3]]]),A(m)]}}function b(A){return function(m,M){return[A([[+M[0],+m[0][1],+m[0][2],+m[0][3],+m[0][4]],[+M[1],+m[1][1],+m[1][2],+m[1][3],+m[1][4]],[+M[2],+m[2][1],+m[2][2],+m[2][3],+m[2][4]],[+M[3],+m[3][1],+m[3][2],+m[3][3],+m[3][4]],[+M[4],+m[4][1],+m[4][2],+m[4][3],+m[4][4]]]),A([[+m[0][0],+M[0],+m[0][2],+m[0][3],+m[0][4]],[+m[1][0],+M[1],+m[1][2],+m[1][3],+m[1][4]],[+m[2][0],+M[2],+m[2][2],+m[2][3],+m[2][4]],[+m[3][0],+M[3],+m[3][2],+m[3][3],+m[3][4]],[+m[4][0],+M[4],+m[4][2],+m[4][3],+m[4][4]]]),A([[+m[0][0],+m[0][1],+M[0],+m[0][3],+m[0][4]],[+m[1][0],+m[1][1],+M[1],+m[1][3],+m[1][4]],[+m[2][0],+m[2][1],+M[2],+m[2][3],+m[2][4]],[+m[3][0],+m[3][1],+M[3],+m[3][3],+m[3][4]],[+m[4][0],+m[4][1],+M[4],+m[4][3],+m[4][4]]]),A([[+m[0][0],+m[0][1],+m[0][2],+M[0],+m[0][4]],[+m[1][0],+m[1][1],+m[1][2],+M[1],+m[1][4]],[+m[2][0],+m[2][1],+m[2][2],+M[2],+m[2][4]],[+m[3][0],+m[3][1],+m[3][2],+M[3],+m[3][4]],[+m[4][0],+m[4][1],+m[4][2],+M[4],+m[4][4]]]),A([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+M[0]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+M[1]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+M[2]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+M[3]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+M[4]]]),A(m)]}}function h(A){return function(m,M){return[A([[+M[0],+m[0][1],+m[0][2],+m[0][3],+m[0][4],+m[0][5]],[+M[1],+m[1][1],+m[1][2],+m[1][3],+m[1][4],+m[1][5]],[+M[2],+m[2][1],+m[2][2],+m[2][3],+m[2][4],+m[2][5]],[+M[3],+m[3][1],+m[3][2],+m[3][3],+m[3][4],+m[3][5]],[+M[4],+m[4][1],+m[4][2],+m[4][3],+m[4][4],+m[4][5]],[+M[5],+m[5][1],+m[5][2],+m[5][3],+m[5][4],+m[5][5]]]),A([[+m[0][0],+M[0],+m[0][2],+m[0][3],+m[0][4],+m[0][5]],[+m[1][0],+M[1],+m[1][2],+m[1][3],+m[1][4],+m[1][5]],[+m[2][0],+M[2],+m[2][2],+m[2][3],+m[2][4],+m[2][5]],[+m[3][0],+M[3],+m[3][2],+m[3][3],+m[3][4],+m[3][5]],[+m[4][0],+M[4],+m[4][2],+m[4][3],+m[4][4],+m[4][5]],[+m[5][0],+M[5],+m[5][2],+m[5][3],+m[5][4],+m[5][5]]]),A([[+m[0][0],+m[0][1],+M[0],+m[0][3],+m[0][4],+m[0][5]],[+m[1][0],+m[1][1],+M[1],+m[1][3],+m[1][4],+m[1][5]],[+m[2][0],+m[2][1],+M[2],+m[2][3],+m[2][4],+m[2][5]],[+m[3][0],+m[3][1],+M[3],+m[3][3],+m[3][4],+m[3][5]],[+m[4][0],+m[4][1],+M[4],+m[4][3],+m[4][4],+m[4][5]],[+m[5][0],+m[5][1],+M[5],+m[5][3],+m[5][4],+m[5][5]]]),A([[+m[0][0],+m[0][1],+m[0][2],+M[0],+m[0][4],+m[0][5]],[+m[1][0],+m[1][1],+m[1][2],+M[1],+m[1][4],+m[1][5]],[+m[2][0],+m[2][1],+m[2][2],+M[2],+m[2][4],+m[2][5]],[+m[3][0],+m[3][1],+m[3][2],+M[3],+m[3][4],+m[3][5]],[+m[4][0],+m[4][1],+m[4][2],+M[4],+m[4][4],+m[4][5]],[+m[5][0],+m[5][1],+m[5][2],+M[5],+m[5][4],+m[5][5]]]),A([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+M[0],+m[0][5]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+M[1],+m[1][5]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+M[2],+m[2][5]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+M[3],+m[3][5]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+M[4],+m[4][5]],[+m[5][0],+m[5][1],+m[5][2],+m[5][3],+M[5],+m[5][5]]]),A([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+m[0][4],+M[0]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+m[1][4],+M[1]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+m[2][4],+M[2]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+m[3][4],+M[3]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+m[4][4],+M[4]],[+m[5][0],+m[5][1],+m[5][2],+m[5][3],+m[5][4],+M[5]]]),A(m)]}}var o=[s,f];function p(A,E,m,M,w,i,C,y){return function(I,N){switch(I.length){case 0:return A(I,N);case 1:return E(I,N);case 2:return m(I,N);case 3:return M(I,N);case 4:return w(I,N);case 5:return i(I,N)}var k=C[I.length];return k||(k=C[I.length]=y(I.length)),k(I,N)}}function S(){for(;o.length<u;)o.push(n(o.length));v.exports=p.apply(void 0,o.concat([o,n]));for(var A=0;A<u;++A)v.exports[A]=o[A]}S()},417:function(v,d,t){var r=t(9660),u=t(9662),n=t(8289),s=t(4078),f=5,l=11102230246251565e-32,x=(3+16*l)*l,c=(7+56*l)*l;function b(i,C,y,_){return function(N,k,O){var z=i(i(C(k[1],O[0]),C(-O[1],k[0])),i(C(N[1],k[0]),C(-k[1],N[0]))),F=i(C(N[1],O[0]),C(-O[1],N[0])),B=_(z,F);return B[B.length-1]}}function h(i,C,y,_){return function(N,k,O,z){var F=i(i(y(i(C(O[1],z[0]),C(-z[1],O[0])),k[2]),i(y(i(C(k[1],z[0]),C(-z[1],k[0])),-O[2]),y(i(C(k[1],O[0]),C(-O[1],k[0])),z[2]))),i(y(i(C(k[1],z[0]),C(-z[1],k[0])),N[2]),i(y(i(C(N[1],z[0]),C(-z[1],N[0])),-k[2]),y(i(C(N[1],k[0]),C(-k[1],N[0])),z[2])))),B=i(i(y(i(C(O[1],z[0]),C(-z[1],O[0])),N[2]),i(y(i(C(N[1],z[0]),C(-z[1],N[0])),-O[2]),y(i(C(N[1],O[0]),C(-O[1],N[0])),z[2]))),i(y(i(C(k[1],O[0]),C(-O[1],k[0])),N[2]),i(y(i(C(N[1],O[0]),C(-O[1],N[0])),-k[2]),y(i(C(N[1],k[0]),C(-k[1],N[0])),O[2])))),G=_(F,B);return G[G.length-1]}}function o(i,C,y,_){return function(N,k,O,z,F){var B=i(i(i(y(i(y(i(C(z[1],F[0]),C(-F[1],z[0])),O[2]),i(y(i(C(O[1],F[0]),C(-F[1],O[0])),-z[2]),y(i(C(O[1],z[0]),C(-z[1],O[0])),F[2]))),k[3]),i(y(i(y(i(C(z[1],F[0]),C(-F[1],z[0])),k[2]),i(y(i(C(k[1],F[0]),C(-F[1],k[0])),-z[2]),y(i(C(k[1],z[0]),C(-z[1],k[0])),F[2]))),-O[3]),y(i(y(i(C(O[1],F[0]),C(-F[1],O[0])),k[2]),i(y(i(C(k[1],F[0]),C(-F[1],k[0])),-O[2]),y(i(C(k[1],O[0]),C(-O[1],k[0])),F[2]))),z[3]))),i(y(i(y(i(C(O[1],z[0]),C(-z[1],O[0])),k[2]),i(y(i(C(k[1],z[0]),C(-z[1],k[0])),-O[2]),y(i(C(k[1],O[0]),C(-O[1],k[0])),z[2]))),-F[3]),i(y(i(y(i(C(z[1],F[0]),C(-F[1],z[0])),k[2]),i(y(i(C(k[1],F[0]),C(-F[1],k[0])),-z[2]),y(i(C(k[1],z[0]),C(-z[1],k[0])),F[2]))),N[3]),y(i(y(i(C(z[1],F[0]),C(-F[1],z[0])),N[2]),i(y(i(C(N[1],F[0]),C(-F[1],N[0])),-z[2]),y(i(C(N[1],z[0]),C(-z[1],N[0])),F[2]))),-k[3])))),i(i(y(i(y(i(C(k[1],F[0]),C(-F[1],k[0])),N[2]),i(y(i(C(N[1],F[0]),C(-F[1],N[0])),-k[2]),y(i(C(N[1],k[0]),C(-k[1],N[0])),F[2]))),z[3]),i(y(i(y(i(C(k[1],z[0]),C(-z[1],k[0])),N[2]),i(y(i(C(N[1],z[0]),C(-z[1],N[0])),-k[2]),y(i(C(N[1],k[0]),C(-k[1],N[0])),z[2]))),-F[3]),y(i(y(i(C(O[1],z[0]),C(-z[1],O[0])),k[2]),i(y(i(C(k[1],z[0]),C(-z[1],k[0])),-O[2]),y(i(C(k[1],O[0]),C(-O[1],k[0])),z[2]))),N[3]))),i(y(i(y(i(C(O[1],z[0]),C(-z[1],O[0])),N[2]),i(y(i(C(N[1],z[0]),C(-z[1],N[0])),-O[2]),y(i(C(N[1],O[0]),C(-O[1],N[0])),z[2]))),-k[3]),i(y(i(y(i(C(k[1],z[0]),C(-z[1],k[0])),N[2]),i(y(i(C(N[1],z[0]),C(-z[1],N[0])),-k[2]),y(i(C(N[1],k[0]),C(-k[1],N[0])),z[2]))),O[3]),y(i(y(i(C(k[1],O[0]),C(-O[1],k[0])),N[2]),i(y(i(C(N[1],O[0]),C(-O[1],N[0])),-k[2]),y(i(C(N[1],k[0]),C(-k[1],N[0])),O[2]))),-z[3]))))),G=i(i(i(y(i(y(i(C(z[1],F[0]),C(-F[1],z[0])),O[2]),i(y(i(C(O[1],F[0]),C(-F[1],O[0])),-z[2]),y(i(C(O[1],z[0]),C(-z[1],O[0])),F[2]))),N[3]),y(i(y(i(C(z[1],F[0]),C(-F[1],z[0])),N[2]),i(y(i(C(N[1],F[0]),C(-F[1],N[0])),-z[2]),y(i(C(N[1],z[0]),C(-z[1],N[0])),F[2]))),-O[3])),i(y(i(y(i(C(O[1],F[0]),C(-F[1],O[0])),N[2]),i(y(i(C(N[1],F[0]),C(-F[1],N[0])),-O[2]),y(i(C(N[1],O[0]),C(-O[1],N[0])),F[2]))),z[3]),y(i(y(i(C(O[1],z[0]),C(-z[1],O[0])),N[2]),i(y(i(C(N[1],z[0]),C(-z[1],N[0])),-O[2]),y(i(C(N[1],O[0]),C(-O[1],N[0])),z[2]))),-F[3]))),i(i(y(i(y(i(C(O[1],F[0]),C(-F[1],O[0])),k[2]),i(y(i(C(k[1],F[0]),C(-F[1],k[0])),-O[2]),y(i(C(k[1],O[0]),C(-O[1],k[0])),F[2]))),N[3]),y(i(y(i(C(O[1],F[0]),C(-F[1],O[0])),N[2]),i(y(i(C(N[1],F[0]),C(-F[1],N[0])),-O[2]),y(i(C(N[1],O[0]),C(-O[1],N[0])),F[2]))),-k[3])),i(y(i(y(i(C(k[1],F[0]),C(-F[1],k[0])),N[2]),i(y(i(C(N[1],F[0]),C(-F[1],N[0])),-k[2]),y(i(C(N[1],k[0]),C(-k[1],N[0])),F[2]))),O[3]),y(i(y(i(C(k[1],O[0]),C(-O[1],k[0])),N[2]),i(y(i(C(N[1],O[0]),C(-O[1],N[0])),-k[2]),y(i(C(N[1],k[0]),C(-k[1],N[0])),O[2]))),-F[3])))),Q=_(B,G);return Q[Q.length-1]}}function p(i){var C=i===3?b:i===4?h:o;return C(u,r,n,s)}var S=p(3),A=p(4),E=[function(){return 0},function(){return 0},function(C,y){return y[0]-C[0]},function(C,y,_){var I=(C[1]-_[1])*(y[0]-_[0]),N=(C[0]-_[0])*(y[1]-_[1]),k=I-N,O;if(I>0){if(N<=0)return k;O=I+N}else if(I<0){if(N>=0)return k;O=-(I+N)}else return k;var z=x*O;return k>=z||k<=-z?k:S(C,y,_)},function(C,y,_,I){var N=C[0]-I[0],k=y[0]-I[0],O=_[0]-I[0],z=C[1]-I[1],F=y[1]-I[1],B=_[1]-I[1],G=C[2]-I[2],Q=y[2]-I[2],ee=_[2]-I[2],ae=k*B,fe=O*F,K=O*z,W=N*B,Z=N*F,X=k*z,$=G*(ae-fe)+Q*(K-W)+ee*(Z-X),ie=(Math.abs(ae)+Math.abs(fe))*Math.abs(G)+(Math.abs(K)+Math.abs(W))*Math.abs(Q)+(Math.abs(Z)+Math.abs(X))*Math.abs(ee),J=c*ie;return $>J||-$>J?$:A(C,y,_,I)}];function m(i){var C=E[i.length];return C||(C=E[i.length]=p(i.length)),C.apply(void 0,i)}function M(i,C,y,_,I,N,k){return function(z,F,B,G,Q){switch(arguments.length){case 0:case 1:return 0;case 2:return _(z,F);case 3:return I(z,F,B);case 4:return N(z,F,B,G);case 5:return k(z,F,B,G,Q)}for(var ee=new Array(arguments.length),ae=0;ae<arguments.length;++ae)ee[ae]=arguments[ae];return i(ee)}}function w(){for(;E.length<=f;)E.push(p(E.length));v.exports=M.apply(void 0,[m].concat(E));for(var i=0;i<=f;++i)v.exports[i]=E[i]}w()},2019:function(v,d,t){var r=t(9662),u=t(8289);v.exports=n;function n(s,f){if(s.length===1)return u(f,s[0]);if(f.length===1)return u(s,f[0]);if(s.length===0||f.length===0)return[0];var l=[0];if(s.length<f.length)for(var x=0;x<s.length;++x)l=r(l,u(f,s[x]));else for(var x=0;x<f.length;++x)l=r(l,u(s,f[x]));return l}},8289:function(v,d,t){var r=t(9660),u=t(87);v.exports=n;function n(s,f){var l=s.length;if(l===1){var x=r(s[0],f);return x[0]?x:[x[1]]}var c=new Array(2*l),b=[.1,.1],h=[.1,.1],o=0;r(s[0],f,b),b[0]&&(c[o++]=b[0]);for(var p=1;p<l;++p){r(s[p],f,h);var S=b[1];u(S,h[0],b),b[0]&&(c[o++]=b[0]);var A=h[1],E=b[1],m=A+E,M=m-A,w=E-M;b[1]=m,w&&(c[o++]=w)}return b[1]&&(c[o++]=b[1]),o===0&&(c[o++]=0),c.length=o,c}},4434:function(v,d,t){v.exports=n;var r=t(417)[3];function u(s,f,l,x){for(var c=0;c<2;++c){var b=s[c],h=f[c],o=Math.min(b,h),p=Math.max(b,h),S=l[c],A=x[c],E=Math.min(S,A),m=Math.max(S,A);if(m<o||p<E)return!1}return!0}function n(s,f,l,x){var c=r(s,l,x),b=r(f,l,x);if(c>0&&b>0||c<0&&b<0)return!1;var h=r(l,s,f),o=r(x,s,f);return h>0&&o>0||h<0&&o<0?!1:c===0&&b===0&&h===0&&o===0?u(s,f,l,x):!0}},4078:function(v){v.exports=t;function d(r,u){var n=r+u,s=n-r,f=n-s,l=u-s,x=r-f,c=x+l;return c?[c,n]:[n]}function t(r,u){var n=r.length|0,s=u.length|0;if(n===1&&s===1)return d(r[0],-u[0]);var f=n+s,l=new Array(f),x=0,c=0,b=0,h=Math.abs,o=r[c],p=h(o),S=-u[b],A=h(S),E,m;p<A?(m=o,c+=1,c<n&&(o=r[c],p=h(o))):(m=S,b+=1,b<s&&(S=-u[b],A=h(S))),c<n&&p<A||b>=s?(E=o,c+=1,c<n&&(o=r[c],p=h(o))):(E=S,b+=1,b<s&&(S=-u[b],A=h(S)));for(var M=E+m,w=M-E,i=m-w,C=i,y=M,_,I,N,k,O;c<n&&b<s;)p<A?(E=o,c+=1,c<n&&(o=r[c],p=h(o))):(E=S,b+=1,b<s&&(S=-u[b],A=h(S))),m=C,M=E+m,w=M-E,i=m-w,i&&(l[x++]=i),_=y+M,I=_-y,N=_-I,k=M-I,O=y-N,C=O+k,y=_;for(;c<n;)E=o,m=C,M=E+m,w=M-E,i=m-w,i&&(l[x++]=i),_=y+M,I=_-y,N=_-I,k=M-I,O=y-N,C=O+k,y=_,c+=1,c<n&&(o=r[c]);for(;b<s;)E=S,m=C,M=E+m,w=M-E,i=m-w,i&&(l[x++]=i),_=y+M,I=_-y,N=_-I,k=M-I,O=y-N,C=O+k,y=_,b+=1,b<s&&(S=-u[b]);return C&&(l[x++]=C),y&&(l[x++]=y),x||(l[x++]=0),l.length=x,l}},9662:function(v){v.exports=t;function d(r,u){var n=r+u,s=n-r,f=n-s,l=u-s,x=r-f,c=x+l;return c?[c,n]:[n]}function t(r,u){var n=r.length|0,s=u.length|0;if(n===1&&s===1)return d(r[0],u[0]);var f=n+s,l=new Array(f),x=0,c=0,b=0,h=Math.abs,o=r[c],p=h(o),S=u[b],A=h(S),E,m;p<A?(m=o,c+=1,c<n&&(o=r[c],p=h(o))):(m=S,b+=1,b<s&&(S=u[b],A=h(S))),c<n&&p<A||b>=s?(E=o,c+=1,c<n&&(o=r[c],p=h(o))):(E=S,b+=1,b<s&&(S=u[b],A=h(S)));for(var M=E+m,w=M-E,i=m-w,C=i,y=M,_,I,N,k,O;c<n&&b<s;)p<A?(E=o,c+=1,c<n&&(o=r[c],p=h(o))):(E=S,b+=1,b<s&&(S=u[b],A=h(S))),m=C,M=E+m,w=M-E,i=m-w,i&&(l[x++]=i),_=y+M,I=_-y,N=_-I,k=M-I,O=y-N,C=O+k,y=_;for(;c<n;)E=o,m=C,M=E+m,w=M-E,i=m-w,i&&(l[x++]=i),_=y+M,I=_-y,N=_-I,k=M-I,O=y-N,C=O+k,y=_,c+=1,c<n&&(o=r[c]);for(;b<s;)E=S,m=C,M=E+m,w=M-E,i=m-w,i&&(l[x++]=i),_=y+M,I=_-y,N=_-I,k=M-I,O=y-N,C=O+k,y=_,b+=1,b<s&&(S=u[b]);return C&&(l[x++]=C),y&&(l[x++]=y),x||(l[x++]=0),l.length=x,l}},8691:function(v,d,t){v.exports=n;var r=t(2692),u=t(7037);function n(s){return u(r(s))}},7212:function(v,d,t){v.exports=o;var r=t(5050),u=t(5306),n=t(8729),s=t(1168);function f(p){for(var S=p.length,A=0,E=0;E<S;++E)A=Math.max(A,p[E].length)|0;return A-1}function l(p,S){for(var A=p.length,E=u.mallocUint8(A),m=0;m<A;++m)E[m]=p[m]<S|0;return E}function x(p,S){for(var A=p.length,E=S*(S+1)/2*A|0,m=u.mallocUint32(E*2),M=0,w=0;w<A;++w)for(var i=p[w],S=i.length,C=0;C<S;++C)for(var y=0;y<C;++y){var _=i[y],I=i[C];m[M++]=Math.min(_,I)|0,m[M++]=Math.max(_,I)|0}var N=M/2|0;n(r(m,[N,2]));for(var k=2,w=2;w<M;w+=2)m[w-2]===m[w]&&m[w-1]===m[w+1]||(m[k++]=m[w],m[k++]=m[w+1]);return r(m,[k/2|0,2])}function c(p,S,A,E){for(var m=p.data,M=p.shape[0],w=u.mallocDouble(M),i=0,C=0;C<M;++C){var y=m[2*C],_=m[2*C+1];if(A[y]!==A[_]){var I=S[y],N=S[_];m[2*i]=y,m[2*i+1]=_,w[i++]=(N-E)/(N-I)}}return p.shape[0]=i,r(w,[i])}function b(p,S){var A=u.mallocInt32(S*2),E=p.shape[0],m=p.data;A[0]=0;for(var M=0,w=0;w<E;++w){var i=m[2*w];if(i!==M){for(A[2*M+1]=w;++M<i;)A[2*M]=w,A[2*M+1]=w;A[2*M]=w}}for(A[2*M+1]=E;++M<S;)A[2*M]=A[2*M+1]=E;return A}function h(p){for(var S=p.shape[0]|0,A=p.data,E=new Array(S),m=0;m<S;++m)E[m]=[A[2*m],A[2*m+1]];return E}function o(p,S,A,E){A=A||0,typeof E>"u"&&(E=f(p));var m=p.length;if(m===0||E<1)return{cells:[],vertexIds:[],vertexWeights:[]};var M=l(S,+A),w=x(p,E),i=c(w,S,M,+A),C=b(w,S.length|0),y=s(E)(p,w.data,C,M),_=h(w),I=[].slice.call(i.data,0,i.shape[0]);return u.free(M),u.free(w.data),u.free(i.data),u.free(C),{cells:y,vertexIds:_,vertexWeights:I}}},1168:function(v){v.exports=t;var d=[function(){function u(n,s,f,l){for(var x=n.length,c=[],b=0;b<x;++b){var h=n[b];h.length}return c}return u},function(){function u(s,f,l,x){for(var c=Math.min(l,x)|0,b=Math.max(l,x)|0,h=s[2*c],o=s[2*c+1];h<o;){var p=h+o>>1,S=f[2*p+1];if(S===b)return p;b<S?o=p:h=p+1}return h}function n(s,f,l,x){for(var c=s.length,b=[],h=0;h<c;++h){var o=s[h],p=o.length;if(p===2){var S=(x[o[0]]<<0)+(x[o[1]]<<1);if(S===0||S===3)continue;switch(S){case 0:break;case 1:b.push([u(l,f,o[0],o[1])]);break;case 2:b.push([u(l,f,o[1],o[0])]);break}}}return b}return n},function(){function u(s,f,l,x){for(var c=Math.min(l,x)|0,b=Math.max(l,x)|0,h=s[2*c],o=s[2*c+1];h<o;){var p=h+o>>1,S=f[2*p+1];if(S===b)return p;b<S?o=p:h=p+1}return h}function n(s,f,l,x){for(var c=s.length,b=[],h=0;h<c;++h){var o=s[h],p=o.length;if(p===3){var S=(x[o[0]]<<0)+(x[o[1]]<<1)+(x[o[2]]<<2);if(S===0||S===7)continue;switch(S){case 0:break;case 1:b.push([u(l,f,o[0],o[2]),u(l,f,o[0],o[1])]);break;case 2:b.push([u(l,f,o[1],o[0]),u(l,f,o[1],o[2])]);break;case 3:b.push([u(l,f,o[0],o[2]),u(l,f,o[1],o[2])]);break;case 4:b.push([u(l,f,o[2],o[1]),u(l,f,o[2],o[0])]);break;case 5:b.push([u(l,f,o[2],o[1]),u(l,f,o[0],o[1])]);break;case 6:b.push([u(l,f,o[1],o[0]),u(l,f,o[2],o[0])]);break}}else if(p===2){var S=(x[o[0]]<<0)+(x[o[1]]<<1);if(S===0||S===3)continue;switch(S){case 0:break;case 1:b.push([u(l,f,o[0],o[1])]);break;case 2:b.push([u(l,f,o[1],o[0])]);break}}}return b}return n},function(){function u(s,f,l,x){for(var c=Math.min(l,x)|0,b=Math.max(l,x)|0,h=s[2*c],o=s[2*c+1];h<o;){var p=h+o>>1,S=f[2*p+1];if(S===b)return p;b<S?o=p:h=p+1}return h}function n(s,f,l,x){for(var c=s.length,b=[],h=0;h<c;++h){var o=s[h],p=o.length;if(p===4){var S=(x[o[0]]<<0)+(x[o[1]]<<1)+(x[o[2]]<<2)+(x[o[3]]<<3);if(S===0||S===15)continue;switch(S){case 0:break;case 1:b.push([u(l,f,o[0],o[1]),u(l,f,o[0],o[2]),u(l,f,o[0],o[3])]);break;case 2:b.push([u(l,f,o[1],o[2]),u(l,f,o[1],o[0]),u(l,f,o[1],o[3])]);break;case 3:b.push([u(l,f,o[1],o[2]),u(l,f,o[0],o[2]),u(l,f,o[0],o[3])],[u(l,f,o[1],o[3]),u(l,f,o[1],o[2]),u(l,f,o[0],o[3])]);break;case 4:b.push([u(l,f,o[2],o[0]),u(l,f,o[2],o[1]),u(l,f,o[2],o[3])]);break;case 5:b.push([u(l,f,o[0],o[1]),u(l,f,o[2],o[1]),u(l,f,o[0],o[3])],[u(l,f,o[2],o[1]),u(l,f,o[2],o[3]),u(l,f,o[0],o[3])]);break;case 6:b.push([u(l,f,o[2],o[0]),u(l,f,o[1],o[0]),u(l,f,o[1],o[3])],[u(l,f,o[2],o[3]),u(l,f,o[2],o[0]),u(l,f,o[1],o[3])]);break;case 7:b.push([u(l,f,o[0],o[3]),u(l,f,o[1],o[3]),u(l,f,o[2],o[3])]);break;case 8:b.push([u(l,f,o[3],o[1]),u(l,f,o[3],o[0]),u(l,f,o[3],o[2])]);break;case 9:b.push([u(l,f,o[3],o[1]),u(l,f,o[0],o[1]),u(l,f,o[0],o[2])],[u(l,f,o[3],o[2]),u(l,f,o[3],o[1]),u(l,f,o[0],o[2])]);break;case 10:b.push([u(l,f,o[1],o[0]),u(l,f,o[3],o[0]),u(l,f,o[1],o[2])],[u(l,f,o[3],o[0]),u(l,f,o[3],o[2]),u(l,f,o[1],o[2])]);break;case 11:b.push([u(l,f,o[1],o[2]),u(l,f,o[0],o[2]),u(l,f,o[3],o[2])]);break;case 12:b.push([u(l,f,o[3],o[0]),u(l,f,o[2],o[0]),u(l,f,o[2],o[1])],[u(l,f,o[3],o[1]),u(l,f,o[3],o[0]),u(l,f,o[2],o[1])]);break;case 13:b.push([u(l,f,o[0],o[1]),u(l,f,o[2],o[1]),u(l,f,o[3],o[1])]);break;case 14:b.push([u(l,f,o[2],o[0]),u(l,f,o[1],o[0]),u(l,f,o[3],o[0])]);break}}else if(p===3){var S=(x[o[0]]<<0)+(x[o[1]]<<1)+(x[o[2]]<<2);if(S===0||S===7)continue;switch(S){case 0:break;case 1:b.push([u(l,f,o[0],o[2]),u(l,f,o[0],o[1])]);break;case 2:b.push([u(l,f,o[1],o[0]),u(l,f,o[1],o[2])]);break;case 3:b.push([u(l,f,o[0],o[2]),u(l,f,o[1],o[2])]);break;case 4:b.push([u(l,f,o[2],o[1]),u(l,f,o[2],o[0])]);break;case 5:b.push([u(l,f,o[2],o[1]),u(l,f,o[0],o[1])]);break;case 6:b.push([u(l,f,o[1],o[0]),u(l,f,o[2],o[0])]);break}}else if(p===2){var S=(x[o[0]]<<0)+(x[o[1]]<<1);if(S===0||S===3)continue;switch(S){case 0:break;case 1:b.push([u(l,f,o[0],o[1])]);break;case 2:b.push([u(l,f,o[1],o[0])]);break}}}return b}return n}];function t(r){return d[r]()}},8211:function(v,d,t){t(2288),t(1731);function r(u,n){var s=u.length,f=u.length-n.length,l=Math.min;if(f)return f;switch(s){case 0:return 0;case 1:return u[0]-n[0];case 2:var o=u[0]+u[1]-n[0]-n[1];return o||l(u[0],u[1])-l(n[0],n[1]);case 3:var x=u[0]+u[1],c=n[0]+n[1];if(o=x+u[2]-(c+n[2]),o)return o;var b=l(u[0],u[1]),h=l(n[0],n[1]),o=l(b,u[2])-l(h,n[2]);return o||l(b+u[2],x)-l(h+n[2],c);default:var p=u.slice(0);p.sort();var S=n.slice(0);S.sort();for(var A=0;A<s;++A)if(f=p[A]-S[A],f)return f;return 0}}d.H=r},9392:function(v,d){"use restrict";var t=32;d.INT_BITS=t,d.INT_MAX=2147483647,d.INT_MIN=-1<<t-1,d.sign=function(n){return(n>0)-(n<0)},d.abs=function(n){var s=n>>t-1;return(n^s)-s},d.min=function(n,s){return s^(n^s)&-(n<s)},d.max=function(n,s){return n^(n^s)&-(n<s)},d.isPow2=function(n){return!(n&n-1)&&!!n},d.log2=function(n){var s,f;return s=(n>65535)<<4,n>>>=s,f=(n>255)<<3,n>>>=f,s|=f,f=(n>15)<<2,n>>>=f,s|=f,f=(n>3)<<1,n>>>=f,s|=f,s|n>>1},d.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},d.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function r(n){var s=32;return n&=-n,n&&s--,n&65535&&(s-=16),n&16711935&&(s-=8),n&252645135&&(s-=4),n&858993459&&(s-=2),n&1431655765&&(s-=1),s}d.countTrailingZeros=r,d.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},d.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},d.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var u=new Array(256);(function(n){for(var s=0;s<256;++s){var f=s,l=s,x=7;for(f>>>=1;f;f>>>=1)l<<=1,l|=f&1,--x;n[s]=l<<x&255}})(u),d.reverse=function(n){return u[n&255]<<24|u[n>>>8&255]<<16|u[n>>>16&255]<<8|u[n>>>24&255]},d.interleave2=function(n,s){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,s&=65535,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,n|s<<1},d.deinterleave2=function(n,s){return n=n>>>s&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},d.interleave3=function(n,s,f){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,s&=1023,s=(s|s<<16)&4278190335,s=(s|s<<8)&251719695,s=(s|s<<4)&3272356035,s=(s|s<<2)&1227133513,n|=s<<1,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,n|f<<2},d.deinterleave3=function(n,s){return n=n>>>s&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},d.nextCombination=function(n){var s=n|n-1;return s+1|(~s&-~s)-1>>>r(n)+1}},6656:function(v,d,t){"use restrict";var r=t(9392),u=t(9521);function n(i){for(var C=0,y=Math.max,_=0,I=i.length;_<I;++_)C=y(C,i[_].length);return C-1}d.dimension=n;function s(i){for(var C=-1,y=Math.max,_=0,I=i.length;_<I;++_)for(var N=i[_],k=0,O=N.length;k<O;++k)C=y(C,N[k]);return C+1}d.countVertices=s;function f(i){for(var C=new Array(i.length),y=0,_=i.length;y<_;++y)C[y]=i[y].slice(0);return C}d.cloneCells=f;function l(i,C){var y=i.length,_=i.length-C.length,I=Math.min;if(_)return _;switch(y){case 0:return 0;case 1:return i[0]-C[0];case 2:var F=i[0]+i[1]-C[0]-C[1];return F||I(i[0],i[1])-I(C[0],C[1]);case 3:var N=i[0]+i[1],k=C[0]+C[1];if(F=N+i[2]-(k+C[2]),F)return F;var O=I(i[0],i[1]),z=I(C[0],C[1]),F=I(O,i[2])-I(z,C[2]);return F||I(O+i[2],N)-I(z+C[2],k);default:var B=i.slice(0);B.sort();var G=C.slice(0);G.sort();for(var Q=0;Q<y;++Q)if(_=B[Q]-G[Q],_)return _;return 0}}d.compareCells=l;function x(i,C){return l(i[0],C[0])}function c(i,C){if(C){for(var y=i.length,_=new Array(y),I=0;I<y;++I)_[I]=[i[I],C[I]];_.sort(x);for(var I=0;I<y;++I)i[I]=_[I][0],C[I]=_[I][1];return i}else return i.sort(l),i}d.normalize=c;function b(i){if(i.length===0)return[];for(var C=1,y=i.length,_=1;_<y;++_){var I=i[_];if(l(I,i[_-1])){if(_===C){C++;continue}i[C++]=I}}return i.length=C,i}d.unique=b;function h(i,C){for(var y=0,_=i.length-1,I=-1;y<=_;){var N=y+_>>1,k=l(i[N],C);k<=0?(k===0&&(I=N),y=N+1):k>0&&(_=N-1)}return I}d.findCell=h;function o(i,C){for(var y=new Array(i.length),_=0,I=y.length;_<I;++_)y[_]=[];for(var N=[],_=0,k=C.length;_<k;++_)for(var O=C[_],z=O.length,F=1,B=1<<z;F<B;++F){N.length=r.popCount(F);for(var G=0,Q=0;Q<z;++Q)F&1<<Q&&(N[G++]=O[Q]);var ee=h(i,N);if(!(ee<0))for(;y[ee++].push(_),!(ee>=i.length||l(i[ee],N)!==0););}return y}d.incidence=o;function p(i,C){if(!C)return o(b(A(i,0)),i);for(var y=new Array(C),_=0;_<C;++_)y[_]=[];for(var _=0,I=i.length;_<I;++_)for(var N=i[_],k=0,O=N.length;k<O;++k)y[N[k]].push(_);return y}d.dual=p;function S(i){for(var C=[],y=0,_=i.length;y<_;++y)for(var I=i[y],N=I.length|0,k=1,O=1<<N;k<O;++k){for(var z=[],F=0;F<N;++F)k>>>F&1&&z.push(I[F]);C.push(z)}return c(C)}d.explode=S;function A(i,C){if(C<0)return[];for(var y=[],_=(1<<C+1)-1,I=0;I<i.length;++I)for(var N=i[I],k=_;k<1<<N.length;k=r.nextCombination(k)){for(var O=new Array(C+1),z=0,F=0;F<N.length;++F)k&1<<F&&(O[z++]=N[F]);y.push(O)}return c(y)}d.skeleton=A;function E(i){for(var C=[],y=0,_=i.length;y<_;++y)for(var I=i[y],N=0,k=I.length;N<k;++N){for(var O=new Array(I.length-1),z=0,F=0;z<k;++z)z!==N&&(O[F++]=I[z]);C.push(O)}return c(C)}d.boundary=E;function m(i,C){for(var y=new u(C),_=0;_<i.length;++_)for(var I=i[_],N=0;N<I.length;++N)for(var k=N+1;k<I.length;++k)y.link(I[N],I[k]);for(var O=[],z=y.ranks,_=0;_<z.length;++_)z[_]=-1;for(var _=0;_<i.length;++_){var F=y.find(i[_][0]);z[F]<0?(z[F]=O.length,O.push([i[_].slice(0)])):O[z[F]].push(i[_].slice(0))}return O}function M(i){for(var C=b(c(A(i,0))),y=new u(C.length),_=0;_<i.length;++_)for(var I=i[_],N=0;N<I.length;++N)for(var k=h(C,[I[N]]),O=N+1;O<I.length;++O)y.link(k,h(C,[I[O]]));for(var z=[],F=y.ranks,_=0;_<F.length;++_)F[_]=-1;for(var _=0;_<i.length;++_){var B=y.find(h(C,[i[_][0]]));F[B]<0?(F[B]=z.length,z.push([i[_].slice(0)])):z[F[B]].push(i[_].slice(0))}return z}function w(i,C){return C?m(i,C):M(i)}d.connectedComponents=w},9521:function(v){"use restrict";v.exports=d;function d(t){this.roots=new Array(t),this.ranks=new Array(t);for(var r=0;r<t;++r)this.roots[r]=r,this.ranks[r]=0}d.prototype.length=function(){return this.roots.length},d.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},d.prototype.find=function(t){for(var r=this.roots;r[t]!==t;){var u=r[t];r[t]=r[u],t=u}return t},d.prototype.link=function(t,r){var u=this.find(t),n=this.find(r);if(u!==n){var s=this.ranks,f=this.roots,l=s[u],x=s[n];l<x?f[u]=n:x<l?f[n]=u:(f[n]=u,++s[u])}}},8243:function(v,d,t){v.exports=s;var r=t(417),u=t(6656);function n(f,l,x){var c=Math.abs(r(f,l,x)),b=Math.sqrt(Math.pow(l[0]-x[0],2)+Math.pow(l[1]-x[1],2));return c/b}function s(f,l,x){for(var c=l.length,b=f.length,h=new Array(c),o=new Array(c),p=new Array(c),S=new Array(c),A=0;A<c;++A)h[A]=o[A]=-1,p[A]=1/0,S[A]=!1;for(var A=0;A<b;++A){var E=f[A];if(E.length!==2)throw new Error("Input must be a graph");var m=E[1],M=E[0];o[M]!==-1?o[M]=-2:o[M]=m,h[m]!==-1?h[m]=-2:h[m]=M}function w(K){if(S[K])return 1/0;var W=h[K],Z=o[K];return W<0||Z<0?1/0:n(l[K],l[W],l[Z])}function i(K,W){var Z=z[K],X=z[W];z[K]=X,z[W]=Z,F[Z]=W,F[X]=K}function C(K){return p[z[K]]}function y(K){return K&1?K-1>>1:(K>>1)-1}function _(K){for(var W=C(K);;){var Z=W,X=2*K+1,$=2*(K+1),ie=K;if(X<G){var J=C(X);J<Z&&(ie=X,Z=J)}if($<G){var j=C($);j<Z&&(ie=$)}if(ie===K)return K;i(K,ie),K=ie}}function I(K){for(var W=C(K);K>0;){var Z=y(K);if(Z>=0){var X=C(Z);if(W<X){i(K,Z),K=Z;continue}}return K}}function N(){if(G>0){var K=z[0];return i(0,G-1),G-=1,_(0),K}return-1}function k(K,W){var Z=z[K];return p[Z]===W?K:(p[Z]=-1/0,I(K),N(),p[Z]=W,G+=1,I(G-1))}function O(K){if(!S[K]){S[K]=!0;var W=h[K],Z=o[K];h[Z]>=0&&(h[Z]=W),o[W]>=0&&(o[W]=Z),F[W]>=0&&k(F[W],w(W)),F[Z]>=0&&k(F[Z],w(Z))}}for(var z=[],F=new Array(c),A=0;A<c;++A){var B=p[A]=w(A);B<1/0?(F[A]=z.length,z.push(A)):F[A]=-1}for(var G=z.length,A=G>>1;A>=0;--A)_(A);for(;;){var Q=N();if(Q<0||p[Q]>x)break;O(Q)}for(var ee=[],A=0;A<c;++A)S[A]||(F[A]=ee.length,ee.push(l[A].slice()));ee.length;function ae(K,W){if(K[W]<0)return W;var Z=W,X=W;do{var $=K[X];if(!S[X]||$<0||$===X||(X=$,$=K[X],!S[X]||$<0||$===X))break;X=$,Z=K[Z]}while(Z!==X);for(var ie=W;ie!==X;ie=K[ie])K[ie]=X;return X}var fe=[];return f.forEach(function(K){var W=ae(h,K[0]),Z=ae(o,K[1]);if(W>=0&&Z>=0&&W!==Z){var X=F[W],$=F[Z];X!==$&&fe.push([X,$])}}),u.unique(u.normalize(fe)),{positions:ee,edges:fe}}},6638:function(v,d,t){v.exports=n;var r=t(417);function u(s,f){var l,x;if(f[0][0]<f[1][0])l=f[0],x=f[1];else if(f[0][0]>f[1][0])l=f[1],x=f[0];else{var c=Math.min(s[0][1],s[1][1]),b=Math.max(s[0][1],s[1][1]),h=Math.min(f[0][1],f[1][1]),o=Math.max(f[0][1],f[1][1]);return b<h?b-h:c>o?c-o:b-o}var p,S;s[0][1]<s[1][1]?(p=s[0],S=s[1]):(p=s[1],S=s[0]);var A=r(x,l,p);return A||(A=r(x,l,S),A)?A:S-x}function n(s,f){var l,x;if(f[0][0]<f[1][0])l=f[0],x=f[1];else if(f[0][0]>f[1][0])l=f[1],x=f[0];else return u(f,s);var c,b;if(s[0][0]<s[1][0])c=s[0],b=s[1];else if(s[0][0]>s[1][0])c=s[1],b=s[0];else return-u(s,f);var h=r(l,x,b),o=r(l,x,c);if(h<0){if(o<=0)return h}else if(h>0){if(o>=0)return h}else if(o)return o;if(h=r(b,c,x),o=r(b,c,l),h<0){if(o<=0)return h}else if(h>0){if(o>=0)return h}else if(o)return o;return x[0]-b[0]}},4385:function(v,d,t){v.exports=o;var r=t(5070),u=t(7080),n=t(417),s=t(6638);function f(p,S,A){this.slabs=p,this.coordinates=S,this.horizontal=A}var l=f.prototype;function x(p,S){return p.y-S}function c(p,S){for(var A=null;p;){var E=p.key,m,M;E[0][0]<E[1][0]?(m=E[0],M=E[1]):(m=E[1],M=E[0]);var w=n(m,M,S);if(w<0)p=p.left;else if(w>0)if(S[0]!==E[1][0])A=p,p=p.right;else{var i=c(p.right,S);if(i)return i;p=p.left}else{if(S[0]!==E[1][0])return p;var i=c(p.right,S);if(i)return i;p=p.left}}return A}l.castUp=function(p){var S=r.le(this.coordinates,p[0]);if(S<0)return-1;this.slabs[S];var A=c(this.slabs[S],p),E=-1;if(A&&(E=A.value),this.coordinates[S]===p[0]){var m=null;if(A&&(m=A.key),S>0){var M=c(this.slabs[S-1],p);M&&(m?s(M.key,m)>0&&(m=M.key,E=M.value):(E=M.value,m=M.key))}var w=this.horizontal[S];if(w.length>0){var i=r.ge(w,p[1],x);if(i<w.length){var C=w[i];if(p[1]===C.y){if(C.closed)return C.index;for(;i<w.length-1&&w[i+1].y===p[1];)if(i=i+1,C=w[i],C.closed)return C.index;if(C.y===p[1]&&!C.start){if(i=i+1,i>=w.length)return E;C=w[i]}}if(C.start)if(m){var y=n(m[0],m[1],[p[0],C.y]);m[0][0]>m[1][0]&&(y=-y),y>0&&(E=C.index)}else E=C.index;else C.y!==p[1]&&(E=C.index)}}}return E};function b(p,S,A,E){this.y=p,this.index=S,this.start=A,this.closed=E}function h(p,S,A,E){this.x=p,this.segment=S,this.create=A,this.index=E}function o(p){for(var S=p.length,A=2*S,E=new Array(A),m=0;m<S;++m){var M=p[m],w=M[0][0]<M[1][0];E[2*m]=new h(M[0][0],M,w,m),E[2*m+1]=new h(M[1][0],M,!w,m)}E.sort(function(O,z){var F=O.x-z.x;return F||(F=O.create-z.create,F)?F:Math.min(O.segment[0][1],O.segment[1][1])-Math.min(z.segment[0][1],z.segment[1][1])});for(var i=u(s),C=[],y=[],_=[],m=0;m<A;){for(var I=E[m].x,N=[];m<A;){var k=E[m];if(k.x!==I)break;m+=1,k.segment[0][0]===k.x&&k.segment[1][0]===k.x?k.create&&(k.segment[0][1]<k.segment[1][1]?(N.push(new b(k.segment[0][1],k.index,!0,!0)),N.push(new b(k.segment[1][1],k.index,!1,!1))):(N.push(new b(k.segment[1][1],k.index,!0,!1)),N.push(new b(k.segment[0][1],k.index,!1,!0)))):k.create?i=i.insert(k.segment,k.index):i=i.remove(k.segment)}C.push(i.root),y.push(I),_.push(N)}return new f(C,y,_)}},4670:function(v,d,t){var r=t(9130),u=t(9662);v.exports=f,v.exports.positive=l,v.exports.negative=x;function n(c,b){var h=u(r(c,b),[b[b.length-1]]);return h[h.length-1]}function s(c,b,h,o){var p=o-b,S=-b/p;S<0?S=0:S>1&&(S=1);for(var A=1-S,E=c.length,m=new Array(E),M=0;M<E;++M)m[M]=S*c[M]+A*h[M];return m}function f(c,b){for(var h=[],o=[],p=n(c[c.length-1],b),S=c[c.length-1],A=c[0],E=0;E<c.length;++E,S=A){A=c[E];var m=n(A,b);if(p<0&&m>0||p>0&&m<0){var M=s(S,m,A,p);h.push(M),o.push(M.slice())}m<0?o.push(A.slice()):m>0?h.push(A.slice()):(h.push(A.slice()),o.push(A.slice())),p=m}return{positive:h,negative:o}}function l(c,b){for(var h=[],o=n(c[c.length-1],b),p=c[c.length-1],S=c[0],A=0;A<c.length;++A,p=S){S=c[A];var E=n(S,b);(o<0&&E>0||o>0&&E<0)&&h.push(s(p,E,S,o)),E>=0&&h.push(S.slice()),o=E}return h}function x(c,b){for(var h=[],o=n(c[c.length-1],b),p=c[c.length-1],S=c[0],A=0;A<c.length;++A,p=S){S=c[A];var E=n(S,b);(o<0&&E>0||o>0&&E<0)&&h.push(s(p,E,S,o)),E<=0&&h.push(S.slice()),o=E}return h}},8974:function(v,d,t){var r;(function(){var u={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(c){return f(x(c),arguments)}function s(c,b){return n.apply(null,[c].concat(b||[]))}function f(c,b){var h=1,o=c.length,p,S="",A,E,m,M,w,i,C,y;for(A=0;A<o;A++)if(typeof c[A]=="string")S+=c[A];else if(typeof c[A]=="object"){if(m=c[A],m.keys)for(p=b[h],E=0;E<m.keys.length;E++){if(p==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',m.keys[E],m.keys[E-1]));p=p[m.keys[E]]}else m.param_no?p=b[m.param_no]:p=b[h++];if(u.not_type.test(m.type)&&u.not_primitive.test(m.type)&&p instanceof Function&&(p=p()),u.numeric_arg.test(m.type)&&typeof p!="number"&&isNaN(p))throw new TypeError(n("[sprintf] expecting number but found %T",p));switch(u.number.test(m.type)&&(C=p>=0),m.type){case"b":p=parseInt(p,10).toString(2);break;case"c":p=String.fromCharCode(parseInt(p,10));break;case"d":case"i":p=parseInt(p,10);break;case"j":p=JSON.stringify(p,null,m.width?parseInt(m.width):0);break;case"e":p=m.precision?parseFloat(p).toExponential(m.precision):parseFloat(p).toExponential();break;case"f":p=m.precision?parseFloat(p).toFixed(m.precision):parseFloat(p);break;case"g":p=m.precision?String(Number(p.toPrecision(m.precision))):parseFloat(p);break;case"o":p=(parseInt(p,10)>>>0).toString(8);break;case"s":p=String(p),p=m.precision?p.substring(0,m.precision):p;break;case"t":p=String(!!p),p=m.precision?p.substring(0,m.precision):p;break;case"T":p=Object.prototype.toString.call(p).slice(8,-1).toLowerCase(),p=m.precision?p.substring(0,m.precision):p;break;case"u":p=parseInt(p,10)>>>0;break;case"v":p=p.valueOf(),p=m.precision?p.substring(0,m.precision):p;break;case"x":p=(parseInt(p,10)>>>0).toString(16);break;case"X":p=(parseInt(p,10)>>>0).toString(16).toUpperCase();break}u.json.test(m.type)?S+=p:(u.number.test(m.type)&&(!C||m.sign)?(y=C?"+":"-",p=p.toString().replace(u.sign,"")):y="",w=m.pad_char?m.pad_char==="0"?"0":m.pad_char.charAt(1):" ",i=m.width-(y+p).length,M=m.width&&i>0?w.repeat(i):"",S+=m.align?y+p+M:w==="0"?y+M+p:M+y+p)}return S}var l=Object.create(null);function x(c){if(l[c])return l[c];for(var b=c,h,o=[],p=0;b;){if((h=u.text.exec(b))!==null)o.push(h[0]);else if((h=u.modulo.exec(b))!==null)o.push("%");else if((h=u.placeholder.exec(b))!==null){if(h[2]){p|=1;var S=[],A=h[2],E=[];if((E=u.key.exec(A))!==null)for(S.push(E[1]);(A=A.substring(E[0].length))!=="";)if((E=u.key_access.exec(A))!==null)S.push(E[1]);else if((E=u.index_access.exec(A))!==null)S.push(E[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");h[2]=S}else p|=2;if(p===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");o.push({placeholder:h[0],param_no:h[1],keys:h[2],sign:h[3],pad_char:h[4],align:h[5],width:h[6],precision:h[7],type:h[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");b=b.substring(h[0].length)}return l[c]=o}d.sprintf=n,d.vsprintf=s,typeof window<"u"&&(window.sprintf=n,window.vsprintf=s,r=(function(){return{sprintf:n,vsprintf:s}}).call(d,t,d,v),r!==void 0&&(v.exports=r))})()},4162:function(v,d,t){v.exports=x;var r=t(9284),u=t(9584),n={"2d":function(c,b,h){var o=c({order:b,scalarArguments:3,getters:h==="generic"?[0]:void 0,phase:function(S,A,E,m){return S>m|0},vertex:function(S,A,E,m,M,w,i,C,y,_,I,N,k){var O=(i<<0)+(C<<1)+(y<<2)+(_<<3)|0;if(!(O===0||O===15))switch(O){case 0:I.push([S-.5,A-.5]);break;case 1:I.push([S-.25-.25*(m+E-2*k)/(E-m),A-.25-.25*(M+E-2*k)/(E-M)]);break;case 2:I.push([S-.75-.25*(-m-E+2*k)/(m-E),A-.25-.25*(w+m-2*k)/(m-w)]);break;case 3:I.push([S-.5,A-.5-.5*(M+E+w+m-4*k)/(E-M+m-w)]);break;case 4:I.push([S-.25-.25*(w+M-2*k)/(M-w),A-.75-.25*(-M-E+2*k)/(M-E)]);break;case 5:I.push([S-.5-.5*(m+E+w+M-4*k)/(E-m+M-w),A-.5]);break;case 6:I.push([S-.5-.25*(-m-E+w+M)/(m-E+M-w),A-.5-.25*(-M-E+w+m)/(M-E+m-w)]);break;case 7:I.push([S-.75-.25*(w+M-2*k)/(M-w),A-.75-.25*(w+m-2*k)/(m-w)]);break;case 8:I.push([S-.75-.25*(-w-M+2*k)/(w-M),A-.75-.25*(-w-m+2*k)/(w-m)]);break;case 9:I.push([S-.5-.25*(m+E+-w-M)/(E-m+w-M),A-.5-.25*(M+E+-w-m)/(E-M+w-m)]);break;case 10:I.push([S-.5-.5*(-m-E+-w-M+4*k)/(m-E+w-M),A-.5]);break;case 11:I.push([S-.25-.25*(-w-M+2*k)/(w-M),A-.75-.25*(M+E-2*k)/(E-M)]);break;case 12:I.push([S-.5,A-.5-.5*(-M-E+-w-m+4*k)/(M-E+w-m)]);break;case 13:I.push([S-.75-.25*(m+E-2*k)/(E-m),A-.25-.25*(-w-m+2*k)/(w-m)]);break;case 14:I.push([S-.25-.25*(-m-E+2*k)/(m-E),A-.25-.25*(-M-E+2*k)/(M-E)]);break;case 15:I.push([S-.5,A-.5]);break}},cell:function(S,A,E,m,M,w,i,C,y){M?C.push([S,A]):C.push([A,S])}});return function(p,S){var A=[],E=[];return o(p,A,E,S),{positions:A,cells:E}}}};function s(c,b){var h=c.length+"d",o=n[h];if(o)return o(r,c,b)}function f(c,b){for(var h=u(c,b),o=h.length,p=new Array(o),S=new Array(o),A=0;A<o;++A)p[A]=[h[A]],S[A]=[A];return{positions:p,cells:S}}var l={};function x(c,p){if(c.dimension<=0)return{positions:[],cells:[]};if(c.dimension===1)return f(c,p);var h=c.order.join()+"-"+c.dtype,o=l[h],p=+p||0;return o||(o=l[h]=s(c.order,c.dtype)),o(c,p)}},6946:function(v,d,t){v.exports=f;var r=t(875),u=window||g.global||{},n=u.__TEXT_CACHE||{};u.__TEXT_CACHE={};function s(l){for(var x=l.cells,c=l.positions,b=new Float32Array(x.length*6),h=0,o=0,p=0;p<x.length;++p)for(var S=x[p],A=0;A<3;++A){var E=c[S[A]];b[h++]=E[0],b[h++]=E[1]+1.4,o=Math.max(E[0],o)}return{data:b,shape:o}}function f(l,x,b){var b=b||{},h=n[l];h||(h=n[l]={" ":{data:new Float32Array(0),shape:.2}});var o=h[x];if(!o)if(x.length<=1||!/\d/.test(x))o=h[x]=s(r(x,{triangles:!0,font:l,textAlign:b.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var p=x.split(/(\d|\s)/),S=new Array(p.length),A=0,E=0,m=0;m<p.length;++m)S[m]=f(l,p[m]),A+=S[m].data.length,E+=S[m].shape,m>0&&(E+=.02);for(var M=new Float32Array(A),w=0,i=-.5*E,m=0;m<S.length;++m){for(var C=S[m].data,y=0;y<C.length;y+=2)M[w++]=C[y]+i,M[w++]=C[y+1];i+=S[m].shape+.02}o=h[x]={data:M,shape:E}}return o}},14:function(v,d,t){var r=t(4405);v.exports=f;var u=96;function n(l,x){var c=r(getComputedStyle(l).getPropertyValue(x));return c[0]*f(c[1],l)}function s(l,x){var c=document.createElement("div");c.style["font-size"]="128"+l,x.appendChild(c);var b=n(c,"font-size")/128;return x.removeChild(c),b}function f(l,x){switch(x=x||document.body,l=(l||"px").trim().toLowerCase(),(x===window||x===document)&&(x=document.body),l){case"%":return x.clientHeight/100;case"ch":case"ex":return s(l,x);case"em":return n(x,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return u;case"cm":return u/2.54;case"mm":return u/25.4;case"pt":return u/72;case"pc":return u/6}return 1}},3440:function(v,d,t){v.exports=S;var r=t(8444),u=t(7437),n=t(4422),s=t(903),f=t(899),l=t(9305);function x(A,E,m){return Math.sqrt(Math.pow(A,2)+Math.pow(E,2)+Math.pow(m,2))}function c(A){return Math.min(1,Math.max(-1,A))}function b(A){var E=Math.abs(A[0]),m=Math.abs(A[1]),M=Math.abs(A[2]),w=[0,0,0];E>Math.max(m,M)?w[2]=1:m>Math.max(E,M)?w[0]=1:w[1]=1;for(var i=0,C=0,y=0;y<3;++y)i+=A[y]*A[y],C+=w[y]*A[y];for(var y=0;y<3;++y)w[y]-=C/i*A[y];return f(w,w),w}function h(A,E,m,M,w,i,C,y){this.center=r(m),this.up=r(M),this.right=r(w),this.radius=r([i]),this.angle=r([C,y]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(A,E),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var _=0;_<16;++_)this.computedMatrix[_]=.5;this.recalcMatrix(0)}var o=h.prototype;o.setDistanceLimits=function(A,E){A>0?A=Math.log(A):A=-1/0,E>0?E=Math.log(E):E=1/0,E=Math.max(E,A),this.radius.bounds[0][0]=A,this.radius.bounds[1][0]=E},o.getDistanceLimits=function(A){var E=this.radius.bounds[0];return A?(A[0]=Math.exp(E[0][0]),A[1]=Math.exp(E[1][0]),A):[Math.exp(E[0][0]),Math.exp(E[1][0])]},o.recalcMatrix=function(A){this.center.curve(A),this.up.curve(A),this.right.curve(A),this.radius.curve(A),this.angle.curve(A);for(var E=this.computedUp,m=this.computedRight,M=0,w=0,i=0;i<3;++i)w+=E[i]*m[i],M+=E[i]*E[i];for(var C=Math.sqrt(M),y=0,i=0;i<3;++i)m[i]-=E[i]*w/M,y+=m[i]*m[i],E[i]/=C;for(var _=Math.sqrt(y),i=0;i<3;++i)m[i]/=_;var I=this.computedToward;s(I,E,m),f(I,I);for(var N=Math.exp(this.computedRadius[0]),k=this.computedAngle[0],O=this.computedAngle[1],z=Math.cos(k),F=Math.sin(k),B=Math.cos(O),G=Math.sin(O),Q=this.computedCenter,ee=z*B,ae=F*B,fe=G,K=-z*G,W=-F*G,Z=B,X=this.computedEye,$=this.computedMatrix,i=0;i<3;++i){var ie=ee*m[i]+ae*I[i]+fe*E[i];$[4*i+1]=K*m[i]+W*I[i]+Z*E[i],$[4*i+2]=ie,$[4*i+3]=0}var J=$[1],j=$[5],se=$[9],ne=$[2],ue=$[6],ge=$[10],we=j*ge-se*ue,xe=se*ne-J*ge,Fe=J*ue-j*ne,ze=x(we,xe,Fe);we/=ze,xe/=ze,Fe/=ze,$[0]=we,$[4]=xe,$[8]=Fe;for(var i=0;i<3;++i)X[i]=Q[i]+$[2+4*i]*N;for(var i=0;i<3;++i){for(var y=0,Te=0;Te<3;++Te)y+=$[i+4*Te]*X[Te];$[12+i]=-y}$[15]=1},o.getMatrix=function(A,E){this.recalcMatrix(A);var m=this.computedMatrix;if(E){for(var M=0;M<16;++M)E[M]=m[M];return E}return m};var p=[0,0,0];o.rotate=function(A,E,m,M){if(this.angle.move(A,E,m),M){this.recalcMatrix(A);var w=this.computedMatrix;p[0]=w[2],p[1]=w[6],p[2]=w[10];for(var i=this.computedUp,C=this.computedRight,y=this.computedToward,_=0;_<3;++_)w[4*_]=i[_],w[4*_+1]=C[_],w[4*_+2]=y[_];n(w,w,M,p);for(var _=0;_<3;++_)i[_]=w[4*_],C[_]=w[4*_+1];this.up.set(A,i[0],i[1],i[2]),this.right.set(A,C[0],C[1],C[2])}},o.pan=function(A,E,m,M){E=E||0,m=m||0,M=M||0,this.recalcMatrix(A);var w=this.computedMatrix;Math.exp(this.computedRadius[0]);var i=w[1],C=w[5],y=w[9],_=x(i,C,y);i/=_,C/=_,y/=_;var I=w[0],N=w[4],k=w[8],O=I*i+N*C+k*y;I-=i*O,N-=C*O,k-=y*O;var z=x(I,N,k);I/=z,N/=z,k/=z;var F=I*E+i*m,B=N*E+C*m,G=k*E+y*m;this.center.move(A,F,B,G);var Q=Math.exp(this.computedRadius[0]);Q=Math.max(1e-4,Q+M),this.radius.set(A,Math.log(Q))},o.translate=function(A,E,m,M){this.center.move(A,E||0,m||0,M||0)},o.setMatrix=function(A,E,m,M){var w=1;typeof m=="number"&&(w=m|0),(w<0||w>3)&&(w=1);var i=(w+2)%3;E||(this.recalcMatrix(A),E=this.computedMatrix);var C=E[w],y=E[w+4],_=E[w+8];if(M){var N=Math.abs(C),k=Math.abs(y),O=Math.abs(_),z=Math.max(N,k,O);N===z?(C=C<0?-1:1,y=_=0):O===z?(_=_<0?-1:1,C=y=0):(y=y<0?-1:1,C=_=0)}else{var I=x(C,y,_);C/=I,y/=I,_/=I}var F=E[i],B=E[i+4],G=E[i+8],Q=F*C+B*y+G*_;F-=C*Q,B-=y*Q,G-=_*Q;var ee=x(F,B,G);F/=ee,B/=ee,G/=ee;var ae=y*G-_*B,fe=_*F-C*G,K=C*B-y*F,W=x(ae,fe,K);ae/=W,fe/=W,K/=W,this.center.jump(A,Ue,Re,Ve),this.radius.idle(A),this.up.jump(A,C,y,_),this.right.jump(A,F,B,G);var Z,X;if(w===2){var $=E[1],ie=E[5],J=E[9],j=$*F+ie*B+J*G,se=$*ae+ie*fe+J*K;we<0?Z=-Math.PI/2:Z=Math.PI/2,X=Math.atan2(se,j)}else{var ne=E[2],ue=E[6],ge=E[10],we=ne*C+ue*y+ge*_,xe=ne*F+ue*B+ge*G,Fe=ne*ae+ue*fe+ge*K;Z=Math.asin(c(we)),X=Math.atan2(Fe,xe)}this.angle.jump(A,X,Z),this.recalcMatrix(A);var ze=E[2],Te=E[6],ye=E[10],Ae=this.computedMatrix;u(Ae,E);var Ne=Ae[15],Ue=Ae[12]/Ne,Re=Ae[13]/Ne,Ve=Ae[14]/Ne,rt=Math.exp(this.computedRadius[0]);this.center.jump(A,Ue-ze*rt,Re-Te*rt,Ve-ye*rt)},o.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},o.idle=function(A){this.center.idle(A),this.up.idle(A),this.right.idle(A),this.radius.idle(A),this.angle.idle(A)},o.flush=function(A){this.center.flush(A),this.up.flush(A),this.right.flush(A),this.radius.flush(A),this.angle.flush(A)},o.setDistance=function(A,E){E>0&&this.radius.set(A,Math.log(E))},o.lookAt=function(A,E,m,M){this.recalcMatrix(A),E=E||this.computedEye,m=m||this.computedCenter,M=M||this.computedUp;var w=M[0],i=M[1],C=M[2],y=x(w,i,C);if(!(y<1e-6)){w/=y,i/=y,C/=y;var _=E[0]-m[0],I=E[1]-m[1],N=E[2]-m[2],k=x(_,I,N);if(!(k<1e-6)){_/=k,I/=k,N/=k;var O=this.computedRight,z=O[0],F=O[1],B=O[2],G=w*z+i*F+C*B;z-=G*w,F-=G*i,B-=G*C;var Q=x(z,F,B);if(!(Q<.01&&(z=i*N-C*I,F=C*_-w*N,B=w*I-i*_,Q=x(z,F,B),Q<1e-6))){z/=Q,F/=Q,B/=Q,this.up.set(A,w,i,C),this.right.set(A,z,F,B),this.center.set(A,m[0],m[1],m[2]),this.radius.set(A,Math.log(k));var ee=i*B-C*F,ae=C*z-w*B,fe=w*F-i*z,K=x(ee,ae,fe);ee/=K,ae/=K,fe/=K;var W=w*_+i*I+C*N,Z=z*_+F*I+B*N,X=ee*_+ae*I+fe*N,$=Math.asin(c(W)),ie=Math.atan2(X,Z),J=this.angle._state,j=J[J.length-1],se=J[J.length-2];j=j%(2*Math.PI);var ne=Math.abs(j+2*Math.PI-ie),ue=Math.abs(j-ie),ge=Math.abs(j-2*Math.PI-ie);ne<ue&&(j+=2*Math.PI),ge<ue&&(j-=2*Math.PI),this.angle.jump(this.angle.lastT(),j,se),this.angle.set(A,ie,$)}}}};function S(A){A=A||{};var E=A.center||[0,0,0],m=A.up||[0,1,0],M=A.right||b(m),w=A.radius||1,i=A.theta||0,C=A.phi||0;if(E=[].slice.call(E,0,3),m=[].slice.call(m,0,3),f(m,m),M=[].slice.call(M,0,3),f(M,M),"eye"in A){var y=A.eye,_=[y[0]-E[0],y[1]-E[1],y[2]-E[2]];s(M,_,m),x(M[0],M[1],M[2])<1e-6?M=b(m):f(M,M),w=x(_[0],_[1],_[2]);var I=l(m,_)/w,N=l(M,_)/w;C=Math.acos(I),i=Math.acos(N)}return w=Math.log(w),new h(A.zoomMin,A.zoomMax,E,m,M,w,i,C)}},9660:function(v){v.exports=t;var d=+(Math.pow(2,27)+1);function t(r,u,n){var s=r*u,f=d*r,l=f-r,x=f-l,c=r-x,b=d*u,h=b-u,o=b-h,p=u-o,S=s-x*o,A=S-c*o,E=A-x*p,m=c*p-E;return n?(n[0]=m,n[1]=s,n):[m,s]}},87:function(v){v.exports=d;function d(t,r,u){var n=t+r,s=n-t,f=n-s,l=r-s,x=t-f;return u?(u[0]=x+l,u[1]=n,u):[x+l,n]}},5306:function(v,d,t){var r=t(2288),u=t(3094),n=t(2146).lW;t.g.__TYPEDARRAY_POOL||(t.g.__TYPEDARRAY_POOL={UINT8:u([32,0]),UINT16:u([32,0]),UINT32:u([32,0]),BIGUINT64:u([32,0]),INT8:u([32,0]),INT16:u([32,0]),INT32:u([32,0]),BIGINT64:u([32,0]),FLOAT:u([32,0]),DOUBLE:u([32,0]),DATA:u([32,0]),UINT8C:u([32,0]),BUFFER:u([32,0])});var s=typeof Uint8ClampedArray<"u",f=typeof BigUint64Array<"u",l=typeof BigInt64Array<"u",x=t.g.__TYPEDARRAY_POOL;x.UINT8C||(x.UINT8C=u([32,0])),x.BIGUINT64||(x.BIGUINT64=u([32,0])),x.BIGINT64||(x.BIGINT64=u([32,0])),x.BUFFER||(x.BUFFER=u([32,0]));var c=x.DATA,b=x.BUFFER;d.free=function(z){if(n.isBuffer(z))b[r.log2(z.length)].push(z);else{if(Object.prototype.toString.call(z)!=="[object ArrayBuffer]"&&(z=z.buffer),!z)return;var F=z.length||z.byteLength,B=r.log2(F)|0;c[B].push(z)}};function h(O){if(O){var z=O.length||O.byteLength,F=r.log2(z);c[F].push(O)}}function o(O){h(O.buffer)}d.freeUint8=d.freeUint16=d.freeUint32=d.freeBigUint64=d.freeInt8=d.freeInt16=d.freeInt32=d.freeBigInt64=d.freeFloat32=d.freeFloat=d.freeFloat64=d.freeDouble=d.freeUint8Clamped=d.freeDataView=o,d.freeArrayBuffer=h,d.freeBuffer=function(z){b[r.log2(z.length)].push(z)},d.malloc=function(z,F){if(F===void 0||F==="arraybuffer")return p(z);switch(F){case"uint8":return S(z);case"uint16":return A(z);case"uint32":return E(z);case"int8":return m(z);case"int16":return M(z);case"int32":return w(z);case"float":case"float32":return i(z);case"double":case"float64":return C(z);case"uint8_clamped":return y(z);case"bigint64":return I(z);case"biguint64":return _(z);case"buffer":return k(z);case"data":case"dataview":return N(z);default:return null}return null};function p(z){var z=r.nextPow2(z),F=r.log2(z),B=c[F];return B.length>0?B.pop():new ArrayBuffer(z)}d.mallocArrayBuffer=p;function S(O){return new Uint8Array(p(O),0,O)}d.mallocUint8=S;function A(O){return new Uint16Array(p(2*O),0,O)}d.mallocUint16=A;function E(O){return new Uint32Array(p(4*O),0,O)}d.mallocUint32=E;function m(O){return new Int8Array(p(O),0,O)}d.mallocInt8=m;function M(O){return new Int16Array(p(2*O),0,O)}d.mallocInt16=M;function w(O){return new Int32Array(p(4*O),0,O)}d.mallocInt32=w;function i(O){return new Float32Array(p(4*O),0,O)}d.mallocFloat32=d.mallocFloat=i;function C(O){return new Float64Array(p(8*O),0,O)}d.mallocFloat64=d.mallocDouble=C;function y(O){return s?new Uint8ClampedArray(p(O),0,O):S(O)}d.mallocUint8Clamped=y;function _(O){return f?new BigUint64Array(p(8*O),0,O):null}d.mallocBigUint64=_;function I(O){return l?new BigInt64Array(p(8*O),0,O):null}d.mallocBigInt64=I;function N(O){return new DataView(p(O),0,O)}d.mallocDataView=N;function k(O){O=r.nextPow2(O);var z=r.log2(O),F=b[z];return F.length>0?F.pop():new n(O)}d.mallocBuffer=k,d.clearCache=function(){for(var z=0;z<32;++z)x.UINT8[z].length=0,x.UINT16[z].length=0,x.UINT32[z].length=0,x.INT8[z].length=0,x.INT16[z].length=0,x.INT32[z].length=0,x.FLOAT[z].length=0,x.DOUBLE[z].length=0,x.BIGUINT64[z].length=0,x.BIGINT64[z].length=0,x.UINT8C[z].length=0,c[z].length=0,b[z].length=0}},1731:function(v){"use restrict";v.exports=d;function d(r){this.roots=new Array(r),this.ranks=new Array(r);for(var u=0;u<r;++u)this.roots[u]=u,this.ranks[u]=0}var t=d.prototype;Object.defineProperty(t,"length",{get:function(){return this.roots.length}}),t.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},t.find=function(r){for(var u=r,n=this.roots;n[r]!==r;)r=n[r];for(;n[u]!==r;){var s=n[u];n[u]=r,u=s}return r},t.link=function(r,u){var n=this.find(r),s=this.find(u);if(n!==s){var f=this.ranks,l=this.roots,x=f[n],c=f[s];x<c?l[n]=s:c<x?l[s]=n:(l[s]=n,++f[n])}}},1215:function(v){function d(u,n){for(var s=1,f=u.length,l=u[0],x=u[0],c=1;c<f;++c)if(x=l,l=u[c],n(l,x)){if(c===s){s++;continue}u[s++]=l}return u.length=s,u}function t(u){for(var n=1,s=u.length,f=u[0],l=u[0],x=1;x<s;++x,l=f)if(l=f,f=u[x],f!==l){if(x===n){n++;continue}u[n++]=f}return u.length=n,u}function r(u,n,s){return u.length===0?u:n?(s||u.sort(n),d(u,n)):(s||u.sort(),t(u))}v.exports=r},875:function(v,d,t){v.exports=s;var r=t(712),u=null,n=null;typeof document<"u"&&(u=document.createElement("canvas"),u.width=8192,u.height=1024,n=u.getContext("2d"));function s(f,l){return(typeof l!="object"||l===null)&&(l={}),r(f,l.canvas||u,l.context||n,l)}},712:function(v,d,t){v.exports=I,v.exports.processPixels=_;var r=t(4162),u=t(5050),n=t(8243),s=t(197),f=t(7761),l=t(8040),x="b",c="b|",b="i",h="i|",o="sup",p="+",S="+1",A="sub",E="-",m="-1";function M(N,k,O,z){for(var F="<"+N+">",B="</"+N+">",G=F.length,Q=B.length,ee=k[0]===p||k[0]===E,ae=0,fe=-Q;ae>-1&&(ae=O.indexOf(F,ae),!(ae===-1||(fe=O.indexOf(B,ae+G),fe===-1)||fe<=ae));){for(var K=ae;K<fe+Q;++K)if(K<ae+G||K>=fe)z[K]=null,O=O.substr(0,K)+" "+O.substr(K+1);else if(z[K]!==null){var W=z[K].indexOf(k[0]);W===-1?z[K]+=k:ee&&(z[K]=z[K].substr(0,W+1)+(1+parseInt(z[K][W+1]))+z[K].substr(W+2))}var Z=ae+G,X=O.substr(Z,fe-Z),$=X.indexOf(F);$!==-1?ae=$:ae=fe+Q}return z}function w(N,k,O){for(var z=k.textAlign||"start",F=k.textBaseline||"alphabetic",B=[1<<30,1<<30],G=[0,0],Q=N.length,ee=0;ee<Q;++ee)for(var ae=N[ee],fe=0;fe<2;++fe)B[fe]=Math.min(B[fe],ae[fe])|0,G[fe]=Math.max(G[fe],ae[fe])|0;var K=0;switch(z){case"center":K=-.5*(B[0]+G[0]);break;case"right":case"end":K=-G[0];break;case"left":case"start":K=-B[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+z+"'")}var W=0;switch(F){case"hanging":case"top":W=-B[1];break;case"middle":W=-.5*(B[1]+G[1]);break;case"alphabetic":case"ideographic":W=-3*O;break;case"bottom":W=-G[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+F+"'")}var Z=1/O;return"lineHeight"in k?Z*=+k.lineHeight:"width"in k?Z=k.width/(G[0]-B[0]):"height"in k&&(Z=k.height/(G[1]-B[1])),N.map(function(X){return[Z*(X[0]+K),Z*(X[1]+W)]})}function i(N,k,O,z,F,B){O=O.replace(/\n/g,""),B.breaklines===!0?O=O.replace(/\<br\>/g,`
`):O=O.replace(/\<br\>/g," ");var G="",Q=[];for(j=0;j<O.length;++j)Q[j]=G;B.bolds===!0&&(Q=M(x,c,O,Q)),B.italics===!0&&(Q=M(b,h,O,Q)),B.superscripts===!0&&(Q=M(o,S,O,Q)),B.subscripts===!0&&(Q=M(A,m,O,Q));var ee=[],ae="";for(j=0;j<O.length;++j)Q[j]!==null&&(ae+=O[j],ee.push(Q[j]));var fe=ae.split(`
`),K=fe.length,W=Math.round(F*z),Z=z,X=z*2,$=0,ie=K*W+X;N.height<ie&&(N.height=ie),k.fillStyle="#000",k.fillRect(0,0,N.width,N.height),k.fillStyle="#fff";var J,j,se,ne,ue,ge=0,we="";function xe(){if(we!==""){var Ve=k.measureText(we).width;k.fillText(we,Z+se,X+ne),se+=Ve}}function Fe(){return""+Math.round(ue)+"px "}function ze(Ve,rt){var Qe=""+k.font;if(B.subscripts===!0){var Je=Ve.indexOf(E),qe=rt.indexOf(E),dt=Je>-1?parseInt(Ve[1+Je]):0,pt=qe>-1?parseInt(rt[1+qe]):0;dt!==pt&&(Qe=Qe.replace(Fe(),"?px "),ue*=Math.pow(.75,pt-dt),Qe=Qe.replace("?px ",Fe())),ne+=.25*W*(pt-dt)}if(B.superscripts===!0){var mt=Ve.indexOf(p),Ct=rt.indexOf(p),Rt=mt>-1?parseInt(Ve[1+mt]):0,Zt=Ct>-1?parseInt(rt[1+Ct]):0;Rt!==Zt&&(Qe=Qe.replace(Fe(),"?px "),ue*=Math.pow(.75,Zt-Rt),Qe=Qe.replace("?px ",Fe())),ne-=.25*W*(Zt-Rt)}if(B.bolds===!0){var Xe=Ve.indexOf(c)>-1,Le=rt.indexOf(c)>-1;!Xe&&Le&&(Pe?Qe=Qe.replace("italic ","italic bold "):Qe="bold "+Qe),Xe&&!Le&&(Qe=Qe.replace("bold ",""))}if(B.italics===!0){var Pe=Ve.indexOf(h)>-1,ke=rt.indexOf(h)>-1;!Pe&&ke&&(Qe="italic "+Qe),Pe&&!ke&&(Qe=Qe.replace("italic ",""))}k.font=Qe}for(J=0;J<K;++J){var Te=fe[J]+`
`;for(se=0,ne=J*W,ue=z,we="",j=0;j<Te.length;++j){var ye=j+ge<ee.length?ee[j+ge]:ee[ee.length-1];G===ye?we+=Te[j]:(xe(),we=Te[j],ye!==void 0&&(ze(G,ye),G=ye))}xe(),ge+=Te.length;var Ae=Math.round(se+2*Z)|0;$<Ae&&($=Ae)}var Ne=$,Ue=X+W*K,Re=u(k.getImageData(0,0,Ne,Ue).data,[Ue,Ne,4]);return Re.pick(-1,-1,0).transpose(1,0)}function C(N,k){var O=r(N,128);return k?n(O.cells,O.positions,.25):{edges:O.cells,positions:O.positions}}function y(N,k,O,z){var F=C(N,z),B=w(F.positions,k,O),G=F.edges,Q=k.orientation==="ccw";if(s(B,G),k.polygons||k.polygon||k.polyline){for(var ee=l(G,B),ae=new Array(ee.length),fe=0;fe<ee.length;++fe){for(var K=ee[fe],W=new Array(K.length),Z=0;Z<K.length;++Z){for(var X=K[Z],$=new Array(X.length),ie=0;ie<X.length;++ie)$[ie]=B[X[ie]].slice();Q&&$.reverse(),W[Z]=$}ae[fe]=W}return ae}else return k.triangles||k.triangulate||k.triangle?{cells:f(B,G,{delaunay:!1,exterior:!1,interior:!0}),positions:B}:{edges:G,positions:B}}function _(N,k,O){try{return y(N,k,O,!0)}catch{}try{return y(N,k,O,!1)}catch{}return k.polygons||k.polyline||k.polygon?[]:k.triangles||k.triangulate||k.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function I(N,k,O,z){var F=64,B=1.25,G={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};z&&(z.size&&z.size>0&&(F=z.size),z.lineSpacing&&z.lineSpacing>0&&(B=z.lineSpacing),z.styletags&&z.styletags.breaklines&&(G.breaklines=!!z.styletags.breaklines),z.styletags&&z.styletags.bolds&&(G.bolds=!!z.styletags.bolds),z.styletags&&z.styletags.italics&&(G.italics=!!z.styletags.italics),z.styletags&&z.styletags.subscripts&&(G.subscripts=!!z.styletags.subscripts),z.styletags&&z.styletags.superscripts&&(G.superscripts=!!z.styletags.superscripts)),O.font=[z.fontStyle,z.fontVariant,z.fontWeight,F+"px",z.font].filter(function(ee){return ee}).join(" "),O.textAlign="start",O.textBaseline="alphabetic",O.direction="ltr";var Q=i(k,O,N,F,B,G);return _(Q,z,F)}},5346:function(v){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function t(C){C.permitHostObjects___&&C.permitHostObjects___(t)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=t);var r=!1;if(typeof WeakMap=="function"){var u=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var n=new u,s=Object.freeze({});if(n.set(s,1),n.get(s)!==1)r=!0;else{v.exports=WeakMap;return}}}var f=Object.getOwnPropertyNames,l=Object.defineProperty,x=Object.isExtensible,c="weakmap:",b=c+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var h=new ArrayBuffer(25),o=new Uint8Array(h);crypto.getRandomValues(o),b=c+"rand:"+Array.prototype.map.call(o,function(C){return(C%36).toString(36)}).join("")+"___"}function p(C){return!(C.substr(0,c.length)==c&&C.substr(C.length-3)==="___")}if(l(Object,"getOwnPropertyNames",{value:function(y){return f(y).filter(p)}}),"getPropertyNames"in Object){var S=Object.getPropertyNames;l(Object,"getPropertyNames",{value:function(y){return S(y).filter(p)}})}function A(C){if(C!==Object(C))throw new TypeError("Not an object: "+C);var y=C[b];if(y&&y.key===C)return y;if(x(C)){y={key:C};try{return l(C,b,{value:y,writable:!1,enumerable:!1,configurable:!1}),y}catch{return}}}(function(){var C=Object.freeze;l(Object,"freeze",{value:function(N){return A(N),C(N)}});var y=Object.seal;l(Object,"seal",{value:function(N){return A(N),y(N)}});var _=Object.preventExtensions;l(Object,"preventExtensions",{value:function(N){return A(N),_(N)}})})();function E(C){return C.prototype=null,Object.freeze(C)}var m=!1;function M(){!m&&typeof console<"u"&&(m=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var w=0,i=function(){this instanceof i||M();var C=[],y=[],_=w++;function I(z,F){var B,G=A(z);return G?_ in G?G[_]:F:(B=C.indexOf(z),B>=0?y[B]:F)}function N(z){var F=A(z);return F?_ in F:C.indexOf(z)>=0}function k(z,F){var B,G=A(z);return G?G[_]=F:(B=C.indexOf(z),B>=0?y[B]=F:(B=C.length,y[B]=F,C[B]=z)),this}function O(z){var F=A(z),B,G;return F?_ in F&&delete F[_]:(B=C.indexOf(z),B<0?!1:(G=C.length-1,C[B]=void 0,y[B]=y[G],C[B]=C[G],C.length=G,y.length=G,!0))}return Object.create(i.prototype,{get___:{value:E(I)},has___:{value:E(N)},set___:{value:E(k)},delete___:{value:E(O)}})};i.prototype=Object.create(Object.prototype,{get:{value:function(y,_){return this.get___(y,_)},writable:!0,configurable:!0},has:{value:function(y){return this.has___(y)},writable:!0,configurable:!0},set:{value:function(y,_){return this.set___(y,_)},writable:!0,configurable:!0},delete:{value:function(y){return this.delete___(y)},writable:!0,configurable:!0}}),typeof u=="function"?function(){r&&typeof Proxy<"u"&&(Proxy=void 0);function C(){this instanceof i||M();var y=new u,_=void 0,I=!1;function N(F,B){return _?y.has(F)?y.get(F):_.get___(F,B):y.get(F,B)}function k(F){return y.has(F)||(_?_.has___(F):!1)}var O;r?O=function(F,B){return y.set(F,B),y.has(F)||(_||(_=new i),_.set(F,B)),this}:O=function(F,B){if(I)try{y.set(F,B)}catch{_||(_=new i),_.set___(F,B)}else y.set(F,B);return this};function z(F){var B=!!y.delete(F);return _&&_.delete___(F)||B}return Object.create(i.prototype,{get___:{value:E(N)},has___:{value:E(k)},set___:{value:E(O)},delete___:{value:E(z)},permitHostObjects___:{value:E(function(F){if(F===t)I=!0;else throw new Error("bogus call to permitHostObjects___")})}})}C.prototype=i.prototype,v.exports=C,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),v.exports=i)})()},9222:function(v,d,t){var r=t(7178);v.exports=u;function u(){var n={};return function(s){if((typeof s!="object"||s===null)&&typeof s!="function")throw new Error("Weakmap-shim: Key must be object");var f=s.valueOf(n);return f&&f.identity===n?f:r(s,n)}}},7178:function(v){v.exports=d;function d(t,r){var u={identity:r},n=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function(s){return s!==r?n.apply(this,arguments):u},writable:!0}),u}},4037:function(v,d,t){var r=t(9222);v.exports=u;function u(){var n=r();return{get:function(s,f){var l=n(s);return l.hasOwnProperty("value")?l.value:f},set:function(s,f){return n(s).value=f,this},has:function(s){return"value"in n(s)},delete:function(s){return delete n(s).value}}}},6183:function(v){function d(){return function(f,l,x,c,b,h){var o=f[0],p=x[0],S=[0],A=p;c|=0;var E=0,m=p;for(E=0;E<o;++E){{var M=l[c]-h,w=l[c+A]-h;M>=0!=w>=0&&b.push(S[0]+.5+.5*(M+w)/(M-w))}c+=m,++S[0]}}}function t(){return d()}var r=t;function u(f){var l={};return function(c,b,h){var o=c.dtype,p=c.order,S=[o,p.join()].join(),A=l[S];return A||(l[S]=A=f([o,p])),A(c.shape.slice(0),c.data,c.stride,c.offset|0,b,h)}}function n(f){return u(r.bind(void 0,f))}function s(f){return n({funcName:f.funcName})}v.exports=s({funcName:"zeroCrossings"})},9584:function(v,d,t){v.exports=u;var r=t(6183);function u(n,s){var f=[];return s=+s||0,r(n.hi(n.shape[0]-1),f,s),f}},6601:function(){}},a={};function L(v){var d=a[v];if(d!==void 0)return d.exports;var t=a[v]={id:v,loaded:!1,exports:{}};return P[v].call(t.exports,t,t.exports,L),t.loaded=!0,t.exports}(function(){L.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){L.nmd=function(v){return v.paths=[],v.children||(v.children=[]),v}}();var T=L(7386);return T}()})},12856:function(H,U,e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function g(Xe,Le){if(!(Xe instanceof Le))throw new TypeError("Cannot call a class as a function")}function P(Xe,Le){for(var Pe=0;Pe<Le.length;Pe++){var ke=Le[Pe];ke.enumerable=ke.enumerable||!1,ke.configurable=!0,"value"in ke&&(ke.writable=!0),Object.defineProperty(Xe,L(ke.key),ke)}}function a(Xe,Le,Pe){return Le&&P(Xe.prototype,Le),Pe&&P(Xe,Pe),Object.defineProperty(Xe,"prototype",{writable:!1}),Xe}function L(Xe){var Le=T(Xe,"string");return f(Le)==="symbol"?Le:String(Le)}function T(Xe,Le){if(f(Xe)!=="object"||Xe===null)return Xe;var Pe=Xe[Symbol.toPrimitive];if(Pe!==void 0){var ke=Pe.call(Xe,Le||"default");if(f(ke)!=="object")return ke;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Le==="string"?String:Number)(Xe)}function v(Xe,Le){if(typeof Le!="function"&&Le!==null)throw new TypeError("Super expression must either be null or a function");Xe.prototype=Object.create(Le&&Le.prototype,{constructor:{value:Xe,writable:!0,configurable:!0}}),Object.defineProperty(Xe,"prototype",{writable:!1}),Le&&d(Xe,Le)}function d(Xe,Le){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ke,Ce){return ke.__proto__=Ce,ke},d(Xe,Le)}function t(Xe){var Le=n();return function(){var ke=s(Xe),Ce;if(Le){var me=s(this).constructor;Ce=Reflect.construct(ke,arguments,me)}else Ce=ke.apply(this,arguments);return r(this,Ce)}}function r(Xe,Le){if(Le&&(f(Le)==="object"||typeof Le=="function"))return Le;if(Le!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u(Xe)}function u(Xe){if(Xe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Xe}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function s(Xe){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Pe){return Pe.__proto__||Object.getPrototypeOf(Pe)},s(Xe)}function f(Xe){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Le){return typeof Le}:function(Le){return Le&&typeof Symbol=="function"&&Le.constructor===Symbol&&Le!==Symbol.prototype?"symbol":typeof Le},f(Xe)}var l=e(95341),x=e(95280),c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;U.Buffer=p,U.SlowBuffer=I,U.INSPECT_MAX_BYTES=50;var b=2147483647;U.kMaxLength=b,p.TYPED_ARRAY_SUPPORT=h(),!p.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{var Xe=new Uint8Array(1),Le={foo:function(){return 42}};return Object.setPrototypeOf(Le,Uint8Array.prototype),Object.setPrototypeOf(Xe,Le),Xe.foo()===42}catch{return!1}}Object.defineProperty(p.prototype,"parent",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.buffer}}),Object.defineProperty(p.prototype,"offset",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.byteOffset}});function o(Xe){if(Xe>b)throw new RangeError('The value "'+Xe+'" is invalid for option "size"');var Le=new Uint8Array(Xe);return Object.setPrototypeOf(Le,p.prototype),Le}function p(Xe,Le,Pe){if(typeof Xe=="number"){if(typeof Le=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(Xe)}return S(Xe,Le,Pe)}p.poolSize=8192;function S(Xe,Le,Pe){if(typeof Xe=="string")return M(Xe,Le);if(ArrayBuffer.isView(Xe))return i(Xe);if(Xe==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(Xe));if(pt(Xe,ArrayBuffer)||Xe&&pt(Xe.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(pt(Xe,SharedArrayBuffer)||Xe&&pt(Xe.buffer,SharedArrayBuffer)))return C(Xe,Le,Pe);if(typeof Xe=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ke=Xe.valueOf&&Xe.valueOf();if(ke!=null&&ke!==Xe)return p.from(ke,Le,Pe);var Ce=y(Xe);if(Ce)return Ce;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Xe[Symbol.toPrimitive]=="function")return p.from(Xe[Symbol.toPrimitive]("string"),Le,Pe);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(Xe))}p.from=function(Xe,Le,Pe){return S(Xe,Le,Pe)},Object.setPrototypeOf(p.prototype,Uint8Array.prototype),Object.setPrototypeOf(p,Uint8Array);function A(Xe){if(typeof Xe!="number")throw new TypeError('"size" argument must be of type number');if(Xe<0)throw new RangeError('The value "'+Xe+'" is invalid for option "size"')}function E(Xe,Le,Pe){return A(Xe),Xe<=0?o(Xe):Le!==void 0?typeof Pe=="string"?o(Xe).fill(Le,Pe):o(Xe).fill(Le):o(Xe)}p.alloc=function(Xe,Le,Pe){return E(Xe,Le,Pe)};function m(Xe){return A(Xe),o(Xe<0?0:_(Xe)|0)}p.allocUnsafe=function(Xe){return m(Xe)},p.allocUnsafeSlow=function(Xe){return m(Xe)};function M(Xe,Le){if((typeof Le!="string"||Le==="")&&(Le="utf8"),!p.isEncoding(Le))throw new TypeError("Unknown encoding: "+Le);var Pe=N(Xe,Le)|0,ke=o(Pe),Ce=ke.write(Xe,Le);return Ce!==Pe&&(ke=ke.slice(0,Ce)),ke}function w(Xe){for(var Le=Xe.length<0?0:_(Xe.length)|0,Pe=o(Le),ke=0;ke<Le;ke+=1)Pe[ke]=Xe[ke]&255;return Pe}function i(Xe){if(pt(Xe,Uint8Array)){var Le=new Uint8Array(Xe);return C(Le.buffer,Le.byteOffset,Le.byteLength)}return w(Xe)}function C(Xe,Le,Pe){if(Le<0||Xe.byteLength<Le)throw new RangeError('"offset" is outside of buffer bounds');if(Xe.byteLength<Le+(Pe||0))throw new RangeError('"length" is outside of buffer bounds');var ke;return Le===void 0&&Pe===void 0?ke=new Uint8Array(Xe):Pe===void 0?ke=new Uint8Array(Xe,Le):ke=new Uint8Array(Xe,Le,Pe),Object.setPrototypeOf(ke,p.prototype),ke}function y(Xe){if(p.isBuffer(Xe)){var Le=_(Xe.length)|0,Pe=o(Le);return Pe.length===0||Xe.copy(Pe,0,0,Le),Pe}if(Xe.length!==void 0)return typeof Xe.length!="number"||mt(Xe.length)?o(0):w(Xe);if(Xe.type==="Buffer"&&Array.isArray(Xe.data))return w(Xe.data)}function _(Xe){if(Xe>=b)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+b.toString(16)+" bytes");return Xe|0}function I(Xe){return+Xe!=Xe&&(Xe=0),p.alloc(+Xe)}p.isBuffer=function(Le){return Le!=null&&Le._isBuffer===!0&&Le!==p.prototype},p.compare=function(Le,Pe){if(pt(Le,Uint8Array)&&(Le=p.from(Le,Le.offset,Le.byteLength)),pt(Pe,Uint8Array)&&(Pe=p.from(Pe,Pe.offset,Pe.byteLength)),!p.isBuffer(Le)||!p.isBuffer(Pe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Le===Pe)return 0;for(var ke=Le.length,Ce=Pe.length,me=0,oe=Math.min(ke,Ce);me<oe;++me)if(Le[me]!==Pe[me]){ke=Le[me],Ce=Pe[me];break}return ke<Ce?-1:Ce<ke?1:0},p.isEncoding=function(Le){switch(String(Le).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(Le,Pe){if(!Array.isArray(Le))throw new TypeError('"list" argument must be an Array of Buffers');if(Le.length===0)return p.alloc(0);var ke;if(Pe===void 0)for(Pe=0,ke=0;ke<Le.length;++ke)Pe+=Le[ke].length;var Ce=p.allocUnsafe(Pe),me=0;for(ke=0;ke<Le.length;++ke){var oe=Le[ke];if(pt(oe,Uint8Array))me+oe.length>Ce.length?(p.isBuffer(oe)||(oe=p.from(oe)),oe.copy(Ce,me)):Uint8Array.prototype.set.call(Ce,oe,me);else if(p.isBuffer(oe))oe.copy(Ce,me);else throw new TypeError('"list" argument must be an Array of Buffers');me+=oe.length}return Ce};function N(Xe,Le){if(p.isBuffer(Xe))return Xe.length;if(ArrayBuffer.isView(Xe)||pt(Xe,ArrayBuffer))return Xe.byteLength;if(typeof Xe!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+f(Xe));var Pe=Xe.length,ke=arguments.length>2&&arguments[2]===!0;if(!ke&&Pe===0)return 0;for(var Ce=!1;;)switch(Le){case"ascii":case"latin1":case"binary":return Pe;case"utf8":case"utf-8":return rt(Xe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pe*2;case"hex":return Pe>>>1;case"base64":return qe(Xe).length;default:if(Ce)return ke?-1:rt(Xe).length;Le=(""+Le).toLowerCase(),Ce=!0}}p.byteLength=N;function k(Xe,Le,Pe){var ke=!1;if((Le===void 0||Le<0)&&(Le=0),Le>this.length||((Pe===void 0||Pe>this.length)&&(Pe=this.length),Pe<=0)||(Pe>>>=0,Le>>>=0,Pe<=Le))return"";for(Xe||(Xe="utf8");;)switch(Xe){case"hex":return ie(this,Le,Pe);case"utf8":case"utf-8":return K(this,Le,Pe);case"ascii":return X(this,Le,Pe);case"latin1":case"binary":return $(this,Le,Pe);case"base64":return fe(this,Le,Pe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,Le,Pe);default:if(ke)throw new TypeError("Unknown encoding: "+Xe);Xe=(Xe+"").toLowerCase(),ke=!0}}p.prototype._isBuffer=!0;function O(Xe,Le,Pe){var ke=Xe[Le];Xe[Le]=Xe[Pe],Xe[Pe]=ke}p.prototype.swap16=function(){var Le=this.length;if(Le%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Pe=0;Pe<Le;Pe+=2)O(this,Pe,Pe+1);return this},p.prototype.swap32=function(){var Le=this.length;if(Le%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Pe=0;Pe<Le;Pe+=4)O(this,Pe,Pe+3),O(this,Pe+1,Pe+2);return this},p.prototype.swap64=function(){var Le=this.length;if(Le%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Pe=0;Pe<Le;Pe+=8)O(this,Pe,Pe+7),O(this,Pe+1,Pe+6),O(this,Pe+2,Pe+5),O(this,Pe+3,Pe+4);return this},p.prototype.toString=function(){var Le=this.length;return Le===0?"":arguments.length===0?K(this,0,Le):k.apply(this,arguments)},p.prototype.toLocaleString=p.prototype.toString,p.prototype.equals=function(Le){if(!p.isBuffer(Le))throw new TypeError("Argument must be a Buffer");return this===Le?!0:p.compare(this,Le)===0},p.prototype.inspect=function(){var Le="",Pe=U.INSPECT_MAX_BYTES;return Le=this.toString("hex",0,Pe).replace(/(.{2})/g,"$1 ").trim(),this.length>Pe&&(Le+=" ... "),"<Buffer "+Le+">"},c&&(p.prototype[c]=p.prototype.inspect),p.prototype.compare=function(Le,Pe,ke,Ce,me){if(pt(Le,Uint8Array)&&(Le=p.from(Le,Le.offset,Le.byteLength)),!p.isBuffer(Le))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+f(Le));if(Pe===void 0&&(Pe=0),ke===void 0&&(ke=Le?Le.length:0),Ce===void 0&&(Ce=0),me===void 0&&(me=this.length),Pe<0||ke>Le.length||Ce<0||me>this.length)throw new RangeError("out of range index");if(Ce>=me&&Pe>=ke)return 0;if(Ce>=me)return-1;if(Pe>=ke)return 1;if(Pe>>>=0,ke>>>=0,Ce>>>=0,me>>>=0,this===Le)return 0;for(var oe=me-Ce,pe=ke-Pe,Me=Math.min(oe,pe),_e=this.slice(Ce,me),tt=Le.slice(Pe,ke),at=0;at<Me;++at)if(_e[at]!==tt[at]){oe=_e[at],pe=tt[at];break}return oe<pe?-1:pe<oe?1:0};function z(Xe,Le,Pe,ke,Ce){if(Xe.length===0)return-1;if(typeof Pe=="string"?(ke=Pe,Pe=0):Pe>2147483647?Pe=2147483647:Pe<-2147483648&&(Pe=-2147483648),Pe=+Pe,mt(Pe)&&(Pe=Ce?0:Xe.length-1),Pe<0&&(Pe=Xe.length+Pe),Pe>=Xe.length){if(Ce)return-1;Pe=Xe.length-1}else if(Pe<0)if(Ce)Pe=0;else return-1;if(typeof Le=="string"&&(Le=p.from(Le,ke)),p.isBuffer(Le))return Le.length===0?-1:F(Xe,Le,Pe,ke,Ce);if(typeof Le=="number")return Le=Le&255,typeof Uint8Array.prototype.indexOf=="function"?Ce?Uint8Array.prototype.indexOf.call(Xe,Le,Pe):Uint8Array.prototype.lastIndexOf.call(Xe,Le,Pe):F(Xe,[Le],Pe,ke,Ce);throw new TypeError("val must be string, number or Buffer")}function F(Xe,Le,Pe,ke,Ce){var me=1,oe=Xe.length,pe=Le.length;if(ke!==void 0&&(ke=String(ke).toLowerCase(),ke==="ucs2"||ke==="ucs-2"||ke==="utf16le"||ke==="utf-16le")){if(Xe.length<2||Le.length<2)return-1;me=2,oe/=2,pe/=2,Pe/=2}function Me(Ft,Gt){return me===1?Ft[Gt]:Ft.readUInt16BE(Gt*me)}var _e;if(Ce){var tt=-1;for(_e=Pe;_e<oe;_e++)if(Me(Xe,_e)===Me(Le,tt===-1?0:_e-tt)){if(tt===-1&&(tt=_e),_e-tt+1===pe)return tt*me}else tt!==-1&&(_e-=_e-tt),tt=-1}else for(Pe+pe>oe&&(Pe=oe-pe),_e=Pe;_e>=0;_e--){for(var at=!0,At=0;At<pe;At++)if(Me(Xe,_e+At)!==Me(Le,At)){at=!1;break}if(at)return _e}return-1}p.prototype.includes=function(Le,Pe,ke){return this.indexOf(Le,Pe,ke)!==-1},p.prototype.indexOf=function(Le,Pe,ke){return z(this,Le,Pe,ke,!0)},p.prototype.lastIndexOf=function(Le,Pe,ke){return z(this,Le,Pe,ke,!1)};function B(Xe,Le,Pe,ke){Pe=Number(Pe)||0;var Ce=Xe.length-Pe;ke?(ke=Number(ke),ke>Ce&&(ke=Ce)):ke=Ce;var me=Le.length;ke>me/2&&(ke=me/2);var oe;for(oe=0;oe<ke;++oe){var pe=parseInt(Le.substr(oe*2,2),16);if(mt(pe))return oe;Xe[Pe+oe]=pe}return oe}function G(Xe,Le,Pe,ke){return dt(rt(Le,Xe.length-Pe),Xe,Pe,ke)}function Q(Xe,Le,Pe,ke){return dt(Qe(Le),Xe,Pe,ke)}function ee(Xe,Le,Pe,ke){return dt(qe(Le),Xe,Pe,ke)}function ae(Xe,Le,Pe,ke){return dt(Je(Le,Xe.length-Pe),Xe,Pe,ke)}p.prototype.write=function(Le,Pe,ke,Ce){if(Pe===void 0)Ce="utf8",ke=this.length,Pe=0;else if(ke===void 0&&typeof Pe=="string")Ce=Pe,ke=this.length,Pe=0;else if(isFinite(Pe))Pe=Pe>>>0,isFinite(ke)?(ke=ke>>>0,Ce===void 0&&(Ce="utf8")):(Ce=ke,ke=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var me=this.length-Pe;if((ke===void 0||ke>me)&&(ke=me),Le.length>0&&(ke<0||Pe<0)||Pe>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ce||(Ce="utf8");for(var oe=!1;;)switch(Ce){case"hex":return B(this,Le,Pe,ke);case"utf8":case"utf-8":return G(this,Le,Pe,ke);case"ascii":case"latin1":case"binary":return Q(this,Le,Pe,ke);case"base64":return ee(this,Le,Pe,ke);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,Le,Pe,ke);default:if(oe)throw new TypeError("Unknown encoding: "+Ce);Ce=(""+Ce).toLowerCase(),oe=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function fe(Xe,Le,Pe){return Le===0&&Pe===Xe.length?l.fromByteArray(Xe):l.fromByteArray(Xe.slice(Le,Pe))}function K(Xe,Le,Pe){Pe=Math.min(Xe.length,Pe);for(var ke=[],Ce=Le;Ce<Pe;){var me=Xe[Ce],oe=null,pe=me>239?4:me>223?3:me>191?2:1;if(Ce+pe<=Pe){var Me=void 0,_e=void 0,tt=void 0,at=void 0;switch(pe){case 1:me<128&&(oe=me);break;case 2:Me=Xe[Ce+1],(Me&192)===128&&(at=(me&31)<<6|Me&63,at>127&&(oe=at));break;case 3:Me=Xe[Ce+1],_e=Xe[Ce+2],(Me&192)===128&&(_e&192)===128&&(at=(me&15)<<12|(Me&63)<<6|_e&63,at>2047&&(at<55296||at>57343)&&(oe=at));break;case 4:Me=Xe[Ce+1],_e=Xe[Ce+2],tt=Xe[Ce+3],(Me&192)===128&&(_e&192)===128&&(tt&192)===128&&(at=(me&15)<<18|(Me&63)<<12|(_e&63)<<6|tt&63,at>65535&&at<1114112&&(oe=at))}}oe===null?(oe=65533,pe=1):oe>65535&&(oe-=65536,ke.push(oe>>>10&1023|55296),oe=56320|oe&1023),ke.push(oe),Ce+=pe}return Z(ke)}var W=4096;function Z(Xe){var Le=Xe.length;if(Le<=W)return String.fromCharCode.apply(String,Xe);for(var Pe="",ke=0;ke<Le;)Pe+=String.fromCharCode.apply(String,Xe.slice(ke,ke+=W));return Pe}function X(Xe,Le,Pe){var ke="";Pe=Math.min(Xe.length,Pe);for(var Ce=Le;Ce<Pe;++Ce)ke+=String.fromCharCode(Xe[Ce]&127);return ke}function $(Xe,Le,Pe){var ke="";Pe=Math.min(Xe.length,Pe);for(var Ce=Le;Ce<Pe;++Ce)ke+=String.fromCharCode(Xe[Ce]);return ke}function ie(Xe,Le,Pe){var ke=Xe.length;(!Le||Le<0)&&(Le=0),(!Pe||Pe<0||Pe>ke)&&(Pe=ke);for(var Ce="",me=Le;me<Pe;++me)Ce+=Ct[Xe[me]];return Ce}function J(Xe,Le,Pe){for(var ke=Xe.slice(Le,Pe),Ce="",me=0;me<ke.length-1;me+=2)Ce+=String.fromCharCode(ke[me]+ke[me+1]*256);return Ce}p.prototype.slice=function(Le,Pe){var ke=this.length;Le=~~Le,Pe=Pe===void 0?ke:~~Pe,Le<0?(Le+=ke,Le<0&&(Le=0)):Le>ke&&(Le=ke),Pe<0?(Pe+=ke,Pe<0&&(Pe=0)):Pe>ke&&(Pe=ke),Pe<Le&&(Pe=Le);var Ce=this.subarray(Le,Pe);return Object.setPrototypeOf(Ce,p.prototype),Ce};function j(Xe,Le,Pe){if(Xe%1!==0||Xe<0)throw new RangeError("offset is not uint");if(Xe+Le>Pe)throw new RangeError("Trying to access beyond buffer length")}p.prototype.readUintLE=p.prototype.readUIntLE=function(Le,Pe,ke){Le=Le>>>0,Pe=Pe>>>0,ke||j(Le,Pe,this.length);for(var Ce=this[Le],me=1,oe=0;++oe<Pe&&(me*=256);)Ce+=this[Le+oe]*me;return Ce},p.prototype.readUintBE=p.prototype.readUIntBE=function(Le,Pe,ke){Le=Le>>>0,Pe=Pe>>>0,ke||j(Le,Pe,this.length);for(var Ce=this[Le+--Pe],me=1;Pe>0&&(me*=256);)Ce+=this[Le+--Pe]*me;return Ce},p.prototype.readUint8=p.prototype.readUInt8=function(Le,Pe){return Le=Le>>>0,Pe||j(Le,1,this.length),this[Le]},p.prototype.readUint16LE=p.prototype.readUInt16LE=function(Le,Pe){return Le=Le>>>0,Pe||j(Le,2,this.length),this[Le]|this[Le+1]<<8},p.prototype.readUint16BE=p.prototype.readUInt16BE=function(Le,Pe){return Le=Le>>>0,Pe||j(Le,2,this.length),this[Le]<<8|this[Le+1]},p.prototype.readUint32LE=p.prototype.readUInt32LE=function(Le,Pe){return Le=Le>>>0,Pe||j(Le,4,this.length),(this[Le]|this[Le+1]<<8|this[Le+2]<<16)+this[Le+3]*16777216},p.prototype.readUint32BE=p.prototype.readUInt32BE=function(Le,Pe){return Le=Le>>>0,Pe||j(Le,4,this.length),this[Le]*16777216+(this[Le+1]<<16|this[Le+2]<<8|this[Le+3])},p.prototype.readBigUInt64LE=Rt(function(Le){Le=Le>>>0,Ne(Le,"offset");var Pe=this[Le],ke=this[Le+7];(Pe===void 0||ke===void 0)&&Ue(Le,this.length-8);var Ce=Pe+this[++Le]*Math.pow(2,8)+this[++Le]*Math.pow(2,16)+this[++Le]*Math.pow(2,24),me=this[++Le]+this[++Le]*Math.pow(2,8)+this[++Le]*Math.pow(2,16)+ke*Math.pow(2,24);return BigInt(Ce)+(BigInt(me)<<BigInt(32))}),p.prototype.readBigUInt64BE=Rt(function(Le){Le=Le>>>0,Ne(Le,"offset");var Pe=this[Le],ke=this[Le+7];(Pe===void 0||ke===void 0)&&Ue(Le,this.length-8);var Ce=Pe*Math.pow(2,24)+this[++Le]*Math.pow(2,16)+this[++Le]*Math.pow(2,8)+this[++Le],me=this[++Le]*Math.pow(2,24)+this[++Le]*Math.pow(2,16)+this[++Le]*Math.pow(2,8)+ke;return(BigInt(Ce)<<BigInt(32))+BigInt(me)}),p.prototype.readIntLE=function(Le,Pe,ke){Le=Le>>>0,Pe=Pe>>>0,ke||j(Le,Pe,this.length);for(var Ce=this[Le],me=1,oe=0;++oe<Pe&&(me*=256);)Ce+=this[Le+oe]*me;return me*=128,Ce>=me&&(Ce-=Math.pow(2,8*Pe)),Ce},p.prototype.readIntBE=function(Le,Pe,ke){Le=Le>>>0,Pe=Pe>>>0,ke||j(Le,Pe,this.length);for(var Ce=Pe,me=1,oe=this[Le+--Ce];Ce>0&&(me*=256);)oe+=this[Le+--Ce]*me;return me*=128,oe>=me&&(oe-=Math.pow(2,8*Pe)),oe},p.prototype.readInt8=function(Le,Pe){return Le=Le>>>0,Pe||j(Le,1,this.length),this[Le]&128?(255-this[Le]+1)*-1:this[Le]},p.prototype.readInt16LE=function(Le,Pe){Le=Le>>>0,Pe||j(Le,2,this.length);var ke=this[Le]|this[Le+1]<<8;return ke&32768?ke|4294901760:ke},p.prototype.readInt16BE=function(Le,Pe){Le=Le>>>0,Pe||j(Le,2,this.length);var ke=this[Le+1]|this[Le]<<8;return ke&32768?ke|4294901760:ke},p.prototype.readInt32LE=function(Le,Pe){return Le=Le>>>0,Pe||j(Le,4,this.length),this[Le]|this[Le+1]<<8|this[Le+2]<<16|this[Le+3]<<24},p.prototype.readInt32BE=function(Le,Pe){return Le=Le>>>0,Pe||j(Le,4,this.length),this[Le]<<24|this[Le+1]<<16|this[Le+2]<<8|this[Le+3]},p.prototype.readBigInt64LE=Rt(function(Le){Le=Le>>>0,Ne(Le,"offset");var Pe=this[Le],ke=this[Le+7];(Pe===void 0||ke===void 0)&&Ue(Le,this.length-8);var Ce=this[Le+4]+this[Le+5]*Math.pow(2,8)+this[Le+6]*Math.pow(2,16)+(ke<<24);return(BigInt(Ce)<<BigInt(32))+BigInt(Pe+this[++Le]*Math.pow(2,8)+this[++Le]*Math.pow(2,16)+this[++Le]*Math.pow(2,24))}),p.prototype.readBigInt64BE=Rt(function(Le){Le=Le>>>0,Ne(Le,"offset");var Pe=this[Le],ke=this[Le+7];(Pe===void 0||ke===void 0)&&Ue(Le,this.length-8);var Ce=(Pe<<24)+this[++Le]*Math.pow(2,16)+this[++Le]*Math.pow(2,8)+this[++Le];return(BigInt(Ce)<<BigInt(32))+BigInt(this[++Le]*Math.pow(2,24)+this[++Le]*Math.pow(2,16)+this[++Le]*Math.pow(2,8)+ke)}),p.prototype.readFloatLE=function(Le,Pe){return Le=Le>>>0,Pe||j(Le,4,this.length),x.read(this,Le,!0,23,4)},p.prototype.readFloatBE=function(Le,Pe){return Le=Le>>>0,Pe||j(Le,4,this.length),x.read(this,Le,!1,23,4)},p.prototype.readDoubleLE=function(Le,Pe){return Le=Le>>>0,Pe||j(Le,8,this.length),x.read(this,Le,!0,52,8)},p.prototype.readDoubleBE=function(Le,Pe){return Le=Le>>>0,Pe||j(Le,8,this.length),x.read(this,Le,!1,52,8)};function se(Xe,Le,Pe,ke,Ce,me){if(!p.isBuffer(Xe))throw new TypeError('"buffer" argument must be a Buffer instance');if(Le>Ce||Le<me)throw new RangeError('"value" argument is out of bounds');if(Pe+ke>Xe.length)throw new RangeError("Index out of range")}p.prototype.writeUintLE=p.prototype.writeUIntLE=function(Le,Pe,ke,Ce){if(Le=+Le,Pe=Pe>>>0,ke=ke>>>0,!Ce){var me=Math.pow(2,8*ke)-1;se(this,Le,Pe,ke,me,0)}var oe=1,pe=0;for(this[Pe]=Le&255;++pe<ke&&(oe*=256);)this[Pe+pe]=Le/oe&255;return Pe+ke},p.prototype.writeUintBE=p.prototype.writeUIntBE=function(Le,Pe,ke,Ce){if(Le=+Le,Pe=Pe>>>0,ke=ke>>>0,!Ce){var me=Math.pow(2,8*ke)-1;se(this,Le,Pe,ke,me,0)}var oe=ke-1,pe=1;for(this[Pe+oe]=Le&255;--oe>=0&&(pe*=256);)this[Pe+oe]=Le/pe&255;return Pe+ke},p.prototype.writeUint8=p.prototype.writeUInt8=function(Le,Pe,ke){return Le=+Le,Pe=Pe>>>0,ke||se(this,Le,Pe,1,255,0),this[Pe]=Le&255,Pe+1},p.prototype.writeUint16LE=p.prototype.writeUInt16LE=function(Le,Pe,ke){return Le=+Le,Pe=Pe>>>0,ke||se(this,Le,Pe,2,65535,0),this[Pe]=Le&255,this[Pe+1]=Le>>>8,Pe+2},p.prototype.writeUint16BE=p.prototype.writeUInt16BE=function(Le,Pe,ke){return Le=+Le,Pe=Pe>>>0,ke||se(this,Le,Pe,2,65535,0),this[Pe]=Le>>>8,this[Pe+1]=Le&255,Pe+2},p.prototype.writeUint32LE=p.prototype.writeUInt32LE=function(Le,Pe,ke){return Le=+Le,Pe=Pe>>>0,ke||se(this,Le,Pe,4,4294967295,0),this[Pe+3]=Le>>>24,this[Pe+2]=Le>>>16,this[Pe+1]=Le>>>8,this[Pe]=Le&255,Pe+4},p.prototype.writeUint32BE=p.prototype.writeUInt32BE=function(Le,Pe,ke){return Le=+Le,Pe=Pe>>>0,ke||se(this,Le,Pe,4,4294967295,0),this[Pe]=Le>>>24,this[Pe+1]=Le>>>16,this[Pe+2]=Le>>>8,this[Pe+3]=Le&255,Pe+4};function ne(Xe,Le,Pe,ke,Ce){Ae(Le,ke,Ce,Xe,Pe,7);var me=Number(Le&BigInt(4294967295));Xe[Pe++]=me,me=me>>8,Xe[Pe++]=me,me=me>>8,Xe[Pe++]=me,me=me>>8,Xe[Pe++]=me;var oe=Number(Le>>BigInt(32)&BigInt(4294967295));return Xe[Pe++]=oe,oe=oe>>8,Xe[Pe++]=oe,oe=oe>>8,Xe[Pe++]=oe,oe=oe>>8,Xe[Pe++]=oe,Pe}function ue(Xe,Le,Pe,ke,Ce){Ae(Le,ke,Ce,Xe,Pe,7);var me=Number(Le&BigInt(4294967295));Xe[Pe+7]=me,me=me>>8,Xe[Pe+6]=me,me=me>>8,Xe[Pe+5]=me,me=me>>8,Xe[Pe+4]=me;var oe=Number(Le>>BigInt(32)&BigInt(4294967295));return Xe[Pe+3]=oe,oe=oe>>8,Xe[Pe+2]=oe,oe=oe>>8,Xe[Pe+1]=oe,oe=oe>>8,Xe[Pe]=oe,Pe+8}p.prototype.writeBigUInt64LE=Rt(function(Le){var Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ne(this,Le,Pe,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeBigUInt64BE=Rt(function(Le){var Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ue(this,Le,Pe,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeIntLE=function(Le,Pe,ke,Ce){if(Le=+Le,Pe=Pe>>>0,!Ce){var me=Math.pow(2,8*ke-1);se(this,Le,Pe,ke,me-1,-me)}var oe=0,pe=1,Me=0;for(this[Pe]=Le&255;++oe<ke&&(pe*=256);)Le<0&&Me===0&&this[Pe+oe-1]!==0&&(Me=1),this[Pe+oe]=(Le/pe>>0)-Me&255;return Pe+ke},p.prototype.writeIntBE=function(Le,Pe,ke,Ce){if(Le=+Le,Pe=Pe>>>0,!Ce){var me=Math.pow(2,8*ke-1);se(this,Le,Pe,ke,me-1,-me)}var oe=ke-1,pe=1,Me=0;for(this[Pe+oe]=Le&255;--oe>=0&&(pe*=256);)Le<0&&Me===0&&this[Pe+oe+1]!==0&&(Me=1),this[Pe+oe]=(Le/pe>>0)-Me&255;return Pe+ke},p.prototype.writeInt8=function(Le,Pe,ke){return Le=+Le,Pe=Pe>>>0,ke||se(this,Le,Pe,1,127,-128),Le<0&&(Le=255+Le+1),this[Pe]=Le&255,Pe+1},p.prototype.writeInt16LE=function(Le,Pe,ke){return Le=+Le,Pe=Pe>>>0,ke||se(this,Le,Pe,2,32767,-32768),this[Pe]=Le&255,this[Pe+1]=Le>>>8,Pe+2},p.prototype.writeInt16BE=function(Le,Pe,ke){return Le=+Le,Pe=Pe>>>0,ke||se(this,Le,Pe,2,32767,-32768),this[Pe]=Le>>>8,this[Pe+1]=Le&255,Pe+2},p.prototype.writeInt32LE=function(Le,Pe,ke){return Le=+Le,Pe=Pe>>>0,ke||se(this,Le,Pe,4,2147483647,-2147483648),this[Pe]=Le&255,this[Pe+1]=Le>>>8,this[Pe+2]=Le>>>16,this[Pe+3]=Le>>>24,Pe+4},p.prototype.writeInt32BE=function(Le,Pe,ke){return Le=+Le,Pe=Pe>>>0,ke||se(this,Le,Pe,4,2147483647,-2147483648),Le<0&&(Le=4294967295+Le+1),this[Pe]=Le>>>24,this[Pe+1]=Le>>>16,this[Pe+2]=Le>>>8,this[Pe+3]=Le&255,Pe+4},p.prototype.writeBigInt64LE=Rt(function(Le){var Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ne(this,Le,Pe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),p.prototype.writeBigInt64BE=Rt(function(Le){var Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ue(this,Le,Pe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ge(Xe,Le,Pe,ke,Ce,me){if(Pe+ke>Xe.length)throw new RangeError("Index out of range");if(Pe<0)throw new RangeError("Index out of range")}function we(Xe,Le,Pe,ke,Ce){return Le=+Le,Pe=Pe>>>0,Ce||ge(Xe,Le,Pe,4),x.write(Xe,Le,Pe,ke,23,4),Pe+4}p.prototype.writeFloatLE=function(Le,Pe,ke){return we(this,Le,Pe,!0,ke)},p.prototype.writeFloatBE=function(Le,Pe,ke){return we(this,Le,Pe,!1,ke)};function xe(Xe,Le,Pe,ke,Ce){return Le=+Le,Pe=Pe>>>0,Ce||ge(Xe,Le,Pe,8),x.write(Xe,Le,Pe,ke,52,8),Pe+8}p.prototype.writeDoubleLE=function(Le,Pe,ke){return xe(this,Le,Pe,!0,ke)},p.prototype.writeDoubleBE=function(Le,Pe,ke){return xe(this,Le,Pe,!1,ke)},p.prototype.copy=function(Le,Pe,ke,Ce){if(!p.isBuffer(Le))throw new TypeError("argument should be a Buffer");if(ke||(ke=0),!Ce&&Ce!==0&&(Ce=this.length),Pe>=Le.length&&(Pe=Le.length),Pe||(Pe=0),Ce>0&&Ce<ke&&(Ce=ke),Ce===ke||Le.length===0||this.length===0)return 0;if(Pe<0)throw new RangeError("targetStart out of bounds");if(ke<0||ke>=this.length)throw new RangeError("Index out of range");if(Ce<0)throw new RangeError("sourceEnd out of bounds");Ce>this.length&&(Ce=this.length),Le.length-Pe<Ce-ke&&(Ce=Le.length-Pe+ke);var me=Ce-ke;return this===Le&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Pe,ke,Ce):Uint8Array.prototype.set.call(Le,this.subarray(ke,Ce),Pe),me},p.prototype.fill=function(Le,Pe,ke,Ce){if(typeof Le=="string"){if(typeof Pe=="string"?(Ce=Pe,Pe=0,ke=this.length):typeof ke=="string"&&(Ce=ke,ke=this.length),Ce!==void 0&&typeof Ce!="string")throw new TypeError("encoding must be a string");if(typeof Ce=="string"&&!p.isEncoding(Ce))throw new TypeError("Unknown encoding: "+Ce);if(Le.length===1){var me=Le.charCodeAt(0);(Ce==="utf8"&&me<128||Ce==="latin1")&&(Le=me)}}else typeof Le=="number"?Le=Le&255:typeof Le=="boolean"&&(Le=Number(Le));if(Pe<0||this.length<Pe||this.length<ke)throw new RangeError("Out of range index");if(ke<=Pe)return this;Pe=Pe>>>0,ke=ke===void 0?this.length:ke>>>0,Le||(Le=0);var oe;if(typeof Le=="number")for(oe=Pe;oe<ke;++oe)this[oe]=Le;else{var pe=p.isBuffer(Le)?Le:p.from(Le,Ce),Me=pe.length;if(Me===0)throw new TypeError('The value "'+Le+'" is invalid for argument "value"');for(oe=0;oe<ke-Pe;++oe)this[oe+Pe]=pe[oe%Me]}return this};var Fe={};function ze(Xe,Le,Pe){Fe[Xe]=function(ke){v(me,ke);var Ce=t(me);function me(){var oe;return g(this,me),oe=Ce.call(this),Object.defineProperty(u(oe),"message",{value:Le.apply(u(oe),arguments),writable:!0,configurable:!0}),oe.name="".concat(oe.name," [").concat(Xe,"]"),oe.stack,delete oe.name,oe}return a(me,[{key:"code",get:function(){return Xe},set:function(pe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:pe,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Xe,"]: ").concat(this.message)}}]),me}(Pe)}ze("ERR_BUFFER_OUT_OF_BOUNDS",function(Xe){return Xe?"".concat(Xe," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),ze("ERR_INVALID_ARG_TYPE",function(Xe,Le){return'The "'.concat(Xe,'" argument must be of type number. Received type ').concat(f(Le))},TypeError),ze("ERR_OUT_OF_RANGE",function(Xe,Le,Pe){var ke='The value of "'.concat(Xe,'" is out of range.'),Ce=Pe;return Number.isInteger(Pe)&&Math.abs(Pe)>Math.pow(2,32)?Ce=Te(String(Pe)):typeof Pe=="bigint"&&(Ce=String(Pe),(Pe>Math.pow(BigInt(2),BigInt(32))||Pe<-Math.pow(BigInt(2),BigInt(32)))&&(Ce=Te(Ce)),Ce+="n"),ke+=" It must be ".concat(Le,". Received ").concat(Ce),ke},RangeError);function Te(Xe){for(var Le="",Pe=Xe.length,ke=Xe[0]==="-"?1:0;Pe>=ke+4;Pe-=3)Le="_".concat(Xe.slice(Pe-3,Pe)).concat(Le);return"".concat(Xe.slice(0,Pe)).concat(Le)}function ye(Xe,Le,Pe){Ne(Le,"offset"),(Xe[Le]===void 0||Xe[Le+Pe]===void 0)&&Ue(Le,Xe.length-(Pe+1))}function Ae(Xe,Le,Pe,ke,Ce,me){if(Xe>Pe||Xe<Le){var oe=typeof Le=="bigint"?"n":"",pe;throw me>3?Le===0||Le===BigInt(0)?pe=">= 0".concat(oe," and < 2").concat(oe," ** ").concat((me+1)*8).concat(oe):pe=">= -(2".concat(oe," ** ").concat((me+1)*8-1).concat(oe,") and < 2 ** ")+"".concat((me+1)*8-1).concat(oe):pe=">= ".concat(Le).concat(oe," and <= ").concat(Pe).concat(oe),new Fe.ERR_OUT_OF_RANGE("value",pe,Xe)}ye(ke,Ce,me)}function Ne(Xe,Le){if(typeof Xe!="number")throw new Fe.ERR_INVALID_ARG_TYPE(Le,"number",Xe)}function Ue(Xe,Le,Pe){throw Math.floor(Xe)!==Xe?(Ne(Xe,Pe),new Fe.ERR_OUT_OF_RANGE(Pe||"offset","an integer",Xe)):Le<0?new Fe.ERR_BUFFER_OUT_OF_BOUNDS:new Fe.ERR_OUT_OF_RANGE(Pe||"offset",">= ".concat(Pe?1:0," and <= ").concat(Le),Xe)}var Re=/[^+/0-9A-Za-z-_]/g;function Ve(Xe){if(Xe=Xe.split("=")[0],Xe=Xe.trim().replace(Re,""),Xe.length<2)return"";for(;Xe.length%4!==0;)Xe=Xe+"=";return Xe}function rt(Xe,Le){Le=Le||1/0;for(var Pe,ke=Xe.length,Ce=null,me=[],oe=0;oe<ke;++oe){if(Pe=Xe.charCodeAt(oe),Pe>55295&&Pe<57344){if(!Ce){if(Pe>56319){(Le-=3)>-1&&me.push(239,191,189);continue}else if(oe+1===ke){(Le-=3)>-1&&me.push(239,191,189);continue}Ce=Pe;continue}if(Pe<56320){(Le-=3)>-1&&me.push(239,191,189),Ce=Pe;continue}Pe=(Ce-55296<<10|Pe-56320)+65536}else Ce&&(Le-=3)>-1&&me.push(239,191,189);if(Ce=null,Pe<128){if((Le-=1)<0)break;me.push(Pe)}else if(Pe<2048){if((Le-=2)<0)break;me.push(Pe>>6|192,Pe&63|128)}else if(Pe<65536){if((Le-=3)<0)break;me.push(Pe>>12|224,Pe>>6&63|128,Pe&63|128)}else if(Pe<1114112){if((Le-=4)<0)break;me.push(Pe>>18|240,Pe>>12&63|128,Pe>>6&63|128,Pe&63|128)}else throw new Error("Invalid code point")}return me}function Qe(Xe){for(var Le=[],Pe=0;Pe<Xe.length;++Pe)Le.push(Xe.charCodeAt(Pe)&255);return Le}function Je(Xe,Le){for(var Pe,ke,Ce,me=[],oe=0;oe<Xe.length&&!((Le-=2)<0);++oe)Pe=Xe.charCodeAt(oe),ke=Pe>>8,Ce=Pe%256,me.push(Ce),me.push(ke);return me}function qe(Xe){return l.toByteArray(Ve(Xe))}function dt(Xe,Le,Pe,ke){var Ce;for(Ce=0;Ce<ke&&!(Ce+Pe>=Le.length||Ce>=Xe.length);++Ce)Le[Ce+Pe]=Xe[Ce];return Ce}function pt(Xe,Le){return Xe instanceof Le||Xe!=null&&Xe.constructor!=null&&Xe.constructor.name!=null&&Xe.constructor.name===Le.name}function mt(Xe){return Xe!==Xe}var Ct=function(){for(var Xe="0123456789abcdef",Le=new Array(256),Pe=0;Pe<16;++Pe)for(var ke=Pe*16,Ce=0;Ce<16;++Ce)Le[ke+Ce]=Xe[Pe]+Xe[Ce];return Le}();function Rt(Xe){return typeof BigInt>"u"?Zt:Xe}function Zt(){throw new Error("BigInt not supported")}},35791:function(H){H.exports=P,H.exports.isMobile=P,H.exports.default=P;var U=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,g=/android|ipad|playbook|silk/i;function P(a){a||(a={});var L=a.ua;if(!L&&typeof navigator<"u"&&(L=navigator.userAgent),L&&L.headers&&typeof L.headers["user-agent"]=="string"&&(L=L.headers["user-agent"]),typeof L!="string")return!1;var T=U.test(L)&&!e.test(L)||!!a.tablet&&g.test(L);return!T&&a.tablet&&a.featureDetect&&navigator&&navigator.maxTouchPoints>1&&L.indexOf("Macintosh")!==-1&&L.indexOf("Safari")!==-1&&(T=!0),T}},86781:function(H,U,e){e.r(U),e.d(U,{sankeyCenter:function(){return u},sankeyCircular:function(){return C},sankeyJustify:function(){return r},sankeyLeft:function(){return d},sankeyRight:function(){return t}});var g=e(33064),P=e(15140),a=e(45879),L=e(2502),T=e.n(L);function v(xe){return xe.target.depth}function d(xe){return xe.depth}function t(xe,Fe){return Fe-1-xe.height}function r(xe,Fe){return xe.sourceLinks.length?xe.depth:Fe-1}function u(xe){return xe.targetLinks.length?xe.depth:xe.sourceLinks.length?(0,g.VV)(xe.sourceLinks,v)-1:0}function n(xe){return function(){return xe}}var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(xe){return typeof xe}:function(xe){return xe&&typeof Symbol=="function"&&xe.constructor===Symbol&&xe!==Symbol.prototype?"symbol":typeof xe};function f(xe,Fe){return x(xe.source,Fe.source)||xe.index-Fe.index}function l(xe,Fe){return x(xe.target,Fe.target)||xe.index-Fe.index}function x(xe,Fe){return xe.partOfCycle===Fe.partOfCycle?xe.y0-Fe.y0:xe.circularLinkType==="top"||Fe.circularLinkType==="bottom"?-1:1}function c(xe){return xe.value}function b(xe){return(xe.y0+xe.y1)/2}function h(xe){return b(xe.source)}function o(xe){return b(xe.target)}function p(xe){return xe.index}function S(xe){return xe.nodes}function A(xe){return xe.links}function E(xe,Fe){var ze=xe.get(Fe);if(!ze)throw new Error("missing: "+Fe);return ze}function m(xe,Fe){return Fe(xe)}var M=25,w=10,i=.3;function C(){var xe=0,Fe=0,ze=1,Te=1,ye=24,Ae,Ne=p,Ue=r,Re=S,Ve=A,rt=32,Qe=2,Je,qe=null;function dt(){var Pe={nodes:Re.apply(null,arguments),links:Ve.apply(null,arguments)};pt(Pe),y(Pe,Ne,qe),mt(Pe),Zt(Pe),_(Pe,Ne),Xe(Pe,rt,Ne),Le(Pe);for(var ke=4,Ce=0;Ce<ke;Ce++)j(Pe,Te,Ne),se(Pe,Te,Ne),$(Pe,Fe,Te,Ne),j(Pe,Te,Ne),se(Pe,Te,Ne);return we(Pe,Fe,Te),F(Pe,Qe,Te,Ne),Pe}dt.nodeId=function(Pe){return arguments.length?(Ne=typeof Pe=="function"?Pe:n(Pe),dt):Ne},dt.nodeAlign=function(Pe){return arguments.length?(Ue=typeof Pe=="function"?Pe:n(Pe),dt):Ue},dt.nodeWidth=function(Pe){return arguments.length?(ye=+Pe,dt):ye},dt.nodePadding=function(Pe){return arguments.length?(Ae=+Pe,dt):Ae},dt.nodes=function(Pe){return arguments.length?(Re=typeof Pe=="function"?Pe:n(Pe),dt):Re},dt.links=function(Pe){return arguments.length?(Ve=typeof Pe=="function"?Pe:n(Pe),dt):Ve},dt.size=function(Pe){return arguments.length?(xe=Fe=0,ze=+Pe[0],Te=+Pe[1],dt):[ze-xe,Te-Fe]},dt.extent=function(Pe){return arguments.length?(xe=+Pe[0][0],ze=+Pe[1][0],Fe=+Pe[0][1],Te=+Pe[1][1],dt):[[xe,Fe],[ze,Te]]},dt.iterations=function(Pe){return arguments.length?(rt=+Pe,dt):rt},dt.circularLinkGap=function(Pe){return arguments.length?(Qe=+Pe,dt):Qe},dt.nodePaddingRatio=function(Pe){return arguments.length?(Je=+Pe,dt):Je},dt.sortNodes=function(Pe){return arguments.length?(qe=Pe,dt):qe},dt.update=function(Pe){return _(Pe,Ne),Le(Pe),Pe.links.forEach(function(ke){ke.circular&&(ke.circularLinkType=ke.y0+ke.y1<Te?"top":"bottom",ke.source.circularLinkType=ke.circularLinkType,ke.target.circularLinkType=ke.circularLinkType)}),j(Pe,Te,Ne,!1),se(Pe,Te,Ne),F(Pe,Qe,Te,Ne),Pe};function pt(Pe){Pe.nodes.forEach(function(Ce,me){Ce.index=me,Ce.sourceLinks=[],Ce.targetLinks=[]});var ke=(0,P.UI)(Pe.nodes,Ne);return Pe.links.forEach(function(Ce,me){Ce.index=me;var oe=Ce.source,pe=Ce.target;(typeof oe>"u"?"undefined":s(oe))!=="object"&&(oe=Ce.source=E(ke,oe)),(typeof pe>"u"?"undefined":s(pe))!=="object"&&(pe=Ce.target=E(ke,pe)),oe.sourceLinks.push(Ce),pe.targetLinks.push(Ce)}),Pe}function mt(Pe){Pe.nodes.forEach(function(ke){ke.partOfCycle=!1,ke.value=Math.max((0,g.Sm)(ke.sourceLinks,c),(0,g.Sm)(ke.targetLinks,c)),ke.sourceLinks.forEach(function(Ce){Ce.circular&&(ke.partOfCycle=!0,ke.circularLinkType=Ce.circularLinkType)}),ke.targetLinks.forEach(function(Ce){Ce.circular&&(ke.partOfCycle=!0,ke.circularLinkType=Ce.circularLinkType)})})}function Ct(Pe){var ke=0,Ce=0,me=0,oe=0,pe=(0,g.Fp)(Pe.nodes,function(Me){return Me.column});return Pe.links.forEach(function(Me){Me.circular&&(Me.circularLinkType=="top"?ke=ke+Me.width:Ce=Ce+Me.width,Me.target.column==0&&(oe=oe+Me.width),Me.source.column==pe&&(me=me+Me.width))}),ke=ke>0?ke+M+w:ke,Ce=Ce>0?Ce+M+w:Ce,me=me>0?me+M+w:me,oe=oe>0?oe+M+w:oe,{top:ke,bottom:Ce,left:oe,right:me}}function Rt(Pe,ke){var Ce=(0,g.Fp)(Pe.nodes,function(at){return at.column}),me=ze-xe,oe=Te-Fe,pe=me+ke.right+ke.left,Me=oe+ke.top+ke.bottom,_e=me/pe,tt=oe/Me;return xe=xe*_e+ke.left,ze=ke.right==0?ze:ze*_e,Fe=Fe*tt+ke.top,Te=Te*tt,Pe.nodes.forEach(function(at){at.x0=xe+at.column*((ze-xe-ye)/Ce),at.x1=at.x0+ye}),tt}function Zt(Pe){var ke,Ce,me;for(ke=Pe.nodes,Ce=[],me=0;ke.length;++me,ke=Ce,Ce=[])ke.forEach(function(oe){oe.depth=me,oe.sourceLinks.forEach(function(pe){Ce.indexOf(pe.target)<0&&!pe.circular&&Ce.push(pe.target)})});for(ke=Pe.nodes,Ce=[],me=0;ke.length;++me,ke=Ce,Ce=[])ke.forEach(function(oe){oe.height=me,oe.targetLinks.forEach(function(pe){Ce.indexOf(pe.source)<0&&!pe.circular&&Ce.push(pe.source)})});Pe.nodes.forEach(function(oe){oe.column=Math.floor(Ue.call(null,oe,me))})}function Xe(Pe,ke,Ce){var me=(0,P.b1)().key(function(at){return at.column}).sortKeys(g.j2).entries(Pe.nodes).map(function(at){return at.values});Me(Ce),tt();for(var oe=1,pe=ke;pe>0;--pe)_e(oe*=.99,Ce),tt();function Me(at){if(Je){var At=1/0;me.forEach(function(Dt){var $t=Te*Je/(Dt.length+1);At=$t<At?$t:At}),Ae=At}var Ft=(0,g.VV)(me,function(Dt){return(Te-Fe-(Dt.length-1)*Ae)/(0,g.Sm)(Dt,c)});Ft=Ft*i,Pe.links.forEach(function(Dt){Dt.width=Dt.value*Ft});var Gt=Ct(Pe),Yt=Rt(Pe,Gt);Ft=Ft*Yt,Pe.links.forEach(function(Dt){Dt.width=Dt.value*Ft}),me.forEach(function(Dt){var $t=Dt.length;Dt.forEach(function(lr,Hr){lr.depth==me.length-1&&$t==1||lr.depth==0&&$t==1?(lr.y0=Te/2-lr.value*Ft,lr.y1=lr.y0+lr.value*Ft):lr.partOfCycle?k(lr,at)==0?(lr.y0=Te/2+Hr,lr.y1=lr.y0+lr.value*Ft):lr.circularLinkType=="top"?(lr.y0=Fe+Hr,lr.y1=lr.y0+lr.value*Ft):(lr.y0=Te-lr.value*Ft-Hr,lr.y1=lr.y0+lr.value*Ft):Gt.top==0||Gt.bottom==0?(lr.y0=(Te-Fe)/$t*Hr,lr.y1=lr.y0+lr.value*Ft):(lr.y0=(Te-Fe)/2-$t/2+Hr,lr.y1=lr.y0+lr.value*Ft)})})}function _e(at,At){var Ft=me.length;me.forEach(function(Gt){var Yt=Gt.length,Dt=Gt[0].depth;Gt.forEach(function($t){var lr;if(($t.sourceLinks.length||$t.targetLinks.length)&&!($t.partOfCycle&&k($t,At)>0))if(Dt==0&&Yt==1)lr=$t.y1-$t.y0,$t.y0=Te/2-lr/2,$t.y1=Te/2+lr/2;else if(Dt==Ft-1&&Yt==1)lr=$t.y1-$t.y0,$t.y0=Te/2-lr/2,$t.y1=Te/2+lr/2;else{var Hr=0,xt=(0,g.J6)($t.sourceLinks,o),Qt=(0,g.J6)($t.targetLinks,h);xt&&Qt?Hr=(xt+Qt)/2:Hr=xt||Qt;var jt=(Hr-b($t))*at;$t.y0+=jt,$t.y1+=jt}})})}function tt(){me.forEach(function(at){var At,Ft,Gt=Fe,Yt=at.length,Dt;for(at.sort(x),Dt=0;Dt<Yt;++Dt)At=at[Dt],Ft=Gt-At.y0,Ft>0&&(At.y0+=Ft,At.y1+=Ft),Gt=At.y1+Ae;if(Ft=Gt-Ae-Te,Ft>0)for(Gt=At.y0-=Ft,At.y1-=Ft,Dt=Yt-2;Dt>=0;--Dt)At=at[Dt],Ft=At.y1+Ae-Gt,Ft>0&&(At.y0-=Ft,At.y1-=Ft),Gt=At.y0})}}function Le(Pe){Pe.nodes.forEach(function(ke){ke.sourceLinks.sort(l),ke.targetLinks.sort(f)}),Pe.nodes.forEach(function(ke){var Ce=ke.y0,me=Ce,oe=ke.y1,pe=oe;ke.sourceLinks.forEach(function(Me){Me.circular?(Me.y0=oe-Me.width/2,oe=oe-Me.width):(Me.y0=Ce+Me.width/2,Ce+=Me.width)}),ke.targetLinks.forEach(function(Me){Me.circular?(Me.y1=pe-Me.width/2,pe=pe-Me.width):(Me.y1=me+Me.width/2,me+=Me.width)})})}return dt}function y(xe,Fe,ze){var Te=0;if(ze===null){for(var ye=[],Ae=0;Ae<xe.links.length;Ae++){var Ne=xe.links[Ae],Ue=Ne.source.index,Re=Ne.target.index;ye[Ue]||(ye[Ue]=[]),ye[Re]||(ye[Re]=[]),ye[Ue].indexOf(Re)===-1&&ye[Ue].push(Re)}var Ve=T()(ye);Ve.sort(function(qe,dt){return qe.length-dt.length});var rt={};for(Ae=0;Ae<Ve.length;Ae++){var Qe=Ve[Ae],Je=Qe.slice(-2);rt[Je[0]]||(rt[Je[0]]={}),rt[Je[0]][Je[1]]=!0}xe.links.forEach(function(qe){var dt=qe.target.index,pt=qe.source.index;dt===pt||rt[pt]&&rt[pt][dt]?(qe.circular=!0,qe.circularLinkID=Te,Te=Te+1):qe.circular=!1})}else xe.links.forEach(function(qe){qe.source[ze]<qe.target[ze]?qe.circular=!1:(qe.circular=!0,qe.circularLinkID=Te,Te=Te+1)})}function _(xe,Fe){var ze=0,Te=0;xe.links.forEach(function(ye){ye.circular&&(ye.source.circularLinkType||ye.target.circularLinkType?ye.circularLinkType=ye.source.circularLinkType?ye.source.circularLinkType:ye.target.circularLinkType:ye.circularLinkType=ze<Te?"top":"bottom",ye.circularLinkType=="top"?ze=ze+1:Te=Te+1,xe.nodes.forEach(function(Ae){(m(Ae,Fe)==m(ye.source,Fe)||m(Ae,Fe)==m(ye.target,Fe))&&(Ae.circularLinkType=ye.circularLinkType)}))}),xe.links.forEach(function(ye){ye.circular&&(ye.source.circularLinkType==ye.target.circularLinkType&&(ye.circularLinkType=ye.source.circularLinkType),ge(ye,Fe)&&(ye.circularLinkType=ye.source.circularLinkType))})}function I(xe){var Fe=Math.abs(xe.y1-xe.y0),ze=Math.abs(xe.target.x0-xe.source.x1);return Math.atan(ze/Fe)}function N(xe,Fe){return xe.source.column<Fe.target.column?!1:!(xe.target.column>Fe.source.column)}function k(xe,Fe){var ze=0;xe.sourceLinks.forEach(function(ye){ze=ye.circular&&!ge(ye,Fe)?ze+1:ze});var Te=0;return xe.targetLinks.forEach(function(ye){Te=ye.circular&&!ge(ye,Fe)?Te+1:Te}),ze+Te}function O(xe){var Fe=xe.source.sourceLinks,ze=0;Fe.forEach(function(Ae){ze=Ae.circular?ze+1:ze});var Te=xe.target.targetLinks,ye=0;return Te.forEach(function(Ae){ye=Ae.circular?ye+1:ye}),!(ze>1||ye>1)}function z(xe,Fe,ze){return xe.sort(G),xe.forEach(function(Te,ye){var Ae=0;if(ge(Te,ze)&&O(Te))Te.circularPathData.verticalBuffer=Ae+Te.width/2;else{var Ne=0;for(Ne;Ne<ye;Ne++)if(N(xe[ye],xe[Ne])){var Ue=xe[Ne].circularPathData.verticalBuffer+xe[Ne].width/2+Fe;Ae=Ue>Ae?Ue:Ae}Te.circularPathData.verticalBuffer=Ae+Te.width/2}}),xe}function F(xe,Fe,ze,Te){var ye=5,Ae=(0,g.VV)(xe.links,function(Re){return Re.source.y0});xe.links.forEach(function(Re){Re.circular&&(Re.circularPathData={})});var Ne=xe.links.filter(function(Re){return Re.circularLinkType=="top"});z(Ne,Fe,Te);var Ue=xe.links.filter(function(Re){return Re.circularLinkType=="bottom"});z(Ue,Fe,Te),xe.links.forEach(function(Re){if(Re.circular){if(Re.circularPathData.arcRadius=Re.width+w,Re.circularPathData.leftNodeBuffer=ye,Re.circularPathData.rightNodeBuffer=ye,Re.circularPathData.sourceWidth=Re.source.x1-Re.source.x0,Re.circularPathData.sourceX=Re.source.x0+Re.circularPathData.sourceWidth,Re.circularPathData.targetX=Re.target.x0,Re.circularPathData.sourceY=Re.y0,Re.circularPathData.targetY=Re.y1,ge(Re,Te)&&O(Re))Re.circularPathData.leftSmallArcRadius=w+Re.width/2,Re.circularPathData.leftLargeArcRadius=w+Re.width/2,Re.circularPathData.rightSmallArcRadius=w+Re.width/2,Re.circularPathData.rightLargeArcRadius=w+Re.width/2,Re.circularLinkType=="bottom"?(Re.circularPathData.verticalFullExtent=Re.source.y1+M+Re.circularPathData.verticalBuffer,Re.circularPathData.verticalLeftInnerExtent=Re.circularPathData.verticalFullExtent-Re.circularPathData.leftLargeArcRadius,Re.circularPathData.verticalRightInnerExtent=Re.circularPathData.verticalFullExtent-Re.circularPathData.rightLargeArcRadius):(Re.circularPathData.verticalFullExtent=Re.source.y0-M-Re.circularPathData.verticalBuffer,Re.circularPathData.verticalLeftInnerExtent=Re.circularPathData.verticalFullExtent+Re.circularPathData.leftLargeArcRadius,Re.circularPathData.verticalRightInnerExtent=Re.circularPathData.verticalFullExtent+Re.circularPathData.rightLargeArcRadius);else{var Ve=Re.source.column,rt=Re.circularLinkType,Qe=xe.links.filter(function(dt){return dt.source.column==Ve&&dt.circularLinkType==rt});Re.circularLinkType=="bottom"?Qe.sort(ee):Qe.sort(Q);var Je=0;Qe.forEach(function(dt,pt){dt.circularLinkID==Re.circularLinkID&&(Re.circularPathData.leftSmallArcRadius=w+Re.width/2+Je,Re.circularPathData.leftLargeArcRadius=w+Re.width/2+pt*Fe+Je),Je=Je+dt.width}),Ve=Re.target.column,Qe=xe.links.filter(function(dt){return dt.target.column==Ve&&dt.circularLinkType==rt}),Re.circularLinkType=="bottom"?Qe.sort(fe):Qe.sort(ae),Je=0,Qe.forEach(function(dt,pt){dt.circularLinkID==Re.circularLinkID&&(Re.circularPathData.rightSmallArcRadius=w+Re.width/2+Je,Re.circularPathData.rightLargeArcRadius=w+Re.width/2+pt*Fe+Je),Je=Je+dt.width}),Re.circularLinkType=="bottom"?(Re.circularPathData.verticalFullExtent=Math.max(ze,Re.source.y1,Re.target.y1)+M+Re.circularPathData.verticalBuffer,Re.circularPathData.verticalLeftInnerExtent=Re.circularPathData.verticalFullExtent-Re.circularPathData.leftLargeArcRadius,Re.circularPathData.verticalRightInnerExtent=Re.circularPathData.verticalFullExtent-Re.circularPathData.rightLargeArcRadius):(Re.circularPathData.verticalFullExtent=Ae-M-Re.circularPathData.verticalBuffer,Re.circularPathData.verticalLeftInnerExtent=Re.circularPathData.verticalFullExtent+Re.circularPathData.leftLargeArcRadius,Re.circularPathData.verticalRightInnerExtent=Re.circularPathData.verticalFullExtent+Re.circularPathData.rightLargeArcRadius)}Re.circularPathData.leftInnerExtent=Re.circularPathData.sourceX+Re.circularPathData.leftNodeBuffer,Re.circularPathData.rightInnerExtent=Re.circularPathData.targetX-Re.circularPathData.rightNodeBuffer,Re.circularPathData.leftFullExtent=Re.circularPathData.sourceX+Re.circularPathData.leftLargeArcRadius+Re.circularPathData.leftNodeBuffer,Re.circularPathData.rightFullExtent=Re.circularPathData.targetX-Re.circularPathData.rightLargeArcRadius-Re.circularPathData.rightNodeBuffer}if(Re.circular)Re.path=B(Re);else{var qe=(0,a.h5)().source(function(dt){var pt=dt.source.x0+(dt.source.x1-dt.source.x0),mt=dt.y0;return[pt,mt]}).target(function(dt){var pt=dt.target.x0,mt=dt.y1;return[pt,mt]});Re.path=qe(Re)}})}function B(xe){var Fe="";return xe.circularLinkType=="top"?Fe="M"+xe.circularPathData.sourceX+" "+xe.circularPathData.sourceY+" L"+xe.circularPathData.leftInnerExtent+" "+xe.circularPathData.sourceY+" A"+xe.circularPathData.leftLargeArcRadius+" "+xe.circularPathData.leftSmallArcRadius+" 0 0 0 "+xe.circularPathData.leftFullExtent+" "+(xe.circularPathData.sourceY-xe.circularPathData.leftSmallArcRadius)+" L"+xe.circularPathData.leftFullExtent+" "+xe.circularPathData.verticalLeftInnerExtent+" A"+xe.circularPathData.leftLargeArcRadius+" "+xe.circularPathData.leftLargeArcRadius+" 0 0 0 "+xe.circularPathData.leftInnerExtent+" "+xe.circularPathData.verticalFullExtent+" L"+xe.circularPathData.rightInnerExtent+" "+xe.circularPathData.verticalFullExtent+" A"+xe.circularPathData.rightLargeArcRadius+" "+xe.circularPathData.rightLargeArcRadius+" 0 0 0 "+xe.circularPathData.rightFullExtent+" "+xe.circularPathData.verticalRightInnerExtent+" L"+xe.circularPathData.rightFullExtent+" "+(xe.circularPathData.targetY-xe.circularPathData.rightSmallArcRadius)+" A"+xe.circularPathData.rightLargeArcRadius+" "+xe.circularPathData.rightSmallArcRadius+" 0 0 0 "+xe.circularPathData.rightInnerExtent+" "+xe.circularPathData.targetY+" L"+xe.circularPathData.targetX+" "+xe.circularPathData.targetY:Fe="M"+xe.circularPathData.sourceX+" "+xe.circularPathData.sourceY+" L"+xe.circularPathData.leftInnerExtent+" "+xe.circularPathData.sourceY+" A"+xe.circularPathData.leftLargeArcRadius+" "+xe.circularPathData.leftSmallArcRadius+" 0 0 1 "+xe.circularPathData.leftFullExtent+" "+(xe.circularPathData.sourceY+xe.circularPathData.leftSmallArcRadius)+" L"+xe.circularPathData.leftFullExtent+" "+xe.circularPathData.verticalLeftInnerExtent+" A"+xe.circularPathData.leftLargeArcRadius+" "+xe.circularPathData.leftLargeArcRadius+" 0 0 1 "+xe.circularPathData.leftInnerExtent+" "+xe.circularPathData.verticalFullExtent+" L"+xe.circularPathData.rightInnerExtent+" "+xe.circularPathData.verticalFullExtent+" A"+xe.circularPathData.rightLargeArcRadius+" "+xe.circularPathData.rightLargeArcRadius+" 0 0 1 "+xe.circularPathData.rightFullExtent+" "+xe.circularPathData.verticalRightInnerExtent+" L"+xe.circularPathData.rightFullExtent+" "+(xe.circularPathData.targetY+xe.circularPathData.rightSmallArcRadius)+" A"+xe.circularPathData.rightLargeArcRadius+" "+xe.circularPathData.rightSmallArcRadius+" 0 0 1 "+xe.circularPathData.rightInnerExtent+" "+xe.circularPathData.targetY+" L"+xe.circularPathData.targetX+" "+xe.circularPathData.targetY,Fe}function G(xe,Fe){return K(xe)==K(Fe)?xe.circularLinkType=="bottom"?ee(xe,Fe):Q(xe,Fe):K(Fe)-K(xe)}function Q(xe,Fe){return xe.y0-Fe.y0}function ee(xe,Fe){return Fe.y0-xe.y0}function ae(xe,Fe){return xe.y1-Fe.y1}function fe(xe,Fe){return Fe.y1-xe.y1}function K(xe){return xe.target.column-xe.source.column}function W(xe){return xe.target.x0-xe.source.x1}function Z(xe,Fe){var ze=I(xe),Te=W(Fe)/Math.tan(ze),ye=ue(xe)=="up"?xe.y1+Te:xe.y1-Te;return ye}function X(xe,Fe){var ze=I(xe),Te=W(Fe)/Math.tan(ze),ye=ue(xe)=="up"?xe.y1-Te:xe.y1+Te;return ye}function $(xe,Fe,ze,Te){xe.links.forEach(function(ye){if(!ye.circular&&ye.target.column-ye.source.column>1){var Ae=ye.source.column+1,Ne=ye.target.column-1,Ue=1,Re=Ne-Ae+1;for(Ue=1;Ae<=Ne;Ae++,Ue++)xe.nodes.forEach(function(Ve){if(Ve.column==Ae){var rt=Ue/(Re+1),Qe=Math.pow(1-rt,3),Je=3*rt*Math.pow(1-rt,2),qe=3*Math.pow(rt,2)*(1-rt),dt=Math.pow(rt,3),pt=Qe*ye.y0+Je*ye.y0+qe*ye.y1+dt*ye.y1,mt=pt-ye.width/2,Ct=pt+ye.width/2,Rt;mt>Ve.y0&&mt<Ve.y1?(Rt=Ve.y1-mt+10,Rt=Ve.circularLinkType=="bottom"?Rt:-Rt,Ve=J(Ve,Rt,Fe,ze),xe.nodes.forEach(function(Zt){m(Zt,Te)==m(Ve,Te)||Zt.column!=Ve.column||ie(Ve,Zt)&&J(Zt,Rt,Fe,ze)})):Ct>Ve.y0&&Ct<Ve.y1?(Rt=Ct-Ve.y0+10,Ve=J(Ve,Rt,Fe,ze),xe.nodes.forEach(function(Zt){m(Zt,Te)==m(Ve,Te)||Zt.column!=Ve.column||Zt.y0<Ve.y1&&Zt.y1>Ve.y1&&J(Zt,Rt,Fe,ze)})):mt<Ve.y0&&Ct>Ve.y1&&(Rt=Ct-Ve.y0+10,Ve=J(Ve,Rt,Fe,ze),xe.nodes.forEach(function(Zt){m(Zt,Te)==m(Ve,Te)||Zt.column!=Ve.column||Zt.y0<Ve.y1&&Zt.y1>Ve.y1&&J(Zt,Rt,Fe,ze)}))}})}})}function ie(xe,Fe){return xe.y0>Fe.y0&&xe.y0<Fe.y1||xe.y1>Fe.y0&&xe.y1<Fe.y1?!0:xe.y0<Fe.y0&&xe.y1>Fe.y1}function J(xe,Fe,ze,Te){return xe.y0+Fe>=ze&&xe.y1+Fe<=Te&&(xe.y0=xe.y0+Fe,xe.y1=xe.y1+Fe,xe.targetLinks.forEach(function(ye){ye.y1=ye.y1+Fe}),xe.sourceLinks.forEach(function(ye){ye.y0=ye.y0+Fe})),xe}function j(xe,Fe,ze,Te){xe.nodes.forEach(function(ye){Te&&ye.y+(ye.y1-ye.y0)>Fe&&(ye.y=ye.y-(ye.y+(ye.y1-ye.y0)-Fe));var Ae=xe.links.filter(function(Re){return m(Re.source,ze)==m(ye,ze)}),Ne=Ae.length;Ne>1&&Ae.sort(function(Re,Ve){if(!Re.circular&&!Ve.circular){if(Re.target.column==Ve.target.column)return Re.y1-Ve.y1;if(ne(Re,Ve)){if(Re.target.column>Ve.target.column){var rt=X(Ve,Re);return Re.y1-rt}if(Ve.target.column>Re.target.column){var Qe=X(Re,Ve);return Qe-Ve.y1}}else return Re.y1-Ve.y1}if(Re.circular&&!Ve.circular)return Re.circularLinkType=="top"?-1:1;if(Ve.circular&&!Re.circular)return Ve.circularLinkType=="top"?1:-1;if(Re.circular&&Ve.circular)return Re.circularLinkType===Ve.circularLinkType&&Re.circularLinkType=="top"?Re.target.column===Ve.target.column?Re.target.y1-Ve.target.y1:Ve.target.column-Re.target.column:Re.circularLinkType===Ve.circularLinkType&&Re.circularLinkType=="bottom"?Re.target.column===Ve.target.column?Ve.target.y1-Re.target.y1:Re.target.column-Ve.target.column:Re.circularLinkType=="top"?-1:1});var Ue=ye.y0;Ae.forEach(function(Re){Re.y0=Ue+Re.width/2,Ue=Ue+Re.width}),Ae.forEach(function(Re,Ve){if(Re.circularLinkType=="bottom"){var rt=Ve+1,Qe=0;for(rt;rt<Ne;rt++)Qe=Qe+Ae[rt].width;Re.y0=ye.y1-Qe-Re.width/2}})})}function se(xe,Fe,ze){xe.nodes.forEach(function(Te){var ye=xe.links.filter(function(Ue){return m(Ue.target,ze)==m(Te,ze)}),Ae=ye.length;Ae>1&&ye.sort(function(Ue,Re){if(!Ue.circular&&!Re.circular){if(Ue.source.column==Re.source.column)return Ue.y0-Re.y0;if(ne(Ue,Re)){if(Re.source.column<Ue.source.column){var Ve=Z(Re,Ue);return Ue.y0-Ve}if(Ue.source.column<Re.source.column){var rt=Z(Ue,Re);return rt-Re.y0}}else return Ue.y0-Re.y0}if(Ue.circular&&!Re.circular)return Ue.circularLinkType=="top"?-1:1;if(Re.circular&&!Ue.circular)return Re.circularLinkType=="top"?1:-1;if(Ue.circular&&Re.circular)return Ue.circularLinkType===Re.circularLinkType&&Ue.circularLinkType=="top"?Ue.source.column===Re.source.column?Ue.source.y1-Re.source.y1:Ue.source.column-Re.source.column:Ue.circularLinkType===Re.circularLinkType&&Ue.circularLinkType=="bottom"?Ue.source.column===Re.source.column?Ue.source.y1-Re.source.y1:Re.source.column-Ue.source.column:Ue.circularLinkType=="top"?-1:1});var Ne=Te.y0;ye.forEach(function(Ue){Ue.y1=Ne+Ue.width/2,Ne=Ne+Ue.width}),ye.forEach(function(Ue,Re){if(Ue.circularLinkType=="bottom"){var Ve=Re+1,rt=0;for(Ve;Ve<Ae;Ve++)rt=rt+ye[Ve].width;Ue.y1=Te.y1-rt-Ue.width/2}})})}function ne(xe,Fe){return ue(xe)==ue(Fe)}function ue(xe){return xe.y0-xe.y1>0?"up":"down"}function ge(xe,Fe){return m(xe.source,Fe)==m(xe.target,Fe)}function we(xe,Fe,ze){var Te=xe.nodes,ye=xe.links,Ae=!1,Ne=!1;if(ye.forEach(function(Je){Je.circularLinkType=="top"?Ae=!0:Je.circularLinkType=="bottom"&&(Ne=!0)}),Ae==!1||Ne==!1){var Ue=(0,g.VV)(Te,function(Je){return Je.y0}),Re=(0,g.Fp)(Te,function(Je){return Je.y1}),Ve=Re-Ue,rt=ze-Fe,Qe=rt/Ve;Te.forEach(function(Je){var qe=(Je.y1-Je.y0)*Qe;Je.y0=(Je.y0-Ue)*Qe,Je.y1=Je.y0+qe}),ye.forEach(function(Je){Je.y0=(Je.y0-Ue)*Qe,Je.y1=(Je.y1-Ue)*Qe,Je.width=Je.width*Qe})}}},30838:function(H,U,e){e.r(U),e.d(U,{sankey:function(){return p},sankeyCenter:function(){return d},sankeyJustify:function(){return v},sankeyLeft:function(){return L},sankeyLinkHorizontal:function(){return m},sankeyRight:function(){return T}});var g=e(33064),P=e(15140);function a(M){return M.target.depth}function L(M){return M.depth}function T(M,w){return w-1-M.height}function v(M,w){return M.sourceLinks.length?M.depth:w-1}function d(M){return M.targetLinks.length?M.depth:M.sourceLinks.length?(0,g.VV)(M.sourceLinks,a)-1:0}function t(M){return function(){return M}}function r(M,w){return n(M.source,w.source)||M.index-w.index}function u(M,w){return n(M.target,w.target)||M.index-w.index}function n(M,w){return M.y0-w.y0}function s(M){return M.value}function f(M){return(M.y0+M.y1)/2}function l(M){return f(M.source)*M.value}function x(M){return f(M.target)*M.value}function c(M){return M.index}function b(M){return M.nodes}function h(M){return M.links}function o(M,w){var i=M.get(w);if(!i)throw new Error("missing: "+w);return i}function p(){var M=0,w=0,i=1,C=1,y=24,_=8,I=c,N=v,k=b,O=h,z=32,F=2/3;function B(){var K={nodes:k.apply(null,arguments),links:O.apply(null,arguments)};return G(K),Q(K),ee(K),ae(K),fe(K),K}B.update=function(K){return fe(K),K},B.nodeId=function(K){return arguments.length?(I=typeof K=="function"?K:t(K),B):I},B.nodeAlign=function(K){return arguments.length?(N=typeof K=="function"?K:t(K),B):N},B.nodeWidth=function(K){return arguments.length?(y=+K,B):y},B.nodePadding=function(K){return arguments.length?(_=+K,B):_},B.nodes=function(K){return arguments.length?(k=typeof K=="function"?K:t(K),B):k},B.links=function(K){return arguments.length?(O=typeof K=="function"?K:t(K),B):O},B.size=function(K){return arguments.length?(M=w=0,i=+K[0],C=+K[1],B):[i-M,C-w]},B.extent=function(K){return arguments.length?(M=+K[0][0],i=+K[1][0],w=+K[0][1],C=+K[1][1],B):[[M,w],[i,C]]},B.iterations=function(K){return arguments.length?(z=+K,B):z};function G(K){K.nodes.forEach(function(Z,X){Z.index=X,Z.sourceLinks=[],Z.targetLinks=[]});var W=(0,P.UI)(K.nodes,I);K.links.forEach(function(Z,X){Z.index=X;var $=Z.source,ie=Z.target;typeof $!="object"&&($=Z.source=o(W,$)),typeof ie!="object"&&(ie=Z.target=o(W,ie)),$.sourceLinks.push(Z),ie.targetLinks.push(Z)})}function Q(K){K.nodes.forEach(function(W){W.value=Math.max((0,g.Sm)(W.sourceLinks,s),(0,g.Sm)(W.targetLinks,s))})}function ee(K){var W,Z,X;for(W=K.nodes,Z=[],X=0;W.length;++X,W=Z,Z=[])W.forEach(function(ie){ie.depth=X,ie.sourceLinks.forEach(function(J){Z.indexOf(J.target)<0&&Z.push(J.target)})});for(W=K.nodes,Z=[],X=0;W.length;++X,W=Z,Z=[])W.forEach(function(ie){ie.height=X,ie.targetLinks.forEach(function(J){Z.indexOf(J.source)<0&&Z.push(J.source)})});var $=(i-M-y)/(X-1);K.nodes.forEach(function(ie){ie.x1=(ie.x0=M+Math.max(0,Math.min(X-1,Math.floor(N.call(null,ie,X))))*$)+y})}function ae(K){var W=(0,P.b1)().key(function(se){return se.x0}).sortKeys(g.j2).entries(K.nodes).map(function(se){return se.values});$(),j();for(var Z=1,X=z;X>0;--X)J(Z*=.99),j(),ie(Z),j();function $(){var se=(0,g.Fp)(W,function(ge){return ge.length}),ne=F*(C-w)/(se-1);_>ne&&(_=ne);var ue=(0,g.VV)(W,function(ge){return(C-w-(ge.length-1)*_)/(0,g.Sm)(ge,s)});W.forEach(function(ge){ge.forEach(function(we,xe){we.y1=(we.y0=xe)+we.value*ue})}),K.links.forEach(function(ge){ge.width=ge.value*ue})}function ie(se){W.forEach(function(ne){ne.forEach(function(ue){if(ue.targetLinks.length){var ge=((0,g.Sm)(ue.targetLinks,l)/(0,g.Sm)(ue.targetLinks,s)-f(ue))*se;ue.y0+=ge,ue.y1+=ge}})})}function J(se){W.slice().reverse().forEach(function(ne){ne.forEach(function(ue){if(ue.sourceLinks.length){var ge=((0,g.Sm)(ue.sourceLinks,x)/(0,g.Sm)(ue.sourceLinks,s)-f(ue))*se;ue.y0+=ge,ue.y1+=ge}})})}function j(){W.forEach(function(se){var ne,ue,ge=w,we=se.length,xe;for(se.sort(n),xe=0;xe<we;++xe)ne=se[xe],ue=ge-ne.y0,ue>0&&(ne.y0+=ue,ne.y1+=ue),ge=ne.y1+_;if(ue=ge-_-C,ue>0)for(ge=ne.y0-=ue,ne.y1-=ue,xe=we-2;xe>=0;--xe)ne=se[xe],ue=ne.y1+_-ge,ue>0&&(ne.y0-=ue,ne.y1-=ue),ge=ne.y0})}}function fe(K){K.nodes.forEach(function(W){W.sourceLinks.sort(u),W.targetLinks.sort(r)}),K.nodes.forEach(function(W){var Z=W.y0,X=Z;W.sourceLinks.forEach(function($){$.y0=Z+$.width/2,Z+=$.width}),W.targetLinks.forEach(function($){$.y1=X+$.width/2,X+=$.width})})}return B}var S=e(45879);function A(M){return[M.source.x1,M.y0]}function E(M){return[M.target.x0,M.y1]}function m(){return(0,S.h5)().source(A).target(E)}},39898:function(H,U,e){var g,P;(function(){var a={version:"3.8.0"},L=[].slice,T=function(le){return L.call(le)},v=self.document;function d(le){return le&&(le.ownerDocument||le.document||le).documentElement}function t(le){return le&&(le.ownerDocument&&le.ownerDocument.defaultView||le.document&&le||le.defaultView)}if(v)try{T(v.documentElement.childNodes)[0].nodeType}catch{T=function(Se){for(var Be=Se.length,Ke=new Array(Be);Be--;)Ke[Be]=Se[Be];return Ke}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch{var r=this.Element.prototype,u=r.setAttribute,n=r.setAttributeNS,s=this.CSSStyleDeclaration.prototype,f=s.setProperty;r.setAttribute=function(Se,Be){u.call(this,Se,Be+"")},r.setAttributeNS=function(Se,Be,Ke){n.call(this,Se,Be,Ke+"")},s.setProperty=function(Se,Be,Ke){f.call(this,Se,Be+"",Ke)}}a.ascending=l;function l(le,Se){return le<Se?-1:le>Se?1:le>=Se?0:NaN}a.descending=function(le,Se){return Se<le?-1:Se>le?1:Se>=le?0:NaN},a.min=function(le,Se){var Be=-1,Ke=le.length,$e,nt;if(arguments.length===1){for(;++Be<Ke;)if((nt=le[Be])!=null&&nt>=nt){$e=nt;break}for(;++Be<Ke;)(nt=le[Be])!=null&&$e>nt&&($e=nt)}else{for(;++Be<Ke;)if((nt=Se.call(le,le[Be],Be))!=null&&nt>=nt){$e=nt;break}for(;++Be<Ke;)(nt=Se.call(le,le[Be],Be))!=null&&$e>nt&&($e=nt)}return $e},a.max=function(le,Se){var Be=-1,Ke=le.length,$e,nt;if(arguments.length===1){for(;++Be<Ke;)if((nt=le[Be])!=null&&nt>=nt){$e=nt;break}for(;++Be<Ke;)(nt=le[Be])!=null&&nt>$e&&($e=nt)}else{for(;++Be<Ke;)if((nt=Se.call(le,le[Be],Be))!=null&&nt>=nt){$e=nt;break}for(;++Be<Ke;)(nt=Se.call(le,le[Be],Be))!=null&&nt>$e&&($e=nt)}return $e},a.extent=function(le,Se){var Be=-1,Ke=le.length,$e,nt,kt;if(arguments.length===1){for(;++Be<Ke;)if((nt=le[Be])!=null&&nt>=nt){$e=kt=nt;break}for(;++Be<Ke;)(nt=le[Be])!=null&&($e>nt&&($e=nt),kt<nt&&(kt=nt))}else{for(;++Be<Ke;)if((nt=Se.call(le,le[Be],Be))!=null&&nt>=nt){$e=kt=nt;break}for(;++Be<Ke;)(nt=Se.call(le,le[Be],Be))!=null&&($e>nt&&($e=nt),kt<nt&&(kt=nt))}return[$e,kt]};function x(le){return le===null?NaN:+le}function c(le){return!isNaN(le)}a.sum=function(le,Se){var Be=0,Ke=le.length,$e,nt=-1;if(arguments.length===1)for(;++nt<Ke;)c($e=+le[nt])&&(Be+=$e);else for(;++nt<Ke;)c($e=+Se.call(le,le[nt],nt))&&(Be+=$e);return Be},a.mean=function(le,Se){var Be=0,Ke=le.length,$e,nt=-1,kt=Ke;if(arguments.length===1)for(;++nt<Ke;)c($e=x(le[nt]))?Be+=$e:--kt;else for(;++nt<Ke;)c($e=x(Se.call(le,le[nt],nt)))?Be+=$e:--kt;if(kt)return Be/kt},a.quantile=function(le,Se){var Be=(le.length-1)*Se+1,Ke=Math.floor(Be),$e=+le[Ke-1],nt=Be-Ke;return nt?$e+nt*(le[Ke]-$e):$e},a.median=function(le,Se){var Be=[],Ke=le.length,$e,nt=-1;if(arguments.length===1)for(;++nt<Ke;)c($e=x(le[nt]))&&Be.push($e);else for(;++nt<Ke;)c($e=x(Se.call(le,le[nt],nt)))&&Be.push($e);if(Be.length)return a.quantile(Be.sort(l),.5)},a.variance=function(le,Se){var Be=le.length,Ke=0,$e,nt,kt=0,ct=-1,Ht=0;if(arguments.length===1)for(;++ct<Be;)c($e=x(le[ct]))&&(nt=$e-Ke,Ke+=nt/++Ht,kt+=nt*($e-Ke));else for(;++ct<Be;)c($e=x(Se.call(le,le[ct],ct)))&&(nt=$e-Ke,Ke+=nt/++Ht,kt+=nt*($e-Ke));if(Ht>1)return kt/(Ht-1)},a.deviation=function(){var le=a.variance.apply(this,arguments);return le&&Math.sqrt(le)};function b(le){return{left:function(Se,Be,Ke,$e){for(arguments.length<3&&(Ke=0),arguments.length<4&&($e=Se.length);Ke<$e;){var nt=Ke+$e>>>1;le(Se[nt],Be)<0?Ke=nt+1:$e=nt}return Ke},right:function(Se,Be,Ke,$e){for(arguments.length<3&&(Ke=0),arguments.length<4&&($e=Se.length);Ke<$e;){var nt=Ke+$e>>>1;le(Se[nt],Be)>0?$e=nt:Ke=nt+1}return Ke}}}var h=b(l);a.bisectLeft=h.left,a.bisect=a.bisectRight=h.right,a.bisector=function(le){return b(le.length===1?function(Se,Be){return l(le(Se),Be)}:le)},a.shuffle=function(le,Se,Be){(Ke=arguments.length)<3&&(Be=le.length,Ke<2&&(Se=0));for(var Ke=Be-Se,$e,nt;Ke;)nt=Math.random()*Ke--|0,$e=le[Ke+Se],le[Ke+Se]=le[nt+Se],le[nt+Se]=$e;return le},a.permute=function(le,Se){for(var Be=Se.length,Ke=new Array(Be);Be--;)Ke[Be]=le[Se[Be]];return Ke},a.pairs=function(le){for(var Se=0,Be=le.length-1,Ke=le[0],$e=new Array(Be<0?0:Be);Se<Be;)$e[Se]=[Ke,Ke=le[++Se]];return $e},a.transpose=function(le){if(!(nt=le.length))return[];for(var Se=-1,Be=a.min(le,o),Ke=new Array(Be);++Se<Be;)for(var $e=-1,nt,kt=Ke[Se]=new Array(nt);++$e<nt;)kt[$e]=le[$e][Se];return Ke};function o(le){return le.length}a.zip=function(){return a.transpose(arguments)},a.keys=function(le){var Se=[];for(var Be in le)Se.push(Be);return Se},a.values=function(le){var Se=[];for(var Be in le)Se.push(le[Be]);return Se},a.entries=function(le){var Se=[];for(var Be in le)Se.push({key:Be,value:le[Be]});return Se},a.merge=function(le){for(var Se=le.length,Be,Ke=-1,$e=0,nt,kt;++Ke<Se;)$e+=le[Ke].length;for(nt=new Array($e);--Se>=0;)for(kt=le[Se],Be=kt.length;--Be>=0;)nt[--$e]=kt[Be];return nt};var p=Math.abs;a.range=function(le,Se,Be){if(arguments.length<3&&(Be=1,arguments.length<2&&(Se=le,le=0)),(Se-le)/Be===1/0)throw new Error("infinite range");var Ke=[],$e=S(p(Be)),nt=-1,kt;if(le*=$e,Se*=$e,Be*=$e,Be<0)for(;(kt=le+Be*++nt)>Se;)Ke.push(kt/$e);else for(;(kt=le+Be*++nt)<Se;)Ke.push(kt/$e);return Ke};function S(le){for(var Se=1;le*Se%1;)Se*=10;return Se}function A(le,Se){for(var Be in Se)Object.defineProperty(le.prototype,Be,{value:Se[Be],enumerable:!1})}a.map=function(le,Se){var Be=new E;if(le instanceof E)le.forEach(function(ct,Ht){Be.set(ct,Ht)});else if(Array.isArray(le)){var Ke=-1,$e=le.length,nt;if(arguments.length===1)for(;++Ke<$e;)Be.set(Ke,le[Ke]);else for(;++Ke<$e;)Be.set(Se.call(le,nt=le[Ke],Ke),nt)}else for(var kt in le)Be.set(kt,le[kt]);return Be};function E(){this._=Object.create(null)}var m="__proto__",M="\0";A(E,{has:C,get:function(le){return this._[w(le)]},set:function(le,Se){return this._[w(le)]=Se},remove:y,keys:_,values:function(){var le=[];for(var Se in this._)le.push(this._[Se]);return le},entries:function(){var le=[];for(var Se in this._)le.push({key:i(Se),value:this._[Se]});return le},size:I,empty:N,forEach:function(le){for(var Se in this._)le.call(this,i(Se),this._[Se])}});function w(le){return(le+="")===m||le[0]===M?M+le:le}function i(le){return(le+="")[0]===M?le.slice(1):le}function C(le){return w(le)in this._}function y(le){return(le=w(le))in this._&&delete this._[le]}function _(){var le=[];for(var Se in this._)le.push(i(Se));return le}function I(){var le=0;for(var Se in this._)++le;return le}function N(){for(var le in this._)return!1;return!0}a.nest=function(){var le={},Se=[],Be=[],Ke,$e;function nt(ct,Ht,rr){if(rr>=Se.length)return $e?$e.call(le,Ht):Ke?Ht.sort(Ke):Ht;for(var ar=-1,Rr=Ht.length,Dr=Se[rr++],nn,fn,Or,Xr=new E,tn;++ar<Rr;)(tn=Xr.get(nn=Dr(fn=Ht[ar])))?tn.push(fn):Xr.set(nn,[fn]);return ct?(fn=ct(),Or=function(it,gt){fn.set(it,nt(ct,gt,rr))}):(fn={},Or=function(it,gt){fn[it]=nt(ct,gt,rr)}),Xr.forEach(Or),fn}function kt(ct,Ht){if(Ht>=Se.length)return ct;var rr=[],ar=Be[Ht++];return ct.forEach(function(Rr,Dr){rr.push({key:Rr,values:kt(Dr,Ht)})}),ar?rr.sort(function(Rr,Dr){return ar(Rr.key,Dr.key)}):rr}return le.map=function(ct,Ht){return nt(Ht,ct,0)},le.entries=function(ct){return kt(nt(a.map,ct,0),0)},le.key=function(ct){return Se.push(ct),le},le.sortKeys=function(ct){return Be[Se.length-1]=ct,le},le.sortValues=function(ct){return Ke=ct,le},le.rollup=function(ct){return $e=ct,le},le},a.set=function(le){var Se=new k;if(le)for(var Be=0,Ke=le.length;Be<Ke;++Be)Se.add(le[Be]);return Se};function k(){this._=Object.create(null)}A(k,{has:C,add:function(le){return this._[w(le+="")]=!0,le},remove:y,values:_,size:I,empty:N,forEach:function(le){for(var Se in this._)le.call(this,i(Se))}}),a.behavior={};function O(le){return le}a.rebind=function(le,Se){for(var Be=1,Ke=arguments.length,$e;++Be<Ke;)le[$e=arguments[Be]]=z(le,Se,Se[$e]);return le};function z(le,Se,Be){return function(){var Ke=Be.apply(Se,arguments);return Ke===Se?le:Ke}}function F(le,Se){if(Se in le)return Se;Se=Se.charAt(0).toUpperCase()+Se.slice(1);for(var Be=0,Ke=B.length;Be<Ke;++Be){var $e=B[Be]+Se;if($e in le)return $e}}var B=["webkit","ms","moz","Moz","o","O"];function G(){}a.dispatch=function(){for(var le=new Q,Se=-1,Be=arguments.length;++Se<Be;)le[arguments[Se]]=ee(le);return le};function Q(){}Q.prototype.on=function(le,Se){var Be=le.indexOf("."),Ke="";if(Be>=0&&(Ke=le.slice(Be+1),le=le.slice(0,Be)),le)return arguments.length<2?this[le].on(Ke):this[le].on(Ke,Se);if(arguments.length===2){if(Se==null)for(le in this)this.hasOwnProperty(le)&&this[le].on(Ke,null);return this}};function ee(le){var Se=[],Be=new E;function Ke(){for(var $e=Se,nt=-1,kt=$e.length,ct;++nt<kt;)(ct=$e[nt].on)&&ct.apply(this,arguments);return le}return Ke.on=function($e,nt){var kt=Be.get($e),ct;return arguments.length<2?kt&&kt.on:(kt&&(kt.on=null,Se=Se.slice(0,ct=Se.indexOf(kt)).concat(Se.slice(ct+1)),Be.remove($e)),nt&&Se.push(Be.set($e,{on:nt})),le)},Ke}a.event=null;function ae(){a.event.preventDefault()}function fe(){for(var le=a.event,Se;Se=le.sourceEvent;)le=Se;return le}function K(le){for(var Se=new Q,Be=0,Ke=arguments.length;++Be<Ke;)Se[arguments[Be]]=ee(Se);return Se.of=function($e,nt){return function(kt){try{var ct=kt.sourceEvent=a.event;kt.target=le,a.event=kt,Se[kt.type].apply($e,nt)}finally{a.event=ct}}},Se}a.requote=function(le){return le.replace(W,"\\$&")};var W=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Z={}.__proto__?function(le,Se){le.__proto__=Se}:function(le,Se){for(var Be in Se)le[Be]=Se[Be]};function X(le){return Z(le,j),le}var $=function(le,Se){return Se.querySelector(le)},ie=function(le,Se){return Se.querySelectorAll(le)},J=function(le,Se){var Be=le.matches||le[F(le,"matchesSelector")];return J=function(Ke,$e){return Be.call(Ke,$e)},J(le,Se)};typeof Sizzle=="function"&&($=function(le,Se){return Sizzle(le,Se)[0]||null},ie=Sizzle,J=Sizzle.matchesSelector),a.selection=function(){return a.select(v.documentElement)};var j=a.selection.prototype=[];j.select=function(le){var Se=[],Be,Ke,$e,nt;le=se(le);for(var kt=-1,ct=this.length;++kt<ct;){Se.push(Be=[]),Be.parentNode=($e=this[kt]).parentNode;for(var Ht=-1,rr=$e.length;++Ht<rr;)(nt=$e[Ht])?(Be.push(Ke=le.call(nt,nt.__data__,Ht,kt)),Ke&&"__data__"in nt&&(Ke.__data__=nt.__data__)):Be.push(null)}return X(Se)};function se(le){return typeof le=="function"?le:function(){return $(le,this)}}j.selectAll=function(le){var Se=[],Be,Ke;le=ne(le);for(var $e=-1,nt=this.length;++$e<nt;)for(var kt=this[$e],ct=-1,Ht=kt.length;++ct<Ht;)(Ke=kt[ct])&&(Se.push(Be=T(le.call(Ke,Ke.__data__,ct,$e))),Be.parentNode=Ke);return X(Se)};function ne(le){return typeof le=="function"?le:function(){return ie(le,this)}}var ue="http://www.w3.org/1999/xhtml",ge={svg:"http://www.w3.org/2000/svg",xhtml:ue,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};a.ns={prefix:ge,qualify:function(le){var Se=le.indexOf(":"),Be=le;return Se>=0&&(Be=le.slice(0,Se))!=="xmlns"&&(le=le.slice(Se+1)),ge.hasOwnProperty(Be)?{space:ge[Be],local:le}:le}},j.attr=function(le,Se){if(arguments.length<2){if(typeof le=="string"){var Be=this.node();return le=a.ns.qualify(le),le.local?Be.getAttributeNS(le.space,le.local):Be.getAttribute(le)}for(Se in le)this.each(we(Se,le[Se]));return this}return this.each(we(le,Se))};function we(le,Se){le=a.ns.qualify(le);function Be(){this.removeAttribute(le)}function Ke(){this.removeAttributeNS(le.space,le.local)}function $e(){this.setAttribute(le,Se)}function nt(){this.setAttributeNS(le.space,le.local,Se)}function kt(){var Ht=Se.apply(this,arguments);Ht==null?this.removeAttribute(le):this.setAttribute(le,Ht)}function ct(){var Ht=Se.apply(this,arguments);Ht==null?this.removeAttributeNS(le.space,le.local):this.setAttributeNS(le.space,le.local,Ht)}return Se==null?le.local?Ke:Be:typeof Se=="function"?le.local?ct:kt:le.local?nt:$e}function xe(le){return le.trim().replace(/\s+/g," ")}j.classed=function(le,Se){if(arguments.length<2){if(typeof le=="string"){var Be=this.node(),Ke=(le=ze(le)).length,$e=-1;if(Se=Be.classList){for(;++$e<Ke;)if(!Se.contains(le[$e]))return!1}else for(Se=Be.getAttribute("class");++$e<Ke;)if(!Fe(le[$e]).test(Se))return!1;return!0}for(Se in le)this.each(Te(Se,le[Se]));return this}return this.each(Te(le,Se))};function Fe(le){return new RegExp("(?:^|\\s+)"+a.requote(le)+"(?:\\s+|$)","g")}function ze(le){return(le+"").trim().split(/^|\s+/)}function Te(le,Se){le=ze(le).map(ye);var Be=le.length;function Ke(){for(var nt=-1;++nt<Be;)le[nt](this,Se)}function $e(){for(var nt=-1,kt=Se.apply(this,arguments);++nt<Be;)le[nt](this,kt)}return typeof Se=="function"?$e:Ke}function ye(le){var Se=Fe(le);return function(Be,Ke){if($e=Be.classList)return Ke?$e.add(le):$e.remove(le);var $e=Be.getAttribute("class")||"";Ke?(Se.lastIndex=0,Se.test($e)||Be.setAttribute("class",xe($e+" "+le))):Be.setAttribute("class",xe($e.replace(Se," ")))}}j.style=function(le,Se,Be){var Ke=arguments.length;if(Ke<3){if(typeof le!="string"){Ke<2&&(Se="");for(Be in le)this.each(Ae(Be,le[Be],Se));return this}if(Ke<2){var $e=this.node();return t($e).getComputedStyle($e,null).getPropertyValue(le)}Be=""}return this.each(Ae(le,Se,Be))};function Ae(le,Se,Be){function Ke(){this.style.removeProperty(le)}function $e(){this.style.setProperty(le,Se,Be)}function nt(){var kt=Se.apply(this,arguments);kt==null?this.style.removeProperty(le):this.style.setProperty(le,kt,Be)}return Se==null?Ke:typeof Se=="function"?nt:$e}j.property=function(le,Se){if(arguments.length<2){if(typeof le=="string")return this.node()[le];for(Se in le)this.each(Ne(Se,le[Se]));return this}return this.each(Ne(le,Se))};function Ne(le,Se){function Be(){delete this[le]}function Ke(){this[le]=Se}function $e(){var nt=Se.apply(this,arguments);nt==null?delete this[le]:this[le]=nt}return Se==null?Be:typeof Se=="function"?$e:Ke}j.text=function(le){return arguments.length?this.each(typeof le=="function"?function(){var Se=le.apply(this,arguments);this.textContent=Se??""}:le==null?function(){this.textContent=""}:function(){this.textContent=le}):this.node().textContent},j.html=function(le){return arguments.length?this.each(typeof le=="function"?function(){var Se=le.apply(this,arguments);this.innerHTML=Se??""}:le==null?function(){this.innerHTML=""}:function(){this.innerHTML=le}):this.node().innerHTML},j.append=function(le){return le=Ue(le),this.select(function(){return this.appendChild(le.apply(this,arguments))})};function Ue(le){function Se(){var Ke=this.ownerDocument,$e=this.namespaceURI;return $e===ue&&Ke.documentElement.namespaceURI===ue?Ke.createElement(le):Ke.createElementNS($e,le)}function Be(){return this.ownerDocument.createElementNS(le.space,le.local)}return typeof le=="function"?le:(le=a.ns.qualify(le)).local?Be:Se}j.insert=function(le,Se){return le=Ue(le),Se=se(Se),this.select(function(){return this.insertBefore(le.apply(this,arguments),Se.apply(this,arguments)||null)})},j.remove=function(){return this.each(Re)};function Re(){var le=this.parentNode;le&&le.removeChild(this)}j.data=function(le,Se){var Be=-1,Ke=this.length,$e,nt;if(!arguments.length){for(le=new Array(Ke=($e=this[0]).length);++Be<Ke;)(nt=$e[Be])&&(le[Be]=nt.__data__);return le}function kt(ar,Rr){var Dr,nn=ar.length,fn=Rr.length,Or=Math.min(nn,fn),Xr=new Array(fn),tn=new Array(fn),it=new Array(nn),gt,Mt;if(Se){var fr=new E,Lr=new Array(nn),Br;for(Dr=-1;++Dr<nn;)(gt=ar[Dr])&&(fr.has(Br=Se.call(gt,gt.__data__,Dr))?it[Dr]=gt:fr.set(Br,gt),Lr[Dr]=Br);for(Dr=-1;++Dr<fn;)(gt=fr.get(Br=Se.call(Rr,Mt=Rr[Dr],Dr)))?gt!==!0&&(Xr[Dr]=gt,gt.__data__=Mt):tn[Dr]=Ve(Mt),fr.set(Br,!0);for(Dr=-1;++Dr<nn;)Dr in Lr&&fr.get(Lr[Dr])!==!0&&(it[Dr]=ar[Dr])}else{for(Dr=-1;++Dr<Or;)gt=ar[Dr],Mt=Rr[Dr],gt?(gt.__data__=Mt,Xr[Dr]=gt):tn[Dr]=Ve(Mt);for(;Dr<fn;++Dr)tn[Dr]=Ve(Rr[Dr]);for(;Dr<nn;++Dr)it[Dr]=ar[Dr]}tn.update=Xr,tn.parentNode=Xr.parentNode=it.parentNode=ar.parentNode,ct.push(tn),Ht.push(Xr),rr.push(it)}var ct=qe([]),Ht=X([]),rr=X([]);if(typeof le=="function")for(;++Be<Ke;)kt($e=this[Be],le.call($e,$e.parentNode.__data__,Be));else for(;++Be<Ke;)kt($e=this[Be],le);return Ht.enter=function(){return ct},Ht.exit=function(){return rr},Ht};function Ve(le){return{__data__:le}}j.datum=function(le){return arguments.length?this.property("__data__",le):this.property("__data__")},j.filter=function(le){var Se=[],Be,Ke,$e;typeof le!="function"&&(le=rt(le));for(var nt=0,kt=this.length;nt<kt;nt++){Se.push(Be=[]),Be.parentNode=(Ke=this[nt]).parentNode;for(var ct=0,Ht=Ke.length;ct<Ht;ct++)($e=Ke[ct])&&le.call($e,$e.__data__,ct,nt)&&Be.push($e)}return X(Se)};function rt(le){return function(){return J(this,le)}}j.order=function(){for(var le=-1,Se=this.length;++le<Se;)for(var Be=this[le],Ke=Be.length-1,$e=Be[Ke],nt;--Ke>=0;)(nt=Be[Ke])&&($e&&$e!==nt.nextSibling&&$e.parentNode.insertBefore(nt,$e),$e=nt);return this},j.sort=function(le){le=Qe.apply(this,arguments);for(var Se=-1,Be=this.length;++Se<Be;)this[Se].sort(le);return this.order()};function Qe(le){return arguments.length||(le=l),function(Se,Be){return Se&&Be?le(Se.__data__,Be.__data__):!Se-!Be}}j.each=function(le){return Je(this,function(Se,Be,Ke){le.call(Se,Se.__data__,Be,Ke)})};function Je(le,Se){for(var Be=0,Ke=le.length;Be<Ke;Be++)for(var $e=le[Be],nt=0,kt=$e.length,ct;nt<kt;nt++)(ct=$e[nt])&&Se(ct,nt,Be);return le}j.call=function(le){var Se=T(arguments);return le.apply(Se[0]=this,Se),this},j.empty=function(){return!this.node()},j.node=function(){for(var le=0,Se=this.length;le<Se;le++)for(var Be=this[le],Ke=0,$e=Be.length;Ke<$e;Ke++){var nt=Be[Ke];if(nt)return nt}return null},j.size=function(){var le=0;return Je(this,function(){++le}),le};function qe(le){return Z(le,dt),le}var dt=[];a.selection.enter=qe,a.selection.enter.prototype=dt,dt.append=j.append,dt.empty=j.empty,dt.node=j.node,dt.call=j.call,dt.size=j.size,dt.select=function(le){for(var Se=[],Be,Ke,$e,nt,kt,ct=-1,Ht=this.length;++ct<Ht;){$e=(nt=this[ct]).update,Se.push(Be=[]),Be.parentNode=nt.parentNode;for(var rr=-1,ar=nt.length;++rr<ar;)(kt=nt[rr])?(Be.push($e[rr]=Ke=le.call(nt.parentNode,kt.__data__,rr,ct)),Ke.__data__=kt.__data__):Be.push(null)}return X(Se)},dt.insert=function(le,Se){return arguments.length<2&&(Se=pt(this)),j.insert.call(this,le,Se)};function pt(le){var Se,Be;return function(Ke,$e,nt){var kt=le[nt].update,ct=kt.length,Ht;for(nt!=Be&&(Be=nt,Se=0),$e>=Se&&(Se=$e+1);!(Ht=kt[Se])&&++Se<ct;);return Ht}}a.select=function(le){var Se;return typeof le=="string"?(Se=[$(le,v)],Se.parentNode=v.documentElement):(Se=[le],Se.parentNode=d(le)),X([Se])},a.selectAll=function(le){var Se;return typeof le=="string"?(Se=T(ie(le,v)),Se.parentNode=v.documentElement):(Se=T(le),Se.parentNode=null),X([Se])},j.on=function(le,Se,Be){var Ke=arguments.length;if(Ke<3){if(typeof le!="string"){Ke<2&&(Se=!1);for(Be in le)this.each(mt(Be,le[Be],Se));return this}if(Ke<2)return(Ke=this.node()["__on"+le])&&Ke._;Be=!1}return this.each(mt(le,Se,Be))};function mt(le,Se,Be){var Ke="__on"+le,$e=le.indexOf("."),nt=Rt;$e>0&&(le=le.slice(0,$e));var kt=Ct.get(le);kt&&(le=kt,nt=Zt);function ct(){var ar=this[Ke];ar&&(this.removeEventListener(le,ar,ar.$),delete this[Ke])}function Ht(){var ar=nt(Se,T(arguments));ct.call(this),this.addEventListener(le,this[Ke]=ar,ar.$=Be),ar._=Se}function rr(){var ar=new RegExp("^__on([^.]+)"+a.requote(le)+"$"),Rr;for(var Dr in this)if(Rr=Dr.match(ar)){var nn=this[Dr];this.removeEventListener(Rr[1],nn,nn.$),delete this[Dr]}}return $e?Se?Ht:ct:Se?G:rr}var Ct=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});v&&Ct.forEach(function(le){"on"+le in v&&Ct.remove(le)});function Rt(le,Se){return function(Be){var Ke=a.event;a.event=Be,Se[0]=this.__data__;try{le.apply(this,Se)}finally{a.event=Ke}}}function Zt(le,Se){var Be=Rt(le,Se);return function(Ke){var $e=this,nt=Ke.relatedTarget;(!nt||nt!==$e&&!(nt.compareDocumentPosition($e)&8))&&Be.call($e,Ke)}}var Xe,Le=0;function Pe(le){var Se=".dragsuppress-"+ ++Le,Be="click"+Se,Ke=a.select(t(le)).on("touchmove"+Se,ae).on("dragstart"+Se,ae).on("selectstart"+Se,ae);if(Xe==null&&(Xe="onselectstart"in le?!1:F(le.style,"userSelect")),Xe){var $e=d(le).style,nt=$e[Xe];$e[Xe]="none"}return function(kt){if(Ke.on(Se,null),Xe&&($e[Xe]=nt),kt){var ct=function(){Ke.on(Be,null)};Ke.on(Be,function(){ae(),ct()},!0),setTimeout(ct,0)}}}a.mouse=function(le){return Ce(le,fe())};var ke=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Ce(le,Se){Se.changedTouches&&(Se=Se.changedTouches[0]);var Be=le.ownerSVGElement||le;if(Be.createSVGPoint){var Ke=Be.createSVGPoint();if(ke<0){var $e=t(le);if($e.scrollX||$e.scrollY){Be=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var nt=Be[0][0].getScreenCTM();ke=!(nt.f||nt.e),Be.remove()}}return ke?(Ke.x=Se.pageX,Ke.y=Se.pageY):(Ke.x=Se.clientX,Ke.y=Se.clientY),Ke=Ke.matrixTransform(le.getScreenCTM().inverse()),[Ke.x,Ke.y]}var kt=le.getBoundingClientRect();return[Se.clientX-kt.left-le.clientLeft,Se.clientY-kt.top-le.clientTop]}a.touch=function(le,Se,Be){if(arguments.length<3&&(Be=Se,Se=fe().changedTouches),Se){for(var Ke=0,$e=Se.length,nt;Ke<$e;++Ke)if((nt=Se[Ke]).identifier===Be)return Ce(le,nt)}},a.behavior.drag=function(){var le=K($e,"drag","dragstart","dragend"),Se=null,Be=nt(G,a.mouse,t,"mousemove","mouseup"),Ke=nt(me,a.touch,O,"touchmove","touchend");function $e(){this.on("mousedown.drag",Be).on("touchstart.drag",Ke)}function nt(kt,ct,Ht,rr,ar){return function(){var Rr=this,Dr=a.event.target.correspondingElement||a.event.target,nn=Rr.parentNode,fn=le.of(Rr,arguments),Or=0,Xr=kt(),tn=".drag"+(Xr==null?"":"-"+Xr),it,gt=a.select(Ht(Dr)).on(rr+tn,Lr).on(ar+tn,Br),Mt=Pe(Dr),fr=ct(nn,Xr);Se?(it=Se.apply(Rr,arguments),it=[it.x-fr[0],it.y-fr[1]]):it=[0,0],fn({type:"dragstart"});function Lr(){var Ir=ct(nn,Xr),en,an;Ir&&(en=Ir[0]-fr[0],an=Ir[1]-fr[1],Or|=en|an,fr=Ir,fn({type:"drag",x:Ir[0]+it[0],y:Ir[1]+it[1],dx:en,dy:an}))}function Br(){ct(nn,Xr)&&(gt.on(rr+tn,null).on(ar+tn,null),Mt(Or),fn({type:"dragend"}))}}}return $e.origin=function(kt){return arguments.length?(Se=kt,$e):Se},a.rebind($e,le,"on")};function me(){return a.event.changedTouches[0].identifier}a.touches=function(le,Se){return arguments.length<2&&(Se=fe().touches),Se?T(Se).map(function(Be){var Ke=Ce(le,Be);return Ke.identifier=Be.identifier,Ke}):[]};var oe=1e-6,pe=oe*oe,Me=Math.PI,_e=2*Me,tt=_e-oe,at=Me/2,At=Me/180,Ft=180/Me;function Gt(le,Se,Be){return(Se[0]-le[0])*(Be[1]-le[1])-(Se[1]-le[1])*(Be[0]-le[0])}function Yt(le){return le>1?at:le<-1?-at:Math.asin(le)}function Dt(le){return((le=Math.exp(le))-1/le)/2}function $t(le){return((le=Math.exp(le))+1/le)/2}function lr(le){return((le=Math.exp(2*le))-1)/(le+1)}var Hr=Math.SQRT2,xt=2,Qt=4;a.interpolateZoom=function(le,Se){var Be=le[0],Ke=le[1],$e=le[2],nt=Se[0],kt=Se[1],ct=Se[2],Ht=nt-Be,rr=kt-Ke,ar=Ht*Ht+rr*rr,Rr,Dr;if(ar<pe)Dr=Math.log(ct/$e)/Hr,Rr=function(it){return[Be+it*Ht,Ke+it*rr,$e*Math.exp(Hr*it*Dr)]};else{var nn=Math.sqrt(ar),fn=(ct*ct-$e*$e+Qt*ar)/(2*$e*xt*nn),Or=(ct*ct-$e*$e-Qt*ar)/(2*ct*xt*nn),Xr=Math.log(Math.sqrt(fn*fn+1)-fn),tn=Math.log(Math.sqrt(Or*Or+1)-Or);Dr=(tn-Xr)/Hr,Rr=function(it){var gt=it*Dr,Mt=$t(Xr),fr=$e/(xt*nn)*(Mt*lr(Hr*gt+Xr)-Dt(Xr));return[Be+fr*Ht,Ke+fr*rr,$e*Mt/$t(Hr*gt+Xr)]}}return Rr.duration=Dr*1e3,Rr},a.behavior.zoom=function(){var le={x:0,y:0,k:1},Se,Be,Ke,$e=[960,500],nt=jt,kt=250,ct=0,Ht="mousedown.zoom",rr="mousemove.zoom",ar="mouseup.zoom",Rr,Dr="touchstart.zoom",nn,fn=K(gt,"zoomstart","zoom","zoomend"),Or,Xr,tn,it;gr||(gr="onwheel"in v?(Sr=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(Sr=function(){return a.event.wheelDelta},"mousewheel"):(Sr=function(){return-a.event.detail},"MozMousePixelScroll"));function gt(kn){kn.on(Ht,Jn).on(gr+".zoom",da).on("dblclick.zoom",pa).on(Dr,Kn)}gt.event=function(kn){kn.each(function(){var wa=fn.of(this,arguments),Aa=le;Fr?a.select(this).transition().each("start.zoom",function(){le=this.__chart__||{x:0,y:0,k:1},an(wa)}).tween("zoom:zoom",function(){var Oa=$e[0],oi=$e[1],ui=Be?Be[0]:Oa/2,xi=Be?Be[1]:oi/2,Ya=a.interpolateZoom([(ui-le.x)/le.k,(xi-le.y)/le.k,Oa/le.k],[(ui-Aa.x)/Aa.k,(xi-Aa.y)/Aa.k,Oa/Aa.k]);return function($n){var Xn=Ya($n),na=Oa/Xn[2];this.__chart__=le={x:ui-Xn[0]*na,y:xi-Xn[1]*na,k:na},In(wa)}}).each("interrupt.zoom",function(){Dn(wa)}).each("end.zoom",function(){Dn(wa)}):(this.__chart__=le,an(wa),In(wa),Dn(wa))})},gt.translate=function(kn){return arguments.length?(le={x:+kn[0],y:+kn[1],k:le.k},en(),gt):[le.x,le.y]},gt.scale=function(kn){return arguments.length?(le={x:le.x,y:le.y,k:null},Lr(+kn),en(),gt):le.k},gt.scaleExtent=function(kn){return arguments.length?(nt=kn==null?jt:[+kn[0],+kn[1]],gt):nt},gt.center=function(kn){return arguments.length?(Ke=kn&&[+kn[0],+kn[1]],gt):Ke},gt.size=function(kn){return arguments.length?($e=kn&&[+kn[0],+kn[1]],gt):$e},gt.duration=function(kn){return arguments.length?(kt=+kn,gt):kt},gt.x=function(kn){return arguments.length?(Xr=kn,Or=kn.copy(),le={x:0,y:0,k:1},gt):Xr},gt.y=function(kn){return arguments.length?(it=kn,tn=kn.copy(),le={x:0,y:0,k:1},gt):it};function Mt(kn){return[(kn[0]-le.x)/le.k,(kn[1]-le.y)/le.k]}function fr(kn){return[kn[0]*le.k+le.x,kn[1]*le.k+le.y]}function Lr(kn){le.k=Math.max(nt[0],Math.min(nt[1],kn))}function Br(kn,wa){wa=fr(wa),le.x+=kn[0]-wa[0],le.y+=kn[1]-wa[1]}function Ir(kn,wa,Aa,Oa){kn.__chart__={x:le.x,y:le.y,k:le.k},Lr(Math.pow(2,Oa)),Br(Be=wa,Aa),kn=a.select(kn),kt>0&&(kn=kn.transition().duration(kt)),kn.call(gt.event)}function en(){Xr&&Xr.domain(Or.range().map(function(kn){return(kn-le.x)/le.k}).map(Or.invert)),it&&it.domain(tn.range().map(function(kn){return(kn-le.y)/le.k}).map(tn.invert))}function an(kn){ct++||kn({type:"zoomstart"})}function In(kn){en(),kn({type:"zoom",scale:le.k,translate:[le.x,le.y]})}function Dn(kn){--ct||(kn({type:"zoomend"}),Be=null)}function Jn(){var kn=this,wa=fn.of(kn,arguments),Aa=0,Oa=a.select(t(kn)).on(rr,xi).on(ar,Ya),oi=Mt(a.mouse(kn)),ui=Pe(kn);Ut.call(kn),an(wa);function xi(){Aa=1,Br(a.mouse(kn),oi),In(wa)}function Ya(){Oa.on(rr,null).on(ar,null),ui(Aa),Dn(wa)}}function Kn(){var kn=this,wa=fn.of(kn,arguments),Aa={},Oa=0,oi,ui=".zoom-"+a.event.changedTouches[0].identifier,xi="touchmove"+ui,Ya="touchend"+ui,$n=[],Xn=a.select(kn),na=Pe(kn);hi(),an(wa),Xn.on(Ht,null).on(Dr,hi);function Ha(){var ri=a.touches(kn);return oi=le.k,ri.forEach(function(ja){ja.identifier in Aa&&(Aa[ja.identifier]=Mt(ja))}),ri}function hi(){var ri=a.event.target;a.select(ri).on(xi,ci).on(Ya,Qa),$n.push(ri);for(var ja=a.event.changedTouches,li=0,fi=ja.length;li<fi;++li)Aa[ja[li].identifier]=null;var uo=Ha(),Qi=Date.now();if(uo.length===1){if(Qi-nn<500){var ni=uo[0];Ir(kn,ni,Aa[ni.identifier],Math.floor(Math.log(le.k)/Math.LN2)+1),ae()}nn=Qi}else if(uo.length>1){var ni=uo[0],Ei=uo[1],us=ni[0]-Ei[0],Es=ni[1]-Ei[1];Oa=us*us+Es*Es}}function ci(){var ri=a.touches(kn),ja,li,fi,uo;Ut.call(kn);for(var Qi=0,ni=ri.length;Qi<ni;++Qi,uo=null)if(fi=ri[Qi],uo=Aa[fi.identifier]){if(li)break;ja=fi,li=uo}if(uo){var Ei=(Ei=fi[0]-ja[0])*Ei+(Ei=fi[1]-ja[1])*Ei,us=Oa&&Math.sqrt(Ei/Oa);ja=[(ja[0]+fi[0])/2,(ja[1]+fi[1])/2],li=[(li[0]+uo[0])/2,(li[1]+uo[1])/2],Lr(us*oi)}nn=null,Br(ja,li),In(wa)}function Qa(){if(a.event.touches.length){for(var ri=a.event.changedTouches,ja=0,li=ri.length;ja<li;++ja)delete Aa[ri[ja].identifier];for(var fi in Aa)return void Ha()}a.selectAll($n).on(ui,null),Xn.on(Ht,Jn).on(Dr,Kn),na(),Dn(wa)}}function da(){var kn=fn.of(this,arguments);Rr?clearTimeout(Rr):(Ut.call(this),Se=Mt(Be=Ke||a.mouse(this)),an(kn)),Rr=setTimeout(function(){Rr=null,Dn(kn)},50),ae(),Lr(Math.pow(2,Sr()*.002)*le.k),Br(Be,Se),In(kn)}function pa(){var kn=a.mouse(this),wa=Math.log(le.k)/Math.LN2;Ir(this,kn,Mt(kn),a.event.shiftKey?Math.ceil(wa)-1:Math.floor(wa)+1)}return a.rebind(gt,fn,"on")};var jt=[0,1/0],Sr,gr;a.color=ut;function ut(){}ut.prototype.toString=function(){return this.rgb()+""},a.hsl=st;function st(le,Se,Be){return this instanceof st?(this.h=+le,this.s=+Se,void(this.l=+Be)):arguments.length<2?le instanceof st?new st(le.h,le.s,le.l):xr(""+le,yr,st):new st(le,Se,Be)}var bt=st.prototype=new ut;bt.brighter=function(le){return le=Math.pow(.7,arguments.length?le:1),new st(this.h,this.s,this.l/le)},bt.darker=function(le){return le=Math.pow(.7,arguments.length?le:1),new st(this.h,this.s,le*this.l)},bt.rgb=function(){return St(this.h,this.s,this.l)};function St(le,Se,Be){var Ke,$e;le=isNaN(le)?0:(le%=360)<0?le+360:le,Se=isNaN(Se)||Se<0?0:Se>1?1:Se,Be=Be<0?0:Be>1?1:Be,$e=Be<=.5?Be*(1+Se):Be+Se-Be*Se,Ke=2*Be-$e;function nt(ct){return ct>360?ct-=360:ct<0&&(ct+=360),ct<60?Ke+($e-Ke)*ct/60:ct<180?$e:ct<240?Ke+($e-Ke)*(240-ct)/60:Ke}function kt(ct){return Math.round(nt(ct)*255)}return new hr(kt(le+120),kt(le),kt(le-120))}a.hcl=Pt;function Pt(le,Se,Be){return this instanceof Pt?(this.h=+le,this.c=+Se,void(this.l=+Be)):arguments.length<2?le instanceof Pt?new Pt(le.h,le.c,le.l):le instanceof Wt?_t(le.l,le.a,le.b):_t((le=Kr((le=a.rgb(le)).r,le.g,le.b)).l,le.a,le.b):new Pt(le,Se,Be)}var Et=Pt.prototype=new ut;Et.brighter=function(le){return new Pt(this.h,this.c,Math.min(100,this.l+tr*(arguments.length?le:1)))},Et.darker=function(le){return new Pt(this.h,this.c,Math.max(0,this.l-tr*(arguments.length?le:1)))},Et.rgb=function(){return Bt(this.h,this.c,this.l).rgb()};function Bt(le,Se,Be){return isNaN(le)&&(le=0),isNaN(Se)&&(Se=0),new Wt(Be,Math.cos(le*=At)*Se,Math.sin(le)*Se)}a.lab=Wt;function Wt(le,Se,Be){return this instanceof Wt?(this.l=+le,this.a=+Se,void(this.b=+Be)):arguments.length<2?le instanceof Wt?new Wt(le.l,le.a,le.b):le instanceof Pt?Bt(le.h,le.c,le.l):Kr((le=hr(le)).r,le.g,le.b):new Wt(le,Se,Be)}var tr=18,er=.95047,ur=1,kr=1.08883,We=Wt.prototype=new ut;We.brighter=function(le){return new Wt(Math.min(100,this.l+tr*(arguments.length?le:1)),this.a,this.b)},We.darker=function(le){return new Wt(Math.max(0,this.l-tr*(arguments.length?le:1)),this.a,this.b)},We.rgb=function(){return Ge(this.l,this.a,this.b)};function Ge(le,Se,Be){var Ke=(le+16)/116,$e=Ke+Se/500,nt=Ke-Be/200;return $e=Ot($e)*er,Ke=Ot(Ke)*ur,nt=Ot(nt)*kr,new hr(or(3.2404542*$e-1.5371385*Ke-.4985314*nt),or(-.969266*$e+1.8760108*Ke+.041556*nt),or(.0556434*$e-.2040259*Ke+1.0572252*nt))}function _t(le,Se,Be){return le>0?new Pt(Math.atan2(Be,Se)*Ft,Math.sqrt(Se*Se+Be*Be),le):new Pt(NaN,NaN,le)}function Ot(le){return le>.206893034?le*le*le:(le-.13793103448275862)/7.787037}function Kt(le){return le>.008856?Math.pow(le,.3333333333333333):7.787037*le+.13793103448275862}function or(le){return Math.round(255*(le<=.00304?12.92*le:1.055*Math.pow(le,.4166666666666667)-.055))}a.rgb=hr;function hr(le,Se,Be){return this instanceof hr?(this.r=~~le,this.g=~~Se,void(this.b=~~Be)):arguments.length<2?le instanceof hr?new hr(le.r,le.g,le.b):xr(""+le,hr,St):new hr(le,Se,Be)}function ir(le){return new hr(le>>16,le>>8&255,le&255)}function Nt(le){return ir(le)+""}var vr=hr.prototype=new ut;vr.brighter=function(le){le=Math.pow(.7,arguments.length?le:1);var Se=this.r,Be=this.g,Ke=this.b,$e=30;return!Se&&!Be&&!Ke?new hr($e,$e,$e):(Se&&Se<$e&&(Se=$e),Be&&Be<$e&&(Be=$e),Ke&&Ke<$e&&(Ke=$e),new hr(Math.min(255,Se/le),Math.min(255,Be/le),Math.min(255,Ke/le)))},vr.darker=function(le){return le=Math.pow(.7,arguments.length?le:1),new hr(le*this.r,le*this.g,le*this.b)},vr.hsl=function(){return yr(this.r,this.g,this.b)},vr.toString=function(){return"#"+mr(this.r)+mr(this.g)+mr(this.b)};function mr(le){return le<16?"0"+Math.max(0,le).toString(16):Math.min(255,le).toString(16)}function xr(le,Se,Be){var Ke=0,$e=0,nt=0,kt,ct,Ht;if(kt=/([a-z]+)\((.*)\)/.exec(le=le.toLowerCase()),kt)switch(ct=kt[2].split(","),kt[1]){case"hsl":return Be(parseFloat(ct[0]),parseFloat(ct[1])/100,parseFloat(ct[2])/100);case"rgb":return Se(Ur(ct[0]),Ur(ct[1]),Ur(ct[2]))}return(Ht=Tn.get(le))?Se(Ht.r,Ht.g,Ht.b):(le!=null&&le.charAt(0)==="#"&&!isNaN(Ht=parseInt(le.slice(1),16))&&(le.length===4?(Ke=(Ht&3840)>>4,Ke=Ke>>4|Ke,$e=Ht&240,$e=$e>>4|$e,nt=Ht&15,nt=nt<<4|nt):le.length===7&&(Ke=(Ht&16711680)>>16,$e=(Ht&65280)>>8,nt=Ht&255)),Se(Ke,$e,nt))}function yr(le,Se,Be){var Ke=Math.min(le/=255,Se/=255,Be/=255),$e=Math.max(le,Se,Be),nt=$e-Ke,kt,ct,Ht=($e+Ke)/2;return nt?(ct=Ht<.5?nt/($e+Ke):nt/(2-$e-Ke),le==$e?kt=(Se-Be)/nt+(Se<Be?6:0):Se==$e?kt=(Be-le)/nt+2:kt=(le-Se)/nt+4,kt*=60):(kt=NaN,ct=Ht>0&&Ht<1?0:kt),new st(kt,ct,Ht)}function Kr(le,Se,Be){le=Nr(le),Se=Nr(Se),Be=Nr(Be);var Ke=Kt((.4124564*le+.3575761*Se+.1804375*Be)/er),$e=Kt((.2126729*le+.7151522*Se+.072175*Be)/ur),nt=Kt((.0193339*le+.119192*Se+.9503041*Be)/kr);return Wt(116*$e-16,500*(Ke-$e),200*($e-nt))}function Nr(le){return(le/=255)<=.04045?le/12.92:Math.pow((le+.055)/1.055,2.4)}function Ur(le){var Se=parseFloat(le);return le.charAt(le.length-1)==="%"?Math.round(Se*2.55):Se}var Tn=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Tn.forEach(function(le,Se){Tn.set(le,ir(Se))});function rn(le){return typeof le=="function"?le:function(){return le}}a.functor=rn,a.xhr=Gn(O);function Gn(le){return function(Se,Be,Ke){return arguments.length===2&&typeof Be=="function"&&(Ke=Be,Be=null),Hn(Se,Be,le,Ke)}}function Hn(le,Se,Be,Ke){var $e={},nt=a.dispatch("beforesend","progress","load","error"),kt={},ct=new XMLHttpRequest,Ht=null;self.XDomainRequest&&!("withCredentials"in ct)&&/^(http(s)?:)?\/\//.test(le)&&(ct=new XDomainRequest),"onload"in ct?ct.onload=ct.onerror=rr:ct.onreadystatechange=function(){ct.readyState>3&&rr()};function rr(){var ar=ct.status,Rr;if(!ar&&Cr(ct)||ar>=200&&ar<300||ar===304){try{Rr=Be.call($e,ct)}catch(Dr){nt.error.call($e,Dr);return}nt.load.call($e,Rr)}else nt.error.call($e,ct)}return ct.onprogress=function(ar){var Rr=a.event;a.event=ar;try{nt.progress.call($e,ct)}finally{a.event=Rr}},$e.header=function(ar,Rr){return ar=(ar+"").toLowerCase(),arguments.length<2?kt[ar]:(Rr==null?delete kt[ar]:kt[ar]=Rr+"",$e)},$e.mimeType=function(ar){return arguments.length?(Se=ar==null?null:ar+"",$e):Se},$e.responseType=function(ar){return arguments.length?(Ht=ar,$e):Ht},$e.response=function(ar){return Be=ar,$e},["get","post"].forEach(function(ar){$e[ar]=function(){return $e.send.apply($e,[ar].concat(T(arguments)))}}),$e.send=function(ar,Rr,Dr){if(arguments.length===2&&typeof Rr=="function"&&(Dr=Rr,Rr=null),ct.open(ar,le,!0),Se!=null&&!("accept"in kt)&&(kt.accept=Se+",*/*"),ct.setRequestHeader)for(var nn in kt)ct.setRequestHeader(nn,kt[nn]);return Se!=null&&ct.overrideMimeType&&ct.overrideMimeType(Se),Ht!=null&&(ct.responseType=Ht),Dr!=null&&$e.on("error",Dr).on("load",function(fn){Dr(null,fn)}),nt.beforesend.call($e,ct),ct.send(Rr??null),$e},$e.abort=function(){return ct.abort(),$e},a.rebind($e,nt,"on"),Ke==null?$e:$e.get(Ar(Ke))}function Ar(le){return le.length===1?function(Se,Be){le(Se==null?Be:null)}:le}function Cr(le){var Se=le.responseType;return Se&&Se!=="text"?le.response:le.responseText}a.dsv=function(le,Se){var Be=new RegExp('["'+le+`
]`),Ke=le.charCodeAt(0);function $e(rr,ar,Rr){arguments.length<3&&(Rr=ar,ar=null);var Dr=Hn(rr,Se,ar==null?nt:kt(ar),Rr);return Dr.row=function(nn){return arguments.length?Dr.response((ar=nn)==null?nt:kt(nn)):ar},Dr}function nt(rr){return $e.parse(rr.responseText)}function kt(rr){return function(ar){return $e.parse(ar.responseText,rr)}}$e.parse=function(rr,ar){var Rr;return $e.parseRows(rr,function(Dr,nn){if(Rr)return Rr(Dr,nn-1);var fn=function(Or){for(var Xr={},tn=Dr.length,it=0;it<tn;++it)Xr[Dr[it]]=Or[it];return Xr};Rr=ar?function(Or,Xr){return ar(fn(Or),Xr)}:fn})},$e.parseRows=function(rr,ar){var Rr={},Dr={},nn=[],fn=rr.length,Or=0,Xr=0,tn,it;function gt(){if(Or>=fn)return Dr;if(it)return it=!1,Rr;var fr=Or;if(rr.charCodeAt(fr)===34){for(var Lr=fr;Lr++<fn;)if(rr.charCodeAt(Lr)===34){if(rr.charCodeAt(Lr+1)!==34)break;++Lr}Or=Lr+2;var Br=rr.charCodeAt(Lr+1);return Br===13?(it=!0,rr.charCodeAt(Lr+2)===10&&++Or):Br===10&&(it=!0),rr.slice(fr+1,Lr).replace(/""/g,'"')}for(;Or<fn;){var Br=rr.charCodeAt(Or++),Ir=1;if(Br===10)it=!0;else if(Br===13)it=!0,rr.charCodeAt(Or)===10&&(++Or,++Ir);else if(Br!==Ke)continue;return rr.slice(fr,Or-Ir)}return rr.slice(fr)}for(;(tn=gt())!==Dr;){for(var Mt=[];tn!==Rr&&tn!==Dr;)Mt.push(tn),tn=gt();ar&&(Mt=ar(Mt,Xr++))==null||nn.push(Mt)}return nn},$e.format=function(rr){if(Array.isArray(rr[0]))return $e.formatRows(rr);var ar=new k,Rr=[];return rr.forEach(function(Dr){for(var nn in Dr)ar.has(nn)||Rr.push(ar.add(nn))}),[Rr.map(Ht).join(le)].concat(rr.map(function(Dr){return Rr.map(function(nn){return Ht(Dr[nn])}).join(le)})).join(`
`)},$e.formatRows=function(rr){return rr.map(ct).join(`
`)};function ct(rr){return rr.map(Ht).join(le)}function Ht(rr){return Be.test(rr)?'"'+rr.replace(/\"/g,'""')+'"':rr}return $e},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("	","text/tab-separated-values");var Yr,Zr,un,mn,pn=this[F(this,"requestAnimationFrame")]||function(le){setTimeout(le,17)};a.timer=function(){Rn.apply(this,arguments)};function Rn(le,Se,Be){var Ke=arguments.length;Ke<2&&(Se=0),Ke<3&&(Be=Date.now());var $e=Be+Se,nt={c:le,t:$e,n:null};return Zr?Zr.n=nt:Yr=nt,Zr=nt,un||(mn=clearTimeout(mn),un=1,pn(Un)),nt}function Un(){var le=oa(),Se=ua()-le;Se>24?(isFinite(Se)&&(clearTimeout(mn),mn=setTimeout(Un,Se)),un=0):(un=1,pn(Un))}a.timer.flush=function(){oa(),ua()};function oa(){for(var le=Date.now(),Se=Yr;Se;)le>=Se.t&&Se.c(le-Se.t)&&(Se.c=null),Se=Se.n;return le}function ua(){for(var le,Se=Yr,Be=1/0;Se;)Se.c?(Se.t<Be&&(Be=Se.t),Se=(le=Se).n):Se=le?le.n=Se.n:Yr=Se.n;return Zr=le,Be}a.round=function(le,Se){return Se?Math.round(le*(Se=Math.pow(10,Se)))/Se:Math.round(le)},a.geom={};function xa(le){return le[0]}function va(le){return le[1]}a.geom.hull=function(le){var Se=xa,Be=va;if(arguments.length)return Ke(le);function Ke($e){if($e.length<3)return[];var nt=rn(Se),kt=rn(Be),ct,Ht=$e.length,rr=[],ar=[];for(ct=0;ct<Ht;ct++)rr.push([+nt.call(this,$e[ct],ct),+kt.call(this,$e[ct],ct),ct]);for(rr.sort(Pr),ct=0;ct<Ht;ct++)ar.push([rr[ct][0],-rr[ct][1]]);var Rr=ca(rr),Dr=ca(ar),nn=Dr[0]===Rr[0],fn=Dr[Dr.length-1]===Rr[Rr.length-1],Or=[];for(ct=Rr.length-1;ct>=0;--ct)Or.push($e[rr[Rr[ct]][2]]);for(ct=+nn;ct<Dr.length-fn;++ct)Or.push($e[rr[Dr[ct]][2]]);return Or}return Ke.x=function($e){return arguments.length?(Se=$e,Ke):Se},Ke.y=function($e){return arguments.length?(Be=$e,Ke):Be},Ke};function ca(le){for(var Se=le.length,Be=[0,1],Ke=2,$e=2;$e<Se;$e++){for(;Ke>1&&Gt(le[Be[Ke-2]],le[Be[Ke-1]],le[$e])<=0;)--Ke;Be[Ke++]=$e}return Be.slice(0,Ke)}function Pr(le,Se){return le[0]-Se[0]||le[1]-Se[1]}a.geom.polygon=function(le){return Z(le,dn),le};var dn=a.geom.polygon.prototype=[];dn.area=function(){for(var le=-1,Se=this.length,Be,Ke=this[Se-1],$e=0;++le<Se;)Be=Ke,Ke=this[le],$e+=Be[1]*Ke[0]-Be[0]*Ke[1];return $e*.5},dn.centroid=function(le){var Se=-1,Be=this.length,Ke=0,$e=0,nt,kt=this[Be-1],ct;for(arguments.length||(le=-1/(6*this.area()));++Se<Be;)nt=kt,kt=this[Se],ct=nt[0]*kt[1]-kt[0]*nt[1],Ke+=(nt[0]+kt[0])*ct,$e+=(nt[1]+kt[1])*ct;return[Ke*le,$e*le]},dn.clip=function(le){for(var Se,Be=Qn(le),Ke=-1,$e=this.length-Qn(this),nt,kt,ct=this[$e-1],Ht,rr,ar;++Ke<$e;){for(Se=le.slice(),le.length=0,Ht=this[Ke],rr=Se[(kt=Se.length-Be)-1],nt=-1;++nt<kt;)ar=Se[nt],cn(ar,ct,Ht)?(cn(rr,ct,Ht)||le.push(An(rr,ar,ct,Ht)),le.push(ar)):cn(rr,ct,Ht)&&le.push(An(rr,ar,ct,Ht)),rr=ar;Be&&le.push(le[0]),ct=Ht}return le};function cn(le,Se,Be){return(Be[0]-Se[0])*(le[1]-Se[1])<(Be[1]-Se[1])*(le[0]-Se[0])}function An(le,Se,Be,Ke){var $e=le[0],nt=Be[0],kt=Se[0]-$e,ct=Ke[0]-nt,Ht=le[1],rr=Be[1],ar=Se[1]-Ht,Rr=Ke[1]-rr,Dr=(ct*(Ht-rr)-Rr*($e-nt))/(Rr*kt-ct*ar);return[$e+Dr*kt,Ht+Dr*ar]}function Qn(le){var Se=le[0],Be=le[le.length-1];return!(Se[0]-Be[0]||Se[1]-Be[1])}var zn,Bn,qn,ya=[],Na,ii,Jt=[];function Mr(){mo(this),this.edge=this.site=this.circle=null}function hn(le){var Se=ya.pop()||new Mr;return Se.site=le,Se}function xn(le){ta(le),qn.remove(le),ya.push(le),mo(le)}function bn(le){var Se=le.circle,Be=Se.x,Ke=Se.cy,$e={x:Be,y:Ke},nt=le.P,kt=le.N,ct=[le];xn(le);for(var Ht=nt;Ht.circle&&p(Be-Ht.circle.x)<oe&&p(Ke-Ht.circle.cy)<oe;)nt=Ht.P,ct.unshift(Ht),xn(Ht),Ht=nt;ct.unshift(Ht),ta(Ht);for(var rr=kt;rr.circle&&p(Be-rr.circle.x)<oe&&p(Ke-rr.circle.cy)<oe;)kt=rr.N,ct.push(rr),xn(rr),rr=kt;ct.push(rr),ta(rr);var ar=ct.length,Rr;for(Rr=1;Rr<ar;++Rr)rr=ct[Rr],Ht=ct[Rr-1],Pa(rr.edge,Ht.site,rr.site,$e);Ht=ct[0],rr=ct[ar-1],rr.edge=ba(Ht.site,rr.site,null,$e),Yn(Ht),Yn(rr)}function Nn(le){for(var Se=le.x,Be=le.y,Ke,$e,nt,kt,ct=qn._;ct;)if(nt=Pn(ct,Be)-Se,nt>oe)ct=ct.L;else if(kt=Se-yn(ct,Be),kt>oe){if(!ct.R){Ke=ct;break}ct=ct.R}else{nt>-oe?(Ke=ct.P,$e=ct):kt>-oe?(Ke=ct,$e=ct.N):Ke=$e=ct;break}var Ht=hn(le);if(qn.insert(Ke,Ht),!(!Ke&&!$e)){if(Ke===$e){ta(Ke),$e=hn(Ke.site),qn.insert(Ht,$e),Ht.edge=$e.edge=ba(Ke.site,Ht.site),Yn(Ke),Yn($e);return}if(!$e){Ht.edge=ba(Ke.site,Ht.site);return}ta(Ke),ta($e);var rr=Ke.site,ar=rr.x,Rr=rr.y,Dr=le.x-ar,nn=le.y-Rr,fn=$e.site,Or=fn.x-ar,Xr=fn.y-Rr,tn=2*(Dr*Xr-nn*Or),it=Dr*Dr+nn*nn,gt=Or*Or+Xr*Xr,Mt={x:(Xr*it-nn*gt)/tn+ar,y:(Dr*gt-Or*it)/tn+Rr};Pa($e.edge,rr,fn,Mt),Ht.edge=ba(rr,le,null,Mt),$e.edge=ba(le,fn,null,Mt),Yn(Ke),Yn($e)}}function Pn(le,Se){var Be=le.site,Ke=Be.x,$e=Be.y,nt=$e-Se;if(!nt)return Ke;var kt=le.P;if(!kt)return-1/0;Be=kt.site;var ct=Be.x,Ht=Be.y,rr=Ht-Se;if(!rr)return ct;var ar=ct-Ke,Rr=1/nt-1/rr,Dr=ar/rr;return Rr?(-Dr+Math.sqrt(Dr*Dr-2*Rr*(ar*ar/(-2*rr)-Ht+rr/2+$e-nt/2)))/Rr+Ke:(Ke+ct)/2}function yn(le,Se){var Be=le.N;if(Be)return Pn(Be,Se);var Ke=le.site;return Ke.y===Se?Ke.x:1/0}function zr(le){this.site=le,this.edges=[]}zr.prototype.prepare=function(){for(var le=this.edges,Se=le.length,Be;Se--;)Be=le[Se].edge,(!Be.b||!Be.a)&&le.splice(Se,1);return le.sort(Gr),le.length};function _r(le){for(var Se=le[0][0],Be=le[1][0],Ke=le[0][1],$e=le[1][1],nt,kt,ct,Ht,rr=Bn,ar=rr.length,Rr,Dr,nn,fn,Or,Xr;ar--;)if(Rr=rr[ar],!(!Rr||!Rr.prepare()))for(nn=Rr.edges,fn=nn.length,Dr=0;Dr<fn;)Xr=nn[Dr].end(),ct=Xr.x,Ht=Xr.y,Or=nn[++Dr%fn].start(),nt=Or.x,kt=Or.y,(p(ct-nt)>oe||p(Ht-kt)>oe)&&(nn.splice(Dr,0,new $i(ma(Rr.site,Xr,p(ct-Se)<oe&&$e-Ht>oe?{x:Se,y:p(nt-Se)<oe?kt:$e}:p(Ht-$e)<oe&&Be-ct>oe?{x:p(kt-$e)<oe?nt:Be,y:$e}:p(ct-Be)<oe&&Ht-Ke>oe?{x:Be,y:p(nt-Be)<oe?kt:Ke}:p(Ht-Ke)<oe&&ct-Se>oe?{x:p(kt-Ke)<oe?nt:Se,y:Ke}:null),Rr.site,null)),++fn)}function Gr(le,Se){return Se.angle-le.angle}function wn(){mo(this),this.x=this.y=this.arc=this.site=this.cy=null}function Yn(le){var Se=le.P,Be=le.N;if(!(!Se||!Be)){var Ke=Se.site,$e=le.site,nt=Be.site;if(Ke!==nt){var kt=$e.x,ct=$e.y,Ht=Ke.x-kt,rr=Ke.y-ct,ar=nt.x-kt,Xr=nt.y-ct,Rr=2*(Ht*Xr-rr*ar);if(!(Rr>=-pe)){var Dr=Ht*Ht+rr*rr,nn=ar*ar+Xr*Xr,fn=(Xr*Dr-rr*nn)/Rr,Or=(Ht*nn-ar*Dr)/Rr,Xr=Or+ct,tn=Jt.pop()||new wn;tn.arc=le,tn.site=$e,tn.x=fn+kt,tn.y=Xr+Math.sqrt(fn*fn+Or*Or),tn.cy=Xr,le.circle=tn;for(var it=null,gt=ii._;gt;)if(tn.y<gt.y||tn.y===gt.y&&tn.x<=gt.x)if(gt.L)gt=gt.L;else{it=gt.P;break}else if(gt.R)gt=gt.R;else{it=gt;break}ii.insert(it,tn),it||(Na=tn)}}}}function ta(le){var Se=le.circle;Se&&(Se.P||(Na=Se.N),ii.remove(Se),Jt.push(Se),mo(Se),le.circle=null)}function Mn(le,Se,Be,Ke){return function($e){var nt=$e.a,kt=$e.b,ct=nt.x,Ht=nt.y,rr=kt.x,ar=kt.y,Rr=0,Dr=1,nn=rr-ct,fn=ar-Ht,Or;if(Or=le-ct,!(!nn&&Or>0)){if(Or/=nn,nn<0){if(Or<Rr)return;Or<Dr&&(Dr=Or)}else if(nn>0){if(Or>Dr)return;Or>Rr&&(Rr=Or)}if(Or=Be-ct,!(!nn&&Or<0)){if(Or/=nn,nn<0){if(Or>Dr)return;Or>Rr&&(Rr=Or)}else if(nn>0){if(Or<Rr)return;Or<Dr&&(Dr=Or)}if(Or=Se-Ht,!(!fn&&Or>0)){if(Or/=fn,fn<0){if(Or<Rr)return;Or<Dr&&(Dr=Or)}else if(fn>0){if(Or>Dr)return;Or>Rr&&(Rr=Or)}if(Or=Ke-Ht,!(!fn&&Or<0)){if(Or/=fn,fn<0){if(Or>Dr)return;Or>Rr&&(Rr=Or)}else if(fn>0){if(Or<Rr)return;Or<Dr&&(Dr=Or)}return Rr>0&&($e.a={x:ct+Rr*nn,y:Ht+Rr*fn}),Dr<1&&($e.b={x:ct+Dr*nn,y:Ht+Dr*fn}),$e}}}}}}function jn(le){for(var Se=zn,Be=Mn(le[0][0],le[0][1],le[1][0],le[1][1]),Ke=Se.length,$e;Ke--;)$e=Se[Ke],(!fa($e,le)||!Be($e)||p($e.a.x-$e.b.x)<oe&&p($e.a.y-$e.b.y)<oe)&&($e.a=$e.b=null,Se.splice(Ke,1))}function fa(le,Se){var Be=le.b;if(Be)return!0;var Ke=le.a,$e=Se[0][0],nt=Se[1][0],kt=Se[0][1],ct=Se[1][1],Ht=le.l,rr=le.r,ar=Ht.x,Rr=Ht.y,Dr=rr.x,nn=rr.y,fn=(ar+Dr)/2,Or=(Rr+nn)/2,Xr,tn;if(nn===Rr){if(fn<$e||fn>=nt)return;if(ar>Dr){if(!Ke)Ke={x:fn,y:kt};else if(Ke.y>=ct)return;Be={x:fn,y:ct}}else{if(!Ke)Ke={x:fn,y:ct};else if(Ke.y<kt)return;Be={x:fn,y:kt}}}else if(Xr=(ar-Dr)/(nn-Rr),tn=Or-Xr*fn,Xr<-1||Xr>1)if(ar>Dr){if(!Ke)Ke={x:(kt-tn)/Xr,y:kt};else if(Ke.y>=ct)return;Be={x:(ct-tn)/Xr,y:ct}}else{if(!Ke)Ke={x:(ct-tn)/Xr,y:ct};else if(Ke.y<kt)return;Be={x:(kt-tn)/Xr,y:kt}}else if(Rr<nn){if(!Ke)Ke={x:$e,y:Xr*$e+tn};else if(Ke.x>=nt)return;Be={x:nt,y:Xr*nt+tn}}else{if(!Ke)Ke={x:nt,y:Xr*nt+tn};else if(Ke.x<$e)return;Be={x:$e,y:Xr*$e+tn}}return le.a=Ke,le.b=Be,!0}function Ta(le,Se){this.l=le,this.r=Se,this.a=this.b=null}function ba(le,Se,Be,Ke){var $e=new Ta(le,Se);return zn.push($e),Be&&Pa($e,le,Se,Be),Ke&&Pa($e,Se,le,Ke),Bn[le.i].edges.push(new $i($e,le,Se)),Bn[Se.i].edges.push(new $i($e,Se,le)),$e}function ma(le,Se,Be){var Ke=new Ta(le,null);return Ke.a=Se,Ke.b=Be,zn.push(Ke),Ke}function Pa(le,Se,Be,Ke){!le.a&&!le.b?(le.a=Ke,le.l=Se,le.r=Be):le.l===Be?le.b=Ke:le.a=Ke}function $i(le,Se,Be){var Ke=le.a,$e=le.b;this.edge=le,this.site=Se,this.angle=Be?Math.atan2(Be.y-Se.y,Be.x-Se.x):le.l===Se?Math.atan2($e.x-Ke.x,Ke.y-$e.y):Math.atan2(Ke.x-$e.x,$e.y-Ke.y)}$i.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function ho(){this._=null}function mo(le){le.U=le.C=le.L=le.R=le.P=le.N=null}ho.prototype={insert:function(le,Se){var Be,Ke,$e;if(le){if(Se.P=le,Se.N=le.N,le.N&&(le.N.P=Se),le.N=Se,le.R){for(le=le.R;le.L;)le=le.L;le.L=Se}else le.R=Se;Be=le}else this._?(le=zu(this._),Se.P=null,Se.N=le,le.P=le.L=Se,Be=le):(Se.P=Se.N=null,this._=Se,Be=null);for(Se.L=Se.R=null,Se.U=Be,Se.C=!0,le=Se;Be&&Be.C;)Ke=Be.U,Be===Ke.L?($e=Ke.R,$e&&$e.C?(Be.C=$e.C=!1,Ke.C=!0,le=Ke):(le===Be.R&&(xo(this,Be),le=Be,Be=le.U),Be.C=!1,Ke.C=!0,bo(this,Ke))):($e=Ke.L,$e&&$e.C?(Be.C=$e.C=!1,Ke.C=!0,le=Ke):(le===Be.L&&(bo(this,Be),le=Be,Be=le.U),Be.C=!1,Ke.C=!0,xo(this,Ke))),Be=le.U;this._.C=!1},remove:function(le){le.N&&(le.N.P=le.P),le.P&&(le.P.N=le.N),le.N=le.P=null;var Se=le.U,Be,Ke=le.L,$e=le.R,nt,kt;if(Ke?$e?nt=zu($e):nt=Ke:nt=$e,Se?Se.L===le?Se.L=nt:Se.R=nt:this._=nt,Ke&&$e?(kt=nt.C,nt.C=le.C,nt.L=Ke,Ke.U=nt,nt!==$e?(Se=nt.U,nt.U=le.U,le=nt.R,Se.L=le,nt.R=$e,$e.U=nt):(nt.U=Se,Se=nt,le=nt.R)):(kt=le.C,le=nt),le&&(le.U=Se),!kt){if(le&&le.C){le.C=!1;return}do{if(le===this._)break;if(le===Se.L){if(Be=Se.R,Be.C&&(Be.C=!1,Se.C=!0,xo(this,Se),Be=Se.R),Be.L&&Be.L.C||Be.R&&Be.R.C){(!Be.R||!Be.R.C)&&(Be.L.C=!1,Be.C=!0,bo(this,Be),Be=Se.R),Be.C=Se.C,Se.C=Be.R.C=!1,xo(this,Se),le=this._;break}}else if(Be=Se.L,Be.C&&(Be.C=!1,Se.C=!0,bo(this,Se),Be=Se.L),Be.L&&Be.L.C||Be.R&&Be.R.C){(!Be.L||!Be.L.C)&&(Be.R.C=!1,Be.C=!0,xo(this,Be),Be=Se.L),Be.C=Se.C,Se.C=Be.L.C=!1,bo(this,Se),le=this._;break}Be.C=!0,le=Se,Se=Se.U}while(!le.C);le&&(le.C=!1)}}};function xo(le,Se){var Be=Se,Ke=Se.R,$e=Be.U;$e?$e.L===Be?$e.L=Ke:$e.R=Ke:le._=Ke,Ke.U=$e,Be.U=Ke,Be.R=Ke.L,Be.R&&(Be.R.U=Be),Ke.L=Be}function bo(le,Se){var Be=Se,Ke=Se.L,$e=Be.U;$e?$e.L===Be?$e.L=Ke:$e.R=Ke:le._=Ke,Ke.U=$e,Be.U=Ke,Be.L=Ke.R,Be.L&&(Be.L.U=Be),Ke.R=Be}function zu(le){for(;le.L;)le=le.L;return le}function di(le,Se){var Be=le.sort(_l).pop(),Ke,$e,nt;for(zn=[],Bn=new Array(le.length),qn=new ho,ii=new ho;;)if(nt=Na,Be&&(!nt||Be.y<nt.y||Be.y===nt.y&&Be.x<nt.x))(Be.x!==Ke||Be.y!==$e)&&(Bn[Be.i]=new zr(Be),Nn(Be),Ke=Be.x,$e=Be.y),Be=le.pop();else if(nt)bn(nt.arc);else break;Se&&(jn(Se),_r(Se));var kt={cells:Bn,edges:zn};return qn=ii=zn=Bn=null,kt}function _l(le,Se){return Se.y-le.y||Se.x-le.x}a.geom.voronoi=function(le){var Se=xa,Be=va,Ke=Se,$e=Be,nt=ml;if(le)return kt(le);function kt(Ht){var rr=new Array(Ht.length),ar=nt[0][0],Rr=nt[0][1],Dr=nt[1][0],nn=nt[1][1];return di(ct(Ht),nt).cells.forEach(function(fn,Or){var Xr=fn.edges,tn=fn.site,it=rr[Or]=Xr.length?Xr.map(function(gt){var Mt=gt.start();return[Mt.x,Mt.y]}):tn.x>=ar&&tn.x<=Dr&&tn.y>=Rr&&tn.y<=nn?[[ar,nn],[Dr,nn],[Dr,Rr],[ar,Rr]]:[];it.point=Ht[Or]}),rr}function ct(Ht){return Ht.map(function(rr,ar){return{x:Math.round(Ke(rr,ar)/oe)*oe,y:Math.round($e(rr,ar)/oe)*oe,i:ar}})}return kt.links=function(Ht){return di(ct(Ht)).edges.filter(function(rr){return rr.l&&rr.r}).map(function(rr){return{source:Ht[rr.l.i],target:Ht[rr.r.i]}})},kt.triangles=function(Ht){var rr=[];return di(ct(Ht)).cells.forEach(function(ar,Rr){for(var Dr=ar.site,nn=ar.edges.sort(Gr),fn=-1,Or=nn.length,Xr,tn=nn[Or-1].edge,it=tn.l===Dr?tn.r:tn.l;++fn<Or;)Xr=it,tn=nn[fn].edge,it=tn.l===Dr?tn.r:tn.l,Rr<Xr.i&&Rr<it.i&&qi(Dr,Xr,it)<0&&rr.push([Ht[Rr],Ht[Xr.i],Ht[it.i]])}),rr},kt.x=function(Ht){return arguments.length?(Ke=rn(Se=Ht),kt):Se},kt.y=function(Ht){return arguments.length?($e=rn(Be=Ht),kt):Be},kt.clipExtent=function(Ht){return arguments.length?(nt=Ht??ml,kt):nt===ml?null:nt},kt.size=function(Ht){return arguments.length?kt.clipExtent(Ht&&[[0,0],Ht]):nt===ml?null:nt&&nt[1]},kt};var ml=[[-1e6,-1e6],[1e6,1e6]];function qi(le,Se,Be){return(le.x-Be.x)*(Se.y-le.y)-(le.x-Se.x)*(Be.y-le.y)}a.geom.delaunay=function(le){return a.geom.voronoi().triangles(le)},a.geom.quadtree=function(le,Se,Be,Ke,$e){var nt=xa,kt=va,ct;if(ct=arguments.length)return nt=wo,kt=Fl,ct===3&&($e=Be,Ke=Se,Be=Se=0),Ht(le);function Ht(rr){var ar,Rr=rn(nt),Dr=rn(kt),nn,fn,Or,Xr,tn,it,gt,Mt;if(Se!=null)tn=Se,it=Be,gt=Ke,Mt=$e;else if(gt=Mt=-(tn=it=1/0),nn=[],fn=[],Xr=rr.length,ct)for(Or=0;Or<Xr;++Or)ar=rr[Or],ar.x<tn&&(tn=ar.x),ar.y<it&&(it=ar.y),ar.x>gt&&(gt=ar.x),ar.y>Mt&&(Mt=ar.y),nn.push(ar.x),fn.push(ar.y);else for(Or=0;Or<Xr;++Or){var fr=+Rr(ar=rr[Or],Or),Lr=+Dr(ar,Or);fr<tn&&(tn=fr),Lr<it&&(it=Lr),fr>gt&&(gt=fr),Lr>Mt&&(Mt=Lr),nn.push(fr),fn.push(Lr)}var Br=gt-tn,Ir=Mt-it;Br>Ir?Mt=it+Br:gt=tn+Ir;function en(Dn,Jn,Kn,da,pa,kn,wa,Aa){if(!(isNaN(Kn)||isNaN(da)))if(Dn.leaf){var Oa=Dn.x,oi=Dn.y;if(Oa!=null)if(p(Oa-Kn)+p(oi-da)<.01)an(Dn,Jn,Kn,da,pa,kn,wa,Aa);else{var ui=Dn.point;Dn.x=Dn.y=Dn.point=null,an(Dn,ui,Oa,oi,pa,kn,wa,Aa),an(Dn,Jn,Kn,da,pa,kn,wa,Aa)}else Dn.x=Kn,Dn.y=da,Dn.point=Jn}else an(Dn,Jn,Kn,da,pa,kn,wa,Aa)}function an(Dn,Jn,Kn,da,pa,kn,wa,Aa){var Oa=(pa+wa)*.5,oi=(kn+Aa)*.5,ui=Kn>=Oa,xi=da>=oi,Ya=xi<<1|ui;Dn.leaf=!1,Dn=Dn.nodes[Ya]||(Dn.nodes[Ya]=qs()),ui?pa=Oa:wa=Oa,xi?kn=oi:Aa=oi,en(Dn,Jn,Kn,da,pa,kn,wa,Aa)}var In=qs();if(In.add=function(Dn){en(In,Dn,+Rr(Dn,++Or),+Dr(Dn,Or),tn,it,gt,Mt)},In.visit=function(Dn){zi(Dn,In,tn,it,gt,Mt)},In.find=function(Dn){return zl(In,Dn[0],Dn[1],tn,it,gt,Mt)},Or=-1,Se==null){for(;++Or<Xr;)en(In,rr[Or],nn[Or],fn[Or],tn,it,gt,Mt);--Or}else rr.forEach(In.add);return nn=fn=rr=ar=null,In}return Ht.x=function(rr){return arguments.length?(nt=rr,Ht):nt},Ht.y=function(rr){return arguments.length?(kt=rr,Ht):kt},Ht.extent=function(rr){return arguments.length?(rr==null?Se=Be=Ke=$e=null:(Se=+rr[0][0],Be=+rr[0][1],Ke=+rr[1][0],$e=+rr[1][1]),Ht):Se==null?null:[[Se,Be],[Ke,$e]]},Ht.size=function(rr){return arguments.length?(rr==null?Se=Be=Ke=$e=null:(Se=Be=0,Ke=+rr[0],$e=+rr[1]),Ht):Se==null?null:[Ke-Se,$e-Be]},Ht};function wo(le){return le.x}function Fl(le){return le.y}function qs(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function zi(le,Se,Be,Ke,$e,nt){if(!le(Se,Be,Ke,$e,nt)){var kt=(Be+$e)*.5,ct=(Ke+nt)*.5,Ht=Se.nodes;Ht[0]&&zi(le,Ht[0],Be,Ke,kt,ct),Ht[1]&&zi(le,Ht[1],kt,Ke,$e,ct),Ht[2]&&zi(le,Ht[2],Be,ct,kt,nt),Ht[3]&&zi(le,Ht[3],kt,ct,$e,nt)}}function zl(le,Se,Be,Ke,$e,nt,kt){var ct=1/0,Ht;return function rr(ar,Rr,Dr,nn,fn){if(!(Rr>nt||Dr>kt||nn<Ke||fn<$e)){if(Or=ar.point){var Or,Xr=Se-ar.x,tn=Be-ar.y,it=Xr*Xr+tn*tn;if(it<ct){var gt=Math.sqrt(ct=it);Ke=Se-gt,$e=Be-gt,nt=Se+gt,kt=Be+gt,Ht=Or}}for(var Mt=ar.nodes,fr=(Rr+nn)*.5,Lr=(Dr+fn)*.5,Br=Se>=fr,Ir=Be>=Lr,en=Ir<<1|Br,an=en+4;en<an;++en)if(ar=Mt[en&3])switch(en&3){case 0:rr(ar,Rr,Dr,fr,Lr);break;case 1:rr(ar,fr,Dr,nn,Lr);break;case 2:rr(ar,Rr,Lr,fr,fn);break;case 3:rr(ar,fr,Lr,nn,fn);break}}}(le,Ke,$e,nt,kt),Ht}a.interpolateRgb=Io;function Io(le,Se){le=a.rgb(le),Se=a.rgb(Se);var Be=le.r,Ke=le.g,$e=le.b,nt=Se.r-Be,kt=Se.g-Ke,ct=Se.b-$e;return function(Ht){return"#"+mr(Math.round(Be+nt*Ht))+mr(Math.round(Ke+kt*Ht))+mr(Math.round($e+ct*Ht))}}a.interpolateObject=Ji;function Ji(le,Se){var Be={},Ke={},$e;for($e in le)$e in Se?Be[$e]=ys(le[$e],Se[$e]):Ke[$e]=le[$e];for($e in Se)$e in le||(Ke[$e]=Se[$e]);return function(nt){for($e in Be)Ke[$e]=Be[$e](nt);return Ke}}a.interpolateNumber=ko;function ko(le,Se){return le=+le,Se=+Se,function(Be){return le*(1-Be)+Se*Be}}a.interpolateString=vo;function vo(le,Se){var Be=po.lastIndex=as.lastIndex=0,Ke,$e,nt,kt=-1,ct=[],Ht=[];for(le=le+"",Se=Se+"";(Ke=po.exec(le))&&($e=as.exec(Se));)(nt=$e.index)>Be&&(nt=Se.slice(Be,nt),ct[kt]?ct[kt]+=nt:ct[++kt]=nt),(Ke=Ke[0])===($e=$e[0])?ct[kt]?ct[kt]+=$e:ct[++kt]=$e:(ct[++kt]=null,Ht.push({i:kt,x:ko(Ke,$e)})),Be=as.lastIndex;return Be<Se.length&&(nt=Se.slice(Be),ct[kt]?ct[kt]+=nt:ct[++kt]=nt),ct.length<2?Ht[0]?(Se=Ht[0].x,function(rr){return Se(rr)+""}):function(){return Se}:(Se=Ht.length,function(rr){for(var ar=0,Rr;ar<Se;++ar)ct[(Rr=Ht[ar]).i]=Rr.x(rr);return ct.join("")})}var po=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,as=new RegExp(po.source,"g");a.interpolate=ys;function ys(le,Se){for(var Be=a.interpolators.length,Ke;--Be>=0&&!(Ke=a.interpolators[Be](le,Se)););return Ke}a.interpolators=[function(le,Se){var Be=typeof Se;return(Be==="string"?Tn.has(Se.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Se)?Io:vo:Se instanceof ut?Io:Array.isArray(Se)?ao:Be==="object"&&isNaN(Se)?Ji:ko)(le,Se)}],a.interpolateArray=ao;function ao(le,Se){var Be=[],Ke=[],$e=le.length,nt=Se.length,kt=Math.min(le.length,Se.length),ct;for(ct=0;ct<kt;++ct)Be.push(ys(le[ct],Se[ct]));for(;ct<$e;++ct)Ke[ct]=le[ct];for(;ct<nt;++ct)Ke[ct]=Se[ct];return function(Ht){for(ct=0;ct<kt;++ct)Ke[ct]=Be[ct](Ht);return Ke}}var df=function(){return O},is=a.map({linear:df,poly:Ol,quad:function(){return ou},cubic:function(){return su},sin:function(){return Gf},exp:function(){return Bu},circle:function(){return pf},elastic:lu,back:gf,bounce:function(){return yf}}),io=a.map({in:O,out:ms,"in-out":os,"out-in":function(le){return os(ms(le))}});a.ease=function(le){var Se=le.indexOf("-"),Be=Se>=0?le.slice(0,Se):le,Ke=Se>=0?le.slice(Se+1):"in";return Be=is.get(Be)||df,Ke=io.get(Ke)||O,Ou(Ke(Be.apply(null,L.call(arguments,1))))};function Ou(le){return function(Se){return Se<=0?0:Se>=1?1:le(Se)}}function ms(le){return function(Se){return 1-le(1-Se)}}function os(le){return function(Se){return .5*(Se<.5?le(2*Se):2-le(2-2*Se))}}function ou(le){return le*le}function su(le){return le*le*le}function Hf(le){if(le<=0)return 0;if(le>=1)return 1;var Se=le*le,Be=Se*le;return 4*(le<.5?Be:3*(le-Se)+Be-.75)}function Ol(le){return function(Se){return Math.pow(Se,le)}}function Gf(le){return 1-Math.cos(le*at)}function Bu(le){return Math.pow(2,10*(le-1))}function pf(le){return 1-Math.sqrt(1-le*le)}function lu(le,Se){var Be;return arguments.length<2&&(Se=.45),arguments.length?Be=Se/_e*Math.asin(1/le):(le=1,Be=Se/4),function(Ke){return 1+le*Math.pow(2,-10*Ke)*Math.sin((Ke-Be)*_e/Se)}}function gf(le){return le||(le=1.70158),function(Se){return Se*Se*((le+1)*Se-le)}}function yf(le){return le<.36363636363636365?7.5625*le*le:le<.7272727272727273?7.5625*(le-=.5454545454545454)*le+.75:le<.9090909090909091?7.5625*(le-=.8181818181818182)*le+.9375:7.5625*(le-=.9545454545454546)*le+.984375}a.interpolateHcl=Bl;function Bl(le,Se){le=a.hcl(le),Se=a.hcl(Se);var Be=le.h,Ke=le.c,$e=le.l,nt=Se.h-Be,kt=Se.c-Ke,ct=Se.l-$e;return isNaN(kt)&&(kt=0,Ke=isNaN(Ke)?Se.c:Ke),isNaN(nt)?(nt=0,Be=isNaN(Be)?Se.h:Be):nt>180?nt-=360:nt<-180&&(nt+=360),function(Ht){return Bt(Be+nt*Ht,Ke+kt*Ht,$e+ct*Ht)+""}}a.interpolateHsl=Wf;function Wf(le,Se){le=a.hsl(le),Se=a.hsl(Se);var Be=le.h,Ke=le.s,$e=le.l,nt=Se.h-Be,kt=Se.s-Ke,ct=Se.l-$e;return isNaN(kt)&&(kt=0,Ke=isNaN(Ke)?Se.s:Ke),isNaN(nt)?(nt=0,Be=isNaN(Be)?Se.h:Be):nt>180?nt-=360:nt<-180&&(nt+=360),function(Ht){return St(Be+nt*Ht,Ke+kt*Ht,$e+ct*Ht)+""}}a.interpolateLab=mf;function mf(le,Se){le=a.lab(le),Se=a.lab(Se);var Be=le.l,Ke=le.a,$e=le.b,nt=Se.l-Be,kt=Se.a-Ke,ct=Se.b-$e;return function(Ht){return Ge(Be+nt*Ht,Ke+kt*Ht,$e+ct*Ht)+""}}a.interpolateRound=Nu;function Nu(le,Se){return Se-=le,function(Be){return Math.round(le+Se*Be)}}a.transform=function(le){var Se=v.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(Be){if(Be!=null){Se.setAttribute("transform",Be);var Ke=Se.transform.baseVal.consolidate()}return new el(Ke?Ke.matrix:Uu)})(le)};function el(le){var Se=[le.a,le.b],Be=[le.c,le.d],Ke=xl(Se),$e=tl(Se,Be),nt=xl(uu(Be,Se,-$e))||0;Se[0]*Be[1]<Be[0]*Se[1]&&(Se[0]*=-1,Se[1]*=-1,Ke*=-1,$e*=-1),this.rotate=(Ke?Math.atan2(Se[1],Se[0]):Math.atan2(-Be[0],Be[1]))*Ft,this.translate=[le.e,le.f],this.scale=[Ke,nt],this.skew=nt?Math.atan2($e,nt)*Ft:0}el.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function tl(le,Se){return le[0]*Se[0]+le[1]*Se[1]}function xl(le){var Se=Math.sqrt(tl(le,le));return Se&&(le[0]/=Se,le[1]/=Se),Se}function uu(le,Se,Be){return le[0]+=Be*Se[0],le[1]+=Be*Se[1],le}var Uu={a:1,b:0,c:0,d:1,e:0,f:0};a.interpolateTransform=rl;function Wo(le){return le.length?le.pop()+",":""}function fu(le,Se,Be,Ke){if(le[0]!==Se[0]||le[1]!==Se[1]){var $e=Be.push("translate(",null,",",null,")");Ke.push({i:$e-4,x:ko(le[0],Se[0])},{i:$e-2,x:ko(le[1],Se[1])})}else(Se[0]||Se[1])&&Be.push("translate("+Se+")")}function Vu(le,Se,Be,Ke){le!==Se?(le-Se>180?Se+=360:Se-le>180&&(le+=360),Ke.push({i:Be.push(Wo(Be)+"rotate(",null,")")-2,x:ko(le,Se)})):Se&&Be.push(Wo(Be)+"rotate("+Se+")")}function Yf(le,Se,Be,Ke){le!==Se?Ke.push({i:Be.push(Wo(Be)+"skewX(",null,")")-2,x:ko(le,Se)}):Se&&Be.push(Wo(Be)+"skewX("+Se+")")}function _o(le,Se,Be,Ke){if(le[0]!==Se[0]||le[1]!==Se[1]){var $e=Be.push(Wo(Be)+"scale(",null,",",null,")");Ke.push({i:$e-4,x:ko(le[0],Se[0])},{i:$e-2,x:ko(le[1],Se[1])})}else(Se[0]!==1||Se[1]!==1)&&Be.push(Wo(Be)+"scale("+Se+")")}function rl(le,Se){var Be=[],Ke=[];return le=a.transform(le),Se=a.transform(Se),fu(le.translate,Se.translate,Be,Ke),Vu(le.rotate,Se.rotate,Be,Ke),Yf(le.skew,Se.skew,Be,Ke),_o(le.scale,Se.scale,Be,Ke),le=Se=null,function($e){for(var nt=-1,kt=Ke.length,ct;++nt<kt;)Be[(ct=Ke[nt]).i]=ct.x($e);return Be.join("")}}function Nl(le,Se){return Se=(Se-=le=+le)||1/Se,function(Be){return(Be-le)/Se}}function bl(le,Se){return Se=(Se-=le=+le)||1/Se,function(Be){return Math.max(0,Math.min(1,(Be-le)/Se))}}a.layout={},a.layout.bundle=function(){return function(le){for(var Se=[],Be=-1,Ke=le.length;++Be<Ke;)Se.push(Ko(le[Be]));return Se}};function Ko(le){for(var Se=le.source,Be=le.target,Ke=Hu(Se,Be),$e=[Se];Se!==Ke;)Se=Se.parent,$e.push(Se);for(var nt=$e.length;Be!==Ke;)$e.splice(nt,0,Be),Be=Be.parent;return $e}function Jo(le){for(var Se=[],Be=le.parent;Be!=null;)Se.push(le),le=Be,Be=Be.parent;return Se.push(le),Se}function Hu(le,Se){if(le===Se)return le;for(var Be=Jo(le),Ke=Jo(Se),$e=Be.pop(),nt=Ke.pop(),kt=null;$e===nt;)kt=$e,$e=Be.pop(),nt=Ke.pop();return kt}a.layout.chord=function(){var le={},Se,Be,Ke,$e,nt=0,kt,ct,Ht;function rr(){var Rr={},Dr=[],nn=a.range($e),fn=[],Or,Xr,tn,it,gt;for(Se=[],Be=[],Or=0,it=-1;++it<$e;){for(Xr=0,gt=-1;++gt<$e;)Xr+=Ke[it][gt];Dr.push(Xr),fn.push(a.range($e)),Or+=Xr}for(kt&&nn.sort(function(In,Dn){return kt(Dr[In],Dr[Dn])}),ct&&fn.forEach(function(In,Dn){In.sort(function(Jn,Kn){return ct(Ke[Dn][Jn],Ke[Dn][Kn])})}),Or=(_e-nt*$e)/Or,Xr=0,it=-1;++it<$e;){for(tn=Xr,gt=-1;++gt<$e;){var Mt=nn[it],fr=fn[Mt][gt],Lr=Ke[Mt][fr],Br=Xr,Ir=Xr+=Lr*Or;Rr[Mt+"-"+fr]={index:Mt,subindex:fr,startAngle:Br,endAngle:Ir,value:Lr}}Be[Mt]={index:Mt,startAngle:tn,endAngle:Xr,value:Dr[Mt]},Xr+=nt}for(it=-1;++it<$e;)for(gt=it-1;++gt<$e;){var en=Rr[it+"-"+gt],an=Rr[gt+"-"+it];(en.value||an.value)&&Se.push(en.value<an.value?{source:an,target:en}:{source:en,target:an})}Ht&&ar()}function ar(){Se.sort(function(Rr,Dr){return Ht((Rr.source.value+Rr.target.value)/2,(Dr.source.value+Dr.target.value)/2)})}return le.matrix=function(Rr){return arguments.length?($e=(Ke=Rr)&&Ke.length,Se=Be=null,le):Ke},le.padding=function(Rr){return arguments.length?(nt=Rr,Se=Be=null,le):nt},le.sortGroups=function(Rr){return arguments.length?(kt=Rr,Se=Be=null,le):kt},le.sortSubgroups=function(Rr){return arguments.length?(ct=Rr,Se=null,le):ct},le.sortChords=function(Rr){return arguments.length?(Ht=Rr,Se&&ar(),le):Ht},le.chords=function(){return Se||rr(),Se},le.groups=function(){return Be||rr(),Be},le},a.layout.force=function(){var le={},Se=a.dispatch("start","tick","end"),Be,Ke=[1,1],$e,nt,kt=.9,ct=Tl,Ht=xf,rr=-30,ar=bf,Rr=.1,Dr=.64,nn=[],fn=[],Or,Xr,tn;function it(Mt){return function(fr,Lr,Br,Ir){if(fr.point!==Mt){var en=fr.cx-Mt.x,an=fr.cy-Mt.y,In=Ir-Lr,Dn=en*en+an*an;if(In*In/Dr<Dn){if(Dn<ar){var Jn=fr.charge/Dn;Mt.px-=en*Jn,Mt.py-=an*Jn}return!0}if(fr.point&&Dn&&Dn<ar){var Jn=fr.pointCharge/Dn;Mt.px-=en*Jn,Mt.py-=an*Jn}}return!fr.charge}}le.tick=function(){if((nt*=.99)<.005)return Be=null,Se.end({type:"end",alpha:nt=0}),!0;var Mt=nn.length,fr=fn.length,Lr,Br,Ir,en,an,In,Dn,Jn,Kn;for(Br=0;Br<fr;++Br)Ir=fn[Br],en=Ir.source,an=Ir.target,Jn=an.x-en.x,Kn=an.y-en.y,(In=Jn*Jn+Kn*Kn)&&(In=nt*Xr[Br]*((In=Math.sqrt(In))-Or[Br])/In,Jn*=In,Kn*=In,an.x-=Jn*(Dn=en.weight+an.weight?en.weight/(en.weight+an.weight):.5),an.y-=Kn*Dn,en.x+=Jn*(Dn=1-Dn),en.y+=Kn*Dn);if((Dn=nt*Rr)&&(Jn=Ke[0]/2,Kn=Ke[1]/2,Br=-1,Dn))for(;++Br<Mt;)Ir=nn[Br],Ir.x+=(Jn-Ir.x)*Dn,Ir.y+=(Kn-Ir.y)*Dn;if(rr)for(wl(Lr=a.geom.quadtree(nn),nt,tn),Br=-1;++Br<Mt;)(Ir=nn[Br]).fixed||Lr.visit(it(Ir));for(Br=-1;++Br<Mt;)Ir=nn[Br],Ir.fixed?(Ir.x=Ir.px,Ir.y=Ir.py):(Ir.x-=(Ir.px-(Ir.px=Ir.x))*kt,Ir.y-=(Ir.py-(Ir.py=Ir.y))*kt);Se.tick({type:"tick",alpha:nt})},le.nodes=function(Mt){return arguments.length?(nn=Mt,le):nn},le.links=function(Mt){return arguments.length?(fn=Mt,le):fn},le.size=function(Mt){return arguments.length?(Ke=Mt,le):Ke},le.linkDistance=function(Mt){return arguments.length?(ct=typeof Mt=="function"?Mt:+Mt,le):ct},le.distance=le.linkDistance,le.linkStrength=function(Mt){return arguments.length?(Ht=typeof Mt=="function"?Mt:+Mt,le):Ht},le.friction=function(Mt){return arguments.length?(kt=+Mt,le):kt},le.charge=function(Mt){return arguments.length?(rr=typeof Mt=="function"?Mt:+Mt,le):rr},le.chargeDistance=function(Mt){return arguments.length?(ar=Mt*Mt,le):Math.sqrt(ar)},le.gravity=function(Mt){return arguments.length?(Rr=+Mt,le):Rr},le.theta=function(Mt){return arguments.length?(Dr=Mt*Mt,le):Math.sqrt(Dr)},le.alpha=function(Mt){return arguments.length?(Mt=+Mt,nt?Mt>0?nt=Mt:(Be.c=null,Be.t=NaN,Be=null,Se.end({type:"end",alpha:nt=0})):Mt>0&&(Se.start({type:"start",alpha:nt=Mt}),Be=Rn(le.tick)),le):nt},le.start=function(){var Mt,fr=nn.length,Lr=fn.length,Br=Ke[0],Ir=Ke[1],en,an;for(Mt=0;Mt<fr;++Mt)(an=nn[Mt]).index=Mt,an.weight=0;for(Mt=0;Mt<Lr;++Mt)an=fn[Mt],typeof an.source=="number"&&(an.source=nn[an.source]),typeof an.target=="number"&&(an.target=nn[an.target]),++an.source.weight,++an.target.weight;for(Mt=0;Mt<fr;++Mt)an=nn[Mt],isNaN(an.x)&&(an.x=In("x",Br)),isNaN(an.y)&&(an.y=In("y",Ir)),isNaN(an.px)&&(an.px=an.x),isNaN(an.py)&&(an.py=an.y);if(Or=[],typeof ct=="function")for(Mt=0;Mt<Lr;++Mt)Or[Mt]=+ct.call(this,fn[Mt],Mt);else for(Mt=0;Mt<Lr;++Mt)Or[Mt]=ct;if(Xr=[],typeof Ht=="function")for(Mt=0;Mt<Lr;++Mt)Xr[Mt]=+Ht.call(this,fn[Mt],Mt);else for(Mt=0;Mt<Lr;++Mt)Xr[Mt]=Ht;if(tn=[],typeof rr=="function")for(Mt=0;Mt<fr;++Mt)tn[Mt]=+rr.call(this,nn[Mt],Mt);else for(Mt=0;Mt<fr;++Mt)tn[Mt]=rr;function In(Dn,Jn){if(!en){for(en=new Array(fr),pa=0;pa<fr;++pa)en[pa]=[];for(pa=0;pa<Lr;++pa){var Kn=fn[pa];en[Kn.source.index].push(Kn.target),en[Kn.target.index].push(Kn.source)}}for(var da=en[Mt],pa=-1,kn=da.length,wa;++pa<kn;)if(!isNaN(wa=da[pa][Dn]))return wa;return Math.random()*Jn}return le.resume()},le.resume=function(){return le.alpha(.1)},le.stop=function(){return le.alpha(0)},le.drag=function(){if($e||($e=a.behavior.drag().origin(O).on("dragstart.force",xs).on("drag.force",gt).on("dragend.force",Fs)),!arguments.length)return $e;this.on("mouseover.force",Zi).on("mouseout.force",cu).call($e)};function gt(Mt){Mt.px=a.event.x,Mt.py=a.event.y,le.resume()}return a.rebind(le,Se,"on")};function xs(le){le.fixed|=2}function Fs(le){le.fixed&=-7}function Zi(le){le.fixed|=4,le.px=le.x,le.py=le.y}function cu(le){le.fixed&=-5}function wl(le,Se,Be){var Ke=0,$e=0;if(le.charge=0,!le.leaf)for(var nt=le.nodes,kt=nt.length,ct=-1,Ht;++ct<kt;)Ht=nt[ct],Ht!=null&&(wl(Ht,Se,Be),le.charge+=Ht.charge,Ke+=Ht.charge*Ht.cx,$e+=Ht.charge*Ht.cy);if(le.point){le.leaf||(le.point.x+=Math.random()-.5,le.point.y+=Math.random()-.5);var rr=Se*Be[le.point.index];le.charge+=le.pointCharge=rr,Ke+=rr*le.point.x,$e+=rr*le.point.y}le.cx=Ke/le.charge,le.cy=$e/le.charge}var Tl=20,xf=1,bf=1/0;a.layout.hierarchy=function(){var le=Gu,Se=hu,Be=Zf;function Ke($e){var nt=[$e],kt=[],ct;for($e.depth=0;(ct=nt.pop())!=null;)if(kt.push(ct),(rr=Se.call(Ke,ct,ct.depth))&&(Ht=rr.length)){for(var Ht,rr,ar;--Ht>=0;)nt.push(ar=rr[Ht]),ar.parent=ct,ar.depth=ct.depth+1;Be&&(ct.value=0),ct.children=rr}else Be&&(ct.value=+Be.call(Ke,ct,ct.depth)||0),delete ct.children;return eo($e,function(Rr){var Dr,nn;le&&(Dr=Rr.children)&&Dr.sort(le),Be&&(nn=Rr.parent)&&(nn.value+=Rr.value)}),kt}return Ke.sort=function($e){return arguments.length?(le=$e,Ke):le},Ke.children=function($e){return arguments.length?(Se=$e,Ke):Se},Ke.value=function($e){return arguments.length?(Be=$e,Ke):Be},Ke.revalue=function($e){return Be&&(al($e,function(nt){nt.children&&(nt.value=0)}),eo($e,function(nt){var kt;nt.children||(nt.value=+Be.call(Ke,nt,nt.depth)||0),(kt=nt.parent)&&(kt.value+=nt.value)})),$e},Ke};function nl(le,Se){return a.rebind(le,Se,"sort","children","value"),le.nodes=le,le.links=Xf,le}function al(le,Se){for(var Be=[le];(le=Be.pop())!=null;)if(Se(le),($e=le.children)&&(Ke=$e.length))for(var Ke,$e;--Ke>=0;)Be.push($e[Ke])}function eo(le,Se){for(var Be=[le],Ke=[];(le=Be.pop())!=null;)if(Ke.push(le),(kt=le.children)&&(nt=kt.length))for(var $e=-1,nt,kt;++$e<nt;)Be.push(kt[$e]);for(;(le=Ke.pop())!=null;)Se(le)}function hu(le){return le.children}function Zf(le){return le.value}function Gu(le,Se){return Se.value-le.value}function Xf(le){return a.merge(le.map(function(Se){return(Se.children||[]).map(function(Be){return{source:Se,target:Be}})}))}a.layout.partition=function(){var le=a.layout.hierarchy(),Se=[1,1];function Be(nt,kt,ct,Ht){var rr=nt.children;if(nt.x=kt,nt.y=nt.depth*Ht,nt.dx=ct,nt.dy=Ht,rr&&(Rr=rr.length)){var ar=-1,Rr,Dr,nn;for(ct=nt.value?ct/nt.value:0;++ar<Rr;)Be(Dr=rr[ar],kt,nn=Dr.value*ct,Ht),kt+=nn}}function Ke(nt){var kt=nt.children,ct=0;if(kt&&(rr=kt.length))for(var Ht=-1,rr;++Ht<rr;)ct=Math.max(ct,Ke(kt[Ht]));return 1+ct}function $e(nt,kt){var ct=le.call(this,nt,kt);return Be(ct[0],0,Se[0],Se[1]/Ke(ct[0])),ct}return $e.size=function(nt){return arguments.length?(Se=nt,$e):Se},nl($e,le)},a.layout.pie=function(){var le=Number,Se=vu,Be=0,Ke=_e,$e=0;function nt(kt){var ct=kt.length,Ht=kt.map(function(it,gt){return+le.call(nt,it,gt)}),rr=+(typeof Be=="function"?Be.apply(this,arguments):Be),ar=(typeof Ke=="function"?Ke.apply(this,arguments):Ke)-rr,Rr=Math.min(Math.abs(ar)/ct,+(typeof $e=="function"?$e.apply(this,arguments):$e)),Dr=Rr*(ar<0?-1:1),nn=a.sum(Ht),fn=nn?(ar-ct*Dr)/nn:0,Or=a.range(ct),Xr=[],tn;return Se!=null&&Or.sort(Se===vu?function(it,gt){return Ht[gt]-Ht[it]}:function(it,gt){return Se(kt[it],kt[gt])}),Or.forEach(function(it){Xr[it]={data:kt[it],value:tn=Ht[it],startAngle:rr,endAngle:rr+=tn*fn+Dr,padAngle:Rr}}),Xr}return nt.value=function(kt){return arguments.length?(le=kt,nt):le},nt.sort=function(kt){return arguments.length?(Se=kt,nt):Se},nt.startAngle=function(kt){return arguments.length?(Be=kt,nt):Be},nt.endAngle=function(kt){return arguments.length?(Ke=kt,nt):Ke},nt.padAngle=function(kt){return arguments.length?($e=kt,nt):$e},nt};var vu={};a.layout.stack=function(){var le=O,Se=du,Be=Xu,Ke=Yu,$e=Ul,nt=Wu;function kt(ct,Ht){if(!(fn=ct.length))return ct;var rr=ct.map(function(it,gt){return le.call(kt,it,gt)}),ar=rr.map(function(it){return it.map(function(gt,Mt){return[$e.call(kt,gt,Mt),nt.call(kt,gt,Mt)]})}),Rr=Se.call(kt,ar,Ht);rr=a.permute(rr,Rr),ar=a.permute(ar,Rr);var Dr=Be.call(kt,ar,Ht),nn=rr[0].length,fn,Or,Xr,tn;for(Xr=0;Xr<nn;++Xr)for(Ke.call(kt,rr[0][Xr],tn=Dr[Xr],ar[0][Xr][1]),Or=1;Or<fn;++Or)Ke.call(kt,rr[Or][Xr],tn+=ar[Or-1][Xr][1],ar[Or][Xr][1]);return ct}return kt.values=function(ct){return arguments.length?(le=ct,kt):le},kt.order=function(ct){return arguments.length?(Se=typeof ct=="function"?ct:Vl.get(ct)||du,kt):Se},kt.offset=function(ct){return arguments.length?(Be=typeof ct=="function"?ct:Zu.get(ct)||Xu,kt):Be},kt.x=function(ct){return arguments.length?($e=ct,kt):$e},kt.y=function(ct){return arguments.length?(nt=ct,kt):nt},kt.out=function(ct){return arguments.length?(Ke=ct,kt):Ke},kt};function Ul(le){return le.x}function Wu(le){return le.y}function Yu(le,Se,Be){le.y0=Se,le.y=Be}var Vl=a.map({"inside-out":function(le){var Se=le.length,Be,Ke,$e=le.map(Ri),nt=le.map(ju),kt=a.range(Se).sort(function(Rr,Dr){return $e[Rr]-$e[Dr]}),ct=0,Ht=0,rr=[],ar=[];for(Be=0;Be<Se;++Be)Ke=kt[Be],ct<Ht?(ct+=nt[Ke],rr.push(Ke)):(Ht+=nt[Ke],ar.push(Ke));return ar.reverse().concat(rr)},reverse:function(le){return a.range(le.length).reverse()},default:du}),Zu=a.map({silhouette:function(le){var Se=le.length,Be=le[0].length,Ke=[],$e=0,nt,kt,ct,Ht=[];for(kt=0;kt<Be;++kt){for(nt=0,ct=0;nt<Se;nt++)ct+=le[nt][kt][1];ct>$e&&($e=ct),Ke.push(ct)}for(kt=0;kt<Be;++kt)Ht[kt]=($e-Ke[kt])/2;return Ht},wiggle:function(le){var Se=le.length,Be=le[0],Ke=Be.length,$e,nt,kt,ct,Ht,rr,ar,Rr,Dr,nn=[];for(nn[0]=Rr=Dr=0,nt=1;nt<Ke;++nt){for($e=0,ct=0;$e<Se;++$e)ct+=le[$e][nt][1];for($e=0,Ht=0,ar=Be[nt][0]-Be[nt-1][0];$e<Se;++$e){for(kt=0,rr=(le[$e][nt][1]-le[$e][nt-1][1])/(2*ar);kt<$e;++kt)rr+=(le[kt][nt][1]-le[kt][nt-1][1])/ar;Ht+=rr*le[$e][nt][1]}nn[nt]=Rr-=ct?Ht/ct*ar:0,Rr<Dr&&(Dr=Rr)}for(nt=0;nt<Ke;++nt)nn[nt]-=Dr;return nn},expand:function(le){var Se=le.length,Be=le[0].length,Ke=1/Se,$e,nt,kt,ct=[];for(nt=0;nt<Be;++nt){for($e=0,kt=0;$e<Se;$e++)kt+=le[$e][nt][1];if(kt)for($e=0;$e<Se;$e++)le[$e][nt][1]/=kt;else for($e=0;$e<Se;$e++)le[$e][nt][1]=Ke}for(nt=0;nt<Be;++nt)ct[nt]=0;return ct},zero:Xu});function du(le){return a.range(le.length)}function Xu(le){for(var Se=-1,Be=le[0].length,Ke=[];++Se<Be;)Ke[Se]=0;return Ke}function Ri(le){for(var Se=1,Be=0,Ke=le[0][1],$e,nt=le.length;Se<nt;++Se)($e=le[Se][1])>Ke&&(Be=Se,Ke=$e);return Be}function ju(le){return le.reduce(Yo,0)}function Yo(le,Se){return le+Se[1]}a.layout.histogram=function(){var le=!0,Se=Number,Be=Ku,Ke=Al;function $e(nt,Dr){for(var ct=[],Ht=nt.map(Se,this),rr=Be.call(this,Ht,Dr),ar=Ke.call(this,rr,Ht,Dr),Rr,Dr=-1,nn=Ht.length,fn=ar.length-1,Or=le?1:1/nn,Xr;++Dr<fn;)Rr=ct[Dr]=[],Rr.dx=ar[Dr+1]-(Rr.x=ar[Dr]),Rr.y=0;if(fn>0)for(Dr=-1;++Dr<nn;)Xr=Ht[Dr],Xr>=rr[0]&&Xr<=rr[1]&&(Rr=ct[a.bisect(ar,Xr,1,fn)-1],Rr.y+=Or,Rr.push(nt[Dr]));return ct}return $e.value=function(nt){return arguments.length?(Se=nt,$e):Se},$e.range=function(nt){return arguments.length?(Be=rn(nt),$e):Be},$e.bins=function(nt){return arguments.length?(Ke=typeof nt=="number"?function(kt){return zs(kt,nt)}:rn(nt),$e):Ke},$e.frequency=function(nt){return arguments.length?(le=!!nt,$e):le},$e};function Al(le,Se){return zs(le,Math.ceil(Math.log(Se.length)/Math.LN2+1))}function zs(le,Se){for(var Be=-1,Ke=+le[0],$e=(le[1]-Ke)/Se,nt=[];++Be<=Se;)nt[Be]=$e*Be+Ke;return nt}function Ku(le){return[a.min(le),a.max(le)]}a.layout.pack=function(){var le=a.layout.hierarchy().sort(ji),Se=0,Be=[1,1],Ke;function $e(nt,kt){var ct=le.call(this,nt,kt),Ht=ct[0],rr=Be[0],ar=Be[1],Rr=Ke==null?Math.sqrt:typeof Ke=="function"?Ke:function(){return Ke};if(Ht.x=Ht.y=0,eo(Ht,function(nn){nn.r=+Rr(nn.value)}),eo(Ht,zo),Se){var Dr=Se*(Ke?1:Math.max(2*Ht.r/rr,2*Ht.r/ar))/2;eo(Ht,function(nn){nn.r+=Dr}),eo(Ht,zo),eo(Ht,function(nn){nn.r-=Dr})}return Ns(Ht,rr/2,ar/2,Ke?1:1/Math.max(2*Ht.r/rr,2*Ht.r/ar)),ct}return $e.size=function(nt){return arguments.length?(Be=nt,$e):Be},$e.radius=function(nt){return arguments.length?(Ke=nt==null||typeof nt=="function"?nt:+nt,$e):Ke},$e.padding=function(nt){return arguments.length?(Se=+nt,$e):Se},nl($e,le)};function ji(le,Se){return le.value-Se.value}function Qo(le,Se){var Be=le._pack_next;le._pack_next=Se,Se._pack_prev=le,Se._pack_next=Be,Be._pack_prev=Se}function Fo(le,Se){le._pack_next=Se,Se._pack_prev=le}function bs(le,Se){var Be=Se.x-le.x,Ke=Se.y-le.y,$e=le.r+Se.r;return .999*$e*$e>Be*Be+Ke*Ke}function zo(le){if(!(Se=le.children)||!(Dr=Se.length))return;var Se,Be=1/0,Ke=-1/0,$e=1/0,nt=-1/0,kt,ct,Ht,rr,ar,Rr,Dr;function nn(Mt){Be=Math.min(Mt.x-Mt.r,Be),Ke=Math.max(Mt.x+Mt.r,Ke),$e=Math.min(Mt.y-Mt.r,$e),nt=Math.max(Mt.y+Mt.r,nt)}if(Se.forEach(Os),kt=Se[0],kt.x=-kt.r,kt.y=0,nn(kt),Dr>1&&(ct=Se[1],ct.x=ct.r,ct.y=0,nn(ct),Dr>2))for(Ht=Se[2],$o(kt,ct,Ht),nn(Ht),Qo(kt,Ht),kt._pack_prev=Ht,Qo(Ht,ct),ct=kt._pack_next,rr=3;rr<Dr;rr++){$o(kt,ct,Ht=Se[rr]);var fn=0,Or=1,Xr=1;for(ar=ct._pack_next;ar!==ct;ar=ar._pack_next,Or++)if(bs(ar,Ht)){fn=1;break}if(fn==1)for(Rr=kt._pack_prev;Rr!==ar._pack_prev&&!bs(Rr,Ht);Rr=Rr._pack_prev,Xr++);fn?(Or<Xr||Or==Xr&&ct.r<kt.r?Fo(kt,ct=ar):Fo(kt=Rr,ct),rr--):(Qo(kt,Ht),ct=Ht,nn(Ht))}var tn=(Be+Ke)/2,it=($e+nt)/2,gt=0;for(rr=0;rr<Dr;rr++)Ht=Se[rr],Ht.x-=tn,Ht.y-=it,gt=Math.max(gt,Ht.r+Math.sqrt(Ht.x*Ht.x+Ht.y*Ht.y));le.r=gt,Se.forEach(Bs)}function Os(le){le._pack_next=le._pack_prev=le}function Bs(le){delete le._pack_next,delete le._pack_prev}function Ns(le,Se,Be,Ke){var $e=le.children;if(le.x=Se+=Ke*le.x,le.y=Be+=Ke*le.y,le.r*=Ke,$e)for(var nt=-1,kt=$e.length;++nt<kt;)Ns($e[nt],Se,Be,Ke)}function $o(le,Se,Be){var Ke=le.r+Be.r,$e=Se.x-le.x,nt=Se.y-le.y;if(Ke&&($e||nt)){var kt=Se.r+Be.r,ct=$e*$e+nt*nt;kt*=kt,Ke*=Ke;var Ht=.5+(Ke-kt)/(2*ct),rr=Math.sqrt(Math.max(0,2*kt*(Ke+ct)-(Ke-=ct)*Ke-kt*kt))/(2*ct);Be.x=le.x+Ht*$e+rr*nt,Be.y=le.y+Ht*nt-rr*$e}else Be.x=le.x+Ke,Be.y=le.y}a.layout.tree=function(){var le=a.layout.hierarchy().sort(null).value(null),Se=ss,Be=[1,1],Ke=null;function $e(ar,Rr){var Dr=le.call(this,ar,Rr),nn=Dr[0],fn=nt(nn);if(eo(fn,kt),fn.parent.m=-fn.z,al(fn,ct),Ke)al(nn,rr);else{var Or=nn,Xr=nn,tn=nn;al(nn,function(fr){fr.x<Or.x&&(Or=fr),fr.x>Xr.x&&(Xr=fr),fr.depth>tn.depth&&(tn=fr)});var it=Se(Or,Xr)/2-Or.x,gt=Be[0]/(Xr.x+Se(Xr,Or)/2+it),Mt=Be[1]/(tn.depth||1);al(nn,function(fr){fr.x=(fr.x+it)*gt,fr.y=fr.depth*Mt})}return Dr}function nt(ar){for(var Rr={A:null,children:[ar]},Dr=[Rr],nn;(nn=Dr.pop())!=null;)for(var fn=nn.children,Or,Xr=0,tn=fn.length;Xr<tn;++Xr)Dr.push((fn[Xr]=Or={_:fn[Xr],parent:nn,children:(Or=fn[Xr].children)&&Or.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Xr}).a=Or);return Rr.children[0]}function kt(ar){var Rr=ar.children,Dr=ar.parent.children,nn=ar.i?Dr[ar.i-1]:null;if(Rr.length){wf(ar);var fn=(Rr[0].z+Rr[Rr.length-1].z)/2;nn?(ar.z=nn.z+Se(ar._,nn._),ar.m=ar.z-fn):ar.z=fn}else nn&&(ar.z=nn.z+Se(ar._,nn._));ar.parent.A=Ht(ar,nn,ar.parent.A||Dr[0])}function ct(ar){ar._.x=ar.z+ar.parent.m,ar.m+=ar.parent.m}function Ht(ar,Rr,Dr){if(Rr){for(var nn=ar,fn=ar,Or=Rr,Xr=nn.parent.children[0],tn=nn.m,it=fn.m,gt=Or.m,Mt=Xr.m,fr;Or=oo(Or),nn=il(nn),Or&&nn;)Xr=il(Xr),fn=oo(fn),fn.a=ar,fr=Or.z+gt-nn.z-tn+Se(Or._,nn._),fr>0&&(Hl(pu(Or,ar,Dr),ar,fr),tn+=fr,it+=fr),gt+=Or.m,tn+=nn.m,Mt+=Xr.m,it+=fn.m;Or&&!oo(fn)&&(fn.t=Or,fn.m+=gt-it),nn&&!il(Xr)&&(Xr.t=nn,Xr.m+=tn-Mt,Dr=ar)}return Dr}function rr(ar){ar.x*=Be[0],ar.y=ar.depth*Be[1]}return $e.separation=function(ar){return arguments.length?(Se=ar,$e):Se},$e.size=function(ar){return arguments.length?(Ke=(Be=ar)==null?rr:null,$e):Ke?null:Be},$e.nodeSize=function(ar){return arguments.length?(Ke=(Be=ar)==null?null:rr,$e):Ke?Be:null},nl($e,le)};function ss(le,Se){return le.parent==Se.parent?1:2}function il(le){var Se=le.children;return Se.length?Se[0]:le.t}function oo(le){var Se=le.children,Be;return(Be=Se.length)?Se[Be-1]:le.t}function Hl(le,Se,Be){var Ke=Be/(Se.i-le.i);Se.c-=Ke,Se.s+=Be,le.c+=Ke,Se.z+=Be,Se.m+=Be}function wf(le){for(var Se=0,Be=0,Ke=le.children,$e=Ke.length,nt;--$e>=0;)nt=Ke[$e],nt.z+=Se,nt.m+=Se,Se+=nt.s+(Be+=nt.c)}function pu(le,Se,Be){return le.a.parent===Se.parent?le.a:Be}a.layout.cluster=function(){var le=a.layout.hierarchy().sort(null).value(null),Se=ss,Be=[1,1],Ke=!1;function $e(nt,kt){var ct=le.call(this,nt,kt),Ht=ct[0],rr,ar=0;eo(Ht,function(Or){var Xr=Or.children;Xr&&Xr.length?(Or.x=Af(Xr),Or.y=Tf(Xr)):(Or.x=rr?ar+=Se(Or,rr):0,Or.y=0,rr=Or)});var Rr=gu(Ht),Dr=Ju(Ht),nn=Rr.x-Se(Rr,Dr)/2,fn=Dr.x+Se(Dr,Rr)/2;return eo(Ht,Ke?function(Or){Or.x=(Or.x-Ht.x)*Be[0],Or.y=(Ht.y-Or.y)*Be[1]}:function(Or){Or.x=(Or.x-nn)/(fn-nn)*Be[0],Or.y=(1-(Ht.y?Or.y/Ht.y:1))*Be[1]}),ct}return $e.separation=function(nt){return arguments.length?(Se=nt,$e):Se},$e.size=function(nt){return arguments.length?(Ke=(Be=nt)==null,$e):Ke?null:Be},$e.nodeSize=function(nt){return arguments.length?(Ke=(Be=nt)!=null,$e):Ke?Be:null},nl($e,le)};function Tf(le){return 1+a.max(le,function(Se){return Se.y})}function Af(le){return le.reduce(function(Se,Be){return Se+Be.x},0)/le.length}function gu(le){var Se=le.children;return Se&&Se.length?gu(Se[0]):le}function Ju(le){var Se=le.children,Be;return Se&&(Be=Se.length)?Ju(Se[Be-1]):le}a.layout.treemap=function(){var le=a.layout.hierarchy(),Se=Math.round,Be=[1,1],Ke=null,$e=Us,nt=!1,kt,ct="squarify",Ht=.5*(1+Math.sqrt(5));function rr(Or,Xr){for(var tn=-1,it=Or.length,gt,Mt;++tn<it;)Mt=(gt=Or[tn]).value*(Xr<0?0:Xr),gt.area=isNaN(Mt)||Mt<=0?0:Mt}function ar(Or){var Xr=Or.children;if(Xr&&Xr.length){var tn=$e(Or),it=[],gt=Xr.slice(),Mt,fr=1/0,Lr,Br=ct==="slice"?tn.dx:ct==="dice"?tn.dy:ct==="slice-dice"?Or.depth&1?tn.dy:tn.dx:Math.min(tn.dx,tn.dy),Ir;for(rr(gt,tn.dx*tn.dy/Or.value),it.area=0;(Ir=gt.length)>0;)it.push(Mt=gt[Ir-1]),it.area+=Mt.area,ct!=="squarify"||(Lr=Dr(it,Br))<=fr?(gt.pop(),fr=Lr):(it.area-=it.pop().area,nn(it,Br,tn,!1),Br=Math.min(tn.dx,tn.dy),it.length=it.area=0,fr=1/0);it.length&&(nn(it,Br,tn,!0),it.length=it.area=0),Xr.forEach(ar)}}function Rr(Or){var Xr=Or.children;if(Xr&&Xr.length){var tn=$e(Or),it=Xr.slice(),gt,Mt=[];for(rr(it,tn.dx*tn.dy/Or.value),Mt.area=0;gt=it.pop();)Mt.push(gt),Mt.area+=gt.area,gt.z!=null&&(nn(Mt,gt.z?tn.dx:tn.dy,tn,!it.length),Mt.length=Mt.area=0);Xr.forEach(Rr)}}function Dr(Or,Xr){for(var tn=Or.area,it,gt=0,Mt=1/0,fr=-1,Lr=Or.length;++fr<Lr;)(it=Or[fr].area)&&(it<Mt&&(Mt=it),it>gt&&(gt=it));return tn*=tn,Xr*=Xr,tn?Math.max(Xr*gt*Ht/tn,tn/(Xr*Mt*Ht)):1/0}function nn(Or,Xr,tn,it){var gt=-1,Mt=Or.length,fr=tn.x,Lr=tn.y,Br=Xr?Se(Or.area/Xr):0,Ir;if(Xr==tn.dx){for((it||Br>tn.dy)&&(Br=tn.dy);++gt<Mt;)Ir=Or[gt],Ir.x=fr,Ir.y=Lr,Ir.dy=Br,fr+=Ir.dx=Math.min(tn.x+tn.dx-fr,Br?Se(Ir.area/Br):0);Ir.z=!0,Ir.dx+=tn.x+tn.dx-fr,tn.y+=Br,tn.dy-=Br}else{for((it||Br>tn.dx)&&(Br=tn.dx);++gt<Mt;)Ir=Or[gt],Ir.x=fr,Ir.y=Lr,Ir.dx=Br,Lr+=Ir.dy=Math.min(tn.y+tn.dy-Lr,Br?Se(Ir.area/Br):0);Ir.z=!1,Ir.dy+=tn.y+tn.dy-Lr,tn.x+=Br,tn.dx-=Br}}function fn(Or){var Xr=kt||le(Or),tn=Xr[0];return tn.x=tn.y=0,tn.value?(tn.dx=Be[0],tn.dy=Be[1]):tn.dx=tn.dy=0,kt&&le.revalue(tn),rr([tn],tn.dx*tn.dy/tn.value),(kt?Rr:ar)(tn),nt&&(kt=Xr),Xr}return fn.size=function(Or){return arguments.length?(Be=Or,fn):Be},fn.padding=function(Or){if(!arguments.length)return Ke;function Xr(gt){var Mt=Or.call(fn,gt,gt.depth);return Mt==null?Us(gt):so(gt,typeof Mt=="number"?[Mt,Mt,Mt,Mt]:Mt)}function tn(gt){return so(gt,Or)}var it;return $e=(Ke=Or)==null?Us:(it=typeof Or)=="function"?Xr:(it==="number"&&(Or=[Or,Or,Or,Or]),tn),fn},fn.round=function(Or){return arguments.length?(Se=Or?Math.round:Number,fn):Se!=Number},fn.sticky=function(Or){return arguments.length?(nt=Or,kt=null,fn):nt},fn.ratio=function(Or){return arguments.length?(Ht=Or,fn):Ht},fn.mode=function(Or){return arguments.length?(ct=Or+"",fn):ct},nl(fn,le)};function Us(le){return{x:le.x,y:le.y,dx:le.dx,dy:le.dy}}function so(le,Se){var Be=le.x+Se[3],Ke=le.y+Se[0],$e=le.dx-Se[1]-Se[3],nt=le.dy-Se[0]-Se[2];return $e<0&&(Be+=$e/2,$e=0),nt<0&&(Ke+=nt/2,nt=0),{x:Be,y:Ke,dx:$e,dy:nt}}a.random={normal:function(le,Se){var Be=arguments.length;return Be<2&&(Se=1),Be<1&&(le=0),function(){var Ke,$e,nt;do Ke=Math.random()*2-1,$e=Math.random()*2-1,nt=Ke*Ke+$e*$e;while(!nt||nt>1);return le+Se*Ke*Math.sqrt(-2*Math.log(nt)/nt)}},logNormal:function(){var le=a.random.normal.apply(a,arguments);return function(){return Math.exp(le())}},bates:function(le){var Se=a.random.irwinHall(le);return function(){return Se()/le}},irwinHall:function(le){return function(){for(var Se=0,Be=0;Be<le;Be++)Se+=Math.random();return Se}}},a.scale={};function To(le){var Se=le[0],Be=le[le.length-1];return Se<Be?[Se,Be]:[Be,Se]}function Sl(le){return le.rangeExtent?le.rangeExtent():To(le.range())}function ol(le,Se,Be,Ke){var $e=Be(le[0],le[1]),nt=Ke(Se[0],Se[1]);return function(kt){return nt($e(kt))}}function Gl(le,Se){var Be=0,Ke=le.length-1,$e=le[Be],nt=le[Ke],kt;return nt<$e&&(kt=Be,Be=Ke,Ke=kt,kt=$e,$e=nt,nt=kt),le[Be]=Se.floor($e),le[Ke]=Se.ceil(nt),le}function yu(le){return le?{floor:function(Se){return Math.floor(Se/le)*le},ceil:function(Se){return Math.ceil(Se/le)*le}}:Qu}var Qu={floor:O,ceil:O};function sl(le,Se,Be,Ke){var $e=[],nt=[],kt=0,ct=Math.min(le.length,Se.length)-1;for(le[ct]<le[0]&&(le=le.slice().reverse(),Se=Se.slice().reverse());++kt<=ct;)$e.push(Be(le[kt-1],le[kt])),nt.push(Ke(Se[kt-1],Se[kt]));return function(Ht){var rr=a.bisect(le,Ht,1,ct)-1;return nt[rr]($e[rr](Ht))}}a.scale.linear=function(){return Sf([0,1],[0,1],ys,!1)};function Sf(le,Se,Be,Ke){var $e,nt;function kt(){var Ht=Math.min(le.length,Se.length)>2?sl:ol,rr=Ke?bl:Nl;return $e=Ht(le,Se,rr,Be),nt=Ht(Se,le,rr,ys),ct}function ct(Ht){return $e(Ht)}return ct.invert=function(Ht){return nt(Ht)},ct.domain=function(Ht){return arguments.length?(le=Ht.map(Number),kt()):le},ct.range=function(Ht){return arguments.length?(Se=Ht,kt()):Se},ct.rangeRound=function(Ht){return ct.range(Ht).interpolate(Nu)},ct.clamp=function(Ht){return arguments.length?(Ke=Ht,kt()):Ke},ct.interpolate=function(Ht){return arguments.length?(Be=Ht,kt()):Be},ct.ticks=function(Ht){return Ao(le,Ht)},ct.tickFormat=function(Ht,rr){return d3_scale_linearTickFormat(le,Ht,rr)},ct.nice=function(Ht){return Vs(le,Ht),kt()},ct.copy=function(){return Sf(le,Se,Be,Ke)},kt()}function $u(le,Se){return a.rebind(le,Se,"range","rangeRound","interpolate","clamp")}function Vs(le,Se){return Gl(le,yu(Xi(le,Se)[2])),Gl(le,yu(Xi(le,Se)[2])),le}function Xi(le,Se){Se==null&&(Se=10);var Be=To(le),Ke=Be[1]-Be[0],$e=Math.pow(10,Math.floor(Math.log(Ke/Se)/Math.LN10)),nt=Se/Ke*$e;return nt<=.15?$e*=10:nt<=.35?$e*=5:nt<=.75&&($e*=2),Be[0]=Math.ceil(Be[0]/$e)*$e,Be[1]=Math.floor(Be[1]/$e)*$e+$e*.5,Be[2]=$e,Be}function Ao(le,Se){return a.range.apply(a,Xi(le,Se))}a.scale.log=function(){return qu(a.scale.linear().domain([0,1]),10,!0,[1,10])};function qu(le,Se,Be,Ke){function $e(ct){return(Be?Math.log(ct<0?0:ct):-Math.log(ct>0?0:-ct))/Math.log(Se)}function nt(ct){return Be?Math.pow(Se,ct):-Math.pow(Se,-ct)}function kt(ct){return le($e(ct))}return kt.invert=function(ct){return nt(le.invert(ct))},kt.domain=function(ct){return arguments.length?(Be=ct[0]>=0,le.domain((Ke=ct.map(Number)).map($e)),kt):Ke},kt.base=function(ct){return arguments.length?(Se=+ct,le.domain(Ke.map($e)),kt):Se},kt.nice=function(){var ct=Gl(Ke.map($e),Be?Math:ef);return le.domain(ct),Ke=ct.map(nt),kt},kt.ticks=function(){var ct=To(Ke),Ht=[],rr=ct[0],ar=ct[1],Rr=Math.floor($e(rr)),Dr=Math.ceil($e(ar)),nn=Se%1?2:Se;if(isFinite(Dr-Rr)){if(Be){for(;Rr<Dr;Rr++)for(var fn=1;fn<nn;fn++)Ht.push(nt(Rr)*fn);Ht.push(nt(Rr))}else for(Ht.push(nt(Rr));Rr++<Dr;)for(var fn=nn-1;fn>0;fn--)Ht.push(nt(Rr)*fn);for(Rr=0;Ht[Rr]<rr;Rr++);for(Dr=Ht.length;Ht[Dr-1]>ar;Dr--);Ht=Ht.slice(Rr,Dr)}return Ht},kt.copy=function(){return qu(le.copy(),Se,Be,Ke)},$u(kt,le)}var ef={floor:function(le){return-Math.ceil(-le)},ceil:function(le){return-Math.floor(-le)}};a.scale.pow=function(){return ll(a.scale.linear(),1,[0,1])};function ll(le,Se,Be){var Ke=mu(Se),$e=mu(1/Se);function nt(kt){return le(Ke(kt))}return nt.invert=function(kt){return $e(le.invert(kt))},nt.domain=function(kt){return arguments.length?(le.domain((Be=kt.map(Number)).map(Ke)),nt):Be},nt.ticks=function(kt){return Ao(Be,kt)},nt.tickFormat=function(kt,ct){return d3_scale_linearTickFormat(Be,kt,ct)},nt.nice=function(kt){return nt.domain(Vs(Be,kt))},nt.exponent=function(kt){return arguments.length?(Ke=mu(Se=kt),$e=mu(1/Se),le.domain(Be.map(Ke)),nt):Se},nt.copy=function(){return ll(le.copy(),Se,Be)},$u(nt,le)}function mu(le){return function(Se){return Se<0?-Math.pow(-Se,le):Math.pow(Se,le)}}a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return qo([],{t:"range",a:[[]]})};function qo(le,Se){var Be,Ke,$e;function nt(ct){return Ke[((Be.get(ct)||(Se.t==="range"?Be.set(ct,le.push(ct)):NaN))-1)%Ke.length]}function kt(ct,Ht){return a.range(le.length).map(function(rr){return ct+Ht*rr})}return nt.domain=function(ct){if(!arguments.length)return le;le=[],Be=new E;for(var Ht=-1,rr=ct.length,ar;++Ht<rr;)Be.has(ar=ct[Ht])||Be.set(ar,le.push(ar));return nt[Se.t].apply(nt,Se.a)},nt.range=function(ct){return arguments.length?(Ke=ct,$e=0,Se={t:"range",a:arguments},nt):Ke},nt.rangePoints=function(ct,Ht){arguments.length<2&&(Ht=0);var rr=ct[0],ar=ct[1],Rr=le.length<2?(rr=(rr+ar)/2,0):(ar-rr)/(le.length-1+Ht);return Ke=kt(rr+Rr*Ht/2,Rr),$e=0,Se={t:"rangePoints",a:arguments},nt},nt.rangeRoundPoints=function(ct,Ht){arguments.length<2&&(Ht=0);var rr=ct[0],ar=ct[1],Rr=le.length<2?(rr=ar=Math.round((rr+ar)/2),0):(ar-rr)/(le.length-1+Ht)|0;return Ke=kt(rr+Math.round(Rr*Ht/2+(ar-rr-(le.length-1+Ht)*Rr)/2),Rr),$e=0,Se={t:"rangeRoundPoints",a:arguments},nt},nt.rangeBands=function(ct,Ht,rr){arguments.length<2&&(Ht=0),arguments.length<3&&(rr=Ht);var ar=ct[1]<ct[0],Rr=ct[ar-0],Dr=ct[1-ar],nn=(Dr-Rr)/(le.length-Ht+2*rr);return Ke=kt(Rr+nn*rr,nn),ar&&Ke.reverse(),$e=nn*(1-Ht),Se={t:"rangeBands",a:arguments},nt},nt.rangeRoundBands=function(ct,Ht,rr){arguments.length<2&&(Ht=0),arguments.length<3&&(rr=Ht);var ar=ct[1]<ct[0],Rr=ct[ar-0],Dr=ct[1-ar],nn=Math.floor((Dr-Rr)/(le.length-Ht+2*rr));return Ke=kt(Rr+Math.round((Dr-Rr-(le.length-Ht)*nn)/2),nn),ar&&Ke.reverse(),$e=Math.round(nn*(1-Ht)),Se={t:"rangeRoundBands",a:arguments},nt},nt.rangeBand=function(){return $e},nt.rangeExtent=function(){return To(Se.a[0])},nt.copy=function(){return qo(le,Se)},nt.domain(le)}a.scale.category10=function(){return a.scale.ordinal().range(xu)},a.scale.category20=function(){return a.scale.ordinal().range(ws)},a.scale.category20b=function(){return a.scale.ordinal().range(Ts)},a.scale.category20c=function(){return a.scale.ordinal().range(tf)};var xu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Nt),ws=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Nt),Ts=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Nt),tf=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Nt);a.scale.quantile=function(){return Ml([],[])};function Ml(le,Se){var Be;function Ke(){var nt=0,kt=Se.length;for(Be=[];++nt<kt;)Be[nt-1]=a.quantile(le,nt/kt);return $e}function $e(nt){if(!isNaN(nt=+nt))return Se[a.bisect(Be,nt)]}return $e.domain=function(nt){return arguments.length?(le=nt.map(x).filter(c).sort(l),Ke()):le},$e.range=function(nt){return arguments.length?(Se=nt,Ke()):Se},$e.quantiles=function(){return Be},$e.invertExtent=function(nt){return nt=Se.indexOf(nt),nt<0?[NaN,NaN]:[nt>0?Be[nt-1]:le[0],nt<Be.length?Be[nt]:le[le.length-1]]},$e.copy=function(){return Ml(le,Se)},Ke()}a.scale.quantize=function(){return Si(0,1,[0,1])};function Si(le,Se,Be){var Ke,$e;function nt(ct){return Be[Math.max(0,Math.min($e,Math.floor(Ke*(ct-le))))]}function kt(){return Ke=Be.length/(Se-le),$e=Be.length-1,nt}return nt.domain=function(ct){return arguments.length?(le=+ct[0],Se=+ct[ct.length-1],kt()):[le,Se]},nt.range=function(ct){return arguments.length?(Be=ct,kt()):Be},nt.invertExtent=function(ct){return ct=Be.indexOf(ct),ct=ct<0?NaN:ct/Ke+le,[ct,ct+1/Ke]},nt.copy=function(){return Si(le,Se,Be)},kt()}a.scale.threshold=function(){return ul([.5],[0,1])};function ul(le,Se){function Be(Ke){if(Ke<=Ke)return Se[a.bisect(le,Ke)]}return Be.domain=function(Ke){return arguments.length?(le=Ke,Be):le},Be.range=function(Ke){return arguments.length?(Se=Ke,Be):Se},Be.invertExtent=function(Ke){return Ke=Se.indexOf(Ke),[le[Ke-1],le[Ke]]},Be.copy=function(){return ul(le,Se)},Be}a.scale.identity=function(){return bu([0,1])};function bu(le){function Se(Be){return+Be}return Se.invert=Se,Se.domain=Se.range=function(Be){return arguments.length?(le=Be.map(Se),Se):le},Se.ticks=function(Be){return Ao(le,Be)},Se.tickFormat=function(Be,Ke){return d3_scale_linearTickFormat(le,Be,Ke)},Se.copy=function(){return bu(le)},Se}a.svg={};function wu(){return 0}a.svg.arc=function(){var le=jf,Se=Wl,Be=wu,Ke=Hs,$e=El,nt=Yl,kt=Tu;function ct(){var rr=Math.max(0,+le.apply(this,arguments)),ar=Math.max(0,+Se.apply(this,arguments)),Rr=$e.apply(this,arguments)-at,Dr=nt.apply(this,arguments)-at,nn=Math.abs(Dr-Rr),fn=Rr>Dr?0:1;if(ar<rr&&(Or=ar,ar=rr,rr=Or),nn>=tt)return Ht(ar,fn)+(rr?Ht(rr,1-fn):"")+"Z";var Or,Xr,tn,it,gt=0,Mt=0,fr,Lr,Br,Ir,en,an,In,Dn,Jn=[];if((it=(+kt.apply(this,arguments)||0)/2)&&(tn=Ke===Hs?Math.sqrt(rr*rr+ar*ar):+Ke.apply(this,arguments),fn||(Mt*=-1),ar&&(Mt=Yt(tn/ar*Math.sin(it))),rr&&(gt=Yt(tn/rr*Math.sin(it)))),ar){fr=ar*Math.cos(Rr+Mt),Lr=ar*Math.sin(Rr+Mt),Br=ar*Math.cos(Dr-Mt),Ir=ar*Math.sin(Dr-Mt);var Kn=Math.abs(Dr-Rr-2*Mt)<=Me?0:1;if(Mt&&es(fr,Lr,Br,Ir)===fn^Kn){var da=(Rr+Dr)/2;fr=ar*Math.cos(da),Lr=ar*Math.sin(da),Br=Ir=null}}else fr=Lr=0;if(rr){en=rr*Math.cos(Dr-gt),an=rr*Math.sin(Dr-gt),In=rr*Math.cos(Rr+gt),Dn=rr*Math.sin(Rr+gt);var pa=Math.abs(Rr-Dr+2*gt)<=Me?0:1;if(gt&&es(en,an,In,Dn)===1-fn^pa){var kn=(Rr+Dr)/2;en=rr*Math.cos(kn),an=rr*Math.sin(kn),In=Dn=null}}else en=an=0;if(nn>oe&&(Or=Math.min(Math.abs(ar-rr)/2,+Be.apply(this,arguments)))>.001){Xr=rr<ar^fn?0:1;var wa=Or,Aa=Or;if(nn<Me){var Oa=In==null?[en,an]:Br==null?[fr,Lr]:An([fr,Lr],[In,Dn],[Br,Ir],[en,an]),oi=fr-Oa[0],ui=Lr-Oa[1],xi=Br-Oa[0],Ya=Ir-Oa[1],$n=1/Math.sin(Math.acos((oi*xi+ui*Ya)/(Math.sqrt(oi*oi+ui*ui)*Math.sqrt(xi*xi+Ya*Ya)))/2),Xn=Math.sqrt(Oa[0]*Oa[0]+Oa[1]*Oa[1]);Aa=Math.min(Or,(rr-Xn)/($n-1)),wa=Math.min(Or,(ar-Xn)/($n+1))}if(Br!=null){var na=As(In==null?[en,an]:[In,Dn],[fr,Lr],ar,wa,fn),Ha=As([Br,Ir],[en,an],ar,wa,fn);Or===wa?Jn.push("M",na[0],"A",wa,",",wa," 0 0,",Xr," ",na[1],"A",ar,",",ar," 0 ",1-fn^es(na[1][0],na[1][1],Ha[1][0],Ha[1][1]),",",fn," ",Ha[1],"A",wa,",",wa," 0 0,",Xr," ",Ha[0]):Jn.push("M",na[0],"A",wa,",",wa," 0 1,",Xr," ",Ha[0])}else Jn.push("M",fr,",",Lr);if(In!=null){var hi=As([fr,Lr],[In,Dn],rr,-Aa,fn),ci=As([en,an],Br==null?[fr,Lr]:[Br,Ir],rr,-Aa,fn);Or===Aa?Jn.push("L",ci[0],"A",Aa,",",Aa," 0 0,",Xr," ",ci[1],"A",rr,",",rr," 0 ",fn^es(ci[1][0],ci[1][1],hi[1][0],hi[1][1]),",",1-fn," ",hi[1],"A",Aa,",",Aa," 0 0,",Xr," ",hi[0]):Jn.push("L",ci[0],"A",Aa,",",Aa," 0 0,",Xr," ",hi[0])}else Jn.push("L",en,",",an)}else Jn.push("M",fr,",",Lr),Br!=null&&Jn.push("A",ar,",",ar," 0 ",Kn,",",fn," ",Br,",",Ir),Jn.push("L",en,",",an),In!=null&&Jn.push("A",rr,",",rr," 0 ",pa,",",1-fn," ",In,",",Dn);return Jn.push("Z"),Jn.join("")}function Ht(rr,ar){return"M0,"+rr+"A"+rr+","+rr+" 0 1,"+ar+" 0,"+-rr+"A"+rr+","+rr+" 0 1,"+ar+" 0,"+rr}return ct.innerRadius=function(rr){return arguments.length?(le=rn(rr),ct):le},ct.outerRadius=function(rr){return arguments.length?(Se=rn(rr),ct):Se},ct.cornerRadius=function(rr){return arguments.length?(Be=rn(rr),ct):Be},ct.padRadius=function(rr){return arguments.length?(Ke=rr==Hs?Hs:rn(rr),ct):Ke},ct.startAngle=function(rr){return arguments.length?($e=rn(rr),ct):$e},ct.endAngle=function(rr){return arguments.length?(nt=rn(rr),ct):nt},ct.padAngle=function(rr){return arguments.length?(kt=rn(rr),ct):kt},ct.centroid=function(){var rr=(+le.apply(this,arguments)+ +Se.apply(this,arguments))/2,ar=(+$e.apply(this,arguments)+ +nt.apply(this,arguments))/2-at;return[Math.cos(ar)*rr,Math.sin(ar)*rr]},ct};var Hs="auto";function jf(le){return le.innerRadius}function Wl(le){return le.outerRadius}function El(le){return le.startAngle}function Yl(le){return le.endAngle}function Tu(le){return le&&le.padAngle}function es(le,Se,Be,Ke){return(le-Be)*Se-(Se-Ke)*le>0?0:1}function As(le,Se,Be,Ke,$e){var nt=le[0]-Se[0],kt=le[1]-Se[1],ct=($e?Ke:-Ke)/Math.sqrt(nt*nt+kt*kt),Ht=ct*kt,rr=-ct*nt,ar=le[0]+Ht,Rr=le[1]+rr,Dr=Se[0]+Ht,nn=Se[1]+rr,fn=(ar+Dr)/2,Or=(Rr+nn)/2,Xr=Dr-ar,tn=nn-Rr,it=Xr*Xr+tn*tn,gt=Be-Ke,Mt=ar*nn-Dr*Rr,fr=(tn<0?-1:1)*Math.sqrt(Math.max(0,gt*gt*it-Mt*Mt)),Lr=(Mt*tn-Xr*fr)/it,Br=(-Mt*Xr-tn*fr)/it,Ir=(Mt*tn+Xr*fr)/it,en=(-Mt*Xr+tn*fr)/it,an=Lr-fn,In=Br-Or,Dn=Ir-fn,Jn=en-Or;return an*an+In*In>Dn*Dn+Jn*Jn&&(Lr=Ir,Br=en),[[Lr-Ht,Br-rr],[Lr*Be/gt,Br*Be/gt]]}function Gs(){return!0}function fl(le){var Se=xa,Be=va,Ke=Gs,$e=No,nt=$e.key,kt=.7;function ct(Ht){var rr=[],ar=[],Rr=-1,Dr=Ht.length,nn,fn=rn(Se),Or=rn(Be);function Xr(){rr.push("M",$e(le(ar),kt))}for(;++Rr<Dr;)Ke.call(this,nn=Ht[Rr],Rr)?ar.push([+fn.call(this,nn,Rr),+Or.call(this,nn,Rr)]):ar.length&&(Xr(),ar=[]);return ar.length&&Xr(),rr.length?rr.join(""):null}return ct.x=function(Ht){return arguments.length?(Se=Ht,ct):Se},ct.y=function(Ht){return arguments.length?(Be=Ht,ct):Be},ct.defined=function(Ht){return arguments.length?(Ke=Ht,ct):Ke},ct.interpolate=function(Ht){return arguments.length?(typeof Ht=="function"?nt=$e=Ht:nt=($e=Oo.get(Ht)||No).key,ct):nt},ct.tension=function(Ht){return arguments.length?(kt=Ht,ct):kt},ct}a.svg.line=function(){return fl(O)};var Oo=a.map({linear:No,"linear-closed":lo,step:cl,"step-before":Cl,"step-after":Ll,basis:Ss,"basis-open":nf,"basis-closed":Uo,bundle:ts,cardinal:rf,"cardinal-open":Mf,"cardinal-closed":So,monotone:af});Oo.forEach(function(le,Se){Se.key=le,Se.closed=/-closed$/.test(le)});function No(le){return le.length>1?le.join("L"):le+"Z"}function lo(le){return le.join("L")+"Z"}function cl(le){for(var Se=0,Be=le.length,Ke=le[0],$e=[Ke[0],",",Ke[1]];++Se<Be;)$e.push("H",(Ke[0]+(Ke=le[Se])[0])/2,"V",Ke[1]);return Be>1&&$e.push("H",Ke[0]),$e.join("")}function Cl(le){for(var Se=0,Be=le.length,Ke=le[0],$e=[Ke[0],",",Ke[1]];++Se<Be;)$e.push("V",(Ke=le[Se])[1],"H",Ke[0]);return $e.join("")}function Ll(le){for(var Se=0,Be=le.length,Ke=le[0],$e=[Ke[0],",",Ke[1]];++Se<Be;)$e.push("H",(Ke=le[Se])[0],"V",Ke[1]);return $e.join("")}function Mf(le,Se){return le.length<4?No(le):le[1]+Ws(le.slice(1,-1),Zl(le,Se))}function So(le,Se){return le.length<3?lo(le):le[0]+Ws((le.push(le[0]),le),Zl([le[le.length-2]].concat(le,[le[1]]),Se))}function rf(le,Se){return le.length<3?No(le):le[0]+Ws(le,Zl(le,Se))}function Ws(le,Se){if(Se.length<1||le.length!=Se.length&&le.length!=Se.length+2)return No(le);var Be=le.length!=Se.length,Ke="",$e=le[0],nt=le[1],kt=Se[0],ct=kt,Ht=1;if(Be&&(Ke+="Q"+(nt[0]-kt[0]*2/3)+","+(nt[1]-kt[1]*2/3)+","+nt[0]+","+nt[1],$e=le[1],Ht=2),Se.length>1){ct=Se[1],nt=le[Ht],Ht++,Ke+="C"+($e[0]+kt[0])+","+($e[1]+kt[1])+","+(nt[0]-ct[0])+","+(nt[1]-ct[1])+","+nt[0]+","+nt[1];for(var rr=2;rr<Se.length;rr++,Ht++)nt=le[Ht],ct=Se[rr],Ke+="S"+(nt[0]-ct[0])+","+(nt[1]-ct[1])+","+nt[0]+","+nt[1]}if(Be){var ar=le[Ht];Ke+="Q"+(nt[0]+ct[0]*2/3)+","+(nt[1]+ct[1]*2/3)+","+ar[0]+","+ar[1]}return Ke}function Zl(le,Se){for(var Be=[],Ke=(1-Se)/2,$e,nt=le[0],kt=le[1],ct=1,Ht=le.length;++ct<Ht;)$e=nt,nt=kt,kt=le[ct],Be.push([Ke*(kt[0]-$e[0]),Ke*(kt[1]-$e[1])]);return Be}function Ss(le){if(le.length<3)return No(le);var Se=1,Be=le.length,Ke=le[0],$e=Ke[0],nt=Ke[1],kt=[$e,$e,$e,(Ke=le[1])[0]],ct=[nt,nt,nt,Ke[1]],Ht=[$e,",",nt,"L",Gi(ls,kt),",",Gi(ls,ct)];for(le.push(le[Be-1]);++Se<=Be;)Ke=le[Se],kt.shift(),kt.push(Ke[0]),ct.shift(),ct.push(Ke[1]),jl(Ht,kt,ct);return le.pop(),Ht.push("L",Ke),Ht.join("")}function nf(le){if(le.length<4)return No(le);for(var Se=[],Be=-1,Ke=le.length,$e,nt=[0],kt=[0];++Be<3;)$e=le[Be],nt.push($e[0]),kt.push($e[1]);for(Se.push(Gi(ls,nt)+","+Gi(ls,kt)),--Be;++Be<Ke;)$e=le[Be],nt.shift(),nt.push($e[0]),kt.shift(),kt.push($e[1]),jl(Se,nt,kt);return Se.join("")}function Uo(le){for(var Se,Be=-1,Ke=le.length,$e=Ke+4,nt,kt=[],ct=[];++Be<4;)nt=le[Be%Ke],kt.push(nt[0]),ct.push(nt[1]);for(Se=[Gi(ls,kt),",",Gi(ls,ct)],--Be;++Be<$e;)nt=le[Be%Ke],kt.shift(),kt.push(nt[0]),ct.shift(),ct.push(nt[1]),jl(Se,kt,ct);return Se.join("")}function ts(le,Se){var Be=le.length-1;if(Be)for(var Ke=le[0][0],$e=le[0][1],nt=le[Be][0]-Ke,kt=le[Be][1]-$e,ct=-1,Ht,rr;++ct<=Be;)Ht=le[ct],rr=ct/Be,Ht[0]=Se*Ht[0]+(1-Se)*(Ke+rr*nt),Ht[1]=Se*Ht[1]+(1-Se)*($e+rr*kt);return Ss(le)}function Gi(le,Se){return le[0]*Se[0]+le[1]*Se[1]+le[2]*Se[2]+le[3]*Se[3]}var Ef=[0,2/3,1/3,0],Xl=[0,1/3,2/3,0],ls=[0,1/6,2/3,1/6];function jl(le,Se,Be){le.push("C",Gi(Ef,Se),",",Gi(Ef,Be),",",Gi(Xl,Se),",",Gi(Xl,Be),",",Gi(ls,Se),",",Gi(ls,Be))}function Ys(le,Se){return(Se[1]-le[1])/(Se[0]-le[0])}function Au(le){for(var Se=0,Be=le.length-1,Ke=[],$e=le[0],nt=le[1],kt=Ke[0]=Ys($e,nt);++Se<Be;)Ke[Se]=(kt+(kt=Ys($e=nt,nt=le[Se+1])))/2;return Ke[Se]=kt,Ke}function Cf(le){for(var Se=[],Be,Ke,$e,nt,kt=Au(le),ct=-1,Ht=le.length-1;++ct<Ht;)Be=Ys(le[ct],le[ct+1]),p(Be)<oe?kt[ct]=kt[ct+1]=0:(Ke=kt[ct]/Be,$e=kt[ct+1]/Be,nt=Ke*Ke+$e*$e,nt>9&&(nt=Be*3/Math.sqrt(nt),kt[ct]=nt*Ke,kt[ct+1]=nt*$e));for(ct=-1;++ct<=Ht;)nt=(le[Math.min(Ht,ct+1)][0]-le[Math.max(0,ct-1)][0])/(6*(1+kt[ct]*kt[ct])),Se.push([nt||0,kt[ct]*nt||0]);return Se}function af(le){return le.length<3?No(le):le[0]+Ws(le,Cf(le))}a.svg.line.radial=function(){var le=fl(of);return le.radius=le.x,delete le.x,le.angle=le.y,delete le.y,le};function of(le){for(var Se,Be=-1,Ke=le.length,$e,nt;++Be<Ke;)Se=le[Be],$e=Se[0],nt=Se[1]-at,Se[0]=$e*Math.cos(nt),Se[1]=$e*Math.sin(nt);return le}function Ms(le){var Se=xa,Be=xa,Ke=0,$e=va,nt=Gs,kt=No,ct=kt.key,Ht=kt,rr="L",ar=.7;function Rr(Dr){var nn=[],fn=[],Or=[],Xr=-1,tn=Dr.length,it,gt=rn(Se),Mt=rn(Ke),fr=Se===Be?function(){return Br}:rn(Be),Lr=Ke===$e?function(){return Ir}:rn($e),Br,Ir;function en(){nn.push("M",kt(le(Or),ar),rr,Ht(le(fn.reverse()),ar),"Z")}for(;++Xr<tn;)nt.call(this,it=Dr[Xr],Xr)?(fn.push([Br=+gt.call(this,it,Xr),Ir=+Mt.call(this,it,Xr)]),Or.push([+fr.call(this,it,Xr),+Lr.call(this,it,Xr)])):fn.length&&(en(),fn=[],Or=[]);return fn.length&&en(),nn.length?nn.join(""):null}return Rr.x=function(Dr){return arguments.length?(Se=Be=Dr,Rr):Be},Rr.x0=function(Dr){return arguments.length?(Se=Dr,Rr):Se},Rr.x1=function(Dr){return arguments.length?(Be=Dr,Rr):Be},Rr.y=function(Dr){return arguments.length?(Ke=$e=Dr,Rr):$e},Rr.y0=function(Dr){return arguments.length?(Ke=Dr,Rr):Ke},Rr.y1=function(Dr){return arguments.length?($e=Dr,Rr):$e},Rr.defined=function(Dr){return arguments.length?(nt=Dr,Rr):nt},Rr.interpolate=function(Dr){return arguments.length?(typeof Dr=="function"?ct=kt=Dr:ct=(kt=Oo.get(Dr)||No).key,Ht=kt.reverse||kt,rr=kt.closed?"M":"L",Rr):ct},Rr.tension=function(Dr){return arguments.length?(ar=Dr,Rr):ar},Rr}Cl.reverse=Ll,Ll.reverse=Cl,a.svg.area=function(){return Ms(O)},a.svg.area.radial=function(){var le=Ms(of);return le.radius=le.x,delete le.x,le.innerRadius=le.x0,delete le.x0,le.outerRadius=le.x1,delete le.x1,le.angle=le.y,delete le.y,le.startAngle=le.y0,delete le.y0,le.endAngle=le.y1,delete le.y1,le};function Su(le){return le.source}function Kl(le){return le.target}a.svg.chord=function(){var le=Su,Se=Kl,Be=Lf,Ke=El,$e=Yl;function nt(ar,Rr){var Dr=kt(this,le,ar,Rr),nn=kt(this,Se,ar,Rr);return"M"+Dr.p0+Ht(Dr.r,Dr.p1,Dr.a1-Dr.a0)+(ct(Dr,nn)?rr(Dr.r,Dr.p1,Dr.r,Dr.p0):rr(Dr.r,Dr.p1,nn.r,nn.p0)+Ht(nn.r,nn.p1,nn.a1-nn.a0)+rr(nn.r,nn.p1,Dr.r,Dr.p0))+"Z"}function kt(ar,Rr,Dr,nn){var fn=Rr.call(ar,Dr,nn),Or=Be.call(ar,fn,nn),Xr=Ke.call(ar,fn,nn)-at,tn=$e.call(ar,fn,nn)-at;return{r:Or,a0:Xr,a1:tn,p0:[Or*Math.cos(Xr),Or*Math.sin(Xr)],p1:[Or*Math.cos(tn),Or*Math.sin(tn)]}}function ct(ar,Rr){return ar.a0==Rr.a0&&ar.a1==Rr.a1}function Ht(ar,Rr,Dr){return"A"+ar+","+ar+" 0 "+ +(Dr>Me)+",1 "+Rr}function rr(ar,Rr,Dr,nn){return"Q 0,0 "+nn}return nt.radius=function(ar){return arguments.length?(Be=rn(ar),nt):Be},nt.source=function(ar){return arguments.length?(le=rn(ar),nt):le},nt.target=function(ar){return arguments.length?(Se=rn(ar),nt):Se},nt.startAngle=function(ar){return arguments.length?(Ke=rn(ar),nt):Ke},nt.endAngle=function(ar){return arguments.length?($e=rn(ar),nt):$e},nt};function Lf(le){return le.radius}a.svg.diagonal=function(){var le=Su,Se=Kl,Be=Jl;function Ke($e,nt){var kt=le.call(this,$e,nt),ct=Se.call(this,$e,nt),Ht=(kt.y+ct.y)/2,rr=[kt,{x:kt.x,y:Ht},{x:ct.x,y:Ht},ct];return rr=rr.map(Be),"M"+rr[0]+"C"+rr[1]+" "+rr[2]+" "+rr[3]}return Ke.source=function($e){return arguments.length?(le=rn($e),Ke):le},Ke.target=function($e){return arguments.length?(Se=rn($e),Ke):Se},Ke.projection=function($e){return arguments.length?(Be=$e,Ke):Be},Ke};function Jl(le){return[le.x,le.y]}a.svg.diagonal.radial=function(){var le=a.svg.diagonal(),Se=Jl,Be=le.projection;return le.projection=function(Ke){return arguments.length?Be(Pf(Se=Ke)):Se},le};function Pf(le){return function(){var Se=le.apply(this,arguments),Be=Se[0],Ke=Se[1]-at;return[Be*Math.cos(Ke),Be*Math.sin(Ke)]}}a.svg.symbol=function(){var le=et,Se=Ze;function Be(Ke,$e){return(yt.get(le.call(this,Ke,$e))||ht)(Se.call(this,Ke,$e))}return Be.type=function(Ke){return arguments.length?(le=rn(Ke),Be):le},Be.size=function(Ke){return arguments.length?(Se=rn(Ke),Be):Se},Be};function Ze(){return 64}function et(){return"circle"}function ht(le){var Se=Math.sqrt(le/Me);return"M0,"+Se+"A"+Se+","+Se+" 0 1,1 0,"+-Se+"A"+Se+","+Se+" 0 1,1 0,"+Se+"Z"}var yt=a.map({circle:ht,cross:function(le){var Se=Math.sqrt(le/5)/2;return"M"+-3*Se+","+-Se+"H"+-Se+"V"+-3*Se+"H"+Se+"V"+-Se+"H"+3*Se+"V"+Se+"H"+Se+"V"+3*Se+"H"+-Se+"V"+Se+"H"+-3*Se+"Z"},diamond:function(le){var Se=Math.sqrt(le/(2*It)),Be=Se*It;return"M0,"+-Se+"L"+Be+",0 0,"+Se+" "+-Be+",0Z"},square:function(le){var Se=Math.sqrt(le)/2;return"M"+-Se+","+-Se+"L"+Se+","+-Se+" "+Se+","+Se+" "+-Se+","+Se+"Z"},"triangle-down":function(le){var Se=Math.sqrt(le/zt),Be=Se*zt/2;return"M0,"+Be+"L"+Se+","+-Be+" "+-Se+","+-Be+"Z"},"triangle-up":function(le){var Se=Math.sqrt(le/zt),Be=Se*zt/2;return"M0,"+-Be+"L"+Se+","+Be+" "+-Se+","+Be+"Z"}});a.svg.symbolTypes=yt.keys();var zt=Math.sqrt(3),It=Math.tan(30*At);j.transition=function(le){for(var Se=Fr||++Er,Be=Cn(le),Ke=[],$e,nt,kt=Qr||{time:Date.now(),ease:Hf,delay:0,duration:250},ct=-1,Ht=this.length;++ct<Ht;){Ke.push($e=[]);for(var rr=this[ct],ar=-1,Rr=rr.length;++ar<Rr;)(nt=rr[ar])&&Vn(nt,ar,Be,Se,kt),$e.push(nt)}return br(Ke,Be,Se)},j.interrupt=function(le){return this.each(le==null?Ut:dr(Cn(le)))};var Ut=dr(Cn());function dr(le){return function(){var Se,Be,Ke;(Se=this[le])&&(Ke=Se[Be=Se.active])&&(Ke.timer.c=null,Ke.timer.t=NaN,--Se.count?delete Se[Be]:delete this[le],Se.active+=.5,Ke.event&&Ke.event.interrupt.call(this,this.__data__,Ke.index))}}function br(le,Se,Be){return Z(le,sr),le.namespace=Se,le.id=Be,le}var sr=[],Er=0,Fr,Qr;sr.call=j.call,sr.empty=j.empty,sr.node=j.node,sr.size=j.size,a.transition=function(le,Se){return le&&le.transition?Fr?le.transition(Se):le:a.selection().transition(le)},a.transition.prototype=sr,sr.select=function(le){var Se=this.id,Be=this.namespace,Ke=[],$e,nt,kt;le=se(le);for(var ct=-1,Ht=this.length;++ct<Ht;){Ke.push($e=[]);for(var rr=this[ct],ar=-1,Rr=rr.length;++ar<Rr;)(kt=rr[ar])&&(nt=le.call(kt,kt.__data__,ar,ct))?("__data__"in kt&&(nt.__data__=kt.__data__),Vn(nt,ar,Be,Se,kt[Be][Se]),$e.push(nt)):$e.push(null)}return br(Ke,Be,Se)},sr.selectAll=function(le){var Se=this.id,Be=this.namespace,Ke=[],$e,nt,kt,ct,Ht;le=ne(le);for(var rr=-1,ar=this.length;++rr<ar;)for(var Rr=this[rr],Dr=-1,nn=Rr.length;++Dr<nn;)if(kt=Rr[Dr]){Ht=kt[Be][Se],nt=le.call(kt,kt.__data__,Dr,rr),Ke.push($e=[]);for(var fn=-1,Or=nt.length;++fn<Or;)(ct=nt[fn])&&Vn(ct,fn,Be,Se,Ht),$e.push(ct)}return br(Ke,Be,Se)},sr.filter=function(le){var Se=[],Be,Ke,$e;typeof le!="function"&&(le=rt(le));for(var nt=0,kt=this.length;nt<kt;nt++){Se.push(Be=[]);for(var Ke=this[nt],ct=0,Ht=Ke.length;ct<Ht;ct++)($e=Ke[ct])&&le.call($e,$e.__data__,ct,nt)&&Be.push($e)}return br(Se,this.namespace,this.id)},sr.tween=function(le,Se){var Be=this.id,Ke=this.namespace;return arguments.length<2?this.node()[Ke][Be].tween.get(le):Je(this,Se==null?function($e){$e[Ke][Be].tween.remove(le)}:function($e){$e[Ke][Be].tween.set(le,Se)})};function on(le,Se,Be,Ke){var $e=le.id,nt=le.namespace;return Je(le,typeof Be=="function"?function(kt,ct,Ht){kt[nt][$e].tween.set(Se,Ke(Be.call(kt,kt.__data__,ct,Ht)))}:(Be=Ke(Be),function(kt){kt[nt][$e].tween.set(Se,Be)}))}sr.attr=function(le,Se){if(arguments.length<2){for(Se in le)this.attr(Se,le[Se]);return this}var Be=le=="transform"?rl:ys,Ke=a.ns.qualify(le);function $e(){this.removeAttribute(Ke)}function nt(){this.removeAttributeNS(Ke.space,Ke.local)}function kt(Ht){return Ht==null?$e:(Ht+="",function(){var rr=this.getAttribute(Ke),ar;return rr!==Ht&&(ar=Be(rr,Ht),function(Rr){this.setAttribute(Ke,ar(Rr))})})}function ct(Ht){return Ht==null?nt:(Ht+="",function(){var rr=this.getAttributeNS(Ke.space,Ke.local),ar;return rr!==Ht&&(ar=Be(rr,Ht),function(Rr){this.setAttributeNS(Ke.space,Ke.local,ar(Rr))})})}return on(this,"attr."+le,Se,Ke.local?ct:kt)},sr.attrTween=function(le,Se){var Be=a.ns.qualify(le);function Ke(nt,kt){var ct=Se.call(this,nt,kt,this.getAttribute(Be));return ct&&function(Ht){this.setAttribute(Be,ct(Ht))}}function $e(nt,kt){var ct=Se.call(this,nt,kt,this.getAttributeNS(Be.space,Be.local));return ct&&function(Ht){this.setAttributeNS(Be.space,Be.local,ct(Ht))}}return this.tween("attr."+le,Be.local?$e:Ke)},sr.style=function(le,Se,Be){var Ke=arguments.length;if(Ke<3){if(typeof le!="string"){Ke<2&&(Se="");for(Be in le)this.style(Be,le[Be],Se);return this}Be=""}function $e(){this.style.removeProperty(le)}function nt(kt){return kt==null?$e:(kt+="",function(){var ct=t(this).getComputedStyle(this,null).getPropertyValue(le),Ht;return ct!==kt&&(Ht=ys(ct,kt),function(rr){this.style.setProperty(le,Ht(rr),Be)})})}return on(this,"style."+le,Se,nt)},sr.styleTween=function(le,Se,Be){arguments.length<3&&(Be="");function Ke($e,nt){var kt=Se.call(this,$e,nt,t(this).getComputedStyle(this,null).getPropertyValue(le));return kt&&function(ct){this.style.setProperty(le,kt(ct),Be)}}return this.tween("style."+le,Ke)},sr.text=function(le){return on(this,"text",le,Sn)};function Sn(le){return le==null&&(le=""),function(){this.textContent=le}}sr.remove=function(){var le=this.namespace;return this.each("end.transition",function(){var Se;this[le].count<2&&(Se=this.parentNode)&&Se.removeChild(this)})},sr.ease=function(le){var Se=this.id,Be=this.namespace;return arguments.length<1?this.node()[Be][Se].ease:(typeof le!="function"&&(le=a.ease.apply(a,arguments)),Je(this,function(Ke){Ke[Be][Se].ease=le}))},sr.delay=function(le){var Se=this.id,Be=this.namespace;return arguments.length<1?this.node()[Be][Se].delay:Je(this,typeof le=="function"?function(Ke,$e,nt){Ke[Be][Se].delay=+le.call(Ke,Ke.__data__,$e,nt)}:(le=+le,function(Ke){Ke[Be][Se].delay=le}))},sr.duration=function(le){var Se=this.id,Be=this.namespace;return arguments.length<1?this.node()[Be][Se].duration:Je(this,typeof le=="function"?function(Ke,$e,nt){Ke[Be][Se].duration=Math.max(1,le.call(Ke,Ke.__data__,$e,nt))}:(le=Math.max(1,le),function(Ke){Ke[Be][Se].duration=le}))},sr.each=function(le,Se){var Be=this.id,Ke=this.namespace;if(arguments.length<2){var $e=Qr,nt=Fr;try{Fr=Be,Je(this,function(kt,ct,Ht){Qr=kt[Ke][Be],le.call(kt,kt.__data__,ct,Ht)})}finally{Qr=$e,Fr=nt}}else Je(this,function(kt){var ct=kt[Ke][Be];(ct.event||(ct.event=a.dispatch("start","end","interrupt"))).on(le,Se)});return this},sr.transition=function(){for(var le=this.id,Se=++Er,Be=this.namespace,Ke=[],$e,nt,kt,ct,Ht=0,rr=this.length;Ht<rr;Ht++){Ke.push($e=[]);for(var nt=this[Ht],ar=0,Rr=nt.length;ar<Rr;ar++)(kt=nt[ar])&&(ct=kt[Be][le],Vn(kt,ar,Be,Se,{time:ct.time,ease:ct.ease,delay:ct.delay+ct.duration,duration:ct.duration})),$e.push(kt)}return br(Ke,Be,Se)};function Cn(le){return le==null?"__transition__":"__transition_"+le+"__"}function Vn(le,Se,Be,Ke,$e){var nt=le[Be]||(le[Be]={active:0,count:0}),kt=nt[Ke],ct,Ht,rr,ar,Rr;function Dr(Or){var Xr=kt.delay;if(Ht.t=Xr+ct,Xr<=Or)return nn(Or-Xr);Ht.c=nn}function nn(Or){var Xr=nt.active,tn=nt[Xr];tn&&(tn.timer.c=null,tn.timer.t=NaN,--nt.count,delete nt[Xr],tn.event&&tn.event.interrupt.call(le,le.__data__,tn.index));for(var it in nt)if(+it<Ke){var gt=nt[it];gt.timer.c=null,gt.timer.t=NaN,--nt.count,delete nt[it]}Ht.c=fn,Rn(function(){return Ht.c&&fn(Or||1)&&(Ht.c=null,Ht.t=NaN),1},0,ct),nt.active=Ke,kt.event&&kt.event.start.call(le,le.__data__,Se),Rr=[],kt.tween.forEach(function(Mt,fr){(fr=fr.call(le,le.__data__,Se))&&Rr.push(fr)}),ar=kt.ease,rr=kt.duration}function fn(Or){for(var Xr=Or/rr,tn=ar(Xr),it=Rr.length;it>0;)Rr[--it].call(le,tn);if(Xr>=1)return kt.event&&kt.event.end.call(le,le.__data__,Se),--nt.count?delete nt[Ke]:delete le[Be],1}kt||(ct=$e.time,Ht=Rn(Dr,0,ct),kt=nt[Ke]={tween:new E,time:ct,timer:Ht,delay:$e.delay,duration:$e.duration,ease:$e.ease,index:Se},$e=null,++nt.count)}a.svg.axis=function(){var le=a.scale.linear(),Se=Sa,Be=6,Ke=6,$e=3,nt=[10],kt=null,ct;function Ht(rr){rr.each(function(){var ar=a.select(this),Rr=this.__chart__||le,Dr=this.__chart__=le.copy(),nn=kt??(Dr.ticks?Dr.ticks.apply(Dr,nt):Dr.domain()),fn=ct??(Dr.tickFormat?Dr.tickFormat.apply(Dr,nt):O),Or=ar.selectAll(".tick").data(nn,Dr),Xr=Or.enter().insert("g",".domain").attr("class","tick").style("opacity",oe),tn=a.transition(Or.exit()).style("opacity",oe).remove(),it=a.transition(Or.order()).style("opacity",1),gt=Math.max(Be,0)+$e,Mt,fr=Sl(Dr),Lr=ar.selectAll(".domain").data([0]),Br=(Lr.enter().append("path").attr("class","domain"),a.transition(Lr));Xr.append("line"),Xr.append("text");var Ir=Xr.select("line"),en=it.select("line"),an=Or.select("text").text(fn),In=Xr.select("text"),Dn=it.select("text"),Jn=Se==="top"||Se==="left"?-1:1,Kn,da,pa,kn;if(Se==="bottom"||Se==="top"?(Mt=Ca,Kn="x",pa="y",da="x2",kn="y2",an.attr("dy",Jn<0?"0em":".71em").style("text-anchor","middle"),Br.attr("d","M"+fr[0]+","+Jn*Ke+"V0H"+fr[1]+"V"+Jn*Ke)):(Mt=Va,Kn="y",pa="x",da="y2",kn="x2",an.attr("dy",".32em").style("text-anchor",Jn<0?"end":"start"),Br.attr("d","M"+Jn*Ke+","+fr[0]+"H0V"+fr[1]+"H"+Jn*Ke)),Ir.attr(kn,Jn*Be),In.attr(pa,Jn*gt),en.attr(da,0).attr(kn,Jn*Be),Dn.attr(Kn,0).attr(pa,Jn*gt),Dr.rangeBand){var wa=Dr,Aa=wa.rangeBand()/2;Rr=Dr=function(Oa){return wa(Oa)+Aa}}else Rr.rangeBand?Rr=Dr:tn.call(Mt,Dr,Rr);Xr.call(Mt,Rr,Dr),it.call(Mt,Dr,Dr)})}return Ht.scale=function(rr){return arguments.length?(le=rr,Ht):le},Ht.orient=function(rr){return arguments.length?(Se=rr in Da?rr+"":Sa,Ht):Se},Ht.ticks=function(){return arguments.length?(nt=T(arguments),Ht):nt},Ht.tickValues=function(rr){return arguments.length?(kt=rr,Ht):kt},Ht.tickFormat=function(rr){return arguments.length?(ct=rr,Ht):ct},Ht.tickSize=function(rr){var ar=arguments.length;return ar?(Be=+rr,Ke=+arguments[ar-1],Ht):Be},Ht.innerTickSize=function(rr){return arguments.length?(Be=+rr,Ht):Be},Ht.outerTickSize=function(rr){return arguments.length?(Ke=+rr,Ht):Ke},Ht.tickPadding=function(rr){return arguments.length?($e=+rr,Ht):$e},Ht.tickSubdivide=function(){return arguments.length&&Ht},Ht};var Sa="bottom",Da={top:1,right:1,bottom:1,left:1};function Ca(le,Se,Be){le.attr("transform",function(Ke){var $e=Se(Ke);return"translate("+(isFinite($e)?$e:Be(Ke))+",0)"})}function Va(le,Se,Be){le.attr("transform",function(Ke){var $e=Se(Ke);return"translate(0,"+(isFinite($e)?$e:Be(Ke))+")"})}a.svg.brush=function(){var le=K(ar,"brushstart","brush","brushend"),Se=null,Be=null,Ke=[0,0],$e=[0,0],nt,kt,ct=!0,Ht=!0,rr=pi[0];function ar(Or){Or.each(function(){var Xr=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",fn).on("touchstart.brush",fn),tn=Xr.selectAll(".background").data([0]);tn.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Xr.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var it=Xr.selectAll(".resize").data(rr,O);it.exit().remove(),it.enter().append("g").attr("class",function(Lr){return"resize "+Lr}).style("cursor",function(Lr){return Wa[Lr]}).append("rect").attr("x",function(Lr){return/[ew]$/.test(Lr)?-3:null}).attr("y",function(Lr){return/^[ns]/.test(Lr)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),it.style("display",ar.empty()?"none":null);var gt=a.transition(Xr),Mt=a.transition(tn),fr;Se&&(fr=Sl(Se),Mt.attr("x",fr[0]).attr("width",fr[1]-fr[0]),Dr(gt)),Be&&(fr=Sl(Be),Mt.attr("y",fr[0]).attr("height",fr[1]-fr[0]),nn(gt)),Rr(gt)})}ar.event=function(Or){Or.each(function(){var Xr=le.of(this,arguments),tn={x:Ke,y:$e,i:nt,j:kt},it=this.__chart__||tn;this.__chart__=tn,Fr?a.select(this).transition().each("start.brush",function(){nt=it.i,kt=it.j,Ke=it.x,$e=it.y,Xr({type:"brushstart"})}).tween("brush:brush",function(){var gt=ao(Ke,tn.x),Mt=ao($e,tn.y);return nt=kt=null,function(fr){Ke=tn.x=gt(fr),$e=tn.y=Mt(fr),Xr({type:"brush",mode:"resize"})}}).each("end.brush",function(){nt=tn.i,kt=tn.j,Xr({type:"brush",mode:"resize"}),Xr({type:"brushend"})}):(Xr({type:"brushstart"}),Xr({type:"brush",mode:"resize"}),Xr({type:"brushend"}))})};function Rr(Or){Or.selectAll(".resize").attr("transform",function(Xr){return"translate("+Ke[+/e$/.test(Xr)]+","+$e[+/^s/.test(Xr)]+")"})}function Dr(Or){Or.select(".extent").attr("x",Ke[0]),Or.selectAll(".extent,.n>rect,.s>rect").attr("width",Ke[1]-Ke[0])}function nn(Or){Or.select(".extent").attr("y",$e[0]),Or.selectAll(".extent,.e>rect,.w>rect").attr("height",$e[1]-$e[0])}function fn(){var Or=this,Xr=a.select(a.event.target),tn=le.of(Or,arguments),it=a.select(Or),gt=Xr.datum(),Mt=!/^(n|s)$/.test(gt)&&Se,fr=!/^(e|w)$/.test(gt)&&Be,Lr=Xr.classed("extent"),Br=Pe(Or),Ir,en=a.mouse(Or),an,In=a.select(t(Or)).on("keydown.brush",Kn).on("keyup.brush",da);if(a.event.changedTouches?In.on("touchmove.brush",pa).on("touchend.brush",wa):In.on("mousemove.brush",pa).on("mouseup.brush",wa),it.interrupt().selectAll("*").interrupt(),Lr)en[0]=Ke[0]-en[0],en[1]=$e[0]-en[1];else if(gt){var Dn=+/w$/.test(gt),Jn=+/^n/.test(gt);an=[Ke[1-Dn]-en[0],$e[1-Jn]-en[1]],en[0]=Ke[Dn],en[1]=$e[Jn]}else a.event.altKey&&(Ir=en.slice());it.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",Xr.style("cursor")),tn({type:"brushstart"}),pa();function Kn(){a.event.keyCode==32&&(Lr||(Ir=null,en[0]-=Ke[1],en[1]-=$e[1],Lr=2),ae())}function da(){a.event.keyCode==32&&Lr==2&&(en[0]+=Ke[1],en[1]+=$e[1],Lr=0,ae())}function pa(){var Aa=a.mouse(Or),Oa=!1;an&&(Aa[0]+=an[0],Aa[1]+=an[1]),Lr||(a.event.altKey?(Ir||(Ir=[(Ke[0]+Ke[1])/2,($e[0]+$e[1])/2]),en[0]=Ke[+(Aa[0]<Ir[0])],en[1]=$e[+(Aa[1]<Ir[1])]):Ir=null),Mt&&kn(Aa,Se,0)&&(Dr(it),Oa=!0),fr&&kn(Aa,Be,1)&&(nn(it),Oa=!0),Oa&&(Rr(it),tn({type:"brush",mode:Lr?"move":"resize"}))}function kn(Aa,Oa,oi){var ui=Sl(Oa),xi=ui[0],Ya=ui[1],$n=en[oi],Xn=oi?$e:Ke,na=Xn[1]-Xn[0],Ha,hi;if(Lr&&(xi-=$n,Ya-=na+$n),Ha=(oi?Ht:ct)?Math.max(xi,Math.min(Ya,Aa[oi])):Aa[oi],Lr?hi=(Ha+=$n)+na:(Ir&&($n=Math.max(xi,Math.min(Ya,2*Ir[oi]-Ha))),$n<Ha?(hi=Ha,Ha=$n):hi=$n),Xn[0]!=Ha||Xn[1]!=hi)return oi?kt=null:nt=null,Xn[0]=Ha,Xn[1]=hi,!0}function wa(){pa(),it.style("pointer-events","all").selectAll(".resize").style("display",ar.empty()?"none":null),a.select("body").style("cursor",null),In.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Br(),tn({type:"brushend"})}}return ar.x=function(Or){return arguments.length?(Se=Or,rr=pi[!Se<<1|!Be],ar):Se},ar.y=function(Or){return arguments.length?(Be=Or,rr=pi[!Se<<1|!Be],ar):Be},ar.clamp=function(Or){return arguments.length?(Se&&Be?(ct=!!Or[0],Ht=!!Or[1]):Se?ct=!!Or:Be&&(Ht=!!Or),ar):Se&&Be?[ct,Ht]:Se?ct:Be?Ht:null},ar.extent=function(Or){var Xr,tn,it,gt,Mt;return arguments.length?(Se&&(Xr=Or[0],tn=Or[1],Be&&(Xr=Xr[0],tn=tn[0]),nt=[Xr,tn],Se.invert&&(Xr=Se(Xr),tn=Se(tn)),tn<Xr&&(Mt=Xr,Xr=tn,tn=Mt),(Xr!=Ke[0]||tn!=Ke[1])&&(Ke=[Xr,tn])),Be&&(it=Or[0],gt=Or[1],Se&&(it=it[1],gt=gt[1]),kt=[it,gt],Be.invert&&(it=Be(it),gt=Be(gt)),gt<it&&(Mt=it,it=gt,gt=Mt),(it!=$e[0]||gt!=$e[1])&&($e=[it,gt])),ar):(Se&&(nt?(Xr=nt[0],tn=nt[1]):(Xr=Ke[0],tn=Ke[1],Se.invert&&(Xr=Se.invert(Xr),tn=Se.invert(tn)),tn<Xr&&(Mt=Xr,Xr=tn,tn=Mt))),Be&&(kt?(it=kt[0],gt=kt[1]):(it=$e[0],gt=$e[1],Be.invert&&(it=Be.invert(it),gt=Be.invert(gt)),gt<it&&(Mt=it,it=gt,gt=Mt))),Se&&Be?[[Xr,it],[tn,gt]]:Se?[Xr,tn]:Be&&[it,gt])},ar.clear=function(){return ar.empty()||(Ke=[0,0],$e=[0,0],nt=kt=null),ar},ar.empty=function(){return!!Se&&Ke[0]==Ke[1]||!!Be&&$e[0]==$e[1]},a.rebind(ar,le,"on")};var Wa={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},pi=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];a.text=Gn(function(le){return le.responseText}),a.json=function(le,Se){return Hn(le,"application/json",Oi,Se)};function Oi(le){return JSON.parse(le.responseText)}a.html=function(le,Se){return Hn(le,"text/html",Mi,Se)};function Mi(le){var Se=v.createRange();return Se.selectNode(v.body),Se.createContextualFragment(le.responseText)}a.xml=Gn(function(le){return le.responseXML}),g=a,P=typeof g=="function"?g.call(U,e,U,H):g,P!==void 0&&(H.exports=P)}).apply(self)},88294:function(H,U,e){H.exports=e(62849)},62849:function(H,U,e){var g=e(91358),P=e(53435),a=e(18863),L=e(21527),T=e(71299),v=e(46775),d=e(30120),t=e(64941),r=e(90660),u=e(27084),n=1073741824;H.exports=function(l,x){x||(x={}),l=d(l,"float64"),x=T(x,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var c=v(x.maxDepth,255),b=v(x.bounds,L(l,2));b[0]===b[2]&&b[2]++,b[1]===b[3]&&b[3]++;var h=s(l,b),o=l.length>>>1,p;x.dtype||(x.dtype="array"),typeof x.dtype=="string"?p=new(r(x.dtype))(o):x.dtype&&(p=x.dtype,Array.isArray(p)&&(p.length=o));for(var S=0;S<o;++S)p[S]=S;var A=[],E=[],m=[],M=[];N(0,0,1,p,0,1);for(var w=0,i=0;i<A.length;i++){var C=A[i];if(p.set)p.set(C,w);else for(var y=0,_=C.length;y<_;y++)p[y+w]=C[y];var I=w+A[i].length;M[i]=[w,I],w=I}return p.range=k,p;function N(F,B,G,Q,ee,ae){if(!Q.length)return null;var fe=A[ee]||(A[ee]=[]),K=m[ee]||(m[ee]=[]),W=E[ee]||(E[ee]=[]),Z=fe.length;if(ee++,ee>c||ae>n){for(var X=0;X<Q.length;X++)fe.push(Q[X]),K.push(ae),W.push(null,null,null,null);return Z}if(fe.push(Q[0]),K.push(ae),Q.length<=1)return W.push(null,null,null,null),Z;for(var $=G*.5,ie=F+$,J=B+$,j=[],se=[],ne=[],ue=[],ge=1,we=Q.length;ge<we;ge++){var xe=Q[ge],Fe=h[xe*2],ze=h[xe*2+1];Fe<ie?ze<J?j.push(xe):se.push(xe):ze<J?ne.push(xe):ue.push(xe)}return ae<<=2,W.push(N(F,B,$,j,ee,ae),N(F,J,$,se,ee,ae+1),N(ie,B,$,ne,ee,ae+2),N(ie,J,$,ue,ee,ae+3)),Z}function k(){for(var F=[],B=arguments.length;B--;)F[B]=arguments[B];var G;if(t(F[F.length-1])){var Q=F.pop();!F.length&&(Q.x!=null||Q.l!=null||Q.left!=null)&&(F=[Q],G={}),G=T(Q,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else G={};F.length||(F=b);var ee=a.apply(void 0,F),ae=[Math.min(ee.x,ee.x+ee.width),Math.min(ee.y,ee.y+ee.height),Math.max(ee.x,ee.x+ee.width),Math.max(ee.y,ee.y+ee.height)],fe=ae[0],K=ae[1],W=ae[2],Z=ae[3],X=s([fe,K,W,Z],b),$=X[0],ie=X[1],J=X[2],j=X[3],se=v(G.level,A.length);if(G.d!=null){var ne;typeof G.d=="number"?ne=[G.d,G.d]:G.d.length&&(ne=G.d),se=Math.min(Math.max(Math.ceil(-u(Math.abs(ne[0])/(b[2]-b[0]))),Math.ceil(-u(Math.abs(ne[1])/(b[3]-b[1])))),se)}if(se=Math.min(se,A.length),G.lod)return O($,ie,J,j,se);var ue=[];ge(0,0,1,0,0,1);function ge(xe,Fe,ze,Te,ye,Ae){if(!(ye===null||Ae===null)){var Ne=xe+ze,Ue=Fe+ze;if(!($>Ne||ie>Ue||J<xe||j<Fe)&&!(Te>=se)&&ye!==Ae){var Re=A[Te];Ae===void 0&&(Ae=Re.length);for(var Ve=ye;Ve<Ae;Ve++){var rt=Re[Ve],Qe=l[rt*2],Je=l[rt*2+1];Qe>=fe&&Qe<=W&&Je>=K&&Je<=Z&&ue.push(rt)}var qe=E[Te],dt=qe[ye*4+0],pt=qe[ye*4+1],mt=qe[ye*4+2],Ct=qe[ye*4+3],Rt=we(qe,ye+1),Zt=ze*.5,Xe=Te+1;ge(xe,Fe,Zt,Xe,dt,pt||mt||Ct||Rt),ge(xe,Fe+Zt,Zt,Xe,pt,mt||Ct||Rt),ge(xe+Zt,Fe,Zt,Xe,mt,Ct||Rt),ge(xe+Zt,Fe+Zt,Zt,Xe,Ct,Rt)}}}function we(xe,Fe){for(var ze=null,Te=0;ze===null;)if(ze=xe[Fe*4+Te],Te++,Te>xe.length)return null;return ze}return ue}function O(F,B,G,Q,ee){for(var ae=[],fe=0;fe<ee;fe++){var K=m[fe],W=M[fe][0],Z=z(F,B,fe),X=z(G,Q,fe),$=g.ge(K,Z),ie=g.gt(K,X,$,K.length-1);ae[fe]=[$+W,ie+W]}return ae}function z(F,B,G){for(var Q=1,ee=.5,ae=.5,fe=.5,K=0;K<G;K++)Q<<=2,Q+=F<ee?B<ae?0:1:B<ae?2:3,fe*=.5,ee+=F<ee?-fe:fe,ae+=B<ae?-fe:fe;return Q}};function s(f,l){for(var x=l[0],c=l[1],b=l[2],h=l[3],o=1/(b-x),p=1/(h-c),S=new Array(f.length),A=0,E=f.length/2;A<E;A++)S[2*A]=P((f[2*A]-x)*o,0,1),S[2*A+1]=P((f[2*A+1]-c)*p,0,1);return S}},30774:function(H,U,e){Object.defineProperty(U,"__esModule",{value:!0});var g=e(60302),P=6378137;function a(t){return g.geomReduce(t,function(r,u){return r+L(u)},0)}U.default=a;function L(t){var r=0,u;switch(t.type){case"Polygon":return T(t.coordinates);case"MultiPolygon":for(u=0;u<t.coordinates.length;u++)r+=T(t.coordinates[u]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function T(t){var r=0;if(t&&t.length>0){r+=Math.abs(v(t[0]));for(var u=1;u<t.length;u++)r-=Math.abs(v(t[u]))}return r}function v(t){var r,u,n,s,f,l,x,c=0,b=t.length;if(b>2){for(x=0;x<b;x++)x===b-2?(s=b-2,f=b-1,l=0):x===b-1?(s=b-1,f=0,l=1):(s=x,f=x+1,l=x+2),r=t[s],u=t[f],n=t[l],c+=(d(n[0])-d(r[0]))*Math.sin(d(u[1]));c=c*P*P/2}return c}function d(t){return t*Math.PI/180}},23132:function(H,U){Object.defineProperty(U,"__esModule",{value:!0}),U.earthRadius=63710088e-1,U.factors={centimeters:U.earthRadius*100,centimetres:U.earthRadius*100,degrees:U.earthRadius/111325,feet:U.earthRadius*3.28084,inches:U.earthRadius*39.37,kilometers:U.earthRadius/1e3,kilometres:U.earthRadius/1e3,meters:U.earthRadius,metres:U.earthRadius,miles:U.earthRadius/1609.344,millimeters:U.earthRadius*1e3,millimetres:U.earthRadius*1e3,nauticalmiles:U.earthRadius/1852,radians:1,yards:U.earthRadius*1.0936},U.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/U.earthRadius,yards:1.0936133},U.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(w,i,C){C===void 0&&(C={});var y={type:"Feature"};return(C.id===0||C.id)&&(y.id=C.id),C.bbox&&(y.bbox=C.bbox),y.properties=i||{},y.geometry=w,y}U.feature=e;function g(w,i,C){switch(w){case"Point":return P(i).geometry;case"LineString":return v(i).geometry;case"Polygon":return L(i).geometry;case"MultiPoint":return u(i).geometry;case"MultiLineString":return r(i).geometry;case"MultiPolygon":return n(i).geometry;default:throw new Error(w+" is invalid")}}U.geometry=g;function P(w,i,C){if(C===void 0&&(C={}),!w)throw new Error("coordinates is required");if(!Array.isArray(w))throw new Error("coordinates must be an Array");if(w.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!A(w[0])||!A(w[1]))throw new Error("coordinates must contain numbers");var y={type:"Point",coordinates:w};return e(y,i,C)}U.point=P;function a(w,i,C){return C===void 0&&(C={}),t(w.map(function(y){return P(y,i)}),C)}U.points=a;function L(w,i,C){C===void 0&&(C={});for(var y=0,_=w;y<_.length;y++){var I=_[y];if(I.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var N=0;N<I[I.length-1].length;N++)if(I[I.length-1][N]!==I[0][N])throw new Error("First and last Position are not equivalent.")}var k={type:"Polygon",coordinates:w};return e(k,i,C)}U.polygon=L;function T(w,i,C){return C===void 0&&(C={}),t(w.map(function(y){return L(y,i)}),C)}U.polygons=T;function v(w,i,C){if(C===void 0&&(C={}),w.length<2)throw new Error("coordinates must be an array of two or more positions");var y={type:"LineString",coordinates:w};return e(y,i,C)}U.lineString=v;function d(w,i,C){return C===void 0&&(C={}),t(w.map(function(y){return v(y,i)}),C)}U.lineStrings=d;function t(w,i){i===void 0&&(i={});var C={type:"FeatureCollection"};return i.id&&(C.id=i.id),i.bbox&&(C.bbox=i.bbox),C.features=w,C}U.featureCollection=t;function r(w,i,C){C===void 0&&(C={});var y={type:"MultiLineString",coordinates:w};return e(y,i,C)}U.multiLineString=r;function u(w,i,C){C===void 0&&(C={});var y={type:"MultiPoint",coordinates:w};return e(y,i,C)}U.multiPoint=u;function n(w,i,C){C===void 0&&(C={});var y={type:"MultiPolygon",coordinates:w};return e(y,i,C)}U.multiPolygon=n;function s(w,i,C){C===void 0&&(C={});var y={type:"GeometryCollection",geometries:w};return e(y,i,C)}U.geometryCollection=s;function f(w,i){if(i===void 0&&(i=0),i&&!(i>=0))throw new Error("precision must be a positive number");var C=Math.pow(10,i||0);return Math.round(w*C)/C}U.round=f;function l(w,i){i===void 0&&(i="kilometers");var C=U.factors[i];if(!C)throw new Error(i+" units is invalid");return w*C}U.radiansToLength=l;function x(w,i){i===void 0&&(i="kilometers");var C=U.factors[i];if(!C)throw new Error(i+" units is invalid");return w/C}U.lengthToRadians=x;function c(w,i){return h(x(w,i))}U.lengthToDegrees=c;function b(w){var i=w%360;return i<0&&(i+=360),i}U.bearingToAzimuth=b;function h(w){var i=w%(2*Math.PI);return i*180/Math.PI}U.radiansToDegrees=h;function o(w){var i=w%360;return i*Math.PI/180}U.degreesToRadians=o;function p(w,i,C){if(i===void 0&&(i="kilometers"),C===void 0&&(C="kilometers"),!(w>=0))throw new Error("length must be a positive number");return l(x(w,i),C)}U.convertLength=p;function S(w,i,C){if(i===void 0&&(i="meters"),C===void 0&&(C="kilometers"),!(w>=0))throw new Error("area must be a positive number");var y=U.areaFactors[i];if(!y)throw new Error("invalid original units");var _=U.areaFactors[C];if(!_)throw new Error("invalid final units");return w/y*_}U.convertArea=S;function A(w){return!isNaN(w)&&w!==null&&!Array.isArray(w)}U.isNumber=A;function E(w){return!!w&&w.constructor===Object}U.isObject=E;function m(w){if(!w)throw new Error("bbox is required");if(!Array.isArray(w))throw new Error("bbox must be an Array");if(w.length!==4&&w.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");w.forEach(function(i){if(!A(i))throw new Error("bbox must only contain numbers")})}U.validateBBox=m;function M(w){if(!w)throw new Error("id is required");if(["string","number"].indexOf(typeof w)===-1)throw new Error("id must be a number or a string")}U.validateId=M},60302:function(H,U,e){Object.defineProperty(U,"__esModule",{value:!0});var g=e(23132);function P(o,p,S){if(o!==null)for(var A,E,m,M,w,i,C,y=0,_=0,I,N=o.type,k=N==="FeatureCollection",O=N==="Feature",z=k?o.features.length:1,F=0;F<z;F++){C=k?o.features[F].geometry:O?o.geometry:o,I=C?C.type==="GeometryCollection":!1,w=I?C.geometries.length:1;for(var B=0;B<w;B++){var G=0,Q=0;if(M=I?C.geometries[B]:C,M!==null){i=M.coordinates;var ee=M.type;switch(y=S&&(ee==="Polygon"||ee==="MultiPolygon")?1:0,ee){case null:break;case"Point":if(p(i,_,F,G,Q)===!1)return!1;_++,G++;break;case"LineString":case"MultiPoint":for(A=0;A<i.length;A++){if(p(i[A],_,F,G,Q)===!1)return!1;_++,ee==="MultiPoint"&&G++}ee==="LineString"&&G++;break;case"Polygon":case"MultiLineString":for(A=0;A<i.length;A++){for(E=0;E<i[A].length-y;E++){if(p(i[A][E],_,F,G,Q)===!1)return!1;_++}ee==="MultiLineString"&&G++,ee==="Polygon"&&Q++}ee==="Polygon"&&G++;break;case"MultiPolygon":for(A=0;A<i.length;A++){for(Q=0,E=0;E<i[A].length;E++){for(m=0;m<i[A][E].length-y;m++){if(p(i[A][E][m],_,F,G,Q)===!1)return!1;_++}Q++}G++}break;case"GeometryCollection":for(A=0;A<M.geometries.length;A++)if(P(M.geometries[A],p,S)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(o,p,S,A){var E=S;return P(o,function(m,M,w,i,C){M===0&&S===void 0?E=m:E=p(E,m,M,w,i,C)},A),E}function L(o,p){var S;switch(o.type){case"FeatureCollection":for(S=0;S<o.features.length&&p(o.features[S].properties,S)!==!1;S++);break;case"Feature":p(o.properties,0);break}}function T(o,p,S){var A=S;return L(o,function(E,m){m===0&&S===void 0?A=E:A=p(A,E,m)}),A}function v(o,p){if(o.type==="Feature")p(o,0);else if(o.type==="FeatureCollection")for(var S=0;S<o.features.length&&p(o.features[S],S)!==!1;S++);}function d(o,p,S){var A=S;return v(o,function(E,m){m===0&&S===void 0?A=E:A=p(A,E,m)}),A}function t(o){var p=[];return P(o,function(S){p.push(S)}),p}function r(o,p){var S,A,E,m,M,w,i,C,y,_,I=0,N=o.type==="FeatureCollection",k=o.type==="Feature",O=N?o.features.length:1;for(S=0;S<O;S++){for(w=N?o.features[S].geometry:k?o.geometry:o,C=N?o.features[S].properties:k?o.properties:{},y=N?o.features[S].bbox:k?o.bbox:void 0,_=N?o.features[S].id:k?o.id:void 0,i=w?w.type==="GeometryCollection":!1,M=i?w.geometries.length:1,E=0;E<M;E++){if(m=i?w.geometries[E]:w,m===null){if(p(null,I,C,y,_)===!1)return!1;continue}switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(p(m,I,C,y,_)===!1)return!1;break}case"GeometryCollection":{for(A=0;A<m.geometries.length;A++)if(p(m.geometries[A],I,C,y,_)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function u(o,p,S){var A=S;return r(o,function(E,m,M,w,i){m===0&&S===void 0?A=E:A=p(A,E,m,M,w,i)}),A}function n(o,p){r(o,function(S,A,E,m,M){var w=S===null?null:S.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return p(g.feature(S,E,{bbox:m,id:M}),A,0)===!1?!1:void 0}var i;switch(w){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon";break}for(var C=0;C<S.coordinates.length;C++){var y=S.coordinates[C],_={type:i,coordinates:y};if(p(g.feature(_,E),A,C)===!1)return!1}})}function s(o,p,S){var A=S;return n(o,function(E,m,M){m===0&&M===0&&S===void 0?A=E:A=p(A,E,m,M)}),A}function f(o,p){n(o,function(S,A,E){var m=0;if(S.geometry){var M=S.geometry.type;if(!(M==="Point"||M==="MultiPoint")){var w,i=0,C=0,y=0;if(P(S,function(_,I,N,k,O){if(w===void 0||A>i||k>C||O>y){w=_,i=A,C=k,y=O,m=0;return}var z=g.lineString([w,_],S.properties);if(p(z,A,E,O,m)===!1)return!1;m++,w=_})===!1)return!1}}})}function l(o,p,S){var A=S,E=!1;return f(o,function(m,M,w,i,C){E===!1&&S===void 0?A=m:A=p(A,m,M,w,i,C),E=!0}),A}function x(o,p){if(!o)throw new Error("geojson is required");n(o,function(S,A,E){if(S.geometry!==null){var m=S.geometry.type,M=S.geometry.coordinates;switch(m){case"LineString":if(p(S,A,E,0,0)===!1)return!1;break;case"Polygon":for(var w=0;w<M.length;w++)if(p(g.lineString(M[w],S.properties),A,E,w)===!1)return!1;break}}})}function c(o,p,S){var A=S;return x(o,function(E,m,M,w){m===0&&S===void 0?A=E:A=p(A,E,m,M,w)}),A}function b(o,p){if(p=p||{},!g.isObject(p))throw new Error("options is invalid");var S=p.featureIndex||0,A=p.multiFeatureIndex||0,E=p.geometryIndex||0,m=p.segmentIndex||0,M=p.properties,w;switch(o.type){case"FeatureCollection":S<0&&(S=o.features.length+S),M=M||o.features[S].properties,w=o.features[S].geometry;break;case"Feature":M=M||o.properties,w=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":w=o;break;default:throw new Error("geojson is invalid")}if(w===null)return null;var i=w.coordinates;switch(w.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=i.length+m-1),g.lineString([i[m],i[m+1]],M,p);case"Polygon":return E<0&&(E=i.length+E),m<0&&(m=i[E].length+m-1),g.lineString([i[E][m],i[E][m+1]],M,p);case"MultiLineString":return A<0&&(A=i.length+A),m<0&&(m=i[A].length+m-1),g.lineString([i[A][m],i[A][m+1]],M,p);case"MultiPolygon":return A<0&&(A=i.length+A),E<0&&(E=i[A].length+E),m<0&&(m=i[A][E].length-m-1),g.lineString([i[A][E][m],i[A][E][m+1]],M,p)}throw new Error("geojson is invalid")}function h(o,p){if(p=p||{},!g.isObject(p))throw new Error("options is invalid");var S=p.featureIndex||0,A=p.multiFeatureIndex||0,E=p.geometryIndex||0,m=p.coordIndex||0,M=p.properties,w;switch(o.type){case"FeatureCollection":S<0&&(S=o.features.length+S),M=M||o.features[S].properties,w=o.features[S].geometry;break;case"Feature":M=M||o.properties,w=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":w=o;break;default:throw new Error("geojson is invalid")}if(w===null)return null;var i=w.coordinates;switch(w.type){case"Point":return g.point(i,M,p);case"MultiPoint":return A<0&&(A=i.length+A),g.point(i[A],M,p);case"LineString":return m<0&&(m=i.length+m),g.point(i[m],M,p);case"Polygon":return E<0&&(E=i.length+E),m<0&&(m=i[E].length+m),g.point(i[E][m],M,p);case"MultiLineString":return A<0&&(A=i.length+A),m<0&&(m=i[A].length+m),g.point(i[A][m],M,p);case"MultiPolygon":return A<0&&(A=i.length+A),E<0&&(E=i[A].length+E),m<0&&(m=i[A][E].length-m),g.point(i[A][E][m],M,p)}throw new Error("geojson is invalid")}U.coordEach=P,U.coordReduce=a,U.propEach=L,U.propReduce=T,U.featureEach=v,U.featureReduce=d,U.coordAll=t,U.geomEach=r,U.geomReduce=u,U.flattenEach=n,U.flattenReduce=s,U.segmentEach=f,U.segmentReduce=l,U.lineEach=x,U.lineReduce=c,U.findSegment=b,U.findPoint=h},85268:function(H,U,e){Object.defineProperty(U,"__esModule",{value:!0});var g=e(27138);function P(a){var L=[1/0,1/0,-1/0,-1/0];return g.coordEach(a,function(T){L[0]>T[0]&&(L[0]=T[0]),L[1]>T[1]&&(L[1]=T[1]),L[2]<T[0]&&(L[2]=T[0]),L[3]<T[1]&&(L[3]=T[1])}),L}P.default=P,U.default=P},94228:function(H,U){Object.defineProperty(U,"__esModule",{value:!0}),U.earthRadius=63710088e-1,U.factors={centimeters:U.earthRadius*100,centimetres:U.earthRadius*100,degrees:U.earthRadius/111325,feet:U.earthRadius*3.28084,inches:U.earthRadius*39.37,kilometers:U.earthRadius/1e3,kilometres:U.earthRadius/1e3,meters:U.earthRadius,metres:U.earthRadius,miles:U.earthRadius/1609.344,millimeters:U.earthRadius*1e3,millimetres:U.earthRadius*1e3,nauticalmiles:U.earthRadius/1852,radians:1,yards:U.earthRadius*1.0936},U.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/U.earthRadius,yards:1.0936133},U.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(w,i,C){C===void 0&&(C={});var y={type:"Feature"};return(C.id===0||C.id)&&(y.id=C.id),C.bbox&&(y.bbox=C.bbox),y.properties=i||{},y.geometry=w,y}U.feature=e;function g(w,i,C){switch(w){case"Point":return P(i).geometry;case"LineString":return v(i).geometry;case"Polygon":return L(i).geometry;case"MultiPoint":return u(i).geometry;case"MultiLineString":return r(i).geometry;case"MultiPolygon":return n(i).geometry;default:throw new Error(w+" is invalid")}}U.geometry=g;function P(w,i,C){if(C===void 0&&(C={}),!w)throw new Error("coordinates is required");if(!Array.isArray(w))throw new Error("coordinates must be an Array");if(w.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!A(w[0])||!A(w[1]))throw new Error("coordinates must contain numbers");var y={type:"Point",coordinates:w};return e(y,i,C)}U.point=P;function a(w,i,C){return C===void 0&&(C={}),t(w.map(function(y){return P(y,i)}),C)}U.points=a;function L(w,i,C){C===void 0&&(C={});for(var y=0,_=w;y<_.length;y++){var I=_[y];if(I.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var N=0;N<I[I.length-1].length;N++)if(I[I.length-1][N]!==I[0][N])throw new Error("First and last Position are not equivalent.")}var k={type:"Polygon",coordinates:w};return e(k,i,C)}U.polygon=L;function T(w,i,C){return C===void 0&&(C={}),t(w.map(function(y){return L(y,i)}),C)}U.polygons=T;function v(w,i,C){if(C===void 0&&(C={}),w.length<2)throw new Error("coordinates must be an array of two or more positions");var y={type:"LineString",coordinates:w};return e(y,i,C)}U.lineString=v;function d(w,i,C){return C===void 0&&(C={}),t(w.map(function(y){return v(y,i)}),C)}U.lineStrings=d;function t(w,i){i===void 0&&(i={});var C={type:"FeatureCollection"};return i.id&&(C.id=i.id),i.bbox&&(C.bbox=i.bbox),C.features=w,C}U.featureCollection=t;function r(w,i,C){C===void 0&&(C={});var y={type:"MultiLineString",coordinates:w};return e(y,i,C)}U.multiLineString=r;function u(w,i,C){C===void 0&&(C={});var y={type:"MultiPoint",coordinates:w};return e(y,i,C)}U.multiPoint=u;function n(w,i,C){C===void 0&&(C={});var y={type:"MultiPolygon",coordinates:w};return e(y,i,C)}U.multiPolygon=n;function s(w,i,C){C===void 0&&(C={});var y={type:"GeometryCollection",geometries:w};return e(y,i,C)}U.geometryCollection=s;function f(w,i){if(i===void 0&&(i=0),i&&!(i>=0))throw new Error("precision must be a positive number");var C=Math.pow(10,i||0);return Math.round(w*C)/C}U.round=f;function l(w,i){i===void 0&&(i="kilometers");var C=U.factors[i];if(!C)throw new Error(i+" units is invalid");return w*C}U.radiansToLength=l;function x(w,i){i===void 0&&(i="kilometers");var C=U.factors[i];if(!C)throw new Error(i+" units is invalid");return w/C}U.lengthToRadians=x;function c(w,i){return h(x(w,i))}U.lengthToDegrees=c;function b(w){var i=w%360;return i<0&&(i+=360),i}U.bearingToAzimuth=b;function h(w){var i=w%(2*Math.PI);return i*180/Math.PI}U.radiansToDegrees=h;function o(w){var i=w%360;return i*Math.PI/180}U.degreesToRadians=o;function p(w,i,C){if(i===void 0&&(i="kilometers"),C===void 0&&(C="kilometers"),!(w>=0))throw new Error("length must be a positive number");return l(x(w,i),C)}U.convertLength=p;function S(w,i,C){if(i===void 0&&(i="meters"),C===void 0&&(C="kilometers"),!(w>=0))throw new Error("area must be a positive number");var y=U.areaFactors[i];if(!y)throw new Error("invalid original units");var _=U.areaFactors[C];if(!_)throw new Error("invalid final units");return w/y*_}U.convertArea=S;function A(w){return!isNaN(w)&&w!==null&&!Array.isArray(w)}U.isNumber=A;function E(w){return!!w&&w.constructor===Object}U.isObject=E;function m(w){if(!w)throw new Error("bbox is required");if(!Array.isArray(w))throw new Error("bbox must be an Array");if(w.length!==4&&w.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");w.forEach(function(i){if(!A(i))throw new Error("bbox must only contain numbers")})}U.validateBBox=m;function M(w){if(!w)throw new Error("id is required");if(["string","number"].indexOf(typeof w)===-1)throw new Error("id must be a number or a string")}U.validateId=M},27138:function(H,U,e){Object.defineProperty(U,"__esModule",{value:!0});var g=e(94228);function P(o,p,S){if(o!==null)for(var A,E,m,M,w,i,C,y=0,_=0,I,N=o.type,k=N==="FeatureCollection",O=N==="Feature",z=k?o.features.length:1,F=0;F<z;F++){C=k?o.features[F].geometry:O?o.geometry:o,I=C?C.type==="GeometryCollection":!1,w=I?C.geometries.length:1;for(var B=0;B<w;B++){var G=0,Q=0;if(M=I?C.geometries[B]:C,M!==null){i=M.coordinates;var ee=M.type;switch(y=S&&(ee==="Polygon"||ee==="MultiPolygon")?1:0,ee){case null:break;case"Point":if(p(i,_,F,G,Q)===!1)return!1;_++,G++;break;case"LineString":case"MultiPoint":for(A=0;A<i.length;A++){if(p(i[A],_,F,G,Q)===!1)return!1;_++,ee==="MultiPoint"&&G++}ee==="LineString"&&G++;break;case"Polygon":case"MultiLineString":for(A=0;A<i.length;A++){for(E=0;E<i[A].length-y;E++){if(p(i[A][E],_,F,G,Q)===!1)return!1;_++}ee==="MultiLineString"&&G++,ee==="Polygon"&&Q++}ee==="Polygon"&&G++;break;case"MultiPolygon":for(A=0;A<i.length;A++){for(Q=0,E=0;E<i[A].length;E++){for(m=0;m<i[A][E].length-y;m++){if(p(i[A][E][m],_,F,G,Q)===!1)return!1;_++}Q++}G++}break;case"GeometryCollection":for(A=0;A<M.geometries.length;A++)if(P(M.geometries[A],p,S)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(o,p,S,A){var E=S;return P(o,function(m,M,w,i,C){M===0&&S===void 0?E=m:E=p(E,m,M,w,i,C)},A),E}function L(o,p){var S;switch(o.type){case"FeatureCollection":for(S=0;S<o.features.length&&p(o.features[S].properties,S)!==!1;S++);break;case"Feature":p(o.properties,0);break}}function T(o,p,S){var A=S;return L(o,function(E,m){m===0&&S===void 0?A=E:A=p(A,E,m)}),A}function v(o,p){if(o.type==="Feature")p(o,0);else if(o.type==="FeatureCollection")for(var S=0;S<o.features.length&&p(o.features[S],S)!==!1;S++);}function d(o,p,S){var A=S;return v(o,function(E,m){m===0&&S===void 0?A=E:A=p(A,E,m)}),A}function t(o){var p=[];return P(o,function(S){p.push(S)}),p}function r(o,p){var S,A,E,m,M,w,i,C,y,_,I=0,N=o.type==="FeatureCollection",k=o.type==="Feature",O=N?o.features.length:1;for(S=0;S<O;S++){for(w=N?o.features[S].geometry:k?o.geometry:o,C=N?o.features[S].properties:k?o.properties:{},y=N?o.features[S].bbox:k?o.bbox:void 0,_=N?o.features[S].id:k?o.id:void 0,i=w?w.type==="GeometryCollection":!1,M=i?w.geometries.length:1,E=0;E<M;E++){if(m=i?w.geometries[E]:w,m===null){if(p(null,I,C,y,_)===!1)return!1;continue}switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(p(m,I,C,y,_)===!1)return!1;break}case"GeometryCollection":{for(A=0;A<m.geometries.length;A++)if(p(m.geometries[A],I,C,y,_)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function u(o,p,S){var A=S;return r(o,function(E,m,M,w,i){m===0&&S===void 0?A=E:A=p(A,E,m,M,w,i)}),A}function n(o,p){r(o,function(S,A,E,m,M){var w=S===null?null:S.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return p(g.feature(S,E,{bbox:m,id:M}),A,0)===!1?!1:void 0}var i;switch(w){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon";break}for(var C=0;C<S.coordinates.length;C++){var y=S.coordinates[C],_={type:i,coordinates:y};if(p(g.feature(_,E),A,C)===!1)return!1}})}function s(o,p,S){var A=S;return n(o,function(E,m,M){m===0&&M===0&&S===void 0?A=E:A=p(A,E,m,M)}),A}function f(o,p){n(o,function(S,A,E){var m=0;if(S.geometry){var M=S.geometry.type;if(!(M==="Point"||M==="MultiPoint")){var w,i=0,C=0,y=0;if(P(S,function(_,I,N,k,O){if(w===void 0||A>i||k>C||O>y){w=_,i=A,C=k,y=O,m=0;return}var z=g.lineString([w,_],S.properties);if(p(z,A,E,O,m)===!1)return!1;m++,w=_})===!1)return!1}}})}function l(o,p,S){var A=S,E=!1;return f(o,function(m,M,w,i,C){E===!1&&S===void 0?A=m:A=p(A,m,M,w,i,C),E=!0}),A}function x(o,p){if(!o)throw new Error("geojson is required");n(o,function(S,A,E){if(S.geometry!==null){var m=S.geometry.type,M=S.geometry.coordinates;switch(m){case"LineString":if(p(S,A,E,0,0)===!1)return!1;break;case"Polygon":for(var w=0;w<M.length;w++)if(p(g.lineString(M[w],S.properties),A,E,w)===!1)return!1;break}}})}function c(o,p,S){var A=S;return x(o,function(E,m,M,w){m===0&&S===void 0?A=E:A=p(A,E,m,M,w)}),A}function b(o,p){if(p=p||{},!g.isObject(p))throw new Error("options is invalid");var S=p.featureIndex||0,A=p.multiFeatureIndex||0,E=p.geometryIndex||0,m=p.segmentIndex||0,M=p.properties,w;switch(o.type){case"FeatureCollection":S<0&&(S=o.features.length+S),M=M||o.features[S].properties,w=o.features[S].geometry;break;case"Feature":M=M||o.properties,w=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":w=o;break;default:throw new Error("geojson is invalid")}if(w===null)return null;var i=w.coordinates;switch(w.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=i.length+m-1),g.lineString([i[m],i[m+1]],M,p);case"Polygon":return E<0&&(E=i.length+E),m<0&&(m=i[E].length+m-1),g.lineString([i[E][m],i[E][m+1]],M,p);case"MultiLineString":return A<0&&(A=i.length+A),m<0&&(m=i[A].length+m-1),g.lineString([i[A][m],i[A][m+1]],M,p);case"MultiPolygon":return A<0&&(A=i.length+A),E<0&&(E=i[A].length+E),m<0&&(m=i[A][E].length-m-1),g.lineString([i[A][E][m],i[A][E][m+1]],M,p)}throw new Error("geojson is invalid")}function h(o,p){if(p=p||{},!g.isObject(p))throw new Error("options is invalid");var S=p.featureIndex||0,A=p.multiFeatureIndex||0,E=p.geometryIndex||0,m=p.coordIndex||0,M=p.properties,w;switch(o.type){case"FeatureCollection":S<0&&(S=o.features.length+S),M=M||o.features[S].properties,w=o.features[S].geometry;break;case"Feature":M=M||o.properties,w=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":w=o;break;default:throw new Error("geojson is invalid")}if(w===null)return null;var i=w.coordinates;switch(w.type){case"Point":return g.point(i,M,p);case"MultiPoint":return A<0&&(A=i.length+A),g.point(i[A],M,p);case"LineString":return m<0&&(m=i.length+m),g.point(i[m],M,p);case"Polygon":return E<0&&(E=i.length+E),m<0&&(m=i[E].length+m),g.point(i[E][m],M,p);case"MultiLineString":return A<0&&(A=i.length+A),m<0&&(m=i[A].length+m),g.point(i[A][m],M,p);case"MultiPolygon":return A<0&&(A=i.length+A),E<0&&(E=i[A].length+E),m<0&&(m=i[A][E].length-m),g.point(i[A][E][m],M,p)}throw new Error("geojson is invalid")}U.coordEach=P,U.coordReduce=a,U.propEach=L,U.propReduce=T,U.featureEach=v,U.featureReduce=d,U.coordAll=t,U.geomEach=r,U.geomReduce=u,U.flattenEach=n,U.flattenReduce=s,U.segmentEach=f,U.segmentReduce=l,U.lineEach=x,U.lineReduce=c,U.findSegment=b,U.findPoint=h},29261:function(H,U,e){Object.defineProperty(U,"__esModule",{value:!0});var g=e(88553),P=e(64182);function a(L,T){T===void 0&&(T={});var v=0,d=0,t=0;return g.coordEach(L,function(r){v+=r[0],d+=r[1],t++}),P.point([v/t,d/t],T.properties)}U.default=a},64182:function(H,U){Object.defineProperty(U,"__esModule",{value:!0}),U.earthRadius=63710088e-1,U.factors={centimeters:U.earthRadius*100,centimetres:U.earthRadius*100,degrees:U.earthRadius/111325,feet:U.earthRadius*3.28084,inches:U.earthRadius*39.37,kilometers:U.earthRadius/1e3,kilometres:U.earthRadius/1e3,meters:U.earthRadius,metres:U.earthRadius,miles:U.earthRadius/1609.344,millimeters:U.earthRadius*1e3,millimetres:U.earthRadius*1e3,nauticalmiles:U.earthRadius/1852,radians:1,yards:U.earthRadius/1.0936},U.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/U.earthRadius,yards:.91441111923921},U.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(k,O,z){z===void 0&&(z={});var F={type:"Feature"};return(z.id===0||z.id)&&(F.id=z.id),z.bbox&&(F.bbox=z.bbox),F.properties=O||{},F.geometry=k,F}U.feature=e;function g(k,O,z){switch(k){case"Point":return P(O).geometry;case"LineString":return v(O).geometry;case"Polygon":return L(O).geometry;case"MultiPoint":return u(O).geometry;case"MultiLineString":return r(O).geometry;case"MultiPolygon":return n(O).geometry;default:throw new Error(k+" is invalid")}}U.geometry=g;function P(k,O,z){z===void 0&&(z={});var F={type:"Point",coordinates:k};return e(F,O,z)}U.point=P;function a(k,O,z){return z===void 0&&(z={}),t(k.map(function(F){return P(F,O)}),z)}U.points=a;function L(k,O,z){z===void 0&&(z={});for(var F=0,B=k;F<B.length;F++){var G=B[F];if(G.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var Q=0;Q<G[G.length-1].length;Q++)if(G[G.length-1][Q]!==G[0][Q])throw new Error("First and last Position are not equivalent.")}var ee={type:"Polygon",coordinates:k};return e(ee,O,z)}U.polygon=L;function T(k,O,z){return z===void 0&&(z={}),t(k.map(function(F){return L(F,O)}),z)}U.polygons=T;function v(k,O,z){if(z===void 0&&(z={}),k.length<2)throw new Error("coordinates must be an array of two or more positions");var F={type:"LineString",coordinates:k};return e(F,O,z)}U.lineString=v;function d(k,O,z){return z===void 0&&(z={}),t(k.map(function(F){return v(F,O)}),z)}U.lineStrings=d;function t(k,O){O===void 0&&(O={});var z={type:"FeatureCollection"};return O.id&&(z.id=O.id),O.bbox&&(z.bbox=O.bbox),z.features=k,z}U.featureCollection=t;function r(k,O,z){z===void 0&&(z={});var F={type:"MultiLineString",coordinates:k};return e(F,O,z)}U.multiLineString=r;function u(k,O,z){z===void 0&&(z={});var F={type:"MultiPoint",coordinates:k};return e(F,O,z)}U.multiPoint=u;function n(k,O,z){z===void 0&&(z={});var F={type:"MultiPolygon",coordinates:k};return e(F,O,z)}U.multiPolygon=n;function s(k,O,z){z===void 0&&(z={});var F={type:"GeometryCollection",geometries:k};return e(F,O,z)}U.geometryCollection=s;function f(k,O){if(O===void 0&&(O=0),O&&!(O>=0))throw new Error("precision must be a positive number");var z=Math.pow(10,O||0);return Math.round(k*z)/z}U.round=f;function l(k,O){O===void 0&&(O="kilometers");var z=U.factors[O];if(!z)throw new Error(O+" units is invalid");return k*z}U.radiansToLength=l;function x(k,O){O===void 0&&(O="kilometers");var z=U.factors[O];if(!z)throw new Error(O+" units is invalid");return k/z}U.lengthToRadians=x;function c(k,O){return h(x(k,O))}U.lengthToDegrees=c;function b(k){var O=k%360;return O<0&&(O+=360),O}U.bearingToAzimuth=b;function h(k){var O=k%(2*Math.PI);return O*180/Math.PI}U.radiansToDegrees=h;function o(k){var O=k%360;return O*Math.PI/180}U.degreesToRadians=o;function p(k,O,z){if(O===void 0&&(O="kilometers"),z===void 0&&(z="kilometers"),!(k>=0))throw new Error("length must be a positive number");return l(x(k,O),z)}U.convertLength=p;function S(k,O,z){if(O===void 0&&(O="meters"),z===void 0&&(z="kilometers"),!(k>=0))throw new Error("area must be a positive number");var F=U.areaFactors[O];if(!F)throw new Error("invalid original units");var B=U.areaFactors[z];if(!B)throw new Error("invalid final units");return k/F*B}U.convertArea=S;function A(k){return!isNaN(k)&&k!==null&&!Array.isArray(k)&&!/^\s*$/.test(k)}U.isNumber=A;function E(k){return!!k&&k.constructor===Object}U.isObject=E;function m(k){if(!k)throw new Error("bbox is required");if(!Array.isArray(k))throw new Error("bbox must be an Array");if(k.length!==4&&k.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");k.forEach(function(O){if(!A(O))throw new Error("bbox must only contain numbers")})}U.validateBBox=m;function M(k){if(!k)throw new Error("id is required");if(["string","number"].indexOf(typeof k)===-1)throw new Error("id must be a number or a string")}U.validateId=M;function w(){throw new Error("method has been renamed to `radiansToDegrees`")}U.radians2degrees=w;function i(){throw new Error("method has been renamed to `degreesToRadians`")}U.degrees2radians=i;function C(){throw new Error("method has been renamed to `lengthToDegrees`")}U.distanceToDegrees=C;function y(){throw new Error("method has been renamed to `lengthToRadians`")}U.distanceToRadians=y;function _(){throw new Error("method has been renamed to `radiansToLength`")}U.radiansToDistance=_;function I(){throw new Error("method has been renamed to `bearingToAzimuth`")}U.bearingToAngle=I;function N(){throw new Error("method has been renamed to `convertLength`")}U.convertDistance=N},88553:function(H,U,e){Object.defineProperty(U,"__esModule",{value:!0});var g=e(64182);function P(o,p,S){if(o!==null)for(var A,E,m,M,w,i,C,y=0,_=0,I,N=o.type,k=N==="FeatureCollection",O=N==="Feature",z=k?o.features.length:1,F=0;F<z;F++){C=k?o.features[F].geometry:O?o.geometry:o,I=C?C.type==="GeometryCollection":!1,w=I?C.geometries.length:1;for(var B=0;B<w;B++){var G=0,Q=0;if(M=I?C.geometries[B]:C,M!==null){i=M.coordinates;var ee=M.type;switch(y=S&&(ee==="Polygon"||ee==="MultiPolygon")?1:0,ee){case null:break;case"Point":if(p(i,_,F,G,Q)===!1)return!1;_++,G++;break;case"LineString":case"MultiPoint":for(A=0;A<i.length;A++){if(p(i[A],_,F,G,Q)===!1)return!1;_++,ee==="MultiPoint"&&G++}ee==="LineString"&&G++;break;case"Polygon":case"MultiLineString":for(A=0;A<i.length;A++){for(E=0;E<i[A].length-y;E++){if(p(i[A][E],_,F,G,Q)===!1)return!1;_++}ee==="MultiLineString"&&G++,ee==="Polygon"&&Q++}ee==="Polygon"&&G++;break;case"MultiPolygon":for(A=0;A<i.length;A++){for(Q=0,E=0;E<i[A].length;E++){for(m=0;m<i[A][E].length-y;m++){if(p(i[A][E][m],_,F,G,Q)===!1)return!1;_++}Q++}G++}break;case"GeometryCollection":for(A=0;A<M.geometries.length;A++)if(P(M.geometries[A],p,S)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(o,p,S,A){var E=S;return P(o,function(m,M,w,i,C){M===0&&S===void 0?E=m:E=p(E,m,M,w,i,C)},A),E}function L(o,p){var S;switch(o.type){case"FeatureCollection":for(S=0;S<o.features.length&&p(o.features[S].properties,S)!==!1;S++);break;case"Feature":p(o.properties,0);break}}function T(o,p,S){var A=S;return L(o,function(E,m){m===0&&S===void 0?A=E:A=p(A,E,m)}),A}function v(o,p){if(o.type==="Feature")p(o,0);else if(o.type==="FeatureCollection")for(var S=0;S<o.features.length&&p(o.features[S],S)!==!1;S++);}function d(o,p,S){var A=S;return v(o,function(E,m){m===0&&S===void 0?A=E:A=p(A,E,m)}),A}function t(o){var p=[];return P(o,function(S){p.push(S)}),p}function r(o,p){var S,A,E,m,M,w,i,C,y,_,I=0,N=o.type==="FeatureCollection",k=o.type==="Feature",O=N?o.features.length:1;for(S=0;S<O;S++){for(w=N?o.features[S].geometry:k?o.geometry:o,C=N?o.features[S].properties:k?o.properties:{},y=N?o.features[S].bbox:k?o.bbox:void 0,_=N?o.features[S].id:k?o.id:void 0,i=w?w.type==="GeometryCollection":!1,M=i?w.geometries.length:1,E=0;E<M;E++){if(m=i?w.geometries[E]:w,m===null){if(p(null,I,C,y,_)===!1)return!1;continue}switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(p(m,I,C,y,_)===!1)return!1;break}case"GeometryCollection":{for(A=0;A<m.geometries.length;A++)if(p(m.geometries[A],I,C,y,_)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function u(o,p,S){var A=S;return r(o,function(E,m,M,w,i){m===0&&S===void 0?A=E:A=p(A,E,m,M,w,i)}),A}function n(o,p){r(o,function(S,A,E,m,M){var w=S===null?null:S.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return p(g.feature(S,E,{bbox:m,id:M}),A,0)===!1?!1:void 0}var i;switch(w){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon";break}for(var C=0;C<S.coordinates.length;C++){var y=S.coordinates[C],_={type:i,coordinates:y};if(p(g.feature(_,E),A,C)===!1)return!1}})}function s(o,p,S){var A=S;return n(o,function(E,m,M){m===0&&M===0&&S===void 0?A=E:A=p(A,E,m,M)}),A}function f(o,p){n(o,function(S,A,E){var m=0;if(S.geometry){var M=S.geometry.type;if(!(M==="Point"||M==="MultiPoint")){var w,i=0,C=0,y=0;if(P(S,function(_,I,N,k,O){if(w===void 0||A>i||k>C||O>y){w=_,i=A,C=k,y=O,m=0;return}var z=g.lineString([w,_],S.properties);if(p(z,A,E,O,m)===!1)return!1;m++,w=_})===!1)return!1}}})}function l(o,p,S){var A=S,E=!1;return f(o,function(m,M,w,i,C){E===!1&&S===void 0?A=m:A=p(A,m,M,w,i,C),E=!0}),A}function x(o,p){if(!o)throw new Error("geojson is required");n(o,function(S,A,E){if(S.geometry!==null){var m=S.geometry.type,M=S.geometry.coordinates;switch(m){case"LineString":if(p(S,A,E,0,0)===!1)return!1;break;case"Polygon":for(var w=0;w<M.length;w++)if(p(g.lineString(M[w],S.properties),A,E,w)===!1)return!1;break}}})}function c(o,p,S){var A=S;return x(o,function(E,m,M,w){m===0&&S===void 0?A=E:A=p(A,E,m,M,w)}),A}function b(o,p){if(p=p||{},!g.isObject(p))throw new Error("options is invalid");var S=p.featureIndex||0,A=p.multiFeatureIndex||0,E=p.geometryIndex||0,m=p.segmentIndex||0,M=p.properties,w;switch(o.type){case"FeatureCollection":S<0&&(S=o.features.length+S),M=M||o.features[S].properties,w=o.features[S].geometry;break;case"Feature":M=M||o.properties,w=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":w=o;break;default:throw new Error("geojson is invalid")}if(w===null)return null;var i=w.coordinates;switch(w.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=i.length+m-1),g.lineString([i[m],i[m+1]],M,p);case"Polygon":return E<0&&(E=i.length+E),m<0&&(m=i[E].length+m-1),g.lineString([i[E][m],i[E][m+1]],M,p);case"MultiLineString":return A<0&&(A=i.length+A),m<0&&(m=i[A].length+m-1),g.lineString([i[A][m],i[A][m+1]],M,p);case"MultiPolygon":return A<0&&(A=i.length+A),E<0&&(E=i[A].length+E),m<0&&(m=i[A][E].length-m-1),g.lineString([i[A][E][m],i[A][E][m+1]],M,p)}throw new Error("geojson is invalid")}function h(o,p){if(p=p||{},!g.isObject(p))throw new Error("options is invalid");var S=p.featureIndex||0,A=p.multiFeatureIndex||0,E=p.geometryIndex||0,m=p.coordIndex||0,M=p.properties,w;switch(o.type){case"FeatureCollection":S<0&&(S=o.features.length+S),M=M||o.features[S].properties,w=o.features[S].geometry;break;case"Feature":M=M||o.properties,w=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":w=o;break;default:throw new Error("geojson is invalid")}if(w===null)return null;var i=w.coordinates;switch(w.type){case"Point":return g.point(i,M,p);case"MultiPoint":return A<0&&(A=i.length+A),g.point(i[A],M,p);case"LineString":return m<0&&(m=i.length+m),g.point(i[m],M,p);case"Polygon":return E<0&&(E=i.length+E),m<0&&(m=i[E].length+m),g.point(i[E][m],M,p);case"MultiLineString":return A<0&&(A=i.length+A),m<0&&(m=i[A].length+m),g.point(i[A][m],M,p);case"MultiPolygon":return A<0&&(A=i.length+A),E<0&&(E=i[A].length+E),m<0&&(m=i[A][E].length-m),g.point(i[A][E][m],M,p)}throw new Error("geojson is invalid")}U.coordEach=P,U.coordReduce=a,U.propEach=L,U.propReduce=T,U.featureEach=v,U.featureReduce=d,U.coordAll=t,U.geomEach=r,U.geomReduce=u,U.flattenEach=n,U.flattenReduce=s,U.segmentEach=f,U.segmentReduce=l,U.lineEach=x,U.lineReduce=c,U.findSegment=b,U.findPoint=h},65185:function(H){H.exports=U;function U(e){var g=0,P=0,a=0,L=0;return e.map(function(T){T=T.slice();var v=T[0],d=v.toUpperCase();if(v!=d)switch(T[0]=d,v){case"a":T[6]+=a,T[7]+=L;break;case"v":T[1]+=L;break;case"h":T[1]+=a;break;default:for(var t=1;t<T.length;)T[t++]+=a,T[t++]+=L}switch(d){case"Z":a=g,L=P;break;case"H":a=T[1];break;case"V":L=T[1];break;case"M":a=g=T[1],L=P=T[2];break;default:a=T[T.length-2],L=T[T.length-1]}return T})}},21527:function(H){H.exports=U;function U(e,g){if(!e||e.length==null)throw Error("Argument should be an array");g==null?g=1:g=Math.floor(g);for(var P=Array(g*2),a=0;a<g;a++){for(var L=-1/0,T=1/0,v=a,d=e.length;v<d;v+=g)e[v]>L&&(L=e[v]),e[v]<T&&(T=e[v]);P[a]=T,P[g+a]=L}return P}},6851:function(H){H.exports=function(U,e,g){if(typeof Array.prototype.findIndex=="function")return U.findIndex(e,g);if(typeof e!="function")throw new TypeError("predicate must be a function");var P=Object(U),a=P.length;if(a===0)return-1;for(var L=0;L<a;L++)if(e.call(g,P[L],L,P))return L;return-1}},54:function(H,U,e){var g=e(21527);H.exports=P;function P(a,L,T){if(!a||a.length==null)throw Error("Argument should be an array");L==null&&(L=1),T==null&&(T=g(a,L));for(var v=0;v<L;v++){var d=T[L+v],t=T[v],r=v,u=a.length;if(d===1/0&&t===-1/0)for(r=v;r<u;r+=L)a[r]=a[r]===d?1:a[r]===t?0:.5;else if(d===1/0)for(r=v;r<u;r+=L)a[r]=a[r]===d?1:0;else if(t===-1/0)for(r=v;r<u;r+=L)a[r]=a[r]===t?0:1;else{var n=d-t;for(r=v;r<u;r+=L)isNaN(a[r])||(a[r]=n===0?.5:(a[r]-t)/n)}}return a}},57471:function(H){H.exports=function(e,g){var P=typeof e=="number",a=typeof g=="number";P&&!a?(g=e,e=0):!P&&!a&&(e=0,g=0),e=e|0,g=g|0;var L=g-e;if(L<0)throw new Error("array length must be positive");for(var T=new Array(L),v=0,d=e;v<L;v++,d++)T[v]=d;return T}},32791:function(H,U,e){var g=e(90386);function P(Q){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?P=function(ae){return typeof ae}:P=function(ae){return ae&&typeof Symbol=="function"&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae},P(Q)}function a(Q,ee){if(!(Q instanceof ee))throw new TypeError("Cannot call a class as a function")}var L=e(79616),T=L.codes,v=T.ERR_AMBIGUOUS_ARGUMENT,d=T.ERR_INVALID_ARG_TYPE,t=T.ERR_INVALID_ARG_VALUE,r=T.ERR_INVALID_RETURN_VALUE,u=T.ERR_MISSING_ARGS,n=e(73894),s=e(43827),f=s.inspect,l=e(43827).types,x=l.isPromise,c=l.isRegExp,b=Object.assign?Object.assign:e(73523).assign,h=Object.is?Object.is:e(64003),o,p;function S(){var Q=e(74061);o=Q.isDeepEqual,p=Q.isDeepStrictEqual}var A=!1,E=H.exports=C,m={};function M(Q){throw Q.message instanceof Error?Q.message:new n(Q)}function w(Q,ee,ae,fe,K){var W=arguments.length,Z;if(W===0)Z="Failed";else if(W===1)ae=Q,Q=void 0;else{if(A===!1){A=!0;var X=g.emitWarning?g.emitWarning:console.warn.bind(console);X("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}W===2&&(fe="!=")}if(ae instanceof Error)throw ae;var $={actual:Q,expected:ee,operator:fe===void 0?"fail":fe,stackStartFn:K||w};ae!==void 0&&($.message=ae);var ie=new n($);throw Z&&(ie.message=Z,ie.generatedMessage=!0),ie}E.fail=w,E.AssertionError=n;function i(Q,ee,ae,fe){if(!ae){var K=!1;if(ee===0)K=!0,fe="No value argument passed to `assert.ok()`";else if(fe instanceof Error)throw fe;var W=new n({actual:ae,expected:!0,message:fe,operator:"==",stackStartFn:Q});throw W.generatedMessage=K,W}}function C(){for(var Q=arguments.length,ee=new Array(Q),ae=0;ae<Q;ae++)ee[ae]=arguments[ae];i.apply(void 0,[C,ee.length].concat(ee))}E.ok=C,E.equal=function Q(ee,ae,fe){if(arguments.length<2)throw new u("actual","expected");ee!=ae&&M({actual:ee,expected:ae,message:fe,operator:"==",stackStartFn:Q})},E.notEqual=function Q(ee,ae,fe){if(arguments.length<2)throw new u("actual","expected");ee==ae&&M({actual:ee,expected:ae,message:fe,operator:"!=",stackStartFn:Q})},E.deepEqual=function Q(ee,ae,fe){if(arguments.length<2)throw new u("actual","expected");o===void 0&&S(),o(ee,ae)||M({actual:ee,expected:ae,message:fe,operator:"deepEqual",stackStartFn:Q})},E.notDeepEqual=function Q(ee,ae,fe){if(arguments.length<2)throw new u("actual","expected");o===void 0&&S(),o(ee,ae)&&M({actual:ee,expected:ae,message:fe,operator:"notDeepEqual",stackStartFn:Q})},E.deepStrictEqual=function Q(ee,ae,fe){if(arguments.length<2)throw new u("actual","expected");o===void 0&&S(),p(ee,ae)||M({actual:ee,expected:ae,message:fe,operator:"deepStrictEqual",stackStartFn:Q})},E.notDeepStrictEqual=y;function y(Q,ee,ae){if(arguments.length<2)throw new u("actual","expected");o===void 0&&S(),p(Q,ee)&&M({actual:Q,expected:ee,message:ae,operator:"notDeepStrictEqual",stackStartFn:y})}E.strictEqual=function Q(ee,ae,fe){if(arguments.length<2)throw new u("actual","expected");h(ee,ae)||M({actual:ee,expected:ae,message:fe,operator:"strictEqual",stackStartFn:Q})},E.notStrictEqual=function Q(ee,ae,fe){if(arguments.length<2)throw new u("actual","expected");h(ee,ae)&&M({actual:ee,expected:ae,message:fe,operator:"notStrictEqual",stackStartFn:Q})};var _=function Q(ee,ae,fe){var K=this;a(this,Q),ae.forEach(function(W){W in ee&&(fe!==void 0&&typeof fe[W]=="string"&&c(ee[W])&&ee[W].test(fe[W])?K[W]=fe[W]:K[W]=ee[W])})};function I(Q,ee,ae,fe,K,W){if(!(ae in Q)||!p(Q[ae],ee[ae])){if(!fe){var Z=new _(Q,K),X=new _(ee,K,Q),$=new n({actual:Z,expected:X,operator:"deepStrictEqual",stackStartFn:W});throw $.actual=Q,$.expected=ee,$.operator=W.name,$}M({actual:Q,expected:ee,message:fe,operator:W.name,stackStartFn:W})}}function N(Q,ee,ae,fe){if(typeof ee!="function"){if(c(ee))return ee.test(Q);if(arguments.length===2)throw new d("expected",["Function","RegExp"],ee);if(P(Q)!=="object"||Q===null){var K=new n({actual:Q,expected:ee,message:ae,operator:"deepStrictEqual",stackStartFn:fe});throw K.operator=fe.name,K}var W=Object.keys(ee);if(ee instanceof Error)W.push("name","message");else if(W.length===0)throw new t("error",ee,"may not be an empty object");return o===void 0&&S(),W.forEach(function(Z){typeof Q[Z]=="string"&&c(ee[Z])&&ee[Z].test(Q[Z])||I(Q,ee,Z,ae,W,fe)}),!0}return ee.prototype!==void 0&&Q instanceof ee?!0:Error.isPrototypeOf(ee)?!1:ee.call({},Q)===!0}function k(Q){if(typeof Q!="function")throw new d("fn","Function",Q);try{Q()}catch(ee){return ee}return m}function O(Q){return x(Q)||Q!==null&&P(Q)==="object"&&typeof Q.then=="function"&&typeof Q.catch=="function"}function z(Q){return Promise.resolve().then(function(){var ee;if(typeof Q=="function"){if(ee=Q(),!O(ee))throw new r("instance of Promise","promiseFn",ee)}else if(O(Q))ee=Q;else throw new d("promiseFn",["Function","Promise"],Q);return Promise.resolve().then(function(){return ee}).then(function(){return m}).catch(function(ae){return ae})})}function F(Q,ee,ae,fe){if(typeof ae=="string"){if(arguments.length===4)throw new d("error",["Object","Error","Function","RegExp"],ae);if(P(ee)==="object"&&ee!==null){if(ee.message===ae)throw new v("error/message",'The error message "'.concat(ee.message,'" is identical to the message.'))}else if(ee===ae)throw new v("error/message",'The error "'.concat(ee,'" is identical to the message.'));fe=ae,ae=void 0}else if(ae!=null&&P(ae)!=="object"&&typeof ae!="function")throw new d("error",["Object","Error","Function","RegExp"],ae);if(ee===m){var K="";ae&&ae.name&&(K+=" (".concat(ae.name,")")),K+=fe?": ".concat(fe):".";var W=Q.name==="rejects"?"rejection":"exception";M({actual:void 0,expected:ae,operator:Q.name,message:"Missing expected ".concat(W).concat(K),stackStartFn:Q})}if(ae&&!N(ee,ae,fe,Q))throw ee}function B(Q,ee,ae,fe){if(ee!==m){if(typeof ae=="string"&&(fe=ae,ae=void 0),!ae||N(ee,ae)){var K=fe?": ".concat(fe):".",W=Q.name==="doesNotReject"?"rejection":"exception";M({actual:ee,expected:ae,operator:Q.name,message:"Got unwanted ".concat(W).concat(K,`
`)+'Actual message: "'.concat(ee&&ee.message,'"'),stackStartFn:Q})}throw ee}}E.throws=function Q(ee){for(var ae=arguments.length,fe=new Array(ae>1?ae-1:0),K=1;K<ae;K++)fe[K-1]=arguments[K];F.apply(void 0,[Q,k(ee)].concat(fe))},E.rejects=function Q(ee){for(var ae=arguments.length,fe=new Array(ae>1?ae-1:0),K=1;K<ae;K++)fe[K-1]=arguments[K];return z(ee).then(function(W){return F.apply(void 0,[Q,W].concat(fe))})},E.doesNotThrow=function Q(ee){for(var ae=arguments.length,fe=new Array(ae>1?ae-1:0),K=1;K<ae;K++)fe[K-1]=arguments[K];B.apply(void 0,[Q,k(ee)].concat(fe))},E.doesNotReject=function Q(ee){for(var ae=arguments.length,fe=new Array(ae>1?ae-1:0),K=1;K<ae;K++)fe[K-1]=arguments[K];return z(ee).then(function(W){return B.apply(void 0,[Q,W].concat(fe))})},E.ifError=function Q(ee){if(ee!=null){var ae="ifError got unwanted exception: ";P(ee)==="object"&&typeof ee.message=="string"?ee.message.length===0&&ee.constructor?ae+=ee.constructor.name:ae+=ee.message:ae+=f(ee);var fe=new n({actual:ee,expected:null,operator:"ifError",message:ae,stackStartFn:Q}),K=ee.stack;if(typeof K=="string"){var W=K.split(`
`);W.shift();for(var Z=fe.stack.split(`
`),X=0;X<W.length;X++){var $=Z.indexOf(W[X]);if($!==-1){Z=Z.slice(0,$);break}}fe.stack="".concat(Z.join(`
`),`
`).concat(W.join(`
`))}throw fe}};function G(){for(var Q=arguments.length,ee=new Array(Q),ae=0;ae<Q;ae++)ee[ae]=arguments[ae];i.apply(void 0,[G,ee.length].concat(ee))}E.strict=b(G,E,{equal:E.strictEqual,deepEqual:E.deepStrictEqual,notEqual:E.notStrictEqual,notDeepEqual:E.notDeepStrictEqual}),E.strict.strict=E.strict},73894:function(H,U,e){var g=e(90386);function P(k){for(var O=1;O<arguments.length;O++){var z=arguments[O]!=null?arguments[O]:{},F=Object.keys(z);typeof Object.getOwnPropertySymbols=="function"&&(F=F.concat(Object.getOwnPropertySymbols(z).filter(function(B){return Object.getOwnPropertyDescriptor(z,B).enumerable}))),F.forEach(function(B){a(k,B,z[B])})}return k}function a(k,O,z){return O in k?Object.defineProperty(k,O,{value:z,enumerable:!0,configurable:!0,writable:!0}):k[O]=z,k}function L(k,O){if(!(k instanceof O))throw new TypeError("Cannot call a class as a function")}function T(k,O){for(var z=0;z<O.length;z++){var F=O[z];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(k,F.key,F)}}function v(k,O,z){return O&&T(k.prototype,O),z&&T(k,z),k}function d(k,O){return O&&(c(O)==="object"||typeof O=="function")?O:t(k)}function t(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function r(k,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(O&&O.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),O&&l(k,O)}function u(k){var O=typeof Map=="function"?new Map:void 0;return u=function(F){if(F===null||!f(F))return F;if(typeof F!="function")throw new TypeError("Super expression must either be null or a function");if(typeof O<"u"){if(O.has(F))return O.get(F);O.set(F,B)}function B(){return s(F,arguments,x(this).constructor)}return B.prototype=Object.create(F.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),l(B,F)},u(k)}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function s(k,O,z){return n()?s=Reflect.construct:s=function(B,G,Q){var ee=[null];ee.push.apply(ee,G);var ae=Function.bind.apply(B,ee),fe=new ae;return Q&&l(fe,Q.prototype),fe},s.apply(null,arguments)}function f(k){return Function.toString.call(k).indexOf("[native code]")!==-1}function l(k,O){return l=Object.setPrototypeOf||function(F,B){return F.__proto__=B,F},l(k,O)}function x(k){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(z){return z.__proto__||Object.getPrototypeOf(z)},x(k)}function c(k){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(z){return typeof z}:c=function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},c(k)}var b=e(43827),h=b.inspect,o=e(79616),p=o.codes.ERR_INVALID_ARG_TYPE;function S(k,O,z){return(z===void 0||z>k.length)&&(z=k.length),k.substring(z-O.length,z)===O}function A(k,O){if(O=Math.floor(O),k.length==0||O==0)return"";var z=k.length*O;for(O=Math.floor(Math.log(O)/Math.log(2));O;)k+=k,O--;return k+=k.substring(0,z-k.length),k}var E="",m="",M="",w="",i={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},C=10;function y(k){var O=Object.keys(k),z=Object.create(Object.getPrototypeOf(k));return O.forEach(function(F){z[F]=k[F]}),Object.defineProperty(z,"message",{value:k.message}),z}function _(k){return h(k,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function I(k,O,z){var F="",B="",G=0,Q="",ee=!1,ae=_(k),fe=ae.split(`
`),K=_(O).split(`
`),W=0,Z="";if(z==="strictEqual"&&c(k)==="object"&&c(O)==="object"&&k!==null&&O!==null&&(z="strictEqualObject"),fe.length===1&&K.length===1&&fe[0]!==K[0]){var X=fe[0].length+K[0].length;if(X<=C){if((c(k)!=="object"||k===null)&&(c(O)!=="object"||O===null)&&(k!==0||O!==0))return"".concat(i[z],`

`)+"".concat(fe[0]," !== ").concat(K[0],`
`)}else if(z!=="strictEqualObject"){var $=g.stderr&&g.stderr.isTTY?g.stderr.columns:80;if(X<$){for(;fe[0][W]===K[0][W];)W++;W>2&&(Z=`
  `.concat(A(" ",W),"^"),W=0)}}}for(var ie=fe[fe.length-1],J=K[K.length-1];ie===J&&(W++<2?Q=`
  `.concat(ie).concat(Q):F=ie,fe.pop(),K.pop(),!(fe.length===0||K.length===0));)ie=fe[fe.length-1],J=K[K.length-1];var j=Math.max(fe.length,K.length);if(j===0){var se=ae.split(`
`);if(se.length>30)for(se[26]="".concat(E,"...").concat(w);se.length>27;)se.pop();return"".concat(i.notIdentical,`

`).concat(se.join(`
`),`
`)}W>3&&(Q=`
`.concat(E,"...").concat(w).concat(Q),ee=!0),F!==""&&(Q=`
  `.concat(F).concat(Q),F="");var ne=0,ue=i[z]+`
`.concat(m,"+ actual").concat(w," ").concat(M,"- expected").concat(w),ge=" ".concat(E,"...").concat(w," Lines skipped");for(W=0;W<j;W++){var we=W-G;if(fe.length<W+1)we>1&&W>2&&(we>4?(B+=`
`.concat(E,"...").concat(w),ee=!0):we>3&&(B+=`
  `.concat(K[W-2]),ne++),B+=`
  `.concat(K[W-1]),ne++),G=W,F+=`
`.concat(M,"-").concat(w," ").concat(K[W]),ne++;else if(K.length<W+1)we>1&&W>2&&(we>4?(B+=`
`.concat(E,"...").concat(w),ee=!0):we>3&&(B+=`
  `.concat(fe[W-2]),ne++),B+=`
  `.concat(fe[W-1]),ne++),G=W,B+=`
`.concat(m,"+").concat(w," ").concat(fe[W]),ne++;else{var xe=K[W],Fe=fe[W],ze=Fe!==xe&&(!S(Fe,",")||Fe.slice(0,-1)!==xe);ze&&S(xe,",")&&xe.slice(0,-1)===Fe&&(ze=!1,Fe+=","),ze?(we>1&&W>2&&(we>4?(B+=`
`.concat(E,"...").concat(w),ee=!0):we>3&&(B+=`
  `.concat(fe[W-2]),ne++),B+=`
  `.concat(fe[W-1]),ne++),G=W,B+=`
`.concat(m,"+").concat(w," ").concat(Fe),F+=`
`.concat(M,"-").concat(w," ").concat(xe),ne+=2):(B+=F,F="",(we===1||W===0)&&(B+=`
  `.concat(Fe),ne++))}if(ne>20&&W<j-2)return"".concat(ue).concat(ge,`
`).concat(B,`
`).concat(E,"...").concat(w).concat(F,`
`)+"".concat(E,"...").concat(w)}return"".concat(ue).concat(ee?ge:"",`
`).concat(B).concat(F).concat(Q).concat(Z)}var N=function(k){r(O,k);function O(z){var F;if(L(this,O),c(z)!=="object"||z===null)throw new p("options","Object",z);var B=z.message,G=z.operator,Q=z.stackStartFn,ee=z.actual,ae=z.expected,fe=Error.stackTraceLimit;if(Error.stackTraceLimit=0,B!=null)F=d(this,x(O).call(this,String(B)));else if(g.stderr&&g.stderr.isTTY&&(g.stderr&&g.stderr.getColorDepth&&g.stderr.getColorDepth()!==1?(E="\x1B[34m",m="\x1B[32m",w="\x1B[39m",M="\x1B[31m"):(E="",m="",w="",M="")),c(ee)==="object"&&ee!==null&&c(ae)==="object"&&ae!==null&&"stack"in ee&&ee instanceof Error&&"stack"in ae&&ae instanceof Error&&(ee=y(ee),ae=y(ae)),G==="deepStrictEqual"||G==="strictEqual")F=d(this,x(O).call(this,I(ee,ae,G)));else if(G==="notDeepStrictEqual"||G==="notStrictEqual"){var K=i[G],W=_(ee).split(`
`);if(G==="notStrictEqual"&&c(ee)==="object"&&ee!==null&&(K=i.notStrictEqualObject),W.length>30)for(W[26]="".concat(E,"...").concat(w);W.length>27;)W.pop();W.length===1?F=d(this,x(O).call(this,"".concat(K," ").concat(W[0]))):F=d(this,x(O).call(this,"".concat(K,`

`).concat(W.join(`
`),`
`)))}else{var Z=_(ee),X="",$=i[G];G==="notDeepEqual"||G==="notEqual"?(Z="".concat(i[G],`

`).concat(Z),Z.length>1024&&(Z="".concat(Z.slice(0,1021),"..."))):(X="".concat(_(ae)),Z.length>512&&(Z="".concat(Z.slice(0,509),"...")),X.length>512&&(X="".concat(X.slice(0,509),"...")),G==="deepEqual"||G==="equal"?Z="".concat($,`

`).concat(Z,`

should equal

`):X=" ".concat(G," ").concat(X)),F=d(this,x(O).call(this,"".concat(Z).concat(X)))}return Error.stackTraceLimit=fe,F.generatedMessage=!B,Object.defineProperty(t(F),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),F.code="ERR_ASSERTION",F.actual=ee,F.expected=ae,F.operator=G,Error.captureStackTrace&&Error.captureStackTrace(t(F),Q),F.stack,F.name="AssertionError",d(F)}return v(O,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:h.custom,value:function(F,B){return h(this,P({},B,{customInspect:!1,depth:0}))}}]),O}(u(Error));H.exports=N},79616:function(H,U,e){function g(c){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(h){return typeof h}:g=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},g(c)}function P(c,b){if(!(c instanceof b))throw new TypeError("Cannot call a class as a function")}function a(c,b){return b&&(g(b)==="object"||typeof b=="function")?b:L(c)}function L(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function T(c){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)},T(c)}function v(c,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(b&&b.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),b&&d(c,b)}function d(c,b){return d=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o},d(c,b)}var t={},r,u;function n(c,b,h){h||(h=Error);function o(S,A,E){return typeof b=="string"?b:b(S,A,E)}var p=function(S){v(A,S);function A(E,m,M){var w;return P(this,A),w=a(this,T(A).call(this,o(E,m,M))),w.code=c,w}return A}(h);t[c]=p}function s(c,b){if(Array.isArray(c)){var h=c.length;return c=c.map(function(o){return String(o)}),h>2?"one of ".concat(b," ").concat(c.slice(0,h-1).join(", "),", or ")+c[h-1]:h===2?"one of ".concat(b," ").concat(c[0]," or ").concat(c[1]):"of ".concat(b," ").concat(c[0])}else return"of ".concat(b," ").concat(String(c))}function f(c,b,h){return c.substr(!h||h<0?0:+h,b.length)===b}function l(c,b,h){return(h===void 0||h>c.length)&&(h=c.length),c.substring(h-b.length,h)===b}function x(c,b,h){return typeof h!="number"&&(h=0),h+b.length>c.length?!1:c.indexOf(b,h)!==-1}n("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),n("ERR_INVALID_ARG_TYPE",function(c,b,h){r===void 0&&(r=e(32791)),r(typeof c=="string","'name' must be a string");var o;typeof b=="string"&&f(b,"not ")?(o="must not be",b=b.replace(/^not /,"")):o="must be";var p;if(l(c," argument"))p="The ".concat(c," ").concat(o," ").concat(s(b,"type"));else{var S=x(c,".")?"property":"argument";p='The "'.concat(c,'" ').concat(S," ").concat(o," ").concat(s(b,"type"))}return p+=". Received type ".concat(g(h)),p},TypeError),n("ERR_INVALID_ARG_VALUE",function(c,b){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";u===void 0&&(u=e(43827));var o=u.inspect(b);return o.length>128&&(o="".concat(o.slice(0,128),"...")),"The argument '".concat(c,"' ").concat(h,". Received ").concat(o)},TypeError),n("ERR_INVALID_RETURN_VALUE",function(c,b,h){var o;return h&&h.constructor&&h.constructor.name?o="instance of ".concat(h.constructor.name):o="type ".concat(g(h)),"Expected ".concat(c,' to be returned from the "').concat(b,'"')+" function but got ".concat(o,".")},TypeError),n("ERR_MISSING_ARGS",function(){for(var c=arguments.length,b=new Array(c),h=0;h<c;h++)b[h]=arguments[h];r===void 0&&(r=e(32791)),r(b.length>0,"At least one arg needs to be specified");var o="The ",p=b.length;switch(b=b.map(function(S){return'"'.concat(S,'"')}),p){case 1:o+="".concat(b[0]," argument");break;case 2:o+="".concat(b[0]," and ").concat(b[1]," arguments");break;default:o+=b.slice(0,p-1).join(", "),o+=", and ".concat(b[p-1]," arguments");break}return"".concat(o," must be specified")},TypeError),H.exports.codes=t},74061:function(H,U,e){function g(Te,ye){return L(Te)||a(Te,ye)||P()}function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(Te,ye){var Ae=[],Ne=!0,Ue=!1,Re=void 0;try{for(var Ve=Te[Symbol.iterator](),rt;!(Ne=(rt=Ve.next()).done)&&(Ae.push(rt.value),!(ye&&Ae.length===ye));Ne=!0);}catch(Qe){Ue=!0,Re=Qe}finally{try{!Ne&&Ve.return!=null&&Ve.return()}finally{if(Ue)throw Re}}return Ae}function L(Te){if(Array.isArray(Te))return Te}function T(Te){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?T=function(Ae){return typeof Ae}:T=function(Ae){return Ae&&typeof Symbol=="function"&&Ae.constructor===Symbol&&Ae!==Symbol.prototype?"symbol":typeof Ae},T(Te)}var v=/a/g.flags!==void 0,d=function(ye){var Ae=[];return ye.forEach(function(Ne){return Ae.push(Ne)}),Ae},t=function(ye){var Ae=[];return ye.forEach(function(Ne,Ue){return Ae.push([Ue,Ne])}),Ae},r=Object.is?Object.is:e(64003),u=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},n=Number.isNaN?Number.isNaN:e(15567);function s(Te){return Te.call.bind(Te)}var f=s(Object.prototype.hasOwnProperty),l=s(Object.prototype.propertyIsEnumerable),x=s(Object.prototype.toString),c=e(43827).types,b=c.isAnyArrayBuffer,h=c.isArrayBufferView,o=c.isDate,p=c.isMap,S=c.isRegExp,A=c.isSet,E=c.isNativeError,m=c.isBoxedPrimitive,M=c.isNumberObject,w=c.isStringObject,i=c.isBooleanObject,C=c.isBigIntObject,y=c.isSymbolObject,_=c.isFloat32Array,I=c.isFloat64Array;function N(Te){if(Te.length===0||Te.length>10)return!0;for(var ye=0;ye<Te.length;ye++){var Ae=Te.charCodeAt(ye);if(Ae<48||Ae>57)return!0}return Te.length===10&&Te>=Math.pow(2,32)}function k(Te){return Object.keys(Te).filter(N).concat(u(Te).filter(Object.prototype.propertyIsEnumerable.bind(Te)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function O(Te,ye){if(Te===ye)return 0;for(var Ae=Te.length,Ne=ye.length,Ue=0,Re=Math.min(Ae,Ne);Ue<Re;++Ue)if(Te[Ue]!==ye[Ue]){Ae=Te[Ue],Ne=ye[Ue];break}return Ae<Ne?-1:Ne<Ae?1:0}var z=!0,F=!1,B=0,G=1,Q=2,ee=3;function ae(Te,ye){return v?Te.source===ye.source&&Te.flags===ye.flags:RegExp.prototype.toString.call(Te)===RegExp.prototype.toString.call(ye)}function fe(Te,ye){if(Te.byteLength!==ye.byteLength)return!1;for(var Ae=0;Ae<Te.byteLength;Ae++)if(Te[Ae]!==ye[Ae])return!1;return!0}function K(Te,ye){return Te.byteLength!==ye.byteLength?!1:O(new Uint8Array(Te.buffer,Te.byteOffset,Te.byteLength),new Uint8Array(ye.buffer,ye.byteOffset,ye.byteLength))===0}function W(Te,ye){return Te.byteLength===ye.byteLength&&O(new Uint8Array(Te),new Uint8Array(ye))===0}function Z(Te,ye){return M(Te)?M(ye)&&r(Number.prototype.valueOf.call(Te),Number.prototype.valueOf.call(ye)):w(Te)?w(ye)&&String.prototype.valueOf.call(Te)===String.prototype.valueOf.call(ye):i(Te)?i(ye)&&Boolean.prototype.valueOf.call(Te)===Boolean.prototype.valueOf.call(ye):C(Te)?C(ye)&&BigInt.prototype.valueOf.call(Te)===BigInt.prototype.valueOf.call(ye):y(ye)&&Symbol.prototype.valueOf.call(Te)===Symbol.prototype.valueOf.call(ye)}function X(Te,ye,Ae,Ne){if(Te===ye)return Te!==0?!0:Ae?r(Te,ye):!0;if(Ae){if(T(Te)!=="object")return typeof Te=="number"&&n(Te)&&n(ye);if(T(ye)!=="object"||Te===null||ye===null||Object.getPrototypeOf(Te)!==Object.getPrototypeOf(ye))return!1}else{if(Te===null||T(Te)!=="object")return ye===null||T(ye)!=="object"?Te==ye:!1;if(ye===null||T(ye)!=="object")return!1}var Ue=x(Te),Re=x(ye);if(Ue!==Re)return!1;if(Array.isArray(Te)){if(Te.length!==ye.length)return!1;var Ve=k(Te),rt=k(ye);return Ve.length!==rt.length?!1:ie(Te,ye,Ae,Ne,G,Ve)}if(Ue==="[object Object]"&&(!p(Te)&&p(ye)||!A(Te)&&A(ye)))return!1;if(o(Te)){if(!o(ye)||Date.prototype.getTime.call(Te)!==Date.prototype.getTime.call(ye))return!1}else if(S(Te)){if(!S(ye)||!ae(Te,ye))return!1}else if(E(Te)||Te instanceof Error){if(Te.message!==ye.message||Te.name!==ye.name)return!1}else if(h(Te)){if(!Ae&&(_(Te)||I(Te))){if(!fe(Te,ye))return!1}else if(!K(Te,ye))return!1;var Qe=k(Te),Je=k(ye);return Qe.length!==Je.length?!1:ie(Te,ye,Ae,Ne,B,Qe)}else{if(A(Te))return!A(ye)||Te.size!==ye.size?!1:ie(Te,ye,Ae,Ne,Q);if(p(Te))return!p(ye)||Te.size!==ye.size?!1:ie(Te,ye,Ae,Ne,ee);if(b(Te)){if(!W(Te,ye))return!1}else if(m(Te)&&!Z(Te,ye))return!1}return ie(Te,ye,Ae,Ne,B)}function $(Te,ye){return ye.filter(function(Ae){return l(Te,Ae)})}function ie(Te,ye,Ae,Ne,Ue,Re){if(arguments.length===5){Re=Object.keys(Te);var Ve=Object.keys(ye);if(Re.length!==Ve.length)return!1}for(var rt=0;rt<Re.length;rt++)if(!f(ye,Re[rt]))return!1;if(Ae&&arguments.length===5){var Qe=u(Te);if(Qe.length!==0){var Je=0;for(rt=0;rt<Qe.length;rt++){var qe=Qe[rt];if(l(Te,qe)){if(!l(ye,qe))return!1;Re.push(qe),Je++}else if(l(ye,qe))return!1}var dt=u(ye);if(Qe.length!==dt.length&&$(ye,dt).length!==Je)return!1}else{var pt=u(ye);if(pt.length!==0&&$(ye,pt).length!==0)return!1}}if(Re.length===0&&(Ue===B||Ue===G&&Te.length===0||Te.size===0))return!0;if(Ne===void 0)Ne={val1:new Map,val2:new Map,position:0};else{var mt=Ne.val1.get(Te);if(mt!==void 0){var Ct=Ne.val2.get(ye);if(Ct!==void 0)return mt===Ct}Ne.position++}Ne.val1.set(Te,Ne.position),Ne.val2.set(ye,Ne.position);var Rt=xe(Te,ye,Ae,Re,Ne,Ue);return Ne.val1.delete(Te),Ne.val2.delete(ye),Rt}function J(Te,ye,Ae,Ne){for(var Ue=d(Te),Re=0;Re<Ue.length;Re++){var Ve=Ue[Re];if(X(ye,Ve,Ae,Ne))return Te.delete(Ve),!0}return!1}function j(Te){switch(T(Te)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Te=+Te;case"number":if(n(Te))return!1}return!0}function se(Te,ye,Ae){var Ne=j(Ae);return Ne??(ye.has(Ne)&&!Te.has(Ne))}function ne(Te,ye,Ae,Ne,Ue){var Re=j(Ae);if(Re!=null)return Re;var Ve=ye.get(Re);return Ve===void 0&&!ye.has(Re)||!X(Ne,Ve,!1,Ue)?!1:!Te.has(Re)&&X(Ne,Ve,!1,Ue)}function ue(Te,ye,Ae,Ne){for(var Ue=null,Re=d(Te),Ve=0;Ve<Re.length;Ve++){var rt=Re[Ve];if(T(rt)==="object"&&rt!==null)Ue===null&&(Ue=new Set),Ue.add(rt);else if(!ye.has(rt)){if(Ae||!se(Te,ye,rt))return!1;Ue===null&&(Ue=new Set),Ue.add(rt)}}if(Ue!==null){for(var Qe=d(ye),Je=0;Je<Qe.length;Je++){var qe=Qe[Je];if(T(qe)==="object"&&qe!==null){if(!J(Ue,qe,Ae,Ne))return!1}else if(!Ae&&!Te.has(qe)&&!J(Ue,qe,Ae,Ne))return!1}return Ue.size===0}return!0}function ge(Te,ye,Ae,Ne,Ue,Re){for(var Ve=d(Te),rt=0;rt<Ve.length;rt++){var Qe=Ve[rt];if(X(Ae,Qe,Ue,Re)&&X(Ne,ye.get(Qe),Ue,Re))return Te.delete(Qe),!0}return!1}function we(Te,ye,Ae,Ne){for(var Ue=null,Re=t(Te),Ve=0;Ve<Re.length;Ve++){var rt=g(Re[Ve],2),Qe=rt[0],Je=rt[1];if(T(Qe)==="object"&&Qe!==null)Ue===null&&(Ue=new Set),Ue.add(Qe);else{var qe=ye.get(Qe);if(qe===void 0&&!ye.has(Qe)||!X(Je,qe,Ae,Ne)){if(Ae||!ne(Te,ye,Qe,Je,Ne))return!1;Ue===null&&(Ue=new Set),Ue.add(Qe)}}}if(Ue!==null){for(var dt=t(ye),pt=0;pt<dt.length;pt++){var mt=g(dt[pt],2),Qe=mt[0],Ct=mt[1];if(T(Qe)==="object"&&Qe!==null){if(!ge(Ue,Te,Qe,Ct,Ae,Ne))return!1}else if(!Ae&&(!Te.has(Qe)||!X(Te.get(Qe),Ct,!1,Ne))&&!ge(Ue,Te,Qe,Ct,!1,Ne))return!1}return Ue.size===0}return!0}function xe(Te,ye,Ae,Ne,Ue,Re){var Ve=0;if(Re===Q){if(!ue(Te,ye,Ae,Ue))return!1}else if(Re===ee){if(!we(Te,ye,Ae,Ue))return!1}else if(Re===G)for(;Ve<Te.length;Ve++)if(f(Te,Ve)){if(!f(ye,Ve)||!X(Te[Ve],ye[Ve],Ae,Ue))return!1}else{if(f(ye,Ve))return!1;for(var rt=Object.keys(Te);Ve<rt.length;Ve++){var Qe=rt[Ve];if(!f(ye,Qe)||!X(Te[Qe],ye[Qe],Ae,Ue))return!1}return rt.length===Object.keys(ye).length}for(Ve=0;Ve<Ne.length;Ve++){var Je=Ne[Ve];if(!X(Te[Je],ye[Je],Ae,Ue))return!1}return!0}function Fe(Te,ye){return X(Te,ye,F)}function ze(Te,ye){return X(Te,ye,z)}H.exports={isDeepEqual:Fe,isDeepStrictEqual:ze}},95341:function(H,U){U.byteLength=d,U.toByteArray=r,U.fromByteArray=s;for(var e=[],g=[],P=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=0,T=a.length;L<T;++L)e[L]=a[L],g[a.charCodeAt(L)]=L;g["-".charCodeAt(0)]=62,g["_".charCodeAt(0)]=63;function v(f){var l=f.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=f.indexOf("=");x===-1&&(x=l);var c=x===l?0:4-x%4;return[x,c]}function d(f){var l=v(f),x=l[0],c=l[1];return(x+c)*3/4-c}function t(f,l,x){return(l+x)*3/4-x}function r(f){var l,x=v(f),c=x[0],b=x[1],h=new P(t(f,c,b)),o=0,p=b>0?c-4:c,S;for(S=0;S<p;S+=4)l=g[f.charCodeAt(S)]<<18|g[f.charCodeAt(S+1)]<<12|g[f.charCodeAt(S+2)]<<6|g[f.charCodeAt(S+3)],h[o++]=l>>16&255,h[o++]=l>>8&255,h[o++]=l&255;return b===2&&(l=g[f.charCodeAt(S)]<<2|g[f.charCodeAt(S+1)]>>4,h[o++]=l&255),b===1&&(l=g[f.charCodeAt(S)]<<10|g[f.charCodeAt(S+1)]<<4|g[f.charCodeAt(S+2)]>>2,h[o++]=l>>8&255,h[o++]=l&255),h}function u(f){return e[f>>18&63]+e[f>>12&63]+e[f>>6&63]+e[f&63]}function n(f,l,x){for(var c,b=[],h=l;h<x;h+=3)c=(f[h]<<16&16711680)+(f[h+1]<<8&65280)+(f[h+2]&255),b.push(u(c));return b.join("")}function s(f){for(var l,x=f.length,c=x%3,b=[],h=16383,o=0,p=x-c;o<p;o+=h)b.push(n(f,o,o+h>p?p:o+h));return c===1?(l=f[x-1],b.push(e[l>>2]+e[l<<4&63]+"==")):c===2&&(l=(f[x-2]<<8)+f[x-1],b.push(e[l>>10]+e[l>>4&63]+e[l<<2&63]+"=")),b.join("")}},91358:function(H){function U(T,v,d,t,r){for(var u=r+1;t<=r;){var n=t+r>>>1,s=T[n],f=d!==void 0?d(s,v):s-v;f>=0?(u=n,r=n-1):t=n+1}return u}function e(T,v,d,t,r){for(var u=r+1;t<=r;){var n=t+r>>>1,s=T[n],f=d!==void 0?d(s,v):s-v;f>0?(u=n,r=n-1):t=n+1}return u}function g(T,v,d,t,r){for(var u=t-1;t<=r;){var n=t+r>>>1,s=T[n],f=d!==void 0?d(s,v):s-v;f<0?(u=n,t=n+1):r=n-1}return u}function P(T,v,d,t,r){for(var u=t-1;t<=r;){var n=t+r>>>1,s=T[n],f=d!==void 0?d(s,v):s-v;f<=0?(u=n,t=n+1):r=n-1}return u}function a(T,v,d,t,r){for(;t<=r;){var u=t+r>>>1,n=T[u],s=d!==void 0?d(n,v):n-v;if(s===0)return u;s<=0?t=u+1:r=u-1}return-1}function L(T,v,d,t,r,u){return typeof d=="function"?u(T,v,d,t===void 0?0:t|0,r===void 0?T.length-1:r|0):u(T,v,void 0,d===void 0?0:d|0,t===void 0?T.length-1:t|0)}H.exports={ge:function(T,v,d,t,r){return L(T,v,d,t,r,U)},gt:function(T,v,d,t,r){return L(T,v,d,t,r,e)},lt:function(T,v,d,t,r){return L(T,v,d,t,r,g)},le:function(T,v,d,t,r){return L(T,v,d,t,r,P)},eq:function(T,v,d,t,r){return L(T,v,d,t,r,a)}}},13547:function(H,U){"use restrict";var e=32;U.INT_BITS=e,U.INT_MAX=2147483647,U.INT_MIN=-1<<e-1,U.sign=function(a){return(a>0)-(a<0)},U.abs=function(a){var L=a>>e-1;return(a^L)-L},U.min=function(a,L){return L^(a^L)&-(a<L)},U.max=function(a,L){return a^(a^L)&-(a<L)},U.isPow2=function(a){return!(a&a-1)&&!!a},U.log2=function(a){var L,T;return L=(a>65535)<<4,a>>>=L,T=(a>255)<<3,a>>>=T,L|=T,T=(a>15)<<2,a>>>=T,L|=T,T=(a>3)<<1,a>>>=T,L|=T,L|a>>1},U.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},U.popCount=function(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),(a+(a>>>4)&252645135)*16843009>>>24};function g(a){var L=32;return a&=-a,a&&L--,a&65535&&(L-=16),a&16711935&&(L-=8),a&252645135&&(L-=4),a&858993459&&(L-=2),a&1431655765&&(L-=1),L}U.countTrailingZeros=g,U.nextPow2=function(a){return a+=a===0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1},U.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a-(a>>>1)},U.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,a&=15,27030>>>a&1};var P=new Array(256);(function(a){for(var L=0;L<256;++L){var T=L,v=L,d=7;for(T>>>=1;T;T>>>=1)v<<=1,v|=T&1,--d;a[L]=v<<d&255}})(P),U.reverse=function(a){return P[a&255]<<24|P[a>>>8&255]<<16|P[a>>>16&255]<<8|P[a>>>24&255]},U.interleave2=function(a,L){return a&=65535,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,L&=65535,L=(L|L<<8)&16711935,L=(L|L<<4)&252645135,L=(L|L<<2)&858993459,L=(L|L<<1)&1431655765,a|L<<1},U.deinterleave2=function(a,L){return a=a>>>L&1431655765,a=(a|a>>>1)&858993459,a=(a|a>>>2)&252645135,a=(a|a>>>4)&16711935,a=(a|a>>>16)&65535,a<<16>>16},U.interleave3=function(a,L,T){return a&=1023,a=(a|a<<16)&4278190335,a=(a|a<<8)&251719695,a=(a|a<<4)&3272356035,a=(a|a<<2)&1227133513,L&=1023,L=(L|L<<16)&4278190335,L=(L|L<<8)&251719695,L=(L|L<<4)&3272356035,L=(L|L<<2)&1227133513,a|=L<<1,T&=1023,T=(T|T<<16)&4278190335,T=(T|T<<8)&251719695,T=(T|T<<4)&3272356035,T=(T|T<<2)&1227133513,a|T<<2},U.deinterleave3=function(a,L){return a=a>>>L&1227133513,a=(a|a>>>2)&3272356035,a=(a|a>>>4)&251719695,a=(a|a>>>8)&4278190335,a=(a|a>>>16)&1023,a<<22>>22},U.nextCombination=function(a){var L=a|a-1;return L+1|(~L&-~L)-1>>>g(a)+1}},44781:function(H,U,e){var g=e(53435);H.exports=a;var P=1e20;function a(v,d){d||(d={});var t=d.cutoff==null?.25:d.cutoff,r=d.radius==null?8:d.radius,u=d.channel||0,n,s,f,l,x,c,b,h,o,p,S;if(ArrayBuffer.isView(v)||Array.isArray(v)){if(!d.width||!d.height)throw Error("For raw data width and height should be provided by options");n=d.width,s=d.height,l=v,d.stride?c=d.stride:c=Math.floor(v.length/n/s)}else window.HTMLCanvasElement&&v instanceof window.HTMLCanvasElement?(h=v,b=h.getContext("2d"),n=h.width,s=h.height,o=b.getImageData(0,0,n,s),l=o.data,c=4):window.CanvasRenderingContext2D&&v instanceof window.CanvasRenderingContext2D?(h=v.canvas,b=v,n=h.width,s=h.height,o=b.getImageData(0,0,n,s),l=o.data,c=4):window.ImageData&&v instanceof window.ImageData&&(o=v,n=v.width,s=v.height,l=o.data,c=4);if(f=Math.max(n,s),window.Uint8ClampedArray&&l instanceof window.Uint8ClampedArray||window.Uint8Array&&l instanceof window.Uint8Array)for(x=l,l=Array(n*s),p=0,S=x.length;p<S;p++)l[p]=x[p*c+u]/255;else if(c!==1)throw Error("Raw data can have only 1 value per pixel");var A=Array(n*s),E=Array(n*s),m=Array(f),M=Array(f),w=Array(f+1),i=Array(f);for(p=0,S=n*s;p<S;p++){var C=l[p];A[p]=C===1?0:C===0?P:Math.pow(Math.max(0,.5-C),2),E[p]=C===1?P:C===0?0:Math.pow(Math.max(0,C-.5),2)}L(A,n,s,m,M,i,w),L(E,n,s,m,M,i,w);var y=window.Float32Array?new Float32Array(n*s):new Array(n*s);for(p=0,S=n*s;p<S;p++)y[p]=g(1-((A[p]-E[p])/r+t),0,1);return y}function L(v,d,t,r,u,n,s){for(var f=0;f<d;f++){for(var l=0;l<t;l++)r[l]=v[l*d+f];for(T(r,u,n,s,t),l=0;l<t;l++)v[l*d+f]=u[l]}for(l=0;l<t;l++){for(f=0;f<d;f++)r[f]=v[l*d+f];for(T(r,u,n,s,d),f=0;f<d;f++)v[l*d+f]=Math.sqrt(u[f])}}function T(v,d,t,r,u){t[0]=0,r[0]=-P,r[1]=+P;for(var n=1,s=0;n<u;n++){for(var f=(v[n]+n*n-(v[t[s]]+t[s]*t[s]))/(2*n-2*t[s]);f<=r[s];)s--,f=(v[n]+n*n-(v[t[s]]+t[s]*t[s]))/(2*n-2*t[s]);s++,t[s]=n,r[s]=f,r[s+1]=+P}for(n=0,s=0;n<u;n++){for(;r[s+1]<n;)s++;d[n]=(n-t[s])*(n-t[s])+v[t[s]]}}},6614:function(H,U,e){var g=e(68318),P=e(68222),a=P(g("String.prototype.indexOf"));H.exports=function(T,v){var d=g(T,!!v);return typeof d=="function"&&a(T,".prototype.")>-1?P(d):d}},68222:function(H,U,e){var g=e(77575),P=e(68318),a=P("%Function.prototype.apply%"),L=P("%Function.prototype.call%"),T=P("%Reflect.apply%",!0)||g.call(L,a),v=P("%Object.getOwnPropertyDescriptor%",!0),d=P("%Object.defineProperty%",!0),t=P("%Math.max%");if(d)try{d({},"a",{value:1})}catch{d=null}H.exports=function(n){var s=T(g,L,arguments);if(v&&d){var f=v(s,"length");f.configurable&&d(s,"length",{value:1+t(0,n.length-(arguments.length-1))})}return s};var r=function(){return T(g,a,arguments)};d?d(H.exports,"apply",{value:r}):H.exports.apply=r},53435:function(H){H.exports=U;function U(e,g,P){return g<P?e<g?g:e>P?P:e:e<P?P:e>g?g:e}},6475:function(H,U,e){var g=e(53435);H.exports=P,H.exports.to=P,H.exports.from=a;function P(L,T){T==null&&(T=!0);var v=L[0],d=L[1],t=L[2],r=L[3];r==null&&(r=T?1:255),T&&(v*=255,d*=255,t*=255,r*=255),v=g(v,0,255)&255,d=g(d,0,255)&255,t=g(t,0,255)&255,r=g(r,0,255)&255;var u=v*16777216+(d<<16)+(t<<8)+r;return u}function a(L,T){L=+L;var v=L>>>24,d=(L&16711680)>>>16,t=(L&65280)>>>8,r=L&255;return T===!1?[v,d,t,r]:[v/255,d/255,t/255,r/255]}},76857:function(H){H.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},25075:function(H,U,e){var g=e(36652),P=e(53435),a=e(90660);H.exports=function(v,d){(d==="float"||!d)&&(d="array"),d==="uint"&&(d="uint8"),d==="uint_clamped"&&(d="uint8_clamped");var t=a(d),r=new t(4),u=d!=="uint8"&&d!=="uint8_clamped";return(!v.length||typeof v=="string")&&(v=g(v),v[0]/=255,v[1]/=255,v[2]/=255),L(v)?(r[0]=v[0],r[1]=v[1],r[2]=v[2],r[3]=v[3]!=null?v[3]:255,u&&(r[0]/=255,r[1]/=255,r[2]/=255,r[3]/=255),r):(u?(r[0]=v[0],r[1]=v[1],r[2]=v[2],r[3]=v[3]!=null?v[3]:1):(r[0]=P(Math.floor(v[0]*255),0,255),r[1]=P(Math.floor(v[1]*255),0,255),r[2]=P(Math.floor(v[2]*255),0,255),r[3]=v[3]==null?255:P(Math.floor(v[3]*255),0,255)),r)};function L(T){return!!(T instanceof Uint8Array||T instanceof Uint8ClampedArray||Array.isArray(T)&&(T[0]>1||T[0]===0)&&(T[1]>1||T[1]===0)&&(T[2]>1||T[2]===0)&&(!T[3]||T[3]>1))}},90736:function(H,U,e){var g=e(76857),P=e(10973),a=e(46775);H.exports=T;var L={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function T(v){var d,t=[],r=1,u;if(typeof v=="string")if(g[v])t=g[v].slice(),u="rgb";else if(v==="transparent")r=0,u="rgb",t=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(v)){var n=v.slice(1),s=n.length,f=s<=4;r=1,f?(t=[parseInt(n[0]+n[0],16),parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16)],s===4&&(r=parseInt(n[3]+n[3],16)/255)):(t=[parseInt(n[0]+n[1],16),parseInt(n[2]+n[3],16),parseInt(n[4]+n[5],16)],s===8&&(r=parseInt(n[6]+n[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),u="rgb"}else if(d=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(v)){var l=d[1],x=l==="rgb",n=l.replace(/a$/,"");u=n;var s=n==="cmyk"?4:n==="gray"?1:3;t=d[2].trim().split(/\s*,\s*/).map(function(o,p){if(/%$/.test(o))return p===s?parseFloat(o)/100:n==="rgb"?parseFloat(o)*255/100:parseFloat(o);if(n[p]==="h"){if(/deg$/.test(o))return parseFloat(o);if(L[o]!==void 0)return L[o]}return parseFloat(o)}),l===n&&t.push(1),r=x||t[s]===void 0?1:t[s],t=t.slice(0,s)}else v.length>10&&/[0-9](?:\s|\/)/.test(v)&&(t=v.match(/([0-9]+)/g).map(function(b){return parseFloat(b)}),u=v.match(/([a-z])/ig).join("").toLowerCase());else if(!isNaN(v))u="rgb",t=[v>>>16,(v&65280)>>>8,v&255];else if(P(v)){var c=a(v.r,v.red,v.R,null);c!==null?(u="rgb",t=[c,a(v.g,v.green,v.G),a(v.b,v.blue,v.B)]):(u="hsl",t=[a(v.h,v.hue,v.H),a(v.s,v.saturation,v.S),a(v.l,v.lightness,v.L,v.b,v.brightness)]),r=a(v.a,v.alpha,v.opacity,1),v.opacity!=null&&(r/=100)}else(Array.isArray(v)||e.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(v))&&(t=[v[0],v[1],v[2]],u="rgb",r=v.length===4?v[3]:1);return{space:u,values:t,alpha:r}}},36652:function(H,U,e){var g=e(90736),P=e(80009),a=e(53435);H.exports=function(T){var v,d=g(T);return d.space?(v=Array(3),v[0]=a(d.values[0],0,255),v[1]=a(d.values[1],0,255),v[2]=a(d.values[2],0,255),d.space[0]==="h"&&(v=P.rgb(v)),v.push(a(d.alpha,0,1)),v):[]}},80009:function(H,U,e){var g=e(6866);H.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(P){var a=P[0]/360,L=P[1]/100,T=P[2]/100,v,d,t,r,u;if(L===0)return u=T*255,[u,u,u];T<.5?d=T*(1+L):d=T+L-T*L,v=2*T-d,r=[0,0,0];for(var n=0;n<3;n++)t=a+.3333333333333333*-(n-1),t<0?t++:t>1&&t--,6*t<1?u=v+(d-v)*6*t:2*t<1?u=d:3*t<2?u=v+(d-v)*(.6666666666666666-t)*6:u=v,r[n]=u*255;return r}},g.hsl=function(P){var a=P[0]/255,L=P[1]/255,T=P[2]/255,v=Math.min(a,L,T),d=Math.max(a,L,T),t=d-v,r,u,n;return d===v?r=0:a===d?r=(L-T)/t:L===d?r=2+(T-a)/t:T===d&&(r=4+(a-L)/t),r=Math.min(r*60,360),r<0&&(r+=360),n=(v+d)/2,d===v?u=0:n<=.5?u=t/(d+v):u=t/(2-d-v),[r,u*100,n*100]}},6866:function(H){H.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},24138:function(H){H.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|ç)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|é)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|é)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|ã)o.?tom(e|é)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},72791:function(H,U,e){H.exports={parse:e(41004),stringify:e(53313)}},63625:function(H,U,e){var g=e(40402);H.exports={isSize:function(a){return/^[\d\.]/.test(a)||a.indexOf("/")!==-1||g.indexOf(a)!==-1}}},41004:function(H,U,e){var g=e(90448),P=e(38732),a=e(41901),L=e(15659),T=e(96209),v=e(83794),d=e(99011),t=e(63625).isSize;H.exports=u;var r=u.cache={};function u(s){if(typeof s!="string")throw new Error("Font argument must be a string.");if(r[s])return r[s];if(s==="")throw new Error("Cannot parse an empty string.");if(a.indexOf(s)!==-1)return r[s]={system:s};for(var f={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},l=d(s,/\s+/),x;x=l.shift();){if(P.indexOf(x)!==-1)return["style","variant","weight","stretch"].forEach(function(b){f[b]=x}),r[s]=f;if(T.indexOf(x)!==-1){f.style=x;continue}if(x==="normal"||x==="small-caps"){f.variant=x;continue}if(v.indexOf(x)!==-1){f.stretch=x;continue}if(L.indexOf(x)!==-1){f.weight=x;continue}if(t(x)){var c=d(x,"/");if(f.size=c[0],c[1]!=null?f.lineHeight=n(c[1]):l[0]==="/"&&(l.shift(),f.lineHeight=n(l.shift())),!l.length)throw new Error("Missing required font-family.");return f.family=d(l.join(" "),/\s*,\s*/).map(g),r[s]=f}throw new Error("Unknown or unsupported font token: "+x)}throw new Error("Missing required font-size.")}function n(s){var f=parseFloat(s);return f.toString()===s?f:s}},53313:function(H,U,e){var g=e(71299),P=e(63625).isSize,a=s(e(38732)),L=s(e(41901)),T=s(e(15659)),v=s(e(96209)),d=s(e(83794)),t={normal:1,"small-caps":1},r={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},u={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};H.exports=function(l){if(l=g(l,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),l.system)return l.system&&n(l.system,L),l.system;if(n(l.style,v),n(l.variant,t),n(l.weight,T),n(l.stretch,d),l.size==null&&(l.size=u.size),typeof l.size=="number"&&(l.size+="px"),!P)throw Error("Bad size value `"+l.size+"`");l.family||(l.family=u.family),Array.isArray(l.family)&&(l.family.length||(l.family=[u.family]),l.family=l.family.map(function(c){return r[c]?c:'"'+c+'"'}).join(", "));var x=[];return x.push(l.style),l.variant!==l.style&&x.push(l.variant),l.weight!==l.variant&&l.weight!==l.style&&x.push(l.weight),l.stretch!==l.weight&&l.stretch!==l.variant&&l.stretch!==l.style&&x.push(l.stretch),x.push(l.size+(l.lineHeight==null||l.lineHeight==="normal"||l.lineHeight+""=="1"?"":"/"+l.lineHeight)),x.push(l.family),x.filter(Boolean).join(" ")};function n(f,l){if(f&&!l[f]&&!a[f])throw Error("Unknown keyword `"+f+"`");return f}function s(f){for(var l={},x=0;x<f.length;x++)l[f[x]]=1;return l}},55174:function(H,U,e){var g=e(24582),P=e(10424),a=e(82527),L=e(19012),T=e(21780),v=e(16906),d=Function.prototype.bind,t=Object.defineProperty,r=Object.prototype.hasOwnProperty,u;u=function(n,s,f){var l=P(s)&&a(s.value),x;return x=L(s),delete x.writable,delete x.value,x.get=function(){return!f.overwriteDefinition&&r.call(this,n)?l:(s.value=d.call(l,f.resolveContext?f.resolveContext(this):this),t(this,n,s),this[n])},x},H.exports=function(n){var s=T(arguments[1]);return g(s.resolveContext)&&a(s.resolveContext),v(n,function(f,l){return u(l,f,s)})}},62072:function(H,U,e){var g=e(24582),P=e(84985),a=e(95879),L=e(21780),T=e(66741),v=H.exports=function(d,t){var r,u,n,s,f;return arguments.length<2||typeof d!="string"?(s=t,t=d,d=null):s=arguments[2],g(d)?(r=T.call(d,"c"),u=T.call(d,"e"),n=T.call(d,"w")):(r=n=!0,u=!1),f={value:t,configurable:r,enumerable:u,writable:n},s?a(L(s),f):f};v.gs=function(d,t,r){var u,n,s,f;return typeof d!="string"?(s=r,r=t,t=d,d=null):s=arguments[3],g(t)?P(t)?g(r)?P(r)||(s=r,r=void 0):r=void 0:(s=t,t=r=void 0):t=void 0,g(d)?(u=T.call(d,"c"),n=T.call(d,"e")):(u=!0,n=!1),f={get:t,set:r,configurable:u,enumerable:n},s?a(L(s),f):f}},33064:function(H,U,e){e.d(U,{j2:function(){return g},Fp:function(){return L},J6:function(){return v},TS:function(){return d},VV:function(){return t},w6:function(){return r},Sm:function(){return u}});function g(n,s){return n<s?-1:n>s?1:n>=s?0:NaN}function P(n){return n.length===1&&(n=a(n)),{left:function(s,f,l,x){for(l==null&&(l=0),x==null&&(x=s.length);l<x;){var c=l+x>>>1;n(s[c],f)<0?l=c+1:x=c}return l},right:function(s,f,l,x){for(l==null&&(l=0),x==null&&(x=s.length);l<x;){var c=l+x>>>1;n(s[c],f)>0?x=c:l=c+1}return l}}}function a(n){return function(s,f){return g(n(s),f)}}P(g);function L(n,s){var f=n.length,l=-1,x,c;if(s==null){for(;++l<f;)if((x=n[l])!=null&&x>=x)for(c=x;++l<f;)(x=n[l])!=null&&x>c&&(c=x)}else for(;++l<f;)if((x=s(n[l],l,n))!=null&&x>=x)for(c=x;++l<f;)(x=s(n[l],l,n))!=null&&x>c&&(c=x);return c}function T(n){return n===null?NaN:+n}function v(n,s){var f=n.length,l=f,x=-1,c,b=0;if(s==null)for(;++x<f;)isNaN(c=T(n[x]))?--l:b+=c;else for(;++x<f;)isNaN(c=T(s(n[x],x,n)))?--l:b+=c;if(l)return b/l}function d(n){for(var s=n.length,f,l=-1,x=0,c,b;++l<s;)x+=n[l].length;for(c=new Array(x);--s>=0;)for(b=n[s],f=b.length;--f>=0;)c[--x]=b[f];return c}function t(n,s){var f=n.length,l=-1,x,c;if(s==null){for(;++l<f;)if((x=n[l])!=null&&x>=x)for(c=x;++l<f;)(x=n[l])!=null&&c>x&&(c=x)}else for(;++l<f;)if((x=s(n[l],l,n))!=null&&x>=x)for(c=x;++l<f;)(x=s(n[l],l,n))!=null&&c>x&&(c=x);return c}function r(n,s,f){n=+n,s=+s,f=(x=arguments.length)<2?(s=n,n=0,1):x<3?1:+f;for(var l=-1,x=Math.max(0,Math.ceil((s-n)/f))|0,c=new Array(x);++l<x;)c[l]=n+l*f;return c}function u(n,s){var f=n.length,l=-1,x,c=0;if(s==null)for(;++l<f;)(x=+n[l])&&(c+=x);else for(;++l<f;)(x=+s(n[l],l,n))&&(c+=x);return c}},15140:function(H,U,e){e.d(U,{UI:function(){return L},b1:function(){return T}});var g="$";function P(){}P.prototype=a.prototype={constructor:P,has:function(s){return g+s in this},get:function(s){return this[g+s]},set:function(s,f){return this[g+s]=f,this},remove:function(s){var f=g+s;return f in this&&delete this[f]},clear:function(){for(var s in this)s[0]===g&&delete this[s]},keys:function(){var s=[];for(var f in this)f[0]===g&&s.push(f.slice(1));return s},values:function(){var s=[];for(var f in this)f[0]===g&&s.push(this[f]);return s},entries:function(){var s=[];for(var f in this)f[0]===g&&s.push({key:f.slice(1),value:this[f]});return s},size:function(){var s=0;for(var f in this)f[0]===g&&++s;return s},empty:function(){for(var s in this)if(s[0]===g)return!1;return!0},each:function(s){for(var f in this)f[0]===g&&s(this[f],f.slice(1),this)}};function a(s,f){var l=new P;if(s instanceof P)s.each(function(o,p){l.set(p,o)});else if(Array.isArray(s)){var x=-1,c=s.length,b;if(f==null)for(;++x<c;)l.set(x,s[x]);else for(;++x<c;)l.set(f(b=s[x],x,s),b)}else if(s)for(var h in s)l.set(h,s[h]);return l}var L=a;function T(){var s=[],f=[],l,x,c;function b(o,p,S,A){if(p>=s.length)return l!=null&&o.sort(l),x!=null?x(o):o;for(var E=-1,m=o.length,M=s[p++],w,i,C=L(),y,_=S();++E<m;)(y=C.get(w=M(i=o[E])+""))?y.push(i):C.set(w,[i]);return C.each(function(I,N){A(_,N,b(I,p,S,A))}),_}function h(o,p){if(++p>s.length)return o;var S,A=f[p-1];return x!=null&&p>=s.length?S=o.entries():(S=[],o.each(function(E,m){S.push({key:m,values:h(E,p)})})),A!=null?S.sort(function(E,m){return A(E.key,m.key)}):S}return c={object:function(o){return b(o,0,v,d)},map:function(o){return b(o,0,t,r)},entries:function(o){return h(b(o,0,t,r),0)},key:function(o){return s.push(o),c},sortKeys:function(o){return f[s.length-1]=o,c},sortValues:function(o){return l=o,c},rollup:function(o){return x=o,c}}}function v(){return{}}function d(s,f,l){s[f]=l}function t(){return L()}function r(s,f,l){s.set(f,l)}function u(){}var n=L.prototype;u.prototype={constructor:u,has:n.has,add:function(s){return s+="",this[g+s]=s,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each}},49887:function(H,U,e){e.r(U),e.d(U,{forceCenter:function(){return g},forceCollide:function(){return C},forceLink:function(){return N},forceManyBody:function(){return Ve},forceRadial:function(){return rt},forceSimulation:function(){return Re},forceX:function(){return Qe},forceY:function(){return Je}});function g(qe,dt){var pt;qe==null&&(qe=0),dt==null&&(dt=0);function mt(){var Ct,Rt=pt.length,Zt,Xe=0,Le=0;for(Ct=0;Ct<Rt;++Ct)Zt=pt[Ct],Xe+=Zt.x,Le+=Zt.y;for(Xe=Xe/Rt-qe,Le=Le/Rt-dt,Ct=0;Ct<Rt;++Ct)Zt=pt[Ct],Zt.x-=Xe,Zt.y-=Le}return mt.initialize=function(Ct){pt=Ct},mt.x=function(Ct){return arguments.length?(qe=+Ct,mt):qe},mt.y=function(Ct){return arguments.length?(dt=+Ct,mt):dt},mt}function P(qe){return function(){return qe}}function a(){return(Math.random()-.5)*1e-6}function L(qe){var dt=+this._x.call(null,qe),pt=+this._y.call(null,qe);return T(this.cover(dt,pt),dt,pt,qe)}function T(qe,dt,pt,mt){if(isNaN(dt)||isNaN(pt))return qe;var Ct,Rt=qe._root,Zt={data:mt},Xe=qe._x0,Le=qe._y0,Pe=qe._x1,ke=qe._y1,Ce,me,oe,pe,Me,_e,tt,at;if(!Rt)return qe._root=Zt,qe;for(;Rt.length;)if((Me=dt>=(Ce=(Xe+Pe)/2))?Xe=Ce:Pe=Ce,(_e=pt>=(me=(Le+ke)/2))?Le=me:ke=me,Ct=Rt,!(Rt=Rt[tt=_e<<1|Me]))return Ct[tt]=Zt,qe;if(oe=+qe._x.call(null,Rt.data),pe=+qe._y.call(null,Rt.data),dt===oe&&pt===pe)return Zt.next=Rt,Ct?Ct[tt]=Zt:qe._root=Zt,qe;do Ct=Ct?Ct[tt]=new Array(4):qe._root=new Array(4),(Me=dt>=(Ce=(Xe+Pe)/2))?Xe=Ce:Pe=Ce,(_e=pt>=(me=(Le+ke)/2))?Le=me:ke=me;while((tt=_e<<1|Me)===(at=(pe>=me)<<1|oe>=Ce));return Ct[at]=Rt,Ct[tt]=Zt,qe}function v(qe){var dt,pt,mt=qe.length,Ct,Rt,Zt=new Array(mt),Xe=new Array(mt),Le=1/0,Pe=1/0,ke=-1/0,Ce=-1/0;for(pt=0;pt<mt;++pt)isNaN(Ct=+this._x.call(null,dt=qe[pt]))||isNaN(Rt=+this._y.call(null,dt))||(Zt[pt]=Ct,Xe[pt]=Rt,Ct<Le&&(Le=Ct),Ct>ke&&(ke=Ct),Rt<Pe&&(Pe=Rt),Rt>Ce&&(Ce=Rt));if(Le>ke||Pe>Ce)return this;for(this.cover(Le,Pe).cover(ke,Ce),pt=0;pt<mt;++pt)T(this,Zt[pt],Xe[pt],qe[pt]);return this}function d(qe,dt){if(isNaN(qe=+qe)||isNaN(dt=+dt))return this;var pt=this._x0,mt=this._y0,Ct=this._x1,Rt=this._y1;if(isNaN(pt))Ct=(pt=Math.floor(qe))+1,Rt=(mt=Math.floor(dt))+1;else{for(var Zt=Ct-pt,Xe=this._root,Le,Pe;pt>qe||qe>=Ct||mt>dt||dt>=Rt;)switch(Pe=(dt<mt)<<1|qe<pt,Le=new Array(4),Le[Pe]=Xe,Xe=Le,Zt*=2,Pe){case 0:Ct=pt+Zt,Rt=mt+Zt;break;case 1:pt=Ct-Zt,Rt=mt+Zt;break;case 2:Ct=pt+Zt,mt=Rt-Zt;break;case 3:pt=Ct-Zt,mt=Rt-Zt;break}this._root&&this._root.length&&(this._root=Xe)}return this._x0=pt,this._y0=mt,this._x1=Ct,this._y1=Rt,this}function t(){var qe=[];return this.visit(function(dt){if(!dt.length)do qe.push(dt.data);while(dt=dt.next)}),qe}function r(qe){return arguments.length?this.cover(+qe[0][0],+qe[0][1]).cover(+qe[1][0],+qe[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function u(qe,dt,pt,mt,Ct){this.node=qe,this.x0=dt,this.y0=pt,this.x1=mt,this.y1=Ct}function n(qe,dt,pt){var mt,Ct=this._x0,Rt=this._y0,Zt,Xe,Le,Pe,ke=this._x1,Ce=this._y1,me=[],oe=this._root,pe,Me;for(oe&&me.push(new u(oe,Ct,Rt,ke,Ce)),pt==null?pt=1/0:(Ct=qe-pt,Rt=dt-pt,ke=qe+pt,Ce=dt+pt,pt*=pt);pe=me.pop();)if(!(!(oe=pe.node)||(Zt=pe.x0)>ke||(Xe=pe.y0)>Ce||(Le=pe.x1)<Ct||(Pe=pe.y1)<Rt))if(oe.length){var _e=(Zt+Le)/2,tt=(Xe+Pe)/2;me.push(new u(oe[3],_e,tt,Le,Pe),new u(oe[2],Zt,tt,_e,Pe),new u(oe[1],_e,Xe,Le,tt),new u(oe[0],Zt,Xe,_e,tt)),(Me=(dt>=tt)<<1|qe>=_e)&&(pe=me[me.length-1],me[me.length-1]=me[me.length-1-Me],me[me.length-1-Me]=pe)}else{var at=qe-+this._x.call(null,oe.data),At=dt-+this._y.call(null,oe.data),Ft=at*at+At*At;if(Ft<pt){var Gt=Math.sqrt(pt=Ft);Ct=qe-Gt,Rt=dt-Gt,ke=qe+Gt,Ce=dt+Gt,mt=oe.data}}return mt}function s(qe){if(isNaN(ke=+this._x.call(null,qe))||isNaN(Ce=+this._y.call(null,qe)))return this;var dt,pt=this._root,mt,Ct,Rt,Zt=this._x0,Xe=this._y0,Le=this._x1,Pe=this._y1,ke,Ce,me,oe,pe,Me,_e,tt;if(!pt)return this;if(pt.length)for(;;){if((pe=ke>=(me=(Zt+Le)/2))?Zt=me:Le=me,(Me=Ce>=(oe=(Xe+Pe)/2))?Xe=oe:Pe=oe,dt=pt,!(pt=pt[_e=Me<<1|pe]))return this;if(!pt.length)break;(dt[_e+1&3]||dt[_e+2&3]||dt[_e+3&3])&&(mt=dt,tt=_e)}for(;pt.data!==qe;)if(Ct=pt,!(pt=pt.next))return this;return(Rt=pt.next)&&delete pt.next,Ct?(Rt?Ct.next=Rt:delete Ct.next,this):dt?(Rt?dt[_e]=Rt:delete dt[_e],(pt=dt[0]||dt[1]||dt[2]||dt[3])&&pt===(dt[3]||dt[2]||dt[1]||dt[0])&&!pt.length&&(mt?mt[tt]=pt:this._root=pt),this):(this._root=Rt,this)}function f(qe){for(var dt=0,pt=qe.length;dt<pt;++dt)this.remove(qe[dt]);return this}function l(){return this._root}function x(){var qe=0;return this.visit(function(dt){if(!dt.length)do++qe;while(dt=dt.next)}),qe}function c(qe){var dt=[],pt,mt=this._root,Ct,Rt,Zt,Xe,Le;for(mt&&dt.push(new u(mt,this._x0,this._y0,this._x1,this._y1));pt=dt.pop();)if(!qe(mt=pt.node,Rt=pt.x0,Zt=pt.y0,Xe=pt.x1,Le=pt.y1)&&mt.length){var Pe=(Rt+Xe)/2,ke=(Zt+Le)/2;(Ct=mt[3])&&dt.push(new u(Ct,Pe,ke,Xe,Le)),(Ct=mt[2])&&dt.push(new u(Ct,Rt,ke,Pe,Le)),(Ct=mt[1])&&dt.push(new u(Ct,Pe,Zt,Xe,ke)),(Ct=mt[0])&&dt.push(new u(Ct,Rt,Zt,Pe,ke))}return this}function b(qe){var dt=[],pt=[],mt;for(this._root&&dt.push(new u(this._root,this._x0,this._y0,this._x1,this._y1));mt=dt.pop();){var Ct=mt.node;if(Ct.length){var Rt,Zt=mt.x0,Xe=mt.y0,Le=mt.x1,Pe=mt.y1,ke=(Zt+Le)/2,Ce=(Xe+Pe)/2;(Rt=Ct[0])&&dt.push(new u(Rt,Zt,Xe,ke,Ce)),(Rt=Ct[1])&&dt.push(new u(Rt,ke,Xe,Le,Ce)),(Rt=Ct[2])&&dt.push(new u(Rt,Zt,Ce,ke,Pe)),(Rt=Ct[3])&&dt.push(new u(Rt,ke,Ce,Le,Pe))}pt.push(mt)}for(;mt=pt.pop();)qe(mt.node,mt.x0,mt.y0,mt.x1,mt.y1);return this}function h(qe){return qe[0]}function o(qe){return arguments.length?(this._x=qe,this):this._x}function p(qe){return qe[1]}function S(qe){return arguments.length?(this._y=qe,this):this._y}function A(qe,dt,pt){var mt=new E(dt??h,pt??p,NaN,NaN,NaN,NaN);return qe==null?mt:mt.addAll(qe)}function E(qe,dt,pt,mt,Ct,Rt){this._x=qe,this._y=dt,this._x0=pt,this._y0=mt,this._x1=Ct,this._y1=Rt,this._root=void 0}function m(qe){for(var dt={data:qe.data},pt=dt;qe=qe.next;)pt=pt.next={data:qe.data};return dt}var M=A.prototype=E.prototype;M.copy=function(){var qe=new E(this._x,this._y,this._x0,this._y0,this._x1,this._y1),dt=this._root,pt,mt;if(!dt)return qe;if(!dt.length)return qe._root=m(dt),qe;for(pt=[{source:dt,target:qe._root=new Array(4)}];dt=pt.pop();)for(var Ct=0;Ct<4;++Ct)(mt=dt.source[Ct])&&(mt.length?pt.push({source:mt,target:dt.target[Ct]=new Array(4)}):dt.target[Ct]=m(mt));return qe},M.add=L,M.addAll=v,M.cover=d,M.data=t,M.extent=r,M.find=n,M.remove=s,M.removeAll=f,M.root=l,M.size=x,M.visit=c,M.visitAfter=b,M.x=o,M.y=S;function w(qe){return qe.x+qe.vx}function i(qe){return qe.y+qe.vy}function C(qe){var dt,pt,mt=1,Ct=1;typeof qe!="function"&&(qe=P(qe==null?1:+qe));function Rt(){for(var Le,Pe=dt.length,ke,Ce,me,oe,pe,Me,_e=0;_e<Ct;++_e)for(ke=A(dt,w,i).visitAfter(Zt),Le=0;Le<Pe;++Le)Ce=dt[Le],pe=pt[Ce.index],Me=pe*pe,me=Ce.x+Ce.vx,oe=Ce.y+Ce.vy,ke.visit(tt);function tt(at,At,Ft,Gt,Yt){var Dt=at.data,$t=at.r,lr=pe+$t;if(Dt){if(Dt.index>Ce.index){var Hr=me-Dt.x-Dt.vx,xt=oe-Dt.y-Dt.vy,Qt=Hr*Hr+xt*xt;Qt<lr*lr&&(Hr===0&&(Hr=a(),Qt+=Hr*Hr),xt===0&&(xt=a(),Qt+=xt*xt),Qt=(lr-(Qt=Math.sqrt(Qt)))/Qt*mt,Ce.vx+=(Hr*=Qt)*(lr=($t*=$t)/(Me+$t)),Ce.vy+=(xt*=Qt)*lr,Dt.vx-=Hr*(lr=1-lr),Dt.vy-=xt*lr)}return}return At>me+lr||Gt<me-lr||Ft>oe+lr||Yt<oe-lr}}function Zt(Le){if(Le.data)return Le.r=pt[Le.data.index];for(var Pe=Le.r=0;Pe<4;++Pe)Le[Pe]&&Le[Pe].r>Le.r&&(Le.r=Le[Pe].r)}function Xe(){if(dt){var Le,Pe=dt.length,ke;for(pt=new Array(Pe),Le=0;Le<Pe;++Le)ke=dt[Le],pt[ke.index]=+qe(ke,Le,dt)}}return Rt.initialize=function(Le){dt=Le,Xe()},Rt.iterations=function(Le){return arguments.length?(Ct=+Le,Rt):Ct},Rt.strength=function(Le){return arguments.length?(mt=+Le,Rt):mt},Rt.radius=function(Le){return arguments.length?(qe=typeof Le=="function"?Le:P(+Le),Xe(),Rt):qe},Rt}var y=e(15140);function _(qe){return qe.index}function I(qe,dt){var pt=qe.get(dt);if(!pt)throw new Error("missing: "+dt);return pt}function N(qe){var dt=_,pt=ke,mt,Ct=P(30),Rt,Zt,Xe,Le,Pe=1;qe==null&&(qe=[]);function ke(Me){return 1/Math.min(Xe[Me.source.index],Xe[Me.target.index])}function Ce(Me){for(var _e=0,tt=qe.length;_e<Pe;++_e)for(var at=0,At,Ft,Gt,Yt,Dt,$t,lr;at<tt;++at)At=qe[at],Ft=At.source,Gt=At.target,Yt=Gt.x+Gt.vx-Ft.x-Ft.vx||a(),Dt=Gt.y+Gt.vy-Ft.y-Ft.vy||a(),$t=Math.sqrt(Yt*Yt+Dt*Dt),$t=($t-Rt[at])/$t*Me*mt[at],Yt*=$t,Dt*=$t,Gt.vx-=Yt*(lr=Le[at]),Gt.vy-=Dt*lr,Ft.vx+=Yt*(lr=1-lr),Ft.vy+=Dt*lr}function me(){if(Zt){var Me,_e=Zt.length,tt=qe.length,at=(0,y.UI)(Zt,dt),At;for(Me=0,Xe=new Array(_e);Me<tt;++Me)At=qe[Me],At.index=Me,typeof At.source!="object"&&(At.source=I(at,At.source)),typeof At.target!="object"&&(At.target=I(at,At.target)),Xe[At.source.index]=(Xe[At.source.index]||0)+1,Xe[At.target.index]=(Xe[At.target.index]||0)+1;for(Me=0,Le=new Array(tt);Me<tt;++Me)At=qe[Me],Le[Me]=Xe[At.source.index]/(Xe[At.source.index]+Xe[At.target.index]);mt=new Array(tt),oe(),Rt=new Array(tt),pe()}}function oe(){if(Zt)for(var Me=0,_e=qe.length;Me<_e;++Me)mt[Me]=+pt(qe[Me],Me,qe)}function pe(){if(Zt)for(var Me=0,_e=qe.length;Me<_e;++Me)Rt[Me]=+Ct(qe[Me],Me,qe)}return Ce.initialize=function(Me){Zt=Me,me()},Ce.links=function(Me){return arguments.length?(qe=Me,me(),Ce):qe},Ce.id=function(Me){return arguments.length?(dt=Me,Ce):dt},Ce.iterations=function(Me){return arguments.length?(Pe=+Me,Ce):Pe},Ce.strength=function(Me){return arguments.length?(pt=typeof Me=="function"?Me:P(+Me),oe(),Ce):pt},Ce.distance=function(Me){return arguments.length?(Ct=typeof Me=="function"?Me:P(+Me),pe(),Ce):Ct},Ce}var k={value:function(){}};function O(){for(var qe=0,dt=arguments.length,pt={},mt;qe<dt;++qe){if(!(mt=arguments[qe]+"")||mt in pt||/[\s.]/.test(mt))throw new Error("illegal type: "+mt);pt[mt]=[]}return new z(pt)}function z(qe){this._=qe}function F(qe,dt){return qe.trim().split(/^|\s+/).map(function(pt){var mt="",Ct=pt.indexOf(".");if(Ct>=0&&(mt=pt.slice(Ct+1),pt=pt.slice(0,Ct)),pt&&!dt.hasOwnProperty(pt))throw new Error("unknown type: "+pt);return{type:pt,name:mt}})}z.prototype=O.prototype={constructor:z,on:function(qe,dt){var pt=this._,mt=F(qe+"",pt),Ct,Rt=-1,Zt=mt.length;if(arguments.length<2){for(;++Rt<Zt;)if((Ct=(qe=mt[Rt]).type)&&(Ct=B(pt[Ct],qe.name)))return Ct;return}if(dt!=null&&typeof dt!="function")throw new Error("invalid callback: "+dt);for(;++Rt<Zt;)if(Ct=(qe=mt[Rt]).type)pt[Ct]=G(pt[Ct],qe.name,dt);else if(dt==null)for(Ct in pt)pt[Ct]=G(pt[Ct],qe.name,null);return this},copy:function(){var qe={},dt=this._;for(var pt in dt)qe[pt]=dt[pt].slice();return new z(qe)},call:function(qe,dt){if((Ct=arguments.length-2)>0)for(var pt=new Array(Ct),mt=0,Ct,Rt;mt<Ct;++mt)pt[mt]=arguments[mt+2];if(!this._.hasOwnProperty(qe))throw new Error("unknown type: "+qe);for(Rt=this._[qe],mt=0,Ct=Rt.length;mt<Ct;++mt)Rt[mt].value.apply(dt,pt)},apply:function(qe,dt,pt){if(!this._.hasOwnProperty(qe))throw new Error("unknown type: "+qe);for(var mt=this._[qe],Ct=0,Rt=mt.length;Ct<Rt;++Ct)mt[Ct].value.apply(dt,pt)}};function B(qe,dt){for(var pt=0,mt=qe.length,Ct;pt<mt;++pt)if((Ct=qe[pt]).name===dt)return Ct.value}function G(qe,dt,pt){for(var mt=0,Ct=qe.length;mt<Ct;++mt)if(qe[mt].name===dt){qe[mt]=k,qe=qe.slice(0,mt).concat(qe.slice(mt+1));break}return pt!=null&&qe.push({name:dt,value:pt}),qe}var Q=O,ee=0,ae=0,fe=0,K=1e3,W,Z,X=0,$=0,ie=0,J=typeof performance=="object"&&performance.now?performance:Date,j=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(qe){setTimeout(qe,17)};function se(){return $||(j(ne),$=J.now()+ie)}function ne(){$=0}function ue(){this._call=this._time=this._next=null}ue.prototype=ge.prototype={constructor:ue,restart:function(qe,dt,pt){if(typeof qe!="function")throw new TypeError("callback is not a function");pt=(pt==null?se():+pt)+(dt==null?0:+dt),!this._next&&Z!==this&&(Z?Z._next=this:W=this,Z=this),this._call=qe,this._time=pt,Te()},stop:function(){this._call&&(this._call=null,this._time=1/0,Te())}};function ge(qe,dt,pt){var mt=new ue;return mt.restart(qe,dt,pt),mt}function we(){se(),++ee;for(var qe=W,dt;qe;)(dt=$-qe._time)>=0&&qe._call.call(null,dt),qe=qe._next;--ee}function xe(){$=(X=J.now())+ie,ee=ae=0;try{we()}finally{ee=0,ze(),$=0}}function Fe(){var qe=J.now(),dt=qe-X;dt>K&&(ie-=dt,X=qe)}function ze(){for(var qe,dt=W,pt,mt=1/0;dt;)dt._call?(mt>dt._time&&(mt=dt._time),qe=dt,dt=dt._next):(pt=dt._next,dt._next=null,dt=qe?qe._next=pt:W=pt);Z=qe,Te(mt)}function Te(qe){if(!ee){ae&&(ae=clearTimeout(ae));var dt=qe-$;dt>24?(qe<1/0&&(ae=setTimeout(xe,qe-J.now()-ie)),fe&&(fe=clearInterval(fe))):(fe||(X=J.now(),fe=setInterval(Fe,K)),ee=1,j(xe))}}function ye(qe){return qe.x}function Ae(qe){return qe.y}var Ne=10,Ue=Math.PI*(3-Math.sqrt(5));function Re(qe){var dt,pt=1,mt=.001,Ct=1-Math.pow(mt,1/300),Rt=0,Zt=.6,Xe=(0,y.UI)(),Le=ge(ke),Pe=Q("tick","end");qe==null&&(qe=[]);function ke(){Ce(),Pe.call("tick",dt),pt<mt&&(Le.stop(),Pe.call("end",dt))}function Ce(pe){var Me,_e=qe.length,tt;pe===void 0&&(pe=1);for(var at=0;at<pe;++at)for(pt+=(Rt-pt)*Ct,Xe.each(function(At){At(pt)}),Me=0;Me<_e;++Me)tt=qe[Me],tt.fx==null?tt.x+=tt.vx*=Zt:(tt.x=tt.fx,tt.vx=0),tt.fy==null?tt.y+=tt.vy*=Zt:(tt.y=tt.fy,tt.vy=0);return dt}function me(){for(var pe=0,Me=qe.length,_e;pe<Me;++pe){if(_e=qe[pe],_e.index=pe,_e.fx!=null&&(_e.x=_e.fx),_e.fy!=null&&(_e.y=_e.fy),isNaN(_e.x)||isNaN(_e.y)){var tt=Ne*Math.sqrt(pe),at=pe*Ue;_e.x=tt*Math.cos(at),_e.y=tt*Math.sin(at)}(isNaN(_e.vx)||isNaN(_e.vy))&&(_e.vx=_e.vy=0)}}function oe(pe){return pe.initialize&&pe.initialize(qe),pe}return me(),dt={tick:Ce,restart:function(){return Le.restart(ke),dt},stop:function(){return Le.stop(),dt},nodes:function(pe){return arguments.length?(qe=pe,me(),Xe.each(oe),dt):qe},alpha:function(pe){return arguments.length?(pt=+pe,dt):pt},alphaMin:function(pe){return arguments.length?(mt=+pe,dt):mt},alphaDecay:function(pe){return arguments.length?(Ct=+pe,dt):+Ct},alphaTarget:function(pe){return arguments.length?(Rt=+pe,dt):Rt},velocityDecay:function(pe){return arguments.length?(Zt=1-pe,dt):1-Zt},force:function(pe,Me){return arguments.length>1?(Me==null?Xe.remove(pe):Xe.set(pe,oe(Me)),dt):Xe.get(pe)},find:function(pe,Me,_e){var tt=0,at=qe.length,At,Ft,Gt,Yt,Dt;for(_e==null?_e=1/0:_e*=_e,tt=0;tt<at;++tt)Yt=qe[tt],At=pe-Yt.x,Ft=Me-Yt.y,Gt=At*At+Ft*Ft,Gt<_e&&(Dt=Yt,_e=Gt);return Dt},on:function(pe,Me){return arguments.length>1?(Pe.on(pe,Me),dt):Pe.on(pe)}}}function Ve(){var qe,dt,pt,mt=P(-30),Ct,Rt=1,Zt=1/0,Xe=.81;function Le(me){var oe,pe=qe.length,Me=A(qe,ye,Ae).visitAfter(ke);for(pt=me,oe=0;oe<pe;++oe)dt=qe[oe],Me.visit(Ce)}function Pe(){if(qe){var me,oe=qe.length,pe;for(Ct=new Array(oe),me=0;me<oe;++me)pe=qe[me],Ct[pe.index]=+mt(pe,me,qe)}}function ke(me){var oe=0,pe,Me,_e=0,tt,at,At;if(me.length){for(tt=at=At=0;At<4;++At)(pe=me[At])&&(Me=Math.abs(pe.value))&&(oe+=pe.value,_e+=Me,tt+=Me*pe.x,at+=Me*pe.y);me.x=tt/_e,me.y=at/_e}else{pe=me,pe.x=pe.data.x,pe.y=pe.data.y;do oe+=Ct[pe.data.index];while(pe=pe.next)}me.value=oe}function Ce(me,oe,pe,Me){if(!me.value)return!0;var _e=me.x-dt.x,tt=me.y-dt.y,at=Me-oe,At=_e*_e+tt*tt;if(at*at/Xe<At)return At<Zt&&(_e===0&&(_e=a(),At+=_e*_e),tt===0&&(tt=a(),At+=tt*tt),At<Rt&&(At=Math.sqrt(Rt*At)),dt.vx+=_e*me.value*pt/At,dt.vy+=tt*me.value*pt/At),!0;if(me.length||At>=Zt)return;(me.data!==dt||me.next)&&(_e===0&&(_e=a(),At+=_e*_e),tt===0&&(tt=a(),At+=tt*tt),At<Rt&&(At=Math.sqrt(Rt*At)));do me.data!==dt&&(at=Ct[me.data.index]*pt/At,dt.vx+=_e*at,dt.vy+=tt*at);while(me=me.next)}return Le.initialize=function(me){qe=me,Pe()},Le.strength=function(me){return arguments.length?(mt=typeof me=="function"?me:P(+me),Pe(),Le):mt},Le.distanceMin=function(me){return arguments.length?(Rt=me*me,Le):Math.sqrt(Rt)},Le.distanceMax=function(me){return arguments.length?(Zt=me*me,Le):Math.sqrt(Zt)},Le.theta=function(me){return arguments.length?(Xe=me*me,Le):Math.sqrt(Xe)},Le}function rt(qe,dt,pt){var mt,Ct=P(.1),Rt,Zt;typeof qe!="function"&&(qe=P(+qe)),dt==null&&(dt=0),pt==null&&(pt=0);function Xe(Pe){for(var ke=0,Ce=mt.length;ke<Ce;++ke){var me=mt[ke],oe=me.x-dt||1e-6,pe=me.y-pt||1e-6,Me=Math.sqrt(oe*oe+pe*pe),_e=(Zt[ke]-Me)*Rt[ke]*Pe/Me;me.vx+=oe*_e,me.vy+=pe*_e}}function Le(){if(mt){var Pe,ke=mt.length;for(Rt=new Array(ke),Zt=new Array(ke),Pe=0;Pe<ke;++Pe)Zt[Pe]=+qe(mt[Pe],Pe,mt),Rt[Pe]=isNaN(Zt[Pe])?0:+Ct(mt[Pe],Pe,mt)}}return Xe.initialize=function(Pe){mt=Pe,Le()},Xe.strength=function(Pe){return arguments.length?(Ct=typeof Pe=="function"?Pe:P(+Pe),Le(),Xe):Ct},Xe.radius=function(Pe){return arguments.length?(qe=typeof Pe=="function"?Pe:P(+Pe),Le(),Xe):qe},Xe.x=function(Pe){return arguments.length?(dt=+Pe,Xe):dt},Xe.y=function(Pe){return arguments.length?(pt=+Pe,Xe):pt},Xe}function Qe(qe){var dt=P(.1),pt,mt,Ct;typeof qe!="function"&&(qe=P(qe==null?0:+qe));function Rt(Xe){for(var Le=0,Pe=pt.length,ke;Le<Pe;++Le)ke=pt[Le],ke.vx+=(Ct[Le]-ke.x)*mt[Le]*Xe}function Zt(){if(pt){var Xe,Le=pt.length;for(mt=new Array(Le),Ct=new Array(Le),Xe=0;Xe<Le;++Xe)mt[Xe]=isNaN(Ct[Xe]=+qe(pt[Xe],Xe,pt))?0:+dt(pt[Xe],Xe,pt)}}return Rt.initialize=function(Xe){pt=Xe,Zt()},Rt.strength=function(Xe){return arguments.length?(dt=typeof Xe=="function"?Xe:P(+Xe),Zt(),Rt):dt},Rt.x=function(Xe){return arguments.length?(qe=typeof Xe=="function"?Xe:P(+Xe),Zt(),Rt):qe},Rt}function Je(qe){var dt=P(.1),pt,mt,Ct;typeof qe!="function"&&(qe=P(qe==null?0:+qe));function Rt(Xe){for(var Le=0,Pe=pt.length,ke;Le<Pe;++Le)ke=pt[Le],ke.vy+=(Ct[Le]-ke.y)*mt[Le]*Xe}function Zt(){if(pt){var Xe,Le=pt.length;for(mt=new Array(Le),Ct=new Array(Le),Xe=0;Xe<Le;++Xe)mt[Xe]=isNaN(Ct[Xe]=+qe(pt[Xe],Xe,pt))?0:+dt(pt[Xe],Xe,pt)}}return Rt.initialize=function(Xe){pt=Xe,Zt()},Rt.strength=function(Xe){return arguments.length?(dt=typeof Xe=="function"?Xe:P(+Xe),Zt(),Rt):dt},Rt.y=function(Xe){return arguments.length?(qe=typeof Xe=="function"?Xe:P(+Xe),Zt(),Rt):qe},Rt}},60721:function(H,U,e){e.d(U,{WU:function(){return o},FF:function(){return b}});function g(S){return Math.abs(S=Math.round(S))>=1e21?S.toLocaleString("en").replace(/,/g,""):S.toString(10)}function P(S,A){if((E=(S=A?S.toExponential(A-1):S.toExponential()).indexOf("e"))<0)return null;var E,m=S.slice(0,E);return[m.length>1?m[0]+m.slice(2):m,+S.slice(E+1)]}function a(S){return S=P(Math.abs(S)),S?S[1]:NaN}function L(S,A){return function(E,m){for(var M=E.length,w=[],i=0,C=S[0],y=0;M>0&&C>0&&(y+C+1>m&&(C=Math.max(1,m-y)),w.push(E.substring(M-=C,M+C)),!((y+=C+1)>m));)C=S[i=(i+1)%S.length];return w.reverse().join(A)}}function T(S){return function(A){return A.replace(/[0-9]/g,function(E){return S[+E]})}}var v=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function d(S){if(!(A=v.exec(S)))throw new Error("invalid format: "+S);var A;return new t({fill:A[1],align:A[2],sign:A[3],symbol:A[4],zero:A[5],width:A[6],comma:A[7],precision:A[8]&&A[8].slice(1),trim:A[9],type:A[10]})}d.prototype=t.prototype;function t(S){this.fill=S.fill===void 0?" ":S.fill+"",this.align=S.align===void 0?">":S.align+"",this.sign=S.sign===void 0?"-":S.sign+"",this.symbol=S.symbol===void 0?"":S.symbol+"",this.zero=!!S.zero,this.width=S.width===void 0?void 0:+S.width,this.comma=!!S.comma,this.precision=S.precision===void 0?void 0:+S.precision,this.trim=!!S.trim,this.type=S.type===void 0?"":S.type+""}t.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function r(S){e:for(var A=S.length,E=1,m=-1,M;E<A;++E)switch(S[E]){case".":m=M=E;break;case"0":m===0&&(m=E),M=E;break;default:if(!+S[E])break e;m>0&&(m=0);break}return m>0?S.slice(0,m)+S.slice(M+1):S}var u;function n(S,A){var E=P(S,A);if(!E)return S+"";var m=E[0],M=E[1],w=M-(u=Math.max(-8,Math.min(8,Math.floor(M/3)))*3)+1,i=m.length;return w===i?m:w>i?m+new Array(w-i+1).join("0"):w>0?m.slice(0,w)+"."+m.slice(w):"0."+new Array(1-w).join("0")+P(S,Math.max(0,A+w-1))[0]}function s(S,A){var E=P(S,A);if(!E)return S+"";var m=E[0],M=E[1];return M<0?"0."+new Array(-M).join("0")+m:m.length>M+1?m.slice(0,M+1)+"."+m.slice(M+1):m+new Array(M-m.length+2).join("0")}var f={"%":function(S,A){return(S*100).toFixed(A)},b:function(S){return Math.round(S).toString(2)},c:function(S){return S+""},d:g,e:function(S,A){return S.toExponential(A)},f:function(S,A){return S.toFixed(A)},g:function(S,A){return S.toPrecision(A)},o:function(S){return Math.round(S).toString(8)},p:function(S,A){return s(S*100,A)},r:s,s:n,X:function(S){return Math.round(S).toString(16).toUpperCase()},x:function(S){return Math.round(S).toString(16)}};function l(S){return S}var x=Array.prototype.map,c=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function b(S){var A=S.grouping===void 0||S.thousands===void 0?l:L(x.call(S.grouping,Number),S.thousands+""),E=S.currency===void 0?"":S.currency[0]+"",m=S.currency===void 0?"":S.currency[1]+"",M=S.decimal===void 0?".":S.decimal+"",w=S.numerals===void 0?l:T(x.call(S.numerals,String)),i=S.percent===void 0?"%":S.percent+"",C=S.minus===void 0?"-":S.minus+"",y=S.nan===void 0?"NaN":S.nan+"";function _(N){N=d(N);var k=N.fill,O=N.align,z=N.sign,F=N.symbol,B=N.zero,G=N.width,Q=N.comma,ee=N.precision,ae=N.trim,fe=N.type;fe==="n"?(Q=!0,fe="g"):f[fe]||(ee===void 0&&(ee=12),ae=!0,fe="g"),(B||k==="0"&&O==="=")&&(B=!0,k="0",O="=");var K=F==="$"?E:F==="#"&&/[boxX]/.test(fe)?"0"+fe.toLowerCase():"",W=F==="$"?m:/[%p]/.test(fe)?i:"",Z=f[fe],X=/[defgprs%]/.test(fe);ee=ee===void 0?6:/[gprs]/.test(fe)?Math.max(1,Math.min(21,ee)):Math.max(0,Math.min(20,ee));function $(ie){var J=K,j=W,se,ne,ue;if(fe==="c")j=Z(ie)+j,ie="";else{ie=+ie;var ge=ie<0||1/ie<0;if(ie=isNaN(ie)?y:Z(Math.abs(ie),ee),ae&&(ie=r(ie)),ge&&+ie==0&&z!=="+"&&(ge=!1),J=(ge?z==="("?z:C:z==="-"||z==="("?"":z)+J,j=(fe==="s"?c[8+u/3]:"")+j+(ge&&z==="("?")":""),X){for(se=-1,ne=ie.length;++se<ne;)if(ue=ie.charCodeAt(se),48>ue||ue>57){j=(ue===46?M+ie.slice(se+1):ie.slice(se))+j,ie=ie.slice(0,se);break}}}Q&&!B&&(ie=A(ie,1/0));var we=J.length+ie.length+j.length,xe=we<G?new Array(G-we+1).join(k):"";switch(Q&&B&&(ie=A(xe+ie,xe.length?G-j.length:1/0),xe=""),O){case"<":ie=J+ie+j+xe;break;case"=":ie=J+xe+ie+j;break;case"^":ie=xe.slice(0,we=xe.length>>1)+J+ie+j+xe.slice(we);break;default:ie=xe+J+ie+j;break}return w(ie)}return $.toString=function(){return N+""},$}function I(N,k){var O=_((N=d(N),N.type="f",N)),z=Math.max(-8,Math.min(8,Math.floor(a(k)/3)))*3,F=Math.pow(10,-z),B=c[8+z/3];return function(G){return O(F*G)+B}}return{format:_,formatPrefix:I}}var h,o;p({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function p(S){return h=b(S),o=h.format,h.formatPrefix,h}},65704:function(H,U,e){e.r(U),e.d(U,{geoAiry:function(){return B},geoAiryRaw:function(){return F},geoAitoff:function(){return Q},geoAitoffRaw:function(){return G},geoArmadillo:function(){return ae},geoArmadilloRaw:function(){return ee},geoAugust:function(){return K},geoAugustRaw:function(){return fe},geoBaker:function(){return $},geoBakerRaw:function(){return X},geoBerghaus:function(){return j},geoBerghausRaw:function(){return J},geoBertin1953:function(){return ze},geoBertin1953Raw:function(){return Fe},geoBoggs:function(){return rt},geoBoggsRaw:function(){return Ve},geoBonne:function(){return pt},geoBonneRaw:function(){return dt},geoBottomley:function(){return Ct},geoBottomleyRaw:function(){return mt},geoBromley:function(){return Zt},geoBromleyRaw:function(){return Rt},geoChamberlin:function(){return Me},geoChamberlinAfrica:function(){return pe},geoChamberlinRaw:function(){return me},geoCollignon:function(){return tt},geoCollignonRaw:function(){return _e},geoCraig:function(){return At},geoCraigRaw:function(){return at},geoCraster:function(){return Yt},geoCrasterRaw:function(){return Gt},geoCylindricalEqualArea:function(){return $t},geoCylindricalEqualAreaRaw:function(){return Dt},geoCylindricalStereographic:function(){return Hr},geoCylindricalStereographicRaw:function(){return lr},geoEckert1:function(){return Qt},geoEckert1Raw:function(){return xt},geoEckert2:function(){return Sr},geoEckert2Raw:function(){return jt},geoEckert3:function(){return ut},geoEckert3Raw:function(){return gr},geoEckert4:function(){return bt},geoEckert4Raw:function(){return st},geoEckert5:function(){return Pt},geoEckert5Raw:function(){return St},geoEckert6:function(){return Bt},geoEckert6Raw:function(){return Et},geoEisenlohr:function(){return er},geoEisenlohrRaw:function(){return tr},geoFahey:function(){return We},geoFaheyRaw:function(){return kr},geoFoucaut:function(){return _t},geoFoucautRaw:function(){return Ge},geoFoucautSinusoidal:function(){return Kt},geoFoucautSinusoidalRaw:function(){return Ot},geoGilbert:function(){return vr},geoGingery:function(){return Kr},geoGingeryRaw:function(){return mr},geoGinzburg4:function(){return Tn},geoGinzburg4Raw:function(){return Ur},geoGinzburg5:function(){return Gn},geoGinzburg5Raw:function(){return rn},geoGinzburg6:function(){return Ar},geoGinzburg6Raw:function(){return Hn},geoGinzburg8:function(){return Yr},geoGinzburg8Raw:function(){return Cr},geoGinzburg9:function(){return un},geoGinzburg9Raw:function(){return Zr},geoGringorten:function(){return oa},geoGringortenQuincuncial:function(){return Qu},geoGringortenRaw:function(){return pn},geoGuyou:function(){return An},geoGuyouRaw:function(){return Pr},geoHammer:function(){return ge},geoHammerRaw:function(){return ne},geoHammerRetroazimuthal:function(){return qn},geoHammerRetroazimuthalRaw:function(){return zn},geoHealpix:function(){return yn},geoHealpixRaw:function(){return hn},geoHill:function(){return _r},geoHillRaw:function(){return zr},geoHomolosine:function(){return jn},geoHomolosineRaw:function(){return Mn},geoHufnagel:function(){return Ta},geoHufnagelRaw:function(){return fa},geoHyperelliptical:function(){return $i},geoHyperellipticalRaw:function(){return Pa},geoInterrupt:function(){return bo},geoInterruptedBoggs:function(){return di},geoInterruptedHomolosine:function(){return ml},geoInterruptedMollweide:function(){return wo},geoInterruptedMollweideHemispheres:function(){return qs},geoInterruptedQuarticAuthalic:function(){return Hu},geoInterruptedSinuMollweide:function(){return zl},geoInterruptedSinusoidal:function(){return Ji},geoKavrayskiy7:function(){return vo},geoKavrayskiy7Raw:function(){return ko},geoLagrange:function(){return as},geoLagrangeRaw:function(){return po},geoLarrivee:function(){return df},geoLarriveeRaw:function(){return ao},geoLaskowski:function(){return io},geoLaskowskiRaw:function(){return is},geoLittrow:function(){return ms},geoLittrowRaw:function(){return Ou},geoLoximuthal:function(){return ou},geoLoximuthalRaw:function(){return os},geoMiller:function(){return Hf},geoMillerRaw:function(){return su},geoModifiedStereographic:function(){return el},geoModifiedStereographicAlaska:function(){return yf},geoModifiedStereographicGs48:function(){return Bl},geoModifiedStereographicGs50:function(){return Wf},geoModifiedStereographicLee:function(){return Nu},geoModifiedStereographicMiller:function(){return mf},geoModifiedStereographicRaw:function(){return Ol},geoMollweide:function(){return Ne},geoMollweideRaw:function(){return Ae},geoMtFlatPolarParabolic:function(){return Uu},geoMtFlatPolarParabolicRaw:function(){return uu},geoMtFlatPolarQuartic:function(){return fu},geoMtFlatPolarQuarticRaw:function(){return Wo},geoMtFlatPolarSinusoidal:function(){return Yf},geoMtFlatPolarSinusoidalRaw:function(){return Vu},geoNaturalEarth:function(){return _o.Z},geoNaturalEarth2:function(){return Nl},geoNaturalEarth2Raw:function(){return rl},geoNaturalEarthRaw:function(){return _o.K},geoNellHammer:function(){return Ko},geoNellHammerRaw:function(){return bl},geoNicolosi:function(){return Fs},geoNicolosiRaw:function(){return xs},geoPatterson:function(){return Zf},geoPattersonRaw:function(){return hu},geoPeirceQuincuncial:function(){return sl},geoPierceQuincuncial:function(){return sl},geoPolyconic:function(){return Xf},geoPolyconicRaw:function(){return Gu},geoPolyhedral:function(){return Ri},geoPolyhedralButterfly:function(){return bs},geoPolyhedralCollignon:function(){return Bs},geoPolyhedralWaterman:function(){return Ns},geoProject:function(){return Tf},geoQuantize:function(){return Sf},geoQuincuncial:function(){return yu},geoRectangularPolyconic:function(){return Vs},geoRectangularPolyconicRaw:function(){return $u},geoRobinson:function(){return qu},geoRobinsonRaw:function(){return Ao},geoSatellite:function(){return mu},geoSatelliteRaw:function(){return ll},geoSinuMollweide:function(){return ta},geoSinuMollweideRaw:function(){return Yn},geoSinusoidal:function(){return qe},geoSinusoidalRaw:function(){return Je},geoStitch:function(){return fl},geoTimes:function(){return No},geoTimesRaw:function(){return Oo},geoTwoPointAzimuthal:function(){return Ll},geoTwoPointAzimuthalRaw:function(){return cl},geoTwoPointAzimuthalUsa:function(){return Cl},geoTwoPointEquidistant:function(){return rf},geoTwoPointEquidistantRaw:function(){return Mf},geoTwoPointEquidistantUsa:function(){return So},geoVanDerGrinten:function(){return Zl},geoVanDerGrinten2:function(){return nf},geoVanDerGrinten2Raw:function(){return Ss},geoVanDerGrinten3:function(){return ts},geoVanDerGrinten3Raw:function(){return Uo},geoVanDerGrinten4:function(){return Ef},geoVanDerGrinten4Raw:function(){return Gi},geoVanDerGrintenRaw:function(){return Ws},geoWagner:function(){return jl},geoWagner4:function(){return of},geoWagner4Raw:function(){return af},geoWagner6:function(){return Su},geoWagner6Raw:function(){return Ms},geoWagner7:function(){return Ys},geoWagnerRaw:function(){return ls},geoWiechel:function(){return Lf},geoWiechelRaw:function(){return Kl},geoWinkel3:function(){return Pf},geoWinkel3Raw:function(){return Jl}});var g=e(15002),P=Math.abs,a=Math.atan,L=Math.atan2,T=Math.cos,v=Math.exp,d=Math.floor,t=Math.log,r=Math.max,u=Math.min,n=Math.pow,s=Math.round,f=Math.sign||function(Ze){return Ze>0?1:Ze<0?-1:0},l=Math.sin,x=Math.tan,c=1e-6,b=1e-12,h=Math.PI,o=h/2,p=h/4,S=Math.SQRT1_2,A=_(2),E=_(h),m=h*2,M=180/h,w=h/180;function i(Ze){return Ze?Ze/Math.sin(Ze):1}function C(Ze){return Ze>1?o:Ze<-1?-o:Math.asin(Ze)}function y(Ze){return Ze>1?0:Ze<-1?h:Math.acos(Ze)}function _(Ze){return Ze>0?Math.sqrt(Ze):0}function I(Ze){return Ze=v(2*Ze),(Ze-1)/(Ze+1)}function N(Ze){return(v(Ze)-v(-Ze))/2}function k(Ze){return(v(Ze)+v(-Ze))/2}function O(Ze){return t(Ze+_(Ze*Ze+1))}function z(Ze){return t(Ze+_(Ze*Ze-1))}function F(Ze){var et=x(Ze/2),ht=2*t(T(Ze/2))/(et*et);function yt(zt,It){var Ut=T(zt),dr=T(It),br=l(It),sr=dr*Ut,Er=-((1-sr?t((1+sr)/2)/(1-sr):-.5)+ht/(1+sr));return[Er*dr*l(zt),Er*br]}return yt.invert=function(zt,It){var Ut=_(zt*zt+It*It),dr=-Ze/2,br=50,sr;if(!Ut)return[0,0];do{var Er=dr/2,Fr=T(Er),Qr=l(Er),on=Qr/Fr,Sn=-t(P(Fr));dr-=sr=(2/on*Sn-ht*on-Ut)/(-Sn/(Qr*Qr)+1-ht/(2*Fr*Fr))*(Fr<0?.7:1)}while(P(sr)>c&&--br>0);var Cn=l(dr);return[L(zt*Cn,Ut*T(dr)),C(It*Cn/Ut)]},yt}function B(){var Ze=o,et=(0,g.r)(F),ht=et(Ze);return ht.radius=function(yt){return arguments.length?et(Ze=yt*w):Ze*M},ht.scale(179.976).clipAngle(147)}function G(Ze,et){var ht=T(et),yt=i(y(ht*T(Ze/=2)));return[2*ht*l(Ze)*yt,l(et)*yt]}G.invert=function(Ze,et){if(!(Ze*Ze+4*et*et>h*h+c)){var ht=Ze,yt=et,zt=25;do{var It=l(ht),Ut=l(ht/2),dr=T(ht/2),br=l(yt),sr=T(yt),Er=l(2*yt),Fr=br*br,Qr=sr*sr,on=Ut*Ut,Sn=1-Qr*dr*dr,Cn=Sn?y(sr*dr)*_(Vn=1/Sn):Vn=0,Vn,Sa=2*Cn*sr*Ut-Ze,Da=Cn*br-et,Ca=Vn*(Qr*on+Cn*sr*dr*Fr),Va=Vn*(.5*It*Er-Cn*2*br*Ut),Wa=Vn*.25*(Er*Ut-Cn*br*Qr*It),pi=Vn*(Fr*dr+Cn*on*sr),Oi=Va*Wa-pi*Ca;if(!Oi)break;var Mi=(Da*Va-Sa*pi)/Oi,le=(Sa*Wa-Da*Ca)/Oi;ht-=Mi,yt-=le}while((P(Mi)>c||P(le)>c)&&--zt>0);return[ht,yt]}};function Q(){return(0,g.Z)(G).scale(152.63)}function ee(Ze){var et=l(Ze),ht=T(Ze),yt=Ze>=0?1:-1,zt=x(yt*Ze),It=(1+et-ht)/2;function Ut(dr,br){var sr=T(br),Er=T(dr/=2);return[(1+sr)*l(dr),(yt*br>-L(Er,zt)-.001?0:-yt*10)+It+l(br)*ht-(1+sr)*et*Er]}return Ut.invert=function(dr,br){var sr=0,Er=0,Fr=50;do{var Qr=T(sr),on=l(sr),Sn=T(Er),Cn=l(Er),Vn=1+Sn,Sa=Vn*on-dr,Da=It+Cn*ht-Vn*et*Qr-br,Ca=Vn*Qr/2,Va=-on*Cn,Wa=et*Vn*on/2,pi=ht*Sn+et*Qr*Cn,Oi=Va*Wa-pi*Ca,Mi=(Da*Va-Sa*pi)/Oi/2,le=(Sa*Wa-Da*Ca)/Oi;P(le)>2&&(le/=2),sr-=Mi,Er-=le}while((P(Mi)>c||P(le)>c)&&--Fr>0);return yt*Er>-L(T(sr),zt)-.001?[sr*2,Er]:null},Ut}function ae(){var Ze=20*w,et=Ze>=0?1:-1,ht=x(et*Ze),yt=(0,g.r)(ee),zt=yt(Ze),It=zt.stream;return zt.parallel=function(Ut){return arguments.length?(ht=x((et=(Ze=Ut*w)>=0?1:-1)*Ze),yt(Ze)):Ze*M},zt.stream=function(Ut){var dr=zt.rotate(),br=It(Ut),sr=(zt.rotate([0,0]),It(Ut)),Er=zt.precision();return zt.rotate(dr),br.sphere=function(){sr.polygonStart(),sr.lineStart();for(var Fr=et*-180;et*Fr<180;Fr+=et*90)sr.point(Fr,et*90);if(Ze)for(;et*(Fr-=3*et*Er)>=-180;)sr.point(Fr,et*-L(T(Fr*w/2),ht)*M);sr.lineEnd(),sr.polygonEnd()},br},zt.scale(218.695).center([0,28.0974])}function fe(Ze,et){var ht=x(et/2),yt=_(1-ht*ht),zt=1+yt*T(Ze/=2),It=l(Ze)*yt/zt,Ut=ht/zt,dr=It*It,br=Ut*Ut;return[1.3333333333333333*It*(3+dr-3*br),1.3333333333333333*Ut*(3+3*dr-br)]}fe.invert=function(Ze,et){if(Ze*=.375,et*=.375,!Ze&&P(et)>1)return null;var ht=Ze*Ze,yt=et*et,zt=1+ht+yt,It=_((zt-_(zt*zt-4*et*et))/2),Ut=C(It)/3,dr=It?z(P(et/It))/3:O(P(Ze))/3,br=T(Ut),sr=k(dr),Er=sr*sr-br*br;return[f(Ze)*2*L(N(dr)*br,.25-Er),f(et)*2*L(sr*l(Ut),.25+Er)]};function K(){return(0,g.Z)(fe).scale(66.1603)}var W=_(8),Z=t(1+A);function X(Ze,et){var ht=P(et);return ht<p?[Ze,t(x(p+et/2))]:[Ze*T(ht)*(2*A-1/l(ht)),f(et)*(2*A*(ht-p)-t(x(ht/2)))]}X.invert=function(Ze,et){if((It=P(et))<Z)return[Ze,2*a(v(et))-o];var ht=p,yt=25,zt,It;do{var Ut=T(ht/2),dr=x(ht/2);ht-=zt=(W*(ht-p)-t(dr)-It)/(W-Ut*Ut/(2*dr))}while(P(zt)>b&&--yt>0);return[Ze/(T(ht)*(W-1/l(ht))),f(et)*ht]};function $(){return(0,g.Z)(X).scale(112.314)}var ie=e(17889);function J(Ze){var et=2*h/Ze;function ht(yt,zt){var It=(0,ie.N)(yt,zt);if(P(yt)>o){var Ut=L(It[1],It[0]),dr=_(It[0]*It[0]+It[1]*It[1]),br=et*s((Ut-o)/et)+o,sr=L(l(Ut-=br),2-T(Ut));Ut=br+C(h/dr*l(sr))-sr,It[0]=dr*T(Ut),It[1]=dr*l(Ut)}return It}return ht.invert=function(yt,zt){var It=_(yt*yt+zt*zt);if(It>o){var Ut=L(zt,yt),dr=et*s((Ut-o)/et)+o,br=Ut>dr?-1:1,sr=It*T(dr-Ut),Er=1/x(br*y((sr-h)/_(h*(h-2*sr)+It*It)));Ut=dr+2*a((Er+br*_(Er*Er-3))/3),yt=It*T(Ut),zt=It*l(Ut)}return ie.N.invert(yt,zt)},ht}function j(){var Ze=5,et=(0,g.r)(J),ht=et(Ze),yt=ht.stream,zt=.01,It=-T(zt*w),Ut=l(zt*w);return ht.lobes=function(dr){return arguments.length?et(Ze=+dr):Ze},ht.stream=function(dr){var br=ht.rotate(),sr=yt(dr),Er=(ht.rotate([0,0]),yt(dr));return ht.rotate(br),sr.sphere=function(){Er.polygonStart(),Er.lineStart();for(var Fr=0,Qr=360/Ze,on=2*h/Ze,Sn=90-180/Ze,Cn=o;Fr<Ze;++Fr,Sn-=Qr,Cn-=on)Er.point(L(Ut*T(Cn),It)*M,C(Ut*l(Cn))*M),Sn<-90?(Er.point(-90,-180-Sn-zt),Er.point(-90,-180-Sn+zt)):(Er.point(90,Sn+zt),Er.point(90,Sn-zt));Er.lineEnd(),Er.polygonEnd()},sr},ht.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var se=e(12956);function ne(Ze,et){if(arguments.length<2&&(et=Ze),et===1)return se.l;if(et===1/0)return ue;function ht(yt,zt){var It=(0,se.l)(yt/et,zt);return It[0]*=Ze,It}return ht.invert=function(yt,zt){var It=se.l.invert(yt/Ze,zt);return It[0]*=et,It},ht}function ue(Ze,et){return[Ze*T(et)/T(et/=2),2*l(et)]}ue.invert=function(Ze,et){var ht=2*C(et/2);return[Ze*T(ht/2)/T(ht),ht]};function ge(){var Ze=2,et=(0,g.r)(ne),ht=et(Ze);return ht.coefficient=function(yt){return arguments.length?et(Ze=+yt):Ze},ht.scale(169.529)}function we(Ze,et,ht){var yt=100,zt,It,Ut;ht=ht===void 0?0:+ht,et=+et;do It=Ze(ht),Ut=Ze(ht+c),It===Ut&&(Ut=It+c),ht-=zt=-1*c*(It-et)/(It-Ut);while(yt-- >0&&P(zt)>c);return yt<0?NaN:ht}function xe(Ze,et,ht){return et===void 0&&(et=40),ht===void 0&&(ht=b),function(yt,zt,It,Ut){var dr,br,sr;It=It===void 0?0:+It,Ut=Ut===void 0?0:+Ut;for(var Er=0;Er<et;Er++){var Fr=Ze(It,Ut),Qr=Fr[0]-yt,on=Fr[1]-zt;if(P(Qr)<ht&&P(on)<ht)break;var Sn=Qr*Qr+on*on;if(Sn>dr){It-=br/=2,Ut-=sr/=2;continue}dr=Sn;var Cn=(It>0?-1:1)*ht,Vn=(Ut>0?-1:1)*ht,Sa=Ze(It+Cn,Ut),Da=Ze(It,Ut+Vn),Ca=(Sa[0]-Fr[0])/Cn,Va=(Sa[1]-Fr[1])/Cn,Wa=(Da[0]-Fr[0])/Vn,pi=(Da[1]-Fr[1])/Vn,Oi=pi*Ca-Va*Wa,Mi=(P(Oi)<.5?.5:1)/Oi;if(br=(on*Wa-Qr*pi)*Mi,sr=(Qr*Va-on*Ca)*Mi,It+=br,Ut+=sr,P(br)<ht&&P(sr)<ht)break}return[It,Ut]}}function Fe(){var Ze=ne(1.68,2),et=1.4,ht=12;function yt(zt,It){if(zt+It<-et){var Ut=(zt-It+1.6)*(zt+It+et)/8;zt+=Ut,It-=.8*Ut*l(It+h/2)}var dr=Ze(zt,It),br=(1-T(zt*It))/ht;return dr[1]<0&&(dr[0]*=1+br),dr[1]>0&&(dr[1]*=1+br/1.5*dr[0]*dr[0]),dr}return yt.invert=xe(yt),yt}function ze(){return(0,g.Z)(Fe()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Te(Ze,et){var ht=Ze*l(et),yt=30,zt;do et-=zt=(et+l(et)-ht)/(1+T(et));while(P(zt)>c&&--yt>0);return et/2}function ye(Ze,et,ht){function yt(zt,It){return[Ze*zt*T(It=Te(ht,It)),et*l(It)]}return yt.invert=function(zt,It){return It=C(It/et),[zt/(Ze*T(It)),C((2*It+l(2*It))/ht)]},yt}var Ae=ye(A/o,A,h);function Ne(){return(0,g.Z)(Ae).scale(169.529)}var Ue=2.00276,Re=1.11072;function Ve(Ze,et){var ht=Te(h,et);return[Ue*Ze/(1/T(et)+Re/T(ht)),(et+A*l(ht))/Ue]}Ve.invert=function(Ze,et){var ht=Ue*et,yt=et<0?-p:p,zt=25,It,Ut;do Ut=ht-A*l(yt),yt-=It=(l(2*yt)+2*yt-h*l(Ut))/(2*T(2*yt)+2+h*T(Ut)*A*T(yt));while(P(It)>c&&--zt>0);return Ut=ht-A*l(yt),[Ze*(1/T(Ut)+Re/T(yt))/Ue,Ut]};function rt(){return(0,g.Z)(Ve).scale(160.857)}function Qe(Ze){var et=0,ht=(0,g.r)(Ze),yt=ht(et);return yt.parallel=function(zt){return arguments.length?ht(et=zt*w):et*M},yt}function Je(Ze,et){return[Ze*T(et),et]}Je.invert=function(Ze,et){return[Ze/T(et),et]};function qe(){return(0,g.Z)(Je).scale(152.63)}function dt(Ze){if(!Ze)return Je;var et=1/x(Ze);function ht(yt,zt){var It=et+Ze-zt,Ut=It&&yt*T(zt)/It;return[It*l(Ut),et-It*T(Ut)]}return ht.invert=function(yt,zt){var It=_(yt*yt+(zt=et-zt)*zt),Ut=et+Ze-It;return[It/T(Ut)*L(yt,zt),Ut]},ht}function pt(){return Qe(dt).scale(123.082).center([0,26.1441]).parallel(45)}function mt(Ze){function et(ht,yt){var zt=o-yt,It=zt&&ht*Ze*l(zt)/zt;return[zt*l(It)/Ze,o-zt*T(It)]}return et.invert=function(ht,yt){var zt=ht*Ze,It=o-yt,Ut=_(zt*zt+It*It),dr=L(zt,It);return[(Ut?Ut/l(Ut):1)*dr/Ze,o-Ut]},et}function Ct(){var Ze=.5,et=(0,g.r)(mt),ht=et(Ze);return ht.fraction=function(yt){return arguments.length?et(Ze=+yt):Ze},ht.scale(158.837)}var Rt=ye(1,4/h,h);function Zt(){return(0,g.Z)(Rt).scale(152.63)}var Xe=e(66624),Le=e(49386);function Pe(Ze,et,ht,yt,zt,It){var Ut=T(It),dr;if(P(Ze)>1||P(It)>1)dr=y(ht*zt+et*yt*Ut);else{var br=l(Ze/2),sr=l(It/2);dr=2*C(_(br*br+et*yt*sr*sr))}return P(dr)>c?[dr,L(yt*l(It),et*zt-ht*yt*Ut)]:[0,0]}function ke(Ze,et,ht){return y((Ze*Ze+et*et-ht*ht)/(2*Ze*et))}function Ce(Ze){return Ze-2*h*d((Ze+h)/(2*h))}function me(Ze,et,ht){for(var yt=[[Ze[0],Ze[1],l(Ze[1]),T(Ze[1])],[et[0],et[1],l(et[1]),T(et[1])],[ht[0],ht[1],l(ht[1]),T(ht[1])]],zt=yt[2],It,Ut=0;Ut<3;++Ut,zt=It)It=yt[Ut],zt.v=Pe(It[1]-zt[1],zt[3],zt[2],It[3],It[2],It[0]-zt[0]),zt.point=[0,0];var dr=ke(yt[0].v[0],yt[2].v[0],yt[1].v[0]),br=ke(yt[0].v[0],yt[1].v[0],yt[2].v[0]),sr=h-dr;yt[2].point[1]=0,yt[0].point[0]=-(yt[1].point[0]=yt[0].v[0]/2);var Er=[yt[2].point[0]=yt[0].point[0]+yt[2].v[0]*T(dr),2*(yt[0].point[1]=yt[1].point[1]=yt[2].v[0]*l(dr))];function Fr(Qr,on){var Sn=l(on),Cn=T(on),Vn=new Array(3),Sa;for(Sa=0;Sa<3;++Sa){var Da=yt[Sa];if(Vn[Sa]=Pe(on-Da[1],Da[3],Da[2],Cn,Sn,Qr-Da[0]),!Vn[Sa][0])return Da.point;Vn[Sa][1]=Ce(Vn[Sa][1]-Da.v[1])}var Ca=Er.slice();for(Sa=0;Sa<3;++Sa){var Va=Sa==2?0:Sa+1,Wa=ke(yt[Sa].v[0],Vn[Sa][0],Vn[Va][0]);Vn[Sa][1]<0&&(Wa=-Wa),Sa?Sa==1?(Wa=br-Wa,Ca[0]-=Vn[Sa][0]*T(Wa),Ca[1]-=Vn[Sa][0]*l(Wa)):(Wa=sr-Wa,Ca[0]+=Vn[Sa][0]*T(Wa),Ca[1]+=Vn[Sa][0]*l(Wa)):(Ca[0]+=Vn[Sa][0]*T(Wa),Ca[1]-=Vn[Sa][0]*l(Wa))}return Ca[0]/=3,Ca[1]/=3,Ca}return Fr}function oe(Ze){return Ze[0]*=w,Ze[1]*=w,Ze}function pe(){return Me([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Me(Ze,et,ht){var yt=(0,Xe.Z)({type:"MultiPoint",coordinates:[Ze,et,ht]}),zt=[-yt[0],-yt[1]],It=(0,Le.Z)(zt),Ut=me(oe(It(Ze)),oe(It(et)),oe(It(ht)));Ut.invert=xe(Ut);var dr=(0,g.Z)(Ut).rotate(zt),br=dr.center;return delete dr.rotate,dr.center=function(sr){return arguments.length?br(It(sr)):It.invert(br())},dr.clipAngle(90)}function _e(Ze,et){var ht=_(1-l(et));return[2/E*Ze*ht,E*(1-ht)]}_e.invert=function(Ze,et){var ht=(ht=et/E-1)*ht;return[ht>0?Ze*_(h/ht)/2:0,C(1-ht)]};function tt(){return(0,g.Z)(_e).scale(95.6464).center([0,30])}function at(Ze){var et=x(Ze);function ht(yt,zt){return[yt,(yt?yt/l(yt):1)*(l(zt)*T(yt)-et*T(zt))]}return ht.invert=et?function(yt,zt){yt&&(zt*=l(yt)/yt);var It=T(yt);return[yt,2*L(_(It*It+et*et-zt*zt)-It,et-zt)]}:function(yt,zt){return[yt,C(yt?zt*x(yt)/yt:zt)]},ht}function At(){return Qe(at).scale(249.828).clipAngle(90)}var Ft=_(3);function Gt(Ze,et){return[Ft*Ze*(2*T(2*et/3)-1)/E,Ft*E*l(et/3)]}Gt.invert=function(Ze,et){var ht=3*C(et/(Ft*E));return[E*Ze/(Ft*(2*T(2*ht/3)-1)),ht]};function Yt(){return(0,g.Z)(Gt).scale(156.19)}function Dt(Ze){var et=T(Ze);function ht(yt,zt){return[yt*et,l(zt)/et]}return ht.invert=function(yt,zt){return[yt/et,C(zt*et)]},ht}function $t(){return Qe(Dt).parallel(38.58).scale(195.044)}function lr(Ze){var et=T(Ze);function ht(yt,zt){return[yt*et,(1+et)*x(zt/2)]}return ht.invert=function(yt,zt){return[yt/et,a(zt/(1+et))*2]},ht}function Hr(){return Qe(lr).scale(124.75)}function xt(Ze,et){var ht=_(8/(3*h));return[ht*Ze*(1-P(et)/h),ht*et]}xt.invert=function(Ze,et){var ht=_(8/(3*h)),yt=et/ht;return[Ze/(ht*(1-P(yt)/h)),yt]};function Qt(){return(0,g.Z)(xt).scale(165.664)}function jt(Ze,et){var ht=_(4-3*l(P(et)));return[2/_(6*h)*Ze*ht,f(et)*_(2*h/3)*(2-ht)]}jt.invert=function(Ze,et){var ht=2-P(et)/_(2*h/3);return[Ze*_(6*h)/(2*ht),f(et)*C((4-ht*ht)/3)]};function Sr(){return(0,g.Z)(jt).scale(165.664)}function gr(Ze,et){var ht=_(h*(4+h));return[2/ht*Ze*(1+_(1-4*et*et/(h*h))),4/ht*et]}gr.invert=function(Ze,et){var ht=_(h*(4+h))/2;return[Ze*ht/(1+_(1-et*et*(4+h)/(4*h))),et*ht/2]};function ut(){return(0,g.Z)(gr).scale(180.739)}function st(Ze,et){var ht=(2+o)*l(et);et/=2;for(var yt=0,zt=1/0;yt<10&&P(zt)>c;yt++){var It=T(et);et-=zt=(et+l(et)*(It+2)-ht)/(2*It*(1+It))}return[2/_(h*(4+h))*Ze*(1+T(et)),2*_(h/(4+h))*l(et)]}st.invert=function(Ze,et){var ht=et*_((4+h)/h)/2,yt=C(ht),zt=T(yt);return[Ze/(2/_(h*(4+h))*(1+zt)),C((yt+ht*(zt+2))/(2+o))]};function bt(){return(0,g.Z)(st).scale(180.739)}function St(Ze,et){return[Ze*(1+T(et))/_(2+h),2*et/_(2+h)]}St.invert=function(Ze,et){var ht=_(2+h),yt=et*ht/2;return[ht*Ze/(1+T(yt)),yt]};function Pt(){return(0,g.Z)(St).scale(173.044)}function Et(Ze,et){for(var ht=(1+o)*l(et),yt=0,zt=1/0;yt<10&&P(zt)>c;yt++)et-=zt=(et+l(et)-ht)/(1+T(et));return ht=_(2+h),[Ze*(1+T(et))/ht,2*et/ht]}Et.invert=function(Ze,et){var ht=1+o,yt=_(ht/2);return[Ze*2*yt/(1+T(et*=yt)),C((et+l(et))/ht)]};function Bt(){return(0,g.Z)(Et).scale(173.044)}var Wt=3+2*A;function tr(Ze,et){var ht=l(Ze/=2),yt=T(Ze),zt=_(T(et)),It=T(et/=2),Ut=l(et)/(It+A*yt*zt),dr=_(2/(1+Ut*Ut)),br=_((A*It+(yt+ht)*zt)/(A*It+(yt-ht)*zt));return[Wt*(dr*(br-1/br)-2*t(br)),Wt*(dr*Ut*(br+1/br)-2*a(Ut))]}tr.invert=function(Ze,et){if(!(It=fe.invert(Ze/1.2,et*1.065)))return null;var ht=It[0],yt=It[1],zt=20,It;Ze/=Wt,et/=Wt;do{var Ut=ht/2,dr=yt/2,br=l(Ut),sr=T(Ut),Er=l(dr),Fr=T(dr),Qr=T(yt),on=_(Qr),Sn=Er/(Fr+A*sr*on),Cn=Sn*Sn,Vn=_(2/(1+Cn)),Sa=A*Fr+(sr+br)*on,Da=A*Fr+(sr-br)*on,Ca=Sa/Da,Va=_(Ca),Wa=Va-1/Va,pi=Va+1/Va,Oi=Vn*Wa-2*t(Va)-Ze,Mi=Vn*Sn*pi-2*a(Sn)-et,le=Er&&S*on*br*Cn/Er,Se=(A*sr*Fr+on)/(2*(Fr+A*sr*on)*(Fr+A*sr*on)*on),Be=-.5*Sn*Vn*Vn*Vn,Ke=Be*le,$e=Be*Se,nt=(nt=2*Fr+A*on*(sr-br))*nt*Va,kt=(A*sr*Fr*on+Qr)/nt,ct=-(A*br*Er)/(on*nt),Ht=Wa*Ke-2*kt/Va+Vn*(kt+kt/Ca),rr=Wa*$e-2*ct/Va+Vn*(ct+ct/Ca),ar=Sn*pi*Ke-2*le/(1+Cn)+Vn*pi*le+Vn*Sn*(kt-kt/Ca),Rr=Sn*pi*$e-2*Se/(1+Cn)+Vn*pi*Se+Vn*Sn*(ct-ct/Ca),Dr=rr*ar-Rr*Ht;if(!Dr)break;var nn=(Mi*rr-Oi*Rr)/Dr,fn=(Oi*ar-Mi*Ht)/Dr;ht-=nn,yt=r(-o,u(o,yt-fn))}while((P(nn)>c||P(fn)>c)&&--zt>0);return P(P(yt)-o)<c?[0,yt]:zt&&[ht,yt]};function er(){return(0,g.Z)(tr).scale(62.5271)}var ur=T(35*w);function kr(Ze,et){var ht=x(et/2);return[Ze*ur*_(1-ht*ht),(1+ur)*ht]}kr.invert=function(Ze,et){var ht=et/(1+ur);return[Ze&&Ze/(ur*_(1-ht*ht)),2*a(ht)]};function We(){return(0,g.Z)(kr).scale(137.152)}function Ge(Ze,et){var ht=et/2,yt=T(ht);return[2*Ze/E*T(et)*yt*yt,E*x(ht)]}Ge.invert=function(Ze,et){var ht=a(et/E),yt=T(ht),zt=2*ht;return[Ze*E/2/(T(zt)*yt*yt),zt]};function _t(){return(0,g.Z)(Ge).scale(135.264)}function Ot(Ze){var et=1-Ze,ht=It(h,0)[0]-It(-h,0)[0],yt=It(0,o)[1]-It(0,-o)[1],zt=_(2*yt/ht);function It(br,sr){var Er=T(sr),Fr=l(sr);return[Er/(et+Ze*Er)*br,et*sr+Ze*Fr]}function Ut(br,sr){var Er=It(br,sr);return[Er[0]*zt,Er[1]/zt]}function dr(br){return Ut(0,br)[1]}return Ut.invert=function(br,sr){var Er=we(dr,sr),Fr=br/zt*(Ze+et/T(Er));return[Fr,Er]},Ut}function Kt(){var Ze=.5,et=(0,g.r)(Ot),ht=et(Ze);return ht.alpha=function(yt){return arguments.length?et(Ze=+yt):Ze},ht.scale(168.725)}var or=e(57962),hr=e(97492);function ir(Ze){return[Ze[0]/2,C(x(Ze[1]/2*w))*M]}function Nt(Ze){return[Ze[0]*2,2*a(l(Ze[1]*w))*M]}function vr(Ze){Ze==null&&(Ze=or.Z);var et=Ze(),ht=(0,hr.Z)().scale(M).precision(0).clipAngle(null).translate([0,0]);function yt(It){return et(ir(It))}et.invert&&(yt.invert=function(It){return Nt(et.invert(It))}),yt.stream=function(It){var Ut=et.stream(It),dr=ht.stream({point:function(br,sr){Ut.point(br/2,C(x(-sr/2*w))*M)},lineStart:function(){Ut.lineStart()},lineEnd:function(){Ut.lineEnd()},polygonStart:function(){Ut.polygonStart()},polygonEnd:function(){Ut.polygonEnd()}});return dr.sphere=Ut.sphere,dr};function zt(It){yt[It]=function(){return arguments.length?(et[It].apply(et,arguments),yt):et[It]()}}return yt.rotate=function(It){return arguments.length?(ht.rotate(It),yt):ht.rotate()},yt.center=function(It){return arguments.length?(et.center(ir(It)),yt):Nt(et.center())},zt("angle"),zt("clipAngle"),zt("clipExtent"),zt("fitExtent"),zt("fitHeight"),zt("fitSize"),zt("fitWidth"),zt("scale"),zt("translate"),zt("precision"),yt.scale(249.5)}function mr(Ze,et){var ht=2*h/et,yt=Ze*Ze;function zt(It,Ut){var dr=(0,ie.N)(It,Ut),br=dr[0],sr=dr[1],Er=br*br+sr*sr;if(Er>yt){var Fr=_(Er),Qr=L(sr,br),on=ht*s(Qr/ht),Sn=Qr-on,Cn=Ze*T(Sn),Vn=(Ze*l(Sn)-Sn*l(Cn))/(o-Cn),Sa=xr(Sn,Vn),Da=(h-Ze)/yr(Sa,Cn,h);br=Fr;var Ca=50,Va;do br-=Va=(Ze+yr(Sa,Cn,br)*Da-Fr)/(Sa(br)*Da);while(P(Va)>c&&--Ca>0);sr=Sn*l(br),br<o&&(sr-=Vn*(br-o));var Wa=l(on),pi=T(on);dr[0]=br*pi-sr*Wa,dr[1]=br*Wa+sr*pi}return dr}return zt.invert=function(It,Ut){var dr=It*It+Ut*Ut;if(dr>yt){var br=_(dr),sr=L(Ut,It),Er=ht*s(sr/ht),Fr=sr-Er;It=br*T(Fr),Ut=br*l(Fr);for(var Qr=It-o,on=l(It),Sn=Ut/on,Cn=It<o?1/0:0,Vn=10;;){var Sa=Ze*l(Sn),Da=Ze*T(Sn),Ca=l(Da),Va=o-Da,Wa=(Sa-Sn*Ca)/Va,pi=xr(Sn,Wa);if(P(Cn)<b||!--Vn)break;Sn-=Cn=(Sn*on-Wa*Qr-Ut)/(on-Qr*2*(Va*(Da+Sn*Sa*T(Da)-Ca)-Sa*(Sa-Sn*Ca))/(Va*Va))}br=Ze+yr(pi,Da,It)*(h-Ze)/yr(pi,Da,h),sr=Er+Sn,It=br*T(sr),Ut=br*l(sr)}return ie.N.invert(It,Ut)},zt}function xr(Ze,et){return function(ht){var yt=Ze*T(ht);return ht<o&&(yt-=et),_(1+yt*yt)}}function yr(Ze,et,ht){for(var yt=50,zt=(ht-et)/yt,It=Ze(et)+Ze(ht),Ut=1,dr=et;Ut<yt;++Ut)It+=2*Ze(dr+=zt);return It*.5*zt}function Kr(){var Ze=6,et=30*w,ht=T(et),yt=l(et),zt=(0,g.r)(mr),It=zt(et,Ze),Ut=It.stream,dr=.01,br=-T(dr*w),sr=l(dr*w);return It.radius=function(Er){return arguments.length?(ht=T(et=Er*w),yt=l(et),zt(et,Ze)):et*M},It.lobes=function(Er){return arguments.length?zt(et,Ze=+Er):Ze},It.stream=function(Er){var Fr=It.rotate(),Qr=Ut(Er),on=(It.rotate([0,0]),Ut(Er));return It.rotate(Fr),Qr.sphere=function(){on.polygonStart(),on.lineStart();for(var Sn=0,Cn=2*h/Ze,Vn=0;Sn<Ze;++Sn,Vn-=Cn)on.point(L(sr*T(Vn),br)*M,C(sr*l(Vn))*M),on.point(L(yt*T(Vn-Cn/2),ht)*M,C(yt*l(Vn-Cn/2))*M);on.lineEnd(),on.polygonEnd()},Qr},It.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Nr(Ze,et,ht,yt,zt,It,Ut,dr){arguments.length<8&&(dr=0);function br(sr,Er){if(!Er)return[Ze*sr/h,0];var Fr=Er*Er,Qr=Ze+Fr*(et+Fr*(ht+Fr*yt)),on=Er*(zt-1+Fr*(It-dr+Fr*Ut)),Sn=(Qr*Qr+on*on)/(2*on),Cn=sr*C(Qr/Sn)/h;return[Sn*l(Cn),Er*(1+Fr*dr)+Sn*(1-T(Cn))]}return br.invert=function(sr,Er){var Fr=h*sr/Ze,Qr=Er,on,Sn,Cn=50;do{var Vn=Qr*Qr,Sa=Ze+Vn*(et+Vn*(ht+Vn*yt)),Da=Qr*(zt-1+Vn*(It-dr+Vn*Ut)),Ca=Sa*Sa+Da*Da,Va=2*Da,Wa=Ca/Va,pi=Wa*Wa,Oi=C(Sa/Wa)/h,Mi=Fr*Oi,le=Sa*Sa,Se=(2*et+Vn*(4*ht+Vn*6*yt))*Qr,Be=zt+Vn*(3*It+Vn*5*Ut),Ke=2*(Sa*Se+Da*(Be-1)),$e=2*(Be-1),nt=(Ke*Va-Ca*$e)/(Va*Va),kt=T(Mi),ct=l(Mi),Ht=Wa*kt,rr=Wa*ct,ar=Fr/h*(1/_(1-le/pi))*(Se*Wa-Sa*nt)/pi,Rr=rr-sr,Dr=Qr*(1+Vn*dr)+Wa-Ht-Er,nn=nt*ct+Ht*ar,fn=Ht*Oi,Or=1+nt-(nt*kt-rr*ar),Xr=rr*Oi,tn=nn*Xr-Or*fn;if(!tn)break;Fr-=on=(Dr*nn-Rr*Or)/tn,Qr-=Sn=(Rr*Xr-Dr*fn)/tn}while((P(on)>c||P(Sn)>c)&&--Cn>0);return[Fr,Qr]},br}var Ur=Nr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function Tn(){return(0,g.Z)(Ur).scale(149.995)}var rn=Nr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function Gn(){return(0,g.Z)(rn).scale(153.93)}var Hn=Nr(5/6*h,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Ar(){return(0,g.Z)(Hn).scale(130.945)}function Cr(Ze,et){var ht=Ze*Ze,yt=et*et;return[Ze*(1-.162388*yt)*(.87-952426e-9*ht*ht),et*(1+yt/12)]}Cr.invert=function(Ze,et){var ht=Ze,yt=et,zt=50,It;do{var Ut=yt*yt;yt-=It=(yt*(1+Ut/12)-et)/(1+Ut/4)}while(P(It)>c&&--zt>0);zt=50,Ze/=1-.162388*Ut;do{var dr=(dr=ht*ht)*dr;ht-=It=(ht*(.87-952426e-9*dr)-Ze)/(.87-.00476213*dr)}while(P(It)>c&&--zt>0);return[ht,yt]};function Yr(){return(0,g.Z)(Cr).scale(131.747)}var Zr=Nr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function un(){return(0,g.Z)(Zr).scale(131.087)}function mn(Ze){var et=Ze(o,0)[0]-Ze(-o,0)[0];function ht(yt,zt){var It=yt>0?-.5:.5,Ut=Ze(yt+It*h,zt);return Ut[0]-=It*et,Ut}return Ze.invert&&(ht.invert=function(yt,zt){var It=yt>0?-.5:.5,Ut=Ze.invert(yt+It*et,zt),dr=Ut[0]-It*h;return dr<-h?dr+=2*h:dr>h&&(dr-=2*h),Ut[0]=dr,Ut}),ht}function pn(Ze,et){var ht=f(Ze),yt=f(et),zt=T(et),It=T(Ze)*zt,Ut=l(Ze)*zt,dr=l(yt*et);Ze=P(L(Ut,dr)),et=C(It),P(Ze-o)>c&&(Ze%=o);var br=Rn(Ze>h/4?o-Ze:Ze,et);return Ze>h/4&&(dr=br[0],br[0]=-br[1],br[1]=-dr),br[0]*=ht,br[1]*=-yt,br}pn.invert=function(Ze,et){P(Ze)>1&&(Ze=f(Ze)*2-Ze),P(et)>1&&(et=f(et)*2-et);var ht=f(Ze),yt=f(et),zt=-ht*Ze,It=-yt*et,Ut=It/zt<1,dr=Un(Ut?It:zt,Ut?zt:It),br=dr[0],sr=dr[1],Er=T(sr);return Ut&&(br=-o-br),[ht*(L(l(br)*Er,-l(sr))+h),yt*C(T(br)*Er)]};function Rn(Ze,et){if(et===o)return[0,0];var ht=l(et),yt=ht*ht,zt=yt*yt,It=1+zt,Ut=1+3*zt,dr=1-zt,br=C(1/_(It)),sr=dr+yt*It*br,Er=(1-ht)/sr,Fr=_(Er),Qr=Er*It,on=_(Qr),Sn=Fr*dr,Cn,Vn;if(Ze===0)return[0,-(Sn+yt*on)];var Sa=T(et),Da=1/Sa,Ca=2*ht*Sa,Va=(-3*yt+br*Ut)*Ca,Wa=(-sr*Sa-(1-ht)*Va)/(sr*sr),pi=.5*Wa/Fr,Oi=dr*pi-2*yt*Fr*Ca,Mi=yt*It*Wa+Er*Ut*Ca,le=-Da*Ca,Se=-Da*Mi,Be=-2*Da*Oi,Ke=4*Ze/h,$e;if(Ze>.222*h||et<h/4&&Ze>.175*h){if(Cn=(Sn+yt*_(Qr*(1+zt)-Sn*Sn))/(1+zt),Ze>h/4)return[Cn,Cn];var nt=Cn,kt=.5*Cn;Cn=.5*(kt+nt),Vn=50;do{var ct=_(Qr-Cn*Cn),Ht=Cn*(Be+le*ct)+Se*C(Cn/on)-Ke;if(!Ht)break;Ht<0?kt=Cn:nt=Cn,Cn=.5*(kt+nt)}while(P(nt-kt)>c&&--Vn>0)}else{Cn=c,Vn=25;do{var rr=Cn*Cn,ar=_(Qr-rr),Rr=Be+le*ar,Dr=Cn*Rr+Se*C(Cn/on)-Ke,nn=Rr+(Se-le*rr)/ar;Cn-=$e=ar?Dr/nn:0}while(P($e)>c&&--Vn>0)}return[Cn,-Sn-yt*_(Qr-Cn*Cn)]}function Un(Ze,et){for(var ht=0,yt=1,zt=.5,It=50;;){var Ut=zt*zt,dr=_(zt),br=C(1/_(1+Ut)),sr=1-Ut+zt*(1+Ut)*br,Er=(1-dr)/sr,Fr=_(Er),Qr=Er*(1+Ut),on=Fr*(1-Ut),Sn=Qr-Ze*Ze,Cn=_(Sn),Vn=et+on+zt*Cn;if(P(yt-ht)<b||--It===0||Vn===0)break;Vn>0?ht=zt:yt=zt,zt=.5*(ht+yt)}if(!It)return null;var Sa=C(dr),Da=T(Sa),Ca=1/Da,Va=2*dr*Da,Wa=(-3*zt+br*(1+3*Ut))*Va,pi=(-sr*Da-(1-dr)*Wa)/(sr*sr),Oi=.5*pi/Fr,Mi=(1-Ut)*Oi-2*zt*Fr*Va,le=-2*Ca*Mi,Se=-Ca*Va,Be=-Ca*(zt*(1+Ut)*pi+Er*(1+3*Ut)*Va);return[h/4*(Ze*(le+Se*Cn)+Be*C(Ze/_(Qr))),Sa]}function oa(){return(0,g.Z)(mn(pn)).scale(239.75)}function ua(Ze,et,ht){var yt,zt,It;return Ze?(yt=xa(Ze,ht),et?(zt=xa(et,1-ht),It=zt[1]*zt[1]+ht*yt[0]*yt[0]*zt[0]*zt[0],[[yt[0]*zt[2]/It,yt[1]*yt[2]*zt[0]*zt[1]/It],[yt[1]*zt[1]/It,-yt[0]*yt[2]*zt[0]*zt[2]/It],[yt[2]*zt[1]*zt[2]/It,-ht*yt[0]*yt[1]*zt[0]/It]]):[[yt[0],0],[yt[1],0],[yt[2],0]]):(zt=xa(et,1-ht),[[0,zt[0]/zt[1]],[1/zt[1],0],[zt[2]/zt[1],0]])}function xa(Ze,et){var ht,yt,zt,It,Ut;if(et<c)return It=l(Ze),yt=T(Ze),ht=et*(Ze-It*yt)/4,[It-ht*yt,yt+ht*It,1-et*It*It/2,Ze-ht];if(et>=1-c)return ht=(1-et)/4,yt=k(Ze),It=I(Ze),zt=1/yt,Ut=yt*N(Ze),[It+ht*(Ut-Ze)/(yt*yt),zt-ht*It*zt*(Ut-Ze),zt+ht*It*zt*(Ut+Ze),2*a(v(Ze))-o+ht*(Ut-Ze)/yt];var dr=[1,0,0,0,0,0,0,0,0],br=[_(et),0,0,0,0,0,0,0,0],sr=0;for(yt=_(1-et),Ut=1;P(br[sr]/dr[sr])>c&&sr<8;)ht=dr[sr++],br[sr]=(ht-yt)/2,dr[sr]=(ht+yt)/2,yt=_(ht*yt),Ut*=2;zt=Ut*dr[sr]*Ze;do It=br[sr]*l(yt=zt)/dr[sr],zt=(C(It)+zt)/2;while(--sr);return[l(zt),It=T(zt),It/T(zt-yt),zt]}function va(Ze,et,ht){var yt=P(Ze),zt=P(et),It=N(zt);if(yt){var Ut=1/l(yt),dr=1/(x(yt)*x(yt)),br=-(dr+ht*(It*It*Ut*Ut)-1+ht),sr=(ht-1)*dr,Er=(-br+_(br*br-4*sr))/2;return[ca(a(1/_(Er)),ht)*f(Ze),ca(a(_((Er/dr-1)/ht)),1-ht)*f(et)]}return[0,ca(a(It),1-ht)*f(et)]}function ca(Ze,et){if(!et)return Ze;if(et===1)return t(x(Ze/2+p));for(var ht=1,yt=_(1-et),zt=_(et),It=0;P(zt)>c;It++){if(Ze%h){var Ut=a(yt*x(Ze)/ht);Ut<0&&(Ut+=h),Ze+=Ut+~~(Ze/h)*h}else Ze+=Ze;zt=(ht+yt)/2,yt=_(ht*yt),zt=((ht=zt)-yt)/2}return Ze/(n(2,It)*ht)}function Pr(Ze,et){var ht=(A-1)/(A+1),yt=_(1-ht*ht),zt=ca(o,yt*yt),It=-1,Ut=t(x(h/4+P(et)/2)),dr=v(It*Ut)/_(ht),br=dn(dr*T(It*Ze),dr*l(It*Ze)),sr=va(br[0],br[1],yt*yt);return[-sr[1],(et>=0?1:-1)*(.5*zt-sr[0])]}function dn(Ze,et){var ht=Ze*Ze,yt=et+1,zt=1-ht-et*et;return[.5*((Ze>=0?o:-o)-L(zt,2*Ze)),-.25*t(zt*zt+4*ht)+.5*t(yt*yt+ht)]}function cn(Ze,et){var ht=et[0]*et[0]+et[1]*et[1];return[(Ze[0]*et[0]+Ze[1]*et[1])/ht,(Ze[1]*et[0]-Ze[0]*et[1])/ht]}Pr.invert=function(Ze,et){var ht=(A-1)/(A+1),yt=_(1-ht*ht),zt=ca(o,yt*yt),It=-1,Ut=ua(.5*zt-et,-Ze,yt*yt),dr=cn(Ut[0],Ut[1]),br=L(dr[1],dr[0])/It;return[br,2*a(v(.5/It*t(ht*dr[0]*dr[0]+ht*dr[1]*dr[1])))-o]};function An(){return(0,g.Z)(mn(Pr)).scale(151.496)}var Qn=e(7613);function zn(Ze){var et=l(Ze),ht=T(Ze),yt=Bn(Ze);yt.invert=Bn(-Ze);function zt(It,Ut){var dr=yt(It,Ut);It=dr[0],Ut=dr[1];var br=l(Ut),sr=T(Ut),Er=T(It),Fr=y(et*br+ht*sr*Er),Qr=l(Fr),on=P(Qr)>c?Fr/Qr:1;return[on*ht*l(It),(P(It)>o?on:-on)*(et*sr-ht*br*Er)]}return zt.invert=function(It,Ut){var dr=_(It*It+Ut*Ut),br=-l(dr),sr=T(dr),Er=dr*sr,Fr=-Ut*br,Qr=dr*et,on=_(Er*Er+Fr*Fr-Qr*Qr),Sn=L(Er*Qr+Fr*on,Fr*Qr-Er*on),Cn=(dr>o?-1:1)*L(It*br,dr*T(Sn)*sr+Ut*l(Sn)*br);return yt.invert(Cn,Sn)},zt}function Bn(Ze){var et=l(Ze),ht=T(Ze);return function(yt,zt){var It=T(zt),Ut=T(yt)*It,dr=l(yt)*It,br=l(zt);return[L(dr,Ut*ht-br*et),C(br*ht+Ut*et)]}}function qn(){var Ze=0,et=(0,g.r)(zn),ht=et(Ze),yt=ht.rotate,zt=ht.stream,It=(0,Qn.Z)();return ht.parallel=function(Ut){if(!arguments.length)return Ze*M;var dr=ht.rotate();return et(Ze=Ut*w).rotate(dr)},ht.rotate=function(Ut){return arguments.length?(yt.call(ht,[Ut[0],Ut[1]-Ze*M]),It.center([-Ut[0],-Ut[1]]),ht):(Ut=yt.call(ht),Ut[1]+=Ze*M,Ut)},ht.stream=function(Ut){return Ut=zt(Ut),Ut.sphere=function(){Ut.polygonStart();var dr=.01,br=It.radius(90-dr)().coordinates[0],sr=br.length-1,Er=-1,Fr;for(Ut.lineStart();++Er<sr;)Ut.point((Fr=br[Er])[0],Fr[1]);for(Ut.lineEnd(),br=It.radius(90+dr)().coordinates[0],sr=br.length-1,Ut.lineStart();--Er>=0;)Ut.point((Fr=br[Er])[0],Fr[1]);Ut.lineEnd(),Ut.polygonEnd()},Ut},ht.scale(79.4187).parallel(45).clipAngle(179.999)}var ya=e(33064),Na=e(72736),ii=3,Jt=C(1-1/ii)*M,Mr=Dt(0);function hn(Ze){var et=Jt*w,ht=_e(h,et)[0]-_e(-h,et)[0],yt=Mr(0,et)[1],zt=_e(0,et)[1],It=E-zt,Ut=m/Ze,dr=4/m,br=yt+It*It*4/m;function sr(Er,Fr){var Qr,on=P(Fr);if(on>et){var Sn=u(Ze-1,r(0,d((Er+h)/Ut)));Er+=h*(Ze-1)/Ze-Sn*Ut,Qr=_e(Er,on),Qr[0]=Qr[0]*m/ht-m*(Ze-1)/(2*Ze)+Sn*m/Ze,Qr[1]=yt+(Qr[1]-zt)*4*It/m,Fr<0&&(Qr[1]=-Qr[1])}else Qr=Mr(Er,Fr);return Qr[0]*=dr,Qr[1]/=br,Qr}return sr.invert=function(Er,Fr){Er/=dr,Fr*=br;var Qr=P(Fr);if(Qr>yt){var on=u(Ze-1,r(0,d((Er+h)/Ut)));Er=(Er+h*(Ze-1)/Ze-on*Ut)*ht/m;var Sn=_e.invert(Er,.25*(Qr-yt)*m/It+zt);return Sn[0]-=h*(Ze-1)/Ze-on*Ut,Fr<0&&(Sn[1]=-Sn[1]),Sn}return Mr.invert(Er,Fr)},sr}function xn(Ze,et){return[Ze,et&1?90-c:Jt]}function bn(Ze,et){return[Ze,et&1?-90+c:-Jt]}function Nn(Ze){return[Ze[0]*(1-c),Ze[1]]}function Pn(Ze){var et=[].concat((0,ya.w6)(-180,180+Ze/2,Ze).map(xn),(0,ya.w6)(180,-180-Ze/2,-Ze).map(bn));return{type:"Polygon",coordinates:[Ze===180?et.map(Nn):et]}}function yn(){var Ze=4,et=(0,g.r)(hn),ht=et(Ze),yt=ht.stream;return ht.lobes=function(zt){return arguments.length?et(Ze=+zt):Ze},ht.stream=function(zt){var It=ht.rotate(),Ut=yt(zt),dr=(ht.rotate([0,0]),yt(zt));return ht.rotate(It),Ut.sphere=function(){(0,Na.Z)(Pn(180/Ze),dr)},Ut},ht.scale(239.75)}function zr(Ze){var et=1+Ze,ht=l(1/et),yt=C(ht),zt=2*_(h/(It=h+4*yt*et)),It,Ut=.5*zt*(et+_(Ze*(2+Ze))),dr=Ze*Ze,br=et*et;function sr(Er,Fr){var Qr=1-l(Fr),on,Sn;if(Qr&&Qr<2){var Cn=o-Fr,Vn=25,Sa;do{var Da=l(Cn),Ca=T(Cn),Va=yt+L(Da,et-Ca),Wa=1+br-2*et*Ca;Cn-=Sa=(Cn-dr*yt-et*Da+Wa*Va-.5*Qr*It)/(2*et*Da*Va)}while(P(Sa)>b&&--Vn>0);on=zt*_(Wa),Sn=Er*Va/h}else on=zt*(Ze+Qr),Sn=Er*yt/h;return[on*l(Sn),Ut-on*T(Sn)]}return sr.invert=function(Er,Fr){var Qr=Er*Er+(Fr-=Ut)*Fr,on=(1+br-Qr/(zt*zt))/(2*et),Sn=y(on),Cn=l(Sn),Vn=yt+L(Cn,et-on);return[C(Er/_(Qr))*h/Vn,C(1-2*(Sn-dr*yt-et*Cn+(1+br-2*et*on)*Vn)/It)]},sr}function _r(){var Ze=1,et=(0,g.r)(zr),ht=et(Ze);return ht.ratio=function(yt){return arguments.length?et(Ze=+yt):Ze},ht.scale(167.774).center([0,18.67])}var Gr=.7109889596207567,wn=.0528035274542;function Yn(Ze,et){return et>-Gr?(Ze=Ae(Ze,et),Ze[1]+=wn,Ze):Je(Ze,et)}Yn.invert=function(Ze,et){return et>-Gr?Ae.invert(Ze,et-wn):Je.invert(Ze,et)};function ta(){return(0,g.Z)(Yn).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function Mn(Ze,et){return P(et)>Gr?(Ze=Ae(Ze,et),Ze[1]-=et>0?wn:-wn,Ze):Je(Ze,et)}Mn.invert=function(Ze,et){return P(et)>Gr?Ae.invert(Ze,et+(et>0?wn:-wn)):Je.invert(Ze,et)};function jn(){return(0,g.Z)(Mn).scale(152.63)}function fa(Ze,et,ht,yt){var zt=_(4*h/(2*ht+(1+Ze-et/2)*l(2*ht)+(Ze+et)/2*l(4*ht)+et/2*l(6*ht))),It=_(yt*l(ht)*_((1+Ze*T(2*ht)+et*T(4*ht))/(1+Ze+et))),Ut=ht*br(1);function dr(Fr){return _(1+Ze*T(2*Fr)+et*T(4*Fr))}function br(Fr){var Qr=Fr*ht;return(2*Qr+(1+Ze-et/2)*l(2*Qr)+(Ze+et)/2*l(4*Qr)+et/2*l(6*Qr))/ht}function sr(Fr){return dr(Fr)*l(Fr)}var Er=function(Fr,Qr){var on=ht*we(br,Ut*l(Qr)/ht,Qr/h);isNaN(on)&&(on=ht*f(Qr));var Sn=zt*dr(on);return[Sn*It*Fr/h*T(on),Sn/It*l(on)]};return Er.invert=function(Fr,Qr){var on=we(sr,Qr*It/zt);return[Fr*h/(T(on)*zt*It*dr(on)),C(ht*br(on/ht)/Ut)]},ht===0&&(zt=_(yt/h),Er=function(Fr,Qr){return[Fr*zt,l(Qr)/zt]},Er.invert=function(Fr,Qr){return[Fr/zt,C(Qr*zt)]}),Er}function Ta(){var Ze=1,et=0,ht=45*w,yt=2,zt=(0,g.r)(fa),It=zt(Ze,et,ht,yt);return It.a=function(Ut){return arguments.length?zt(Ze=+Ut,et,ht,yt):Ze},It.b=function(Ut){return arguments.length?zt(Ze,et=+Ut,ht,yt):et},It.psiMax=function(Ut){return arguments.length?zt(Ze,et,ht=+Ut*w,yt):ht*M},It.ratio=function(Ut){return arguments.length?zt(Ze,et,ht,yt=+Ut):yt},It.scale(180.739)}function ba(Ze,et,ht,yt,zt,It,Ut,dr,br,sr,Er){if(Er.nanEncountered)return NaN;var Fr,Qr,on,Sn,Cn,Vn,Sa,Da,Ca,Va;if(Fr=ht-et,Qr=Ze(et+Fr*.25),on=Ze(ht-Fr*.25),isNaN(Qr)){Er.nanEncountered=!0;return}if(isNaN(on)){Er.nanEncountered=!0;return}return Sn=Fr*(yt+4*Qr+zt)/12,Cn=Fr*(zt+4*on+It)/12,Vn=Sn+Cn,Va=(Vn-Ut)/15,sr>br?(Er.maxDepthCount++,Vn+Va):Math.abs(Va)<dr?Vn+Va:(Sa=et+Fr*.5,Da=ba(Ze,et,Sa,yt,Qr,zt,Sn,dr*.5,br,sr+1,Er),isNaN(Da)?(Er.nanEncountered=!0,NaN):(Ca=ba(Ze,Sa,ht,zt,on,It,Cn,dr*.5,br,sr+1,Er),isNaN(Ca)?(Er.nanEncountered=!0,NaN):Da+Ca))}function ma(Ze,et,ht,yt,zt){var It={maxDepthCount:0,nanEncountered:!1};yt===void 0&&(yt=1e-8),zt===void 0&&(zt=20);var Ut=Ze(et),dr=Ze(.5*(et+ht)),br=Ze(ht),sr=(Ut+4*dr+br)*(ht-et)/6,Er=ba(Ze,et,ht,Ut,dr,br,sr,yt,zt,1,It);return Er}function Pa(Ze,et,ht){function yt(on){return Ze+(1-Ze)*n(1-n(on,et),1/et)}function zt(on){return ma(yt,0,on,1e-4)}for(var It=1/zt(1),Ut=1e3,dr=(1+1e-8)*It,br=[],sr=0;sr<=Ut;sr++)br.push(zt(sr/Ut)*dr);function Er(on){var Sn=0,Cn=Ut,Vn=Ut>>1;do br[Vn]>on?Cn=Vn:Sn=Vn,Vn=Sn+Cn>>1;while(Vn>Sn);var Sa=br[Vn+1]-br[Vn];return Sa&&(Sa=(on-br[Vn+1])/Sa),(Vn+1+Sa)/Ut}var Fr=2*Er(1)/h*It/ht,Qr=function(on,Sn){var Cn=Er(P(l(Sn))),Vn=yt(Cn)*on;return Cn/=Fr,[Vn,Sn>=0?Cn:-Cn]};return Qr.invert=function(on,Sn){var Cn;return Sn*=Fr,P(Sn)<1&&(Cn=f(Sn)*C(zt(P(Sn))*It)),[on/yt(P(Sn)),Cn]},Qr}function $i(){var Ze=0,et=2.5,ht=1.183136,yt=(0,g.r)(Pa),zt=yt(Ze,et,ht);return zt.alpha=function(It){return arguments.length?yt(Ze=+It,et,ht):Ze},zt.k=function(It){return arguments.length?yt(Ze,et=+It,ht):et},zt.gamma=function(It){return arguments.length?yt(Ze,et,ht=+It):ht},zt.scale(152.63)}function ho(Ze,et){return P(Ze[0]-et[0])<c&&P(Ze[1]-et[1])<c}function mo(Ze,et){for(var ht=-1,yt=Ze.length,zt=Ze[0],It,Ut,dr,br=[];++ht<yt;){It=Ze[ht],Ut=(It[0]-zt[0])/et,dr=(It[1]-zt[1])/et;for(var sr=0;sr<et;++sr)br.push([zt[0]+sr*Ut,zt[1]+sr*dr]);zt=It}return br.push(It),br}function xo(Ze){var et=[],ht,yt,zt,It,Ut,dr,br,sr=Ze[0].length;for(br=0;br<sr;++br)ht=Ze[0][br],yt=ht[0][0],zt=ht[0][1],It=ht[1][1],Ut=ht[2][0],dr=ht[2][1],et.push(mo([[yt+c,zt+c],[yt+c,It-c],[Ut-c,It-c],[Ut-c,dr+c]],30));for(br=Ze[1].length-1;br>=0;--br)ht=Ze[1][br],yt=ht[0][0],zt=ht[0][1],It=ht[1][1],Ut=ht[2][0],dr=ht[2][1],et.push(mo([[Ut-c,dr-c],[Ut-c,It+c],[yt+c,It+c],[yt+c,zt-c]],30));return{type:"Polygon",coordinates:[(0,ya.TS)(et)]}}function bo(Ze,et,ht){var yt,zt;function It(br,sr){for(var Er=sr<0?-1:1,Fr=et[+(sr<0)],Qr=0,on=Fr.length-1;Qr<on&&br>Fr[Qr][2][0];++Qr);var Sn=Ze(br-Fr[Qr][1][0],sr);return Sn[0]+=Ze(Fr[Qr][1][0],Er*sr>Er*Fr[Qr][0][1]?Fr[Qr][0][1]:sr)[0],Sn}ht?It.invert=ht(It):Ze.invert&&(It.invert=function(br,sr){for(var Er=zt[+(sr<0)],Fr=et[+(sr<0)],Qr=0,on=Er.length;Qr<on;++Qr){var Sn=Er[Qr];if(Sn[0][0]<=br&&br<Sn[1][0]&&Sn[0][1]<=sr&&sr<Sn[1][1]){var Cn=Ze.invert(br-Ze(Fr[Qr][1][0],0)[0],sr);return Cn[0]+=Fr[Qr][1][0],ho(It(Cn[0],Cn[1]),[br,sr])?Cn:null}}});var Ut=(0,g.Z)(It),dr=Ut.stream;return Ut.stream=function(br){var sr=Ut.rotate(),Er=dr(br),Fr=(Ut.rotate([0,0]),dr(br));return Ut.rotate(sr),Er.sphere=function(){(0,Na.Z)(yt,Fr)},Er},Ut.lobes=function(br){return arguments.length?(yt=xo(br),et=br.map(function(sr){return sr.map(function(Er){return[[Er[0][0]*w,Er[0][1]*w],[Er[1][0]*w,Er[1][1]*w],[Er[2][0]*w,Er[2][1]*w]]})}),zt=et.map(function(sr){return sr.map(function(Er){var Fr=Ze(Er[0][0],Er[0][1])[0],Qr=Ze(Er[2][0],Er[2][1])[0],on=Ze(Er[1][0],Er[0][1])[1],Sn=Ze(Er[1][0],Er[1][1])[1],Cn;return on>Sn&&(Cn=on,on=Sn,Sn=Cn),[[Fr,on],[Qr,Sn]]})}),Ut):et.map(function(sr){return sr.map(function(Er){return[[Er[0][0]*M,Er[0][1]*M],[Er[1][0]*M,Er[1][1]*M],[Er[2][0]*M,Er[2][1]*M]]})})},et!=null&&Ut.lobes(et),Ut}var zu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function di(){return bo(Ve,zu).scale(160.857)}var _l=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function ml(){return bo(Mn,_l).scale(152.63)}var qi=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function wo(){return bo(Ae,qi).scale(169.529)}var Fl=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function qs(){return bo(Ae,Fl).scale(169.529).rotate([20,0])}var zi=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function zl(){return bo(Yn,zi,xe).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var Io=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function Ji(){return bo(Je,Io).scale(152.63).rotate([-20,0])}function ko(Ze,et){return[3/m*Ze*_(h*h/3-et*et),et]}ko.invert=function(Ze,et){return[m/3*Ze/_(h*h/3-et*et),et]};function vo(){return(0,g.Z)(ko).scale(158.837)}function po(Ze){function et(ht,yt){if(P(P(yt)-o)<c)return[0,yt<0?-2:2];var zt=l(yt),It=n((1+zt)/(1-zt),Ze/2),Ut=.5*(It+1/It)+T(ht*=Ze);return[2*l(ht)/Ut,(It-1/It)/Ut]}return et.invert=function(ht,yt){var zt=P(yt);if(P(zt-2)<c)return ht?null:[0,f(yt)*o];if(zt>2)return null;ht/=2,yt/=2;var It=ht*ht,Ut=yt*yt,dr=2*yt/(1+It+Ut);return dr=n((1+dr)/(1-dr),1/Ze),[L(2*ht,1-It-Ut)/Ze,C((dr-1)/(dr+1))]},et}function as(){var Ze=.5,et=(0,g.r)(po),ht=et(Ze);return ht.spacing=function(yt){return arguments.length?et(Ze=+yt):Ze},ht.scale(124.75)}var ys=h/A;function ao(Ze,et){return[Ze*(1+_(T(et)))/2,et/(T(et/2)*T(Ze/6))]}ao.invert=function(Ze,et){var ht=P(Ze),yt=P(et),zt=c,It=o;yt<ys?It*=yt/ys:zt+=6*y(ys/yt);for(var Ut=0;Ut<25;Ut++){var dr=l(It),br=_(T(It)),sr=l(It/2),Er=T(It/2),Fr=l(zt/6),Qr=T(zt/6),on=.5*zt*(1+br)-ht,Sn=It/(Er*Qr)-yt,Cn=br?-.25*zt*dr/br:0,Vn=.5*(1+br),Sa=(1+.5*It*sr/Er)/(Er*Qr),Da=It/Er*(Fr/6)/(Qr*Qr),Ca=Cn*Da-Sa*Vn,Va=(on*Da-Sn*Vn)/Ca,Wa=(Sn*Cn-on*Sa)/Ca;if(It-=Va,zt-=Wa,P(Va)<c&&P(Wa)<c)break}return[Ze<0?-zt:zt,et<0?-It:It]};function df(){return(0,g.Z)(ao).scale(97.2672)}function is(Ze,et){var ht=Ze*Ze,yt=et*et;return[Ze*(.975534+yt*(-.119161+ht*-.0143059+yt*-.0547009)),et*(1.00384+ht*(.0802894+yt*-.02855+ht*199025e-9)+yt*(.0998909+yt*-.0491032))]}is.invert=function(Ze,et){var ht=f(Ze)*h,yt=et/2,zt=50;do{var It=ht*ht,Ut=yt*yt,dr=ht*yt,br=ht*(.975534+Ut*(-.119161+It*-.0143059+Ut*-.0547009))-Ze,sr=yt*(1.00384+It*(.0802894+Ut*-.02855+It*199025e-9)+Ut*(.0998909+Ut*-.0491032))-et,Er=.975534-Ut*(.119161+3*It*.0143059+Ut*.0547009),Fr=-dr*(2*.119161+4*.0547009*Ut+2*.0143059*It),Qr=dr*(2*.0802894+4*199025e-9*It+2*-.02855*Ut),on=1.00384+It*(.0802894+199025e-9*It)+Ut*(3*(.0998909-.02855*It)-5*.0491032*Ut),Sn=Fr*Qr-on*Er,Cn=(sr*Fr-br*on)/Sn,Vn=(br*Qr-sr*Er)/Sn;ht-=Cn,yt-=Vn}while((P(Cn)>c||P(Vn)>c)&&--zt>0);return zt&&[ht,yt]};function io(){return(0,g.Z)(is).scale(139.98)}function Ou(Ze,et){return[l(Ze)/T(et),x(et)*T(Ze)]}Ou.invert=function(Ze,et){var ht=Ze*Ze,yt=et*et,zt=yt+1,It=ht+zt,Ut=Ze?S*_((It-_(It*It-4*ht))/ht):1/_(zt);return[C(Ze*Ut),f(et)*y(Ut)]};function ms(){return(0,g.Z)(Ou).scale(144.049).clipAngle(89.999)}function os(Ze){var et=T(Ze),ht=x(p+Ze/2);function yt(zt,It){var Ut=It-Ze,dr=P(Ut)<c?zt*et:P(dr=p+It/2)<c||P(P(dr)-o)<c?0:zt*Ut/t(x(dr)/ht);return[dr,Ut]}return yt.invert=function(zt,It){var Ut,dr=It+Ze;return[P(It)<c?zt/et:P(Ut=p+dr/2)<c||P(P(Ut)-o)<c?0:zt*t(x(Ut)/ht)/It,dr]},yt}function ou(){return Qe(os).parallel(40).scale(158.837)}function su(Ze,et){return[Ze,1.25*t(x(p+.4*et))]}su.invert=function(Ze,et){return[Ze,2.5*a(v(.8*et))-.625*h]};function Hf(){return(0,g.Z)(su).scale(108.318)}function Ol(Ze){var et=Ze.length-1;function ht(yt,zt){for(var It=T(zt),Ut=2/(1+It*T(yt)),dr=Ut*It*l(yt),br=Ut*l(zt),sr=et,Er=Ze[sr],Fr=Er[0],Qr=Er[1],on;--sr>=0;)Er=Ze[sr],Fr=Er[0]+dr*(on=Fr)-br*Qr,Qr=Er[1]+dr*Qr+br*on;return Fr=dr*(on=Fr)-br*Qr,Qr=dr*Qr+br*on,[Fr,Qr]}return ht.invert=function(yt,zt){var It=20,Ut=yt,dr=zt;do{for(var br=et,sr=Ze[br],Er=sr[0],Fr=sr[1],Qr=0,on=0,Sn;--br>=0;)sr=Ze[br],Qr=Er+Ut*(Sn=Qr)-dr*on,on=Fr+Ut*on+dr*Sn,Er=sr[0]+Ut*(Sn=Er)-dr*Fr,Fr=sr[1]+Ut*Fr+dr*Sn;Qr=Er+Ut*(Sn=Qr)-dr*on,on=Fr+Ut*on+dr*Sn,Er=Ut*(Sn=Er)-dr*Fr-yt,Fr=Ut*Fr+dr*Sn-zt;var Cn=Qr*Qr+on*on,Vn,Sa;Ut-=Vn=(Er*Qr+Fr*on)/Cn,dr-=Sa=(Fr*Qr-Er*on)/Cn}while(P(Vn)+P(Sa)>c*c&&--It>0);if(It){var Da=_(Ut*Ut+dr*dr),Ca=2*a(Da*.5),Va=l(Ca);return[L(Ut*Va,Da*T(Ca)),Da?C(dr*Va/Da):0]}},ht}var Gf=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Bu=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],pf=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],lu=[[.9245,0],[0,0],[.01943,0]],gf=[[.721316,0],[0,0],[-.00881625,-.00617325]];function yf(){return el(Gf,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function Bl(){return el(Bu,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function Wf(){return el(pf,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function mf(){return el(lu,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function Nu(){return el(gf,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function el(Ze,et){var ht=(0,g.Z)(Ol(Ze)).rotate(et).clipAngle(90),yt=(0,Le.Z)(et),zt=ht.center;return delete ht.rotate,ht.center=function(It){return arguments.length?zt(yt(It)):yt.invert(zt())},ht}var tl=_(6),xl=_(7);function uu(Ze,et){var ht=C(7*l(et)/(3*tl));return[tl*Ze*(2*T(2*ht/3)-1)/xl,9*l(ht/3)/xl]}uu.invert=function(Ze,et){var ht=3*C(et*xl/9);return[Ze*xl/(tl*(2*T(2*ht/3)-1)),C(l(ht)*3*tl/7)]};function Uu(){return(0,g.Z)(uu).scale(164.859)}function Wo(Ze,et){for(var ht=(1+S)*l(et),yt=et,zt=0,It;zt<25&&(yt-=It=(l(yt/2)+l(yt)-ht)/(.5*T(yt/2)+T(yt)),!(P(It)<c));zt++);return[Ze*(1+2*T(yt)/T(yt/2))/(3*A),2*_(3)*l(yt/2)/_(2+A)]}Wo.invert=function(Ze,et){var ht=et*_(2+A)/(2*_(3)),yt=2*C(ht);return[3*A*Ze/(1+2*T(yt)/T(yt/2)),C((ht+l(yt))/(1+S))]};function fu(){return(0,g.Z)(Wo).scale(188.209)}function Vu(Ze,et){for(var ht=_(6/(4+h)),yt=(1+h/4)*l(et),zt=et/2,It=0,Ut;It<25&&(zt-=Ut=(zt/2+l(zt)-yt)/(.5+T(zt)),!(P(Ut)<c));It++);return[ht*(.5+T(zt))*Ze/1.5,ht*zt]}Vu.invert=function(Ze,et){var ht=_(6/(4+h)),yt=et/ht;return P(P(yt)-o)<c&&(yt=yt<0?-o:o),[1.5*Ze/(ht*(.5+T(yt))),C((yt/2+l(yt))/(1+h/4))]};function Yf(){return(0,g.Z)(Vu).scale(166.518)}var _o=e(26867);function rl(Ze,et){var ht=et*et,yt=ht*ht,zt=ht*yt;return[Ze*(.84719-.13063*ht+zt*zt*(-.04515+.05494*ht-.02326*yt+.00331*zt)),et*(1.01183+yt*yt*(-.02625+.01926*ht-.00396*yt))]}rl.invert=function(Ze,et){var ht=et,yt=25,zt,It,Ut,dr;do It=ht*ht,Ut=It*It,ht-=zt=(ht*(1.01183+Ut*Ut*(-.02625+.01926*It-.00396*Ut))-et)/(1.01183+Ut*Ut*(-.23625+.21186*It+-.05148*Ut));while(P(zt)>b&&--yt>0);return It=ht*ht,Ut=It*It,dr=It*Ut,[Ze/(.84719-.13063*It+dr*dr*(-.04515+.05494*It-.02326*Ut+.00331*dr)),ht]};function Nl(){return(0,g.Z)(rl).scale(175.295)}function bl(Ze,et){return[Ze*(1+T(et))/2,2*(et-x(et/2))]}bl.invert=function(Ze,et){for(var ht=et/2,yt=0,zt=1/0;yt<10&&P(zt)>c;++yt){var It=T(et/2);et-=zt=(et-x(et/2)-ht)/(1-.5/(It*It))}return[2*Ze/(1+T(et)),et]};function Ko(){return(0,g.Z)(bl).scale(152.63)}var Jo=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Hu(){return bo(ne(1/0),Jo).rotate([20,0]).scale(152.63)}function xs(Ze,et){var ht=l(et),yt=T(et),zt=f(Ze);if(Ze===0||P(et)===o)return[0,et];if(et===0)return[Ze,0];if(P(Ze)===o)return[Ze*yt,o*ht];var It=h/(2*Ze)-2*Ze/h,Ut=2*et/h,dr=(1-Ut*Ut)/(ht-Ut),br=It*It,sr=dr*dr,Er=1+br/sr,Fr=1+sr/br,Qr=(It*ht/dr-It/2)/Er,on=(sr*ht/br+dr/2)/Fr,Sn=Qr*Qr+yt*yt/Er,Cn=on*on-(sr*ht*ht/br+dr*ht-1)/Fr;return[o*(Qr+_(Sn)*zt),o*(on+_(Cn<0?0:Cn)*f(-et*It)*zt)]}xs.invert=function(Ze,et){Ze/=o,et/=o;var ht=Ze*Ze,yt=et*et,zt=ht+yt,It=h*h;return[Ze?(zt-1+_((1-zt)*(1-zt)+4*ht))/(2*Ze)*o:0,we(function(Ut){return zt*(h*l(Ut)-2*Ut)*h+4*Ut*Ut*(et-l(Ut))+2*h*Ut-It*et},0)]};function Fs(){return(0,g.Z)(xs).scale(127.267)}var Zi=1.0148,cu=.23185,wl=-.14499,Tl=.02406,xf=Zi,bf=5*cu,nl=7*wl,al=9*Tl,eo=1.790857183;function hu(Ze,et){var ht=et*et;return[Ze,et*(Zi+ht*ht*(cu+ht*(wl+Tl*ht)))]}hu.invert=function(Ze,et){et>eo?et=eo:et<-eo&&(et=-eo);var ht=et,yt;do{var zt=ht*ht;ht-=yt=(ht*(Zi+zt*zt*(cu+zt*(wl+Tl*zt)))-et)/(xf+zt*zt*(bf+zt*(nl+al*zt)))}while(P(yt)>c);return[Ze,ht]};function Zf(){return(0,g.Z)(hu).scale(139.319)}function Gu(Ze,et){if(P(et)<c)return[Ze,0];var ht=x(et),yt=Ze*l(et);return[l(yt)/ht,et+(1-T(yt))/ht]}Gu.invert=function(Ze,et){if(P(et)<c)return[Ze,0];var ht=Ze*Ze+et*et,yt=et*.5,zt=10,It;do{var Ut=x(yt),dr=1/T(yt),br=ht-2*et*yt+yt*yt;yt-=It=(Ut*br+2*(yt-et))/(2+br*dr*dr+2*(yt-et)*Ut)}while(P(It)>c&&--zt>0);return Ut=x(yt),[(P(et)<P(yt+1/Ut)?C(Ze*Ut):f(et)*f(Ze)*(y(P(Ze*Ut))+o))/l(yt),yt]};function Xf(){return(0,g.Z)(Gu).scale(103.74)}var vu=e(77338),Ul=e(83074);function Wu(Ze,et){var ht=Zu(Ze[1],Ze[0]),yt=Zu(et[1],et[0]),zt=Xu(ht,yt),It=du(ht)/du(yt);return Vl([1,0,Ze[0][0],0,1,Ze[0][1]],Vl([It,0,0,0,It,0],Vl([T(zt),l(zt),0,-l(zt),T(zt),0],[1,0,-et[0][0],0,1,-et[0][1]])))}function Yu(Ze){var et=1/(Ze[0]*Ze[4]-Ze[1]*Ze[3]);return[et*Ze[4],-et*Ze[1],et*(Ze[1]*Ze[5]-Ze[2]*Ze[4]),-et*Ze[3],et*Ze[0],et*(Ze[2]*Ze[3]-Ze[0]*Ze[5])]}function Vl(Ze,et){return[Ze[0]*et[0]+Ze[1]*et[3],Ze[0]*et[1]+Ze[1]*et[4],Ze[0]*et[2]+Ze[1]*et[5]+Ze[2],Ze[3]*et[0]+Ze[4]*et[3],Ze[3]*et[1]+Ze[4]*et[4],Ze[3]*et[2]+Ze[4]*et[5]+Ze[5]]}function Zu(Ze,et){return[Ze[0]-et[0],Ze[1]-et[1]]}function du(Ze){return _(Ze[0]*Ze[0]+Ze[1]*Ze[1])}function Xu(Ze,et){return L(Ze[0]*et[1]-Ze[1]*et[0],Ze[0]*et[0]+Ze[1]*et[1])}function Ri(Ze,et,ht){yt(Ze,{transform:null});function yt(sr,Er){if(sr.edges=zs(sr.face),Er.face){var Fr=sr.shared=Al(sr.face,Er.face),Qr=Wu(Fr.map(Er.project),Fr.map(sr.project));sr.transform=Er.transform?Vl(Er.transform,Qr):Qr;for(var on=Er.edges,Sn=0,Cn=on.length;Sn<Cn;++Sn)Yo(Fr[0],on[Sn][1])&&Yo(Fr[1],on[Sn][0])&&(on[Sn]=sr),Yo(Fr[0],on[Sn][0])&&Yo(Fr[1],on[Sn][1])&&(on[Sn]=sr);for(on=sr.edges,Sn=0,Cn=on.length;Sn<Cn;++Sn)Yo(Fr[0],on[Sn][0])&&Yo(Fr[1],on[Sn][1])&&(on[Sn]=Er),Yo(Fr[0],on[Sn][1])&&Yo(Fr[1],on[Sn][0])&&(on[Sn]=Er)}else sr.transform=Er.transform;return sr.children&&sr.children.forEach(function(Vn){yt(Vn,sr)}),sr}function zt(sr,Er){var Fr=et(sr,Er),Qr=Fr.project([sr*M,Er*M]),on;return(on=Fr.transform)?[on[0]*Qr[0]+on[1]*Qr[1]+on[2],-(on[3]*Qr[0]+on[4]*Qr[1]+on[5])]:(Qr[1]=-Qr[1],Qr)}Ku(Ze)&&(zt.invert=function(sr,Er){var Fr=It(Ze,[sr,-Er]);return Fr&&(Fr[0]*=w,Fr[1]*=w,Fr)});function It(sr,Er){var Fr=sr.project.invert,Qr=sr.transform,on=Er;if(Qr&&(Qr=Yu(Qr),on=[Qr[0]*on[0]+Qr[1]*on[1]+Qr[2],Qr[3]*on[0]+Qr[4]*on[1]+Qr[5]]),Fr&&sr===Ut(Sn=Fr(on)))return Sn;for(var Sn,Cn=sr.children,Vn=0,Sa=Cn&&Cn.length;Vn<Sa;++Vn)if(Sn=It(Cn[Vn],Er))return Sn}function Ut(sr){return et(sr[0]*w,sr[1]*w)}var dr=(0,g.Z)(zt),br=dr.stream;return dr.stream=function(sr){var Er=dr.rotate(),Fr=br(sr),Qr=(dr.rotate([0,0]),br(sr));return dr.rotate(Er),Fr.sphere=function(){Qr.polygonStart(),Qr.lineStart(),ju(Qr,Ze),Qr.lineEnd(),Qr.polygonEnd()},Fr},dr.angle(ht==null?-30:ht*M)}function ju(Ze,et,ht){var yt,zt=et.edges,It=zt.length,Ut,dr={type:"MultiPoint",coordinates:et.face},br=et.face.filter(function(Cn){return P(Cn[1])!==90}),sr=(0,vu.Z)({type:"MultiPoint",coordinates:br}),Er=!1,Fr=-1,Qr=sr[1][0]-sr[0][0],on=Qr===180||Qr===360?[(sr[0][0]+sr[1][0])/2,(sr[0][1]+sr[1][1])/2]:(0,Xe.Z)(dr);if(ht)for(;++Fr<It&&zt[Fr]!==ht;);++Fr;for(var Sn=0;Sn<It;++Sn)Ut=zt[(Sn+Fr)%It],Array.isArray(Ut)?(Er||(Ze.point((yt=(0,Ul.Z)(Ut[0],on)(c))[0],yt[1]),Er=!0),Ze.point((yt=(0,Ul.Z)(Ut[1],on)(c))[0],yt[1])):(Er=!1,Ut!==ht&&ju(Ze,Ut,et))}function Yo(Ze,et){return Ze&&et&&Ze[0]===et[0]&&Ze[1]===et[1]}function Al(Ze,et){for(var ht,yt,zt=Ze.length,It=null,Ut=0;Ut<zt;++Ut){ht=Ze[Ut];for(var dr=et.length;--dr>=0;)if(yt=et[dr],ht[0]===yt[0]&&ht[1]===yt[1]){if(It)return[It,ht];It=ht}}}function zs(Ze){for(var et=Ze.length,ht=[],yt=Ze[et-1],zt=0;zt<et;++zt)ht.push([yt,yt=Ze[zt]]);return ht}function Ku(Ze){return Ze.project.invert||Ze.children&&Ze.children.some(Ku)}var ji=e(98936),Qo=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Fo=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Ze){return Ze.map(function(et){return Qo[et]})});function bs(Ze){Ze=Ze||function(ht){var yt=(0,Xe.Z)({type:"MultiPoint",coordinates:ht});return(0,ji.Z)().scale(1).translate([0,0]).rotate([-yt[0],-yt[1]])};var et=Fo.map(function(ht){return{face:ht,project:Ze(ht)}});return[-1,0,0,1,0,1,4,5].forEach(function(ht,yt){var zt=et[ht];zt&&(zt.children||(zt.children=[])).push(et[yt])}),Ri(et[0],function(ht,yt){return et[ht<-h/2?yt<0?6:4:ht<0?yt<0?2:0:ht<h/2?yt<0?3:1:yt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var zo=2/_(3);function Os(Ze,et){var ht=_e(Ze,et);return[ht[0]*zo,ht[1]]}Os.invert=function(Ze,et){return _e.invert(Ze/zo,et)};function Bs(Ze){Ze=Ze||function(ht){var yt=(0,Xe.Z)({type:"MultiPoint",coordinates:ht});return(0,g.Z)(Os).translate([0,0]).scale(1).rotate(yt[1]>0?[-yt[0],0]:[180-yt[0],180])};var et=Fo.map(function(ht){return{face:ht,project:Ze(ht)}});return[-1,0,0,1,0,1,4,5].forEach(function(ht,yt){var zt=et[ht];zt&&(zt.children||(zt.children=[])).push(et[yt])}),Ri(et[0],function(ht,yt){return et[ht<-h/2?yt<0?6:4:ht<0?yt<0?2:0:ht<h/2?yt<0?3:1:yt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function Ns(Ze){Ze=Ze||function(Ut){var dr=Ut.length===6?(0,Xe.Z)({type:"MultiPoint",coordinates:Ut}):Ut[0];return(0,ji.Z)().scale(1).translate([0,0]).rotate([-dr[0],-dr[1]])};var et=Fo.map(function(Ut){for(var dr=Ut.map(oo),br=dr.length,sr=dr[br-1],Er,Fr=[],Qr=0;Qr<br;++Qr)Er=dr[Qr],Fr.push(il([sr[0]*.9486832980505138+Er[0]*.31622776601683794,sr[1]*.9486832980505138+Er[1]*.31622776601683794,sr[2]*.9486832980505138+Er[2]*.31622776601683794]),il([Er[0]*.9486832980505138+sr[0]*.31622776601683794,Er[1]*.9486832980505138+sr[1]*.31622776601683794,Er[2]*.9486832980505138+sr[2]*.31622776601683794])),sr=Er;return Fr}),ht=[],yt=[-1,0,0,1,0,1,4,5];et.forEach(function(Ut,dr){for(var br=Fo[dr],sr=br.length,Er=ht[dr]=[],Fr=0;Fr<sr;++Fr)et.push([br[Fr],Ut[(Fr*2+2)%(2*sr)],Ut[(Fr*2+1)%(2*sr)]]),yt.push(dr),Er.push(ss(oo(Ut[(Fr*2+2)%(2*sr)]),oo(Ut[(Fr*2+1)%(2*sr)])))});var zt=et.map(function(Ut){return{project:Ze(Ut),face:Ut}});yt.forEach(function(Ut,dr){var br=zt[Ut];br&&(br.children||(br.children=[])).push(zt[dr])});function It(Ut,dr){var br=T(dr),sr=[br*T(Ut),br*l(Ut),l(dr)],Er=Ut<-h/2?dr<0?6:4:Ut<0?dr<0?2:0:Ut<h/2?dr<0?3:1:dr<0?7:5,Fr=ht[Er];return zt[$o(Fr[0],sr)<0?8+3*Er:$o(Fr[1],sr)<0?8+3*Er+1:$o(Fr[2],sr)<0?8+3*Er+2:Er]}return Ri(zt[0],It).angle(-30).scale(110.625).center([0,45])}function $o(Ze,et){for(var ht=0,yt=Ze.length,zt=0;ht<yt;++ht)zt+=Ze[ht]*et[ht];return zt}function ss(Ze,et){return[Ze[1]*et[2]-Ze[2]*et[1],Ze[2]*et[0]-Ze[0]*et[2],Ze[0]*et[1]-Ze[1]*et[0]]}function il(Ze){return[L(Ze[1],Ze[0])*M,C(r(-1,u(1,Ze[2])))*M]}function oo(Ze){var et=Ze[0]*w,ht=Ze[1]*w,yt=T(ht);return[yt*T(et),yt*l(et),l(ht)]}function Hl(){}function wf(Ze){if((ht=Ze.length)<4)return!1;for(var et=0,ht,yt=Ze[ht-1][1]*Ze[0][0]-Ze[ht-1][0]*Ze[0][1];++et<ht;)yt+=Ze[et-1][1]*Ze[et][0]-Ze[et-1][0]*Ze[et][1];return yt<=0}function pu(Ze,et){for(var ht=et[0],yt=et[1],zt=!1,It=0,Ut=Ze.length,dr=Ut-1;It<Ut;dr=It++){var br=Ze[It],sr=br[0],Er=br[1],Fr=Ze[dr],Qr=Fr[0],on=Fr[1];Er>yt^on>yt&&ht<(Qr-sr)*(yt-Er)/(on-Er)+sr&&(zt=!zt)}return zt}function Tf(Ze,et){var ht=et.stream,yt;if(!ht)throw new Error("invalid projection");switch(Ze&&Ze.type){case"Feature":yt=gu;break;case"FeatureCollection":yt=Af;break;default:yt=Us;break}return yt(Ze,ht)}function Af(Ze,et){return{type:"FeatureCollection",features:Ze.features.map(function(ht){return gu(ht,et)})}}function gu(Ze,et){return{type:"Feature",id:Ze.id,properties:Ze.properties,geometry:Us(Ze.geometry,et)}}function Ju(Ze,et){return{type:"GeometryCollection",geometries:Ze.geometries.map(function(ht){return Us(ht,et)})}}function Us(Ze,et){if(!Ze)return null;if(Ze.type==="GeometryCollection")return Ju(Ze,et);var ht;switch(Ze.type){case"Point":ht=Sl;break;case"MultiPoint":ht=Sl;break;case"LineString":ht=ol;break;case"MultiLineString":ht=ol;break;case"Polygon":ht=Gl;break;case"MultiPolygon":ht=Gl;break;case"Sphere":ht=Gl;break;default:return null}return(0,Na.Z)(Ze,et(ht)),ht.result()}var so=[],To=[],Sl={point:function(Ze,et){so.push([Ze,et])},result:function(){var Ze=so.length?so.length<2?{type:"Point",coordinates:so[0]}:{type:"MultiPoint",coordinates:so}:null;return so=[],Ze}},ol={lineStart:Hl,point:function(Ze,et){so.push([Ze,et])},lineEnd:function(){so.length&&(To.push(so),so=[])},result:function(){var Ze=To.length?To.length<2?{type:"LineString",coordinates:To[0]}:{type:"MultiLineString",coordinates:To}:null;return To=[],Ze}},Gl={polygonStart:Hl,lineStart:Hl,point:function(Ze,et){so.push([Ze,et])},lineEnd:function(){var Ze=so.length;if(Ze){do so.push(so[0].slice());while(++Ze<4);To.push(so),so=[]}},polygonEnd:Hl,result:function(){if(!To.length)return null;var Ze=[],et=[];return To.forEach(function(ht){wf(ht)?Ze.push([ht]):et.push(ht)}),et.forEach(function(ht){var yt=ht[0];Ze.some(function(zt){if(pu(zt[0],yt))return zt.push(ht),!0})||Ze.push([ht])}),To=[],Ze.length?Ze.length>1?{type:"MultiPolygon",coordinates:Ze}:{type:"Polygon",coordinates:Ze[0]}:null}};function yu(Ze){var et=Ze(o,0)[0]-Ze(-o,0)[0];function ht(yt,zt){var It=P(yt)<o,Ut=Ze(It?yt:yt>0?yt-h:yt+h,zt),dr=(Ut[0]-Ut[1])*S,br=(Ut[0]+Ut[1])*S;if(It)return[dr,br];var sr=et*S,Er=dr>0^br>0?-1:1;return[Er*dr-f(br)*sr,Er*br-f(dr)*sr]}return Ze.invert&&(ht.invert=function(yt,zt){var It=(yt+zt)*S,Ut=(zt-yt)*S,dr=P(It)<.5*et&&P(Ut)<.5*et;if(!dr){var br=et*S,sr=It>0^Ut>0?-1:1,Er=-sr*yt+(Ut>0?1:-1)*br,Fr=-sr*zt+(It>0?1:-1)*br;It=(-Er-Fr)*S,Ut=(Er-Fr)*S}var Qr=Ze.invert(It,Ut);return dr||(Qr[0]+=It>0?h:-h),Qr}),(0,g.Z)(ht).rotate([-90,-90,45]).clipAngle(179.999)}function Qu(){return yu(pn).scale(176.423)}function sl(){return yu(Pr).scale(111.48)}function Sf(Ze,et){if(!(0<=(et=+et)&&et<=20))throw new Error("invalid digits");function ht(sr){var Er=sr.length,Fr=2,Qr=new Array(Er);for(Qr[0]=+sr[0].toFixed(et),Qr[1]=+sr[1].toFixed(et);Fr<Er;)Qr[Fr]=sr[Fr],++Fr;return Qr}function yt(sr){return sr.map(ht)}function zt(sr){for(var Er=ht(sr[0]),Fr=[Er],Qr=1;Qr<sr.length;Qr++){var on=ht(sr[Qr]);(on.length>2||on[0]!=Er[0]||on[1]!=Er[1])&&(Fr.push(on),Er=on)}return Fr.length===1&&sr.length>1&&Fr.push(ht(sr[sr.length-1])),Fr}function It(sr){return sr.map(zt)}function Ut(sr){if(sr==null)return sr;var Er;switch(sr.type){case"GeometryCollection":Er={type:"GeometryCollection",geometries:sr.geometries.map(Ut)};break;case"Point":Er={type:"Point",coordinates:ht(sr.coordinates)};break;case"MultiPoint":Er={type:sr.type,coordinates:yt(sr.coordinates)};break;case"LineString":Er={type:sr.type,coordinates:zt(sr.coordinates)};break;case"MultiLineString":case"Polygon":Er={type:sr.type,coordinates:It(sr.coordinates)};break;case"MultiPolygon":Er={type:"MultiPolygon",coordinates:sr.coordinates.map(It)};break;default:return sr}return sr.bbox!=null&&(Er.bbox=sr.bbox),Er}function dr(sr){var Er={type:"Feature",properties:sr.properties,geometry:Ut(sr.geometry)};return sr.id!=null&&(Er.id=sr.id),sr.bbox!=null&&(Er.bbox=sr.bbox),Er}if(Ze!=null)switch(Ze.type){case"Feature":return dr(Ze);case"FeatureCollection":{var br={type:"FeatureCollection",features:Ze.features.map(dr)};return Ze.bbox!=null&&(br.bbox=Ze.bbox),br}default:return Ut(Ze)}return Ze}function $u(Ze){var et=l(Ze);function ht(yt,zt){var It=et?x(yt*et/2)/et:yt/2;if(!zt)return[2*It,-Ze];var Ut=2*a(It*l(zt)),dr=1/x(zt);return[l(Ut)*dr,zt+(1-T(Ut))*dr-Ze]}return ht.invert=function(yt,zt){if(P(zt+=Ze)<c)return[et?2*a(et*yt/2)/et:yt,0];var It=yt*yt+zt*zt,Ut=0,dr=10,br;do{var sr=x(Ut),Er=1/T(Ut),Fr=It-2*zt*Ut+Ut*Ut;Ut-=br=(sr*Fr+2*(Ut-zt))/(2+Fr*Er*Er+2*(Ut-zt)*sr)}while(P(br)>c&&--dr>0);var Qr=yt*(sr=x(Ut)),on=x(P(zt)<P(Ut+1/sr)?C(Qr)*.5:y(Qr)*.5+h/4)/l(Ut);return[et?2*a(et*on)/et:2*on,Ut]},ht}function Vs(){return Qe($u).scale(131.215)}var Xi=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Xi.forEach(function(Ze){Ze[1]*=1.0144});function Ao(Ze,et){var ht=u(18,P(et)*36/h),yt=d(ht),zt=ht-yt,It=(Fr=Xi[yt])[0],Ut=Fr[1],dr=(Fr=Xi[++yt])[0],br=Fr[1],sr=(Fr=Xi[u(19,++yt)])[0],Er=Fr[1],Fr;return[Ze*(dr+zt*(sr-It)/2+zt*zt*(sr-2*dr+It)/2),(et>0?o:-o)*(br+zt*(Er-Ut)/2+zt*zt*(Er-2*br+Ut)/2)]}Ao.invert=function(Ze,et){var ht=et/o,yt=ht*90,zt=u(18,P(yt/5)),It=r(0,d(zt));do{var Ut=Xi[It][1],dr=Xi[It+1][1],br=Xi[u(19,It+2)][1],sr=br-Ut,Er=br-2*dr+Ut,Fr=2*(P(ht)-dr)/sr,Qr=Er/sr,on=Fr*(1-Qr*Fr*(1-2*Qr*Fr));if(on>=0||It===1){yt=(et>=0?5:-5)*(on+zt);var Sn=50,Cn;do zt=u(18,P(yt)/5),It=d(zt),on=zt-It,Ut=Xi[It][1],dr=Xi[It+1][1],br=Xi[u(19,It+2)][1],yt-=(Cn=(et>=0?o:-o)*(dr+on*(br-Ut)/2+on*on*(br-2*dr+Ut)/2)-et)*M;while(P(Cn)>b&&--Sn>0);break}}while(--It>=0);var Vn=Xi[It][0],Sa=Xi[It+1][0],Da=Xi[u(19,It+2)][0];return[Ze/(Sa+on*(Da-Vn)/2+on*on*(Da-2*Sa+Vn)/2),yt*w]};function qu(){return(0,g.Z)(Ao).scale(152.63)}function ef(Ze){function et(ht,yt){var zt=T(yt),It=(Ze-1)/(Ze-zt*T(ht));return[It*zt*l(ht),It*l(yt)]}return et.invert=function(ht,yt){var zt=ht*ht+yt*yt,It=_(zt),Ut=(Ze-_(1-zt*(Ze+1)/(Ze-1)))/((Ze-1)/It+It/(Ze-1));return[L(ht*Ut,It*_(1-Ut*Ut)),It?C(yt*Ut/It):0]},et}function ll(Ze,et){var ht=ef(Ze);if(!et)return ht;var yt=T(et),zt=l(et);function It(Ut,dr){var br=ht(Ut,dr),sr=br[1],Er=sr*zt/(Ze-1)+yt;return[br[0]*yt/Er,sr/Er]}return It.invert=function(Ut,dr){var br=(Ze-1)/(Ze-1-dr*zt);return ht.invert(br*Ut,br*dr*yt)},It}function mu(){var Ze=2,et=0,ht=(0,g.r)(ll),yt=ht(Ze,et);return yt.distance=function(zt){return arguments.length?ht(Ze=+zt,et):Ze},yt.tilt=function(zt){return arguments.length?ht(Ze,et=zt*w):et*M},yt.scale(432.147).clipAngle(y(1/Ze)*M-1e-6)}var qo=1e-4,xu=1e4,ws=-180,Ts=ws+qo,tf=180,Ml=tf-qo,Si=-90,ul=Si+qo,bu=90,wu=bu-qo;function Hs(Ze){return Ze.length>0}function jf(Ze){return Math.floor(Ze*xu)/xu}function Wl(Ze){return Ze===Si||Ze===bu?[0,Ze]:[ws,jf(Ze)]}function El(Ze){var et=Ze[0],ht=Ze[1],yt=!1;return et<=Ts?(et=ws,yt=!0):et>=Ml&&(et=tf,yt=!0),ht<=ul?(ht=Si,yt=!0):ht>=wu&&(ht=bu,yt=!0),yt?[et,ht]:Ze}function Yl(Ze){return Ze.map(El)}function Tu(Ze,et,ht){for(var yt=0,zt=Ze.length;yt<zt;++yt){var It=Ze[yt].slice();ht.push({index:-1,polygon:et,ring:It});for(var Ut=0,dr=It.length;Ut<dr;++Ut){var br=It[Ut],sr=br[0],Er=br[1];if(sr<=Ts||sr>=Ml||Er<=ul||Er>=wu){It[Ut]=El(br);for(var Fr=Ut+1;Fr<dr;++Fr){var Qr=It[Fr],on=Qr[0],Sn=Qr[1];if(on>Ts&&on<Ml&&Sn>ul&&Sn<wu)break}if(Fr===Ut+1)continue;if(Ut){var Cn={index:-1,polygon:et,ring:It.slice(0,Ut+1)};Cn.ring[Cn.ring.length-1]=Wl(Er),ht[ht.length-1]=Cn}else ht.pop();if(Fr>=dr)break;ht.push({index:-1,polygon:et,ring:It=It.slice(Fr-1)}),It[0]=Wl(It[0][1]),Ut=-1,dr=It.length}}}}function es(Ze){var et,ht=Ze.length,yt={},zt={},It,Ut,dr,br,sr;for(et=0;et<ht;++et){if(It=Ze[et],Ut=It.ring[0],br=It.ring[It.ring.length-1],Ut[0]===br[0]&&Ut[1]===br[1]){It.polygon.push(It.ring),Ze[et]=null;continue}It.index=et,yt[Ut]=zt[br]=It}for(et=0;et<ht;++et)if(It=Ze[et],It){if(Ut=It.ring[0],br=It.ring[It.ring.length-1],dr=zt[Ut],sr=yt[br],delete yt[Ut],delete zt[br],Ut[0]===br[0]&&Ut[1]===br[1]){It.polygon.push(It.ring);continue}dr?(delete zt[Ut],delete yt[dr.ring[0]],dr.ring.pop(),Ze[dr.index]=null,It={index:-1,polygon:dr.polygon,ring:dr.ring.concat(It.ring)},dr===sr?It.polygon.push(It.ring):(It.index=ht++,Ze.push(yt[It.ring[0]]=zt[It.ring[It.ring.length-1]]=It))):sr?(delete yt[br],delete zt[sr.ring[sr.ring.length-1]],It.ring.pop(),It={index:ht++,polygon:sr.polygon,ring:It.ring.concat(sr.ring)},Ze[sr.index]=null,Ze.push(yt[It.ring[0]]=zt[It.ring[It.ring.length-1]]=It)):(It.ring.push(It.ring[0]),It.polygon.push(It.ring))}}function As(Ze){var et={type:"Feature",geometry:Gs(Ze.geometry)};return Ze.id!=null&&(et.id=Ze.id),Ze.bbox!=null&&(et.bbox=Ze.bbox),Ze.properties!=null&&(et.properties=Ze.properties),et}function Gs(Ze){if(Ze==null)return Ze;var et,ht,yt,zt;switch(Ze.type){case"GeometryCollection":et={type:"GeometryCollection",geometries:Ze.geometries.map(Gs)};break;case"Point":et={type:"Point",coordinates:El(Ze.coordinates)};break;case"MultiPoint":case"LineString":et={type:Ze.type,coordinates:Yl(Ze.coordinates)};break;case"MultiLineString":et={type:"MultiLineString",coordinates:Ze.coordinates.map(Yl)};break;case"Polygon":{var It=[];Tu(Ze.coordinates,It,ht=[]),es(ht),et={type:"Polygon",coordinates:It};break}case"MultiPolygon":{ht=[],yt=-1,zt=Ze.coordinates.length;for(var Ut=new Array(zt);++yt<zt;)Tu(Ze.coordinates[yt],Ut[yt]=[],ht);es(ht),et={type:"MultiPolygon",coordinates:Ut.filter(Hs)};break}default:return Ze}return Ze.bbox!=null&&(et.bbox=Ze.bbox),et}function fl(Ze){if(Ze==null)return Ze;switch(Ze.type){case"Feature":return As(Ze);case"FeatureCollection":{var et={type:"FeatureCollection",features:Ze.features.map(As)};return Ze.bbox!=null&&(et.bbox=Ze.bbox),et}default:return Gs(Ze)}}function Oo(Ze,et){var ht=x(et/2),yt=l(p*ht);return[Ze*(.74482-.34588*yt*yt),1.70711*ht]}Oo.invert=function(Ze,et){var ht=et/1.70711,yt=l(p*ht);return[Ze/(.74482-.34588*yt*yt),2*a(ht)]};function No(){return(0,g.Z)(Oo).scale(146.153)}function lo(Ze,et,ht){var yt=(0,Ul.Z)(et,ht),zt=yt(.5),It=(0,Le.Z)([-zt[0],-zt[1]])(et),Ut=yt.distance/2,dr=-C(l(It[1]*w)/l(Ut)),br=[-zt[0],-zt[1],-(It[0]>0?h-dr:dr)*M],sr=(0,g.Z)(Ze(Ut)).rotate(br),Er=(0,Le.Z)(br),Fr=sr.center;return delete sr.rotate,sr.center=function(Qr){return arguments.length?Fr(Er(Qr)):Er.invert(Fr())},sr.clipAngle(90)}function cl(Ze){var et=T(Ze);function ht(yt,zt){var It=(0,ji.M)(yt,zt);return It[0]*=et,It}return ht.invert=function(yt,zt){return ji.M.invert(yt/et,zt)},ht}function Cl(){return Ll([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Ll(Ze,et){return lo(cl,Ze,et)}function Mf(Ze){if(!(Ze*=2))return ie.N;var et=-Ze/2,ht=-et,yt=Ze*Ze,zt=x(ht),It=.5/l(ht);function Ut(dr,br){var sr=y(T(br)*T(dr-et)),Er=y(T(br)*T(dr-ht)),Fr=br<0?-1:1;return sr*=sr,Er*=Er,[(sr-Er)/(2*Ze),Fr*_(4*yt*Er-(yt-sr+Er)*(yt-sr+Er))/(2*Ze)]}return Ut.invert=function(dr,br){var sr=br*br,Er=T(_(sr+(Qr=dr+et)*Qr)),Fr=T(_(sr+(Qr=dr+ht)*Qr)),Qr,on;return[L(on=Er-Fr,Qr=(Er+Fr)*zt),(br<0?-1:1)*y(_(Qr*Qr+on*on)*It)]},Ut}function So(){return rf([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function rf(Ze,et){return lo(Mf,Ze,et)}function Ws(Ze,et){if(P(et)<c)return[Ze,0];var ht=P(et/o),yt=C(ht);if(P(Ze)<c||P(P(et)-o)<c)return[0,f(et)*h*x(yt/2)];var zt=T(yt),It=P(h/Ze-Ze/h)/2,Ut=It*It,dr=zt/(ht+zt-1),br=dr*(2/ht-1),sr=br*br,Er=sr+Ut,Fr=dr-sr,Qr=Ut+dr;return[f(Ze)*h*(It*Fr+_(Ut*Fr*Fr-Er*(dr*dr-sr)))/Er,f(et)*h*(br*Qr-It*_((Ut+1)*Er-Qr*Qr))/Er]}Ws.invert=function(Ze,et){if(P(et)<c)return[Ze,0];if(P(Ze)<c)return[0,o*l(2*a(et/h))];var ht=(Ze/=h)*Ze,yt=(et/=h)*et,zt=ht+yt,It=zt*zt,Ut=-P(et)*(1+zt),dr=Ut-2*yt+ht,br=-2*Ut+1+2*yt+It,sr=yt/br+(2*dr*dr*dr/(br*br*br)-9*Ut*dr/(br*br))/27,Er=(Ut-dr*dr/(3*br))/br,Fr=2*_(-Er/3),Qr=y(3*sr/(Er*Fr))/3;return[h*(zt-1+_(1+2*(ht-yt)+It))/(2*Ze),f(et)*h*(-Fr*T(Qr+h/3)-dr/(3*br))]};function Zl(){return(0,g.Z)(Ws).scale(79.4183)}function Ss(Ze,et){if(P(et)<c)return[Ze,0];var ht=P(et/o),yt=C(ht);if(P(Ze)<c||P(P(et)-o)<c)return[0,f(et)*h*x(yt/2)];var zt=T(yt),It=P(h/Ze-Ze/h)/2,Ut=It*It,dr=zt*(_(1+Ut)-It*zt)/(1+Ut*ht*ht);return[f(Ze)*h*dr,f(et)*h*_(1-dr*(2*It+dr))]}Ss.invert=function(Ze,et){if(!Ze)return[0,o*l(2*a(et/h))];var ht=P(Ze/h),yt=(1-ht*ht-(et/=h)*et)/(2*ht),zt=yt*yt,It=_(zt+1);return[f(Ze)*h*(It-yt),f(et)*o*l(2*L(_((1-2*yt*ht)*(yt+It)-ht),_(It+yt+ht)))]};function nf(){return(0,g.Z)(Ss).scale(79.4183)}function Uo(Ze,et){if(P(et)<c)return[Ze,0];var ht=et/o,yt=C(ht);if(P(Ze)<c||P(P(et)-o)<c)return[0,h*x(yt/2)];var zt=(h/Ze-Ze/h)/2,It=ht/(1+T(yt));return[h*(f(Ze)*_(zt*zt+1-It*It)-zt),h*It]}Uo.invert=function(Ze,et){if(!et)return[Ze,0];var ht=et/h,yt=(h*h*(1-ht*ht)-Ze*Ze)/(2*h*Ze);return[Ze?h*(f(Ze)*_(yt*yt+1)-yt):0,o*l(2*a(ht))]};function ts(){return(0,g.Z)(Uo).scale(79.4183)}function Gi(Ze,et){if(!et)return[Ze,0];var ht=P(et);if(!Ze||ht===o)return[0,et];var yt=ht/o,zt=yt*yt,It=(8*yt-zt*(zt+2)-5)/(2*zt*(yt-1)),Ut=It*It,dr=yt*It,br=zt+Ut+2*dr,sr=yt+3*It,Er=Ze/o,Fr=Er+1/Er,Qr=f(P(Ze)-o)*_(Fr*Fr-4),on=Qr*Qr,Sn=br*(zt+Ut*on-1)+(1-zt)*(zt*(sr*sr+4*Ut)+12*dr*Ut+4*Ut*Ut),Cn=(Qr*(br+Ut-1)+2*_(Sn))/(4*br+on);return[f(Ze)*o*Cn,f(et)*o*_(1+Qr*P(Cn)-Cn*Cn)]}Gi.invert=function(Ze,et){var ht;if(!Ze||!et)return[Ze,et];et/=h;var yt=f(Ze)*Ze/o,zt=(yt*yt-1+4*et*et)/P(yt),It=zt*zt,Ut=2*et,dr=50;do{var br=Ut*Ut,sr=(8*Ut-br*(br+2)-5)/(2*br*(Ut-1)),Er=(3*Ut-br*Ut-10)/(2*br*Ut),Fr=sr*sr,Qr=Ut*sr,on=Ut+sr,Sn=on*on,Cn=Ut+3*sr,Vn=Sn*(br+Fr*It-1)+(1-br)*(br*(Cn*Cn+4*Fr)+Fr*(12*Qr+4*Fr)),Sa=-2*on*(4*Qr*Fr+(1-4*br+3*br*br)*(1+Er)+Fr*(-6+14*br-It+(-8+8*br-2*It)*Er)+Qr*(-8+12*br+(-10+10*br-It)*Er)),Da=_(Vn),Ca=zt*(Sn+Fr-1)+2*Da-yt*(4*Sn+It),Va=zt*(2*sr*Er+2*on*(1+Er))+Sa/Da-8*on*(zt*(-1+Fr+Sn)+2*Da)*(1+Er)/(It+4*Sn);Ut-=ht=Ca/Va}while(ht>c&&--dr>0);return[f(Ze)*(_(zt*zt+4)+zt)*h/4,o*Ut]};function Ef(){return(0,g.Z)(Gi).scale(127.16)}function Xl(Ze,et,ht,yt,zt){function It(Ut,dr){var br=ht*l(yt*dr),sr=_(1-br*br),Er=_(2/(1+sr*T(Ut*=zt)));return[Ze*sr*Er*l(Ut),et*br*Er]}return It.invert=function(Ut,dr){var br=Ut/Ze,sr=dr/et,Er=_(br*br+sr*sr),Fr=2*C(Er/2);return[L(Ut*x(Fr),Ze*Er)/zt,Er&&C(dr*l(Fr)/(et*ht*Er))/yt]},It}function ls(Ze,et,ht,yt){var zt=h/3;Ze=r(Ze,c),et=r(et,c),Ze=u(Ze,o),et=u(et,h-c),ht=r(ht,0),ht=u(ht,100-c),yt=r(yt,c);var It=ht/100+1,Ut=yt/100,dr=y(It*T(zt))/zt,br=l(Ze)/l(dr*o),sr=et/h,Er=_(Ut*l(Ze/2)/l(et/2)),Fr=Er/_(sr*br*dr),Qr=1/(Er*_(sr*br*dr));return Xl(Fr,Qr,br,dr,sr)}function jl(){var Ze=65*w,et=60*w,ht=20,yt=200,zt=(0,g.r)(ls),It=zt(Ze,et,ht,yt);return It.poleline=function(Ut){return arguments.length?zt(Ze=+Ut*w,et,ht,yt):Ze*M},It.parallels=function(Ut){return arguments.length?zt(Ze,et=+Ut*w,ht,yt):et*M},It.inflation=function(Ut){return arguments.length?zt(Ze,et,ht=+Ut,yt):ht},It.ratio=function(Ut){return arguments.length?zt(Ze,et,ht,yt=+Ut):yt},It.scale(163.775)}function Ys(){return jl().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var Au=4*h+3*_(3),Cf=2*_(2*h*_(3)/Au),af=ye(Cf*_(3)/h,Cf,Au/6);function of(){return(0,g.Z)(af).scale(176.84)}function Ms(Ze,et){return[Ze*_(1-3*et*et/(h*h)),et]}Ms.invert=function(Ze,et){return[Ze/_(1-3*et*et/(h*h)),et]};function Su(){return(0,g.Z)(Ms).scale(152.63)}function Kl(Ze,et){var ht=T(et),yt=T(Ze)*ht,zt=1-yt,It=T(Ze=L(l(Ze)*ht,-l(et))),Ut=l(Ze);return ht=_(1-yt*yt),[Ut*ht-It*zt,-It*ht-Ut*zt]}Kl.invert=function(Ze,et){var ht=(Ze*Ze+et*et)/-2,yt=_(-ht*(2+ht)),zt=et*ht+Ze*yt,It=Ze*ht-et*yt,Ut=_(It*It+zt*zt);return[L(yt*zt,Ut*(1+ht)),Ut?-C(yt*It/Ut):0]};function Lf(){return(0,g.Z)(Kl).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function Jl(Ze,et){var ht=G(Ze,et);return[(ht[0]+Ze/o)/2,(ht[1]+et)/2]}Jl.invert=function(Ze,et){var ht=Ze,yt=et,zt=25;do{var It=T(yt),Ut=l(yt),dr=l(2*yt),br=Ut*Ut,sr=It*It,Er=l(ht),Fr=T(ht/2),Qr=l(ht/2),on=Qr*Qr,Sn=1-sr*Fr*Fr,Cn=Sn?y(It*Fr)*_(Vn=1/Sn):Vn=0,Vn,Sa=.5*(2*Cn*It*Qr+ht/o)-Ze,Da=.5*(Cn*Ut+yt)-et,Ca=.5*Vn*(sr*on+Cn*It*Fr*br)+.5/o,Va=Vn*(Er*dr/4-Cn*Ut*Qr),Wa=.125*Vn*(dr*Qr-Cn*Ut*sr*Er),pi=.5*Vn*(br*Fr+Cn*on*It)+.5,Oi=Va*Wa-pi*Ca,Mi=(Da*Va-Sa*pi)/Oi,le=(Sa*Wa-Da*Ca)/Oi;ht-=Mi,yt-=le}while((P(Mi)>c||P(le)>c)&&--zt>0);return[ht,yt]};function Pf(){return(0,g.Z)(Jl).scale(158.837)}},33940:function(H,U,e){e.d(U,{Z:function(){return g}});function g(){return new P}function P(){this.reset()}P.prototype={constructor:P,reset:function(){this.s=this.t=0},add:function(T){L(a,T,this.t),L(this,a.s,this.s),this.s?this.t+=a.t:this.s=a.t},valueOf:function(){return this.s}};var a=new P;function L(T,v,d){var t=T.s=v+d,r=t-v,u=t-r;T.t=v-u+(d-r)}},97860:function(H,U,e){e.d(U,{L9:function(){return T},ZP:function(){return b},gL:function(){return s}});var g=e(33940),P=e(39695),a=e(73182),L=e(72736),T=(0,g.Z)(),v=(0,g.Z)(),d,t,r,u,n,s={point:a.Z,lineStart:a.Z,lineEnd:a.Z,polygonStart:function(){T.reset(),s.lineStart=f,s.lineEnd=l},polygonEnd:function(){var h=+T;v.add(h<0?P.BZ+h:h),this.lineStart=this.lineEnd=this.point=a.Z},sphere:function(){v.add(P.BZ)}};function f(){s.point=x}function l(){c(d,t)}function x(h,o){s.point=c,d=h,t=o,h*=P.uR,o*=P.uR,r=h,u=(0,P.mC)(o=o/2+P.pu),n=(0,P.O$)(o)}function c(h,o){h*=P.uR,o*=P.uR,o=o/2+P.pu;var p=h-r,S=p>=0?1:-1,A=S*p,E=(0,P.mC)(o),m=(0,P.O$)(o),M=n*m,w=u*E+M*(0,P.mC)(A),i=M*S*(0,P.O$)(A);T.add((0,P.fv)(i,w)),r=h,u=E,n=m}function b(h){return v.reset(),(0,L.Z)(h,s),v*2}},77338:function(H,U,e){e.d(U,{Z:function(){return C}});var g=e(33940),P=e(97860),a=e(7620),L=e(39695),T=e(72736),v,d,t,r,u,n,s,f,l=(0,g.Z)(),x,c,b={point:h,lineStart:p,lineEnd:S,polygonStart:function(){b.point=A,b.lineStart=E,b.lineEnd=m,l.reset(),P.gL.polygonStart()},polygonEnd:function(){P.gL.polygonEnd(),b.point=h,b.lineStart=p,b.lineEnd=S,P.L9<0?(v=-(t=180),d=-(r=90)):l>L.Ho?r=90:l<-L.Ho&&(d=-90),c[0]=v,c[1]=t},sphere:function(){v=-(t=180),d=-(r=90)}};function h(y,_){x.push(c=[v=y,t=y]),_<d&&(d=_),_>r&&(r=_)}function o(y,_){var I=(0,a.Og)([y*L.uR,_*L.uR]);if(f){var N=(0,a.T5)(f,I),k=[N[1],-N[0],0],O=(0,a.T5)(k,N);(0,a.iJ)(O),O=(0,a.Y1)(O);var z=y-u,F=z>0?1:-1,B=O[0]*L.RW*F,G,Q=(0,L.Wn)(z)>180;Q^(F*u<B&&B<F*y)?(G=O[1]*L.RW,G>r&&(r=G)):(B=(B+360)%360-180,Q^(F*u<B&&B<F*y)?(G=-O[1]*L.RW,G<d&&(d=G)):(_<d&&(d=_),_>r&&(r=_))),Q?y<u?M(v,y)>M(v,t)&&(t=y):M(y,t)>M(v,t)&&(v=y):t>=v?(y<v&&(v=y),y>t&&(t=y)):y>u?M(v,y)>M(v,t)&&(t=y):M(y,t)>M(v,t)&&(v=y)}else x.push(c=[v=y,t=y]);_<d&&(d=_),_>r&&(r=_),f=I,u=y}function p(){b.point=o}function S(){c[0]=v,c[1]=t,b.point=h,f=null}function A(y,_){if(f){var I=y-u;l.add((0,L.Wn)(I)>180?I+(I>0?360:-360):I)}else n=y,s=_;P.gL.point(y,_),o(y,_)}function E(){P.gL.lineStart()}function m(){A(n,s),P.gL.lineEnd(),(0,L.Wn)(l)>L.Ho&&(v=-(t=180)),c[0]=v,c[1]=t,f=null}function M(y,_){return(_-=y)<0?_+360:_}function w(y,_){return y[0]-_[0]}function i(y,_){return y[0]<=y[1]?y[0]<=_&&_<=y[1]:_<y[0]||y[1]<_}function C(y){var _,I,N,k,O,z,F;if(r=t=-(v=d=1/0),x=[],(0,T.Z)(y,b),I=x.length){for(x.sort(w),_=1,N=x[0],O=[N];_<I;++_)k=x[_],i(N,k[0])||i(N,k[1])?(M(N[0],k[1])>M(N[0],N[1])&&(N[1]=k[1]),M(k[0],N[1])>M(N[0],N[1])&&(N[0]=k[0])):O.push(N=k);for(z=-1/0,I=O.length-1,_=0,N=O[I];_<=I;N=k,++_)k=O[_],(F=M(N[1],k[0]))>z&&(z=F,v=k[0],t=N[1])}return x=c=null,v===1/0||d===1/0?[[NaN,NaN],[NaN,NaN]]:[[v,d],[t,r]]}},7620:function(H,U,e){e.d(U,{Og:function(){return a},T:function(){return d},T5:function(){return T},Y1:function(){return P},iJ:function(){return t},j9:function(){return L},s0:function(){return v}});var g=e(39695);function P(r){return[(0,g.fv)(r[1],r[0]),(0,g.ZR)(r[2])]}function a(r){var u=r[0],n=r[1],s=(0,g.mC)(n);return[s*(0,g.mC)(u),s*(0,g.O$)(u),(0,g.O$)(n)]}function L(r,u){return r[0]*u[0]+r[1]*u[1]+r[2]*u[2]}function T(r,u){return[r[1]*u[2]-r[2]*u[1],r[2]*u[0]-r[0]*u[2],r[0]*u[1]-r[1]*u[0]]}function v(r,u){r[0]+=u[0],r[1]+=u[1],r[2]+=u[2]}function d(r,u){return[r[0]*u,r[1]*u,r[2]*u]}function t(r){var u=(0,g._b)(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);r[0]/=u,r[1]/=u,r[2]/=u}},66624:function(H,U,e){e.d(U,{Z:function(){return I}});var g=e(39695),P=e(73182),a=e(72736),L,T,v,d,t,r,u,n,s,f,l,x,c,b,h,o,p={sphere:P.Z,point:S,lineStart:E,lineEnd:w,polygonStart:function(){p.lineStart=i,p.lineEnd=C},polygonEnd:function(){p.lineStart=E,p.lineEnd=w}};function S(N,k){N*=g.uR,k*=g.uR;var O=(0,g.mC)(k);A(O*(0,g.mC)(N),O*(0,g.O$)(N),(0,g.O$)(k))}function A(N,k,O){++L,v+=(N-v)/L,d+=(k-d)/L,t+=(O-t)/L}function E(){p.point=m}function m(N,k){N*=g.uR,k*=g.uR;var O=(0,g.mC)(k);b=O*(0,g.mC)(N),h=O*(0,g.O$)(N),o=(0,g.O$)(k),p.point=M,A(b,h,o)}function M(N,k){N*=g.uR,k*=g.uR;var O=(0,g.mC)(k),z=O*(0,g.mC)(N),F=O*(0,g.O$)(N),B=(0,g.O$)(k),G=(0,g.fv)((0,g._b)((G=h*B-o*F)*G+(G=o*z-b*B)*G+(G=b*F-h*z)*G),b*z+h*F+o*B);T+=G,r+=G*(b+(b=z)),u+=G*(h+(h=F)),n+=G*(o+(o=B)),A(b,h,o)}function w(){p.point=S}function i(){p.point=y}function C(){_(x,c),p.point=S}function y(N,k){x=N,c=k,N*=g.uR,k*=g.uR,p.point=_;var O=(0,g.mC)(k);b=O*(0,g.mC)(N),h=O*(0,g.O$)(N),o=(0,g.O$)(k),A(b,h,o)}function _(N,k){N*=g.uR,k*=g.uR;var O=(0,g.mC)(k),z=O*(0,g.mC)(N),F=O*(0,g.O$)(N),B=(0,g.O$)(k),G=h*B-o*F,Q=o*z-b*B,ee=b*F-h*z,ae=(0,g._b)(G*G+Q*Q+ee*ee),fe=(0,g.ZR)(ae),K=ae&&-fe/ae;s+=K*G,f+=K*Q,l+=K*ee,T+=fe,r+=fe*(b+(b=z)),u+=fe*(h+(h=F)),n+=fe*(o+(o=B)),A(b,h,o)}function I(N){L=T=v=d=t=r=u=n=s=f=l=0,(0,a.Z)(N,p);var k=s,O=f,z=l,F=k*k+O*O+z*z;return F<g.aW&&(k=r,O=u,z=n,T<g.Ho&&(k=v,O=d,z=t),F=k*k+O*O+z*z,F<g.aW)?[NaN,NaN]:[(0,g.fv)(O,k)*g.RW,(0,g.ZR)(z/(0,g._b)(F))*g.RW]}},7613:function(H,U,e){e.d(U,{m:function(){return T},Z:function(){return d}});var g=e(7620);function P(t){return function(){return t}}var a=e(39695),L=e(49386);function T(t,r,u,n,s,f){if(u){var l=(0,a.mC)(r),x=(0,a.O$)(r),c=n*u;s==null?(s=r+n*a.BZ,f=r-c/2):(s=v(l,s),f=v(l,f),(n>0?s<f:s>f)&&(s+=n*a.BZ));for(var b,h=s;n>0?h>f:h<f;h-=c)b=(0,g.Y1)([l,-x*(0,a.mC)(h),-x*(0,a.O$)(h)]),t.point(b[0],b[1])}}function v(t,r){r=(0,g.Og)(r),r[0]-=t,(0,g.iJ)(r);var u=(0,a.Kh)(-r[1]);return((-r[2]<0?-u:u)+a.BZ-a.Ho)%a.BZ}function d(){var t=P([0,0]),r=P(90),u=P(6),n,s,f={point:l};function l(c,b){n.push(c=s(c,b)),c[0]*=a.RW,c[1]*=a.RW}function x(){var c=t.apply(this,arguments),b=r.apply(this,arguments)*a.uR,h=u.apply(this,arguments)*a.uR;return n=[],s=(0,L.I)(-c[0]*a.uR,-c[1]*a.uR,0).invert,T(f,b,h,1),c={type:"Polygon",coordinates:[n]},n=s=null,c}return x.center=function(c){return arguments.length?(t=typeof c=="function"?c:P([+c[0],+c[1]]),x):t},x.radius=function(c){return arguments.length?(r=typeof c=="function"?c:P(+c),x):r},x.precision=function(c){return arguments.length?(u=typeof c=="function"?c:P(+c),x):u},x}},87070:function(H,U,e){var g=e(97023),P=e(39695);U.Z=(0,g.Z)(function(){return!0},a,T,[-P.pi,-P.ou]);function a(v){var d=NaN,t=NaN,r=NaN,u;return{lineStart:function(){v.lineStart(),u=1},point:function(n,s){var f=n>0?P.pi:-P.pi,l=(0,P.Wn)(n-d);(0,P.Wn)(l-P.pi)<P.Ho?(v.point(d,t=(t+s)/2>0?P.ou:-P.ou),v.point(r,t),v.lineEnd(),v.lineStart(),v.point(f,t),v.point(n,t),u=0):r!==f&&l>=P.pi&&((0,P.Wn)(d-r)<P.Ho&&(d-=r*P.Ho),(0,P.Wn)(n-f)<P.Ho&&(n-=f*P.Ho),t=L(d,t,n,s),v.point(r,t),v.lineEnd(),v.lineStart(),v.point(f,t),u=0),v.point(d=n,t=s),r=f},lineEnd:function(){v.lineEnd(),d=t=NaN},clean:function(){return 2-u}}}function L(v,d,t,r){var u,n,s=(0,P.O$)(v-t);return(0,P.Wn)(s)>P.Ho?(0,P.z4)(((0,P.O$)(d)*(n=(0,P.mC)(r))*(0,P.O$)(t)-(0,P.O$)(r)*(u=(0,P.mC)(d))*(0,P.O$)(v))/(u*n*s)):(d+r)/2}function T(v,d,t,r){var u;if(v==null)u=t*P.ou,r.point(-P.pi,u),r.point(0,u),r.point(P.pi,u),r.point(P.pi,0),r.point(P.pi,-u),r.point(0,-u),r.point(-P.pi,-u),r.point(-P.pi,0),r.point(-P.pi,u);else if((0,P.Wn)(v[0]-d[0])>P.Ho){var n=v[0]<d[0]?P.pi:-P.pi;u=t*n/2,r.point(-n,u),r.point(0,u),r.point(n,u)}else r.point(d[0],d[1])}},85272:function(H,U,e){e.d(U,{Z:function(){return P}});var g=e(73182);function P(){var a=[],L;return{point:function(T,v,d){L.push([T,v,d])},lineStart:function(){a.push(L=[])},lineEnd:g.Z,rejoin:function(){a.length>1&&a.push(a.pop().concat(a.shift()))},result:function(){var T=a;return a=[],L=null,T}}}},1457:function(H,U,e){e.d(U,{Z:function(){return v}});var g=e(7620),P=e(7613),a=e(39695),L=e(67108),T=e(97023);function v(d){var t=(0,a.mC)(d),r=6*a.uR,u=t>0,n=(0,a.Wn)(t)>a.Ho;function s(b,h,o,p){(0,P.m)(p,d,r,o,b,h)}function f(b,h){return(0,a.mC)(b)*(0,a.mC)(h)>t}function l(b){var h,o,p,S,A;return{lineStart:function(){S=p=!1,A=1},point:function(E,m){var M=[E,m],w,i=f(E,m),C=u?i?0:c(E,m):i?c(E+(E<0?a.pi:-a.pi),m):0;if(!h&&(S=p=i)&&b.lineStart(),i!==p&&(w=x(h,M),(!w||(0,L.Z)(h,w)||(0,L.Z)(M,w))&&(M[2]=1)),i!==p)A=0,i?(b.lineStart(),w=x(M,h),b.point(w[0],w[1])):(w=x(h,M),b.point(w[0],w[1],2),b.lineEnd()),h=w;else if(n&&h&&u^i){var y;!(C&o)&&(y=x(M,h,!0))&&(A=0,u?(b.lineStart(),b.point(y[0][0],y[0][1]),b.point(y[1][0],y[1][1]),b.lineEnd()):(b.point(y[1][0],y[1][1]),b.lineEnd(),b.lineStart(),b.point(y[0][0],y[0][1],3)))}i&&(!h||!(0,L.Z)(h,M))&&b.point(M[0],M[1]),h=M,p=i,o=C},lineEnd:function(){p&&b.lineEnd(),h=null},clean:function(){return A|(S&&p)<<1}}}function x(b,h,o){var p=(0,g.Og)(b),S=(0,g.Og)(h),A=[1,0,0],E=(0,g.T5)(p,S),m=(0,g.j9)(E,E),M=E[0],w=m-M*M;if(!w)return!o&&b;var i=t*m/w,C=-t*M/w,y=(0,g.T5)(A,E),_=(0,g.T)(A,i),I=(0,g.T)(E,C);(0,g.s0)(_,I);var N=y,k=(0,g.j9)(_,N),O=(0,g.j9)(N,N),z=k*k-O*((0,g.j9)(_,_)-1);if(!(z<0)){var F=(0,a._b)(z),B=(0,g.T)(N,(-k-F)/O);if((0,g.s0)(B,_),B=(0,g.Y1)(B),!o)return B;var G=b[0],Q=h[0],ee=b[1],ae=h[1],fe;Q<G&&(fe=G,G=Q,Q=fe);var K=Q-G,W=(0,a.Wn)(K-a.pi)<a.Ho,Z=W||K<a.Ho;if(!W&&ae<ee&&(fe=ee,ee=ae,ae=fe),Z?W?ee+ae>0^B[1]<((0,a.Wn)(B[0]-G)<a.Ho?ee:ae):ee<=B[1]&&B[1]<=ae:K>a.pi^(G<=B[0]&&B[0]<=Q)){var X=(0,g.T)(N,(-k+F)/O);return(0,g.s0)(X,_),[B,(0,g.Y1)(X)]}}}function c(b,h){var o=u?d:a.pi-d,p=0;return b<-o?p|=1:b>o&&(p|=2),h<-o?p|=4:h>o&&(p|=8),p}return(0,T.Z)(f,l,s,u?[0,-d]:[-a.pi,d-a.pi])}},97023:function(H,U,e){e.d(U,{Z:function(){return v}});var g=e(85272),P=e(46225),a=e(39695),L=e(23071),T=e(33064);function v(r,u,n,s){return function(f){var l=u(f),x=(0,g.Z)(),c=u(x),b=!1,h,o,p,S={point:A,lineStart:m,lineEnd:M,polygonStart:function(){S.point=w,S.lineStart=i,S.lineEnd=C,o=[],h=[]},polygonEnd:function(){S.point=A,S.lineStart=m,S.lineEnd=M,o=(0,T.TS)(o);var y=(0,L.Z)(h,s);o.length?(b||(f.polygonStart(),b=!0),(0,P.Z)(o,t,y,n,f)):y&&(b||(f.polygonStart(),b=!0),f.lineStart(),n(null,null,1,f),f.lineEnd()),b&&(f.polygonEnd(),b=!1),o=h=null},sphere:function(){f.polygonStart(),f.lineStart(),n(null,null,1,f),f.lineEnd(),f.polygonEnd()}};function A(y,_){r(y,_)&&f.point(y,_)}function E(y,_){l.point(y,_)}function m(){S.point=E,l.lineStart()}function M(){S.point=A,l.lineEnd()}function w(y,_){p.push([y,_]),c.point(y,_)}function i(){c.lineStart(),p=[]}function C(){w(p[0][0],p[0][1]),c.lineEnd();var y=c.clean(),_=x.result(),I,N=_.length,k,O,z;if(p.pop(),h.push(p),p=null,!!N){if(y&1){if(O=_[0],(k=O.length-1)>0){for(b||(f.polygonStart(),b=!0),f.lineStart(),I=0;I<k;++I)f.point((z=O[I])[0],z[1]);f.lineEnd()}return}N>1&&y&2&&_.push(_.pop().concat(_.shift())),o.push(_.filter(d))}}return S}}function d(r){return r.length>1}function t(r,u){return((r=r.x)[0]<0?r[1]-a.ou-a.Ho:a.ou-r[1])-((u=u.x)[0]<0?u[1]-a.ou-a.Ho:a.ou-u[1])}},87605:function(H,U,e){e.d(U,{Z:function(){return t}});var g=e(39695),P=e(85272);function a(r,u,n,s,f,l){var x=r[0],c=r[1],b=u[0],h=u[1],o=0,p=1,S=b-x,A=h-c,E;if(E=n-x,!(!S&&E>0)){if(E/=S,S<0){if(E<o)return;E<p&&(p=E)}else if(S>0){if(E>p)return;E>o&&(o=E)}if(E=f-x,!(!S&&E<0)){if(E/=S,S<0){if(E>p)return;E>o&&(o=E)}else if(S>0){if(E<o)return;E<p&&(p=E)}if(E=s-c,!(!A&&E>0)){if(E/=A,A<0){if(E<o)return;E<p&&(p=E)}else if(A>0){if(E>p)return;E>o&&(o=E)}if(E=l-c,!(!A&&E<0)){if(E/=A,A<0){if(E>p)return;E>o&&(o=E)}else if(A>0){if(E<o)return;E<p&&(p=E)}return o>0&&(r[0]=x+o*S,r[1]=c+o*A),p<1&&(u[0]=x+p*S,u[1]=c+p*A),!0}}}}}var L=e(46225),T=e(33064),v=1e9,d=-v;function t(r,u,n,s){function f(h,o){return r<=h&&h<=n&&u<=o&&o<=s}function l(h,o,p,S){var A=0,E=0;if(h==null||(A=x(h,p))!==(E=x(o,p))||b(h,o)<0^p>0)do S.point(A===0||A===3?r:n,A>1?s:u);while((A=(A+p+4)%4)!==E);else S.point(o[0],o[1])}function x(h,o){return(0,g.Wn)(h[0]-r)<g.Ho?o>0?0:3:(0,g.Wn)(h[0]-n)<g.Ho?o>0?2:1:(0,g.Wn)(h[1]-u)<g.Ho?o>0?1:0:o>0?3:2}function c(h,o){return b(h.x,o.x)}function b(h,o){var p=x(h,1),S=x(o,1);return p!==S?p-S:p===0?o[1]-h[1]:p===1?h[0]-o[0]:p===2?h[1]-o[1]:o[0]-h[0]}return function(h){var o=h,p=(0,P.Z)(),S,A,E,m,M,w,i,C,y,_,I,N={point:k,lineStart:B,lineEnd:G,polygonStart:z,polygonEnd:F};function k(ee,ae){f(ee,ae)&&o.point(ee,ae)}function O(){for(var ee=0,ae=0,fe=A.length;ae<fe;++ae)for(var K=A[ae],W=1,Z=K.length,X=K[0],$,ie,J=X[0],j=X[1];W<Z;++W)$=J,ie=j,X=K[W],J=X[0],j=X[1],ie<=s?j>s&&(J-$)*(s-ie)>(j-ie)*(r-$)&&++ee:j<=s&&(J-$)*(s-ie)<(j-ie)*(r-$)&&--ee;return ee}function z(){o=p,S=[],A=[],I=!0}function F(){var ee=O(),ae=I&&ee,fe=(S=(0,T.TS)(S)).length;(ae||fe)&&(h.polygonStart(),ae&&(h.lineStart(),l(null,null,1,h),h.lineEnd()),fe&&(0,L.Z)(S,c,ee,l,h),h.polygonEnd()),o=h,S=A=E=null}function B(){N.point=Q,A&&A.push(E=[]),_=!0,y=!1,i=C=NaN}function G(){S&&(Q(m,M),w&&y&&p.rejoin(),S.push(p.result())),N.point=k,y&&o.lineEnd()}function Q(ee,ae){var fe=f(ee,ae);if(A&&E.push([ee,ae]),_)m=ee,M=ae,w=fe,_=!1,fe&&(o.lineStart(),o.point(ee,ae));else if(fe&&y)o.point(ee,ae);else{var K=[i=Math.max(d,Math.min(v,i)),C=Math.max(d,Math.min(v,C))],W=[ee=Math.max(d,Math.min(v,ee)),ae=Math.max(d,Math.min(v,ae))];a(K,W,r,u,n,s)?(y||(o.lineStart(),o.point(K[0],K[1])),o.point(W[0],W[1]),fe||o.lineEnd(),I=!1):fe&&(o.lineStart(),o.point(ee,ae),I=!1)}i=ee,C=ae,y=fe}return N}}},46225:function(H,U,e){e.d(U,{Z:function(){return L}});var g=e(67108),P=e(39695);function a(v,d,t,r){this.x=v,this.z=d,this.o=t,this.e=r,this.v=!1,this.n=this.p=null}function L(v,d,t,r,u){var n=[],s=[],f,l;if(v.forEach(function(p){if(!((S=p.length-1)<=0)){var S,A=p[0],E=p[S],m;if((0,g.Z)(A,E)){if(!A[2]&&!E[2]){for(u.lineStart(),f=0;f<S;++f)u.point((A=p[f])[0],A[1]);u.lineEnd();return}E[0]+=2*P.Ho}n.push(m=new a(A,p,null,!0)),s.push(m.o=new a(A,null,m,!1)),n.push(m=new a(E,p,null,!1)),s.push(m.o=new a(E,null,m,!0))}}),!!n.length){for(s.sort(d),T(n),T(s),f=0,l=s.length;f<l;++f)s[f].e=t=!t;for(var x=n[0],c,b;;){for(var h=x,o=!0;h.v;)if((h=h.n)===x)return;c=h.z,u.lineStart();do{if(h.v=h.o.v=!0,h.e){if(o)for(f=0,l=c.length;f<l;++f)u.point((b=c[f])[0],b[1]);else r(h.x,h.n.x,1,u);h=h.n}else{if(o)for(c=h.p.z,f=c.length-1;f>=0;--f)u.point((b=c[f])[0],b[1]);else r(h.x,h.p.x,-1,u);h=h.p}h=h.o,c=h.z,o=!o}while(!h.v);u.lineEnd()}}}function T(v){if(d=v.length){for(var d,t=0,r=v[0],u;++t<d;)r.n=u=v[t],u.p=r,r=u;r.n=u=v[0],u.p=r}}},96059:function(H,U,e){e.d(U,{Z:function(){return g}});function g(P,a){function L(T,v){return T=P(T,v),a(T[0],T[1])}return P.invert&&a.invert&&(L.invert=function(T,v){return T=a.invert(T,v),T&&P.invert(T[0],T[1])}),L}},8593:function(H,U,e){e.d(U,{Z:function(){return g}});function g(P){return P}},27362:function(H,U,e){e.r(U),e.d(U,{geoAlbers:function(){return Sr},geoAlbersUsa:function(){return st},geoArea:function(){return g.ZP},geoAzimuthalEqualArea:function(){return bt.Z},geoAzimuthalEqualAreaRaw:function(){return bt.l},geoAzimuthalEquidistant:function(){return St.Z},geoAzimuthalEquidistantRaw:function(){return St.N},geoBounds:function(){return P.Z},geoCentroid:function(){return a.Z},geoCircle:function(){return L.Z},geoClipAntimeridian:function(){return T.Z},geoClipCircle:function(){return v.Z},geoClipExtent:function(){return t},geoClipRectangle:function(){return d.Z},geoConicConformal:function(){return ur},geoConicConformalRaw:function(){return er},geoConicEqualArea:function(){return jt},geoConicEqualAreaRaw:function(){return Qt},geoConicEquidistant:function(){return Ge},geoConicEquidistantRaw:function(){return We},geoContains:function(){return z},geoDistance:function(){return w},geoEqualEarth:function(){return vr},geoEqualEarthRaw:function(){return Nt},geoEquirectangular:function(){return kr.Z},geoEquirectangularRaw:function(){return kr.k},geoGnomonic:function(){return mr.Z},geoGnomonicRaw:function(){return mr.M},geoGraticule:function(){return Q},geoGraticule10:function(){return ee},geoIdentity:function(){return yr},geoInterpolate:function(){return ae.Z},geoLength:function(){return E},geoMercator:function(){return Bt},geoMercatorRaw:function(){return Et},geoNaturalEarth1:function(){return Kr.Z},geoNaturalEarth1Raw:function(){return Kr.K},geoOrthographic:function(){return Nr.Z},geoOrthographicRaw:function(){return Nr.I},geoPath:function(){return $t},geoProjection:function(){return lr.Z},geoProjectionMutator:function(){return lr.r},geoRotation:function(){return Pt.Z},geoStereographic:function(){return rn},geoStereographicRaw:function(){return Tn},geoStream:function(){return f.Z},geoTransform:function(){return xr.Z},geoTransverseMercator:function(){return Hn},geoTransverseMercatorRaw:function(){return Gn}});var g=e(97860),P=e(77338),a=e(66624),L=e(7613),T=e(87070),v=e(1457),d=e(87605);function t(){var Ar=0,Cr=0,Yr=960,Zr=500,un,mn,pn;return pn={stream:function(Rn){return un&&mn===Rn?un:un=(0,d.Z)(Ar,Cr,Yr,Zr)(mn=Rn)},extent:function(Rn){return arguments.length?(Ar=+Rn[0][0],Cr=+Rn[0][1],Yr=+Rn[1][0],Zr=+Rn[1][1],un=mn=null,pn):[[Ar,Cr],[Yr,Zr]]}}}var r=e(23071),u=e(33940),n=e(39695),s=e(73182),f=e(72736),l=(0,u.Z)(),x,c,b,h={sphere:s.Z,point:s.Z,lineStart:o,lineEnd:s.Z,polygonStart:s.Z,polygonEnd:s.Z};function o(){h.point=S,h.lineEnd=p}function p(){h.point=h.lineEnd=s.Z}function S(Ar,Cr){Ar*=n.uR,Cr*=n.uR,x=Ar,c=(0,n.O$)(Cr),b=(0,n.mC)(Cr),h.point=A}function A(Ar,Cr){Ar*=n.uR,Cr*=n.uR;var Yr=(0,n.O$)(Cr),Zr=(0,n.mC)(Cr),un=(0,n.Wn)(Ar-x),mn=(0,n.mC)(un),pn=(0,n.O$)(un),Rn=Zr*pn,Un=b*Yr-c*Zr*mn,oa=c*Yr+b*Zr*mn;l.add((0,n.fv)((0,n._b)(Rn*Rn+Un*Un),oa)),x=Ar,c=Yr,b=Zr}function E(Ar){return l.reset(),(0,f.Z)(Ar,h),+l}var m=[null,null],M={type:"LineString",coordinates:m};function w(Ar,Cr){return m[0]=Ar,m[1]=Cr,E(M)}var i={Feature:function(Ar,Cr){return y(Ar.geometry,Cr)},FeatureCollection:function(Ar,Cr){for(var Yr=Ar.features,Zr=-1,un=Yr.length;++Zr<un;)if(y(Yr[Zr].geometry,Cr))return!0;return!1}},C={Sphere:function(){return!0},Point:function(Ar,Cr){return _(Ar.coordinates,Cr)},MultiPoint:function(Ar,Cr){for(var Yr=Ar.coordinates,Zr=-1,un=Yr.length;++Zr<un;)if(_(Yr[Zr],Cr))return!0;return!1},LineString:function(Ar,Cr){return I(Ar.coordinates,Cr)},MultiLineString:function(Ar,Cr){for(var Yr=Ar.coordinates,Zr=-1,un=Yr.length;++Zr<un;)if(I(Yr[Zr],Cr))return!0;return!1},Polygon:function(Ar,Cr){return N(Ar.coordinates,Cr)},MultiPolygon:function(Ar,Cr){for(var Yr=Ar.coordinates,Zr=-1,un=Yr.length;++Zr<un;)if(N(Yr[Zr],Cr))return!0;return!1},GeometryCollection:function(Ar,Cr){for(var Yr=Ar.geometries,Zr=-1,un=Yr.length;++Zr<un;)if(y(Yr[Zr],Cr))return!0;return!1}};function y(Ar,Cr){return Ar&&C.hasOwnProperty(Ar.type)?C[Ar.type](Ar,Cr):!1}function _(Ar,Cr){return w(Ar,Cr)===0}function I(Ar,Cr){for(var Yr,Zr,un,mn=0,pn=Ar.length;mn<pn;mn++){if(Zr=w(Ar[mn],Cr),Zr===0||mn>0&&(un=w(Ar[mn],Ar[mn-1]),un>0&&Yr<=un&&Zr<=un&&(Yr+Zr-un)*(1-Math.pow((Yr-Zr)/un,2))<n.aW*un))return!0;Yr=Zr}return!1}function N(Ar,Cr){return!!(0,r.Z)(Ar.map(k),O(Cr))}function k(Ar){return Ar=Ar.map(O),Ar.pop(),Ar}function O(Ar){return[Ar[0]*n.uR,Ar[1]*n.uR]}function z(Ar,Cr){return(Ar&&i.hasOwnProperty(Ar.type)?i[Ar.type]:y)(Ar,Cr)}var F=e(33064);function B(Ar,Cr,Yr){var Zr=(0,F.w6)(Ar,Cr-n.Ho,Yr).concat(Cr);return function(un){return Zr.map(function(mn){return[un,mn]})}}function G(Ar,Cr,Yr){var Zr=(0,F.w6)(Ar,Cr-n.Ho,Yr).concat(Cr);return function(un){return Zr.map(function(mn){return[mn,un]})}}function Q(){var Ar,Cr,Yr,Zr,un,mn,pn,Rn,Un=10,oa=Un,ua=90,xa=360,va,ca,Pr,dn,cn=2.5;function An(){return{type:"MultiLineString",coordinates:Qn()}}function Qn(){return(0,F.w6)((0,n.mD)(Zr/ua)*ua,Yr,ua).map(Pr).concat((0,F.w6)((0,n.mD)(Rn/xa)*xa,pn,xa).map(dn)).concat((0,F.w6)((0,n.mD)(Cr/Un)*Un,Ar,Un).filter(function(zn){return(0,n.Wn)(zn%ua)>n.Ho}).map(va)).concat((0,F.w6)((0,n.mD)(mn/oa)*oa,un,oa).filter(function(zn){return(0,n.Wn)(zn%xa)>n.Ho}).map(ca))}return An.lines=function(){return Qn().map(function(zn){return{type:"LineString",coordinates:zn}})},An.outline=function(){return{type:"Polygon",coordinates:[Pr(Zr).concat(dn(pn).slice(1),Pr(Yr).reverse().slice(1),dn(Rn).reverse().slice(1))]}},An.extent=function(zn){return arguments.length?An.extentMajor(zn).extentMinor(zn):An.extentMinor()},An.extentMajor=function(zn){return arguments.length?(Zr=+zn[0][0],Yr=+zn[1][0],Rn=+zn[0][1],pn=+zn[1][1],Zr>Yr&&(zn=Zr,Zr=Yr,Yr=zn),Rn>pn&&(zn=Rn,Rn=pn,pn=zn),An.precision(cn)):[[Zr,Rn],[Yr,pn]]},An.extentMinor=function(zn){return arguments.length?(Cr=+zn[0][0],Ar=+zn[1][0],mn=+zn[0][1],un=+zn[1][1],Cr>Ar&&(zn=Cr,Cr=Ar,Ar=zn),mn>un&&(zn=mn,mn=un,un=zn),An.precision(cn)):[[Cr,mn],[Ar,un]]},An.step=function(zn){return arguments.length?An.stepMajor(zn).stepMinor(zn):An.stepMinor()},An.stepMajor=function(zn){return arguments.length?(ua=+zn[0],xa=+zn[1],An):[ua,xa]},An.stepMinor=function(zn){return arguments.length?(Un=+zn[0],oa=+zn[1],An):[Un,oa]},An.precision=function(zn){return arguments.length?(cn=+zn,va=B(mn,un,90),ca=G(Cr,Ar,cn),Pr=B(Rn,pn,90),dn=G(Zr,Yr,cn),An):cn},An.extentMajor([[-180,-90+n.Ho],[180,90-n.Ho]]).extentMinor([[-180,-80-n.Ho],[180,80+n.Ho]])}function ee(){return Q()()}var ae=e(83074),fe=e(8593),K=(0,u.Z)(),W=(0,u.Z)(),Z,X,$,ie,J={point:s.Z,lineStart:s.Z,lineEnd:s.Z,polygonStart:function(){J.lineStart=j,J.lineEnd=ue},polygonEnd:function(){J.lineStart=J.lineEnd=J.point=s.Z,K.add((0,n.Wn)(W)),W.reset()},result:function(){var Ar=K/2;return K.reset(),Ar}};function j(){J.point=se}function se(Ar,Cr){J.point=ne,Z=$=Ar,X=ie=Cr}function ne(Ar,Cr){W.add(ie*Ar-$*Cr),$=Ar,ie=Cr}function ue(){ne(Z,X)}var ge=J,we=e(3559),xe=0,Fe=0,ze=0,Te=0,ye=0,Ae=0,Ne=0,Ue=0,Re=0,Ve,rt,Qe,Je,qe={point:dt,lineStart:pt,lineEnd:Rt,polygonStart:function(){qe.lineStart=Zt,qe.lineEnd=Xe},polygonEnd:function(){qe.point=dt,qe.lineStart=pt,qe.lineEnd=Rt},result:function(){var Ar=Re?[Ne/Re,Ue/Re]:Ae?[Te/Ae,ye/Ae]:ze?[xe/ze,Fe/ze]:[NaN,NaN];return xe=Fe=ze=Te=ye=Ae=Ne=Ue=Re=0,Ar}};function dt(Ar,Cr){xe+=Ar,Fe+=Cr,++ze}function pt(){qe.point=mt}function mt(Ar,Cr){qe.point=Ct,dt(Qe=Ar,Je=Cr)}function Ct(Ar,Cr){var Yr=Ar-Qe,Zr=Cr-Je,un=(0,n._b)(Yr*Yr+Zr*Zr);Te+=un*(Qe+Ar)/2,ye+=un*(Je+Cr)/2,Ae+=un,dt(Qe=Ar,Je=Cr)}function Rt(){qe.point=dt}function Zt(){qe.point=Le}function Xe(){Pe(Ve,rt)}function Le(Ar,Cr){qe.point=Pe,dt(Ve=Qe=Ar,rt=Je=Cr)}function Pe(Ar,Cr){var Yr=Ar-Qe,Zr=Cr-Je,un=(0,n._b)(Yr*Yr+Zr*Zr);Te+=un*(Qe+Ar)/2,ye+=un*(Je+Cr)/2,Ae+=un,un=Je*Ar-Qe*Cr,Ne+=un*(Qe+Ar),Ue+=un*(Je+Cr),Re+=un*3,dt(Qe=Ar,Je=Cr)}var ke=qe;function Ce(Ar){this._context=Ar}Ce.prototype={_radius:4.5,pointRadius:function(Ar){return this._radius=Ar,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Ar,Cr){switch(this._point){case 0:{this._context.moveTo(Ar,Cr),this._point=1;break}case 1:{this._context.lineTo(Ar,Cr);break}default:{this._context.moveTo(Ar+this._radius,Cr),this._context.arc(Ar,Cr,this._radius,0,n.BZ);break}}},result:s.Z};var me=(0,u.Z)(),oe,pe,Me,_e,tt,at={point:s.Z,lineStart:function(){at.point=At},lineEnd:function(){oe&&Ft(pe,Me),at.point=s.Z},polygonStart:function(){oe=!0},polygonEnd:function(){oe=null},result:function(){var Ar=+me;return me.reset(),Ar}};function At(Ar,Cr){at.point=Ft,pe=_e=Ar,Me=tt=Cr}function Ft(Ar,Cr){_e-=Ar,tt-=Cr,me.add((0,n._b)(_e*_e+tt*tt)),_e=Ar,tt=Cr}var Gt=at;function Yt(){this._string=[]}Yt.prototype={_radius:4.5,_circle:Dt(4.5),pointRadius:function(Ar){return(Ar=+Ar)!==this._radius&&(this._radius=Ar,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Ar,Cr){switch(this._point){case 0:{this._string.push("M",Ar,",",Cr),this._point=1;break}case 1:{this._string.push("L",Ar,",",Cr);break}default:{this._circle==null&&(this._circle=Dt(this._radius)),this._string.push("M",Ar,",",Cr,this._circle);break}}},result:function(){if(this._string.length){var Ar=this._string.join("");return this._string=[],Ar}else return null}};function Dt(Ar){return"m0,"+Ar+"a"+Ar+","+Ar+" 0 1,1 0,"+-2*Ar+"a"+Ar+","+Ar+" 0 1,1 0,"+2*Ar+"z"}function $t(Ar,Cr){var Yr=4.5,Zr,un;function mn(pn){return pn&&(typeof Yr=="function"&&un.pointRadius(+Yr.apply(this,arguments)),(0,f.Z)(pn,Zr(un))),un.result()}return mn.area=function(pn){return(0,f.Z)(pn,Zr(ge)),ge.result()},mn.measure=function(pn){return(0,f.Z)(pn,Zr(Gt)),Gt.result()},mn.bounds=function(pn){return(0,f.Z)(pn,Zr(we.Z)),we.Z.result()},mn.centroid=function(pn){return(0,f.Z)(pn,Zr(ke)),ke.result()},mn.projection=function(pn){return arguments.length?(Zr=pn==null?(Ar=null,fe.Z):(Ar=pn).stream,mn):Ar},mn.context=function(pn){return arguments.length?(un=pn==null?(Cr=null,new Yt):new Ce(Cr=pn),typeof Yr!="function"&&un.pointRadius(Yr),mn):Cr},mn.pointRadius=function(pn){return arguments.length?(Yr=typeof pn=="function"?pn:(un.pointRadius(+pn),+pn),mn):Yr},mn.projection(Ar).context(Cr)}var lr=e(15002);function Hr(Ar){var Cr=0,Yr=n.pi/3,Zr=(0,lr.r)(Ar),un=Zr(Cr,Yr);return un.parallels=function(mn){return arguments.length?Zr(Cr=mn[0]*n.uR,Yr=mn[1]*n.uR):[Cr*n.RW,Yr*n.RW]},un}function xt(Ar){var Cr=(0,n.mC)(Ar);function Yr(Zr,un){return[Zr*Cr,(0,n.O$)(un)/Cr]}return Yr.invert=function(Zr,un){return[Zr/Cr,(0,n.ZR)(un*Cr)]},Yr}function Qt(Ar,Cr){var Yr=(0,n.O$)(Ar),Zr=(Yr+(0,n.O$)(Cr))/2;if((0,n.Wn)(Zr)<n.Ho)return xt(Ar);var un=1+Yr*(2*Zr-Yr),mn=(0,n._b)(un)/Zr;function pn(Rn,Un){var oa=(0,n._b)(un-2*Zr*(0,n.O$)(Un))/Zr;return[oa*(0,n.O$)(Rn*=Zr),mn-oa*(0,n.mC)(Rn)]}return pn.invert=function(Rn,Un){var oa=mn-Un,ua=(0,n.fv)(Rn,(0,n.Wn)(oa))*(0,n.Xx)(oa);return oa*Zr<0&&(ua-=n.pi*(0,n.Xx)(Rn)*(0,n.Xx)(oa)),[ua/Zr,(0,n.ZR)((un-(Rn*Rn+oa*oa)*Zr*Zr)/(2*Zr))]},pn}function jt(){return Hr(Qt).scale(155.424).center([0,33.6442])}function Sr(){return jt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var gr=e(47589);function ut(Ar){var Cr=Ar.length;return{point:function(Yr,Zr){for(var un=-1;++un<Cr;)Ar[un].point(Yr,Zr)},sphere:function(){for(var Yr=-1;++Yr<Cr;)Ar[Yr].sphere()},lineStart:function(){for(var Yr=-1;++Yr<Cr;)Ar[Yr].lineStart()},lineEnd:function(){for(var Yr=-1;++Yr<Cr;)Ar[Yr].lineEnd()},polygonStart:function(){for(var Yr=-1;++Yr<Cr;)Ar[Yr].polygonStart()},polygonEnd:function(){for(var Yr=-1;++Yr<Cr;)Ar[Yr].polygonEnd()}}}function st(){var Ar,Cr,Yr=Sr(),Zr,un=jt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),mn,pn=jt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Rn,Un,oa={point:function(va,ca){Un=[va,ca]}};function ua(va){var ca=va[0],Pr=va[1];return Un=null,Zr.point(ca,Pr),Un||(mn.point(ca,Pr),Un)||(Rn.point(ca,Pr),Un)}ua.invert=function(va){var ca=Yr.scale(),Pr=Yr.translate(),dn=(va[0]-Pr[0])/ca,cn=(va[1]-Pr[1])/ca;return(cn>=.12&&cn<.234&&dn>=-.425&&dn<-.214?un:cn>=.166&&cn<.234&&dn>=-.214&&dn<-.115?pn:Yr).invert(va)},ua.stream=function(va){return Ar&&Cr===va?Ar:Ar=ut([Yr.stream(Cr=va),un.stream(va),pn.stream(va)])},ua.precision=function(va){return arguments.length?(Yr.precision(va),un.precision(va),pn.precision(va),xa()):Yr.precision()},ua.scale=function(va){return arguments.length?(Yr.scale(va),un.scale(va*.35),pn.scale(va),ua.translate(Yr.translate())):Yr.scale()},ua.translate=function(va){if(!arguments.length)return Yr.translate();var ca=Yr.scale(),Pr=+va[0],dn=+va[1];return Zr=Yr.translate(va).clipExtent([[Pr-.455*ca,dn-.238*ca],[Pr+.455*ca,dn+.238*ca]]).stream(oa),mn=un.translate([Pr-.307*ca,dn+.201*ca]).clipExtent([[Pr-.425*ca+n.Ho,dn+.12*ca+n.Ho],[Pr-.214*ca-n.Ho,dn+.234*ca-n.Ho]]).stream(oa),Rn=pn.translate([Pr-.205*ca,dn+.212*ca]).clipExtent([[Pr-.214*ca+n.Ho,dn+.166*ca+n.Ho],[Pr-.115*ca-n.Ho,dn+.234*ca-n.Ho]]).stream(oa),xa()},ua.fitExtent=function(va,ca){return(0,gr.qg)(ua,va,ca)},ua.fitSize=function(va,ca){return(0,gr.mF)(ua,va,ca)},ua.fitWidth=function(va,ca){return(0,gr.V6)(ua,va,ca)},ua.fitHeight=function(va,ca){return(0,gr.rf)(ua,va,ca)};function xa(){return Ar=Cr=null,ua}return ua.scale(1070)}var bt=e(12956),St=e(17889),Pt=e(49386);function Et(Ar,Cr){return[Ar,(0,n.cM)((0,n.OR)((n.ou+Cr)/2))]}Et.invert=function(Ar,Cr){return[Ar,2*(0,n.z4)((0,n.Qq)(Cr))-n.ou]};function Bt(){return Wt(Et).scale(961/n.BZ)}function Wt(Ar){var Cr=(0,lr.Z)(Ar),Yr=Cr.center,Zr=Cr.scale,un=Cr.translate,mn=Cr.clipExtent,pn=null,Rn,Un,oa;Cr.scale=function(xa){return arguments.length?(Zr(xa),ua()):Zr()},Cr.translate=function(xa){return arguments.length?(un(xa),ua()):un()},Cr.center=function(xa){return arguments.length?(Yr(xa),ua()):Yr()},Cr.clipExtent=function(xa){return arguments.length?(xa==null?pn=Rn=Un=oa=null:(pn=+xa[0][0],Rn=+xa[0][1],Un=+xa[1][0],oa=+xa[1][1]),ua()):pn==null?null:[[pn,Rn],[Un,oa]]};function ua(){var xa=n.pi*Zr(),va=Cr((0,Pt.Z)(Cr.rotate()).invert([0,0]));return mn(pn==null?[[va[0]-xa,va[1]-xa],[va[0]+xa,va[1]+xa]]:Ar===Et?[[Math.max(va[0]-xa,pn),Rn],[Math.min(va[0]+xa,Un),oa]]:[[pn,Math.max(va[1]-xa,Rn)],[Un,Math.min(va[1]+xa,oa)]])}return ua()}function tr(Ar){return(0,n.OR)((n.ou+Ar)/2)}function er(Ar,Cr){var Yr=(0,n.mC)(Ar),Zr=Ar===Cr?(0,n.O$)(Ar):(0,n.cM)(Yr/(0,n.mC)(Cr))/(0,n.cM)(tr(Cr)/tr(Ar)),un=Yr*(0,n.sQ)(tr(Ar),Zr)/Zr;if(!Zr)return Et;function mn(pn,Rn){un>0?Rn<-n.ou+n.Ho&&(Rn=-n.ou+n.Ho):Rn>n.ou-n.Ho&&(Rn=n.ou-n.Ho);var Un=un/(0,n.sQ)(tr(Rn),Zr);return[Un*(0,n.O$)(Zr*pn),un-Un*(0,n.mC)(Zr*pn)]}return mn.invert=function(pn,Rn){var Un=un-Rn,oa=(0,n.Xx)(Zr)*(0,n._b)(pn*pn+Un*Un),ua=(0,n.fv)(pn,(0,n.Wn)(Un))*(0,n.Xx)(Un);return Un*Zr<0&&(ua-=n.pi*(0,n.Xx)(pn)*(0,n.Xx)(Un)),[ua/Zr,2*(0,n.z4)((0,n.sQ)(un/oa,1/Zr))-n.ou]},mn}function ur(){return Hr(er).scale(109.5).parallels([30,30])}var kr=e(97492);function We(Ar,Cr){var Yr=(0,n.mC)(Ar),Zr=Ar===Cr?(0,n.O$)(Ar):(Yr-(0,n.mC)(Cr))/(Cr-Ar),un=Yr/Zr+Ar;if((0,n.Wn)(Zr)<n.Ho)return kr.k;function mn(pn,Rn){var Un=un-Rn,oa=Zr*pn;return[Un*(0,n.O$)(oa),un-Un*(0,n.mC)(oa)]}return mn.invert=function(pn,Rn){var Un=un-Rn,oa=(0,n.fv)(pn,(0,n.Wn)(Un))*(0,n.Xx)(Un);return Un*Zr<0&&(oa-=n.pi*(0,n.Xx)(pn)*(0,n.Xx)(Un)),[oa/Zr,un-(0,n.Xx)(Zr)*(0,n._b)(pn*pn+Un*Un)]},mn}function Ge(){return Hr(We).scale(131.154).center([0,13.9389])}var _t=1.340264,Ot=-.081106,Kt=893e-6,or=.003796,hr=(0,n._b)(3)/2,ir=12;function Nt(Ar,Cr){var Yr=(0,n.ZR)(hr*(0,n.O$)(Cr)),Zr=Yr*Yr,un=Zr*Zr*Zr;return[Ar*(0,n.mC)(Yr)/(hr*(_t+3*Ot*Zr+un*(7*Kt+9*or*Zr))),Yr*(_t+Ot*Zr+un*(Kt+or*Zr))]}Nt.invert=function(Ar,Cr){for(var Yr=Cr,Zr=Yr*Yr,un=Zr*Zr*Zr,mn=0,pn,Rn,Un;mn<ir&&(Rn=Yr*(_t+Ot*Zr+un*(Kt+or*Zr))-Cr,Un=_t+3*Ot*Zr+un*(7*Kt+9*or*Zr),Yr-=pn=Rn/Un,Zr=Yr*Yr,un=Zr*Zr*Zr,!((0,n.Wn)(pn)<n.aW));++mn);return[hr*Ar*(_t+3*Ot*Zr+un*(7*Kt+9*or*Zr))/(0,n.mC)(Yr),(0,n.ZR)((0,n.O$)(Yr)/hr)]};function vr(){return(0,lr.Z)(Nt).scale(177.158)}var mr=e(98936),xr=e(64684);function yr(){var Ar=1,Cr=0,Yr=0,Zr=1,un=1,mn=0,pn,Rn,Un=null,oa,ua,xa,va=1,ca=1,Pr=(0,xr.l)({point:function(Bn,qn){var ya=zn([Bn,qn]);this.stream.point(ya[0],ya[1])}}),dn=fe.Z,cn,An;function Qn(){return va=Ar*Zr,ca=Ar*un,cn=An=null,zn}function zn(Bn){var qn=Bn[0]*va,ya=Bn[1]*ca;if(mn){var Na=ya*pn-qn*Rn;qn=qn*pn+ya*Rn,ya=Na}return[qn+Cr,ya+Yr]}return zn.invert=function(Bn){var qn=Bn[0]-Cr,ya=Bn[1]-Yr;if(mn){var Na=ya*pn+qn*Rn;qn=qn*pn-ya*Rn,ya=Na}return[qn/va,ya/ca]},zn.stream=function(Bn){return cn&&An===Bn?cn:cn=Pr(dn(An=Bn))},zn.postclip=function(Bn){return arguments.length?(dn=Bn,Un=oa=ua=xa=null,Qn()):dn},zn.clipExtent=function(Bn){return arguments.length?(dn=Bn==null?(Un=oa=ua=xa=null,fe.Z):(0,d.Z)(Un=+Bn[0][0],oa=+Bn[0][1],ua=+Bn[1][0],xa=+Bn[1][1]),Qn()):Un==null?null:[[Un,oa],[ua,xa]]},zn.scale=function(Bn){return arguments.length?(Ar=+Bn,Qn()):Ar},zn.translate=function(Bn){return arguments.length?(Cr=+Bn[0],Yr=+Bn[1],Qn()):[Cr,Yr]},zn.angle=function(Bn){return arguments.length?(mn=Bn%360*n.uR,Rn=(0,n.O$)(mn),pn=(0,n.mC)(mn),Qn()):mn*n.RW},zn.reflectX=function(Bn){return arguments.length?(Zr=Bn?-1:1,Qn()):Zr<0},zn.reflectY=function(Bn){return arguments.length?(un=Bn?-1:1,Qn()):un<0},zn.fitExtent=function(Bn,qn){return(0,gr.qg)(zn,Bn,qn)},zn.fitSize=function(Bn,qn){return(0,gr.mF)(zn,Bn,qn)},zn.fitWidth=function(Bn,qn){return(0,gr.V6)(zn,Bn,qn)},zn.fitHeight=function(Bn,qn){return(0,gr.rf)(zn,Bn,qn)},zn}var Kr=e(26867),Nr=e(57962),Ur=e(25382);function Tn(Ar,Cr){var Yr=(0,n.mC)(Cr),Zr=1+(0,n.mC)(Ar)*Yr;return[Yr*(0,n.O$)(Ar)/Zr,(0,n.O$)(Cr)/Zr]}Tn.invert=(0,Ur.O)(function(Ar){return 2*(0,n.z4)(Ar)});function rn(){return(0,lr.Z)(Tn).scale(250).clipAngle(142)}function Gn(Ar,Cr){return[(0,n.cM)((0,n.OR)((n.ou+Cr)/2)),-Ar]}Gn.invert=function(Ar,Cr){return[-Cr,2*(0,n.z4)((0,n.Qq)(Ar))-n.ou]};function Hn(){var Ar=Wt(Gn),Cr=Ar.center,Yr=Ar.rotate;return Ar.center=function(Zr){return arguments.length?Cr([-Zr[1],Zr[0]]):(Zr=Cr(),[Zr[1],-Zr[0]])},Ar.rotate=function(Zr){return arguments.length?Yr([Zr[0],Zr[1],Zr.length>2?Zr[2]+90:90]):(Zr=Yr(),[Zr[0],Zr[1],Zr[2]-90])},Yr([0,0,90]).scale(159.155)}},83074:function(H,U,e){e.d(U,{Z:function(){return P}});var g=e(39695);function P(a,L){var T=a[0]*g.uR,v=a[1]*g.uR,d=L[0]*g.uR,t=L[1]*g.uR,r=(0,g.mC)(v),u=(0,g.O$)(v),n=(0,g.mC)(t),s=(0,g.O$)(t),f=r*(0,g.mC)(T),l=r*(0,g.O$)(T),x=n*(0,g.mC)(d),c=n*(0,g.O$)(d),b=2*(0,g.ZR)((0,g._b)((0,g.Jy)(t-v)+r*n*(0,g.Jy)(d-T))),h=(0,g.O$)(b),o=b?function(p){var S=(0,g.O$)(p*=b)/h,A=(0,g.O$)(b-p)/h,E=A*f+S*x,m=A*l+S*c,M=A*u+S*s;return[(0,g.fv)(m,E)*g.RW,(0,g.fv)(M,(0,g._b)(E*E+m*m))*g.RW]}:function(){return[T*g.RW,v*g.RW]};return o.distance=b,o}},39695:function(H,U,e){e.d(U,{BZ:function(){return v},Ho:function(){return g},Jy:function(){return E},Kh:function(){return S},O$:function(){return b},OR:function(){return p},Qq:function(){return l},RW:function(){return d},Wn:function(){return r},Xx:function(){return h},ZR:function(){return A},_b:function(){return o},aW:function(){return P},cM:function(){return x},fv:function(){return n},mC:function(){return s},mD:function(){return f},ou:function(){return L},pi:function(){return a},pu:function(){return T},sQ:function(){return c},uR:function(){return t},z4:function(){return u}});var g=1e-6,P=1e-12,a=Math.PI,L=a/2,T=a/4,v=a*2,d=180/a,t=a/180,r=Math.abs,u=Math.atan,n=Math.atan2,s=Math.cos,f=Math.ceil,l=Math.exp,x=Math.log,c=Math.pow,b=Math.sin,h=Math.sign||function(m){return m>0?1:m<0?-1:0},o=Math.sqrt,p=Math.tan;function S(m){return m>1?0:m<-1?a:Math.acos(m)}function A(m){return m>1?L:m<-1?-L:Math.asin(m)}function E(m){return(m=b(m/2))*m}},73182:function(H,U,e){e.d(U,{Z:function(){return g}});function g(){}},3559:function(H,U,e){var g=e(73182),P=1/0,a=P,L=-P,T=L,v={point:d,lineStart:g.Z,lineEnd:g.Z,polygonStart:g.Z,polygonEnd:g.Z,result:function(){var t=[[P,a],[L,T]];return L=T=-(a=P=1/0),t}};function d(t,r){t<P&&(P=t),t>L&&(L=t),r<a&&(a=r),r>T&&(T=r)}U.Z=v},67108:function(H,U,e){e.d(U,{Z:function(){return P}});var g=e(39695);function P(a,L){return(0,g.Wn)(a[0]-L[0])<g.Ho&&(0,g.Wn)(a[1]-L[1])<g.Ho}},23071:function(H,U,e){e.d(U,{Z:function(){return v}});var g=e(33940),P=e(7620),a=e(39695),L=(0,g.Z)();function T(d){return(0,a.Wn)(d[0])<=a.pi?d[0]:(0,a.Xx)(d[0])*(((0,a.Wn)(d[0])+a.pi)%a.BZ-a.pi)}function v(d,t){var r=T(t),u=t[1],n=(0,a.O$)(u),s=[(0,a.O$)(r),-(0,a.mC)(r),0],f=0,l=0;L.reset(),n===1?u=a.ou+a.Ho:n===-1&&(u=-a.ou-a.Ho);for(var x=0,c=d.length;x<c;++x)if(h=(b=d[x]).length)for(var b,h,o=b[h-1],p=T(o),S=o[1]/2+a.pu,A=(0,a.O$)(S),E=(0,a.mC)(S),m=0;m<h;++m,p=w,A=C,E=y,o=M){var M=b[m],w=T(M),i=M[1]/2+a.pu,C=(0,a.O$)(i),y=(0,a.mC)(i),_=w-p,I=_>=0?1:-1,N=I*_,k=N>a.pi,O=A*C;if(L.add((0,a.fv)(O*I*(0,a.O$)(N),E*y+O*(0,a.mC)(N))),f+=k?_+I*a.BZ:_,k^p>=r^w>=r){var z=(0,P.T5)((0,P.Og)(o),(0,P.Og)(M));(0,P.iJ)(z);var F=(0,P.T5)(s,z);(0,P.iJ)(F);var B=(k^_>=0?-1:1)*(0,a.ZR)(F[2]);(u>B||u===B&&(z[0]||z[1]))&&(l+=k^_>=0?1:-1)}}return(f<-a.Ho||f<a.Ho&&L<-a.Ho)^l&1}},25382:function(H,U,e){e.d(U,{O:function(){return a},W:function(){return P}});var g=e(39695);function P(L){return function(T,v){var d=(0,g.mC)(T),t=(0,g.mC)(v),r=L(d*t);return[r*t*(0,g.O$)(T),r*(0,g.O$)(v)]}}function a(L){return function(T,v){var d=(0,g._b)(T*T+v*v),t=L(d),r=(0,g.O$)(t),u=(0,g.mC)(t);return[(0,g.fv)(T*r,d*u),(0,g.ZR)(d&&v*r/d)]}}},12956:function(H,U,e){e.d(U,{Z:function(){return T},l:function(){return L}});var g=e(39695),P=e(25382),a=e(15002),L=(0,P.W)(function(v){return(0,g._b)(2/(1+v))});L.invert=(0,P.O)(function(v){return 2*(0,g.ZR)(v/2)});function T(){return(0,a.Z)(L).scale(124.75).clipAngle(179.999)}},17889:function(H,U,e){e.d(U,{N:function(){return L},Z:function(){return T}});var g=e(39695),P=e(25382),a=e(15002),L=(0,P.W)(function(v){return(v=(0,g.Kh)(v))&&v/(0,g.O$)(v)});L.invert=(0,P.O)(function(v){return v});function T(){return(0,a.Z)(L).scale(79.4188).clipAngle(179.999)}},97492:function(H,U,e){e.d(U,{Z:function(){return a},k:function(){return P}});var g=e(15002);function P(L,T){return[L,T]}P.invert=P;function a(){return(0,g.Z)(P).scale(152.63)}},47589:function(H,U,e){e.d(U,{V6:function(){return v},mF:function(){return T},qg:function(){return L},rf:function(){return d}});var g=e(72736),P=e(3559);function a(t,r,u){var n=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),n!=null&&t.clipExtent(null),(0,g.Z)(u,t.stream(P.Z)),r(P.Z.result()),n!=null&&t.clipExtent(n),t}function L(t,r,u){return a(t,function(n){var s=r[1][0]-r[0][0],f=r[1][1]-r[0][1],l=Math.min(s/(n[1][0]-n[0][0]),f/(n[1][1]-n[0][1])),x=+r[0][0]+(s-l*(n[1][0]+n[0][0]))/2,c=+r[0][1]+(f-l*(n[1][1]+n[0][1]))/2;t.scale(150*l).translate([x,c])},u)}function T(t,r,u){return L(t,[[0,0],r],u)}function v(t,r,u){return a(t,function(n){var s=+r,f=s/(n[1][0]-n[0][0]),l=(s-f*(n[1][0]+n[0][0]))/2,x=-f*n[0][1];t.scale(150*f).translate([l,x])},u)}function d(t,r,u){return a(t,function(n){var s=+r,f=s/(n[1][1]-n[0][1]),l=-f*n[0][0],x=(s-f*(n[1][1]+n[0][1]))/2;t.scale(150*f).translate([l,x])},u)}},98936:function(H,U,e){e.d(U,{M:function(){return L},Z:function(){return T}});var g=e(39695),P=e(25382),a=e(15002);function L(v,d){var t=(0,g.mC)(d),r=(0,g.mC)(v)*t;return[t*(0,g.O$)(v)/r,(0,g.O$)(d)/r]}L.invert=(0,P.O)(g.z4);function T(){return(0,a.Z)(L).scale(144.049).clipAngle(60)}},15002:function(H,U,e){e.d(U,{Z:function(){return p},r:function(){return S}});var g=e(87070),P=e(1457),a=e(87605),L=e(96059),T=e(8593),v=e(39695),d=e(49386),t=e(64684),r=e(47589),u=e(7620),n=16,s=(0,v.mC)(30*v.uR);function f(A,E){return+E?x(A,E):l(A)}function l(A){return(0,t.l)({point:function(E,m){E=A(E,m),this.stream.point(E[0],E[1])}})}function x(A,E){function m(M,w,i,C,y,_,I,N,k,O,z,F,B,G){var Q=I-M,ee=N-w,ae=Q*Q+ee*ee;if(ae>4*E&&B--){var fe=C+O,K=y+z,W=_+F,Z=(0,v._b)(fe*fe+K*K+W*W),X=(0,v.ZR)(W/=Z),$=(0,v.Wn)((0,v.Wn)(W)-1)<v.Ho||(0,v.Wn)(i-k)<v.Ho?(i+k)/2:(0,v.fv)(K,fe),ie=A($,X),J=ie[0],j=ie[1],se=J-M,ne=j-w,ue=ee*se-Q*ne;(ue*ue/ae>E||(0,v.Wn)((Q*se+ee*ne)/ae-.5)>.3||C*O+y*z+_*F<s)&&(m(M,w,i,C,y,_,J,j,$,fe/=Z,K/=Z,W,B,G),G.point(J,j),m(J,j,$,fe,K,W,I,N,k,O,z,F,B,G))}}return function(M){var w,i,C,y,_,I,N,k,O,z,F,B,G={point:Q,lineStart:ee,lineEnd:fe,polygonStart:function(){M.polygonStart(),G.lineStart=K},polygonEnd:function(){M.polygonEnd(),G.lineStart=ee}};function Q(X,$){X=A(X,$),M.point(X[0],X[1])}function ee(){k=NaN,G.point=ae,M.lineStart()}function ae(X,$){var ie=(0,u.Og)([X,$]),J=A(X,$);m(k,O,N,z,F,B,k=J[0],O=J[1],N=X,z=ie[0],F=ie[1],B=ie[2],n,M),M.point(k,O)}function fe(){G.point=Q,M.lineEnd()}function K(){ee(),G.point=W,G.lineEnd=Z}function W(X,$){ae(w=X,$),i=k,C=O,y=z,_=F,I=B,G.point=ae}function Z(){m(k,O,N,z,F,B,i,C,w,y,_,I,n,M),G.lineEnd=fe,fe()}return G}}var c=(0,t.l)({point:function(A,E){this.stream.point(A*v.uR,E*v.uR)}});function b(A){return(0,t.l)({point:function(E,m){var M=A(E,m);return this.stream.point(M[0],M[1])}})}function h(A,E,m,M,w){function i(C,y){return C*=M,y*=w,[E+A*C,m-A*y]}return i.invert=function(C,y){return[(C-E)/A*M,(m-y)/A*w]},i}function o(A,E,m,M,w,i){var C=(0,v.mC)(i),y=(0,v.O$)(i),_=C*A,I=y*A,N=C/A,k=y/A,O=(y*m-C*E)/A,z=(y*E+C*m)/A;function F(B,G){return B*=M,G*=w,[_*B-I*G+E,m-I*B-_*G]}return F.invert=function(B,G){return[M*(N*B-k*G+O),w*(z-k*B-N*G)]},F}function p(A){return S(function(){return A})()}function S(A){var E,m=150,M=480,w=250,i=0,C=0,y=0,_=0,I=0,N,k=0,O=1,z=1,F=null,B=g.Z,G=null,Q,ee,ae,fe=T.Z,K=.5,W,Z,X,$,ie;function J(ue){return X(ue[0]*v.uR,ue[1]*v.uR)}function j(ue){return ue=X.invert(ue[0],ue[1]),ue&&[ue[0]*v.RW,ue[1]*v.RW]}J.stream=function(ue){return $&&ie===ue?$:$=c(b(N)(B(W(fe(ie=ue)))))},J.preclip=function(ue){return arguments.length?(B=ue,F=void 0,ne()):B},J.postclip=function(ue){return arguments.length?(fe=ue,G=Q=ee=ae=null,ne()):fe},J.clipAngle=function(ue){return arguments.length?(B=+ue?(0,P.Z)(F=ue*v.uR):(F=null,g.Z),ne()):F*v.RW},J.clipExtent=function(ue){return arguments.length?(fe=ue==null?(G=Q=ee=ae=null,T.Z):(0,a.Z)(G=+ue[0][0],Q=+ue[0][1],ee=+ue[1][0],ae=+ue[1][1]),ne()):G==null?null:[[G,Q],[ee,ae]]},J.scale=function(ue){return arguments.length?(m=+ue,se()):m},J.translate=function(ue){return arguments.length?(M=+ue[0],w=+ue[1],se()):[M,w]},J.center=function(ue){return arguments.length?(i=ue[0]%360*v.uR,C=ue[1]%360*v.uR,se()):[i*v.RW,C*v.RW]},J.rotate=function(ue){return arguments.length?(y=ue[0]%360*v.uR,_=ue[1]%360*v.uR,I=ue.length>2?ue[2]%360*v.uR:0,se()):[y*v.RW,_*v.RW,I*v.RW]},J.angle=function(ue){return arguments.length?(k=ue%360*v.uR,se()):k*v.RW},J.reflectX=function(ue){return arguments.length?(O=ue?-1:1,se()):O<0},J.reflectY=function(ue){return arguments.length?(z=ue?-1:1,se()):z<0},J.precision=function(ue){return arguments.length?(W=f(Z,K=ue*ue),ne()):(0,v._b)(K)},J.fitExtent=function(ue,ge){return(0,r.qg)(J,ue,ge)},J.fitSize=function(ue,ge){return(0,r.mF)(J,ue,ge)},J.fitWidth=function(ue,ge){return(0,r.V6)(J,ue,ge)},J.fitHeight=function(ue,ge){return(0,r.rf)(J,ue,ge)};function se(){var ue=o(m,0,0,O,z,k).apply(null,E(i,C)),ge=(k?o:h)(m,M-ue[0],w-ue[1],O,z,k);return N=(0,d.I)(y,_,I),Z=(0,L.Z)(E,ge),X=(0,L.Z)(N,Z),W=f(Z,K),ne()}function ne(){return $=ie=null,J}return function(){return E=A.apply(this,arguments),J.invert=E.invert&&j,se()}}},26867:function(H,U,e){e.d(U,{K:function(){return a},Z:function(){return L}});var g=e(15002),P=e(39695);function a(T,v){var d=v*v,t=d*d;return[T*(.8707-.131979*d+t*(-.013791+t*(.003971*d-.001529*t))),v*(1.007226+d*(.015085+t*(-.044475+.028874*d-.005916*t)))]}a.invert=function(T,v){var d=v,t=25,r;do{var u=d*d,n=u*u;d-=r=(d*(1.007226+u*(.015085+n*(-.044475+.028874*u-.005916*n)))-v)/(1.007226+u*(.045255+n*(-.311325+.259866*u-.06507600000000001*n)))}while((0,P.Wn)(r)>P.Ho&&--t>0);return[T/(.8707+(u=d*d)*(-.131979+u*(-.013791+u*u*u*(.003971-.001529*u)))),d]};function L(){return(0,g.Z)(a).scale(175.295)}},57962:function(H,U,e){e.d(U,{I:function(){return L},Z:function(){return T}});var g=e(39695),P=e(25382),a=e(15002);function L(v,d){return[(0,g.mC)(d)*(0,g.O$)(v),(0,g.O$)(d)]}L.invert=(0,P.O)(g.ZR);function T(){return(0,a.Z)(L).scale(249.5).clipAngle(90+g.Ho)}},49386:function(H,U,e){e.d(U,{I:function(){return L},Z:function(){return t}});var g=e(96059),P=e(39695);function a(r,u){return[(0,P.Wn)(r)>P.pi?r+Math.round(-r/P.BZ)*P.BZ:r,u]}a.invert=a;function L(r,u,n){return(r%=P.BZ)?u||n?(0,g.Z)(v(r),d(u,n)):v(r):u||n?d(u,n):a}function T(r){return function(u,n){return u+=r,[u>P.pi?u-P.BZ:u<-P.pi?u+P.BZ:u,n]}}function v(r){var u=T(r);return u.invert=T(-r),u}function d(r,u){var n=(0,P.mC)(r),s=(0,P.O$)(r),f=(0,P.mC)(u),l=(0,P.O$)(u);function x(c,b){var h=(0,P.mC)(b),o=(0,P.mC)(c)*h,p=(0,P.O$)(c)*h,S=(0,P.O$)(b),A=S*n+o*s;return[(0,P.fv)(p*f-A*l,o*n-S*s),(0,P.ZR)(A*f+p*l)]}return x.invert=function(c,b){var h=(0,P.mC)(b),o=(0,P.mC)(c)*h,p=(0,P.O$)(c)*h,S=(0,P.O$)(b),A=S*f-p*l;return[(0,P.fv)(p*f+S*l,o*n+A*s),(0,P.ZR)(A*n-o*s)]},x}function t(r){r=L(r[0]*P.uR,r[1]*P.uR,r.length>2?r[2]*P.uR:0);function u(n){return n=r(n[0]*P.uR,n[1]*P.uR),n[0]*=P.RW,n[1]*=P.RW,n}return u.invert=function(n){return n=r.invert(n[0]*P.uR,n[1]*P.uR),n[0]*=P.RW,n[1]*=P.RW,n},u}},72736:function(H,U,e){e.d(U,{Z:function(){return v}});function g(d,t){d&&a.hasOwnProperty(d.type)&&a[d.type](d,t)}var P={Feature:function(d,t){g(d.geometry,t)},FeatureCollection:function(d,t){for(var r=d.features,u=-1,n=r.length;++u<n;)g(r[u].geometry,t)}},a={Sphere:function(d,t){t.sphere()},Point:function(d,t){d=d.coordinates,t.point(d[0],d[1],d[2])},MultiPoint:function(d,t){for(var r=d.coordinates,u=-1,n=r.length;++u<n;)d=r[u],t.point(d[0],d[1],d[2])},LineString:function(d,t){L(d.coordinates,t,0)},MultiLineString:function(d,t){for(var r=d.coordinates,u=-1,n=r.length;++u<n;)L(r[u],t,0)},Polygon:function(d,t){T(d.coordinates,t)},MultiPolygon:function(d,t){for(var r=d.coordinates,u=-1,n=r.length;++u<n;)T(r[u],t)},GeometryCollection:function(d,t){for(var r=d.geometries,u=-1,n=r.length;++u<n;)g(r[u],t)}};function L(d,t,r){var u=-1,n=d.length-r,s;for(t.lineStart();++u<n;)s=d[u],t.point(s[0],s[1],s[2]);t.lineEnd()}function T(d,t){var r=-1,u=d.length;for(t.polygonStart();++r<u;)L(d[r],t,1);t.polygonEnd()}function v(d,t){d&&P.hasOwnProperty(d.type)?P[d.type](d,t):g(d,t)}},64684:function(H,U,e){e.d(U,{Z:function(){return g},l:function(){return P}});function g(L){return{stream:P(L)}}function P(L){return function(T){var v=new a;for(var d in L)v[d]=L[d];return v.stream=T,v}}function a(){}a.prototype={constructor:a,point:function(L,T){this.stream.point(L,T)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},674:function(H,U,e){e.r(U),e.d(U,{cluster:function(){return t},hierarchy:function(){return A},pack:function(){return j},packEnclose:function(){return _},packSiblings:function(){return W},partition:function(){return xe},stratify:function(){return Ne},tree:function(){return pt},treemap:function(){return Xe},treemapBinary:function(){return Le},treemapDice:function(){return we},treemapResquarify:function(){return ke},treemapSlice:function(){return mt},treemapSliceDice:function(){return Pe},treemapSquarify:function(){return Zt}});function g(Ce,me){return Ce.parent===me.parent?1:2}function P(Ce){return Ce.reduce(a,0)/Ce.length}function a(Ce,me){return Ce+me.x}function L(Ce){return 1+Ce.reduce(T,0)}function T(Ce,me){return Math.max(Ce,me.y)}function v(Ce){for(var me;me=Ce.children;)Ce=me[0];return Ce}function d(Ce){for(var me;me=Ce.children;)Ce=me[me.length-1];return Ce}function t(){var Ce=g,me=1,oe=1,pe=!1;function Me(_e){var tt,at=0;_e.eachAfter(function(Dt){var $t=Dt.children;$t?(Dt.x=P($t),Dt.y=L($t)):(Dt.x=tt?at+=Ce(Dt,tt):0,Dt.y=0,tt=Dt)});var At=v(_e),Ft=d(_e),Gt=At.x-Ce(At,Ft)/2,Yt=Ft.x+Ce(Ft,At)/2;return _e.eachAfter(pe?function(Dt){Dt.x=(Dt.x-_e.x)*me,Dt.y=(_e.y-Dt.y)*oe}:function(Dt){Dt.x=(Dt.x-Gt)/(Yt-Gt)*me,Dt.y=(1-(_e.y?Dt.y/_e.y:1))*oe})}return Me.separation=function(_e){return arguments.length?(Ce=_e,Me):Ce},Me.size=function(_e){return arguments.length?(pe=!1,me=+_e[0],oe=+_e[1],Me):pe?null:[me,oe]},Me.nodeSize=function(_e){return arguments.length?(pe=!0,me=+_e[0],oe=+_e[1],Me):pe?[me,oe]:null},Me}function r(Ce){var me=0,oe=Ce.children,pe=oe&&oe.length;if(!pe)me=1;else for(;--pe>=0;)me+=oe[pe].value;Ce.value=me}function u(){return this.eachAfter(r)}function n(Ce){var me=this,oe,pe=[me],Me,_e,tt;do for(oe=pe.reverse(),pe=[];me=oe.pop();)if(Ce(me),Me=me.children,Me)for(_e=0,tt=Me.length;_e<tt;++_e)pe.push(Me[_e]);while(pe.length);return this}function s(Ce){for(var me=this,oe=[me],pe,Me;me=oe.pop();)if(Ce(me),pe=me.children,pe)for(Me=pe.length-1;Me>=0;--Me)oe.push(pe[Me]);return this}function f(Ce){for(var me=this,oe=[me],pe=[],Me,_e,tt;me=oe.pop();)if(pe.push(me),Me=me.children,Me)for(_e=0,tt=Me.length;_e<tt;++_e)oe.push(Me[_e]);for(;me=pe.pop();)Ce(me);return this}function l(Ce){return this.eachAfter(function(me){for(var oe=+Ce(me.data)||0,pe=me.children,Me=pe&&pe.length;--Me>=0;)oe+=pe[Me].value;me.value=oe})}function x(Ce){return this.eachBefore(function(me){me.children&&me.children.sort(Ce)})}function c(Ce){for(var me=this,oe=b(me,Ce),pe=[me];me!==oe;)me=me.parent,pe.push(me);for(var Me=pe.length;Ce!==oe;)pe.splice(Me,0,Ce),Ce=Ce.parent;return pe}function b(Ce,me){if(Ce===me)return Ce;var oe=Ce.ancestors(),pe=me.ancestors(),Me=null;for(Ce=oe.pop(),me=pe.pop();Ce===me;)Me=Ce,Ce=oe.pop(),me=pe.pop();return Me}function h(){for(var Ce=this,me=[Ce];Ce=Ce.parent;)me.push(Ce);return me}function o(){var Ce=[];return this.each(function(me){Ce.push(me)}),Ce}function p(){var Ce=[];return this.eachBefore(function(me){me.children||Ce.push(me)}),Ce}function S(){var Ce=this,me=[];return Ce.each(function(oe){oe!==Ce&&me.push({source:oe.parent,target:oe})}),me}function A(Ce,me){var oe=new i(Ce),pe=+Ce.value&&(oe.value=Ce.value),Me,_e=[oe],tt,at,At,Ft;for(me==null&&(me=m);Me=_e.pop();)if(pe&&(Me.value=+Me.data.value),(at=me(Me.data))&&(Ft=at.length))for(Me.children=new Array(Ft),At=Ft-1;At>=0;--At)_e.push(tt=Me.children[At]=new i(at[At])),tt.parent=Me,tt.depth=Me.depth+1;return oe.eachBefore(w)}function E(){return A(this).eachBefore(M)}function m(Ce){return Ce.children}function M(Ce){Ce.data=Ce.data.data}function w(Ce){var me=0;do Ce.height=me;while((Ce=Ce.parent)&&Ce.height<++me)}function i(Ce){this.data=Ce,this.depth=this.height=0,this.parent=null}i.prototype=A.prototype={constructor:i,count:u,each:n,eachAfter:f,eachBefore:s,sum:l,sort:x,path:c,ancestors:h,descendants:o,leaves:p,links:S,copy:E};var C=Array.prototype.slice;function y(Ce){for(var me=Ce.length,oe,pe;me;)pe=Math.random()*me--|0,oe=Ce[me],Ce[me]=Ce[pe],Ce[pe]=oe;return Ce}function _(Ce){for(var me=0,oe=(Ce=y(C.call(Ce))).length,pe=[],Me,_e;me<oe;)Me=Ce[me],_e&&k(_e,Me)?++me:(_e=z(pe=I(pe,Me)),me=0);return _e}function I(Ce,me){var oe,pe;if(O(me,Ce))return[me];for(oe=0;oe<Ce.length;++oe)if(N(me,Ce[oe])&&O(B(Ce[oe],me),Ce))return[Ce[oe],me];for(oe=0;oe<Ce.length-1;++oe)for(pe=oe+1;pe<Ce.length;++pe)if(N(B(Ce[oe],Ce[pe]),me)&&N(B(Ce[oe],me),Ce[pe])&&N(B(Ce[pe],me),Ce[oe])&&O(G(Ce[oe],Ce[pe],me),Ce))return[Ce[oe],Ce[pe],me];throw new Error}function N(Ce,me){var oe=Ce.r-me.r,pe=me.x-Ce.x,Me=me.y-Ce.y;return oe<0||oe*oe<pe*pe+Me*Me}function k(Ce,me){var oe=Ce.r-me.r+1e-6,pe=me.x-Ce.x,Me=me.y-Ce.y;return oe>0&&oe*oe>pe*pe+Me*Me}function O(Ce,me){for(var oe=0;oe<me.length;++oe)if(!k(Ce,me[oe]))return!1;return!0}function z(Ce){switch(Ce.length){case 1:return F(Ce[0]);case 2:return B(Ce[0],Ce[1]);case 3:return G(Ce[0],Ce[1],Ce[2])}}function F(Ce){return{x:Ce.x,y:Ce.y,r:Ce.r}}function B(Ce,me){var oe=Ce.x,pe=Ce.y,Me=Ce.r,_e=me.x,tt=me.y,at=me.r,At=_e-oe,Ft=tt-pe,Gt=at-Me,Yt=Math.sqrt(At*At+Ft*Ft);return{x:(oe+_e+At/Yt*Gt)/2,y:(pe+tt+Ft/Yt*Gt)/2,r:(Yt+Me+at)/2}}function G(Ce,me,oe){var pe=Ce.x,Me=Ce.y,_e=Ce.r,tt=me.x,at=me.y,At=me.r,Ft=oe.x,Gt=oe.y,Yt=oe.r,Dt=pe-tt,$t=pe-Ft,lr=Me-at,Hr=Me-Gt,xt=At-_e,Qt=Yt-_e,jt=pe*pe+Me*Me-_e*_e,Sr=jt-tt*tt-at*at+At*At,gr=jt-Ft*Ft-Gt*Gt+Yt*Yt,ut=$t*lr-Dt*Hr,st=(lr*gr-Hr*Sr)/(ut*2)-pe,bt=(Hr*xt-lr*Qt)/ut,St=($t*Sr-Dt*gr)/(ut*2)-Me,Pt=(Dt*Qt-$t*xt)/ut,Et=bt*bt+Pt*Pt-1,Bt=2*(_e+st*bt+St*Pt),Wt=st*st+St*St-_e*_e,tr=-(Et?(Bt+Math.sqrt(Bt*Bt-4*Et*Wt))/(2*Et):Wt/Bt);return{x:pe+st+bt*tr,y:Me+St+Pt*tr,r:tr}}function Q(Ce,me,oe){var pe=Ce.x-me.x,Me,_e,tt=Ce.y-me.y,at,At,Ft=pe*pe+tt*tt;Ft?(_e=me.r+oe.r,_e*=_e,At=Ce.r+oe.r,At*=At,_e>At?(Me=(Ft+At-_e)/(2*Ft),at=Math.sqrt(Math.max(0,At/Ft-Me*Me)),oe.x=Ce.x-Me*pe-at*tt,oe.y=Ce.y-Me*tt+at*pe):(Me=(Ft+_e-At)/(2*Ft),at=Math.sqrt(Math.max(0,_e/Ft-Me*Me)),oe.x=me.x+Me*pe-at*tt,oe.y=me.y+Me*tt+at*pe)):(oe.x=me.x+oe.r,oe.y=me.y)}function ee(Ce,me){var oe=Ce.r+me.r-1e-6,pe=me.x-Ce.x,Me=me.y-Ce.y;return oe>0&&oe*oe>pe*pe+Me*Me}function ae(Ce){var me=Ce._,oe=Ce.next._,pe=me.r+oe.r,Me=(me.x*oe.r+oe.x*me.r)/pe,_e=(me.y*oe.r+oe.y*me.r)/pe;return Me*Me+_e*_e}function fe(Ce){this._=Ce,this.next=null,this.previous=null}function K(Ce){if(!(Me=Ce.length))return 0;var me,oe,pe,Me,_e,tt,at,At,Ft,Gt,Yt;if(me=Ce[0],me.x=0,me.y=0,!(Me>1))return me.r;if(oe=Ce[1],me.x=-oe.r,oe.x=me.r,oe.y=0,!(Me>2))return me.r+oe.r;Q(oe,me,pe=Ce[2]),me=new fe(me),oe=new fe(oe),pe=new fe(pe),me.next=pe.previous=oe,oe.next=me.previous=pe,pe.next=oe.previous=me;e:for(at=3;at<Me;++at){Q(me._,oe._,pe=Ce[at]),pe=new fe(pe),At=oe.next,Ft=me.previous,Gt=oe._.r,Yt=me._.r;do if(Gt<=Yt){if(ee(At._,pe._)){oe=At,me.next=oe,oe.previous=me,--at;continue e}Gt+=At._.r,At=At.next}else{if(ee(Ft._,pe._)){me=Ft,me.next=oe,oe.previous=me,--at;continue e}Yt+=Ft._.r,Ft=Ft.previous}while(At!==Ft.next);for(pe.previous=me,pe.next=oe,me.next=oe.previous=oe=pe,_e=ae(me);(pe=pe.next)!==oe;)(tt=ae(pe))<_e&&(me=pe,_e=tt);oe=me.next}for(me=[oe._],pe=oe;(pe=pe.next)!==oe;)me.push(pe._);for(pe=_(me),at=0;at<Me;++at)me=Ce[at],me.x-=pe.x,me.y-=pe.y;return pe.r}function W(Ce){return K(Ce),Ce}function Z(Ce){return Ce==null?null:X(Ce)}function X(Ce){if(typeof Ce!="function")throw new Error;return Ce}function $(){return 0}function ie(Ce){return function(){return Ce}}function J(Ce){return Math.sqrt(Ce.value)}function j(){var Ce=null,me=1,oe=1,pe=$;function Me(_e){return _e.x=me/2,_e.y=oe/2,Ce?_e.eachBefore(se(Ce)).eachAfter(ne(pe,.5)).eachBefore(ue(1)):_e.eachBefore(se(J)).eachAfter(ne($,1)).eachAfter(ne(pe,_e.r/Math.min(me,oe))).eachBefore(ue(Math.min(me,oe)/(2*_e.r))),_e}return Me.radius=function(_e){return arguments.length?(Ce=Z(_e),Me):Ce},Me.size=function(_e){return arguments.length?(me=+_e[0],oe=+_e[1],Me):[me,oe]},Me.padding=function(_e){return arguments.length?(pe=typeof _e=="function"?_e:ie(+_e),Me):pe},Me}function se(Ce){return function(me){me.children||(me.r=Math.max(0,+Ce(me)||0))}}function ne(Ce,me){return function(oe){if(pe=oe.children){var pe,Me,_e=pe.length,tt=Ce(oe)*me||0,at;if(tt)for(Me=0;Me<_e;++Me)pe[Me].r+=tt;if(at=K(pe),tt)for(Me=0;Me<_e;++Me)pe[Me].r-=tt;oe.r=at+tt}}}function ue(Ce){return function(me){var oe=me.parent;me.r*=Ce,oe&&(me.x=oe.x+Ce*me.x,me.y=oe.y+Ce*me.y)}}function ge(Ce){Ce.x0=Math.round(Ce.x0),Ce.y0=Math.round(Ce.y0),Ce.x1=Math.round(Ce.x1),Ce.y1=Math.round(Ce.y1)}function we(Ce,me,oe,pe,Me){for(var _e=Ce.children,tt,at=-1,At=_e.length,Ft=Ce.value&&(pe-me)/Ce.value;++at<At;)tt=_e[at],tt.y0=oe,tt.y1=Me,tt.x0=me,tt.x1=me+=tt.value*Ft}function xe(){var Ce=1,me=1,oe=0,pe=!1;function Me(tt){var at=tt.height+1;return tt.x0=tt.y0=oe,tt.x1=Ce,tt.y1=me/at,tt.eachBefore(_e(me,at)),pe&&tt.eachBefore(ge),tt}function _e(tt,at){return function(At){At.children&&we(At,At.x0,tt*(At.depth+1)/at,At.x1,tt*(At.depth+2)/at);var Ft=At.x0,Gt=At.y0,Yt=At.x1-oe,Dt=At.y1-oe;Yt<Ft&&(Ft=Yt=(Ft+Yt)/2),Dt<Gt&&(Gt=Dt=(Gt+Dt)/2),At.x0=Ft,At.y0=Gt,At.x1=Yt,At.y1=Dt}}return Me.round=function(tt){return arguments.length?(pe=!!tt,Me):pe},Me.size=function(tt){return arguments.length?(Ce=+tt[0],me=+tt[1],Me):[Ce,me]},Me.padding=function(tt){return arguments.length?(oe=+tt,Me):oe},Me}var Fe="$",ze={depth:-1},Te={};function ye(Ce){return Ce.id}function Ae(Ce){return Ce.parentId}function Ne(){var Ce=ye,me=Ae;function oe(pe){var Me,_e,tt=pe.length,at,At,Ft,Gt=new Array(tt),Yt,Dt,$t={};for(_e=0;_e<tt;++_e)Me=pe[_e],Ft=Gt[_e]=new i(Me),(Yt=Ce(Me,_e,pe))!=null&&(Yt+="")&&(Dt=Fe+(Ft.id=Yt),$t[Dt]=Dt in $t?Te:Ft);for(_e=0;_e<tt;++_e)if(Ft=Gt[_e],Yt=me(pe[_e],_e,pe),Yt==null||!(Yt+="")){if(at)throw new Error("multiple roots");at=Ft}else{if(At=$t[Fe+Yt],!At)throw new Error("missing: "+Yt);if(At===Te)throw new Error("ambiguous: "+Yt);At.children?At.children.push(Ft):At.children=[Ft],Ft.parent=At}if(!at)throw new Error("no root");if(at.parent=ze,at.eachBefore(function(lr){lr.depth=lr.parent.depth+1,--tt}).eachBefore(w),at.parent=null,tt>0)throw new Error("cycle");return at}return oe.id=function(pe){return arguments.length?(Ce=X(pe),oe):Ce},oe.parentId=function(pe){return arguments.length?(me=X(pe),oe):me},oe}function Ue(Ce,me){return Ce.parent===me.parent?1:2}function Re(Ce){var me=Ce.children;return me?me[0]:Ce.t}function Ve(Ce){var me=Ce.children;return me?me[me.length-1]:Ce.t}function rt(Ce,me,oe){var pe=oe/(me.i-Ce.i);me.c-=pe,me.s+=oe,Ce.c+=pe,me.z+=oe,me.m+=oe}function Qe(Ce){for(var me=0,oe=0,pe=Ce.children,Me=pe.length,_e;--Me>=0;)_e=pe[Me],_e.z+=me,_e.m+=me,me+=_e.s+(oe+=_e.c)}function Je(Ce,me,oe){return Ce.a.parent===me.parent?Ce.a:oe}function qe(Ce,me){this._=Ce,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=me}qe.prototype=Object.create(i.prototype);function dt(Ce){for(var me=new qe(Ce,0),oe,pe=[me],Me,_e,tt,at;oe=pe.pop();)if(_e=oe._.children)for(oe.children=new Array(at=_e.length),tt=at-1;tt>=0;--tt)pe.push(Me=oe.children[tt]=new qe(_e[tt],tt)),Me.parent=oe;return(me.parent=new qe(null,0)).children=[me],me}function pt(){var Ce=Ue,me=1,oe=1,pe=null;function Me(Ft){var Gt=dt(Ft);if(Gt.eachAfter(_e),Gt.parent.m=-Gt.z,Gt.eachBefore(tt),pe)Ft.eachBefore(At);else{var Yt=Ft,Dt=Ft,$t=Ft;Ft.eachBefore(function(jt){jt.x<Yt.x&&(Yt=jt),jt.x>Dt.x&&(Dt=jt),jt.depth>$t.depth&&($t=jt)});var lr=Yt===Dt?1:Ce(Yt,Dt)/2,Hr=lr-Yt.x,xt=me/(Dt.x+lr+Hr),Qt=oe/($t.depth||1);Ft.eachBefore(function(jt){jt.x=(jt.x+Hr)*xt,jt.y=jt.depth*Qt})}return Ft}function _e(Ft){var Gt=Ft.children,Yt=Ft.parent.children,Dt=Ft.i?Yt[Ft.i-1]:null;if(Gt){Qe(Ft);var $t=(Gt[0].z+Gt[Gt.length-1].z)/2;Dt?(Ft.z=Dt.z+Ce(Ft._,Dt._),Ft.m=Ft.z-$t):Ft.z=$t}else Dt&&(Ft.z=Dt.z+Ce(Ft._,Dt._));Ft.parent.A=at(Ft,Dt,Ft.parent.A||Yt[0])}function tt(Ft){Ft._.x=Ft.z+Ft.parent.m,Ft.m+=Ft.parent.m}function at(Ft,Gt,Yt){if(Gt){for(var Dt=Ft,$t=Ft,lr=Gt,Hr=Dt.parent.children[0],xt=Dt.m,Qt=$t.m,jt=lr.m,Sr=Hr.m,gr;lr=Ve(lr),Dt=Re(Dt),lr&&Dt;)Hr=Re(Hr),$t=Ve($t),$t.a=Ft,gr=lr.z+jt-Dt.z-xt+Ce(lr._,Dt._),gr>0&&(rt(Je(lr,Ft,Yt),Ft,gr),xt+=gr,Qt+=gr),jt+=lr.m,xt+=Dt.m,Sr+=Hr.m,Qt+=$t.m;lr&&!Ve($t)&&($t.t=lr,$t.m+=jt-Qt),Dt&&!Re(Hr)&&(Hr.t=Dt,Hr.m+=xt-Sr,Yt=Ft)}return Yt}function At(Ft){Ft.x*=me,Ft.y=Ft.depth*oe}return Me.separation=function(Ft){return arguments.length?(Ce=Ft,Me):Ce},Me.size=function(Ft){return arguments.length?(pe=!1,me=+Ft[0],oe=+Ft[1],Me):pe?null:[me,oe]},Me.nodeSize=function(Ft){return arguments.length?(pe=!0,me=+Ft[0],oe=+Ft[1],Me):pe?[me,oe]:null},Me}function mt(Ce,me,oe,pe,Me){for(var _e=Ce.children,tt,at=-1,At=_e.length,Ft=Ce.value&&(Me-oe)/Ce.value;++at<At;)tt=_e[at],tt.x0=me,tt.x1=pe,tt.y0=oe,tt.y1=oe+=tt.value*Ft}var Ct=(1+Math.sqrt(5))/2;function Rt(Ce,me,oe,pe,Me,_e){for(var tt=[],at=me.children,At,Ft,Gt=0,Yt=0,Dt=at.length,$t,lr,Hr=me.value,xt,Qt,jt,Sr,gr,ut,st;Gt<Dt;){$t=Me-oe,lr=_e-pe;do xt=at[Yt++].value;while(!xt&&Yt<Dt);for(Qt=jt=xt,ut=Math.max(lr/$t,$t/lr)/(Hr*Ce),st=xt*xt*ut,gr=Math.max(jt/st,st/Qt);Yt<Dt;++Yt){if(xt+=Ft=at[Yt].value,Ft<Qt&&(Qt=Ft),Ft>jt&&(jt=Ft),st=xt*xt*ut,Sr=Math.max(jt/st,st/Qt),Sr>gr){xt-=Ft;break}gr=Sr}tt.push(At={value:xt,dice:$t<lr,children:at.slice(Gt,Yt)}),At.dice?we(At,oe,pe,Me,Hr?pe+=lr*xt/Hr:_e):mt(At,oe,pe,Hr?oe+=$t*xt/Hr:Me,_e),Hr-=xt,Gt=Yt}return tt}var Zt=function Ce(me){function oe(pe,Me,_e,tt,at){Rt(me,pe,Me,_e,tt,at)}return oe.ratio=function(pe){return Ce((pe=+pe)>1?pe:1)},oe}(Ct);function Xe(){var Ce=Zt,me=!1,oe=1,pe=1,Me=[0],_e=$,tt=$,at=$,At=$,Ft=$;function Gt(Dt){return Dt.x0=Dt.y0=0,Dt.x1=oe,Dt.y1=pe,Dt.eachBefore(Yt),Me=[0],me&&Dt.eachBefore(ge),Dt}function Yt(Dt){var $t=Me[Dt.depth],lr=Dt.x0+$t,Hr=Dt.y0+$t,xt=Dt.x1-$t,Qt=Dt.y1-$t;xt<lr&&(lr=xt=(lr+xt)/2),Qt<Hr&&(Hr=Qt=(Hr+Qt)/2),Dt.x0=lr,Dt.y0=Hr,Dt.x1=xt,Dt.y1=Qt,Dt.children&&($t=Me[Dt.depth+1]=_e(Dt)/2,lr+=Ft(Dt)-$t,Hr+=tt(Dt)-$t,xt-=at(Dt)-$t,Qt-=At(Dt)-$t,xt<lr&&(lr=xt=(lr+xt)/2),Qt<Hr&&(Hr=Qt=(Hr+Qt)/2),Ce(Dt,lr,Hr,xt,Qt))}return Gt.round=function(Dt){return arguments.length?(me=!!Dt,Gt):me},Gt.size=function(Dt){return arguments.length?(oe=+Dt[0],pe=+Dt[1],Gt):[oe,pe]},Gt.tile=function(Dt){return arguments.length?(Ce=X(Dt),Gt):Ce},Gt.padding=function(Dt){return arguments.length?Gt.paddingInner(Dt).paddingOuter(Dt):Gt.paddingInner()},Gt.paddingInner=function(Dt){return arguments.length?(_e=typeof Dt=="function"?Dt:ie(+Dt),Gt):_e},Gt.paddingOuter=function(Dt){return arguments.length?Gt.paddingTop(Dt).paddingRight(Dt).paddingBottom(Dt).paddingLeft(Dt):Gt.paddingTop()},Gt.paddingTop=function(Dt){return arguments.length?(tt=typeof Dt=="function"?Dt:ie(+Dt),Gt):tt},Gt.paddingRight=function(Dt){return arguments.length?(at=typeof Dt=="function"?Dt:ie(+Dt),Gt):at},Gt.paddingBottom=function(Dt){return arguments.length?(At=typeof Dt=="function"?Dt:ie(+Dt),Gt):At},Gt.paddingLeft=function(Dt){return arguments.length?(Ft=typeof Dt=="function"?Dt:ie(+Dt),Gt):Ft},Gt}function Le(Ce,me,oe,pe,Me){var _e=Ce.children,tt,at=_e.length,At,Ft=new Array(at+1);for(Ft[0]=At=tt=0;tt<at;++tt)Ft[tt+1]=At+=_e[tt].value;Gt(0,at,Ce.value,me,oe,pe,Me);function Gt(Yt,Dt,$t,lr,Hr,xt,Qt){if(Yt>=Dt-1){var jt=_e[Yt];jt.x0=lr,jt.y0=Hr,jt.x1=xt,jt.y1=Qt;return}for(var Sr=Ft[Yt],gr=$t/2+Sr,ut=Yt+1,st=Dt-1;ut<st;){var bt=ut+st>>>1;Ft[bt]<gr?ut=bt+1:st=bt}gr-Ft[ut-1]<Ft[ut]-gr&&Yt+1<ut&&--ut;var St=Ft[ut]-Sr,Pt=$t-St;if(xt-lr>Qt-Hr){var Et=(lr*Pt+xt*St)/$t;Gt(Yt,ut,St,lr,Hr,Et,Qt),Gt(ut,Dt,Pt,Et,Hr,xt,Qt)}else{var Bt=(Hr*Pt+Qt*St)/$t;Gt(Yt,ut,St,lr,Hr,xt,Bt),Gt(ut,Dt,Pt,lr,Bt,xt,Qt)}}}function Pe(Ce,me,oe,pe,Me){(Ce.depth&1?mt:we)(Ce,me,oe,pe,Me)}var ke=function Ce(me){function oe(pe,Me,_e,tt,at){if((At=pe._squarify)&&At.ratio===me)for(var At,Ft,Gt,Yt,Dt=-1,$t,lr=At.length,Hr=pe.value;++Dt<lr;){for(Ft=At[Dt],Gt=Ft.children,Yt=Ft.value=0,$t=Gt.length;Yt<$t;++Yt)Ft.value+=Gt[Yt].value;Ft.dice?we(Ft,Me,_e,tt,_e+=(at-_e)*Ft.value/Hr):mt(Ft,Me,_e,Me+=(tt-Me)*Ft.value/Hr,at),Hr-=Ft.value}else pe._squarify=At=Rt(me,pe,Me,_e,tt,at),At.ratio=me}return oe.ratio=function(pe){return Ce((pe=+pe)>1?pe:1)},oe}(Ct)},45879:function(H,U,e){e.d(U,{h5:function(){return c}});var g=Math.PI,P=2*g,a=1e-6,L=P-a;function T(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v(){return new T}T.prototype=v.prototype={constructor:T,moveTo:function(b,h){this._+="M"+(this._x0=this._x1=+b)+","+(this._y0=this._y1=+h)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(b,h){this._+="L"+(this._x1=+b)+","+(this._y1=+h)},quadraticCurveTo:function(b,h,o,p){this._+="Q"+ +b+","+ +h+","+(this._x1=+o)+","+(this._y1=+p)},bezierCurveTo:function(b,h,o,p,S,A){this._+="C"+ +b+","+ +h+","+ +o+","+ +p+","+(this._x1=+S)+","+(this._y1=+A)},arcTo:function(b,h,o,p,S){b=+b,h=+h,o=+o,p=+p,S=+S;var A=this._x1,E=this._y1,m=o-b,M=p-h,w=A-b,i=E-h,C=w*w+i*i;if(S<0)throw new Error("negative radius: "+S);if(this._x1===null)this._+="M"+(this._x1=b)+","+(this._y1=h);else if(C>a)if(!(Math.abs(i*m-M*w)>a)||!S)this._+="L"+(this._x1=b)+","+(this._y1=h);else{var y=o-A,_=p-E,I=m*m+M*M,N=y*y+_*_,k=Math.sqrt(I),O=Math.sqrt(C),z=S*Math.tan((g-Math.acos((I+C-N)/(2*k*O)))/2),F=z/O,B=z/k;Math.abs(F-1)>a&&(this._+="L"+(b+F*w)+","+(h+F*i)),this._+="A"+S+","+S+",0,0,"+ +(i*y>w*_)+","+(this._x1=b+B*m)+","+(this._y1=h+B*M)}},arc:function(b,h,o,p,S,A){b=+b,h=+h,o=+o,A=!!A;var E=o*Math.cos(p),m=o*Math.sin(p),M=b+E,w=h+m,i=1^A,C=A?p-S:S-p;if(o<0)throw new Error("negative radius: "+o);this._x1===null?this._+="M"+M+","+w:(Math.abs(this._x1-M)>a||Math.abs(this._y1-w)>a)&&(this._+="L"+M+","+w),o&&(C<0&&(C=C%P+P),C>L?this._+="A"+o+","+o+",0,1,"+i+","+(b-E)+","+(h-m)+"A"+o+","+o+",0,1,"+i+","+(this._x1=M)+","+(this._y1=w):C>a&&(this._+="A"+o+","+o+",0,"+ +(C>=g)+","+i+","+(this._x1=b+o*Math.cos(S))+","+(this._y1=h+o*Math.sin(S))))},rect:function(b,h,o,p){this._+="M"+(this._x0=this._x1=+b)+","+(this._y0=this._y1=+h)+"h"+ +o+"v"+ +p+"h"+-o+"Z"},toString:function(){return this._}};var d=v,t=Array.prototype.slice;function r(b){return function(){return b}}function u(b){return b[0]}function n(b){return b[1]}function s(b){return b.source}function f(b){return b.target}function l(b){var h=s,o=f,p=u,S=n,A=null;function E(){var m,M=t.call(arguments),w=h.apply(this,M),i=o.apply(this,M);if(A||(A=m=d()),b(A,+p.apply(this,(M[0]=w,M)),+S.apply(this,M),+p.apply(this,(M[0]=i,M)),+S.apply(this,M)),m)return A=null,m+""||null}return E.source=function(m){return arguments.length?(h=m,E):h},E.target=function(m){return arguments.length?(o=m,E):o},E.x=function(m){return arguments.length?(p=typeof m=="function"?m:r(+m),E):p},E.y=function(m){return arguments.length?(S=typeof m=="function"?m:r(+m),E):S},E.context=function(m){return arguments.length?(A=m??null,E):A},E}function x(b,h,o,p,S){b.moveTo(h,o),b.bezierCurveTo(h=(h+p)/2,o,h,S,p,S)}function c(){return l(x)}},84096:function(H,U,e){e.d(U,{i$:function(){return Le},Dq:function(){return u},g0:function(){return Pe}});var g=e(58176),P=e(48480),a=e(59879),L=e(82301),T=e(34823),v=e(79791);function d(Ce){if(0<=Ce.y&&Ce.y<100){var me=new Date(-1,Ce.m,Ce.d,Ce.H,Ce.M,Ce.S,Ce.L);return me.setFullYear(Ce.y),me}return new Date(Ce.y,Ce.m,Ce.d,Ce.H,Ce.M,Ce.S,Ce.L)}function t(Ce){if(0<=Ce.y&&Ce.y<100){var me=new Date(Date.UTC(-1,Ce.m,Ce.d,Ce.H,Ce.M,Ce.S,Ce.L));return me.setUTCFullYear(Ce.y),me}return new Date(Date.UTC(Ce.y,Ce.m,Ce.d,Ce.H,Ce.M,Ce.S,Ce.L))}function r(Ce,me,oe){return{y:Ce,m:me,d:oe,H:0,M:0,S:0,L:0}}function u(Ce){var me=Ce.dateTime,oe=Ce.date,pe=Ce.time,Me=Ce.periods,_e=Ce.days,tt=Ce.shortDays,at=Ce.months,At=Ce.shortMonths,Ft=b(Me),Gt=h(Me),Yt=b(_e),Dt=h(_e),$t=b(tt),lr=h(tt),Hr=b(at),xt=h(at),Qt=b(At),jt=h(At),Sr={a:We,A:Ge,b:_t,B:Ot,c:null,d:Q,e:Q,f:W,H:ee,I:ae,j:fe,L:K,m:Z,M:X,p:Kt,q:or,Q:Rt,s:Zt,S:$,u:ie,U:J,V:j,w:se,W:ne,x:null,X:null,y:ue,Y:ge,Z:we,"%":Ct},gr={a:hr,A:ir,b:Nt,B:vr,c:null,d:xe,e:xe,f:Ae,H:Fe,I:ze,j:Te,L:ye,m:Ne,M:Ue,p:mr,q:xr,Q:Rt,s:Zt,S:Re,u:Ve,U:rt,V:Qe,w:Je,W:qe,x:null,X:null,y:dt,Y:pt,Z:mt,"%":Ct},ut={a:Et,A:Bt,b:Wt,B:tr,c:er,d:y,e:y,f:z,H:I,I,j:_,L:O,m:C,M:N,p:Pt,q:i,Q:B,s:G,S:k,u:p,U:S,V:A,w:o,W:E,x:ur,X:kr,y:M,Y:m,Z:w,"%":F};Sr.x=st(oe,Sr),Sr.X=st(pe,Sr),Sr.c=st(me,Sr),gr.x=st(oe,gr),gr.X=st(pe,gr),gr.c=st(me,gr);function st(yr,Kr){return function(Nr){var Ur=[],Tn=-1,rn=0,Gn=yr.length,Hn,Ar,Cr;for(Nr instanceof Date||(Nr=new Date(+Nr));++Tn<Gn;)yr.charCodeAt(Tn)===37&&(Ur.push(yr.slice(rn,Tn)),(Ar=n[Hn=yr.charAt(++Tn)])!=null?Hn=yr.charAt(++Tn):Ar=Hn==="e"?" ":"0",(Cr=Kr[Hn])&&(Hn=Cr(Nr,Ar)),Ur.push(Hn),rn=Tn+1);return Ur.push(yr.slice(rn,Tn)),Ur.join("")}}function bt(yr,Kr){return function(Nr){var Ur=r(1900,void 0,1),Tn=St(Ur,yr,Nr+="",0),rn,Gn;if(Tn!=Nr.length)return null;if("Q"in Ur)return new Date(Ur.Q);if("s"in Ur)return new Date(Ur.s*1e3+("L"in Ur?Ur.L:0));if(Kr&&!("Z"in Ur)&&(Ur.Z=0),"p"in Ur&&(Ur.H=Ur.H%12+Ur.p*12),Ur.m===void 0&&(Ur.m="q"in Ur?Ur.q:0),"V"in Ur){if(Ur.V<1||Ur.V>53)return null;"w"in Ur||(Ur.w=1),"Z"in Ur?(rn=t(r(Ur.y,0,1)),Gn=rn.getUTCDay(),rn=Gn>4||Gn===0?g.l6.ceil(rn):(0,g.l6)(rn),rn=P.Z.offset(rn,(Ur.V-1)*7),Ur.y=rn.getUTCFullYear(),Ur.m=rn.getUTCMonth(),Ur.d=rn.getUTCDate()+(Ur.w+6)%7):(rn=d(r(Ur.y,0,1)),Gn=rn.getDay(),rn=Gn>4||Gn===0?a.wA.ceil(rn):(0,a.wA)(rn),rn=L.Z.offset(rn,(Ur.V-1)*7),Ur.y=rn.getFullYear(),Ur.m=rn.getMonth(),Ur.d=rn.getDate()+(Ur.w+6)%7)}else("W"in Ur||"U"in Ur)&&("w"in Ur||(Ur.w="u"in Ur?Ur.u%7:"W"in Ur?1:0),Gn="Z"in Ur?t(r(Ur.y,0,1)).getUTCDay():d(r(Ur.y,0,1)).getDay(),Ur.m=0,Ur.d="W"in Ur?(Ur.w+6)%7+Ur.W*7-(Gn+5)%7:Ur.w+Ur.U*7-(Gn+6)%7);return"Z"in Ur?(Ur.H+=Ur.Z/100|0,Ur.M+=Ur.Z%100,t(Ur)):d(Ur)}}function St(yr,Kr,Nr,Ur){for(var Tn=0,rn=Kr.length,Gn=Nr.length,Hn,Ar;Tn<rn;){if(Ur>=Gn)return-1;if(Hn=Kr.charCodeAt(Tn++),Hn===37){if(Hn=Kr.charAt(Tn++),Ar=ut[Hn in n?Kr.charAt(Tn++):Hn],!Ar||(Ur=Ar(yr,Nr,Ur))<0)return-1}else if(Hn!=Nr.charCodeAt(Ur++))return-1}return Ur}function Pt(yr,Kr,Nr){var Ur=Ft.exec(Kr.slice(Nr));return Ur?(yr.p=Gt[Ur[0].toLowerCase()],Nr+Ur[0].length):-1}function Et(yr,Kr,Nr){var Ur=$t.exec(Kr.slice(Nr));return Ur?(yr.w=lr[Ur[0].toLowerCase()],Nr+Ur[0].length):-1}function Bt(yr,Kr,Nr){var Ur=Yt.exec(Kr.slice(Nr));return Ur?(yr.w=Dt[Ur[0].toLowerCase()],Nr+Ur[0].length):-1}function Wt(yr,Kr,Nr){var Ur=Qt.exec(Kr.slice(Nr));return Ur?(yr.m=jt[Ur[0].toLowerCase()],Nr+Ur[0].length):-1}function tr(yr,Kr,Nr){var Ur=Hr.exec(Kr.slice(Nr));return Ur?(yr.m=xt[Ur[0].toLowerCase()],Nr+Ur[0].length):-1}function er(yr,Kr,Nr){return St(yr,me,Kr,Nr)}function ur(yr,Kr,Nr){return St(yr,oe,Kr,Nr)}function kr(yr,Kr,Nr){return St(yr,pe,Kr,Nr)}function We(yr){return tt[yr.getDay()]}function Ge(yr){return _e[yr.getDay()]}function _t(yr){return At[yr.getMonth()]}function Ot(yr){return at[yr.getMonth()]}function Kt(yr){return Me[+(yr.getHours()>=12)]}function or(yr){return 1+~~(yr.getMonth()/3)}function hr(yr){return tt[yr.getUTCDay()]}function ir(yr){return _e[yr.getUTCDay()]}function Nt(yr){return At[yr.getUTCMonth()]}function vr(yr){return at[yr.getUTCMonth()]}function mr(yr){return Me[+(yr.getUTCHours()>=12)]}function xr(yr){return 1+~~(yr.getUTCMonth()/3)}return{format:function(yr){var Kr=st(yr+="",Sr);return Kr.toString=function(){return yr},Kr},parse:function(yr){var Kr=bt(yr+="",!1);return Kr.toString=function(){return yr},Kr},utcFormat:function(yr){var Kr=st(yr+="",gr);return Kr.toString=function(){return yr},Kr},utcParse:function(yr){var Kr=bt(yr+="",!0);return Kr.toString=function(){return yr},Kr}}}var n={"-":"",_:" ",0:"0"},s=/^\s*\d+/,f=/^%/,l=/[\\^$*+?|[\]().{}]/g;function x(Ce,me,oe){var pe=Ce<0?"-":"",Me=(pe?-Ce:Ce)+"",_e=Me.length;return pe+(_e<oe?new Array(oe-_e+1).join(me)+Me:Me)}function c(Ce){return Ce.replace(l,"\\$&")}function b(Ce){return new RegExp("^(?:"+Ce.map(c).join("|")+")","i")}function h(Ce){for(var me={},oe=-1,pe=Ce.length;++oe<pe;)me[Ce[oe].toLowerCase()]=oe;return me}function o(Ce,me,oe){var pe=s.exec(me.slice(oe,oe+1));return pe?(Ce.w=+pe[0],oe+pe[0].length):-1}function p(Ce,me,oe){var pe=s.exec(me.slice(oe,oe+1));return pe?(Ce.u=+pe[0],oe+pe[0].length):-1}function S(Ce,me,oe){var pe=s.exec(me.slice(oe,oe+2));return pe?(Ce.U=+pe[0],oe+pe[0].length):-1}function A(Ce,me,oe){var pe=s.exec(me.slice(oe,oe+2));return pe?(Ce.V=+pe[0],oe+pe[0].length):-1}function E(Ce,me,oe){var pe=s.exec(me.slice(oe,oe+2));return pe?(Ce.W=+pe[0],oe+pe[0].length):-1}function m(Ce,me,oe){var pe=s.exec(me.slice(oe,oe+4));return pe?(Ce.y=+pe[0],oe+pe[0].length):-1}function M(Ce,me,oe){var pe=s.exec(me.slice(oe,oe+2));return pe?(Ce.y=+pe[0]+(+pe[0]>68?1900:2e3),oe+pe[0].length):-1}function w(Ce,me,oe){var pe=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(me.slice(oe,oe+6));return pe?(Ce.Z=pe[1]?0:-(pe[2]+(pe[3]||"00")),oe+pe[0].length):-1}function i(Ce,me,oe){var pe=s.exec(me.slice(oe,oe+1));return pe?(Ce.q=pe[0]*3-3,oe+pe[0].length):-1}function C(Ce,me,oe){var pe=s.exec(me.slice(oe,oe+2));return pe?(Ce.m=pe[0]-1,oe+pe[0].length):-1}function y(Ce,me,oe){var pe=s.exec(me.slice(oe,oe+2));return pe?(Ce.d=+pe[0],oe+pe[0].length):-1}function _(Ce,me,oe){var pe=s.exec(me.slice(oe,oe+3));return pe?(Ce.m=0,Ce.d=+pe[0],oe+pe[0].length):-1}function I(Ce,me,oe){var pe=s.exec(me.slice(oe,oe+2));return pe?(Ce.H=+pe[0],oe+pe[0].length):-1}function N(Ce,me,oe){var pe=s.exec(me.slice(oe,oe+2));return pe?(Ce.M=+pe[0],oe+pe[0].length):-1}function k(Ce,me,oe){var pe=s.exec(me.slice(oe,oe+2));return pe?(Ce.S=+pe[0],oe+pe[0].length):-1}function O(Ce,me,oe){var pe=s.exec(me.slice(oe,oe+3));return pe?(Ce.L=+pe[0],oe+pe[0].length):-1}function z(Ce,me,oe){var pe=s.exec(me.slice(oe,oe+6));return pe?(Ce.L=Math.floor(pe[0]/1e3),oe+pe[0].length):-1}function F(Ce,me,oe){var pe=f.exec(me.slice(oe,oe+1));return pe?oe+pe[0].length:-1}function B(Ce,me,oe){var pe=s.exec(me.slice(oe));return pe?(Ce.Q=+pe[0],oe+pe[0].length):-1}function G(Ce,me,oe){var pe=s.exec(me.slice(oe));return pe?(Ce.s=+pe[0],oe+pe[0].length):-1}function Q(Ce,me){return x(Ce.getDate(),me,2)}function ee(Ce,me){return x(Ce.getHours(),me,2)}function ae(Ce,me){return x(Ce.getHours()%12||12,me,2)}function fe(Ce,me){return x(1+L.Z.count((0,T.Z)(Ce),Ce),me,3)}function K(Ce,me){return x(Ce.getMilliseconds(),me,3)}function W(Ce,me){return K(Ce,me)+"000"}function Z(Ce,me){return x(Ce.getMonth()+1,me,2)}function X(Ce,me){return x(Ce.getMinutes(),me,2)}function $(Ce,me){return x(Ce.getSeconds(),me,2)}function ie(Ce){var me=Ce.getDay();return me===0?7:me}function J(Ce,me){return x(a.OM.count((0,T.Z)(Ce)-1,Ce),me,2)}function j(Ce,me){var oe=Ce.getDay();return Ce=oe>=4||oe===0?(0,a.bL)(Ce):a.bL.ceil(Ce),x(a.bL.count((0,T.Z)(Ce),Ce)+((0,T.Z)(Ce).getDay()===4),me,2)}function se(Ce){return Ce.getDay()}function ne(Ce,me){return x(a.wA.count((0,T.Z)(Ce)-1,Ce),me,2)}function ue(Ce,me){return x(Ce.getFullYear()%100,me,2)}function ge(Ce,me){return x(Ce.getFullYear()%1e4,me,4)}function we(Ce){var me=Ce.getTimezoneOffset();return(me>0?"-":(me*=-1,"+"))+x(me/60|0,"0",2)+x(me%60,"0",2)}function xe(Ce,me){return x(Ce.getUTCDate(),me,2)}function Fe(Ce,me){return x(Ce.getUTCHours(),me,2)}function ze(Ce,me){return x(Ce.getUTCHours()%12||12,me,2)}function Te(Ce,me){return x(1+P.Z.count((0,v.Z)(Ce),Ce),me,3)}function ye(Ce,me){return x(Ce.getUTCMilliseconds(),me,3)}function Ae(Ce,me){return ye(Ce,me)+"000"}function Ne(Ce,me){return x(Ce.getUTCMonth()+1,me,2)}function Ue(Ce,me){return x(Ce.getUTCMinutes(),me,2)}function Re(Ce,me){return x(Ce.getUTCSeconds(),me,2)}function Ve(Ce){var me=Ce.getUTCDay();return me===0?7:me}function rt(Ce,me){return x(g.Ox.count((0,v.Z)(Ce)-1,Ce),me,2)}function Qe(Ce,me){var oe=Ce.getUTCDay();return Ce=oe>=4||oe===0?(0,g.hB)(Ce):g.hB.ceil(Ce),x(g.hB.count((0,v.Z)(Ce),Ce)+((0,v.Z)(Ce).getUTCDay()===4),me,2)}function Je(Ce){return Ce.getUTCDay()}function qe(Ce,me){return x(g.l6.count((0,v.Z)(Ce)-1,Ce),me,2)}function dt(Ce,me){return x(Ce.getUTCFullYear()%100,me,2)}function pt(Ce,me){return x(Ce.getUTCFullYear()%1e4,me,4)}function mt(){return"+0000"}function Ct(){return"%"}function Rt(Ce){return+Ce}function Zt(Ce){return Math.floor(+Ce/1e3)}var Xe,Le,Pe;ke({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ke(Ce){return Xe=u(Ce),Le=Xe.format,Xe.parse,Pe=Xe.utcFormat,Xe.utcParse,Xe}},82301:function(H,U,e){e.d(U,{a:function(){return L}});var g=e(30052),P=e(54263),a=(0,g.Z)(function(T){T.setHours(0,0,0,0)},function(T,v){T.setDate(T.getDate()+v)},function(T,v){return(v-T-(v.getTimezoneOffset()-T.getTimezoneOffset())*P.yB)/P.UD},function(T){return T.getDate()-1});U.Z=a;var L=a.range},54263:function(H,U,e){e.d(U,{UD:function(){return L},Y2:function(){return a},Ym:function(){return g},iM:function(){return T},yB:function(){return P}});var g=1e3,P=6e4,a=36e5,L=864e5,T=6048e5},81041:function(H,U,e){e.r(U),e.d(U,{timeDay:function(){return x.Z},timeDays:function(){return x.a},timeFriday:function(){return c.mC},timeFridays:function(){return c.b$},timeHour:function(){return f},timeHours:function(){return l},timeInterval:function(){return g.Z},timeMillisecond:function(){return a},timeMilliseconds:function(){return L},timeMinute:function(){return u},timeMinutes:function(){return n},timeMonday:function(){return c.wA},timeMondays:function(){return c.bJ},timeMonth:function(){return h},timeMonths:function(){return o},timeSaturday:function(){return c.EY},timeSaturdays:function(){return c.Ff},timeSecond:function(){return d},timeSeconds:function(){return t},timeSunday:function(){return c.OM},timeSundays:function(){return c.vm},timeThursday:function(){return c.bL},timeThursdays:function(){return c.$t},timeTuesday:function(){return c.sy},timeTuesdays:function(){return c.aU},timeWednesday:function(){return c.zg},timeWednesdays:function(){return c.Ld},timeWeek:function(){return c.OM},timeWeeks:function(){return c.vm},timeYear:function(){return p.Z},timeYears:function(){return p.g},utcDay:function(){return i.Z},utcDays:function(){return i.y},utcFriday:function(){return C.QQ},utcFridays:function(){return C.fz},utcHour:function(){return M},utcHours:function(){return w},utcMillisecond:function(){return a},utcMilliseconds:function(){return L},utcMinute:function(){return A},utcMinutes:function(){return E},utcMonday:function(){return C.l6},utcMondays:function(){return C.$3},utcMonth:function(){return _},utcMonths:function(){return I},utcSaturday:function(){return C.g4},utcSaturdays:function(){return C.Q_},utcSecond:function(){return d},utcSeconds:function(){return t},utcSunday:function(){return C.Ox},utcSundays:function(){return C.SU},utcThursday:function(){return C.hB},utcThursdays:function(){return C.xj},utcTuesday:function(){return C.J1},utcTuesdays:function(){return C.DK},utcWednesday:function(){return C.b3},utcWednesdays:function(){return C.uy},utcWeek:function(){return C.Ox},utcWeeks:function(){return C.SU},utcYear:function(){return N.Z},utcYears:function(){return N.D}});var g=e(30052),P=(0,g.Z)(function(){},function(k,O){k.setTime(+k+O)},function(k,O){return O-k});P.every=function(k){return k=Math.floor(k),!isFinite(k)||!(k>0)?null:k>1?(0,g.Z)(function(O){O.setTime(Math.floor(O/k)*k)},function(O,z){O.setTime(+O+z*k)},function(O,z){return(z-O)/k}):P};var a=P,L=P.range,T=e(54263),v=(0,g.Z)(function(k){k.setTime(k-k.getMilliseconds())},function(k,O){k.setTime(+k+O*T.Ym)},function(k,O){return(O-k)/T.Ym},function(k){return k.getUTCSeconds()}),d=v,t=v.range,r=(0,g.Z)(function(k){k.setTime(k-k.getMilliseconds()-k.getSeconds()*T.Ym)},function(k,O){k.setTime(+k+O*T.yB)},function(k,O){return(O-k)/T.yB},function(k){return k.getMinutes()}),u=r,n=r.range,s=(0,g.Z)(function(k){k.setTime(k-k.getMilliseconds()-k.getSeconds()*T.Ym-k.getMinutes()*T.yB)},function(k,O){k.setTime(+k+O*T.Y2)},function(k,O){return(O-k)/T.Y2},function(k){return k.getHours()}),f=s,l=s.range,x=e(82301),c=e(59879),b=(0,g.Z)(function(k){k.setDate(1),k.setHours(0,0,0,0)},function(k,O){k.setMonth(k.getMonth()+O)},function(k,O){return O.getMonth()-k.getMonth()+(O.getFullYear()-k.getFullYear())*12},function(k){return k.getMonth()}),h=b,o=b.range,p=e(34823),S=(0,g.Z)(function(k){k.setUTCSeconds(0,0)},function(k,O){k.setTime(+k+O*T.yB)},function(k,O){return(O-k)/T.yB},function(k){return k.getUTCMinutes()}),A=S,E=S.range,m=(0,g.Z)(function(k){k.setUTCMinutes(0,0,0)},function(k,O){k.setTime(+k+O*T.Y2)},function(k,O){return(O-k)/T.Y2},function(k){return k.getUTCHours()}),M=m,w=m.range,i=e(48480),C=e(58176),y=(0,g.Z)(function(k){k.setUTCDate(1),k.setUTCHours(0,0,0,0)},function(k,O){k.setUTCMonth(k.getUTCMonth()+O)},function(k,O){return O.getUTCMonth()-k.getUTCMonth()+(O.getUTCFullYear()-k.getUTCFullYear())*12},function(k){return k.getUTCMonth()}),_=y,I=y.range,N=e(79791)},30052:function(H,U,e){e.d(U,{Z:function(){return a}});var g=new Date,P=new Date;function a(L,T,v,d){function t(r){return L(r=arguments.length===0?new Date:new Date(+r)),r}return t.floor=function(r){return L(r=new Date(+r)),r},t.ceil=function(r){return L(r=new Date(r-1)),T(r,1),L(r),r},t.round=function(r){var u=t(r),n=t.ceil(r);return r-u<n-r?u:n},t.offset=function(r,u){return T(r=new Date(+r),u==null?1:Math.floor(u)),r},t.range=function(r,u,n){var s=[],f;if(r=t.ceil(r),n=n==null?1:Math.floor(n),!(r<u)||!(n>0))return s;do s.push(f=new Date(+r)),T(r,n),L(r);while(f<r&&r<u);return s},t.filter=function(r){return a(function(u){if(u>=u)for(;L(u),!r(u);)u.setTime(u-1)},function(u,n){if(u>=u)if(n<0)for(;++n<=0;)for(;T(u,-1),!r(u););else for(;--n>=0;)for(;T(u,1),!r(u););})},v&&(t.count=function(r,u){return g.setTime(+r),P.setTime(+u),L(g),L(P),Math.floor(v(g,P))},t.every=function(r){return r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?t.filter(d?function(u){return d(u)%r===0}:function(u){return t.count(0,u)%r===0}):t}),t}},48480:function(H,U,e){e.d(U,{y:function(){return L}});var g=e(30052),P=e(54263),a=(0,g.Z)(function(T){T.setUTCHours(0,0,0,0)},function(T,v){T.setUTCDate(T.getUTCDate()+v)},function(T,v){return(v-T)/P.UD},function(T){return T.getUTCDate()-1});U.Z=a;var L=a.range},58176:function(H,U,e){e.d(U,{$3:function(){return s},DK:function(){return f},J1:function(){return v},Ox:function(){return L},QQ:function(){return r},Q_:function(){return b},SU:function(){return n},b3:function(){return d},fz:function(){return c},g4:function(){return u},hB:function(){return t},l6:function(){return T},uy:function(){return l},xj:function(){return x}});var g=e(30052),P=e(54263);function a(h){return(0,g.Z)(function(o){o.setUTCDate(o.getUTCDate()-(o.getUTCDay()+7-h)%7),o.setUTCHours(0,0,0,0)},function(o,p){o.setUTCDate(o.getUTCDate()+p*7)},function(o,p){return(p-o)/P.iM})}var L=a(0),T=a(1),v=a(2),d=a(3),t=a(4),r=a(5),u=a(6),n=L.range,s=T.range,f=v.range,l=d.range,x=t.range,c=r.range,b=u.range},79791:function(H,U,e){e.d(U,{D:function(){return a}});var g=e(30052),P=(0,g.Z)(function(L){L.setUTCMonth(0,1),L.setUTCHours(0,0,0,0)},function(L,T){L.setUTCFullYear(L.getUTCFullYear()+T)},function(L,T){return T.getUTCFullYear()-L.getUTCFullYear()},function(L){return L.getUTCFullYear()});P.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:(0,g.Z)(function(T){T.setUTCFullYear(Math.floor(T.getUTCFullYear()/L)*L),T.setUTCMonth(0,1),T.setUTCHours(0,0,0,0)},function(T,v){T.setUTCFullYear(T.getUTCFullYear()+v*L)})},U.Z=P;var a=P.range},59879:function(H,U,e){e.d(U,{$t:function(){return x},EY:function(){return u},Ff:function(){return b},Ld:function(){return l},OM:function(){return L},aU:function(){return f},b$:function(){return c},bJ:function(){return s},bL:function(){return t},mC:function(){return r},sy:function(){return v},vm:function(){return n},wA:function(){return T},zg:function(){return d}});var g=e(30052),P=e(54263);function a(h){return(0,g.Z)(function(o){o.setDate(o.getDate()-(o.getDay()+7-h)%7),o.setHours(0,0,0,0)},function(o,p){o.setDate(o.getDate()+p*7)},function(o,p){return(p-o-(p.getTimezoneOffset()-o.getTimezoneOffset())*P.yB)/P.iM})}var L=a(0),T=a(1),v=a(2),d=a(3),t=a(4),r=a(5),u=a(6),n=L.range,s=T.range,f=v.range,l=d.range,x=t.range,c=r.range,b=u.range},34823:function(H,U,e){e.d(U,{g:function(){return a}});var g=e(30052),P=(0,g.Z)(function(L){L.setMonth(0,1),L.setHours(0,0,0,0)},function(L,T){L.setFullYear(L.getFullYear()+T)},function(L,T){return T.getFullYear()-L.getFullYear()},function(L){return L.getFullYear()});P.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:(0,g.Z)(function(T){T.setFullYear(Math.floor(T.getFullYear()/L)*L),T.setMonth(0,1),T.setHours(0,0,0,0)},function(T,v){T.setFullYear(T.getFullYear()+v*L)})},U.Z=P;var a=P.range},17045:function(H,U,e){var g=e(8709),P=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",a=Object.prototype.toString,L=Array.prototype.concat,T=Object.defineProperty,v=function(n){return typeof n=="function"&&a.call(n)==="[object Function]"},d=e(55622)(),t=T&&d,r=function(n,s,f,l){if(s in n){if(l===!0){if(n[s]===f)return}else if(!v(l)||!l())return}t?T(n,s,{configurable:!0,enumerable:!1,value:f,writable:!0}):n[s]=f},u=function(n,s){var f=arguments.length>2?arguments[2]:{},l=g(s);P&&(l=L.call(l,Object.getOwnPropertySymbols(s)));for(var x=0;x<l.length;x+=1)r(n,l[x],s[l[x]],f[l[x]])};u.supportsDescriptors=!!t,H.exports=u},46775:function(H){H.exports=function(){for(var U=0;U<arguments.length;U++)if(arguments[U]!==void 0)return arguments[U]}},53545:function(H){H.exports=P;var U=P.canvas=document.createElement("canvas"),e=U.getContext("2d"),g=a([32,126]);P.createPairs=a,P.ascii=g;function P(L,T){Array.isArray(L)&&(L=L.join(", "));var v={},d,t=16,r=.05;T&&(T.length===2&&typeof T[0]=="number"?d=a(T):Array.isArray(T)?d=T:(T.o?d=a(T.o):T.pairs&&(d=T.pairs),T.fontSize&&(t=T.fontSize),T.threshold!=null&&(r=T.threshold))),d||(d=g),e.font=t+"px "+L;for(var u=0;u<d.length;u++){var n=d[u],s=e.measureText(n[0]).width+e.measureText(n[1]).width,f=e.measureText(n).width;if(Math.abs(s-f)>t*r){var l=(f-s)/t;v[n]=l*1e3}}return v}function a(L){for(var T=[],v=L[0];v<=L[1];v++)for(var d=String.fromCharCode(v),t=L[0];t<L[1];t++){var r=String.fromCharCode(t),u=d+r;T.push(u)}return T}},31457:function(H,U,e){var g=e(65185),P=e(18625),a={M:"moveTo",C:"bezierCurveTo"};H.exports=function(L,T){L.beginPath(),P(g(T)).forEach(function(v){var d=v[0],t=v.slice(1);L[a[d]].apply(L,t)}),L.closePath()}},90660:function(H){H.exports=function(U){switch(U){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},12129:function(H){function U(P,a,L){var T=P[L]|0;if(T<=0)return[];var v=new Array(T),d;if(L===P.length-1)for(d=0;d<T;++d)v[d]=a;else for(d=0;d<T;++d)v[d]=U(P,a,L+1);return v}function e(P,a){var L,T;for(L=new Array(P),T=0;T<P;++T)L[T]=a;return L}function g(P,a){switch(typeof a>"u"&&(a=0),typeof P){case"number":if(P>0)return e(P|0,a);break;case"object":if(typeof P.length=="number")return U(P,a,0);break}return[]}H.exports=g},11474:function(H){H.exports=U,H.exports.default=U;function U(I,N,k){k=k||2;var O=N&&N.length,z=O?N[0]*k:I.length,F=e(I,0,z,k,!0),B=[];if(!F||F.next===F.prev)return B;var G,Q,ee,ae,fe,K,W;if(O&&(F=d(I,N,F,k)),I.length>80*k){G=ee=I[0],Q=ae=I[1];for(var Z=k;Z<z;Z+=k)fe=I[Z],K=I[Z+1],fe<G&&(G=fe),K<Q&&(Q=K),fe>ee&&(ee=fe),K>ae&&(ae=K);W=Math.max(ee-G,ae-Q),W=W!==0?1/W:0}return P(F,B,k,G,Q,W),B}function e(I,N,k,O,z){var F,B;if(z===_(I,N,k,O)>0)for(F=N;F<k;F+=O)B=i(F,I[F],I[F+1],B);else for(F=k-O;F>=N;F-=O)B=i(F,I[F],I[F+1],B);return B&&o(B,B.next)&&(C(B),B=B.next),B}function g(I,N){if(!I)return I;N||(N=I);var k=I,O;do if(O=!1,!k.steiner&&(o(k,k.next)||h(k.prev,k,k.next)===0)){if(C(k),k=N=k.prev,k===k.next)break;O=!0}else k=k.next;while(O||k!==N);return N}function P(I,N,k,O,z,F,B){if(I){!B&&F&&s(I,O,z,F);for(var G=I,Q,ee;I.prev!==I.next;){if(Q=I.prev,ee=I.next,F?L(I,O,z,F):a(I)){N.push(Q.i/k),N.push(I.i/k),N.push(ee.i/k),C(I),I=ee.next,G=ee.next;continue}if(I=ee,I===G){B?B===1?(I=T(g(I),N,k),P(I,N,k,O,z,F,2)):B===2&&v(I,N,k,O,z,F):P(g(I),N,k,O,z,F,1);break}}}}function a(I){var N=I.prev,k=I,O=I.next;if(h(N,k,O)>=0)return!1;for(var z=I.next.next;z!==I.prev;){if(c(N.x,N.y,k.x,k.y,O.x,O.y,z.x,z.y)&&h(z.prev,z,z.next)>=0)return!1;z=z.next}return!0}function L(I,N,k,O){var z=I.prev,F=I,B=I.next;if(h(z,F,B)>=0)return!1;for(var G=z.x<F.x?z.x<B.x?z.x:B.x:F.x<B.x?F.x:B.x,Q=z.y<F.y?z.y<B.y?z.y:B.y:F.y<B.y?F.y:B.y,ee=z.x>F.x?z.x>B.x?z.x:B.x:F.x>B.x?F.x:B.x,ae=z.y>F.y?z.y>B.y?z.y:B.y:F.y>B.y?F.y:B.y,fe=l(G,Q,N,k,O),K=l(ee,ae,N,k,O),W=I.prevZ,Z=I.nextZ;W&&W.z>=fe&&Z&&Z.z<=K;){if(W!==I.prev&&W!==I.next&&c(z.x,z.y,F.x,F.y,B.x,B.y,W.x,W.y)&&h(W.prev,W,W.next)>=0||(W=W.prevZ,Z!==I.prev&&Z!==I.next&&c(z.x,z.y,F.x,F.y,B.x,B.y,Z.x,Z.y)&&h(Z.prev,Z,Z.next)>=0))return!1;Z=Z.nextZ}for(;W&&W.z>=fe;){if(W!==I.prev&&W!==I.next&&c(z.x,z.y,F.x,F.y,B.x,B.y,W.x,W.y)&&h(W.prev,W,W.next)>=0)return!1;W=W.prevZ}for(;Z&&Z.z<=K;){if(Z!==I.prev&&Z!==I.next&&c(z.x,z.y,F.x,F.y,B.x,B.y,Z.x,Z.y)&&h(Z.prev,Z,Z.next)>=0)return!1;Z=Z.nextZ}return!0}function T(I,N,k){var O=I;do{var z=O.prev,F=O.next.next;!o(z,F)&&p(z,O,O.next,F)&&m(z,F)&&m(F,z)&&(N.push(z.i/k),N.push(O.i/k),N.push(F.i/k),C(O),C(O.next),O=I=F),O=O.next}while(O!==I);return g(O)}function v(I,N,k,O,z,F){var B=I;do{for(var G=B.next.next;G!==B.prev;){if(B.i!==G.i&&b(B,G)){var Q=w(B,G);B=g(B,B.next),Q=g(Q,Q.next),P(B,N,k,O,z,F),P(Q,N,k,O,z,F);return}G=G.next}B=B.next}while(B!==I)}function d(I,N,k,O){var z=[],F,B,G,Q,ee;for(F=0,B=N.length;F<B;F++)G=N[F]*O,Q=F<B-1?N[F+1]*O:I.length,ee=e(I,G,Q,O,!1),ee===ee.next&&(ee.steiner=!0),z.push(x(ee));for(z.sort(t),F=0;F<z.length;F++)r(z[F],k),k=g(k,k.next);return k}function t(I,N){return I.x-N.x}function r(I,N){if(N=u(I,N),N){var k=w(N,I);g(N,N.next),g(k,k.next)}}function u(I,N){var k=N,O=I.x,z=I.y,F=-1/0,B;do{if(z<=k.y&&z>=k.next.y&&k.next.y!==k.y){var G=k.x+(z-k.y)*(k.next.x-k.x)/(k.next.y-k.y);if(G<=O&&G>F){if(F=G,G===O){if(z===k.y)return k;if(z===k.next.y)return k.next}B=k.x<k.next.x?k:k.next}}k=k.next}while(k!==N);if(!B)return null;if(O===F)return B;var Q=B,ee=B.x,ae=B.y,fe=1/0,K;k=B;do O>=k.x&&k.x>=ee&&O!==k.x&&c(z<ae?O:F,z,ee,ae,z<ae?F:O,z,k.x,k.y)&&(K=Math.abs(z-k.y)/(O-k.x),m(k,I)&&(K<fe||K===fe&&(k.x>B.x||k.x===B.x&&n(B,k)))&&(B=k,fe=K)),k=k.next;while(k!==Q);return B}function n(I,N){return h(I.prev,I,N.prev)<0&&h(N.next,I,I.next)<0}function s(I,N,k,O){var z=I;do z.z===null&&(z.z=l(z.x,z.y,N,k,O)),z.prevZ=z.prev,z.nextZ=z.next,z=z.next;while(z!==I);z.prevZ.nextZ=null,z.prevZ=null,f(z)}function f(I){var N,k,O,z,F,B,G,Q,ee=1;do{for(k=I,I=null,F=null,B=0;k;){for(B++,O=k,G=0,N=0;N<ee&&(G++,O=O.nextZ,!!O);N++);for(Q=ee;G>0||Q>0&&O;)G!==0&&(Q===0||!O||k.z<=O.z)?(z=k,k=k.nextZ,G--):(z=O,O=O.nextZ,Q--),F?F.nextZ=z:I=z,z.prevZ=F,F=z;k=O}F.nextZ=null,ee*=2}while(B>1);return I}function l(I,N,k,O,z){return I=32767*(I-k)*z,N=32767*(N-O)*z,I=(I|I<<8)&16711935,I=(I|I<<4)&252645135,I=(I|I<<2)&858993459,I=(I|I<<1)&1431655765,N=(N|N<<8)&16711935,N=(N|N<<4)&252645135,N=(N|N<<2)&858993459,N=(N|N<<1)&1431655765,I|N<<1}function x(I){var N=I,k=I;do(N.x<k.x||N.x===k.x&&N.y<k.y)&&(k=N),N=N.next;while(N!==I);return k}function c(I,N,k,O,z,F,B,G){return(z-B)*(N-G)-(I-B)*(F-G)>=0&&(I-B)*(O-G)-(k-B)*(N-G)>=0&&(k-B)*(F-G)-(z-B)*(O-G)>=0}function b(I,N){return I.next.i!==N.i&&I.prev.i!==N.i&&!E(I,N)&&(m(I,N)&&m(N,I)&&M(I,N)&&(h(I.prev,I,N.prev)||h(I,N.prev,N))||o(I,N)&&h(I.prev,I,I.next)>0&&h(N.prev,N,N.next)>0)}function h(I,N,k){return(N.y-I.y)*(k.x-N.x)-(N.x-I.x)*(k.y-N.y)}function o(I,N){return I.x===N.x&&I.y===N.y}function p(I,N,k,O){var z=A(h(I,N,k)),F=A(h(I,N,O)),B=A(h(k,O,I)),G=A(h(k,O,N));return!!(z!==F&&B!==G||z===0&&S(I,k,N)||F===0&&S(I,O,N)||B===0&&S(k,I,O)||G===0&&S(k,N,O))}function S(I,N,k){return N.x<=Math.max(I.x,k.x)&&N.x>=Math.min(I.x,k.x)&&N.y<=Math.max(I.y,k.y)&&N.y>=Math.min(I.y,k.y)}function A(I){return I>0?1:I<0?-1:0}function E(I,N){var k=I;do{if(k.i!==I.i&&k.next.i!==I.i&&k.i!==N.i&&k.next.i!==N.i&&p(k,k.next,I,N))return!0;k=k.next}while(k!==I);return!1}function m(I,N){return h(I.prev,I,I.next)<0?h(I,N,I.next)>=0&&h(I,I.prev,N)>=0:h(I,N,I.prev)<0||h(I,I.next,N)<0}function M(I,N){var k=I,O=!1,z=(I.x+N.x)/2,F=(I.y+N.y)/2;do k.y>F!=k.next.y>F&&k.next.y!==k.y&&z<(k.next.x-k.x)*(F-k.y)/(k.next.y-k.y)+k.x&&(O=!O),k=k.next;while(k!==I);return O}function w(I,N){var k=new y(I.i,I.x,I.y),O=new y(N.i,N.x,N.y),z=I.next,F=N.prev;return I.next=N,N.prev=I,k.next=z,z.prev=k,O.next=k,k.prev=O,F.next=O,O.prev=F,O}function i(I,N,k,O){var z=new y(I,N,k);return O?(z.next=O.next,z.prev=O,O.next.prev=z,O.next=z):(z.prev=z,z.next=z),z}function C(I){I.next.prev=I.prev,I.prev.next=I.next,I.prevZ&&(I.prevZ.nextZ=I.nextZ),I.nextZ&&(I.nextZ.prevZ=I.prevZ)}function y(I,N,k){this.i=I,this.x=N,this.y=k,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}U.deviation=function(I,N,k,O){var z=N&&N.length,F=z?N[0]*k:I.length,B=Math.abs(_(I,0,F,k));if(z)for(var G=0,Q=N.length;G<Q;G++){var ee=N[G]*k,ae=G<Q-1?N[G+1]*k:I.length;B-=Math.abs(_(I,ee,ae,k))}var fe=0;for(G=0;G<O.length;G+=3){var K=O[G]*k,W=O[G+1]*k,Z=O[G+2]*k;fe+=Math.abs((I[K]-I[Z])*(I[W+1]-I[K+1])-(I[K]-I[W])*(I[Z+1]-I[K+1]))}return B===0&&fe===0?0:Math.abs((fe-B)/B)};function _(I,N,k,O){for(var z=0,F=N,B=k-O;F<k;F+=O)z+=(I[B]-I[F])*(I[F+1]+I[B+1]),B=F;return z}U.flatten=function(I){for(var N=I[0][0].length,k={vertices:[],holes:[],dimensions:N},O=0,z=0;z<I.length;z++){for(var F=0;F<I[z].length;F++)for(var B=0;B<N;B++)k.vertices.push(I[z][F][B]);z>0&&(O+=I[z-1].length,k.holes.push(O))}return k}},2502:function(H,U,e){var g=e(68664);H.exports=function(a,L){var T=[],v=[],d=[],t={},r=[],u;function n(S){d[S]=!1,t.hasOwnProperty(S)&&Object.keys(t[S]).forEach(function(A){delete t[S][A],d[A]&&n(A)})}function s(S){var A=!1;v.push(S),d[S]=!0;var E,m;for(E=0;E<r[S].length;E++)m=r[S][E],m===u?(f(u,v),A=!0):d[m]||(A=s(m));if(A)n(S);else for(E=0;E<r[S].length;E++){m=r[S][E];var M=t[m];M||(M={},t[m]=M),M[m]=!0}return v.pop(),A}function f(S,A){var E=[].concat(A).concat(S);L?L(s):T.push(E)}function l(S){for(var A=0;A<a.length;A++)A<S&&(a[A]=[]),a[A]=a[A].filter(function(E){return E>=S})}function x(S){l(S);for(var A=a,E=g(A),m=E.components.filter(function(I){return I.length>1}),M=1/0,w,i=0;i<m.length;i++)for(var C=0;C<m[i].length;C++)m[i][C]<M&&(M=m[i][C],w=i);var y=m[w];if(!y)return!1;var _=a.map(function(I,N){return y.indexOf(N)===-1?[]:I.filter(function(k){return y.indexOf(k)!==-1})});return{leastVertex:M,adjList:_}}u=0;for(var c=a.length;u<c;){var b=x(u);if(u=b.leastVertex,r=b.adjList,r){for(var h=0;h<r.length;h++)for(var o=0;o<r[h].length;o++){var p=r[h][o];d[+p]=!1,t[p]={}}s(u),u=u+1}else u=c}if(!L)return T}},16134:function(H,U,e){var g=e(36672);H.exports=function(){return g(this).length=0,this}},4892:function(H,U,e){H.exports=e(64404)()?Array.from:e(49441)},64404:function(H){H.exports=function(){var U=Array.from,e,g;return typeof U!="function"?!1:(e=["raz","dwa"],g=U(e),!!(g&&g!==e&&g[1]==="dwa"))}},49441:function(H,U,e){var g=e(8260).iterator,P=e(73051),a=e(33717),L=e(35976),T=e(78513),v=e(36672),d=e(95296),t=e(87963),r=Array.isArray,u=Function.prototype.call,n={configurable:!0,enumerable:!0,writable:!0,value:null},s=Object.defineProperty;H.exports=function(f){var l=arguments[1],x=arguments[2],c,b,h,o,p,S,A,E,m,M;if(f=Object(v(f)),d(l)&&T(l),!this||this===Array||!a(this)){if(!l){if(P(f))return p=f.length,p!==1?Array.apply(null,f):(o=new Array(1),o[0]=f[0],o);if(r(f)){for(o=new Array(p=f.length),b=0;b<p;++b)o[b]=f[b];return o}}o=[]}else c=this;if(!r(f)){if((m=f[g])!==void 0){for(A=T(m).call(f),c&&(o=new c),E=A.next(),b=0;!E.done;)M=l?u.call(l,x,E.value,b):E.value,c?(n.value=M,s(o,b,n)):o[b]=M,E=A.next(),++b;p=b}else if(t(f)){for(p=f.length,c&&(o=new c),b=0,h=0;b<p;++b)M=f[b],b+1<p&&(S=M.charCodeAt(0),S>=55296&&S<=56319&&(M+=f[++b])),M=l?u.call(l,x,M,h):M,c?(n.value=M,s(o,h,n)):o[h]=M,++h;p=h}}if(p===void 0)for(p=L(f.length),c&&(o=new c(p)),b=0;b<p;++b)M=l?u.call(l,x,f[b],b):f[b],c?(n.value=M,s(o,b,n)):o[b]=M;return c&&(n.value=null,o.length=p),o}},73051:function(H){var U=Object.prototype.toString,e=U.call(function(){return arguments}());H.exports=function(g){return U.call(g)===e}},33717:function(H){var U=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);H.exports=function(g){return typeof g=="function"&&e(U.call(g))}},52345:function(H){H.exports=function(){}},9953:function(H,U,e){H.exports=e(90436)()?Math.sign:e(6069)},90436:function(H){H.exports=function(){var U=Math.sign;return typeof U!="function"?!1:U(10)===1&&U(-20)===-1}},6069:function(H){H.exports=function(U){return U=Number(U),isNaN(U)||U===0?U:U>0?1:-1}},56247:function(H,U,e){var g=e(9953),P=Math.abs,a=Math.floor;H.exports=function(L){return isNaN(L)?0:(L=Number(L),L===0||!isFinite(L)?L:g(L)*a(P(L)))}},35976:function(H,U,e){var g=e(56247),P=Math.max;H.exports=function(a){return P(0,g(a))}},67260:function(H,U,e){var g=e(78513),P=e(36672),a=Function.prototype.bind,L=Function.prototype.call,T=Object.keys,v=Object.prototype.propertyIsEnumerable;H.exports=function(d,t){return function(r,u){var n,s=arguments[2],f=arguments[3];return r=Object(P(r)),g(u),n=T(r),f&&n.sort(typeof f=="function"?a.call(f,r):void 0),typeof d!="function"&&(d=n[d]),L.call(d,n,function(l,x){return v.call(r,l)?L.call(u,s,r[l],l,r,x):t})}}},95879:function(H,U,e){H.exports=e(73583)()?Object.assign:e(34205)},73583:function(H){H.exports=function(){var U=Object.assign,e;return typeof U!="function"?!1:(e={foo:"raz"},U(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},34205:function(H,U,e){var g=e(68700),P=e(36672),a=Math.max;H.exports=function(L,T){var v,d,t=a(arguments.length,2),r;for(L=Object(P(L)),r=function(u){try{L[u]=T[u]}catch(n){v||(v=n)}},d=1;d<t;++d)T=arguments[d],g(T).forEach(r);if(v!==void 0)throw v;return L}},19012:function(H,U,e){var g=e(4892),P=e(95879),a=e(36672);H.exports=function(L){var T=Object(a(L)),v=arguments[1],d=Object(arguments[2]);if(T!==L&&!v)return T;var t={};return v?g(v,function(r){(d.ensure||r in L)&&(t[r]=L[r])}):P(t,L),t}},52818:function(H,U,e){var g=Object.create,P;e(33247)()||(P=e(51882)),H.exports=function(){var a,L,T;return!P||P.level!==1?g:(a={},L={},T={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(v){if(v==="__proto__"){L[v]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}L[v]=T}),Object.defineProperties(a,L),Object.defineProperty(P,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:a}),function(v,d){return g(v===null?a:v,d)})}()},96437:function(H,U,e){H.exports=e(67260)("forEach")},99611:function(H,U,e){var g=e(95296),P={function:!0,object:!0};H.exports=function(a){return g(a)&&P[typeof a]||!1}},95296:function(H,U,e){var g=e(52345)();H.exports=function(P){return P!==g&&P!==null}},68700:function(H,U,e){H.exports=e(13895)()?Object.keys:e(25217)},13895:function(H){H.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},25217:function(H,U,e){var g=e(95296),P=Object.keys;H.exports=function(a){return P(g(a)?Object(a):a)}},16906:function(H,U,e){var g=e(78513),P=e(96437),a=Function.prototype.call;H.exports=function(L,T){var v={},d=arguments[2];return g(T),P(L,function(t,r,u,n){v[r]=a.call(T,d,t,r,u,n)}),v}},21780:function(H,U,e){var g=e(95296),P=Array.prototype.forEach,a=Object.create,L=function(T,v){var d;for(d in T)v[d]=T[d]};H.exports=function(T){var v=a(null);return P.call(arguments,function(d){g(d)&&L(Object(d),v)}),v}},1496:function(H,U,e){H.exports=e(33247)()?Object.setPrototypeOf:e(51882)},33247:function(H){var U=Object.create,e=Object.getPrototypeOf,g={};H.exports=function(){var P=Object.setPrototypeOf,a=arguments[0]||U;return typeof P!="function"?!1:e(P(a(null),g))===g}},51882:function(H,U,e){var g=e(99611),P=e(36672),a=Object.prototype.isPrototypeOf,L=Object.defineProperty,T={configurable:!0,enumerable:!1,writable:!0,value:void 0},v;v=function(d,t){if(P(d),t===null||g(t))return d;throw new TypeError("Prototype must be null or an object")},H.exports=function(d){var t,r;return d?(d.level===2?d.set?(r=d.set,t=function(u,n){return r.call(v(u,n),n),u}):t=function(u,n){return v(u,n).__proto__=n,u}:t=function u(n,s){var f;return v(n,s),f=a.call(u.nullPolyfill,n),f&&delete u.nullPolyfill.__proto__,s===null&&(s=u.nullPolyfill),n.__proto__=s,f&&L(u.nullPolyfill,"__proto__",T),n},Object.defineProperty(t,"level",{configurable:!1,enumerable:!1,writable:!1,value:d.level})):null}(function(){var d=Object.create(null),t={},r,u=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(u){try{r=u.set,r.call(d,t)}catch{}if(Object.getPrototypeOf(d)===t)return{set:r,level:2}}return d.__proto__=t,Object.getPrototypeOf(d)===t?{level:2}:(d={},d.__proto__=t,Object.getPrototypeOf(d)===t?{level:1}:!1)}()),e(52818)},78513:function(H){H.exports=function(U){if(typeof U!="function")throw new TypeError(U+" is not a function");return U}},98976:function(H,U,e){var g=e(99611);H.exports=function(P){if(!g(P))throw new TypeError(P+" is not an Object");return P}},36672:function(H,U,e){var g=e(95296);H.exports=function(P){if(!g(P))throw new TypeError("Cannot use null or undefined");return P}},66741:function(H,U,e){H.exports=e(17557)()?String.prototype.contains:e(60381)},17557:function(H){var U="razdwatrzy";H.exports=function(){return typeof U.contains!="function"?!1:U.contains("dwa")===!0&&U.contains("foo")===!1}},60381:function(H){var U=String.prototype.indexOf;H.exports=function(e){return U.call(this,e,arguments[1])>-1}},87963:function(H){var U=Object.prototype.toString,e=U.call("");H.exports=function(g){return typeof g=="string"||g&&typeof g=="object"&&(g instanceof String||U.call(g)===e)||!1}},43043:function(H){var U=Object.create(null),e=Math.random;H.exports=function(){var g;do g=e().toString(36).slice(2);while(U[g]);return g}},32411:function(H,U,e){var g=e(1496),P=e(66741),a=e(62072),L=e(8260),T=e(95426),v=Object.defineProperty,d;d=H.exports=function(t,r){if(!(this instanceof d))throw new TypeError("Constructor requires 'new'");T.call(this,t),r?P.call(r,"key+value")?r="key+value":P.call(r,"key")?r="key":r="value":r="value",v(this,"__kind__",a("",r))},g&&g(d,T),delete d.prototype.constructor,d.prototype=Object.create(T.prototype,{_resolve:a(function(t){return this.__kind__==="value"?this.__list__[t]:this.__kind__==="key+value"?[t,this.__list__[t]]:t})}),v(d.prototype,L.toStringTag,a("c","Array Iterator"))},27515:function(H,U,e){var g=e(73051),P=e(78513),a=e(87963),L=e(66661),T=Array.isArray,v=Function.prototype.call,d=Array.prototype.some;H.exports=function(t,r){var u,n=arguments[2],s,f,l,x,c,b,h;if(T(t)||g(t)?u="array":a(t)?u="string":t=L(t),P(r),f=function(){l=!0},u==="array"){d.call(t,function(o){return v.call(r,n,o,f),l});return}if(u==="string"){for(c=t.length,x=0;x<c&&(b=t[x],x+1<c&&(h=b.charCodeAt(0),h>=55296&&h<=56319&&(b+=t[++x])),v.call(r,n,b,f),!l);++x);return}for(s=t.next();!s.done;){if(v.call(r,n,s.value,f),l)return;s=t.next()}}},66661:function(H,U,e){var g=e(73051),P=e(87963),a=e(32411),L=e(259),T=e(58095),v=e(8260).iterator;H.exports=function(d){return typeof T(d)[v]=="function"?d[v]():g(d)?new a(d):P(d)?new L(d):new a(d)}},95426:function(H,U,e){var g=e(16134),P=e(95879),a=e(78513),L=e(36672),T=e(62072),v=e(55174),d=e(8260),t=Object.defineProperty,r=Object.defineProperties,u;H.exports=u=function(n,s){if(!(this instanceof u))throw new TypeError("Constructor requires 'new'");r(this,{__list__:T("w",L(n)),__context__:T("w",s),__nextIndex__:T("w",0)}),s&&(a(s.on),s.on("_add",this._onAdd),s.on("_delete",this._onDelete),s.on("_clear",this._onClear))},delete u.prototype.constructor,r(u.prototype,P({_next:T(function(){var n;if(this.__list__){if(this.__redo__&&(n=this.__redo__.shift(),n!==void 0))return n;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:T(function(){return this._createResult(this._next())}),_createResult:T(function(n){return n===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(n)}}),_resolve:T(function(n){return this.__list__[n]}),_unBind:T(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:T(function(){return"[object "+(this[d.toStringTag]||"Object")+"]"})},v({_onAdd:T(function(n){if(!(n>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){t(this,"__redo__",T("c",[n]));return}this.__redo__.forEach(function(s,f){s>=n&&(this.__redo__[f]=++s)},this),this.__redo__.push(n)}}),_onDelete:T(function(n){var s;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(s=this.__redo__.indexOf(n),s!==-1&&this.__redo__.splice(s,1),this.__redo__.forEach(function(f,l){f>n&&(this.__redo__[l]=--f)},this)))}),_onClear:T(function(){this.__redo__&&g.call(this.__redo__),this.__nextIndex__=0})}))),t(u.prototype,d.iterator,T(function(){return this}))},35940:function(H,U,e){var g=e(73051),P=e(95296),a=e(87963),L=e(8260).iterator,T=Array.isArray;H.exports=function(v){return P(v)?T(v)||a(v)||g(v)?!0:typeof v[L]=="function":!1}},259:function(H,U,e){var g=e(1496),P=e(62072),a=e(8260),L=e(95426),T=Object.defineProperty,v;v=H.exports=function(d){if(!(this instanceof v))throw new TypeError("Constructor requires 'new'");d=String(d),L.call(this,d),T(this,"__length__",P("",d.length))},g&&g(v,L),delete v.prototype.constructor,v.prototype=Object.create(L.prototype,{_next:P(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:P(function(d){var t=this.__list__[d],r;return this.__nextIndex__===this.__length__?t:(r=t.charCodeAt(0),r>=55296&&r<=56319?t+this.__list__[this.__nextIndex__++]:t)})}),T(v.prototype,a.toStringTag,P("c","String Iterator"))},58095:function(H,U,e){var g=e(35940);H.exports=function(P){if(!g(P))throw new TypeError(P+" is not iterable");return P}},73523:function(H){function U(g,P){if(g==null)throw new TypeError("Cannot convert first argument to object");for(var a=Object(g),L=1;L<arguments.length;L++){var T=arguments[L];if(T!=null)for(var v=Object.keys(Object(T)),d=0,t=v.length;d<t;d++){var r=v[d],u=Object.getOwnPropertyDescriptor(T,r);u!==void 0&&u.enumerable&&(a[r]=T[r])}}return a}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:U})}H.exports={assign:U,polyfill:e}},8260:function(H,U,e){H.exports=e(69711)()?e(94908).Symbol:e(18415)},69711:function(H,U,e){var g=e(94908),P={object:!0,symbol:!0};H.exports=function(){var a=g.Symbol,L;if(typeof a!="function")return!1;L=a("test symbol");try{String(L)}catch{return!1}return!(!P[typeof a.iterator]||!P[typeof a.toPrimitive]||!P[typeof a.toStringTag])}},82276:function(H){H.exports=function(U){return U?typeof U=="symbol"?!0:!U.constructor||U.constructor.name!=="Symbol"?!1:U[U.constructor.toStringTag]==="Symbol":!1}},29366:function(H,U,e){var g=e(62072),P=Object.create,a=Object.defineProperty,L=Object.prototype,T=P(null);H.exports=function(v){for(var d=0,t,r;T[v+(d||"")];)++d;return v+=d||"",T[v]=!0,t="@@"+v,a(L,t,g.gs(null,function(u){r||(r=!0,a(this,t,g(u)),r=!1)})),t}},92842:function(H,U,e){var g=e(62072),P=e(94908).Symbol;H.exports=function(a){return Object.defineProperties(a,{hasInstance:g("",P&&P.hasInstance||a("hasInstance")),isConcatSpreadable:g("",P&&P.isConcatSpreadable||a("isConcatSpreadable")),iterator:g("",P&&P.iterator||a("iterator")),match:g("",P&&P.match||a("match")),replace:g("",P&&P.replace||a("replace")),search:g("",P&&P.search||a("search")),species:g("",P&&P.species||a("species")),split:g("",P&&P.split||a("split")),toPrimitive:g("",P&&P.toPrimitive||a("toPrimitive")),toStringTag:g("",P&&P.toStringTag||a("toStringTag")),unscopables:g("",P&&P.unscopables||a("unscopables"))})}},13304:function(H,U,e){var g=e(62072),P=e(53308),a=Object.create(null);H.exports=function(L){return Object.defineProperties(L,{for:g(function(T){return a[T]?a[T]:a[T]=L(String(T))}),keyFor:g(function(T){var v;P(T);for(v in a)if(a[v]===T)return v})})}},18415:function(H,U,e){var g=e(62072),P=e(53308),a=e(94908).Symbol,L=e(29366),T=e(92842),v=e(13304),d=Object.create,t=Object.defineProperties,r=Object.defineProperty,u,n,s;if(typeof a=="function")try{String(a()),s=!0}catch{}else a=null;n=function(l){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return u(l)},H.exports=u=function f(l){var x;if(this instanceof f)throw new TypeError("Symbol is not a constructor");return s?a(l):(x=d(n.prototype),l=l===void 0?"":String(l),t(x,{__description__:g("",l),__name__:g("",L(l))}))},T(u),v(u),t(n.prototype,{constructor:g(u),toString:g("",function(){return this.__name__})}),t(u.prototype,{toString:g(function(){return"Symbol ("+P(this).__description__+")"}),valueOf:g(function(){return P(this)})}),r(u.prototype,u.toPrimitive,g("",function(){var f=P(this);return typeof f=="symbol"?f:f.toString()})),r(u.prototype,u.toStringTag,g("c","Symbol")),r(n.prototype,u.toStringTag,g("c",u.prototype[u.toStringTag])),r(n.prototype,u.toPrimitive,g("c",u.prototype[u.toPrimitive]))},53308:function(H,U,e){var g=e(82276);H.exports=function(P){if(!g(P))throw new TypeError(P+" is not a symbol");return P}},83522:function(H,U,e){H.exports=e(96402)()?WeakMap:e(329)},96402:function(H){H.exports=function(){var U,e;if(typeof WeakMap!="function")return!1;try{U=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(U)!=="[object WeakMap]"||typeof U.set!="function"||U.set({},1)!==U||typeof U.delete!="function"||typeof U.has!="function"||U.get(e)!=="one")}},96416:function(H){H.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},329:function(H,U,e){var g=e(95296),P=e(1496),a=e(98976),L=e(36672),T=e(43043),v=e(62072),d=e(66661),t=e(27515),r=e(8260).toStringTag,u=e(96416),n=Array.isArray,s=Object.defineProperty,f=Object.prototype.hasOwnProperty,l=Object.getPrototypeOf,x;H.exports=x=function(){var c=arguments[0],b;if(!(this instanceof x))throw new TypeError("Constructor requires 'new'");return b=u&&P&&WeakMap!==x?P(new WeakMap,l(this)):this,g(c)&&(n(c)||(c=d(c))),s(b,"__weakMapData__",v("c","$weakMap$"+T())),c&&t(c,function(h){L(h),b.set(h[0],h[1])}),b},u&&(P&&P(x,WeakMap),x.prototype=Object.create(WeakMap.prototype,{constructor:v(x)})),Object.defineProperties(x.prototype,{delete:v(function(c){return f.call(a(c),this.__weakMapData__)?(delete c[this.__weakMapData__],!0):!1}),get:v(function(c){if(f.call(a(c),this.__weakMapData__))return c[this.__weakMapData__]}),has:v(function(c){return f.call(a(c),this.__weakMapData__)}),set:v(function(c,b){return s(a(c),this.__weakMapData__,v("c",b)),this}),toString:v(function(){return"[object WeakMap]"})}),s(x.prototype,r,v("c","WeakMap"))},15398:function(H){var U=typeof Reflect=="object"?Reflect:null,e=U&&typeof U.apply=="function"?U.apply:function(p,S,A){return Function.prototype.apply.call(p,S,A)},g;U&&typeof U.ownKeys=="function"?g=U.ownKeys:Object.getOwnPropertySymbols?g=function(p){return Object.getOwnPropertyNames(p).concat(Object.getOwnPropertySymbols(p))}:g=function(p){return Object.getOwnPropertyNames(p)};function P(o){console&&console.warn&&console.warn(o)}var a=Number.isNaN||function(p){return p!==p};function L(){L.init.call(this)}H.exports=L,H.exports.once=c,L.EventEmitter=L,L.prototype._events=void 0,L.prototype._eventsCount=0,L.prototype._maxListeners=void 0;var T=10;function v(o){if(typeof o!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof o)}Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:function(){return T},set:function(o){if(typeof o!="number"||o<0||a(o))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+o+".");T=o}}),L.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},L.prototype.setMaxListeners=function(p){if(typeof p!="number"||p<0||a(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+p+".");return this._maxListeners=p,this};function d(o){return o._maxListeners===void 0?L.defaultMaxListeners:o._maxListeners}L.prototype.getMaxListeners=function(){return d(this)},L.prototype.emit=function(p){for(var S=[],A=1;A<arguments.length;A++)S.push(arguments[A]);var E=p==="error",m=this._events;if(m!==void 0)E=E&&m.error===void 0;else if(!E)return!1;if(E){var M;if(S.length>0&&(M=S[0]),M instanceof Error)throw M;var w=new Error("Unhandled error."+(M?" ("+M.message+")":""));throw w.context=M,w}var i=m[p];if(i===void 0)return!1;if(typeof i=="function")e(i,this,S);else for(var C=i.length,y=f(i,C),A=0;A<C;++A)e(y[A],this,S);return!0};function t(o,p,S,A){var E,m,M;if(v(S),m=o._events,m===void 0?(m=o._events=Object.create(null),o._eventsCount=0):(m.newListener!==void 0&&(o.emit("newListener",p,S.listener?S.listener:S),m=o._events),M=m[p]),M===void 0)M=m[p]=S,++o._eventsCount;else if(typeof M=="function"?M=m[p]=A?[S,M]:[M,S]:A?M.unshift(S):M.push(S),E=d(o),E>0&&M.length>E&&!M.warned){M.warned=!0;var w=new Error("Possible EventEmitter memory leak detected. "+M.length+" "+String(p)+" listeners added. Use emitter.setMaxListeners() to increase limit");w.name="MaxListenersExceededWarning",w.emitter=o,w.type=p,w.count=M.length,P(w)}return o}L.prototype.addListener=function(p,S){return t(this,p,S,!1)},L.prototype.on=L.prototype.addListener,L.prototype.prependListener=function(p,S){return t(this,p,S,!0)};function r(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(o,p,S){var A={fired:!1,wrapFn:void 0,target:o,type:p,listener:S},E=r.bind(A);return E.listener=S,A.wrapFn=E,E}L.prototype.once=function(p,S){return v(S),this.on(p,u(this,p,S)),this},L.prototype.prependOnceListener=function(p,S){return v(S),this.prependListener(p,u(this,p,S)),this},L.prototype.removeListener=function(p,S){var A,E,m,M,w;if(v(S),E=this._events,E===void 0)return this;if(A=E[p],A===void 0)return this;if(A===S||A.listener===S)--this._eventsCount===0?this._events=Object.create(null):(delete E[p],E.removeListener&&this.emit("removeListener",p,A.listener||S));else if(typeof A!="function"){for(m=-1,M=A.length-1;M>=0;M--)if(A[M]===S||A[M].listener===S){w=A[M].listener,m=M;break}if(m<0)return this;m===0?A.shift():l(A,m),A.length===1&&(E[p]=A[0]),E.removeListener!==void 0&&this.emit("removeListener",p,w||S)}return this},L.prototype.off=L.prototype.removeListener,L.prototype.removeAllListeners=function(p){var S,A,E;if(A=this._events,A===void 0)return this;if(A.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):A[p]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete A[p]),this;if(arguments.length===0){var m=Object.keys(A),M;for(E=0;E<m.length;++E)M=m[E],M!=="removeListener"&&this.removeAllListeners(M);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(S=A[p],typeof S=="function")this.removeListener(p,S);else if(S!==void 0)for(E=S.length-1;E>=0;E--)this.removeListener(p,S[E]);return this};function n(o,p,S){var A=o._events;if(A===void 0)return[];var E=A[p];return E===void 0?[]:typeof E=="function"?S?[E.listener||E]:[E]:S?x(E):f(E,E.length)}L.prototype.listeners=function(p){return n(this,p,!0)},L.prototype.rawListeners=function(p){return n(this,p,!1)},L.listenerCount=function(o,p){return typeof o.listenerCount=="function"?o.listenerCount(p):s.call(o,p)},L.prototype.listenerCount=s;function s(o){var p=this._events;if(p!==void 0){var S=p[o];if(typeof S=="function")return 1;if(S!==void 0)return S.length}return 0}L.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]};function f(o,p){for(var S=new Array(p),A=0;A<p;++A)S[A]=o[A];return S}function l(o,p){for(;p+1<o.length;p++)o[p]=o[p+1];o.pop()}function x(o){for(var p=new Array(o.length),S=0;S<p.length;++S)p[S]=o[S].listener||o[S];return p}function c(o,p){return new Promise(function(S,A){function E(M){o.removeListener(p,m),A(M)}function m(){typeof o.removeListener=="function"&&o.removeListener("error",E),S([].slice.call(arguments))}h(o,p,m,{once:!0}),p!=="error"&&b(o,E,{once:!0})})}function b(o,p,S){typeof o.on=="function"&&h(o,"error",p,S)}function h(o,p,S,A){if(typeof o.on=="function")A.once?o.once(p,S):o.on(p,S);else if(typeof o.addEventListener=="function")o.addEventListener(p,function E(m){A.once&&o.removeEventListener(p,E),S(m)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof o)}},60774:function(H){var U=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};H.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return U()}try{return __global__||U()}finally{delete Object.prototype.__global__}}()},94908:function(H,U,e){H.exports=e(51152)()?globalThis:e(60774)},51152:function(H){H.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},92770:function(H,U,e){var g=e(18546);H.exports=function(P){var a=typeof P;if(a==="string"){var L=P;if(P=+P,P===0&&g(L))return!1}else if(a!=="number")return!1;return P-P<1}},30120:function(H,U,e){var g=e(90660);H.exports=P;function P(a,L,T){if(!a)throw new TypeError("must specify data as first parameter");if(T=+(T||0)|0,Array.isArray(a)&&a[0]&&typeof a[0][0]=="number"){var v=a[0].length,d=a.length*v,t,r,u,n;(!L||typeof L=="string")&&(L=new(g(L||"float32"))(d+T));var s=L.length-T;if(d!==s)throw new Error("source length "+d+" ("+v+"x"+a.length+") does not match destination length "+s);for(t=0,u=T;t<a.length;t++)for(r=0;r<v;r++)L[u++]=a[t][r]===null?NaN:a[t][r]}else if(!L||typeof L=="string"){var f=g(L||"float32");if(Array.isArray(a)||L==="array")for(L=new f(a.length+T),t=0,u=T,n=L.length;u<n;u++,t++)L[u]=a[t]===null?NaN:a[t];else T===0?L=new f(a):(L=new f(a.length+T),L.set(a,T))}else L.set(a,T);return L}},68016:function(H,U,e){var g=e(53313),P=[32,126];H.exports=a;function a(L){L=L||{};var T=L.shape?L.shape:L.canvas?[L.canvas.width,L.canvas.height]:[512,512],v=L.canvas||document.createElement("canvas"),d=L.font,t=typeof L.step=="number"?[L.step,L.step]:L.step||[32,32],r=L.chars||P;if(d&&typeof d!="string"&&(d=g(d)),!Array.isArray(r))r=String(r).split("");else if(r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"){for(var u=[],n=r[0],s=0;n<=r[1];n++)u[s++]=String.fromCharCode(n);r=u}T=T.slice(),v.width=T[0],v.height=T[1];var f=v.getContext("2d");f.fillStyle="#000",f.fillRect(0,0,v.width,v.height),f.font=d,f.textAlign="center",f.textBaseline="middle",f.fillStyle="#fff";for(var l=t[0]/2,x=t[1]/2,n=0;n<r.length;n++)f.fillText(r[n],l,x),(l+=t[0])>T[0]-t[0]/2&&(l=t[0]/2,x+=t[1]);return v}},32879:function(H){H.exports=U,U.canvas=document.createElement("canvas"),U.cache={};function U(r,L){L||(L={}),(typeof r=="string"||Array.isArray(r))&&(L.family=r);var T=Array.isArray(L.family)?L.family.join(", "):L.family;if(!T)throw Error("`family` must be defined");var v=L.size||L.fontSize||L.em||48,d=L.weight||L.fontWeight||"",t=L.style||L.fontStyle||"",r=[t,d,v].join(" ")+"px "+T,u=L.origin||"top";if(U.cache[T]&&v<=U.cache[T].em)return e(U.cache[T],u);var n=L.canvas||U.canvas,s=n.getContext("2d"),f={upper:L.upper!==void 0?L.upper:"H",lower:L.lower!==void 0?L.lower:"x",descent:L.descent!==void 0?L.descent:"p",ascent:L.ascent!==void 0?L.ascent:"h",tittle:L.tittle!==void 0?L.tittle:"i",overshoot:L.overshoot!==void 0?L.overshoot:"O"},l=Math.ceil(v*1.5);n.height=l,n.width=l*.5,s.font=r;var x="H",c={top:0};s.clearRect(0,0,l,l),s.textBaseline="top",s.fillStyle="black",s.fillText(x,0,0);var b=g(s.getImageData(0,0,l,l));s.clearRect(0,0,l,l),s.textBaseline="bottom",s.fillText(x,0,l);var h=g(s.getImageData(0,0,l,l));c.lineHeight=c.bottom=l-h+b,s.clearRect(0,0,l,l),s.textBaseline="alphabetic",s.fillText(x,0,l);var o=g(s.getImageData(0,0,l,l)),p=l-o-1+b;c.baseline=c.alphabetic=p,s.clearRect(0,0,l,l),s.textBaseline="middle",s.fillText(x,0,l*.5);var S=g(s.getImageData(0,0,l,l));c.median=c.middle=l-S-1+b-l*.5,s.clearRect(0,0,l,l),s.textBaseline="hanging",s.fillText(x,0,l*.5);var A=g(s.getImageData(0,0,l,l));c.hanging=l-A-1+b-l*.5,s.clearRect(0,0,l,l),s.textBaseline="ideographic",s.fillText(x,0,l);var E=g(s.getImageData(0,0,l,l));if(c.ideographic=l-E-1+b,f.upper&&(s.clearRect(0,0,l,l),s.textBaseline="top",s.fillText(f.upper,0,0),c.upper=g(s.getImageData(0,0,l,l)),c.capHeight=c.baseline-c.upper),f.lower&&(s.clearRect(0,0,l,l),s.textBaseline="top",s.fillText(f.lower,0,0),c.lower=g(s.getImageData(0,0,l,l)),c.xHeight=c.baseline-c.lower),f.tittle&&(s.clearRect(0,0,l,l),s.textBaseline="top",s.fillText(f.tittle,0,0),c.tittle=g(s.getImageData(0,0,l,l))),f.ascent&&(s.clearRect(0,0,l,l),s.textBaseline="top",s.fillText(f.ascent,0,0),c.ascent=g(s.getImageData(0,0,l,l))),f.descent&&(s.clearRect(0,0,l,l),s.textBaseline="top",s.fillText(f.descent,0,0),c.descent=P(s.getImageData(0,0,l,l))),f.overshoot){s.clearRect(0,0,l,l),s.textBaseline="top",s.fillText(f.overshoot,0,0);var m=P(s.getImageData(0,0,l,l));c.overshoot=m-p}for(var M in c)c[M]/=v;return c.em=v,U.cache[T]=c,e(c,u)}function e(a,L){var T={};typeof L=="string"&&(L=a[L]);for(var v in a)v!=="em"&&(T[v]=a[v]-L);return T}function g(a){for(var L=a.height,T=a.data,v=3;v<T.length;v+=4)if(T[v]!==0)return Math.floor((v-3)*.25/L)}function P(a){for(var L=a.height,T=a.data,v=T.length-1;v>0;v-=4)if(T[v]!==0)return Math.floor((v-3)*.25/L)}},31353:function(H,U,e){var g=e(85395),P=Object.prototype.toString,a=Object.prototype.hasOwnProperty,L=function(r,u,n){for(var s=0,f=r.length;s<f;s++)a.call(r,s)&&(n==null?u(r[s],s,r):u.call(n,r[s],s,r))},T=function(r,u,n){for(var s=0,f=r.length;s<f;s++)n==null?u(r.charAt(s),s,r):u.call(n,r.charAt(s),s,r)},v=function(r,u,n){for(var s in r)a.call(r,s)&&(n==null?u(r[s],s,r):u.call(n,r[s],s,r))},d=function(r,u,n){if(!g(u))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=n),P.call(r)==="[object Array]"?L(r,u,s):typeof r=="string"?T(r,u,s):v(r,u,s)};H.exports=d},73047:function(H){var U="Function.prototype.bind called on incompatible ",e=Array.prototype.slice,g=Object.prototype.toString,P="[object Function]";H.exports=function(L){var T=this;if(typeof T!="function"||g.call(T)!==P)throw new TypeError(U+T);for(var v=e.call(arguments,1),d,t=function(){if(this instanceof d){var f=T.apply(this,v.concat(e.call(arguments)));return Object(f)===f?f:this}else return T.apply(L,v.concat(e.call(arguments)))},r=Math.max(0,T.length-v.length),u=[],n=0;n<r;n++)u.push("$"+n);if(d=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(t),T.prototype){var s=function(){};s.prototype=T.prototype,d.prototype=new s,s.prototype=null}return d}},77575:function(H,U,e){var g=e(73047);H.exports=Function.prototype.bind||g},86249:function(H){H.exports=U;function U(e,g){if(typeof e!="string")throw new TypeError("must specify type string");if(g=g||{},typeof document>"u"&&!g.canvas)return null;var P=g.canvas||document.createElement("canvas");typeof g.width=="number"&&(P.width=g.width),typeof g.height=="number"&&(P.height=g.height);var a=g,L;try{var T=[e];e.indexOf("webgl")===0&&T.push("experimental-"+e);for(var v=0;v<T.length;v++)if(L=P.getContext(T[v],a),L)return L}catch{L=null}return L||null}},68318:function(H,U,e){var g,P=SyntaxError,a=Function,L=TypeError,T=function(C){try{return a('"use strict"; return ('+C+").constructor;")()}catch{}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch{v=null}var d=function(){throw new L},t=v?function(){try{return arguments.callee,d}catch{try{return v(arguments,"callee").get}catch{return d}}}():d,r=e(57877)(),u=Object.getPrototypeOf||function(C){return C.__proto__},n={},s=typeof Uint8Array>"u"?g:u(Uint8Array),f={"%AggregateError%":typeof AggregateError>"u"?g:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?g:ArrayBuffer,"%ArrayIteratorPrototype%":r?u([][Symbol.iterator]()):g,"%AsyncFromSyncIteratorPrototype%":g,"%AsyncFunction%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":n,"%AsyncIteratorPrototype%":n,"%Atomics%":typeof Atomics>"u"?g:Atomics,"%BigInt%":typeof BigInt>"u"?g:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?g:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?g:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?g:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?g:Float32Array,"%Float64Array%":typeof Float64Array>"u"?g:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?g:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":n,"%Int8Array%":typeof Int8Array>"u"?g:Int8Array,"%Int16Array%":typeof Int16Array>"u"?g:Int16Array,"%Int32Array%":typeof Int32Array>"u"?g:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":r?u(u([][Symbol.iterator]())):g,"%JSON%":typeof JSON=="object"?JSON:g,"%Map%":typeof Map>"u"?g:Map,"%MapIteratorPrototype%":typeof Map>"u"||!r?g:u(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?g:Promise,"%Proxy%":typeof Proxy>"u"?g:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?g:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?g:Set,"%SetIteratorPrototype%":typeof Set>"u"||!r?g:u(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?g:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":r?u(""[Symbol.iterator]()):g,"%Symbol%":r?Symbol:g,"%SyntaxError%":P,"%ThrowTypeError%":t,"%TypedArray%":s,"%TypeError%":L,"%Uint8Array%":typeof Uint8Array>"u"?g:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?g:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?g:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?g:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?g:WeakMap,"%WeakRef%":typeof WeakRef>"u"?g:WeakRef,"%WeakSet%":typeof WeakSet>"u"?g:WeakSet};try{null.error}catch(C){var l=u(u(C));f["%Error.prototype%"]=l}var x=function C(y){var _;if(y==="%AsyncFunction%")_=T("async function () {}");else if(y==="%GeneratorFunction%")_=T("function* () {}");else if(y==="%AsyncGeneratorFunction%")_=T("async function* () {}");else if(y==="%AsyncGenerator%"){var I=C("%AsyncGeneratorFunction%");I&&(_=I.prototype)}else if(y==="%AsyncIteratorPrototype%"){var N=C("%AsyncGenerator%");N&&(_=u(N.prototype))}return f[y]=_,_},c={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=e(77575),h=e(35065),o=b.call(Function.call,Array.prototype.concat),p=b.call(Function.apply,Array.prototype.splice),S=b.call(Function.call,String.prototype.replace),A=b.call(Function.call,String.prototype.slice),E=b.call(Function.call,RegExp.prototype.exec),m=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,M=/\\(\\)?/g,w=function(y){var _=A(y,0,1),I=A(y,-1);if(_==="%"&&I!=="%")throw new P("invalid intrinsic syntax, expected closing `%`");if(I==="%"&&_!=="%")throw new P("invalid intrinsic syntax, expected opening `%`");var N=[];return S(y,m,function(k,O,z,F){N[N.length]=z?S(F,M,"$1"):O||k}),N},i=function(y,_){var I=y,N;if(h(c,I)&&(N=c[I],I="%"+N[0]+"%"),h(f,I)){var k=f[I];if(k===n&&(k=x(I)),typeof k>"u"&&!_)throw new L("intrinsic "+y+" exists, but is not available. Please file an issue!");return{alias:N,name:I,value:k}}throw new P("intrinsic "+y+" does not exist!")};H.exports=function(y,_){if(typeof y!="string"||y.length===0)throw new L("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof _!="boolean")throw new L('"allowMissing" argument must be a boolean');if(E(/^%?[^%]*%?$/,y)===null)throw new P("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var I=w(y),N=I.length>0?I[0]:"",k=i("%"+N+"%",_),O=k.name,z=k.value,F=!1,B=k.alias;B&&(N=B[0],p(I,o([0,1],B)));for(var G=1,Q=!0;G<I.length;G+=1){var ee=I[G],ae=A(ee,0,1),fe=A(ee,-1);if((ae==='"'||ae==="'"||ae==="`"||fe==='"'||fe==="'"||fe==="`")&&ae!==fe)throw new P("property names with quotes must have matching quotes");if((ee==="constructor"||!Q)&&(F=!0),N+="."+ee,O="%"+N+"%",h(f,O))z=f[O];else if(z!=null){if(!(ee in z)){if(!_)throw new L("base intrinsic for "+y+" exists, but the property is not available.");return}if(v&&G+1>=I.length){var K=v(z,ee);Q=!!K,Q&&"get"in K&&!("originalValue"in K.get)?z=K.get:z=z[ee]}else Q=h(z,ee),z=z[ee];Q&&!F&&(f[O]=z)}}return z}},85400:function(H){H.exports=U;function U(e,g){var P=g[0],a=g[1],L=g[2],T=g[3],v=g[4],d=g[5],t=g[6],r=g[7],u=g[8],n=g[9],s=g[10],f=g[11],l=g[12],x=g[13],c=g[14],b=g[15];return e[0]=d*(s*b-f*c)-n*(t*b-r*c)+x*(t*f-r*s),e[1]=-(a*(s*b-f*c)-n*(L*b-T*c)+x*(L*f-T*s)),e[2]=a*(t*b-r*c)-d*(L*b-T*c)+x*(L*r-T*t),e[3]=-(a*(t*f-r*s)-d*(L*f-T*s)+n*(L*r-T*t)),e[4]=-(v*(s*b-f*c)-u*(t*b-r*c)+l*(t*f-r*s)),e[5]=P*(s*b-f*c)-u*(L*b-T*c)+l*(L*f-T*s),e[6]=-(P*(t*b-r*c)-v*(L*b-T*c)+l*(L*r-T*t)),e[7]=P*(t*f-r*s)-v*(L*f-T*s)+u*(L*r-T*t),e[8]=v*(n*b-f*x)-u*(d*b-r*x)+l*(d*f-r*n),e[9]=-(P*(n*b-f*x)-u*(a*b-T*x)+l*(a*f-T*n)),e[10]=P*(d*b-r*x)-v*(a*b-T*x)+l*(a*r-T*d),e[11]=-(P*(d*f-r*n)-v*(a*f-T*n)+u*(a*r-T*d)),e[12]=-(v*(n*c-s*x)-u*(d*c-t*x)+l*(d*s-t*n)),e[13]=P*(n*c-s*x)-u*(a*c-L*x)+l*(a*s-L*n),e[14]=-(P*(d*c-t*x)-v*(a*c-L*x)+l*(a*t-L*d)),e[15]=P*(d*s-t*n)-v*(a*s-L*n)+u*(a*t-L*d),e}},42331:function(H){H.exports=U;function U(e){var g=new Float32Array(16);return g[0]=e[0],g[1]=e[1],g[2]=e[2],g[3]=e[3],g[4]=e[4],g[5]=e[5],g[6]=e[6],g[7]=e[7],g[8]=e[8],g[9]=e[9],g[10]=e[10],g[11]=e[11],g[12]=e[12],g[13]=e[13],g[14]=e[14],g[15]=e[15],g}},31042:function(H){H.exports=U;function U(e,g){return e[0]=g[0],e[1]=g[1],e[2]=g[2],e[3]=g[3],e[4]=g[4],e[5]=g[5],e[6]=g[6],e[7]=g[7],e[8]=g[8],e[9]=g[9],e[10]=g[10],e[11]=g[11],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15],e}},11902:function(H){H.exports=U;function U(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},89887:function(H){H.exports=U;function U(e){var g=e[0],P=e[1],a=e[2],L=e[3],T=e[4],v=e[5],d=e[6],t=e[7],r=e[8],u=e[9],n=e[10],s=e[11],f=e[12],l=e[13],x=e[14],c=e[15],b=g*v-P*T,h=g*d-a*T,o=g*t-L*T,p=P*d-a*v,S=P*t-L*v,A=a*t-L*d,E=r*l-u*f,m=r*x-n*f,M=r*c-s*f,w=u*x-n*l,i=u*c-s*l,C=n*c-s*x;return b*C-h*i+o*w+p*M-S*m+A*E}},27812:function(H){H.exports=U;function U(e,g){var P=g[0],a=g[1],L=g[2],T=g[3],v=P+P,d=a+a,t=L+L,r=P*v,u=a*v,n=a*d,s=L*v,f=L*d,l=L*t,x=T*v,c=T*d,b=T*t;return e[0]=1-n-l,e[1]=u+b,e[2]=s-c,e[3]=0,e[4]=u-b,e[5]=1-r-l,e[6]=f+x,e[7]=0,e[8]=s+c,e[9]=f-x,e[10]=1-r-n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},34045:function(H){H.exports=U;function U(e,g,P){var a,L,T,v=P[0],d=P[1],t=P[2],r=Math.sqrt(v*v+d*d+t*t);return Math.abs(r)<1e-6?null:(r=1/r,v*=r,d*=r,t*=r,a=Math.sin(g),L=Math.cos(g),T=1-L,e[0]=v*v*T+L,e[1]=d*v*T+t*a,e[2]=t*v*T-d*a,e[3]=0,e[4]=v*d*T-t*a,e[5]=d*d*T+L,e[6]=t*d*T+v*a,e[7]=0,e[8]=v*t*T+d*a,e[9]=d*t*T-v*a,e[10]=t*t*T+L,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},45973:function(H){H.exports=U;function U(e,g,P){var a=g[0],L=g[1],T=g[2],v=g[3],d=a+a,t=L+L,r=T+T,u=a*d,n=a*t,s=a*r,f=L*t,l=L*r,x=T*r,c=v*d,b=v*t,h=v*r;return e[0]=1-(f+x),e[1]=n+h,e[2]=s-b,e[3]=0,e[4]=n-h,e[5]=1-(u+x),e[6]=l+c,e[7]=0,e[8]=s+b,e[9]=l-c,e[10]=1-(u+f),e[11]=0,e[12]=P[0],e[13]=P[1],e[14]=P[2],e[15]=1,e}},81472:function(H){H.exports=U;function U(e,g){return e[0]=g[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=g[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=g[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},14669:function(H){H.exports=U;function U(e,g){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=g[0],e[13]=g[1],e[14]=g[2],e[15]=1,e}},75262:function(H){H.exports=U;function U(e,g){var P=Math.sin(g),a=Math.cos(g);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=P,e[7]=0,e[8]=0,e[9]=-P,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},331:function(H){H.exports=U;function U(e,g){var P=Math.sin(g),a=Math.cos(g);return e[0]=a,e[1]=0,e[2]=-P,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=P,e[9]=0,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},11049:function(H){H.exports=U;function U(e,g){var P=Math.sin(g),a=Math.cos(g);return e[0]=a,e[1]=P,e[2]=0,e[3]=0,e[4]=-P,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},75195:function(H){H.exports=U;function U(e,g,P,a,L,T,v){var d=1/(P-g),t=1/(L-a),r=1/(T-v);return e[0]=T*2*d,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=T*2*t,e[6]=0,e[7]=0,e[8]=(P+g)*d,e[9]=(L+a)*t,e[10]=(v+T)*r,e[11]=-1,e[12]=0,e[13]=0,e[14]=v*T*2*r,e[15]=0,e}},71551:function(H){H.exports=U;function U(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},79576:function(H,U,e){H.exports={create:e(11902),clone:e(42331),copy:e(31042),identity:e(71551),transpose:e(88654),invert:e(95874),adjoint:e(85400),determinant:e(89887),multiply:e(91362),translate:e(31283),scale:e(10789),rotate:e(65074),rotateX:e(35545),rotateY:e(94918),rotateZ:e(15692),fromRotation:e(34045),fromRotationTranslation:e(45973),fromScaling:e(81472),fromTranslation:e(14669),fromXRotation:e(75262),fromYRotation:e(331),fromZRotation:e(11049),fromQuat:e(27812),frustum:e(75195),perspective:e(7864),perspectiveFromFieldOfView:e(35279),ortho:e(60378),lookAt:e(65551),str:e(6726)}},95874:function(H){H.exports=U;function U(e,g){var P=g[0],a=g[1],L=g[2],T=g[3],v=g[4],d=g[5],t=g[6],r=g[7],u=g[8],n=g[9],s=g[10],f=g[11],l=g[12],x=g[13],c=g[14],b=g[15],h=P*d-a*v,o=P*t-L*v,p=P*r-T*v,S=a*t-L*d,A=a*r-T*d,E=L*r-T*t,m=u*x-n*l,M=u*c-s*l,w=u*b-f*l,i=n*c-s*x,C=n*b-f*x,y=s*b-f*c,_=h*y-o*C+p*i+S*w-A*M+E*m;return _?(_=1/_,e[0]=(d*y-t*C+r*i)*_,e[1]=(L*C-a*y-T*i)*_,e[2]=(x*E-c*A+b*S)*_,e[3]=(s*A-n*E-f*S)*_,e[4]=(t*w-v*y-r*M)*_,e[5]=(P*y-L*w+T*M)*_,e[6]=(c*p-l*E-b*o)*_,e[7]=(u*E-s*p+f*o)*_,e[8]=(v*C-d*w+r*m)*_,e[9]=(a*w-P*C-T*m)*_,e[10]=(l*A-x*p+b*h)*_,e[11]=(n*p-u*A-f*h)*_,e[12]=(d*M-v*i-t*m)*_,e[13]=(P*i-a*M+L*m)*_,e[14]=(x*o-l*S-c*h)*_,e[15]=(u*S-n*o+s*h)*_,e):null}},65551:function(H,U,e){var g=e(71551);H.exports=P;function P(a,L,T,v){var d,t,r,u,n,s,f,l,x,c,b=L[0],h=L[1],o=L[2],p=v[0],S=v[1],A=v[2],E=T[0],m=T[1],M=T[2];return Math.abs(b-E)<1e-6&&Math.abs(h-m)<1e-6&&Math.abs(o-M)<1e-6?g(a):(f=b-E,l=h-m,x=o-M,c=1/Math.sqrt(f*f+l*l+x*x),f*=c,l*=c,x*=c,d=S*x-A*l,t=A*f-p*x,r=p*l-S*f,c=Math.sqrt(d*d+t*t+r*r),c?(c=1/c,d*=c,t*=c,r*=c):(d=0,t=0,r=0),u=l*r-x*t,n=x*d-f*r,s=f*t-l*d,c=Math.sqrt(u*u+n*n+s*s),c?(c=1/c,u*=c,n*=c,s*=c):(u=0,n=0,s=0),a[0]=d,a[1]=u,a[2]=f,a[3]=0,a[4]=t,a[5]=n,a[6]=l,a[7]=0,a[8]=r,a[9]=s,a[10]=x,a[11]=0,a[12]=-(d*b+t*h+r*o),a[13]=-(u*b+n*h+s*o),a[14]=-(f*b+l*h+x*o),a[15]=1,a)}},91362:function(H){H.exports=U;function U(e,g,P){var a=g[0],L=g[1],T=g[2],v=g[3],d=g[4],t=g[5],r=g[6],u=g[7],n=g[8],s=g[9],f=g[10],l=g[11],x=g[12],c=g[13],b=g[14],h=g[15],o=P[0],p=P[1],S=P[2],A=P[3];return e[0]=o*a+p*d+S*n+A*x,e[1]=o*L+p*t+S*s+A*c,e[2]=o*T+p*r+S*f+A*b,e[3]=o*v+p*u+S*l+A*h,o=P[4],p=P[5],S=P[6],A=P[7],e[4]=o*a+p*d+S*n+A*x,e[5]=o*L+p*t+S*s+A*c,e[6]=o*T+p*r+S*f+A*b,e[7]=o*v+p*u+S*l+A*h,o=P[8],p=P[9],S=P[10],A=P[11],e[8]=o*a+p*d+S*n+A*x,e[9]=o*L+p*t+S*s+A*c,e[10]=o*T+p*r+S*f+A*b,e[11]=o*v+p*u+S*l+A*h,o=P[12],p=P[13],S=P[14],A=P[15],e[12]=o*a+p*d+S*n+A*x,e[13]=o*L+p*t+S*s+A*c,e[14]=o*T+p*r+S*f+A*b,e[15]=o*v+p*u+S*l+A*h,e}},60378:function(H){H.exports=U;function U(e,g,P,a,L,T,v){var d=1/(g-P),t=1/(a-L),r=1/(T-v);return e[0]=-2*d,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*r,e[11]=0,e[12]=(g+P)*d,e[13]=(L+a)*t,e[14]=(v+T)*r,e[15]=1,e}},7864:function(H){H.exports=U;function U(e,g,P,a,L){var T=1/Math.tan(g/2),v=1/(a-L);return e[0]=T/P,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=T,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(L+a)*v,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*L*a*v,e[15]=0,e}},35279:function(H){H.exports=U;function U(e,g,P,a){var L=Math.tan(g.upDegrees*Math.PI/180),T=Math.tan(g.downDegrees*Math.PI/180),v=Math.tan(g.leftDegrees*Math.PI/180),d=Math.tan(g.rightDegrees*Math.PI/180),t=2/(v+d),r=2/(L+T);return e[0]=t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=0,e[7]=0,e[8]=-((v-d)*t*.5),e[9]=(L-T)*r*.5,e[10]=a/(P-a),e[11]=-1,e[12]=0,e[13]=0,e[14]=a*P/(P-a),e[15]=0,e}},65074:function(H){H.exports=U;function U(e,g,P,a){var L=a[0],T=a[1],v=a[2],d=Math.sqrt(L*L+T*T+v*v),t,r,u,n,s,f,l,x,c,b,h,o,p,S,A,E,m,M,w,i,C,y,_,I;return Math.abs(d)<1e-6?null:(d=1/d,L*=d,T*=d,v*=d,t=Math.sin(P),r=Math.cos(P),u=1-r,n=g[0],s=g[1],f=g[2],l=g[3],x=g[4],c=g[5],b=g[6],h=g[7],o=g[8],p=g[9],S=g[10],A=g[11],E=L*L*u+r,m=T*L*u+v*t,M=v*L*u-T*t,w=L*T*u-v*t,i=T*T*u+r,C=v*T*u+L*t,y=L*v*u+T*t,_=T*v*u-L*t,I=v*v*u+r,e[0]=n*E+x*m+o*M,e[1]=s*E+c*m+p*M,e[2]=f*E+b*m+S*M,e[3]=l*E+h*m+A*M,e[4]=n*w+x*i+o*C,e[5]=s*w+c*i+p*C,e[6]=f*w+b*i+S*C,e[7]=l*w+h*i+A*C,e[8]=n*y+x*_+o*I,e[9]=s*y+c*_+p*I,e[10]=f*y+b*_+S*I,e[11]=l*y+h*_+A*I,g!==e&&(e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e)}},35545:function(H){H.exports=U;function U(e,g,P){var a=Math.sin(P),L=Math.cos(P),T=g[4],v=g[5],d=g[6],t=g[7],r=g[8],u=g[9],n=g[10],s=g[11];return g!==e&&(e[0]=g[0],e[1]=g[1],e[2]=g[2],e[3]=g[3],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[4]=T*L+r*a,e[5]=v*L+u*a,e[6]=d*L+n*a,e[7]=t*L+s*a,e[8]=r*L-T*a,e[9]=u*L-v*a,e[10]=n*L-d*a,e[11]=s*L-t*a,e}},94918:function(H){H.exports=U;function U(e,g,P){var a=Math.sin(P),L=Math.cos(P),T=g[0],v=g[1],d=g[2],t=g[3],r=g[8],u=g[9],n=g[10],s=g[11];return g!==e&&(e[4]=g[4],e[5]=g[5],e[6]=g[6],e[7]=g[7],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[0]=T*L-r*a,e[1]=v*L-u*a,e[2]=d*L-n*a,e[3]=t*L-s*a,e[8]=T*a+r*L,e[9]=v*a+u*L,e[10]=d*a+n*L,e[11]=t*a+s*L,e}},15692:function(H){H.exports=U;function U(e,g,P){var a=Math.sin(P),L=Math.cos(P),T=g[0],v=g[1],d=g[2],t=g[3],r=g[4],u=g[5],n=g[6],s=g[7];return g!==e&&(e[8]=g[8],e[9]=g[9],e[10]=g[10],e[11]=g[11],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[0]=T*L+r*a,e[1]=v*L+u*a,e[2]=d*L+n*a,e[3]=t*L+s*a,e[4]=r*L-T*a,e[5]=u*L-v*a,e[6]=n*L-d*a,e[7]=s*L-t*a,e}},10789:function(H){H.exports=U;function U(e,g,P){var a=P[0],L=P[1],T=P[2];return e[0]=g[0]*a,e[1]=g[1]*a,e[2]=g[2]*a,e[3]=g[3]*a,e[4]=g[4]*L,e[5]=g[5]*L,e[6]=g[6]*L,e[7]=g[7]*L,e[8]=g[8]*T,e[9]=g[9]*T,e[10]=g[10]*T,e[11]=g[11]*T,e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15],e}},6726:function(H){H.exports=U;function U(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},31283:function(H){H.exports=U;function U(e,g,P){var a=P[0],L=P[1],T=P[2],v,d,t,r,u,n,s,f,l,x,c,b;return g===e?(e[12]=g[0]*a+g[4]*L+g[8]*T+g[12],e[13]=g[1]*a+g[5]*L+g[9]*T+g[13],e[14]=g[2]*a+g[6]*L+g[10]*T+g[14],e[15]=g[3]*a+g[7]*L+g[11]*T+g[15]):(v=g[0],d=g[1],t=g[2],r=g[3],u=g[4],n=g[5],s=g[6],f=g[7],l=g[8],x=g[9],c=g[10],b=g[11],e[0]=v,e[1]=d,e[2]=t,e[3]=r,e[4]=u,e[5]=n,e[6]=s,e[7]=f,e[8]=l,e[9]=x,e[10]=c,e[11]=b,e[12]=v*a+u*L+l*T+g[12],e[13]=d*a+n*L+x*T+g[13],e[14]=t*a+s*L+c*T+g[14],e[15]=r*a+f*L+b*T+g[15]),e}},88654:function(H){H.exports=U;function U(e,g){if(e===g){var P=g[1],a=g[2],L=g[3],T=g[6],v=g[7],d=g[11];e[1]=g[4],e[2]=g[8],e[3]=g[12],e[4]=P,e[6]=g[9],e[7]=g[13],e[8]=a,e[9]=T,e[11]=g[14],e[12]=L,e[13]=v,e[14]=d}else e[0]=g[0],e[1]=g[4],e[2]=g[8],e[3]=g[12],e[4]=g[1],e[5]=g[5],e[6]=g[9],e[7]=g[13],e[8]=g[2],e[9]=g[6],e[10]=g[10],e[11]=g[14],e[12]=g[3],e[13]=g[7],e[14]=g[11],e[15]=g[15];return e}},42505:function(H,U,e){var g=e(72791),P=e(71299),a=e(98580),L=e(12018),T=e(83522),v=e(25075),d=e(68016),t=e(58404),r=e(18863),u=e(10973),n=e(25677),s=e(75686),f=e(53545),l=e(56131),x=e(32879),c=e(30120),b=e(13547),h=b.nextPow2,o=new T,p=!1;if(document.body){var S=document.body.appendChild(document.createElement("div"));S.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(S).fontStretch&&(p=!0),document.body.removeChild(S)}var A=function(M){E(M)?(M={regl:M},this.gl=M.regl._gl):this.gl=L(M),this.shader=o.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=M.regl||a({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),o.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(u(M)?M:{})};A.prototype.createShader=function(){var M=this.regl,w=M({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:M.prop("count"),offset:M.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:M.this("sizeBuffer")},width:{offset:0,stride:8,buffer:M.this("sizeBuffer")},char:M.this("charBuffer"),position:M.this("position")},uniforms:{atlasSize:function(C,y){return[y.atlas.width,y.atlas.height]},atlasDim:function(C,y){return[y.atlas.cols,y.atlas.rows]},atlas:function(C,y){return y.atlas.texture},charStep:function(C,y){return y.atlas.step},em:function(C,y){return y.atlas.em},color:M.prop("color"),opacity:M.prop("opacity"),viewport:M.this("viewportArray"),scale:M.this("scale"),align:M.prop("align"),baseline:M.prop("baseline"),translate:M.this("translate"),positionOffset:M.prop("positionOffset")},primitive:"points",viewport:M.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),i={};return{regl:M,draw:w,atlas:i}},A.prototype.update=function(M){var w=this;if(typeof M=="string")M={text:M};else if(!M)return;M=P(M,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),M.opacity!=null&&(Array.isArray(M.opacity)?this.opacity=M.opacity.map(function(Re){return parseFloat(Re)}):this.opacity=parseFloat(M.opacity)),M.viewport!=null&&(this.viewport=r(M.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),M.kerning!=null&&(this.kerning=M.kerning),M.offset!=null&&(typeof M.offset=="number"&&(M.offset=[M.offset,0]),this.positionOffset=c(M.offset)),M.direction&&(this.direction=M.direction),M.range&&(this.range=M.range,this.scale=[1/(M.range[2]-M.range[0]),1/(M.range[3]-M.range[1])],this.translate=[-M.range[0],-M.range[1]]),M.scale&&(this.scale=M.scale),M.translate&&(this.translate=M.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!M.font&&(M.font=A.baseFontSize+"px sans-serif");var i=!1,C=!1;if(M.font&&(Array.isArray(M.font)?M.font:[M.font]).forEach(function(Re,Ve){if(typeof Re=="string")try{Re=g.parse(Re)}catch{Re=g.parse(A.baseFontSize+"px "+Re)}else Re=g.parse(g.stringify(Re));var rt=g.stringify({size:A.baseFontSize,family:Re.family,stretch:p?Re.stretch:void 0,variant:Re.variant,weight:Re.weight,style:Re.style}),Qe=n(Re.size),Je=Math.round(Qe[0]*s(Qe[1]));if(Je!==w.fontSize[Ve]&&(C=!0,w.fontSize[Ve]=Je),(!w.font[Ve]||rt!=w.font[Ve].baseString)&&(i=!0,w.font[Ve]=A.fonts[rt],!w.font[Ve])){var qe=Re.family.join(", "),dt=[Re.style];Re.style!=Re.variant&&dt.push(Re.variant),Re.variant!=Re.weight&&dt.push(Re.weight),p&&Re.weight!=Re.stretch&&dt.push(Re.stretch),w.font[Ve]={baseString:rt,family:qe,weight:Re.weight,stretch:Re.stretch,style:Re.style,variant:Re.variant,width:{},kerning:{},metrics:x(qe,{origin:"top",fontSize:A.baseFontSize,fontStyle:dt.join(" ")})},A.fonts[rt]=w.font[Ve]}}),(i||C)&&this.font.forEach(function(Re,Ve){var rt=g.stringify({size:w.fontSize[Ve],family:Re.family,stretch:p?Re.stretch:void 0,variant:Re.variant,weight:Re.weight,style:Re.style});if(w.fontAtlas[Ve]=w.shader.atlas[rt],!w.fontAtlas[Ve]){var Qe=Re.metrics;w.shader.atlas[rt]=w.fontAtlas[Ve]={fontString:rt,step:Math.ceil(w.fontSize[Ve]*Qe.bottom*.5)*2,em:w.fontSize[Ve],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:w.regl.texture()}}M.text==null&&(M.text=w.text)}),typeof M.text=="string"&&M.position&&M.position.length>2){for(var y=Array(M.position.length*.5),_=0;_<y.length;_++)y[_]=M.text;M.text=y}var I;if(M.text!=null||i){if(this.textOffsets=[0],Array.isArray(M.text)){this.count=M.text[0].length,this.counts=[this.count];for(var N=1;N<M.text.length;N++)this.textOffsets[N]=this.textOffsets[N-1]+M.text[N-1].length,this.count+=M.text[N].length,this.counts.push(M.text[N].length);this.text=M.text.join("")}else this.text=M.text,this.count=this.text.length,this.counts=[this.count];I=[],this.font.forEach(function(Re,Ve){A.atlasContext.font=Re.baseString;for(var rt=w.fontAtlas[Ve],Qe=0;Qe<w.text.length;Qe++){var Je=w.text.charAt(Qe);if(rt.ids[Je]==null&&(rt.ids[Je]=rt.chars.length,rt.chars.push(Je),I.push(Je)),Re.width[Je]==null&&(Re.width[Je]=A.atlasContext.measureText(Je).width/A.baseFontSize,w.kerning)){var qe=[];for(var dt in Re.width)qe.push(dt+Je,Je+dt);l(Re.kerning,f(Re.family,{pairs:qe}))}}})}if(M.position)if(M.position.length>2){for(var k=!M.position[0].length,O=t.mallocFloat(this.count*2),z=0,F=0;z<this.counts.length;z++){var B=this.counts[z];if(k)for(var G=0;G<B;G++)O[F++]=M.position[z*2],O[F++]=M.position[z*2+1];else for(var Q=0;Q<B;Q++)O[F++]=M.position[z][0],O[F++]=M.position[z][1]}this.position.call?this.position({type:"float",data:O}):this.position=this.regl.buffer({type:"float",data:O}),t.freeFloat(O)}else this.position.destroy&&this.position.destroy(),this.position={constant:M.position};if(M.text||i){var ee=t.mallocUint8(this.count),ae=t.mallocFloat(this.count*2);this.textWidth=[];for(var fe=0,K=0;fe<this.counts.length;fe++){for(var W=this.counts[fe],Z=this.font[fe]||this.font[0],X=this.fontAtlas[fe]||this.fontAtlas[0],$=0;$<W;$++){var ie=this.text.charAt(K),J=this.text.charAt(K-1);if(ee[K]=X.ids[ie],ae[K*2]=Z.width[ie],$){var j=ae[K*2-2],se=ae[K*2],ne=ae[K*2-1],ue=ne+j*.5+se*.5;if(this.kerning){var ge=Z.kerning[J+ie];ge&&(ue+=ge*.001)}ae[K*2+1]=ue}else ae[K*2+1]=ae[K*2]*.5;K++}this.textWidth.push(ae.length?ae[K*2-2]*.5+ae[K*2-1]:0)}M.align||(M.align=this.align),this.charBuffer({data:ee,type:"uint8",usage:"stream"}),this.sizeBuffer({data:ae,type:"float",usage:"stream"}),t.freeUint8(ee),t.freeFloat(ae),I.length&&this.font.forEach(function(Re,Ve){var rt=w.fontAtlas[Ve],Qe=rt.step,Je=Math.floor(A.maxAtlasSize/Qe),qe=Math.min(Je,rt.chars.length),dt=Math.ceil(rt.chars.length/qe),pt=h(qe*Qe),mt=h(dt*Qe);rt.width=pt,rt.height=mt,rt.rows=dt,rt.cols=qe,rt.em&&rt.texture({data:d({canvas:A.atlasCanvas,font:rt.fontString,chars:rt.chars,shape:[pt,mt],step:[Qe,Qe]})})})}if(M.align&&(this.align=M.align,this.alignOffset=this.textWidth.map(function(Re,Ve){var rt=Array.isArray(w.align)?w.align.length>1?w.align[Ve]:w.align[0]:w.align;if(typeof rt=="number")return rt;switch(rt){case"right":case"end":return-Re;case"center":case"centre":case"middle":return-Re*.5}return 0})),this.baseline==null&&M.baseline==null&&(M.baseline=0),M.baseline!=null&&(this.baseline=M.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(Re,Ve){var rt=(w.font[Ve]||w.font[0]).metrics,Qe=0;return Qe+=rt.bottom*.5,typeof Re=="number"?Qe+=Re-rt.baseline:Qe+=-rt[Re],Qe*=-1,Qe})),M.color!=null)if(M.color||(M.color="transparent"),typeof M.color=="string"||!isNaN(M.color))this.color=v(M.color,"uint8");else{var we;if(typeof M.color[0]=="number"&&M.color.length>this.counts.length){var xe=M.color.length;we=t.mallocUint8(xe);for(var Fe=(M.color.subarray||M.color.slice).bind(M.color),ze=0;ze<xe;ze+=4)we.set(v(Fe(ze,ze+4),"uint8"),ze)}else{var Te=M.color.length;we=t.mallocUint8(Te*4);for(var ye=0;ye<Te;ye++)we.set(v(M.color[ye]||0,"uint8"),ye*4)}this.color=we}if(M.position||M.text||M.color||M.baseline||M.align||M.font||M.offset||M.opacity){var Ae=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(Ae){var Ne=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(Ne);for(var Ue=0;Ue<this.batch.length;Ue++)this.batch[Ue]={count:this.counts.length>1?this.counts[Ue]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[Ue]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(Ue*4,Ue*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[Ue]:this.opacity,baseline:this.baselineOffset[Ue]!=null?this.baselineOffset[Ue]:this.baselineOffset[0],align:this.align?this.alignOffset[Ue]!=null?this.alignOffset[Ue]:this.alignOffset[0]:0,atlas:this.fontAtlas[Ue]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(Ue*2,Ue*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},A.prototype.destroy=function(){},A.prototype.kerning=!0,A.prototype.position={constant:new Float32Array(2)},A.prototype.translate=null,A.prototype.scale=null,A.prototype.font=null,A.prototype.text="",A.prototype.positionOffset=[0,0],A.prototype.opacity=1,A.prototype.color=new Uint8Array([0,0,0,255]),A.prototype.alignOffset=[0,0],A.maxAtlasSize=1024,A.atlasCanvas=document.createElement("canvas"),A.atlasContext=A.atlasCanvas.getContext("2d",{alpha:!1}),A.baseFontSize=64,A.fonts={};function E(m){return typeof m=="function"&&m._gl&&m.prop&&m.texture&&m.buffer}H.exports=A},12018:function(H,U,e){var g=e(71299);H.exports=function(t){if(t?typeof t=="string"&&(t={container:t}):t={},a(t)?t={container:t}:L(t)?t={container:t}:T(t)?t={gl:t}:t=g(t,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),t.pixelRatio||(t.pixelRatio=e.g.pixelRatio||1),t.gl)return t.gl;if(t.canvas&&(t.container=t.canvas.parentNode),t.container){if(typeof t.container=="string"){var r=document.querySelector(t.container);if(!r)throw Error("Element "+t.container+" is not found");t.container=r}a(t.container)?(t.canvas=t.container,t.container=t.canvas.parentNode):t.canvas||(t.canvas=v(),t.container.appendChild(t.canvas),P(t))}else if(!t.canvas)if(typeof document<"u")t.container=document.body||document.documentElement,t.canvas=v(),t.container.appendChild(t.canvas),P(t);else throw Error("Not DOM environment. Use headless-gl.");return t.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(u){try{t.gl=t.canvas.getContext(u,t.attrs)}catch{}return t.gl}),t.gl};function P(d){if(d.container)if(d.container==document.body)document.body.style.width||(d.canvas.width=d.width||d.pixelRatio*e.g.innerWidth),document.body.style.height||(d.canvas.height=d.height||d.pixelRatio*e.g.innerHeight);else{var t=d.container.getBoundingClientRect();d.canvas.width=d.width||t.right-t.left,d.canvas.height=d.height||t.bottom-t.top}}function a(d){return typeof d.getContext=="function"&&"width"in d&&"height"in d}function L(d){return typeof d.nodeName=="string"&&typeof d.appendChild=="function"&&typeof d.getBoundingClientRect=="function"}function T(d){return typeof d.drawArrays=="function"||typeof d.drawElements=="function"}function v(){var d=document.createElement("canvas");return d.style.position="absolute",d.style.top=0,d.style.left=0,d}},56068:function(H){H.exports=function(U){typeof U=="string"&&(U=[U]);for(var e=[].slice.call(arguments,1),g=[],P=0;P<U.length-1;P++)g.push(U[P],e[P]||"");return g.push(U[P]),g.join("")}},40383:function(H,U,e){var g=e(68318),P=g("%Object.getOwnPropertyDescriptor%",!0);if(P)try{P([],"length")}catch{P=null}H.exports=P},57035:function(H,U,e){var g=e(54404),P;typeof e.g.matchMedia=="function"?P=!e.g.matchMedia("(hover: none)").matches:P=g,H.exports=P},38520:function(H,U,e){var g=e(54404);function P(){var a=!1;try{var L=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,L),window.removeEventListener("test",null,L)}catch{a=!1}return a}H.exports=g&&P()},55622:function(H,U,e){var g=e(68318),P=g("%Object.defineProperty%",!0),a=function(){if(P)try{return P({},"a",{value:1}),!0}catch{return!1}return!1};a.hasArrayLengthDefineBug=function(){if(!a())return null;try{return P([],"length",{value:1}).length!==1}catch{return!0}},H.exports=a},57877:function(H,U,e){var g=typeof Symbol<"u"&&Symbol,P=e(35638);H.exports=function(){return typeof g!="function"||typeof Symbol!="function"||typeof g("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:P()}},35638:function(H){H.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},g=Symbol("test"),P=Object(g);if(typeof g=="string"||Object.prototype.toString.call(g)!=="[object Symbol]"||Object.prototype.toString.call(P)!=="[object Symbol]")return!1;var a=42;e[g]=a;for(g in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var L=Object.getOwnPropertySymbols(e);if(L.length!==1||L[0]!==g||!Object.prototype.propertyIsEnumerable.call(e,g))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var T=Object.getOwnPropertyDescriptor(e,g);if(T.value!==a||T.enumerable!==!0)return!1}return!0}},84543:function(H,U,e){var g=e(35638);H.exports=function(){return g()&&!!Symbol.toStringTag}},35065:function(H,U,e){var g=e(77575);H.exports=g.call(Function.call,Object.prototype.hasOwnProperty)},95280:function(H,U){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */U.read=function(e,g,P,a,L){var T,v,d=L*8-a-1,t=(1<<d)-1,r=t>>1,u=-7,n=P?L-1:0,s=P?-1:1,f=e[g+n];for(n+=s,T=f&(1<<-u)-1,f>>=-u,u+=d;u>0;T=T*256+e[g+n],n+=s,u-=8);for(v=T&(1<<-u)-1,T>>=-u,u+=a;u>0;v=v*256+e[g+n],n+=s,u-=8);if(T===0)T=1-r;else{if(T===t)return v?NaN:(f?-1:1)*(1/0);v=v+Math.pow(2,a),T=T-r}return(f?-1:1)*v*Math.pow(2,T-a)},U.write=function(e,g,P,a,L,T){var v,d,t,r=T*8-L-1,u=(1<<r)-1,n=u>>1,s=L===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=a?0:T-1,l=a?1:-1,x=g<0||g===0&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(d=isNaN(g)?1:0,v=u):(v=Math.floor(Math.log(g)/Math.LN2),g*(t=Math.pow(2,-v))<1&&(v--,t*=2),v+n>=1?g+=s/t:g+=s*Math.pow(2,1-n),g*t>=2&&(v++,t/=2),v+n>=u?(d=0,v=u):v+n>=1?(d=(g*t-1)*Math.pow(2,L),v=v+n):(d=g*Math.pow(2,n-1)*Math.pow(2,L),v=0));L>=8;e[P+f]=d&255,f+=l,d/=256,L-=8);for(v=v<<L|d,r+=L;r>0;e[P+f]=v&255,f+=l,v/=256,r-=8);e[P+f-l]|=x*128}},42018:function(H){typeof Object.create=="function"?H.exports=function(e,g){g&&(e.super_=g,e.prototype=Object.create(g.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:H.exports=function(e,g){if(g){e.super_=g;var P=function(){};P.prototype=g.prototype,e.prototype=new P,e.prototype.constructor=e}}},47216:function(H,U,e){var g=e(84543)(),P=e(6614),a=P("Object.prototype.toString"),L=function(t){return g&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:a(t)==="[object Arguments]"},T=function(t){return L(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&a(t)!=="[object Array]"&&a(t.callee)==="[object Function]"},v=function(){return L(arguments)}();L.isLegacyArguments=T,H.exports=v?L:T},54404:function(H){H.exports=!0},85395:function(H){var U=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,g,P;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{g=Object.defineProperty({},"length",{get:function(){throw P}}),P={},e(function(){throw 42},null,g)}catch(b){b!==P&&(e=null)}else e=null;var a=/^\s*class\b/,L=function(h){try{var o=U.call(h);return a.test(o)}catch{return!1}},T=function(h){try{return L(h)?!1:(U.call(h),!0)}catch{return!1}},v=Object.prototype.toString,d="[object Object]",t="[object Function]",r="[object GeneratorFunction]",u="[object HTMLAllCollection]",n="[object HTML document.all class]",s="[object HTMLCollection]",f=typeof Symbol=="function"&&!!Symbol.toStringTag,l=!(0 in[,]),x=function(){return!1};if(typeof document=="object"){var c=document.all;v.call(c)===v.call(document.all)&&(x=function(h){if((l||!h)&&(typeof h>"u"||typeof h=="object"))try{var o=v.call(h);return(o===u||o===n||o===s||o===d)&&h("")==null}catch{}return!1})}H.exports=e?function(h){if(x(h))return!0;if(!h||typeof h!="function"&&typeof h!="object")return!1;try{e(h,null,g)}catch(o){if(o!==P)return!1}return!L(h)&&T(h)}:function(h){if(x(h))return!0;if(!h||typeof h!="function"&&typeof h!="object")return!1;if(f)return T(h);if(L(h))return!1;var o=v.call(h);return o!==t&&o!==r&&!/^\[object HTML/.test(o)?!1:T(h)}},65481:function(H,U,e){var g=Object.prototype.toString,P=Function.prototype.toString,a=/^\s*(?:function)?\*/,L=e(84543)(),T=Object.getPrototypeOf,v=function(){if(!L)return!1;try{return Function("return function*() {}")()}catch{}},d;H.exports=function(r){if(typeof r!="function")return!1;if(a.test(P.call(r)))return!0;if(!L){var u=g.call(r);return u==="[object GeneratorFunction]"}if(!T)return!1;if(typeof d>"u"){var n=v();d=n?T(n):!1}return T(r)===d}},62683:function(H){H.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},64274:function(H){H.exports=function(e){return e!==e}},15567:function(H,U,e){var g=e(68222),P=e(17045),a=e(64274),L=e(14922),T=e(22442),v=g(L(),Number);P(v,{getPolyfill:L,implementation:a,shim:T}),H.exports=v},14922:function(H,U,e){var g=e(64274);H.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:g}},22442:function(H,U,e){var g=e(17045),P=e(14922);H.exports=function(){var L=P();return g(Number,{isNaN:L},{isNaN:function(){return Number.isNaN!==L}}),L}},64941:function(H){H.exports=function(U){var e=typeof U;return U!==null&&(e==="object"||e==="function")}},10973:function(H){var U=Object.prototype.toString;H.exports=function(e){var g;return U.call(e)==="[object Object]"&&(g=Object.getPrototypeOf(e),g===null||g===Object.getPrototypeOf({}))}},18546:function(H){H.exports=function(U){for(var e=U.length,g,P=0;P<e;P++)if(g=U.charCodeAt(P),(g<9||g>13)&&g!==32&&g!==133&&g!==160&&g!==5760&&g!==6158&&(g<8192||g>8205)&&g!==8232&&g!==8233&&g!==8239&&g!==8287&&g!==8288&&g!==12288&&g!==65279)return!1;return!0}},89546:function(H){H.exports=function(e){return typeof e!="string"?!1:(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},9187:function(H,U,e){var g=e(31353),P=e(72077),a=e(6614),L=a("Object.prototype.toString"),T=e(84543)(),v=e(40383),d=typeof globalThis>"u"?e.g:globalThis,t=P(),r=a("Array.prototype.indexOf",!0)||function(x,c){for(var b=0;b<x.length;b+=1)if(x[b]===c)return b;return-1},u=a("String.prototype.slice"),n={},s=Object.getPrototypeOf;T&&v&&s&&g(t,function(l){var x=new d[l];if(Symbol.toStringTag in x){var c=s(x),b=v(c,Symbol.toStringTag);if(!b){var h=s(c);b=v(h,Symbol.toStringTag)}n[l]=b.get}});var f=function(x){var c=!1;return g(n,function(b,h){if(!c)try{c=b.call(x)===h}catch{}}),c};H.exports=function(x){if(!x||typeof x!="object")return!1;if(!T||!(Symbol.toStringTag in x)){var c=u(L(x),8,-1);return r(t,c)>-1}return v?f(x):!1}},44517:function(H){(function(U,e){H.exports=e()})(this,function(){var U,e,g;function P(a,L){if(!U)U=L;else if(!e)e=L;else{var T="var sharedChunk = {}; ("+U+")(sharedChunk); ("+e+")(sharedChunk);",v={};U(v),g=L(v),g.workerUrl=window.URL.createObjectURL(new Blob([T],{type:"text/javascript"}))}}return P(["exports"],function(a){function L(R,D){return D={exports:{}},R(D,D.exports),D.exports}var T="1.10.1",v=d;function d(R,D,V,te){this.cx=3*R,this.bx=3*(V-R)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*D,this.by=3*(te-D)-this.cy,this.ay=1-this.cy-this.by,this.p1x=R,this.p1y=te,this.p2x=V,this.p2y=te}d.prototype.sampleCurveX=function(R){return((this.ax*R+this.bx)*R+this.cx)*R},d.prototype.sampleCurveY=function(R){return((this.ay*R+this.by)*R+this.cy)*R},d.prototype.sampleCurveDerivativeX=function(R){return(3*this.ax*R+2*this.bx)*R+this.cx},d.prototype.solveCurveX=function(R,D){typeof D>"u"&&(D=1e-6);var V,te,he,be,Ee;for(he=R,Ee=0;Ee<8;Ee++){if(be=this.sampleCurveX(he)-R,Math.abs(be)<D)return he;var je=this.sampleCurveDerivativeX(he);if(Math.abs(je)<1e-6)break;he=he-be/je}if(V=0,te=1,he=R,he<V)return V;if(he>te)return te;for(;V<te;){if(be=this.sampleCurveX(he),Math.abs(be-R)<D)return he;R>be?V=he:te=he,he=(te-V)*.5+V}return he},d.prototype.solve=function(R,D){return this.sampleCurveY(this.solveCurveX(R,D))};var t=r;function r(R,D){this.x=R,this.y=D}r.prototype={clone:function(){return new r(this.x,this.y)},add:function(R){return this.clone()._add(R)},sub:function(R){return this.clone()._sub(R)},multByPoint:function(R){return this.clone()._multByPoint(R)},divByPoint:function(R){return this.clone()._divByPoint(R)},mult:function(R){return this.clone()._mult(R)},div:function(R){return this.clone()._div(R)},rotate:function(R){return this.clone()._rotate(R)},rotateAround:function(R,D){return this.clone()._rotateAround(R,D)},matMult:function(R){return this.clone()._matMult(R)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(R){return this.x===R.x&&this.y===R.y},dist:function(R){return Math.sqrt(this.distSqr(R))},distSqr:function(R){var D=R.x-this.x,V=R.y-this.y;return D*D+V*V},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(R){return Math.atan2(this.y-R.y,this.x-R.x)},angleWith:function(R){return this.angleWithSep(R.x,R.y)},angleWithSep:function(R,D){return Math.atan2(this.x*D-this.y*R,this.x*R+this.y*D)},_matMult:function(R){var D=R[0]*this.x+R[1]*this.y,V=R[2]*this.x+R[3]*this.y;return this.x=D,this.y=V,this},_add:function(R){return this.x+=R.x,this.y+=R.y,this},_sub:function(R){return this.x-=R.x,this.y-=R.y,this},_mult:function(R){return this.x*=R,this.y*=R,this},_div:function(R){return this.x/=R,this.y/=R,this},_multByPoint:function(R){return this.x*=R.x,this.y*=R.y,this},_divByPoint:function(R){return this.x/=R.x,this.y/=R.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var R=this.y;return this.y=this.x,this.x=-R,this},_rotate:function(R){var D=Math.cos(R),V=Math.sin(R),te=D*this.x-V*this.y,he=V*this.x+D*this.y;return this.x=te,this.y=he,this},_rotateAround:function(R,D){var V=Math.cos(R),te=Math.sin(R),he=D.x+V*(this.x-D.x)-te*(this.y-D.y),be=D.y+te*(this.x-D.x)+V*(this.y-D.y);return this.x=he,this.y=be,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(R){return R instanceof r?R:Array.isArray(R)?new r(R[0],R[1]):R};function u(R,D){if(Array.isArray(R)){if(!Array.isArray(D)||R.length!==D.length)return!1;for(var V=0;V<R.length;V++)if(!u(R[V],D[V]))return!1;return!0}if(typeof R=="object"&&R!==null&&D!==null){if(typeof D!="object")return!1;var te=Object.keys(R);if(te.length!==Object.keys(D).length)return!1;for(var he in R)if(!u(R[he],D[he]))return!1;return!0}return R===D}function n(R){if(R<=0)return 0;if(R>=1)return 1;var D=R*R,V=D*R;return 4*(R<.5?V:3*(R-D)+V-.75)}function s(R,D,V,te){var he=new v(R,D,V,te);return function(be){return he.solve(be)}}var f=s(.25,.1,.25,1);function l(R,D,V){return Math.min(V,Math.max(D,R))}function x(R,D,V){var te=V-D,he=((R-D)%te+te)%te+D;return he===D?V:he}function c(R,D,V){if(!R.length)return V(null,[]);var te=R.length,he=new Array(R.length),be=null;R.forEach(function(Ee,je){D(Ee,function(ft,Tt){ft&&(be=ft),he[je]=Tt,--te===0&&V(be,he)})})}function b(R){var D=[];for(var V in R)D.push(R[V]);return D}function h(R,D){var V=[];for(var te in R)te in D||V.push(te);return V}function o(R){for(var D=[],V=arguments.length-1;V-- >0;)D[V]=arguments[V+1];for(var te=0,he=D;te<he.length;te+=1){var be=he[te];for(var Ee in be)R[Ee]=be[Ee]}return R}function p(R,D){for(var V={},te=0;te<D.length;te++){var he=D[te];he in R&&(V[he]=R[he])}return V}var S=1;function A(){return S++}function E(){function R(D){return D?(D^Math.random()*16>>D/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,R)}return R()}function m(R){return R?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(R):!1}function M(R,D){R.forEach(function(V){D[V]&&(D[V]=D[V].bind(D))})}function w(R,D){return R.indexOf(D,R.length-D.length)!==-1}function i(R,D,V){var te={};for(var he in R)te[he]=D.call(V||this,R[he],he,R);return te}function C(R,D,V){var te={};for(var he in R)D.call(V||this,R[he],he,R)&&(te[he]=R[he]);return te}function y(R){return Array.isArray(R)?R.map(y):typeof R=="object"&&R?i(R,y):R}function _(R,D){for(var V=0;V<R.length;V++)if(D.indexOf(R[V])>=0)return!0;return!1}var I={};function N(R){I[R]||(typeof console<"u"&&console.warn(R),I[R]=!0)}function k(R,D,V){return(V.y-R.y)*(D.x-R.x)>(D.y-R.y)*(V.x-R.x)}function O(R){for(var D=0,V=0,te=R.length,he=te-1,be=void 0,Ee=void 0;V<te;he=V++)be=R[V],Ee=R[he],D+=(Ee.x-be.x)*(be.y+Ee.y);return D}function z(R){var D=R[0],V=R[1],te=R[2];return V+=90,V*=Math.PI/180,te*=Math.PI/180,{x:D*Math.cos(V)*Math.sin(te),y:D*Math.sin(V)*Math.sin(te),z:D*Math.cos(te)}}function F(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function B(R){var D=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,V={};if(R.replace(D,function(he,be,Ee,je){var ft=Ee||je;return V[be]=ft?ft.toLowerCase():!0,""}),V["max-age"]){var te=parseInt(V["max-age"],10);isNaN(te)?delete V["max-age"]:V["max-age"]=te}return V}var G=null;function Q(R){if(G==null){var D=R.navigator?R.navigator.userAgent:null;G=!!R.safari||!!(D&&(/\b(iPad|iPhone|iPod)\b/.test(D)||D.match("Safari")&&!D.match("Chrome")))}return G}function ee(R){try{var D=self[R];return D.setItem("_mapbox_test_",1),D.removeItem("_mapbox_test_"),!0}catch{return!1}}function ae(R){return self.btoa(encodeURIComponent(R).replace(/%([0-9A-F]{2})/g,function(D,V){return String.fromCharCode(+("0x"+V))}))}function fe(R){return decodeURIComponent(self.atob(R).split("").map(function(D){return"%"+("00"+D.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var K=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),W=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,Z=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,X,$,ie={now:K,frame:function(D){var V=W(D);return{cancel:function(){return Z(V)}}},getImageData:function(D,V){V===void 0&&(V=0);var te=self.document.createElement("canvas"),he=te.getContext("2d");if(!he)throw new Error("failed to create canvas 2d context");return te.width=D.width,te.height=D.height,he.drawImage(D,0,0,D.width,D.height),he.getImageData(-V,-V,D.width+2*V,D.height+2*V)},resolveURL:function(D){return X||(X=self.document.createElement("a")),X.href=D,X.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return self.matchMedia?($==null&&($=self.matchMedia("(prefers-reduced-motion: reduce)")),$.matches):!1}},J={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},j={supported:!1,testSupport:we},se,ne=!1,ue,ge=!1;self.document&&(ue=self.document.createElement("img"),ue.onload=function(){se&&xe(se),se=null,ge=!0},ue.onerror=function(){ne=!0,se=null},ue.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function we(R){ne||!ue||(ge?xe(R):se=R)}function xe(R){var D=R.createTexture();R.bindTexture(R.TEXTURE_2D,D);try{if(R.texImage2D(R.TEXTURE_2D,0,R.RGBA,R.RGBA,R.UNSIGNED_BYTE,ue),R.isContextLost())return;j.supported=!0}catch{}R.deleteTexture(D),ne=!0}var Fe="01";function ze(){for(var R="1",D="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",V="",te=0;te<10;te++)V+=D[Math.floor(Math.random()*62)];var he=12*60*60*1e3,be=[R,Fe,V].join(""),Ee=Date.now()+he;return{token:be,tokenExpiresAt:Ee}}var Te=function(D,V){this._transformRequestFn=D,this._customAccessToken=V,this._createSkuToken()};Te.prototype._createSkuToken=function(){var D=ze();this._skuToken=D.token,this._skuTokenExpiresAt=D.tokenExpiresAt},Te.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Te.prototype.transformRequest=function(D,V){return this._transformRequestFn?this._transformRequestFn(D,V)||{url:D}:{url:D}},Te.prototype.normalizeStyleURL=function(D,V){if(!ye(D))return D;var te=rt(D);return te.path="/styles/v1"+te.path,this._makeAPIURL(te,this._customAccessToken||V)},Te.prototype.normalizeGlyphsURL=function(D,V){if(!ye(D))return D;var te=rt(D);return te.path="/fonts/v1"+te.path,this._makeAPIURL(te,this._customAccessToken||V)},Te.prototype.normalizeSourceURL=function(D,V){if(!ye(D))return D;var te=rt(D);return te.path="/v4/"+te.authority+".json",te.params.push("secure"),this._makeAPIURL(te,this._customAccessToken||V)},Te.prototype.normalizeSpriteURL=function(D,V,te,he){var be=rt(D);return ye(D)?(be.path="/styles/v1"+be.path+"/sprite"+V+te,this._makeAPIURL(be,this._customAccessToken||he)):(be.path+=""+V+te,Qe(be))},Te.prototype.normalizeTileURL=function(D,V){if(this._isSkuTokenExpired()&&this._createSkuToken(),D&&!ye(D))return D;var te=rt(D),he=/(\.(png|jpg)\d*)(?=$)/,be=/^.+\/v4\//,Ee=ie.devicePixelRatio>=2||V===512?"@2x":"",je=j.supported?".webp":"$1";te.path=te.path.replace(he,""+Ee+je),te.path=te.path.replace(be,"/"),te.path="/v4"+te.path;var ft=this._customAccessToken||Re(te.params)||J.ACCESS_TOKEN;return J.REQUIRE_ACCESS_TOKEN&&ft&&this._skuToken&&te.params.push("sku="+this._skuToken),this._makeAPIURL(te,ft)},Te.prototype.canonicalizeTileURL=function(D,V){var te="/v4/",he=/\.[\w]+$/,be=rt(D);if(!be.path.match(/(^\/v4\/)/)||!be.path.match(he))return D;var Ee="mapbox://tiles/";Ee+=be.path.replace(te,"");var je=be.params;return V&&(je=je.filter(function(ft){return!ft.match(/^access_token=/)})),je.length&&(Ee+="?"+je.join("&")),Ee},Te.prototype.canonicalizeTileset=function(D,V){for(var te=V?ye(V):!1,he=[],be=0,Ee=D.tiles||[];be<Ee.length;be+=1){var je=Ee[be];Ne(je)?he.push(this.canonicalizeTileURL(je,te)):he.push(je)}return he},Te.prototype._makeAPIURL=function(D,V){var te="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",he=rt(J.API_URL);if(D.protocol=he.protocol,D.authority=he.authority,he.path!=="/"&&(D.path=""+he.path+D.path),!J.REQUIRE_ACCESS_TOKEN)return Qe(D);if(V=V||J.ACCESS_TOKEN,!V)throw new Error("An API access token is required to use Mapbox GL. "+te);if(V[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+te);return D.params=D.params.filter(function(be){return be.indexOf("access_token")===-1}),D.params.push("access_token="+V),Qe(D)};function ye(R){return R.indexOf("mapbox:")===0}var Ae=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Ne(R){return Ae.test(R)}function Ue(R){return R.indexOf("sku=")>0&&Ne(R)}function Re(R){for(var D=0,V=R;D<V.length;D+=1){var te=V[D],he=te.match(/^access_token=(.*)$/);if(he)return he[1]}return null}var Ve=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function rt(R){var D=R.match(Ve);if(!D)throw new Error("Unable to parse URL object");return{protocol:D[1],authority:D[2],path:D[3]||"/",params:D[4]?D[4].split("&"):[]}}function Qe(R){var D=R.params.length?"?"+R.params.join("&"):"";return R.protocol+"://"+R.authority+R.path+D}var Je="mapbox.eventData";function qe(R){if(!R)return null;var D=R.split(".");if(!D||D.length!==3)return null;try{var V=JSON.parse(fe(D[1]));return V}catch{return null}}var dt=function(D){this.type=D,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};dt.prototype.getStorageKey=function(D){var V=qe(J.ACCESS_TOKEN),te="";return V&&V.u?te=ae(V.u):te=J.ACCESS_TOKEN||"",D?Je+"."+D+":"+te:Je+":"+te},dt.prototype.fetchEventData=function(){var D=ee("localStorage"),V=this.getStorageKey(),te=this.getStorageKey("uuid");if(D)try{var he=self.localStorage.getItem(V);he&&(this.eventData=JSON.parse(he));var be=self.localStorage.getItem(te);be&&(this.anonId=be)}catch{N("Unable to read from LocalStorage")}},dt.prototype.saveEventData=function(){var D=ee("localStorage"),V=this.getStorageKey(),te=this.getStorageKey("uuid");if(D)try{self.localStorage.setItem(te,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(V,JSON.stringify(this.eventData))}catch{N("Unable to write to LocalStorage")}},dt.prototype.processRequests=function(D){},dt.prototype.postEvent=function(D,V,te,he){var be=this;if(J.EVENTS_URL){var Ee=rt(J.EVENTS_URL);Ee.params.push("access_token="+(he||J.ACCESS_TOKEN||""));var je={event:this.type,created:new Date(D).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:T,skuId:Fe,userId:this.anonId},ft=V?o(je,V):je,Tt={url:Qe(Ee),headers:{"Content-Type":"text/plain"},body:JSON.stringify([ft])};this.pendingRequest=Pt(Tt,function(Lt){be.pendingRequest=null,te(Lt),be.saveEventData(),be.processRequests(he)})}},dt.prototype.queueRequest=function(D,V){this.queue.push(D),this.processRequests(V)};var pt=function(R){function D(){R.call(this,"map.load"),this.success={},this.skuToken=""}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.postMapLoadEvent=function(te,he,be,Ee){this.skuToken=be,(J.EVENTS_URL&&Ee||J.ACCESS_TOKEN&&Array.isArray(te)&&te.some(function(je){return ye(je)||Ne(je)}))&&this.queueRequest({id:he,timestamp:Date.now()},Ee)},D.prototype.processRequests=function(te){var he=this;if(!(this.pendingRequest||this.queue.length===0)){var be=this.queue.shift(),Ee=be.id,je=be.timestamp;Ee&&this.success[Ee]||(this.anonId||this.fetchEventData(),m(this.anonId)||(this.anonId=E()),this.postEvent(je,{skuToken:this.skuToken},function(ft){ft||Ee&&(he.success[Ee]=!0)},te))}},D}(dt),mt=function(R){function D(V){R.call(this,"appUserTurnstile"),this._customAccessToken=V}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.postTurnstileEvent=function(te,he){J.EVENTS_URL&&J.ACCESS_TOKEN&&Array.isArray(te)&&te.some(function(be){return ye(be)||Ne(be)})&&this.queueRequest(Date.now(),he)},D.prototype.processRequests=function(te){var he=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var be=qe(J.ACCESS_TOKEN),Ee=be?be.u:J.ACCESS_TOKEN,je=Ee!==this.eventData.tokenU;m(this.anonId)||(this.anonId=E(),je=!0);var ft=this.queue.shift();if(this.eventData.lastSuccess){var Tt=new Date(this.eventData.lastSuccess),Lt=new Date(ft),Xt=(ft-this.eventData.lastSuccess)/(24*60*60*1e3);je=je||Xt>=1||Xt<-1||Tt.getDate()!==Lt.getDate()}else je=!0;if(!je)return this.processRequests();this.postEvent(ft,{"enabled.telemetry":!1},function(cr){cr||(he.eventData.lastSuccess=ft,he.eventData.tokenU=Ee)},te)}},D}(dt),Ct=new mt,Rt=Ct.postTurnstileEvent.bind(Ct),Zt=new pt,Xe=Zt.postMapLoadEvent.bind(Zt),Le="mapbox-tiles",Pe=500,ke=50,Ce=1e3*60*7,me;function oe(){self.caches&&!me&&(me=self.caches.open(Le))}var pe;function Me(R,D){if(pe===void 0)try{new Response(new ReadableStream),pe=!0}catch{pe=!1}pe?D(R.body):R.blob().then(D)}function _e(R,D,V){if(oe(),!!me){var te={status:D.status,statusText:D.statusText,headers:new self.Headers};D.headers.forEach(function(Ee,je){return te.headers.set(je,Ee)});var he=B(D.headers.get("Cache-Control")||"");if(!he["no-store"]){he["max-age"]&&te.headers.set("Expires",new Date(V+he["max-age"]*1e3).toUTCString());var be=new Date(te.headers.get("Expires")).getTime()-V;be<Ce||Me(D,function(Ee){var je=new self.Response(Ee,te);oe(),me&&me.then(function(ft){return ft.put(tt(R.url),je)}).catch(function(ft){return N(ft.message)})})}}}function tt(R){var D=R.indexOf("?");return D<0?R:R.slice(0,D)}function at(R,D){if(oe(),!me)return D(null);var V=tt(R.url);me.then(function(te){te.match(V).then(function(he){var be=At(he);te.delete(V),be&&te.put(V,he.clone()),D(null,he,be)}).catch(D)}).catch(D)}function At(R){if(!R)return!1;var D=new Date(R.headers.get("Expires")||0),V=B(R.headers.get("Cache-Control")||"");return D>Date.now()&&!V["no-cache"]}var Ft=1/0;function Gt(R){Ft++,Ft>ke&&(R.getActor().send("enforceCacheSizeLimit",Pe),Ft=0)}function Yt(R){oe(),me&&me.then(function(D){D.keys().then(function(V){for(var te=0;te<V.length-R;te++)D.delete(V[te])})})}function Dt(R){var D=self.caches.delete(Le);R&&D.catch(R).then(function(){return R()})}function $t(R,D){Pe=R,ke=D}var lr;function Hr(){return lr==null&&(lr=self.OffscreenCanvas&&new self.OffscreenCanvas(1,1).getContext("2d")&&typeof self.createImageBitmap=="function"),lr}var xt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(xt);var Qt=function(R){function D(V,te,he){te===401&&Ne(he)&&(V+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),R.call(this,V),this.status=te,this.url=he,this.name=this.constructor.name,this.message=V}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},D}(Error),jt=F()?function(){return self.worker&&self.worker.referrer}:function(){return(self.location.protocol==="blob:"?self.parent:self).location.href},Sr=function(R){return/^file:/.test(R)||/^file:/.test(jt())&&!/^\w+:/.test(R)};function gr(R,D){var V=new self.AbortController,te=new self.Request(R.url,{method:R.method||"GET",body:R.body,credentials:R.credentials,headers:R.headers,referrer:jt(),signal:V.signal}),he=!1,be=!1,Ee=Ue(te.url);R.type==="json"&&te.headers.set("Accept","application/json");var je=function(Tt,Lt,Xt){if(!be){if(Tt&&Tt.message!=="SecurityError"&&N(Tt),Lt&&Xt)return ft(Lt);var cr=Date.now();self.fetch(te).then(function(nr){if(nr.ok){var Tr=Ee?nr.clone():null;return ft(nr,Tr,cr)}else return D(new Qt(nr.statusText,nr.status,R.url))}).catch(function(nr){nr.code!==20&&D(new Error(nr.message))})}},ft=function(Tt,Lt,Xt){(R.type==="arrayBuffer"?Tt.arrayBuffer():R.type==="json"?Tt.json():Tt.text()).then(function(cr){be||(Lt&&Xt&&_e(te,Lt,Xt),he=!0,D(null,cr,Tt.headers.get("Cache-Control"),Tt.headers.get("Expires")))}).catch(function(cr){be||D(new Error(cr.message))})};return Ee?at(te,je):je(null,null),{cancel:function(){be=!0,he||V.abort()}}}function ut(R,D){var V=new self.XMLHttpRequest;V.open(R.method||"GET",R.url,!0),R.type==="arrayBuffer"&&(V.responseType="arraybuffer");for(var te in R.headers)V.setRequestHeader(te,R.headers[te]);return R.type==="json"&&(V.responseType="text",V.setRequestHeader("Accept","application/json")),V.withCredentials=R.credentials==="include",V.onerror=function(){D(new Error(V.statusText))},V.onload=function(){if((V.status>=200&&V.status<300||V.status===0)&&V.response!==null){var he=V.response;if(R.type==="json")try{he=JSON.parse(V.response)}catch(be){return D(be)}D(null,he,V.getResponseHeader("Cache-Control"),V.getResponseHeader("Expires"))}else D(new Qt(V.statusText,V.status,R.url))},V.send(R.body),{cancel:function(){return V.abort()}}}var st=function(R,D){if(!Sr(R.url)){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return gr(R,D);if(F()&&self.worker&&self.worker.actor){var V=!0;return self.worker.actor.send("getResource",R,D,void 0,V)}}return ut(R,D)},bt=function(R,D){return st(o(R,{type:"json"}),D)},St=function(R,D){return st(o(R,{type:"arrayBuffer"}),D)},Pt=function(R,D){return st(o(R,{method:"POST"}),D)};function Et(R){var D=self.document.createElement("a");return D.href=R,D.protocol===self.document.location.protocol&&D.host===self.document.location.host}var Bt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Wt(R,D,V,te){var he=new self.Image,be=self.URL;he.onload=function(){D(null,he),be.revokeObjectURL(he.src)},he.onerror=function(){return D(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Ee=new self.Blob([new Uint8Array(R)],{type:"image/png"});he.cacheControl=V,he.expires=te,he.src=R.byteLength?be.createObjectURL(Ee):Bt}function tr(R,D){var V=new self.Blob([new Uint8Array(R)],{type:"image/png"});self.createImageBitmap(V).then(function(te){D(null,te)}).catch(function(te){D(new Error("Could not load image because of "+te.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var er,ur,kr=function(){er=[],ur=0};kr();var We=function(R,D){if(j.supported&&(R.headers||(R.headers={}),R.headers.accept="image/webp,*/*"),ur>=J.MAX_PARALLEL_IMAGE_REQUESTS){var V={requestParameters:R,callback:D,cancelled:!1,cancel:function(){this.cancelled=!0}};return er.push(V),V}ur++;var te=!1,he=function(){if(!te)for(te=!0,ur--;er.length&&ur<J.MAX_PARALLEL_IMAGE_REQUESTS;){var Ee=er.shift(),je=Ee.requestParameters,ft=Ee.callback,Tt=Ee.cancelled;Tt||(Ee.cancel=We(je,ft).cancel)}},be=St(R,function(Ee,je,ft,Tt){he(),Ee?D(Ee):je&&(Hr()?tr(je,D):Wt(je,D,ft,Tt))});return{cancel:function(){be.cancel(),he()}}},Ge=function(R,D){var V=self.document.createElement("video");V.muted=!0,V.onloadstart=function(){D(null,V)};for(var te=0;te<R.length;te++){var he=self.document.createElement("source");Et(R[te])||(V.crossOrigin="Anonymous"),he.src=R[te],V.appendChild(he)}return{cancel:function(){}}};function _t(R,D,V){var te=V[R]&&V[R].indexOf(D)!==-1;te||(V[R]=V[R]||[],V[R].push(D))}function Ot(R,D,V){if(V&&V[R]){var te=V[R].indexOf(D);te!==-1&&V[R].splice(te,1)}}var Kt=function(D,V){V===void 0&&(V={}),o(this,V),this.type=D},or=function(R){function D(V,te){te===void 0&&(te={}),R.call(this,"error",o({error:V},te))}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Kt),hr=function(){};hr.prototype.on=function(D,V){return this._listeners=this._listeners||{},_t(D,V,this._listeners),this},hr.prototype.off=function(D,V){return Ot(D,V,this._listeners),Ot(D,V,this._oneTimeListeners),this},hr.prototype.once=function(D,V){return this._oneTimeListeners=this._oneTimeListeners||{},_t(D,V,this._oneTimeListeners),this},hr.prototype.fire=function(D,V){typeof D=="string"&&(D=new Kt(D,V||{}));var te=D.type;if(this.listens(te)){D.target=this;for(var he=this._listeners&&this._listeners[te]?this._listeners[te].slice():[],be=0,Ee=he;be<Ee.length;be+=1){var je=Ee[be];je.call(this,D)}for(var ft=this._oneTimeListeners&&this._oneTimeListeners[te]?this._oneTimeListeners[te].slice():[],Tt=0,Lt=ft;Tt<Lt.length;Tt+=1){var Xt=Lt[Tt];Ot(te,Xt,this._oneTimeListeners),Xt.call(this,D)}var cr=this._eventedParent;cr&&(o(D,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),cr.fire(D))}else D instanceof or&&console.error(D.error);return this},hr.prototype.listens=function(D){return this._listeners&&this._listeners[D]&&this._listeners[D].length>0||this._oneTimeListeners&&this._oneTimeListeners[D]&&this._oneTimeListeners[D].length>0||this._eventedParent&&this._eventedParent.listens(D)},hr.prototype.setEventedParent=function(D,V){return this._eventedParent=D,this._eventedParentData=V,this};var ir=8,Nt={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},vr={"*":{type:"source"}},mr=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],xr={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},"*":{type:"*"}},yr={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},Kr={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},Nr={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},Ur={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Tn={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},rn={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},Gn=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],Hn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Ar={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Cr={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Yr={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Zr={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},un={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},mn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},pn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Rn={type:"array",value:"*"},Un={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},oa={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},ua={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},xa={type:"array",value:"*",minimum:1},va={type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},ca={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},Pr=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],dn={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},cn={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},An={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},Qn={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},zn={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},Bn={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},qn={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},ya={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Na={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},ii={"*":{type:"string"}},Jt={$version:ir,$root:Nt,sources:vr,source:mr,source_vector:xr,source_raster:yr,source_raster_dem:Kr,source_geojson:Nr,source_video:Ur,source_image:Tn,layer:rn,layout:Gn,layout_background:Hn,layout_fill:Ar,layout_circle:Cr,layout_heatmap:Yr,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:Zr,layout_symbol:un,layout_raster:mn,layout_hillshade:pn,filter:Rn,filter_operator:Un,geometry_type:oa,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:ua,expression:xa,expression_name:va,light:ca,paint:Pr,paint_fill:dn,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:cn,paint_circle:An,paint_heatmap:Qn,paint_symbol:zn,paint_raster:Bn,paint_hillshade:qn,paint_background:ya,transition:Na,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:ii},Mr=function(D,V,te,he){this.message=(D?D+": ":"")+te,he&&(this.identifier=he),V!=null&&V.__line__&&(this.line=V.__line__)};function hn(R){var D=R.key,V=R.value;return V?[new Mr(D,V,"constants have been deprecated as of v8")]:[]}function xn(R){for(var D=[],V=arguments.length-1;V-- >0;)D[V]=arguments[V+1];for(var te=0,he=D;te<he.length;te+=1){var be=he[te];for(var Ee in be)R[Ee]=be[Ee]}return R}function bn(R){return R instanceof Number||R instanceof String||R instanceof Boolean?R.valueOf():R}function Nn(R){if(Array.isArray(R))return R.map(Nn);if(R instanceof Object&&!(R instanceof Number||R instanceof String||R instanceof Boolean)){var D={};for(var V in R)D[V]=Nn(R[V]);return D}return bn(R)}var Pn=function(R){function D(V,te){R.call(this,te),this.message=te,this.key=V}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Error),yn=function(D,V){V===void 0&&(V=[]),this.parent=D,this.bindings={};for(var te=0,he=V;te<he.length;te+=1){var be=he[te],Ee=be[0],je=be[1];this.bindings[Ee]=je}};yn.prototype.concat=function(D){return new yn(this,D)},yn.prototype.get=function(D){if(this.bindings[D])return this.bindings[D];if(this.parent)return this.parent.get(D);throw new Error(D+" not found in scope.")},yn.prototype.has=function(D){return this.bindings[D]?!0:this.parent?this.parent.has(D):!1};var zr={kind:"null"},_r={kind:"number"},Gr={kind:"string"},wn={kind:"boolean"},Yn={kind:"color"},ta={kind:"object"},Mn={kind:"value"},jn={kind:"error"},fa={kind:"collator"},Ta={kind:"formatted"},ba={kind:"resolvedImage"};function ma(R,D){return{kind:"array",itemType:R,N:D}}function Pa(R){if(R.kind==="array"){var D=Pa(R.itemType);return typeof R.N=="number"?"array<"+D+", "+R.N+">":R.itemType.kind==="value"?"array":"array<"+D+">"}else return R.kind}var $i=[zr,_r,Gr,wn,Yn,Ta,ta,ma(Mn),ba];function ho(R,D){if(D.kind==="error")return null;if(R.kind==="array"){if(D.kind==="array"&&(D.N===0&&D.itemType.kind==="value"||!ho(R.itemType,D.itemType))&&(typeof R.N!="number"||R.N===D.N))return null}else{if(R.kind===D.kind)return null;if(R.kind==="value")for(var V=0,te=$i;V<te.length;V+=1){var he=te[V];if(!ho(he,D))return null}}return"Expected "+Pa(R)+" but found "+Pa(D)+" instead."}function mo(R,D){return D.some(function(V){return V.kind===R.kind})}function xo(R,D){return D.some(function(V){return V==="null"?R===null:V==="array"?Array.isArray(R):V==="object"?R&&!Array.isArray(R)&&typeof R=="object":V===typeof R})}var bo=L(function(R,D){var V={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function te(Tt){return Tt=Math.round(Tt),Tt<0?0:Tt>255?255:Tt}function he(Tt){return Tt<0?0:Tt>1?1:Tt}function be(Tt){return Tt[Tt.length-1]==="%"?te(parseFloat(Tt)/100*255):te(parseInt(Tt))}function Ee(Tt){return Tt[Tt.length-1]==="%"?he(parseFloat(Tt)/100):he(parseFloat(Tt))}function je(Tt,Lt,Xt){return Xt<0?Xt+=1:Xt>1&&(Xt-=1),Xt*6<1?Tt+(Lt-Tt)*Xt*6:Xt*2<1?Lt:Xt*3<2?Tt+(Lt-Tt)*(2/3-Xt)*6:Tt}function ft(Tt){var Lt=Tt.replace(/ /g,"").toLowerCase();if(Lt in V)return V[Lt].slice();if(Lt[0]==="#"){if(Lt.length===4){var Xt=parseInt(Lt.substr(1),16);return Xt>=0&&Xt<=4095?[(Xt&3840)>>4|(Xt&3840)>>8,Xt&240|(Xt&240)>>4,Xt&15|(Xt&15)<<4,1]:null}else if(Lt.length===7){var Xt=parseInt(Lt.substr(1),16);return Xt>=0&&Xt<=16777215?[(Xt&16711680)>>16,(Xt&65280)>>8,Xt&255,1]:null}return null}var cr=Lt.indexOf("("),nr=Lt.indexOf(")");if(cr!==-1&&nr+1===Lt.length){var Tr=Lt.substr(0,cr),jr=Lt.substr(cr+1,nr-(cr+1)).split(","),vn=1;switch(Tr){case"rgba":if(jr.length!==4)return null;vn=Ee(jr.pop());case"rgb":return jr.length!==3?null:[be(jr[0]),be(jr[1]),be(jr[2]),vn];case"hsla":if(jr.length!==4)return null;vn=Ee(jr.pop());case"hsl":if(jr.length!==3)return null;var ln=(parseFloat(jr[0])%360+360)%360/360,Fn=Ee(jr[1]),En=Ee(jr[2]),_n=En<=.5?En*(Fn+1):En+Fn-En*Fn,Wn=En*2-_n;return[te(je(Wn,_n,ln+1/3)*255),te(je(Wn,_n,ln)*255),te(je(Wn,_n,ln-1/3)*255),vn];default:return null}}return null}try{D.parseCSSColor=ft}catch{}}),zu=bo.parseCSSColor,di=function(D,V,te,he){he===void 0&&(he=1),this.r=D,this.g=V,this.b=te,this.a=he};di.parse=function(D){if(D){if(D instanceof di)return D;if(typeof D=="string"){var V=zu(D);if(V)return new di(V[0]/255*V[3],V[1]/255*V[3],V[2]/255*V[3],V[3])}}},di.prototype.toString=function(){var D=this.toArray(),V=D[0],te=D[1],he=D[2],be=D[3];return"rgba("+Math.round(V)+","+Math.round(te)+","+Math.round(he)+","+be+")"},di.prototype.toArray=function(){var D=this,V=D.r,te=D.g,he=D.b,be=D.a;return be===0?[0,0,0,0]:[V*255/be,te*255/be,he*255/be,be]},di.black=new di(0,0,0,1),di.white=new di(1,1,1,1),di.transparent=new di(0,0,0,0),di.red=new di(1,0,0,1);var _l=function(D,V,te){D?this.sensitivity=V?"variant":"case":this.sensitivity=V?"accent":"base",this.locale=te,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};_l.prototype.compare=function(D,V){return this.collator.compare(D,V)},_l.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var ml=function(D,V,te,he,be){this.text=D,this.image=V,this.scale=te,this.fontStack=he,this.textColor=be},qi=function(D){this.sections=D};qi.fromString=function(D){return new qi([new ml(D,null,null,null,null)])},qi.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(D){return D.text.length!==0||D.image&&D.image.name.length!==0})},qi.factory=function(D){return D instanceof qi?D:qi.fromString(D)},qi.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(D){return D.text}).join("")},qi.prototype.serialize=function(){for(var D=["format"],V=0,te=this.sections;V<te.length;V+=1){var he=te[V];if(he.image){D.push(["image",he.image.name]);continue}D.push(he.text);var be={};he.fontStack&&(be["text-font"]=["literal",he.fontStack.split(",")]),he.scale&&(be["font-scale"]=he.scale),he.textColor&&(be["text-color"]=["rgba"].concat(he.textColor.toArray())),D.push(be)}return D};var wo=function(D){this.name=D.name,this.available=D.available};wo.prototype.toString=function(){return this.name},wo.fromString=function(D){return D?new wo({name:D,available:!1}):null},wo.prototype.serialize=function(){return["image",this.name]};function Fl(R,D,V,te){if(!(typeof R=="number"&&R>=0&&R<=255&&typeof D=="number"&&D>=0&&D<=255&&typeof V=="number"&&V>=0&&V<=255)){var he=typeof te=="number"?[R,D,V,te]:[R,D,V];return"Invalid rgba value ["+he.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof te>"u"||typeof te=="number"&&te>=0&&te<=1?null:"Invalid rgba value ["+[R,D,V,te].join(", ")+"]: 'a' must be between 0 and 1."}function qs(R){if(R===null)return!0;if(typeof R=="string")return!0;if(typeof R=="boolean")return!0;if(typeof R=="number")return!0;if(R instanceof di)return!0;if(R instanceof _l)return!0;if(R instanceof qi)return!0;if(R instanceof wo)return!0;if(Array.isArray(R)){for(var D=0,V=R;D<V.length;D+=1){var te=V[D];if(!qs(te))return!1}return!0}else if(typeof R=="object"){for(var he in R)if(!qs(R[he]))return!1;return!0}else return!1}function zi(R){if(R===null)return zr;if(typeof R=="string")return Gr;if(typeof R=="boolean")return wn;if(typeof R=="number")return _r;if(R instanceof di)return Yn;if(R instanceof _l)return fa;if(R instanceof qi)return Ta;if(R instanceof wo)return ba;if(Array.isArray(R)){for(var D=R.length,V,te=0,he=R;te<he.length;te+=1){var be=he[te],Ee=zi(be);if(!V)V=Ee;else{if(V===Ee)continue;V=Mn;break}}return ma(V||Mn,D)}else return ta}function zl(R){var D=typeof R;return R===null?"":D==="string"||D==="number"||D==="boolean"?String(R):R instanceof di||R instanceof qi||R instanceof wo?R.toString():JSON.stringify(R)}var Io=function(D,V){this.type=D,this.value=V};Io.parse=function(D,V){if(D.length!==2)return V.error("'literal' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(!qs(D[1]))return V.error("invalid value");var te=D[1],he=zi(te),be=V.expectedType;return he.kind==="array"&&he.N===0&&be&&be.kind==="array"&&(typeof be.N!="number"||be.N===0)&&(he=be),new Io(he,te)},Io.prototype.evaluate=function(){return this.value},Io.prototype.eachChild=function(){},Io.prototype.outputDefined=function(){return!0},Io.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof di?["rgba"].concat(this.value.toArray()):this.value instanceof qi?this.value.serialize():this.value};var Ji=function(D){this.name="ExpressionEvaluationError",this.message=D};Ji.prototype.toJSON=function(){return this.message};var ko={string:Gr,number:_r,boolean:wn,object:ta},vo=function(D,V){this.type=D,this.args=V};vo.parse=function(D,V){if(D.length<2)return V.error("Expected at least one argument.");var te=1,he,be=D[0];if(be==="array"){var Ee;if(D.length>2){var je=D[1];if(typeof je!="string"||!(je in ko)||je==="object")return V.error('The item type argument of "array" must be one of string, number, boolean',1);Ee=ko[je],te++}else Ee=Mn;var ft;if(D.length>3){if(D[2]!==null&&(typeof D[2]!="number"||D[2]<0||D[2]!==Math.floor(D[2])))return V.error('The length argument to "array" must be a positive integer literal',2);ft=D[2],te++}he=ma(Ee,ft)}else he=ko[be];for(var Tt=[];te<D.length;te++){var Lt=V.parse(D[te],te,Mn);if(!Lt)return null;Tt.push(Lt)}return new vo(he,Tt)},vo.prototype.evaluate=function(D){for(var V=0;V<this.args.length;V++){var te=this.args[V].evaluate(D),he=ho(this.type,zi(te));if(he){if(V===this.args.length-1)throw new Ji("Expected value to be of type "+Pa(this.type)+", but found "+Pa(zi(te))+" instead.")}else return te}return null},vo.prototype.eachChild=function(D){this.args.forEach(D)},vo.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},vo.prototype.serialize=function(){var D=this.type,V=[D.kind];if(D.kind==="array"){var te=D.itemType;if(te.kind==="string"||te.kind==="number"||te.kind==="boolean"){V.push(te.kind);var he=D.N;(typeof he=="number"||this.args.length>1)&&V.push(he)}}return V.concat(this.args.map(function(be){return be.serialize()}))};var po=function(D){this.type=Ta,this.sections=D};po.parse=function(D,V){if(D.length<2)return V.error("Expected at least one argument.");var te=D[1];if(!Array.isArray(te)&&typeof te=="object")return V.error("First argument must be an image or text section.");for(var he=[],be=!1,Ee=1;Ee<=D.length-1;++Ee){var je=D[Ee];if(be&&typeof je=="object"&&!Array.isArray(je)){be=!1;var ft=null;if(je["font-scale"]&&(ft=V.parse(je["font-scale"],1,_r),!ft))return null;var Tt=null;if(je["text-font"]&&(Tt=V.parse(je["text-font"],1,ma(Gr)),!Tt))return null;var Lt=null;if(je["text-color"]&&(Lt=V.parse(je["text-color"],1,Yn),!Lt))return null;var Xt=he[he.length-1];Xt.scale=ft,Xt.font=Tt,Xt.textColor=Lt}else{var cr=V.parse(D[Ee],1,Mn);if(!cr)return null;var nr=cr.type.kind;if(nr!=="string"&&nr!=="value"&&nr!=="null"&&nr!=="resolvedImage")return V.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");be=!0,he.push({content:cr,scale:null,font:null,textColor:null})}}return new po(he)},po.prototype.evaluate=function(D){var V=function(te){var he=te.content.evaluate(D);return zi(he)===ba?new ml("",he,null,null,null):new ml(zl(he),null,te.scale?te.scale.evaluate(D):null,te.font?te.font.evaluate(D).join(","):null,te.textColor?te.textColor.evaluate(D):null)};return new qi(this.sections.map(V))},po.prototype.eachChild=function(D){for(var V=0,te=this.sections;V<te.length;V+=1){var he=te[V];D(he.content),he.scale&&D(he.scale),he.font&&D(he.font),he.textColor&&D(he.textColor)}},po.prototype.outputDefined=function(){return!1},po.prototype.serialize=function(){for(var D=["format"],V=0,te=this.sections;V<te.length;V+=1){var he=te[V];D.push(he.content.serialize());var be={};he.scale&&(be["font-scale"]=he.scale.serialize()),he.font&&(be["text-font"]=he.font.serialize()),he.textColor&&(be["text-color"]=he.textColor.serialize()),D.push(be)}return D};var as=function(D){this.type=ba,this.input=D};as.parse=function(D,V){if(D.length!==2)return V.error("Expected two arguments.");var te=V.parse(D[1],1,Gr);return te?new as(te):V.error("No image name provided.")},as.prototype.evaluate=function(D){var V=this.input.evaluate(D),te=wo.fromString(V);return te&&D.availableImages&&(te.available=D.availableImages.indexOf(V)>-1),te},as.prototype.eachChild=function(D){D(this.input)},as.prototype.outputDefined=function(){return!1},as.prototype.serialize=function(){return["image",this.input.serialize()]};var ys={"to-boolean":wn,"to-color":Yn,"to-number":_r,"to-string":Gr},ao=function(D,V){this.type=D,this.args=V};ao.parse=function(D,V){if(D.length<2)return V.error("Expected at least one argument.");var te=D[0];if((te==="to-boolean"||te==="to-string")&&D.length!==2)return V.error("Expected one argument.");for(var he=ys[te],be=[],Ee=1;Ee<D.length;Ee++){var je=V.parse(D[Ee],Ee,Mn);if(!je)return null;be.push(je)}return new ao(he,be)},ao.prototype.evaluate=function(D){if(this.type.kind==="boolean")return!!this.args[0].evaluate(D);if(this.type.kind==="color"){for(var V,te,he=0,be=this.args;he<be.length;he+=1){var Ee=be[he];if(V=Ee.evaluate(D),te=null,V instanceof di)return V;if(typeof V=="string"){var je=D.parseColor(V);if(je)return je}else if(Array.isArray(V)&&(V.length<3||V.length>4?te="Invalid rbga value "+JSON.stringify(V)+": expected an array containing either three or four numeric values.":te=Fl(V[0],V[1],V[2],V[3]),!te))return new di(V[0]/255,V[1]/255,V[2]/255,V[3])}throw new Ji(te||"Could not parse color from value '"+(typeof V=="string"?V:String(JSON.stringify(V)))+"'")}else if(this.type.kind==="number"){for(var ft=null,Tt=0,Lt=this.args;Tt<Lt.length;Tt+=1){var Xt=Lt[Tt];if(ft=Xt.evaluate(D),ft===null)return 0;var cr=Number(ft);if(!isNaN(cr))return cr}throw new Ji("Could not convert "+JSON.stringify(ft)+" to number.")}else return this.type.kind==="formatted"?qi.fromString(zl(this.args[0].evaluate(D))):this.type.kind==="resolvedImage"?wo.fromString(zl(this.args[0].evaluate(D))):zl(this.args[0].evaluate(D))},ao.prototype.eachChild=function(D){this.args.forEach(D)},ao.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},ao.prototype.serialize=function(){if(this.type.kind==="formatted")return new po([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new as(this.args[0]).serialize();var D=["to-"+this.type.kind];return this.eachChild(function(V){D.push(V.serialize())}),D};var df=["Unknown","Point","LineString","Polygon"],is=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};is.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},is.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?df[this.feature.type]:this.feature.type:null},is.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},is.prototype.canonicalID=function(){return this.canonical},is.prototype.properties=function(){return this.feature&&this.feature.properties||{}},is.prototype.parseColor=function(D){var V=this._parseColorCache[D];return V||(V=this._parseColorCache[D]=di.parse(D)),V};var io=function(D,V,te,he){this.name=D,this.type=V,this._evaluate=te,this.args=he};io.prototype.evaluate=function(D){return this._evaluate(D,this.args)},io.prototype.eachChild=function(D){this.args.forEach(D)},io.prototype.outputDefined=function(){return!1},io.prototype.serialize=function(){return[this.name].concat(this.args.map(function(D){return D.serialize()}))},io.parse=function(D,V){var te,he=D[0],be=io.definitions[he];if(!be)return V.error('Unknown expression "'+he+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Ee=Array.isArray(be)?be[0]:be.type,je=Array.isArray(be)?[[be[1],be[2]]]:be.overloads,ft=je.filter(function(_a){var za=_a[0];return!Array.isArray(za)||za.length===D.length-1}),Tt=null,Lt=0,Xt=ft;Lt<Xt.length;Lt+=1){var cr=Xt[Lt],nr=cr[0],Tr=cr[1];Tt=new Jo(V.registry,V.path,null,V.scope);for(var jr=[],vn=!1,ln=1;ln<D.length;ln++){var Fn=D[ln],En=Array.isArray(nr)?nr[ln-1]:nr.type,_n=Tt.parse(Fn,1+jr.length,En);if(!_n){vn=!0;break}jr.push(_n)}if(!vn){if(Array.isArray(nr)&&nr.length!==jr.length){Tt.error("Expected "+nr.length+" arguments, but found "+jr.length+" instead.");continue}for(var Wn=0;Wn<jr.length;Wn++){var ea=Array.isArray(nr)?nr[Wn]:nr.type,ha=jr[Wn];Tt.concat(Wn+1).checkSubtype(ea,ha.type)}if(Tt.errors.length===0)return new io(he,Ee,Tr,jr)}}if(ft.length===1)(te=V.errors).push.apply(te,Tt.errors);else{for(var la=ft.length?ft:je,Ba=la.map(function(_a){var za=_a[0];return Ou(za)}).join(" | "),La=[],Ia=1;Ia<D.length;Ia++){var Ka=V.parse(D[Ia],1+La.length);if(!Ka)return null;La.push(Pa(Ka.type))}V.error("Expected arguments of type "+Ba+", but found ("+La.join(", ")+") instead.")}return null},io.register=function(D,V){io.definitions=V;for(var te in V)D[te]=io};function Ou(R){return Array.isArray(R)?"("+R.map(Pa).join(", ")+")":"("+Pa(R.type)+"...)"}var ms=function(D,V,te){this.type=fa,this.locale=te,this.caseSensitive=D,this.diacriticSensitive=V};ms.parse=function(D,V){if(D.length!==2)return V.error("Expected one argument.");var te=D[1];if(typeof te!="object"||Array.isArray(te))return V.error("Collator options argument must be an object.");var he=V.parse(te["case-sensitive"]===void 0?!1:te["case-sensitive"],1,wn);if(!he)return null;var be=V.parse(te["diacritic-sensitive"]===void 0?!1:te["diacritic-sensitive"],1,wn);if(!be)return null;var Ee=null;return te.locale&&(Ee=V.parse(te.locale,1,Gr),!Ee)?null:new ms(he,be,Ee)},ms.prototype.evaluate=function(D){return new _l(this.caseSensitive.evaluate(D),this.diacriticSensitive.evaluate(D),this.locale?this.locale.evaluate(D):null)},ms.prototype.eachChild=function(D){D(this.caseSensitive),D(this.diacriticSensitive),this.locale&&D(this.locale)},ms.prototype.outputDefined=function(){return!1},ms.prototype.serialize=function(){var D={};return D["case-sensitive"]=this.caseSensitive.serialize(),D["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(D.locale=this.locale.serialize()),["collator",D]};var os=8192;function ou(R,D){R[0]=Math.min(R[0],D[0]),R[1]=Math.min(R[1],D[1]),R[2]=Math.max(R[2],D[0]),R[3]=Math.max(R[3],D[1])}function su(R){return(180+R)/360}function Hf(R){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+R*Math.PI/360)))/360}function Ol(R,D){return!(R[0]<=D[0]||R[2]>=D[2]||R[1]<=D[1]||R[3]>=D[3])}function Gf(R,D){var V=su(R[0]),te=Hf(R[1]),he=Math.pow(2,D.z);return[Math.round(V*he*os),Math.round(te*he*os)]}function Bu(R,D,V){var te=R[0]-D[0],he=R[1]-D[1],be=R[0]-V[0],Ee=R[1]-V[1];return te*Ee-be*he===0&&te*be<=0&&he*Ee<=0}function pf(R,D,V){return D[1]>R[1]!=V[1]>R[1]&&R[0]<(V[0]-D[0])*(R[1]-D[1])/(V[1]-D[1])+D[0]}function lu(R,D){for(var V=!1,te=0,he=D.length;te<he;te++)for(var be=D[te],Ee=0,je=be.length;Ee<je-1;Ee++){if(Bu(R,be[Ee],be[Ee+1]))return!1;pf(R,be[Ee],be[Ee+1])&&(V=!V)}return V}function gf(R,D){for(var V=0;V<D.length;V++)if(lu(R,D[V]))return!0;return!1}function yf(R,D){return R[0]*D[1]-R[1]*D[0]}function Bl(R,D,V,te){var he=R[0]-V[0],be=R[1]-V[1],Ee=D[0]-V[0],je=D[1]-V[1],ft=te[0]-V[0],Tt=te[1]-V[1],Lt=he*Tt-ft*be,Xt=Ee*Tt-ft*je;return Lt>0&&Xt<0||Lt<0&&Xt>0}function Wf(R,D,V,te){var he=[D[0]-R[0],D[1]-R[1]],be=[te[0]-V[0],te[1]-V[1]];return yf(be,he)===0?!1:!!(Bl(R,D,V,te)&&Bl(V,te,R,D))}function mf(R,D,V){for(var te=0,he=V;te<he.length;te+=1)for(var be=he[te],Ee=0;Ee<be.length-1;++Ee)if(Wf(R,D,be[Ee],be[Ee+1]))return!0;return!1}function Nu(R,D){for(var V=0;V<R.length;++V)if(!lu(R[V],D))return!1;for(var te=0;te<R.length-1;++te)if(mf(R[te],R[te+1],D))return!1;return!0}function el(R,D){for(var V=0;V<D.length;V++)if(Nu(R,D[V]))return!0;return!1}function tl(R,D,V){for(var te=[],he=0;he<R.length;he++){for(var be=[],Ee=0;Ee<R[he].length;Ee++){var je=Gf(R[he][Ee],V);ou(D,je),be.push(je)}te.push(be)}return te}function xl(R,D,V){for(var te=[],he=0;he<R.length;he++){var be=tl(R[he],D,V);te.push(be)}return te}function uu(R,D,V,te){if(R[0]<V[0]||R[0]>V[2]){var he=te*.5,be=R[0]-V[0]>he?-te:V[0]-R[0]>he?te:0;be===0&&(be=R[0]-V[2]>he?-te:V[2]-R[0]>he?te:0),R[0]+=be}ou(D,R)}function Uu(R){R[0]=R[1]=1/0,R[2]=R[3]=-1/0}function Wo(R,D,V,te){for(var he=Math.pow(2,te.z)*os,be=[te.x*os,te.y*os],Ee=[],je=0,ft=R;je<ft.length;je+=1)for(var Tt=ft[je],Lt=0,Xt=Tt;Lt<Xt.length;Lt+=1){var cr=Xt[Lt],nr=[cr.x+be[0],cr.y+be[1]];uu(nr,D,V,he),Ee.push(nr)}return Ee}function fu(R,D,V,te){for(var he=Math.pow(2,te.z)*os,be=[te.x*os,te.y*os],Ee=[],je=0,ft=R;je<ft.length;je+=1){for(var Tt=ft[je],Lt=[],Xt=0,cr=Tt;Xt<cr.length;Xt+=1){var nr=cr[Xt],Tr=[nr.x+be[0],nr.y+be[1]];ou(D,Tr),Lt.push(Tr)}Ee.push(Lt)}if(D[2]-D[0]<=he/2){Uu(D);for(var jr=0,vn=Ee;jr<vn.length;jr+=1)for(var ln=vn[jr],Fn=0,En=ln;Fn<En.length;Fn+=1){var _n=En[Fn];uu(_n,D,V,he)}}return Ee}function Vu(R,D){var V=[1/0,1/0,-1/0,-1/0],te=[1/0,1/0,-1/0,-1/0],he=R.canonicalID();if(D.type==="Polygon"){var be=tl(D.coordinates,te,he),Ee=Wo(R.geometry(),V,te,he);if(!Ol(V,te))return!1;for(var je=0,ft=Ee;je<ft.length;je+=1){var Tt=ft[je];if(!lu(Tt,be))return!1}}if(D.type==="MultiPolygon"){var Lt=xl(D.coordinates,te,he),Xt=Wo(R.geometry(),V,te,he);if(!Ol(V,te))return!1;for(var cr=0,nr=Xt;cr<nr.length;cr+=1){var Tr=nr[cr];if(!gf(Tr,Lt))return!1}}return!0}function Yf(R,D){var V=[1/0,1/0,-1/0,-1/0],te=[1/0,1/0,-1/0,-1/0],he=R.canonicalID();if(D.type==="Polygon"){var be=tl(D.coordinates,te,he),Ee=fu(R.geometry(),V,te,he);if(!Ol(V,te))return!1;for(var je=0,ft=Ee;je<ft.length;je+=1){var Tt=ft[je];if(!Nu(Tt,be))return!1}}if(D.type==="MultiPolygon"){var Lt=xl(D.coordinates,te,he),Xt=fu(R.geometry(),V,te,he);if(!Ol(V,te))return!1;for(var cr=0,nr=Xt;cr<nr.length;cr+=1){var Tr=nr[cr];if(!el(Tr,Lt))return!1}}return!0}var _o=function(D,V){this.type=wn,this.geojson=D,this.geometries=V};_o.parse=function(D,V){if(D.length!==2)return V.error("'within' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(qs(D[1])){var te=D[1];if(te.type==="FeatureCollection")for(var he=0;he<te.features.length;++he){var be=te.features[he].geometry.type;if(be==="Polygon"||be==="MultiPolygon")return new _o(te,te.features[he].geometry)}else if(te.type==="Feature"){var Ee=te.geometry.type;if(Ee==="Polygon"||Ee==="MultiPolygon")return new _o(te,te.geometry)}else if(te.type==="Polygon"||te.type==="MultiPolygon")return new _o(te,te)}return V.error("'within' expression requires valid geojson object that contains polygon geometry type.")},_o.prototype.evaluate=function(D){if(D.geometry()!=null&&D.canonicalID()!=null){if(D.geometryType()==="Point")return Vu(D,this.geometries);if(D.geometryType()==="LineString")return Yf(D,this.geometries)}return!1},_o.prototype.eachChild=function(){},_o.prototype.outputDefined=function(){return!0},_o.prototype.serialize=function(){return["within",this.geojson]};function rl(R){if(R instanceof io){if(R.name==="get"&&R.args.length===1)return!1;if(R.name==="feature-state")return!1;if(R.name==="has"&&R.args.length===1)return!1;if(R.name==="properties"||R.name==="geometry-type"||R.name==="id")return!1;if(/^filter-/.test(R.name))return!1}if(R instanceof _o)return!1;var D=!0;return R.eachChild(function(V){D&&!rl(V)&&(D=!1)}),D}function Nl(R){if(R instanceof io&&R.name==="feature-state")return!1;var D=!0;return R.eachChild(function(V){D&&!Nl(V)&&(D=!1)}),D}function bl(R,D){if(R instanceof io&&D.indexOf(R.name)>=0)return!1;var V=!0;return R.eachChild(function(te){V&&!bl(te,D)&&(V=!1)}),V}var Ko=function(D,V){this.type=V.type,this.name=D,this.boundExpression=V};Ko.parse=function(D,V){if(D.length!==2||typeof D[1]!="string")return V.error("'var' expression requires exactly one string literal argument.");var te=D[1];return V.scope.has(te)?new Ko(te,V.scope.get(te)):V.error('Unknown variable "'+te+'". Make sure "'+te+'" has been bound in an enclosing "let" expression before using it.',1)},Ko.prototype.evaluate=function(D){return this.boundExpression.evaluate(D)},Ko.prototype.eachChild=function(){},Ko.prototype.outputDefined=function(){return!1},Ko.prototype.serialize=function(){return["var",this.name]};var Jo=function(D,V,te,he,be){V===void 0&&(V=[]),he===void 0&&(he=new yn),be===void 0&&(be=[]),this.registry=D,this.path=V,this.key=V.map(function(Ee){return"["+Ee+"]"}).join(""),this.scope=he,this.errors=be,this.expectedType=te};Jo.prototype.parse=function(D,V,te,he,be){return be===void 0&&(be={}),V?this.concat(V,te,he)._parse(D,be):this._parse(D,be)},Jo.prototype._parse=function(D,V){(D===null||typeof D=="string"||typeof D=="boolean"||typeof D=="number")&&(D=["literal",D]);function te(Lt,Xt,cr){return cr==="assert"?new vo(Xt,[Lt]):cr==="coerce"?new ao(Xt,[Lt]):Lt}if(Array.isArray(D)){if(D.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var he=D[0];if(typeof he!="string")return this.error("Expression name must be a string, but found "+typeof he+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var be=this.registry[he];if(be){var Ee=be.parse(D,this);if(!Ee)return null;if(this.expectedType){var je=this.expectedType,ft=Ee.type;if((je.kind==="string"||je.kind==="number"||je.kind==="boolean"||je.kind==="object"||je.kind==="array")&&ft.kind==="value")Ee=te(Ee,je,V.typeAnnotation||"assert");else if((je.kind==="color"||je.kind==="formatted"||je.kind==="resolvedImage")&&(ft.kind==="value"||ft.kind==="string"))Ee=te(Ee,je,V.typeAnnotation||"coerce");else if(this.checkSubtype(je,ft))return null}if(!(Ee instanceof Io)&&Ee.type.kind!=="resolvedImage"&&Hu(Ee)){var Tt=new is;try{Ee=new Io(Ee.type,Ee.evaluate(Tt))}catch(Lt){return this.error(Lt.message),null}}return Ee}return this.error('Unknown expression "'+he+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof D>"u"?this.error("'undefined' value invalid. Use null instead."):typeof D=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof D+" instead.")},Jo.prototype.concat=function(D,V,te){var he=typeof D=="number"?this.path.concat(D):this.path,be=te?this.scope.concat(te):this.scope;return new Jo(this.registry,he,V||null,be,this.errors)},Jo.prototype.error=function(D){for(var V=[],te=arguments.length-1;te-- >0;)V[te]=arguments[te+1];var he=""+this.key+V.map(function(be){return"["+be+"]"}).join("");this.errors.push(new Pn(he,D))},Jo.prototype.checkSubtype=function(D,V){var te=ho(D,V);return te&&this.error(te),te};function Hu(R){if(R instanceof Ko)return Hu(R.boundExpression);if(R instanceof io&&R.name==="error")return!1;if(R instanceof ms)return!1;if(R instanceof _o)return!1;var D=R instanceof ao||R instanceof vo,V=!0;return R.eachChild(function(te){D?V=V&&Hu(te):V=V&&te instanceof Io}),V?rl(R)&&bl(R,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function xs(R,D){for(var V=R.length-1,te=0,he=V,be=0,Ee,je;te<=he;)if(be=Math.floor((te+he)/2),Ee=R[be],je=R[be+1],Ee<=D){if(be===V||D<je)return be;te=be+1}else if(Ee>D)he=be-1;else throw new Ji("Input is not a number.");return 0}var Fs=function(D,V,te){this.type=D,this.input=V,this.labels=[],this.outputs=[];for(var he=0,be=te;he<be.length;he+=1){var Ee=be[he],je=Ee[0],ft=Ee[1];this.labels.push(je),this.outputs.push(ft)}};Fs.parse=function(D,V){if(D.length-1<4)return V.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!==0)return V.error("Expected an even number of arguments.");var te=V.parse(D[1],1,_r);if(!te)return null;var he=[],be=null;V.expectedType&&V.expectedType.kind!=="value"&&(be=V.expectedType);for(var Ee=1;Ee<D.length;Ee+=2){var je=Ee===1?-1/0:D[Ee],ft=D[Ee+1],Tt=Ee,Lt=Ee+1;if(typeof je!="number")return V.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Tt);if(he.length&&he[he.length-1][0]>=je)return V.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Tt);var Xt=V.parse(ft,Lt,be);if(!Xt)return null;be=be||Xt.type,he.push([je,Xt])}return new Fs(be,te,he)},Fs.prototype.evaluate=function(D){var V=this.labels,te=this.outputs;if(V.length===1)return te[0].evaluate(D);var he=this.input.evaluate(D);if(he<=V[0])return te[0].evaluate(D);var be=V.length;if(he>=V[be-1])return te[be-1].evaluate(D);var Ee=xs(V,he);return te[Ee].evaluate(D)},Fs.prototype.eachChild=function(D){D(this.input);for(var V=0,te=this.outputs;V<te.length;V+=1){var he=te[V];D(he)}},Fs.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},Fs.prototype.serialize=function(){for(var D=["step",this.input.serialize()],V=0;V<this.labels.length;V++)V>0&&D.push(this.labels[V]),D.push(this.outputs[V].serialize());return D};function Zi(R,D,V){return R*(1-V)+D*V}function cu(R,D,V){return new di(Zi(R.r,D.r,V),Zi(R.g,D.g,V),Zi(R.b,D.b,V),Zi(R.a,D.a,V))}function wl(R,D,V){return R.map(function(te,he){return Zi(te,D[he],V)})}var Tl=Object.freeze({__proto__:null,number:Zi,color:cu,array:wl}),xf=.95047,bf=1,nl=1.08883,al=4/29,eo=6/29,hu=3*eo*eo,Zf=eo*eo*eo,Gu=Math.PI/180,Xf=180/Math.PI;function vu(R){return R>Zf?Math.pow(R,.3333333333333333):R/hu+al}function Ul(R){return R>eo?R*R*R:hu*(R-al)}function Wu(R){return 255*(R<=.0031308?12.92*R:1.055*Math.pow(R,.4166666666666667)-.055)}function Yu(R){return R/=255,R<=.04045?R/12.92:Math.pow((R+.055)/1.055,2.4)}function Vl(R){var D=Yu(R.r),V=Yu(R.g),te=Yu(R.b),he=vu((.4124564*D+.3575761*V+.1804375*te)/xf),be=vu((.2126729*D+.7151522*V+.072175*te)/bf),Ee=vu((.0193339*D+.119192*V+.9503041*te)/nl);return{l:116*be-16,a:500*(he-be),b:200*(be-Ee),alpha:R.a}}function Zu(R){var D=(R.l+16)/116,V=isNaN(R.a)?D:D+R.a/500,te=isNaN(R.b)?D:D-R.b/200;return D=bf*Ul(D),V=xf*Ul(V),te=nl*Ul(te),new di(Wu(3.2404542*V-1.5371385*D-.4985314*te),Wu(-.969266*V+1.8760108*D+.041556*te),Wu(.0556434*V-.2040259*D+1.0572252*te),R.alpha)}function du(R,D,V){return{l:Zi(R.l,D.l,V),a:Zi(R.a,D.a,V),b:Zi(R.b,D.b,V),alpha:Zi(R.alpha,D.alpha,V)}}function Xu(R){var D=Vl(R),V=D.l,te=D.a,he=D.b,be=Math.atan2(he,te)*Xf;return{h:be<0?be+360:be,c:Math.sqrt(te*te+he*he),l:V,alpha:R.a}}function Ri(R){var D=R.h*Gu,V=R.c,te=R.l;return Zu({l:te,a:Math.cos(D)*V,b:Math.sin(D)*V,alpha:R.alpha})}function ju(R,D,V){var te=D-R;return R+V*(te>180||te<-180?te-360*Math.round(te/360):te)}function Yo(R,D,V){return{h:ju(R.h,D.h,V),c:Zi(R.c,D.c,V),l:Zi(R.l,D.l,V),alpha:Zi(R.alpha,D.alpha,V)}}var Al={forward:Vl,reverse:Zu,interpolate:du},zs={forward:Xu,reverse:Ri,interpolate:Yo},Ku=Object.freeze({__proto__:null,lab:Al,hcl:zs}),ji=function(D,V,te,he,be){this.type=D,this.operator=V,this.interpolation=te,this.input=he,this.labels=[],this.outputs=[];for(var Ee=0,je=be;Ee<je.length;Ee+=1){var ft=je[Ee],Tt=ft[0],Lt=ft[1];this.labels.push(Tt),this.outputs.push(Lt)}};ji.interpolationFactor=function(D,V,te,he){var be=0;if(D.name==="exponential")be=Qo(V,D.base,te,he);else if(D.name==="linear")be=Qo(V,1,te,he);else if(D.name==="cubic-bezier"){var Ee=D.controlPoints,je=new v(Ee[0],Ee[1],Ee[2],Ee[3]);be=je.solve(Qo(V,1,te,he))}return be},ji.parse=function(D,V){var te=D[0],he=D[1],be=D[2],Ee=D.slice(3);if(!Array.isArray(he)||he.length===0)return V.error("Expected an interpolation type expression.",1);if(he[0]==="linear")he={name:"linear"};else if(he[0]==="exponential"){var je=he[1];if(typeof je!="number")return V.error("Exponential interpolation requires a numeric base.",1,1);he={name:"exponential",base:je}}else if(he[0]==="cubic-bezier"){var ft=he.slice(1);if(ft.length!==4||ft.some(function(ln){return typeof ln!="number"||ln<0||ln>1}))return V.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);he={name:"cubic-bezier",controlPoints:ft}}else return V.error("Unknown interpolation type "+String(he[0]),1,0);if(D.length-1<4)return V.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!==0)return V.error("Expected an even number of arguments.");if(be=V.parse(be,2,_r),!be)return null;var Tt=[],Lt=null;te==="interpolate-hcl"||te==="interpolate-lab"?Lt=Yn:V.expectedType&&V.expectedType.kind!=="value"&&(Lt=V.expectedType);for(var Xt=0;Xt<Ee.length;Xt+=2){var cr=Ee[Xt],nr=Ee[Xt+1],Tr=Xt+3,jr=Xt+4;if(typeof cr!="number")return V.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Tr);if(Tt.length&&Tt[Tt.length-1][0]>=cr)return V.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Tr);var vn=V.parse(nr,jr,Lt);if(!vn)return null;Lt=Lt||vn.type,Tt.push([cr,vn])}return Lt.kind!=="number"&&Lt.kind!=="color"&&!(Lt.kind==="array"&&Lt.itemType.kind==="number"&&typeof Lt.N=="number")?V.error("Type "+Pa(Lt)+" is not interpolatable."):new ji(Lt,te,he,be,Tt)},ji.prototype.evaluate=function(D){var V=this.labels,te=this.outputs;if(V.length===1)return te[0].evaluate(D);var he=this.input.evaluate(D);if(he<=V[0])return te[0].evaluate(D);var be=V.length;if(he>=V[be-1])return te[be-1].evaluate(D);var Ee=xs(V,he),je=V[Ee],ft=V[Ee+1],Tt=ji.interpolationFactor(this.interpolation,he,je,ft),Lt=te[Ee].evaluate(D),Xt=te[Ee+1].evaluate(D);return this.operator==="interpolate"?Tl[this.type.kind.toLowerCase()](Lt,Xt,Tt):this.operator==="interpolate-hcl"?zs.reverse(zs.interpolate(zs.forward(Lt),zs.forward(Xt),Tt)):Al.reverse(Al.interpolate(Al.forward(Lt),Al.forward(Xt),Tt))},ji.prototype.eachChild=function(D){D(this.input);for(var V=0,te=this.outputs;V<te.length;V+=1){var he=te[V];D(he)}},ji.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},ji.prototype.serialize=function(){var D;this.interpolation.name==="linear"?D=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?D=["linear"]:D=["exponential",this.interpolation.base]:D=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var V=[this.operator,D,this.input.serialize()],te=0;te<this.labels.length;te++)V.push(this.labels[te],this.outputs[te].serialize());return V};function Qo(R,D,V,te){var he=te-V,be=R-V;return he===0?0:D===1?be/he:(Math.pow(D,be)-1)/(Math.pow(D,he)-1)}var Fo=function(D,V){this.type=D,this.args=V};Fo.parse=function(D,V){if(D.length<2)return V.error("Expectected at least one argument.");var te=null,he=V.expectedType;he&&he.kind!=="value"&&(te=he);for(var be=[],Ee=0,je=D.slice(1);Ee<je.length;Ee+=1){var ft=je[Ee],Tt=V.parse(ft,1+be.length,te,void 0,{typeAnnotation:"omit"});if(!Tt)return null;te=te||Tt.type,be.push(Tt)}var Lt=he&&be.some(function(Xt){return ho(he,Xt.type)});return Lt?new Fo(Mn,be):new Fo(te,be)},Fo.prototype.evaluate=function(D){for(var V=null,te=0,he,be=0,Ee=this.args;be<Ee.length;be+=1){var je=Ee[be];if(te++,V=je.evaluate(D),V&&V instanceof wo&&!V.available&&(he||(he=V.name),V=null,te===this.args.length&&(V=he)),V!==null)break}return V},Fo.prototype.eachChild=function(D){this.args.forEach(D)},Fo.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},Fo.prototype.serialize=function(){var D=["coalesce"];return this.eachChild(function(V){D.push(V.serialize())}),D};var bs=function(D,V){this.type=V.type,this.bindings=[].concat(D),this.result=V};bs.prototype.evaluate=function(D){return this.result.evaluate(D)},bs.prototype.eachChild=function(D){for(var V=0,te=this.bindings;V<te.length;V+=1){var he=te[V];D(he[1])}D(this.result)},bs.parse=function(D,V){if(D.length<4)return V.error("Expected at least 3 arguments, but found "+(D.length-1)+" instead.");for(var te=[],he=1;he<D.length-1;he+=2){var be=D[he];if(typeof be!="string")return V.error("Expected string, but found "+typeof be+" instead.",he);if(/[^a-zA-Z0-9_]/.test(be))return V.error("Variable names must contain only alphanumeric characters or '_'.",he);var Ee=V.parse(D[he+1],he+1);if(!Ee)return null;te.push([be,Ee])}var je=V.parse(D[D.length-1],D.length-1,V.expectedType,te);return je?new bs(te,je):null},bs.prototype.outputDefined=function(){return this.result.outputDefined()},bs.prototype.serialize=function(){for(var D=["let"],V=0,te=this.bindings;V<te.length;V+=1){var he=te[V],be=he[0],Ee=he[1];D.push(be,Ee.serialize())}return D.push(this.result.serialize()),D};var zo=function(D,V,te){this.type=D,this.index=V,this.input=te};zo.parse=function(D,V){if(D.length!==3)return V.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var te=V.parse(D[1],1,_r),he=V.parse(D[2],2,ma(V.expectedType||Mn));if(!te||!he)return null;var be=he.type;return new zo(be.itemType,te,he)},zo.prototype.evaluate=function(D){var V=this.index.evaluate(D),te=this.input.evaluate(D);if(V<0)throw new Ji("Array index out of bounds: "+V+" < 0.");if(V>=te.length)throw new Ji("Array index out of bounds: "+V+" > "+(te.length-1)+".");if(V!==Math.floor(V))throw new Ji("Array index must be an integer, but found "+V+" instead.");return te[V]},zo.prototype.eachChild=function(D){D(this.index),D(this.input)},zo.prototype.outputDefined=function(){return!1},zo.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Os=function(D,V){this.type=wn,this.needle=D,this.haystack=V};Os.parse=function(D,V){if(D.length!==3)return V.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var te=V.parse(D[1],1,Mn),he=V.parse(D[2],2,Mn);return!te||!he?null:mo(te.type,[wn,Gr,_r,zr,Mn])?new Os(te,he):V.error("Expected first argument to be of type boolean, string, number or null, but found "+Pa(te.type)+" instead")},Os.prototype.evaluate=function(D){var V=this.needle.evaluate(D),te=this.haystack.evaluate(D);if(!te)return!1;if(!xo(V,["boolean","string","number","null"]))throw new Ji("Expected first argument to be of type boolean, string, number or null, but found "+Pa(zi(V))+" instead.");if(!xo(te,["string","array"]))throw new Ji("Expected second argument to be of type array or string, but found "+Pa(zi(te))+" instead.");return te.indexOf(V)>=0},Os.prototype.eachChild=function(D){D(this.needle),D(this.haystack)},Os.prototype.outputDefined=function(){return!0},Os.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Bs=function(D,V,te){this.type=_r,this.needle=D,this.haystack=V,this.fromIndex=te};Bs.parse=function(D,V){if(D.length<=2||D.length>=5)return V.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var te=V.parse(D[1],1,Mn),he=V.parse(D[2],2,Mn);if(!te||!he)return null;if(!mo(te.type,[wn,Gr,_r,zr,Mn]))return V.error("Expected first argument to be of type boolean, string, number or null, but found "+Pa(te.type)+" instead");if(D.length===4){var be=V.parse(D[3],3,_r);return be?new Bs(te,he,be):null}else return new Bs(te,he)},Bs.prototype.evaluate=function(D){var V=this.needle.evaluate(D),te=this.haystack.evaluate(D);if(!xo(V,["boolean","string","number","null"]))throw new Ji("Expected first argument to be of type boolean, string, number or null, but found "+Pa(zi(V))+" instead.");if(!xo(te,["string","array"]))throw new Ji("Expected second argument to be of type array or string, but found "+Pa(zi(te))+" instead.");if(this.fromIndex){var he=this.fromIndex.evaluate(D);return te.indexOf(V,he)}return te.indexOf(V)},Bs.prototype.eachChild=function(D){D(this.needle),D(this.haystack),this.fromIndex&&D(this.fromIndex)},Bs.prototype.outputDefined=function(){return!1},Bs.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var D=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),D]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Ns=function(D,V,te,he,be,Ee){this.inputType=D,this.type=V,this.input=te,this.cases=he,this.outputs=be,this.otherwise=Ee};Ns.parse=function(D,V){if(D.length<5)return V.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if(D.length%2!==1)return V.error("Expected an even number of arguments.");var te,he;V.expectedType&&V.expectedType.kind!=="value"&&(he=V.expectedType);for(var be={},Ee=[],je=2;je<D.length-1;je+=2){var ft=D[je],Tt=D[je+1];Array.isArray(ft)||(ft=[ft]);var Lt=V.concat(je);if(ft.length===0)return Lt.error("Expected at least one branch label.");for(var Xt=0,cr=ft;Xt<cr.length;Xt+=1){var nr=cr[Xt];if(typeof nr!="number"&&typeof nr!="string")return Lt.error("Branch labels must be numbers or strings.");if(typeof nr=="number"&&Math.abs(nr)>Number.MAX_SAFE_INTEGER)return Lt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof nr=="number"&&Math.floor(nr)!==nr)return Lt.error("Numeric branch labels must be integer values.");if(!te)te=zi(nr);else if(Lt.checkSubtype(te,zi(nr)))return null;if(typeof be[String(nr)]<"u")return Lt.error("Branch labels must be unique.");be[String(nr)]=Ee.length}var Tr=V.parse(Tt,je,he);if(!Tr)return null;he=he||Tr.type,Ee.push(Tr)}var jr=V.parse(D[1],1,Mn);if(!jr)return null;var vn=V.parse(D[D.length-1],D.length-1,he);return!vn||jr.type.kind!=="value"&&V.concat(1).checkSubtype(te,jr.type)?null:new Ns(te,he,jr,be,Ee,vn)},Ns.prototype.evaluate=function(D){var V=this.input.evaluate(D),te=zi(V)===this.inputType&&this.outputs[this.cases[V]]||this.otherwise;return te.evaluate(D)},Ns.prototype.eachChild=function(D){D(this.input),this.outputs.forEach(D),D(this.otherwise)},Ns.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})&&this.otherwise.outputDefined()},Ns.prototype.serialize=function(){for(var D=this,V=["match",this.input.serialize()],te=Object.keys(this.cases).sort(),he=[],be={},Ee=0,je=te;Ee<je.length;Ee+=1){var ft=je[Ee],Tt=be[this.cases[ft]];Tt===void 0?(be[this.cases[ft]]=he.length,he.push([this.cases[ft],[ft]])):he[Tt][1].push(ft)}for(var Lt=function(jr){return D.inputType.kind==="number"?Number(jr):jr},Xt=0,cr=he;Xt<cr.length;Xt+=1){var nr=cr[Xt],Tt=nr[0],Tr=nr[1];Tr.length===1?V.push(Lt(Tr[0])):V.push(Tr.map(Lt)),V.push(this.outputs[outputIndex$1].serialize())}return V.push(this.otherwise.serialize()),V};var $o=function(D,V,te){this.type=D,this.branches=V,this.otherwise=te};$o.parse=function(D,V){if(D.length<4)return V.error("Expected at least 3 arguments, but found only "+(D.length-1)+".");if(D.length%2!==0)return V.error("Expected an odd number of arguments.");var te;V.expectedType&&V.expectedType.kind!=="value"&&(te=V.expectedType);for(var he=[],be=1;be<D.length-1;be+=2){var Ee=V.parse(D[be],be,wn);if(!Ee)return null;var je=V.parse(D[be+1],be+1,te);if(!je)return null;he.push([Ee,je]),te=te||je.type}var ft=V.parse(D[D.length-1],D.length-1,te);return ft?new $o(te,he,ft):null},$o.prototype.evaluate=function(D){for(var V=0,te=this.branches;V<te.length;V+=1){var he=te[V],be=he[0],Ee=he[1];if(be.evaluate(D))return Ee.evaluate(D)}return this.otherwise.evaluate(D)},$o.prototype.eachChild=function(D){for(var V=0,te=this.branches;V<te.length;V+=1){var he=te[V],be=he[0],Ee=he[1];D(be),D(Ee)}D(this.otherwise)},$o.prototype.outputDefined=function(){return this.branches.every(function(D){D[0];var V=D[1];return V.outputDefined()})&&this.otherwise.outputDefined()},$o.prototype.serialize=function(){var D=["case"];return this.eachChild(function(V){D.push(V.serialize())}),D};var ss=function(D,V,te,he){this.type=D,this.input=V,this.beginIndex=te,this.endIndex=he};ss.parse=function(D,V){if(D.length<=2||D.length>=5)return V.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var te=V.parse(D[1],1,Mn),he=V.parse(D[2],2,_r);if(!te||!he)return null;if(!mo(te.type,[ma(Mn),Gr,Mn]))return V.error("Expected first argument to be of type array or string, but found "+Pa(te.type)+" instead");if(D.length===4){var be=V.parse(D[3],3,_r);return be?new ss(te.type,te,he,be):null}else return new ss(te.type,te,he)},ss.prototype.evaluate=function(D){var V=this.input.evaluate(D),te=this.beginIndex.evaluate(D);if(!xo(V,["string","array"]))throw new Ji("Expected first argument to be of type array or string, but found "+Pa(zi(V))+" instead.");if(this.endIndex){var he=this.endIndex.evaluate(D);return V.slice(te,he)}return V.slice(te)},ss.prototype.eachChild=function(D){D(this.input),D(this.beginIndex),this.endIndex&&D(this.endIndex)},ss.prototype.outputDefined=function(){return!1},ss.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var D=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),D]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function il(R,D){return R==="=="||R==="!="?D.kind==="boolean"||D.kind==="string"||D.kind==="number"||D.kind==="null"||D.kind==="value":D.kind==="string"||D.kind==="number"||D.kind==="value"}function oo(R,D,V){return D===V}function Hl(R,D,V){return D!==V}function wf(R,D,V){return D<V}function pu(R,D,V){return D>V}function Tf(R,D,V){return D<=V}function Af(R,D,V){return D>=V}function gu(R,D,V,te){return te.compare(D,V)===0}function Ju(R,D,V,te){return!gu(R,D,V,te)}function Us(R,D,V,te){return te.compare(D,V)<0}function so(R,D,V,te){return te.compare(D,V)>0}function To(R,D,V,te){return te.compare(D,V)<=0}function Sl(R,D,V,te){return te.compare(D,V)>=0}function ol(R,D,V){var te=R!=="=="&&R!=="!=";return function(){function he(be,Ee,je){this.type=wn,this.lhs=be,this.rhs=Ee,this.collator=je,this.hasUntypedArgument=be.type.kind==="value"||Ee.type.kind==="value"}return he.parse=function(Ee,je){if(Ee.length!==3&&Ee.length!==4)return je.error("Expected two or three arguments.");var ft=Ee[0],Tt=je.parse(Ee[1],1,Mn);if(!Tt)return null;if(!il(ft,Tt.type))return je.concat(1).error('"'+ft+`" comparisons are not supported for type '`+Pa(Tt.type)+"'.");var Lt=je.parse(Ee[2],2,Mn);if(!Lt)return null;if(!il(ft,Lt.type))return je.concat(2).error('"'+ft+`" comparisons are not supported for type '`+Pa(Lt.type)+"'.");if(Tt.type.kind!==Lt.type.kind&&Tt.type.kind!=="value"&&Lt.type.kind!=="value")return je.error("Cannot compare types '"+Pa(Tt.type)+"' and '"+Pa(Lt.type)+"'.");te&&(Tt.type.kind==="value"&&Lt.type.kind!=="value"?Tt=new vo(Lt.type,[Tt]):Tt.type.kind!=="value"&&Lt.type.kind==="value"&&(Lt=new vo(Tt.type,[Lt])));var Xt=null;if(Ee.length===4){if(Tt.type.kind!=="string"&&Lt.type.kind!=="string"&&Tt.type.kind!=="value"&&Lt.type.kind!=="value")return je.error("Cannot use collator to compare non-string types.");if(Xt=je.parse(Ee[3],3,fa),!Xt)return null}return new he(Tt,Lt,Xt)},he.prototype.evaluate=function(Ee){var je=this.lhs.evaluate(Ee),ft=this.rhs.evaluate(Ee);if(te&&this.hasUntypedArgument){var Tt=zi(je),Lt=zi(ft);if(Tt.kind!==Lt.kind||!(Tt.kind==="string"||Tt.kind==="number"))throw new Ji('Expected arguments for "'+R+'" to be (string, string) or (number, number), but found ('+Tt.kind+", "+Lt.kind+") instead.")}if(this.collator&&!te&&this.hasUntypedArgument){var Xt=zi(je),cr=zi(ft);if(Xt.kind!=="string"||cr.kind!=="string")return D(Ee,je,ft)}return this.collator?V(Ee,je,ft,this.collator.evaluate(Ee)):D(Ee,je,ft)},he.prototype.eachChild=function(Ee){Ee(this.lhs),Ee(this.rhs),this.collator&&Ee(this.collator)},he.prototype.outputDefined=function(){return!0},he.prototype.serialize=function(){var Ee=[R];return this.eachChild(function(je){Ee.push(je.serialize())}),Ee},he}()}var Gl=ol("==",oo,gu),yu=ol("!=",Hl,Ju),Qu=ol("<",wf,Us),sl=ol(">",pu,so),Sf=ol("<=",Tf,To),$u=ol(">=",Af,Sl),Vs=function(D,V,te,he,be){this.type=Gr,this.number=D,this.locale=V,this.currency=te,this.minFractionDigits=he,this.maxFractionDigits=be};Vs.parse=function(D,V){if(D.length!==3)return V.error("Expected two arguments.");var te=V.parse(D[1],1,_r);if(!te)return null;var he=D[2];if(typeof he!="object"||Array.isArray(he))return V.error("NumberFormat options argument must be an object.");var be=null;if(he.locale&&(be=V.parse(he.locale,1,Gr),!be))return null;var Ee=null;if(he.currency&&(Ee=V.parse(he.currency,1,Gr),!Ee))return null;var je=null;if(he["min-fraction-digits"]&&(je=V.parse(he["min-fraction-digits"],1,_r),!je))return null;var ft=null;return he["max-fraction-digits"]&&(ft=V.parse(he["max-fraction-digits"],1,_r),!ft)?null:new Vs(te,be,Ee,je,ft)},Vs.prototype.evaluate=function(D){return new Intl.NumberFormat(this.locale?this.locale.evaluate(D):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(D):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(D):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(D):void 0}).format(this.number.evaluate(D))},Vs.prototype.eachChild=function(D){D(this.number),this.locale&&D(this.locale),this.currency&&D(this.currency),this.minFractionDigits&&D(this.minFractionDigits),this.maxFractionDigits&&D(this.maxFractionDigits)},Vs.prototype.outputDefined=function(){return!1},Vs.prototype.serialize=function(){var D={};return this.locale&&(D.locale=this.locale.serialize()),this.currency&&(D.currency=this.currency.serialize()),this.minFractionDigits&&(D["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(D["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),D]};var Xi=function(D){this.type=_r,this.input=D};Xi.parse=function(D,V){if(D.length!==2)return V.error("Expected 1 argument, but found "+(D.length-1)+" instead.");var te=V.parse(D[1],1);return te?te.type.kind!=="array"&&te.type.kind!=="string"&&te.type.kind!=="value"?V.error("Expected argument of type string or array, but found "+Pa(te.type)+" instead."):new Xi(te):null},Xi.prototype.evaluate=function(D){var V=this.input.evaluate(D);if(typeof V=="string")return V.length;if(Array.isArray(V))return V.length;throw new Ji("Expected value to be of type string or array, but found "+Pa(zi(V))+" instead.")},Xi.prototype.eachChild=function(D){D(this.input)},Xi.prototype.outputDefined=function(){return!1},Xi.prototype.serialize=function(){var D=["length"];return this.eachChild(function(V){D.push(V.serialize())}),D};var Ao={"==":Gl,"!=":yu,">":sl,"<":Qu,">=":$u,"<=":Sf,array:vo,at:zo,boolean:vo,case:$o,coalesce:Fo,collator:ms,format:po,image:as,in:Os,"index-of":Bs,interpolate:ji,"interpolate-hcl":ji,"interpolate-lab":ji,length:Xi,let:bs,literal:Io,match:Ns,number:vo,"number-format":Vs,object:vo,slice:ss,step:Fs,string:vo,"to-boolean":ao,"to-color":ao,"to-number":ao,"to-string":ao,var:Ko,within:_o};function qu(R,D){var V=D[0],te=D[1],he=D[2],be=D[3];V=V.evaluate(R),te=te.evaluate(R),he=he.evaluate(R);var Ee=be?be.evaluate(R):1,je=Fl(V,te,he,Ee);if(je)throw new Ji(je);return new di(V/255*Ee,te/255*Ee,he/255*Ee,Ee)}function ef(R,D){return R in D}function ll(R,D){var V=D[R];return typeof V>"u"?null:V}function mu(R,D,V,te){for(;V<=te;){var he=V+te>>1;if(D[he]===R)return!0;D[he]>R?te=he-1:V=he+1}return!1}function qo(R){return{type:R}}io.register(Ao,{error:[jn,[Gr],function(R,D){var V=D[0];throw new Ji(V.evaluate(R))}],typeof:[Gr,[Mn],function(R,D){var V=D[0];return Pa(zi(V.evaluate(R)))}],"to-rgba":[ma(_r,4),[Yn],function(R,D){var V=D[0];return V.evaluate(R).toArray()}],rgb:[Yn,[_r,_r,_r],qu],rgba:[Yn,[_r,_r,_r,_r],qu],has:{type:wn,overloads:[[[Gr],function(R,D){var V=D[0];return ef(V.evaluate(R),R.properties())}],[[Gr,ta],function(R,D){var V=D[0],te=D[1];return ef(V.evaluate(R),te.evaluate(R))}]]},get:{type:Mn,overloads:[[[Gr],function(R,D){var V=D[0];return ll(V.evaluate(R),R.properties())}],[[Gr,ta],function(R,D){var V=D[0],te=D[1];return ll(V.evaluate(R),te.evaluate(R))}]]},"feature-state":[Mn,[Gr],function(R,D){var V=D[0];return ll(V.evaluate(R),R.featureState||{})}],properties:[ta,[],function(R){return R.properties()}],"geometry-type":[Gr,[],function(R){return R.geometryType()}],id:[Mn,[],function(R){return R.id()}],zoom:[_r,[],function(R){return R.globals.zoom}],"heatmap-density":[_r,[],function(R){return R.globals.heatmapDensity||0}],"line-progress":[_r,[],function(R){return R.globals.lineProgress||0}],accumulated:[Mn,[],function(R){return R.globals.accumulated===void 0?null:R.globals.accumulated}],"+":[_r,qo(_r),function(R,D){for(var V=0,te=0,he=D;te<he.length;te+=1){var be=he[te];V+=be.evaluate(R)}return V}],"*":[_r,qo(_r),function(R,D){for(var V=1,te=0,he=D;te<he.length;te+=1){var be=he[te];V*=be.evaluate(R)}return V}],"-":{type:_r,overloads:[[[_r,_r],function(R,D){var V=D[0],te=D[1];return V.evaluate(R)-te.evaluate(R)}],[[_r],function(R,D){var V=D[0];return-V.evaluate(R)}]]},"/":[_r,[_r,_r],function(R,D){var V=D[0],te=D[1];return V.evaluate(R)/te.evaluate(R)}],"%":[_r,[_r,_r],function(R,D){var V=D[0],te=D[1];return V.evaluate(R)%te.evaluate(R)}],ln2:[_r,[],function(){return Math.LN2}],pi:[_r,[],function(){return Math.PI}],e:[_r,[],function(){return Math.E}],"^":[_r,[_r,_r],function(R,D){var V=D[0],te=D[1];return Math.pow(V.evaluate(R),te.evaluate(R))}],sqrt:[_r,[_r],function(R,D){var V=D[0];return Math.sqrt(V.evaluate(R))}],log10:[_r,[_r],function(R,D){var V=D[0];return Math.log(V.evaluate(R))/Math.LN10}],ln:[_r,[_r],function(R,D){var V=D[0];return Math.log(V.evaluate(R))}],log2:[_r,[_r],function(R,D){var V=D[0];return Math.log(V.evaluate(R))/Math.LN2}],sin:[_r,[_r],function(R,D){var V=D[0];return Math.sin(V.evaluate(R))}],cos:[_r,[_r],function(R,D){var V=D[0];return Math.cos(V.evaluate(R))}],tan:[_r,[_r],function(R,D){var V=D[0];return Math.tan(V.evaluate(R))}],asin:[_r,[_r],function(R,D){var V=D[0];return Math.asin(V.evaluate(R))}],acos:[_r,[_r],function(R,D){var V=D[0];return Math.acos(V.evaluate(R))}],atan:[_r,[_r],function(R,D){var V=D[0];return Math.atan(V.evaluate(R))}],min:[_r,qo(_r),function(R,D){return Math.min.apply(Math,D.map(function(V){return V.evaluate(R)}))}],max:[_r,qo(_r),function(R,D){return Math.max.apply(Math,D.map(function(V){return V.evaluate(R)}))}],abs:[_r,[_r],function(R,D){var V=D[0];return Math.abs(V.evaluate(R))}],round:[_r,[_r],function(R,D){var V=D[0],te=V.evaluate(R);return te<0?-Math.round(-te):Math.round(te)}],floor:[_r,[_r],function(R,D){var V=D[0];return Math.floor(V.evaluate(R))}],ceil:[_r,[_r],function(R,D){var V=D[0];return Math.ceil(V.evaluate(R))}],"filter-==":[wn,[Gr,Mn],function(R,D){var V=D[0],te=D[1];return R.properties()[V.value]===te.value}],"filter-id-==":[wn,[Mn],function(R,D){var V=D[0];return R.id()===V.value}],"filter-type-==":[wn,[Gr],function(R,D){var V=D[0];return R.geometryType()===V.value}],"filter-<":[wn,[Gr,Mn],function(R,D){var V=D[0],te=D[1],he=R.properties()[V.value],be=te.value;return typeof he==typeof be&&he<be}],"filter-id-<":[wn,[Mn],function(R,D){var V=D[0],te=R.id(),he=V.value;return typeof te==typeof he&&te<he}],"filter->":[wn,[Gr,Mn],function(R,D){var V=D[0],te=D[1],he=R.properties()[V.value],be=te.value;return typeof he==typeof be&&he>be}],"filter-id->":[wn,[Mn],function(R,D){var V=D[0],te=R.id(),he=V.value;return typeof te==typeof he&&te>he}],"filter-<=":[wn,[Gr,Mn],function(R,D){var V=D[0],te=D[1],he=R.properties()[V.value],be=te.value;return typeof he==typeof be&&he<=be}],"filter-id-<=":[wn,[Mn],function(R,D){var V=D[0],te=R.id(),he=V.value;return typeof te==typeof he&&te<=he}],"filter->=":[wn,[Gr,Mn],function(R,D){var V=D[0],te=D[1],he=R.properties()[V.value],be=te.value;return typeof he==typeof be&&he>=be}],"filter-id->=":[wn,[Mn],function(R,D){var V=D[0],te=R.id(),he=V.value;return typeof te==typeof he&&te>=he}],"filter-has":[wn,[Mn],function(R,D){var V=D[0];return V.value in R.properties()}],"filter-has-id":[wn,[],function(R){return R.id()!==null&&R.id()!==void 0}],"filter-type-in":[wn,[ma(Gr)],function(R,D){var V=D[0];return V.value.indexOf(R.geometryType())>=0}],"filter-id-in":[wn,[ma(Mn)],function(R,D){var V=D[0];return V.value.indexOf(R.id())>=0}],"filter-in-small":[wn,[Gr,ma(Mn)],function(R,D){var V=D[0],te=D[1];return te.value.indexOf(R.properties()[V.value])>=0}],"filter-in-large":[wn,[Gr,ma(Mn)],function(R,D){var V=D[0],te=D[1];return mu(R.properties()[V.value],te.value,0,te.value.length-1)}],all:{type:wn,overloads:[[[wn,wn],function(R,D){var V=D[0],te=D[1];return V.evaluate(R)&&te.evaluate(R)}],[qo(wn),function(R,D){for(var V=0,te=D;V<te.length;V+=1){var he=te[V];if(!he.evaluate(R))return!1}return!0}]]},any:{type:wn,overloads:[[[wn,wn],function(R,D){var V=D[0],te=D[1];return V.evaluate(R)||te.evaluate(R)}],[qo(wn),function(R,D){for(var V=0,te=D;V<te.length;V+=1){var he=te[V];if(he.evaluate(R))return!0}return!1}]]},"!":[wn,[wn],function(R,D){var V=D[0];return!V.evaluate(R)}],"is-supported-script":[wn,[Gr],function(R,D){var V=D[0],te=R.globals&&R.globals.isSupportedScript;return te?te(V.evaluate(R)):!0}],upcase:[Gr,[Gr],function(R,D){var V=D[0];return V.evaluate(R).toUpperCase()}],downcase:[Gr,[Gr],function(R,D){var V=D[0];return V.evaluate(R).toLowerCase()}],concat:[Gr,qo(Mn),function(R,D){return D.map(function(V){return zl(V.evaluate(R))}).join("")}],"resolved-locale":[Gr,[fa],function(R,D){var V=D[0];return V.evaluate(R).resolvedLocale()}]});function xu(R){return{result:"success",value:R}}function ws(R){return{result:"error",value:R}}function Ts(R){return R["property-type"]==="data-driven"||R["property-type"]==="cross-faded-data-driven"}function tf(R){return!!R.expression&&R.expression.parameters.indexOf("zoom")>-1}function Ml(R){return!!R.expression&&R.expression.interpolated}function Si(R){return R instanceof Number?"number":R instanceof String?"string":R instanceof Boolean?"boolean":Array.isArray(R)?"array":R===null?"null":typeof R}function ul(R){return typeof R=="object"&&R!==null&&!Array.isArray(R)}function bu(R){return R}function wu(R,D){var V=D.type==="color",te=R.stops&&typeof R.stops[0][0]=="object",he=te||R.property!==void 0,be=te||!he,Ee=R.type||(Ml(D)?"exponential":"interval");if(V&&(R=xn({},R),R.stops&&(R.stops=R.stops.map(function(la){return[la[0],di.parse(la[1])]})),R.default?R.default=di.parse(R.default):R.default=di.parse(D.default)),R.colorSpace&&R.colorSpace!=="rgb"&&!Ku[R.colorSpace])throw new Error("Unknown color space: "+R.colorSpace);var je,ft,Tt;if(Ee==="exponential")je=El;else if(Ee==="interval")je=Wl;else if(Ee==="categorical"){je=jf,ft=Object.create(null);for(var Lt=0,Xt=R.stops;Lt<Xt.length;Lt+=1){var cr=Xt[Lt];ft[cr[0]]=cr[1]}Tt=typeof R.stops[0][0]}else if(Ee==="identity")je=Yl;else throw new Error('Unknown function type "'+Ee+'"');if(te){for(var nr={},Tr=[],jr=0;jr<R.stops.length;jr++){var vn=R.stops[jr],ln=vn[0].zoom;nr[ln]===void 0&&(nr[ln]={zoom:ln,type:R.type,property:R.property,default:R.default,stops:[]},Tr.push(ln)),nr[ln].stops.push([vn[0].value,vn[1]])}for(var Fn=[],En=0,_n=Tr;En<_n.length;En+=1){var Wn=_n[En];Fn.push([nr[Wn].zoom,wu(nr[Wn],D)])}var ea={name:"linear"};return{kind:"composite",interpolationType:ea,interpolationFactor:ji.interpolationFactor.bind(void 0,ea),zoomStops:Fn.map(function(la){return la[0]}),evaluate:function(Ba,La){var Ia=Ba.zoom;return El({stops:Fn,base:R.base},D,Ia).evaluate(Ia,La)}}}else if(be){var ha=Ee==="exponential"?{name:"exponential",base:R.base!==void 0?R.base:1}:null;return{kind:"camera",interpolationType:ha,interpolationFactor:ji.interpolationFactor.bind(void 0,ha),zoomStops:R.stops.map(function(la){return la[0]}),evaluate:function(la){var Ba=la.zoom;return je(R,D,Ba,ft,Tt)}}}else return{kind:"source",evaluate:function(Ba,La){var Ia=La&&La.properties?La.properties[R.property]:void 0;return Ia===void 0?Hs(R.default,D.default):je(R,D,Ia,ft,Tt)}}}function Hs(R,D,V){if(R!==void 0)return R;if(D!==void 0)return D;if(V!==void 0)return V}function jf(R,D,V,te,he){var be=typeof V===he?te[V]:void 0;return Hs(be,R.default,D.default)}function Wl(R,D,V){if(Si(V)!=="number")return Hs(R.default,D.default);var te=R.stops.length;if(te===1||V<=R.stops[0][0])return R.stops[0][1];if(V>=R.stops[te-1][0])return R.stops[te-1][1];var he=xs(R.stops.map(function(be){return be[0]}),V);return R.stops[he][1]}function El(R,D,V){var te=R.base!==void 0?R.base:1;if(Si(V)!=="number")return Hs(R.default,D.default);var he=R.stops.length;if(he===1||V<=R.stops[0][0])return R.stops[0][1];if(V>=R.stops[he-1][0])return R.stops[he-1][1];var be=xs(R.stops.map(function(Xt){return Xt[0]}),V),Ee=Tu(V,te,R.stops[be][0],R.stops[be+1][0]),je=R.stops[be][1],ft=R.stops[be+1][1],Tt=Tl[D.type]||bu;if(R.colorSpace&&R.colorSpace!=="rgb"){var Lt=Ku[R.colorSpace];Tt=function(Xt,cr){return Lt.reverse(Lt.interpolate(Lt.forward(Xt),Lt.forward(cr),Ee))}}return typeof je.evaluate=="function"?{evaluate:function(){for(var cr=[],nr=arguments.length;nr--;)cr[nr]=arguments[nr];var Tr=je.evaluate.apply(void 0,cr),jr=ft.evaluate.apply(void 0,cr);if(!(Tr===void 0||jr===void 0))return Tt(Tr,jr,Ee)}}:Tt(je,ft,Ee)}function Yl(R,D,V){return D.type==="color"?V=di.parse(V):D.type==="formatted"?V=qi.fromString(V.toString()):D.type==="resolvedImage"?V=wo.fromString(V.toString()):Si(V)!==D.type&&(D.type!=="enum"||!D.values[V])&&(V=void 0),Hs(V,R.default,D.default)}function Tu(R,D,V,te){var he=te-V,be=R-V;return he===0?0:D===1?be/he:(Math.pow(D,be)-1)/(Math.pow(D,he)-1)}var es=function(D,V){this.expression=D,this._warningHistory={},this._evaluator=new is,this._defaultValue=V?Mf(V):null,this._enumValues=V&&V.type==="enum"?V.values:null};es.prototype.evaluateWithoutErrorHandling=function(D,V,te,he,be,Ee){return this._evaluator.globals=D,this._evaluator.feature=V,this._evaluator.featureState=te,this._evaluator.canonical=he,this._evaluator.availableImages=be||null,this._evaluator.formattedSection=Ee,this.expression.evaluate(this._evaluator)},es.prototype.evaluate=function(D,V,te,he,be,Ee){this._evaluator.globals=D,this._evaluator.feature=V||null,this._evaluator.featureState=te||null,this._evaluator.canonical=he,this._evaluator.availableImages=be||null,this._evaluator.formattedSection=Ee||null;try{var je=this.expression.evaluate(this._evaluator);if(je==null||typeof je=="number"&&je!==je)return this._defaultValue;if(this._enumValues&&!(je in this._enumValues))throw new Ji("Expected value to be one of "+Object.keys(this._enumValues).map(function(ft){return JSON.stringify(ft)}).join(", ")+", but found "+JSON.stringify(je)+" instead.");return je}catch(ft){return this._warningHistory[ft.message]||(this._warningHistory[ft.message]=!0,typeof console<"u"&&console.warn(ft.message)),this._defaultValue}};function As(R){return Array.isArray(R)&&R.length>0&&typeof R[0]=="string"&&R[0]in Ao}function Gs(R,D){var V=new Jo(Ao,[],D?Ll(D):void 0),te=V.parse(R,void 0,void 0,void 0,D&&D.type==="string"?{typeAnnotation:"coerce"}:void 0);return te?xu(new es(te,D)):ws(V.errors)}var fl=function(D,V){this.kind=D,this._styleExpression=V,this.isStateDependent=D!=="constant"&&!Nl(V.expression)};fl.prototype.evaluateWithoutErrorHandling=function(D,V,te,he,be,Ee){return this._styleExpression.evaluateWithoutErrorHandling(D,V,te,he,be,Ee)},fl.prototype.evaluate=function(D,V,te,he,be,Ee){return this._styleExpression.evaluate(D,V,te,he,be,Ee)};var Oo=function(D,V,te,he){this.kind=D,this.zoomStops=te,this._styleExpression=V,this.isStateDependent=D!=="camera"&&!Nl(V.expression),this.interpolationType=he};Oo.prototype.evaluateWithoutErrorHandling=function(D,V,te,he,be,Ee){return this._styleExpression.evaluateWithoutErrorHandling(D,V,te,he,be,Ee)},Oo.prototype.evaluate=function(D,V,te,he,be,Ee){return this._styleExpression.evaluate(D,V,te,he,be,Ee)},Oo.prototype.interpolationFactor=function(D,V,te){return this.interpolationType?ji.interpolationFactor(this.interpolationType,D,V,te):0};function No(R,D){if(R=Gs(R,D),R.result==="error")return R;var V=R.value.expression,te=rl(V);if(!te&&!Ts(D))return ws([new Pn("","data expressions not supported")]);var he=bl(V,["zoom"]);if(!he&&!tf(D))return ws([new Pn("","zoom expressions not supported")]);var be=Cl(V);if(!be&&!he)return ws([new Pn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(be instanceof Pn)return ws([be]);if(be instanceof ji&&!Ml(D))return ws([new Pn("",'"interpolate" expressions cannot be used with this property')]);if(!be)return xu(te?new fl("constant",R.value):new fl("source",R.value));var Ee=be instanceof ji?be.interpolation:void 0;return xu(te?new Oo("camera",R.value,be.labels,Ee):new Oo("composite",R.value,be.labels,Ee))}var lo=function(D,V){this._parameters=D,this._specification=V,xn(this,wu(this._parameters,this._specification))};lo.deserialize=function(D){return new lo(D._parameters,D._specification)},lo.serialize=function(D){return{_parameters:D._parameters,_specification:D._specification}};function cl(R,D){if(ul(R))return new lo(R,D);if(As(R)){var V=No(R,D);if(V.result==="error")throw new Error(V.value.map(function(he){return he.key+": "+he.message}).join(", "));return V.value}else{var te=R;return typeof R=="string"&&D.type==="color"&&(te=di.parse(R)),{kind:"constant",evaluate:function(){return te}}}}function Cl(R){var D=null;if(R instanceof bs)D=Cl(R.result);else if(R instanceof Fo)for(var V=0,te=R.args;V<te.length;V+=1){var he=te[V];if(D=Cl(he),D)break}else(R instanceof Fs||R instanceof ji)&&R.input instanceof io&&R.input.name==="zoom"&&(D=R);return D instanceof Pn||R.eachChild(function(be){var Ee=Cl(be);Ee instanceof Pn?D=Ee:!D&&Ee?D=new Pn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):D&&Ee&&D!==Ee&&(D=new Pn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),D}function Ll(R){var D={color:Yn,string:Gr,number:_r,enum:Gr,boolean:wn,formatted:Ta,resolvedImage:ba};return R.type==="array"?ma(D[R.value]||Mn,R.length):D[R.type]}function Mf(R){return R.type==="color"&&ul(R.default)?new di(0,0,0,0):R.type==="color"?di.parse(R.default)||null:R.default===void 0?null:R.default}function So(R){var D=R.key,V=R.value,te=R.valueSpec||{},he=R.objectElementValidators||{},be=R.style,Ee=R.styleSpec,je=[],ft=Si(V);if(ft!=="object")return[new Mr(D,V,"object expected, "+ft+" found")];for(var Tt in V){var Lt=Tt.split(".")[0],Xt=te[Lt]||te["*"],cr=void 0;if(he[Lt])cr=he[Lt];else if(te[Lt])cr=sr;else if(he["*"])cr=he["*"];else if(te["*"])cr=sr;else{je.push(new Mr(D,V[Tt],'unknown property "'+Tt+'"'));continue}je=je.concat(cr({key:(D&&D+".")+Tt,value:V[Tt],valueSpec:Xt,style:be,styleSpec:Ee,object:V,objectKey:Tt},V))}for(var nr in te)he[nr]||te[nr].required&&te[nr].default===void 0&&V[nr]===void 0&&je.push(new Mr(D,V,'missing required property "'+nr+'"'));return je}function rf(R){var D=R.value,V=R.valueSpec,te=R.style,he=R.styleSpec,be=R.key,Ee=R.arrayElementValidator||sr;if(Si(D)!=="array")return[new Mr(be,D,"array expected, "+Si(D)+" found")];if(V.length&&D.length!==V.length)return[new Mr(be,D,"array length "+V.length+" expected, length "+D.length+" found")];if(V["min-length"]&&D.length<V["min-length"])return[new Mr(be,D,"array length at least "+V["min-length"]+" expected, length "+D.length+" found")];var je={type:V.value,values:V.values};he.$version<7&&(je.function=V.function),Si(V.value)==="object"&&(je=V.value);for(var ft=[],Tt=0;Tt<D.length;Tt++)ft=ft.concat(Ee({array:D,arrayIndex:Tt,value:D[Tt],valueSpec:je,style:te,styleSpec:he,key:be+"["+Tt+"]"}));return ft}function Ws(R){var D=R.key,V=R.value,te=R.valueSpec,he=Si(V);return he==="number"&&V!==V&&(he="NaN"),he!=="number"?[new Mr(D,V,"number expected, "+he+" found")]:"minimum"in te&&V<te.minimum?[new Mr(D,V,V+" is less than the minimum value "+te.minimum)]:"maximum"in te&&V>te.maximum?[new Mr(D,V,V+" is greater than the maximum value "+te.maximum)]:[]}function Zl(R){var D=R.valueSpec,V=bn(R.value.type),te,he={},be,Ee,je=V!=="categorical"&&R.value.property===void 0,ft=!je,Tt=Si(R.value.stops)==="array"&&Si(R.value.stops[0])==="array"&&Si(R.value.stops[0][0])==="object",Lt=So({key:R.key,value:R.value,valueSpec:R.styleSpec.function,style:R.style,styleSpec:R.styleSpec,objectElementValidators:{stops:Xt,default:Tr}});return V==="identity"&&je&&Lt.push(new Mr(R.key,R.value,'missing required property "property"')),V!=="identity"&&!R.value.stops&&Lt.push(new Mr(R.key,R.value,'missing required property "stops"')),V==="exponential"&&R.valueSpec.expression&&!Ml(R.valueSpec)&&Lt.push(new Mr(R.key,R.value,"exponential functions not supported")),R.styleSpec.$version>=8&&(ft&&!Ts(R.valueSpec)?Lt.push(new Mr(R.key,R.value,"property functions not supported")):je&&!tf(R.valueSpec)&&Lt.push(new Mr(R.key,R.value,"zoom functions not supported"))),(V==="categorical"||Tt)&&R.value.property===void 0&&Lt.push(new Mr(R.key,R.value,'"property" property is required')),Lt;function Xt(jr){if(V==="identity")return[new Mr(jr.key,jr.value,'identity function may not have a "stops" property')];var vn=[],ln=jr.value;return vn=vn.concat(rf({key:jr.key,value:ln,valueSpec:jr.valueSpec,style:jr.style,styleSpec:jr.styleSpec,arrayElementValidator:cr})),Si(ln)==="array"&&ln.length===0&&vn.push(new Mr(jr.key,ln,"array must have at least one stop")),vn}function cr(jr){var vn=[],ln=jr.value,Fn=jr.key;if(Si(ln)!=="array")return[new Mr(Fn,ln,"array expected, "+Si(ln)+" found")];if(ln.length!==2)return[new Mr(Fn,ln,"array length 2 expected, length "+ln.length+" found")];if(Tt){if(Si(ln[0])!=="object")return[new Mr(Fn,ln,"object expected, "+Si(ln[0])+" found")];if(ln[0].zoom===void 0)return[new Mr(Fn,ln,"object stop key must have zoom")];if(ln[0].value===void 0)return[new Mr(Fn,ln,"object stop key must have value")];if(Ee&&Ee>bn(ln[0].zoom))return[new Mr(Fn,ln[0].zoom,"stop zoom values must appear in ascending order")];bn(ln[0].zoom)!==Ee&&(Ee=bn(ln[0].zoom),be=void 0,he={}),vn=vn.concat(So({key:Fn+"[0]",value:ln[0],valueSpec:{zoom:{}},style:jr.style,styleSpec:jr.styleSpec,objectElementValidators:{zoom:Ws,value:nr}}))}else vn=vn.concat(nr({key:Fn+"[0]",value:ln[0],valueSpec:{},style:jr.style,styleSpec:jr.styleSpec},ln));return As(Nn(ln[1]))?vn.concat([new Mr(Fn+"[1]",ln[1],"expressions are not allowed in function stops.")]):vn.concat(sr({key:Fn+"[1]",value:ln[1],valueSpec:D,style:jr.style,styleSpec:jr.styleSpec}))}function nr(jr,vn){var ln=Si(jr.value),Fn=bn(jr.value),En=jr.value!==null?jr.value:vn;if(!te)te=ln;else if(ln!==te)return[new Mr(jr.key,En,ln+" stop domain type must match previous stop domain type "+te)];if(ln!=="number"&&ln!=="string"&&ln!=="boolean")return[new Mr(jr.key,En,"stop domain value must be a number, string, or boolean")];if(ln!=="number"&&V!=="categorical"){var _n="number expected, "+ln+" found";return Ts(D)&&V===void 0&&(_n+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Mr(jr.key,En,_n)]}return V==="categorical"&&ln==="number"&&(!isFinite(Fn)||Math.floor(Fn)!==Fn)?[new Mr(jr.key,En,"integer expected, found "+Fn)]:V!=="categorical"&&ln==="number"&&be!==void 0&&Fn<be?[new Mr(jr.key,En,"stop domain values must appear in ascending order")]:(be=Fn,V==="categorical"&&Fn in he?[new Mr(jr.key,En,"stop domain values must be unique")]:(he[Fn]=!0,[]))}function Tr(jr){return sr({key:jr.key,value:jr.value,valueSpec:D,style:jr.style,styleSpec:jr.styleSpec})}}function Ss(R){var D=(R.expressionContext==="property"?No:Gs)(Nn(R.value),R.valueSpec);if(D.result==="error")return D.value.map(function(te){return new Mr(""+R.key+te.key,R.value,te.message)});var V=D.value.expression||D.value._styleExpression.expression;if(R.expressionContext==="property"&&R.propertyKey==="text-font"&&!V.outputDefined())return[new Mr(R.key,R.value,'Invalid data expression for "'+R.propertyKey+'". Output values must be contained as literals within the expression.')];if(R.expressionContext==="property"&&R.propertyType==="layout"&&!Nl(V))return[new Mr(R.key,R.value,'"feature-state" data expressions are not supported with layout properties.')];if(R.expressionContext==="filter"&&!Nl(V))return[new Mr(R.key,R.value,'"feature-state" data expressions are not supported with filters.')];if(R.expressionContext&&R.expressionContext.indexOf("cluster")===0){if(!bl(V,["zoom","feature-state"]))return[new Mr(R.key,R.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(R.expressionContext==="cluster-initial"&&!rl(V))return[new Mr(R.key,R.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function nf(R){var D=R.value,V=R.key,te=Si(D);return te!=="boolean"?[new Mr(V,D,"boolean expected, "+te+" found")]:[]}function Uo(R){var D=R.key,V=R.value,te=Si(V);return te!=="string"?[new Mr(D,V,"color expected, "+te+" found")]:zu(V)===null?[new Mr(D,V,'color expected, "'+V+'" found')]:[]}function ts(R){var D=R.key,V=R.value,te=R.valueSpec,he=[];return Array.isArray(te.values)?te.values.indexOf(bn(V))===-1&&he.push(new Mr(D,V,"expected one of ["+te.values.join(", ")+"], "+JSON.stringify(V)+" found")):Object.keys(te.values).indexOf(bn(V))===-1&&he.push(new Mr(D,V,"expected one of ["+Object.keys(te.values).join(", ")+"], "+JSON.stringify(V)+" found")),he}function Gi(R){if(R===!0||R===!1)return!0;if(!Array.isArray(R)||R.length===0)return!1;switch(R[0]){case"has":return R.length>=2&&R[1]!=="$id"&&R[1]!=="$type";case"in":return R.length>=3&&(typeof R[1]!="string"||Array.isArray(R[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return R.length!==3||Array.isArray(R[1])||Array.isArray(R[2]);case"any":case"all":for(var D=0,V=R.slice(1);D<V.length;D+=1){var te=V[D];if(!Gi(te)&&typeof te!="boolean")return!1}return!0;default:return!0}}var Ef={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Xl(R){if(R==null)return{filter:function(){return!0},needGeometry:!1};Gi(R)||(R=Ys(R));var D=Gs(R,Ef);if(D.result==="error")throw new Error(D.value.map(function(te){return te.key+": "+te.message}).join(", "));var V=jl(R);return{filter:function(te,he,be){return D.value.evaluate(te,he,{},be)},needGeometry:V}}function ls(R,D){return R<D?-1:R>D?1:0}function jl(R){if(!Array.isArray(R))return!1;if(R[0]==="within")return!0;for(var D=1;D<R.length;D++)if(jl(R[D]))return!0;return!1}function Ys(R){if(!R)return!0;var D=R[0];if(R.length<=1)return D!=="any";var V=D==="=="?Au(R[1],R[2],"=="):D==="!="?Ms(Au(R[1],R[2],"==")):D==="<"||D===">"||D==="<="||D===">="?Au(R[1],R[2],D):D==="any"?Cf(R.slice(1)):D==="all"?["all"].concat(R.slice(1).map(Ys)):D==="none"?["all"].concat(R.slice(1).map(Ys).map(Ms)):D==="in"?af(R[1],R.slice(2)):D==="!in"?Ms(af(R[1],R.slice(2))):D==="has"?of(R[1]):D==="!has"?Ms(of(R[1])):D==="within"?R:!0;return V}function Au(R,D,V){switch(R){case"$type":return["filter-type-"+V,D];case"$id":return["filter-id-"+V,D];default:return["filter-"+V,R,D]}}function Cf(R){return["any"].concat(R.map(Ys))}function af(R,D){if(D.length===0)return!1;switch(R){case"$type":return["filter-type-in",["literal",D]];case"$id":return["filter-id-in",["literal",D]];default:return D.length>200&&!D.some(function(V){return typeof V!=typeof D[0]})?["filter-in-large",R,["literal",D.sort(ls)]]:["filter-in-small",R,["literal",D]]}}function of(R){switch(R){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",R]}}function Ms(R){return["!",R]}function Su(R){return Gi(Nn(R.value))?Ss(xn({},R,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Kl(R)}function Kl(R){var D=R.value,V=R.key;if(Si(D)!=="array")return[new Mr(V,D,"array expected, "+Si(D)+" found")];var te=R.styleSpec,he,be=[];if(D.length<1)return[new Mr(V,D,"filter array must have at least 1 element")];switch(be=be.concat(ts({key:V+"[0]",value:D[0],valueSpec:te.filter_operator,style:R.style,styleSpec:R.styleSpec})),bn(D[0])){case"<":case"<=":case">":case">=":D.length>=2&&bn(D[1])==="$type"&&be.push(new Mr(V,D,'"$type" cannot be use with operator "'+D[0]+'"'));case"==":case"!=":D.length!==3&&be.push(new Mr(V,D,'filter array for operator "'+D[0]+'" must have 3 elements'));case"in":case"!in":D.length>=2&&(he=Si(D[1]),he!=="string"&&be.push(new Mr(V+"[1]",D[1],"string expected, "+he+" found")));for(var Ee=2;Ee<D.length;Ee++)he=Si(D[Ee]),bn(D[1])==="$type"?be=be.concat(ts({key:V+"["+Ee+"]",value:D[Ee],valueSpec:te.geometry_type,style:R.style,styleSpec:R.styleSpec})):he!=="string"&&he!=="number"&&he!=="boolean"&&be.push(new Mr(V+"["+Ee+"]",D[Ee],"string, number, or boolean expected, "+he+" found"));break;case"any":case"all":case"none":for(var je=1;je<D.length;je++)be=be.concat(Kl({key:V+"["+je+"]",value:D[je],style:R.style,styleSpec:R.styleSpec}));break;case"has":case"!has":he=Si(D[1]),D.length!==2?be.push(new Mr(V,D,'filter array for "'+D[0]+'" operator must have 2 elements')):he!=="string"&&be.push(new Mr(V+"[1]",D[1],"string expected, "+he+" found"));break;case"within":he=Si(D[1]),D.length!==2?be.push(new Mr(V,D,'filter array for "'+D[0]+'" operator must have 2 elements')):he!=="object"&&be.push(new Mr(V+"[1]",D[1],"object expected, "+he+" found"));break}return be}function Lf(R,D){var V=R.key,te=R.style,he=R.styleSpec,be=R.value,Ee=R.objectKey,je=he[D+"_"+R.layerType];if(!je)return[];var ft=Ee.match(/^(.*)-transition$/);if(D==="paint"&&ft&&je[ft[1]]&&je[ft[1]].transition)return sr({key:V,value:be,valueSpec:he.transition,style:te,styleSpec:he});var Tt=R.valueSpec||je[Ee];if(!Tt)return[new Mr(V,be,'unknown property "'+Ee+'"')];var Lt;if(Si(be)==="string"&&Ts(Tt)&&!Tt.tokens&&(Lt=/^{([^}]+)}$/.exec(be)))return[new Mr(V,be,'"'+Ee+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Lt[1])+" }`.")];var Xt=[];return R.layerType==="symbol"&&(Ee==="text-field"&&te&&!te.glyphs&&Xt.push(new Mr(V,be,'use of "text-field" requires a style "glyphs" property')),Ee==="text-font"&&ul(Nn(be))&&bn(be.type)==="identity"&&Xt.push(new Mr(V,be,'"text-font" does not support identity functions'))),Xt.concat(sr({key:R.key,value:be,valueSpec:Tt,style:te,styleSpec:he,expressionContext:"property",propertyType:D,propertyKey:Ee}))}function Jl(R){return Lf(R,"paint")}function Pf(R){return Lf(R,"layout")}function Ze(R){var D=[],V=R.value,te=R.key,he=R.style,be=R.styleSpec;!V.type&&!V.ref&&D.push(new Mr(te,V,'either "type" or "ref" is required'));var Ee=bn(V.type),je=bn(V.ref);if(V.id)for(var ft=bn(V.id),Tt=0;Tt<R.arrayIndex;Tt++){var Lt=he.layers[Tt];bn(Lt.id)===ft&&D.push(new Mr(te,V.id,'duplicate layer id "'+V.id+'", previously used at line '+Lt.id.__line__))}if("ref"in V){["type","source","source-layer","filter","layout"].forEach(function(Tr){Tr in V&&D.push(new Mr(te,V[Tr],'"'+Tr+'" is prohibited for ref layers'))});var Xt;he.layers.forEach(function(Tr){bn(Tr.id)===je&&(Xt=Tr)}),Xt?Xt.ref?D.push(new Mr(te,V.ref,"ref cannot reference another ref layer")):Ee=bn(Xt.type):D.push(new Mr(te,V.ref,'ref layer "'+je+'" not found'))}else if(Ee!=="background")if(!V.source)D.push(new Mr(te,V,'missing required property "source"'));else{var cr=he.sources&&he.sources[V.source],nr=cr&&bn(cr.type);cr?nr==="vector"&&Ee==="raster"?D.push(new Mr(te,V.source,'layer "'+V.id+'" requires a raster source')):nr==="raster"&&Ee!=="raster"?D.push(new Mr(te,V.source,'layer "'+V.id+'" requires a vector source')):nr==="vector"&&!V["source-layer"]?D.push(new Mr(te,V,'layer "'+V.id+'" must specify a "source-layer"')):nr==="raster-dem"&&Ee!=="hillshade"?D.push(new Mr(te,V.source,"raster-dem source can only be used with layer type 'hillshade'.")):Ee==="line"&&V.paint&&V.paint["line-gradient"]&&(nr!=="geojson"||!cr.lineMetrics)&&D.push(new Mr(te,V,'layer "'+V.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):D.push(new Mr(te,V.source,'source "'+V.source+'" not found'))}return D=D.concat(So({key:te,value:V,valueSpec:be.layer,style:R.style,styleSpec:R.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return sr({key:te+".type",value:V.type,valueSpec:be.layer.type,style:R.style,styleSpec:R.styleSpec,object:V,objectKey:"type"})},filter:Su,layout:function(jr){return So({layer:V,key:jr.key,value:jr.value,style:jr.style,styleSpec:jr.styleSpec,objectElementValidators:{"*":function(ln){return Pf(xn({layerType:Ee},ln))}}})},paint:function(jr){return So({layer:V,key:jr.key,value:jr.value,style:jr.style,styleSpec:jr.styleSpec,objectElementValidators:{"*":function(ln){return Jl(xn({layerType:Ee},ln))}}})}}})),D}function et(R){var D=R.value,V=R.key,te=Si(D);return te!=="string"?[new Mr(V,D,"string expected, "+te+" found")]:[]}var ht={promoteId:zt};function yt(R){var D=R.value,V=R.key,te=R.styleSpec,he=R.style;if(!D.type)return[new Mr(V,D,'"type" is required')];var be=bn(D.type),Ee;switch(be){case"vector":case"raster":case"raster-dem":return Ee=So({key:V,value:D,valueSpec:te["source_"+be.replace("-","_")],style:R.style,styleSpec:te,objectElementValidators:ht}),Ee;case"geojson":if(Ee=So({key:V,value:D,valueSpec:te.source_geojson,style:he,styleSpec:te,objectElementValidators:ht}),D.cluster)for(var je in D.clusterProperties){var ft=D.clusterProperties[je],Tt=ft[0],Lt=ft[1],Xt=typeof Tt=="string"?[Tt,["accumulated"],["get",je]]:Tt;Ee.push.apply(Ee,Ss({key:V+"."+je+".map",value:Lt,expressionContext:"cluster-map"})),Ee.push.apply(Ee,Ss({key:V+"."+je+".reduce",value:Xt,expressionContext:"cluster-reduce"}))}return Ee;case"video":return So({key:V,value:D,valueSpec:te.source_video,style:he,styleSpec:te});case"image":return So({key:V,value:D,valueSpec:te.source_image,style:he,styleSpec:te});case"canvas":return[new Mr(V,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ts({key:V+".type",value:D.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:he,styleSpec:te})}}function zt(R){var D=R.key,V=R.value;if(Si(V)==="string")return et({key:D,value:V});var te=[];for(var he in V)te.push.apply(te,et({key:D+"."+he,value:V[he]}));return te}function It(R){var D=R.value,V=R.styleSpec,te=V.light,he=R.style,be=[],Ee=Si(D);if(D===void 0)return be;if(Ee!=="object")return be=be.concat([new Mr("light",D,"object expected, "+Ee+" found")]),be;for(var je in D){var ft=je.match(/^(.*)-transition$/);ft&&te[ft[1]]&&te[ft[1]].transition?be=be.concat(sr({key:je,value:D[je],valueSpec:V.transition,style:he,styleSpec:V})):te[je]?be=be.concat(sr({key:je,value:D[je],valueSpec:te[je],style:he,styleSpec:V})):be=be.concat([new Mr(je,D[je],'unknown property "'+je+'"')])}return be}function Ut(R){return et(R).length===0?[]:Ss(R)}function dr(R){return et(R).length===0?[]:Ss(R)}var br={"*":function(){return[]},array:rf,boolean:nf,number:Ws,color:Uo,constants:hn,enum:ts,filter:Su,function:Zl,layer:Ze,object:So,source:yt,light:It,string:et,formatted:Ut,resolvedImage:dr};function sr(R){var D=R.value,V=R.valueSpec,te=R.styleSpec;if(V.expression&&ul(bn(D)))return Zl(R);if(V.expression&&As(Nn(D)))return Ss(R);if(V.type&&br[V.type])return br[V.type](R);var he=So(xn({},R,{valueSpec:V.type?te[V.type]:V}));return he}function Er(R){var D=R.value,V=R.key,te=et(R);return te.length||(D.indexOf("{fontstack}")===-1&&te.push(new Mr(V,D,'"glyphs" url must include a "{fontstack}" token')),D.indexOf("{range}")===-1&&te.push(new Mr(V,D,'"glyphs" url must include a "{range}" token'))),te}function Fr(R,D){D===void 0&&(D=Jt);var V=[];return V=V.concat(sr({key:"",value:R,valueSpec:D.$root,styleSpec:D,style:R,objectElementValidators:{glyphs:Er,"*":function(){return[]}}})),R.constants&&(V=V.concat(hn({key:"constants",value:R.constants,style:R,styleSpec:D}))),Qr(V)}Fr.source=on(yt),Fr.light=on(It),Fr.layer=on(Ze),Fr.filter=on(Su),Fr.paintProperty=on(Jl),Fr.layoutProperty=on(Pf);function Qr(R){return[].concat(R).sort(function(D,V){return D.line-V.line})}function on(R){return function(){for(var D=[],V=arguments.length;V--;)D[V]=arguments[V];return Qr(R.apply(this,D))}}var Sn=Fr,Cn=Sn.light,Vn=Sn.paintProperty,Sa=Sn.layoutProperty;function Da(R,D){var V=!1;if(D&&D.length)for(var te=0,he=D;te<he.length;te+=1){var be=he[te];R.fire(new or(new Error(be.message))),V=!0}return V}var Ca=Wa,Va=3;function Wa(R,D,V){var te=this.cells=[];if(R instanceof ArrayBuffer){this.arrayBuffer=R;var he=new Int32Array(this.arrayBuffer);R=he[0],D=he[1],V=he[2],this.d=D+2*V;for(var be=0;be<this.d*this.d;be++){var Ee=he[Va+be],je=he[Va+be+1];te.push(Ee===je?null:he.subarray(Ee,je))}var ft=he[Va+te.length],Tt=he[Va+te.length+1];this.keys=he.subarray(ft,Tt),this.bboxes=he.subarray(Tt),this.insert=this._insertReadonly}else{this.d=D+2*V;for(var Lt=0;Lt<this.d*this.d;Lt++)te.push([]);this.keys=[],this.bboxes=[]}this.n=D,this.extent=R,this.padding=V,this.scale=D/R,this.uid=0;var Xt=V/D*R;this.min=-Xt,this.max=R+Xt}Wa.prototype.insert=function(R,D,V,te,he){this._forEachCell(D,V,te,he,this._insertCell,this.uid++),this.keys.push(R),this.bboxes.push(D),this.bboxes.push(V),this.bboxes.push(te),this.bboxes.push(he)},Wa.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Wa.prototype._insertCell=function(R,D,V,te,he,be){this.cells[he].push(be)},Wa.prototype.query=function(R,D,V,te,he){var be=this.min,Ee=this.max;if(R<=be&&D<=be&&Ee<=V&&Ee<=te&&!he)return Array.prototype.slice.call(this.keys);var je=[],ft={};return this._forEachCell(R,D,V,te,this._queryCell,je,ft,he),je},Wa.prototype._queryCell=function(R,D,V,te,he,be,Ee,je){var ft=this.cells[he];if(ft!==null)for(var Tt=this.keys,Lt=this.bboxes,Xt=0;Xt<ft.length;Xt++){var cr=ft[Xt];if(Ee[cr]===void 0){var nr=cr*4;(je?je(Lt[nr+0],Lt[nr+1],Lt[nr+2],Lt[nr+3]):R<=Lt[nr+2]&&D<=Lt[nr+3]&&V>=Lt[nr+0]&&te>=Lt[nr+1])?(Ee[cr]=!0,be.push(Tt[cr])):Ee[cr]=!1}}},Wa.prototype._forEachCell=function(R,D,V,te,he,be,Ee,je){for(var ft=this._convertToCellCoord(R),Tt=this._convertToCellCoord(D),Lt=this._convertToCellCoord(V),Xt=this._convertToCellCoord(te),cr=ft;cr<=Lt;cr++)for(var nr=Tt;nr<=Xt;nr++){var Tr=this.d*nr+cr;if(!(je&&!je(this._convertFromCellCoord(cr),this._convertFromCellCoord(nr),this._convertFromCellCoord(cr+1),this._convertFromCellCoord(nr+1)))&&he.call(this,R,D,V,te,Tr,be,Ee,je))return}},Wa.prototype._convertFromCellCoord=function(R){return(R-this.padding)/this.scale},Wa.prototype._convertToCellCoord=function(R){return Math.max(0,Math.min(this.d-1,Math.floor(R*this.scale)+this.padding))},Wa.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var R=this.cells,D=Va+this.cells.length+1+1,V=0,te=0;te<this.cells.length;te++)V+=this.cells[te].length;var he=new Int32Array(D+V+this.keys.length+this.bboxes.length);he[0]=this.extent,he[1]=this.n,he[2]=this.padding;for(var be=D,Ee=0;Ee<R.length;Ee++){var je=R[Ee];he[Va+Ee]=be,he.set(je,be),be+=je.length}return he[Va+R.length]=be,he.set(this.keys,be),be+=this.keys.length,he[Va+R.length+1]=be,he.set(this.bboxes,be),be+=this.bboxes.length,he.buffer};var pi=self.ImageData,Oi=self.ImageBitmap,Mi={};function le(R,D,V){V===void 0&&(V={}),Object.defineProperty(D,"_classRegistryKey",{value:R,writeable:!1}),Mi[R]={klass:D,omit:V.omit||[],shallow:V.shallow||[]}}le("Object",Object),Ca.serialize=function(D,V){var te=D.toArrayBuffer();return V&&V.push(te),{buffer:te}},Ca.deserialize=function(D){return new Ca(D.buffer)},le("Grid",Ca),le("Color",di),le("Error",Error),le("ResolvedImage",wo),le("StylePropertyFunction",lo),le("StyleExpression",es,{omit:["_evaluator"]}),le("ZoomDependentExpression",Oo),le("ZoomConstantExpression",fl),le("CompoundExpression",io,{omit:["_evaluate"]});for(var Se in Ao)Ao[Se]._classRegistryKey||le("Expression_"+Se,Ao[Se]);function Be(R){return R&&typeof ArrayBuffer<"u"&&(R instanceof ArrayBuffer||R.constructor&&R.constructor.name==="ArrayBuffer")}function Ke(R){return Oi&&R instanceof Oi}function $e(R,D){if(R==null||typeof R=="boolean"||typeof R=="number"||typeof R=="string"||R instanceof Boolean||R instanceof Number||R instanceof String||R instanceof Date||R instanceof RegExp)return R;if(Be(R)||Ke(R))return D&&D.push(R),R;if(ArrayBuffer.isView(R)){var V=R;return D&&D.push(V.buffer),V}if(R instanceof pi)return D&&D.push(R.data.buffer),R;if(Array.isArray(R)){for(var te=[],he=0,be=R;he<be.length;he+=1){var Ee=be[he];te.push($e(Ee,D))}return te}if(typeof R=="object"){var je=R.constructor,ft=je._classRegistryKey;if(!ft)throw new Error("can't serialize object of unregistered class");var Tt=je.serialize?je.serialize(R,D):{};if(!je.serialize){for(var Lt in R)if(R.hasOwnProperty(Lt)&&!(Mi[ft].omit.indexOf(Lt)>=0)){var Xt=R[Lt];Tt[Lt]=Mi[ft].shallow.indexOf(Lt)>=0?Xt:$e(Xt,D)}R instanceof Error&&(Tt.message=R.message)}if(Tt.$name)throw new Error("$name property is reserved for worker serialization logic.");return ft!=="Object"&&(Tt.$name=ft),Tt}throw new Error("can't serialize object of type "+typeof R)}function nt(R){if(R==null||typeof R=="boolean"||typeof R=="number"||typeof R=="string"||R instanceof Boolean||R instanceof Number||R instanceof String||R instanceof Date||R instanceof RegExp||Be(R)||Ke(R)||ArrayBuffer.isView(R)||R instanceof pi)return R;if(Array.isArray(R))return R.map(nt);if(typeof R=="object"){var D=R.$name||"Object",V=Mi[D],te=V.klass;if(!te)throw new Error("can't deserialize unregistered class "+D);if(te.deserialize)return te.deserialize(R);for(var he=Object.create(te.prototype),be=0,Ee=Object.keys(R);be<Ee.length;be+=1){var je=Ee[be];if(je!=="$name"){var ft=R[je];he[je]=Mi[D].shallow.indexOf(je)>=0?ft:nt(ft)}}return he}throw new Error("can't deserialize object of type "+typeof R)}var kt=function(){this.first=!0};kt.prototype.update=function(D,V){var te=Math.floor(D);return this.first?(this.first=!1,this.lastIntegerZoom=te,this.lastIntegerZoomTime=0,this.lastZoom=D,this.lastFloorZoom=te,!0):(this.lastFloorZoom>te?(this.lastIntegerZoom=te+1,this.lastIntegerZoomTime=V):this.lastFloorZoom<te&&(this.lastIntegerZoom=te,this.lastIntegerZoomTime=V),D!==this.lastZoom?(this.lastZoom=D,this.lastFloorZoom=te,!0):!1)};var ct={"Latin-1 Supplement":function(R){return R>=128&&R<=255},Arabic:function(R){return R>=1536&&R<=1791},"Arabic Supplement":function(R){return R>=1872&&R<=1919},"Arabic Extended-A":function(R){return R>=2208&&R<=2303},"Hangul Jamo":function(R){return R>=4352&&R<=4607},"Unified Canadian Aboriginal Syllabics":function(R){return R>=5120&&R<=5759},Khmer:function(R){return R>=6016&&R<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(R){return R>=6320&&R<=6399},"General Punctuation":function(R){return R>=8192&&R<=8303},"Letterlike Symbols":function(R){return R>=8448&&R<=8527},"Number Forms":function(R){return R>=8528&&R<=8591},"Miscellaneous Technical":function(R){return R>=8960&&R<=9215},"Control Pictures":function(R){return R>=9216&&R<=9279},"Optical Character Recognition":function(R){return R>=9280&&R<=9311},"Enclosed Alphanumerics":function(R){return R>=9312&&R<=9471},"Geometric Shapes":function(R){return R>=9632&&R<=9727},"Miscellaneous Symbols":function(R){return R>=9728&&R<=9983},"Miscellaneous Symbols and Arrows":function(R){return R>=11008&&R<=11263},"CJK Radicals Supplement":function(R){return R>=11904&&R<=12031},"Kangxi Radicals":function(R){return R>=12032&&R<=12255},"Ideographic Description Characters":function(R){return R>=12272&&R<=12287},"CJK Symbols and Punctuation":function(R){return R>=12288&&R<=12351},Hiragana:function(R){return R>=12352&&R<=12447},Katakana:function(R){return R>=12448&&R<=12543},Bopomofo:function(R){return R>=12544&&R<=12591},"Hangul Compatibility Jamo":function(R){return R>=12592&&R<=12687},Kanbun:function(R){return R>=12688&&R<=12703},"Bopomofo Extended":function(R){return R>=12704&&R<=12735},"CJK Strokes":function(R){return R>=12736&&R<=12783},"Katakana Phonetic Extensions":function(R){return R>=12784&&R<=12799},"Enclosed CJK Letters and Months":function(R){return R>=12800&&R<=13055},"CJK Compatibility":function(R){return R>=13056&&R<=13311},"CJK Unified Ideographs Extension A":function(R){return R>=13312&&R<=19903},"Yijing Hexagram Symbols":function(R){return R>=19904&&R<=19967},"CJK Unified Ideographs":function(R){return R>=19968&&R<=40959},"Yi Syllables":function(R){return R>=40960&&R<=42127},"Yi Radicals":function(R){return R>=42128&&R<=42191},"Hangul Jamo Extended-A":function(R){return R>=43360&&R<=43391},"Hangul Syllables":function(R){return R>=44032&&R<=55215},"Hangul Jamo Extended-B":function(R){return R>=55216&&R<=55295},"Private Use Area":function(R){return R>=57344&&R<=63743},"CJK Compatibility Ideographs":function(R){return R>=63744&&R<=64255},"Arabic Presentation Forms-A":function(R){return R>=64336&&R<=65023},"Vertical Forms":function(R){return R>=65040&&R<=65055},"CJK Compatibility Forms":function(R){return R>=65072&&R<=65103},"Small Form Variants":function(R){return R>=65104&&R<=65135},"Arabic Presentation Forms-B":function(R){return R>=65136&&R<=65279},"Halfwidth and Fullwidth Forms":function(R){return R>=65280&&R<=65519}};function Ht(R){for(var D=0,V=R;D<V.length;D+=1){var te=V[D];if(Dr(te.charCodeAt(0)))return!0}return!1}function rr(R){for(var D=0,V=R;D<V.length;D+=1){var te=V[D];if(!ar(te.charCodeAt(0)))return!1}return!0}function ar(R){return!(ct.Arabic(R)||ct["Arabic Supplement"](R)||ct["Arabic Extended-A"](R)||ct["Arabic Presentation Forms-A"](R)||ct["Arabic Presentation Forms-B"](R))}function Rr(R){return R<11904?!1:!!(ct["Bopomofo Extended"](R)||ct.Bopomofo(R)||ct["CJK Compatibility Forms"](R)||ct["CJK Compatibility Ideographs"](R)||ct["CJK Compatibility"](R)||ct["CJK Radicals Supplement"](R)||ct["CJK Strokes"](R)||ct["CJK Symbols and Punctuation"](R)||ct["CJK Unified Ideographs Extension A"](R)||ct["CJK Unified Ideographs"](R)||ct["Enclosed CJK Letters and Months"](R)||ct["Halfwidth and Fullwidth Forms"](R)||ct.Hiragana(R)||ct["Ideographic Description Characters"](R)||ct["Kangxi Radicals"](R)||ct["Katakana Phonetic Extensions"](R)||ct.Katakana(R)||ct["Vertical Forms"](R)||ct["Yi Radicals"](R)||ct["Yi Syllables"](R))}function Dr(R){return R===746||R===747?!0:R<4352?!1:!!(ct["Bopomofo Extended"](R)||ct.Bopomofo(R)||ct["CJK Compatibility Forms"](R)&&!(R>=65097&&R<=65103)||ct["CJK Compatibility Ideographs"](R)||ct["CJK Compatibility"](R)||ct["CJK Radicals Supplement"](R)||ct["CJK Strokes"](R)||ct["CJK Symbols and Punctuation"](R)&&!(R>=12296&&R<=12305)&&!(R>=12308&&R<=12319)&&R!==12336||ct["CJK Unified Ideographs Extension A"](R)||ct["CJK Unified Ideographs"](R)||ct["Enclosed CJK Letters and Months"](R)||ct["Hangul Compatibility Jamo"](R)||ct["Hangul Jamo Extended-A"](R)||ct["Hangul Jamo Extended-B"](R)||ct["Hangul Jamo"](R)||ct["Hangul Syllables"](R)||ct.Hiragana(R)||ct["Ideographic Description Characters"](R)||ct.Kanbun(R)||ct["Kangxi Radicals"](R)||ct["Katakana Phonetic Extensions"](R)||ct.Katakana(R)&&R!==12540||ct["Halfwidth and Fullwidth Forms"](R)&&R!==65288&&R!==65289&&R!==65293&&!(R>=65306&&R<=65310)&&R!==65339&&R!==65341&&R!==65343&&!(R>=65371&&R<=65503)&&R!==65507&&!(R>=65512&&R<=65519)||ct["Small Form Variants"](R)&&!(R>=65112&&R<=65118)&&!(R>=65123&&R<=65126)||ct["Unified Canadian Aboriginal Syllabics"](R)||ct["Unified Canadian Aboriginal Syllabics Extended"](R)||ct["Vertical Forms"](R)||ct["Yijing Hexagram Symbols"](R)||ct["Yi Syllables"](R)||ct["Yi Radicals"](R))}function nn(R){return!!(ct["Latin-1 Supplement"](R)&&(R===167||R===169||R===174||R===177||R===188||R===189||R===190||R===215||R===247)||ct["General Punctuation"](R)&&(R===8214||R===8224||R===8225||R===8240||R===8241||R===8251||R===8252||R===8258||R===8263||R===8264||R===8265||R===8273)||ct["Letterlike Symbols"](R)||ct["Number Forms"](R)||ct["Miscellaneous Technical"](R)&&(R>=8960&&R<=8967||R>=8972&&R<=8991||R>=8996&&R<=9e3||R===9003||R>=9085&&R<=9114||R>=9150&&R<=9165||R===9167||R>=9169&&R<=9179||R>=9186&&R<=9215)||ct["Control Pictures"](R)&&R!==9251||ct["Optical Character Recognition"](R)||ct["Enclosed Alphanumerics"](R)||ct["Geometric Shapes"](R)||ct["Miscellaneous Symbols"](R)&&!(R>=9754&&R<=9759)||ct["Miscellaneous Symbols and Arrows"](R)&&(R>=11026&&R<=11055||R>=11088&&R<=11097||R>=11192&&R<=11243)||ct["CJK Symbols and Punctuation"](R)||ct.Katakana(R)||ct["Private Use Area"](R)||ct["CJK Compatibility Forms"](R)||ct["Small Form Variants"](R)||ct["Halfwidth and Fullwidth Forms"](R)||R===8734||R===8756||R===8757||R>=9984&&R<=10087||R>=10102&&R<=10131||R===65532||R===65533)}function fn(R){return!(Dr(R)||nn(R))}function Or(R){return ct.Arabic(R)||ct["Arabic Supplement"](R)||ct["Arabic Extended-A"](R)||ct["Arabic Presentation Forms-A"](R)||ct["Arabic Presentation Forms-B"](R)}function Xr(R){return R>=1424&&R<=2303||ct["Arabic Presentation Forms-A"](R)||ct["Arabic Presentation Forms-B"](R)}function tn(R,D){return!(!D&&Xr(R)||R>=2304&&R<=3583||R>=3840&&R<=4255||ct.Khmer(R))}function it(R){for(var D=0,V=R;D<V.length;D+=1){var te=V[D];if(Xr(te.charCodeAt(0)))return!0}return!1}function gt(R,D){for(var V=0,te=R;V<te.length;V+=1){var he=te[V];if(!tn(he.charCodeAt(0),D))return!1}return!0}var Mt={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},fr=null,Lr=Mt.unavailable,Br=null,Ir=function(R){R&&typeof R=="string"&&R.indexOf("NetworkError")>-1&&(Lr=Mt.error),fr&&fr(R)};function en(){an.fire(new Kt("pluginStateChange",{pluginStatus:Lr,pluginURL:Br}))}var an=new hr,In=function(){return Lr},Dn=function(R){return R({pluginStatus:Lr,pluginURL:Br}),an.on("pluginStateChange",R),R},Jn=function(R,D,V){if(V===void 0&&(V=!1),Lr===Mt.deferred||Lr===Mt.loading||Lr===Mt.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");Br=ie.resolveURL(R),Lr=Mt.deferred,fr=D,en(),V||Kn()},Kn=function(){if(Lr!==Mt.deferred||!Br)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Lr=Mt.loading,en(),Br&&St({url:Br},function(R){R?Ir(R):(Lr=Mt.loaded,en())})},da={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Lr===Mt.loaded||da.applyArabicShaping!=null},isLoading:function(){return Lr===Mt.loading},setState:function(D){Lr=D.pluginStatus,Br=D.pluginURL},isParsed:function(){return da.applyArabicShaping!=null&&da.processBidirectionalText!=null&&da.processStyledBidirectionalText!=null},getPluginURL:function(){return Br}},pa=function(){!da.isLoading()&&!da.isLoaded()&&In()==="deferred"&&Kn()},kn=function(D,V){this.zoom=D,V?(this.now=V.now,this.fadeDuration=V.fadeDuration,this.zoomHistory=V.zoomHistory,this.transition=V.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new kt,this.transition={})};kn.prototype.isSupportedScript=function(D){return gt(D,da.isLoaded())},kn.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},kn.prototype.getCrossfadeParameters=function(){var D=this.zoom,V=D-Math.floor(D),te=this.crossFadingFactor();return D>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:V+(1-V)*te}:{fromScale:.5,toScale:1,t:1-(1-te)*V}};var wa=function(D,V){this.property=D,this.value=V,this.expression=cl(V===void 0?D.specification.default:V,D.specification)};wa.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},wa.prototype.possiblyEvaluate=function(D,V,te){return this.property.possiblyEvaluate(this,D,V,te)};var Aa=function(D){this.property=D,this.value=new wa(D,void 0)};Aa.prototype.transitioned=function(D,V){return new oi(this.property,this.value,V,o({},D.transition,this.transition),D.now)},Aa.prototype.untransitioned=function(){return new oi(this.property,this.value,null,{},0)};var Oa=function(D){this._properties=D,this._values=Object.create(D.defaultTransitionablePropertyValues)};Oa.prototype.getValue=function(D){return y(this._values[D].value.value)},Oa.prototype.setValue=function(D,V){this._values.hasOwnProperty(D)||(this._values[D]=new Aa(this._values[D].property)),this._values[D].value=new wa(this._values[D].property,V===null?void 0:y(V))},Oa.prototype.getTransition=function(D){return y(this._values[D].transition)},Oa.prototype.setTransition=function(D,V){this._values.hasOwnProperty(D)||(this._values[D]=new Aa(this._values[D].property)),this._values[D].transition=y(V)||void 0},Oa.prototype.serialize=function(){for(var D={},V=0,te=Object.keys(this._values);V<te.length;V+=1){var he=te[V],be=this.getValue(he);be!==void 0&&(D[he]=be);var Ee=this.getTransition(he);Ee!==void 0&&(D[he+"-transition"]=Ee)}return D},Oa.prototype.transitioned=function(D,V){for(var te=new ui(this._properties),he=0,be=Object.keys(this._values);he<be.length;he+=1){var Ee=be[he];te._values[Ee]=this._values[Ee].transitioned(D,V._values[Ee])}return te},Oa.prototype.untransitioned=function(){for(var D=new ui(this._properties),V=0,te=Object.keys(this._values);V<te.length;V+=1){var he=te[V];D._values[he]=this._values[he].untransitioned()}return D};var oi=function(D,V,te,he,be){this.property=D,this.value=V,this.begin=be+he.delay||0,this.end=this.begin+he.duration||0,D.specification.transition&&(he.delay||he.duration)&&(this.prior=te)};oi.prototype.possiblyEvaluate=function(D,V,te){var he=D.now||0,be=this.value.possiblyEvaluate(D,V,te),Ee=this.prior;if(Ee){if(he>this.end)return this.prior=null,be;if(this.value.isDataDriven())return this.prior=null,be;if(he<this.begin)return Ee.possiblyEvaluate(D,V,te);var je=(he-this.begin)/(this.end-this.begin);return this.property.interpolate(Ee.possiblyEvaluate(D,V,te),be,n(je))}else return be};var ui=function(D){this._properties=D,this._values=Object.create(D.defaultTransitioningPropertyValues)};ui.prototype.possiblyEvaluate=function(D,V,te){for(var he=new $n(this._properties),be=0,Ee=Object.keys(this._values);be<Ee.length;be+=1){var je=Ee[be];he._values[je]=this._values[je].possiblyEvaluate(D,V,te)}return he},ui.prototype.hasTransition=function(){for(var D=0,V=Object.keys(this._values);D<V.length;D+=1){var te=V[D];if(this._values[te].prior)return!0}return!1};var xi=function(D){this._properties=D,this._values=Object.create(D.defaultPropertyValues)};xi.prototype.getValue=function(D){return y(this._values[D].value)},xi.prototype.setValue=function(D,V){this._values[D]=new wa(this._values[D].property,V===null?void 0:y(V))},xi.prototype.serialize=function(){for(var D={},V=0,te=Object.keys(this._values);V<te.length;V+=1){var he=te[V],be=this.getValue(he);be!==void 0&&(D[he]=be)}return D},xi.prototype.possiblyEvaluate=function(D,V,te){for(var he=new $n(this._properties),be=0,Ee=Object.keys(this._values);be<Ee.length;be+=1){var je=Ee[be];he._values[je]=this._values[je].possiblyEvaluate(D,V,te)}return he};var Ya=function(D,V,te){this.property=D,this.value=V,this.parameters=te};Ya.prototype.isConstant=function(){return this.value.kind==="constant"},Ya.prototype.constantOr=function(D){return this.value.kind==="constant"?this.value.value:D},Ya.prototype.evaluate=function(D,V,te,he){return this.property.evaluate(this.value,this.parameters,D,V,te,he)};var $n=function(D){this._properties=D,this._values=Object.create(D.defaultPossiblyEvaluatedValues)};$n.prototype.get=function(D){return this._values[D]};var Xn=function(D){this.specification=D};Xn.prototype.possiblyEvaluate=function(D,V){return D.expression.evaluate(V)},Xn.prototype.interpolate=function(D,V,te){var he=Tl[this.specification.type];return he?he(D,V,te):D};var na=function(D,V){this.specification=D,this.overrides=V};na.prototype.possiblyEvaluate=function(D,V,te,he){return D.expression.kind==="constant"||D.expression.kind==="camera"?new Ya(this,{kind:"constant",value:D.expression.evaluate(V,null,{},te,he)},V):new Ya(this,D.expression,V)},na.prototype.interpolate=function(D,V,te){if(D.value.kind!=="constant"||V.value.kind!=="constant")return D;if(D.value.value===void 0||V.value.value===void 0)return new Ya(this,{kind:"constant",value:void 0},D.parameters);var he=Tl[this.specification.type];return he?new Ya(this,{kind:"constant",value:he(D.value.value,V.value.value,te)},D.parameters):D},na.prototype.evaluate=function(D,V,te,he,be,Ee){return D.kind==="constant"?D.value:D.evaluate(V,te,he,be,Ee)};var Ha=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(te,he,be,Ee){if(te.value===void 0)return new Ya(this,{kind:"constant",value:void 0},he);if(te.expression.kind==="constant"){var je=te.expression.evaluate(he,null,{},be,Ee),ft=te.property.specification.type==="resolvedImage",Tt=ft&&typeof je!="string"?je.name:je,Lt=this._calculate(Tt,Tt,Tt,he);return new Ya(this,{kind:"constant",value:Lt},he)}else if(te.expression.kind==="camera"){var Xt=this._calculate(te.expression.evaluate({zoom:he.zoom-1}),te.expression.evaluate({zoom:he.zoom}),te.expression.evaluate({zoom:he.zoom+1}),he);return new Ya(this,{kind:"constant",value:Xt},he)}else return new Ya(this,te.expression,he)},D.prototype.evaluate=function(te,he,be,Ee,je,ft){if(te.kind==="source"){var Tt=te.evaluate(he,be,Ee,je,ft);return this._calculate(Tt,Tt,Tt,he)}else return te.kind==="composite"?this._calculate(te.evaluate({zoom:Math.floor(he.zoom)-1},be,Ee),te.evaluate({zoom:Math.floor(he.zoom)},be,Ee),te.evaluate({zoom:Math.floor(he.zoom)+1},be,Ee),he):te.value},D.prototype._calculate=function(te,he,be,Ee){var je=Ee.zoom;return je>Ee.zoomHistory.lastIntegerZoom?{from:te,to:he}:{from:be,to:he}},D.prototype.interpolate=function(te){return te},D}(na),hi=function(D){this.specification=D};hi.prototype.possiblyEvaluate=function(D,V,te,he){if(D.value!==void 0)if(D.expression.kind==="constant"){var be=D.expression.evaluate(V,null,{},te,he);return this._calculate(be,be,be,V)}else return this._calculate(D.expression.evaluate(new kn(Math.floor(V.zoom-1),V)),D.expression.evaluate(new kn(Math.floor(V.zoom),V)),D.expression.evaluate(new kn(Math.floor(V.zoom+1),V)),V)},hi.prototype._calculate=function(D,V,te,he){var be=he.zoom;return be>he.zoomHistory.lastIntegerZoom?{from:D,to:V}:{from:te,to:V}},hi.prototype.interpolate=function(D){return D};var ci=function(D){this.specification=D};ci.prototype.possiblyEvaluate=function(D,V,te,he){return!!D.expression.evaluate(V,null,{},te,he)},ci.prototype.interpolate=function(){return!1};var Qa=function(D){this.properties=D,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var V in D){var te=D[V];te.specification.overridable&&this.overridableProperties.push(V);var he=this.defaultPropertyValues[V]=new wa(te,void 0),be=this.defaultTransitionablePropertyValues[V]=new Aa(te);this.defaultTransitioningPropertyValues[V]=be.untransitioned(),this.defaultPossiblyEvaluatedValues[V]=he.possiblyEvaluate({})}};le("DataDrivenProperty",na),le("DataConstantProperty",Xn),le("CrossFadedDataDrivenProperty",Ha),le("CrossFadedProperty",hi),le("ColorRampProperty",ci);var ri="-transition",ja=function(R){function D(V,te){if(R.call(this),this.id=V.id,this.type=V.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},V.type!=="custom"&&(V=V,this.metadata=V.metadata,this.minzoom=V.minzoom,this.maxzoom=V.maxzoom,V.type!=="background"&&(this.source=V.source,this.sourceLayer=V["source-layer"],this.filter=V.filter),te.layout&&(this._unevaluatedLayout=new xi(te.layout)),te.paint)){this._transitionablePaint=new Oa(te.paint);for(var he in V.paint)this.setPaintProperty(he,V.paint[he],{validate:!1});for(var be in V.layout)this.setLayoutProperty(be,V.layout[be],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new $n(te.paint)}}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},D.prototype.getLayoutProperty=function(te){return te==="visibility"?this.visibility:this._unevaluatedLayout.getValue(te)},D.prototype.setLayoutProperty=function(te,he,be){if(be===void 0&&(be={}),he!=null){var Ee="layers."+this.id+".layout."+te;if(this._validate(Sa,Ee,te,he,be))return}if(te==="visibility"){this.visibility=he;return}this._unevaluatedLayout.setValue(te,he)},D.prototype.getPaintProperty=function(te){return w(te,ri)?this._transitionablePaint.getTransition(te.slice(0,-ri.length)):this._transitionablePaint.getValue(te)},D.prototype.setPaintProperty=function(te,he,be){if(be===void 0&&(be={}),he!=null){var Ee="layers."+this.id+".paint."+te;if(this._validate(Vn,Ee,te,he,be))return!1}if(w(te,ri))return this._transitionablePaint.setTransition(te.slice(0,-ri.length),he||void 0),!1;var je=this._transitionablePaint._values[te],ft=je.property.specification["property-type"]==="cross-faded-data-driven",Tt=je.value.isDataDriven(),Lt=je.value;this._transitionablePaint.setValue(te,he),this._handleSpecialPaintPropertyUpdate(te);var Xt=this._transitionablePaint._values[te].value,cr=Xt.isDataDriven();return cr||Tt||ft||this._handleOverridablePaintPropertyUpdate(te,Lt,Xt)},D.prototype._handleSpecialPaintPropertyUpdate=function(te){},D.prototype._handleOverridablePaintPropertyUpdate=function(te,he,be){return!1},D.prototype.isHidden=function(te){return this.minzoom&&te<this.minzoom||this.maxzoom&&te>=this.maxzoom?!0:this.visibility==="none"},D.prototype.updateTransitions=function(te){this._transitioningPaint=this._transitionablePaint.transitioned(te,this._transitioningPaint)},D.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},D.prototype.recalculate=function(te,he){te.getCrossfadeParameters&&(this._crossfadeParameters=te.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(te,void 0,he)),this.paint=this._transitioningPaint.possiblyEvaluate(te,void 0,he)},D.prototype.serialize=function(){var te={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(te.layout=te.layout||{},te.layout.visibility=this.visibility),C(te,function(he,be){return he!==void 0&&!(be==="layout"&&!Object.keys(he).length)&&!(be==="paint"&&!Object.keys(he).length)})},D.prototype._validate=function(te,he,be,Ee,je){return je===void 0&&(je={}),je&&je.validate===!1?!1:Da(this,te.call(Sn,{key:he,layerType:this.type,objectKey:be,value:Ee,styleSpec:Jt,style:{glyphs:!0,sprite:!0}}))},D.prototype.is3D=function(){return!1},D.prototype.isTileClipped=function(){return!1},D.prototype.hasOffscreenPass=function(){return!1},D.prototype.resize=function(){},D.prototype.isStateDependent=function(){for(var te in this.paint._values){var he=this.paint.get(te);if(!(!(he instanceof Ya)||!Ts(he.property.specification))&&(he.value.kind==="source"||he.value.kind==="composite")&&he.value.isStateDependent)return!0}return!1},D}(hr),li={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},fi=function(D,V){this._structArray=D,this._pos1=V*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},uo=128,Qi=5,ni=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};ni.serialize=function(D,V){return D._trim(),V&&(D.isTransferred=!0,V.push(D.arrayBuffer)),{length:D.length,arrayBuffer:D.arrayBuffer}},ni.deserialize=function(D){var V=Object.create(this.prototype);return V.arrayBuffer=D.arrayBuffer,V.length=D.length,V.capacity=D.arrayBuffer.byteLength/V.bytesPerElement,V._refreshViews(),V},ni.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},ni.prototype.clear=function(){this.length=0},ni.prototype.resize=function(D){this.reserve(D),this.length=D},ni.prototype.reserve=function(D){if(D>this.capacity){this.capacity=Math.max(D,Math.floor(this.capacity*Qi),uo),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var V=this.uint8;this._refreshViews(),V&&this.uint8.set(V)}},ni.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function Ei(R,D){D===void 0&&(D=1);var V=0,te=0,he=R.map(function(Ee){var je=us(Ee.type),ft=V=Es(V,Math.max(D,je)),Tt=Ee.components||1;return te=Math.max(te,je),V+=je*Tt,{name:Ee.name,type:Ee.type,components:Tt,offset:ft}}),be=Es(V,Math.max(te,D));return{members:he,size:be,alignment:D}}function us(R){return li[R].BYTES_PER_ELEMENT}function Es(R,D){return Math.ceil(R/D)*D}var Ql=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(te,he){var be=this.length;return this.resize(be+1),this.emplace(be,te,he)},D.prototype.emplace=function(te,he,be){var Ee=te*2;return this.int16[Ee+0]=he,this.int16[Ee+1]=be,te},D}(ni);Ql.prototype.bytesPerElement=4,le("StructArrayLayout2i4",Ql);var fs=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(te,he,be,Ee){var je=this.length;return this.resize(je+1),this.emplace(je,te,he,be,Ee)},D.prototype.emplace=function(te,he,be,Ee,je){var ft=te*4;return this.int16[ft+0]=he,this.int16[ft+1]=be,this.int16[ft+2]=Ee,this.int16[ft+3]=je,te},D}(ni);fs.prototype.bytesPerElement=8,le("StructArrayLayout4i8",fs);var Mu=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(te,he,be,Ee,je,ft){var Tt=this.length;return this.resize(Tt+1),this.emplace(Tt,te,he,be,Ee,je,ft)},D.prototype.emplace=function(te,he,be,Ee,je,ft,Tt){var Lt=te*6;return this.int16[Lt+0]=he,this.int16[Lt+1]=be,this.int16[Lt+2]=Ee,this.int16[Lt+3]=je,this.int16[Lt+4]=ft,this.int16[Lt+5]=Tt,te},D}(ni);Mu.prototype.bytesPerElement=12,le("StructArrayLayout2i4i12",Mu);var Rf=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(te,he,be,Ee,je,ft){var Tt=this.length;return this.resize(Tt+1),this.emplace(Tt,te,he,be,Ee,je,ft)},D.prototype.emplace=function(te,he,be,Ee,je,ft,Tt){var Lt=te*4,Xt=te*8;return this.int16[Lt+0]=he,this.int16[Lt+1]=be,this.uint8[Xt+4]=Ee,this.uint8[Xt+5]=je,this.uint8[Xt+6]=ft,this.uint8[Xt+7]=Tt,te},D}(ni);Rf.prototype.bytesPerElement=8,le("StructArrayLayout2i4ub8",Rf);var Cs=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(te,he,be,Ee,je,ft,Tt,Lt,Xt,cr){var nr=this.length;return this.resize(nr+1),this.emplace(nr,te,he,be,Ee,je,ft,Tt,Lt,Xt,cr)},D.prototype.emplace=function(te,he,be,Ee,je,ft,Tt,Lt,Xt,cr,nr){var Tr=te*9,jr=te*18;return this.uint16[Tr+0]=he,this.uint16[Tr+1]=be,this.uint16[Tr+2]=Ee,this.uint16[Tr+3]=je,this.uint16[Tr+4]=ft,this.uint16[Tr+5]=Tt,this.uint16[Tr+6]=Lt,this.uint16[Tr+7]=Xt,this.uint8[jr+16]=cr,this.uint8[jr+17]=nr,te},D}(ni);Cs.prototype.bytesPerElement=18,le("StructArrayLayout8ui2ub18",Cs);var Df=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(te,he,be,Ee,je,ft,Tt,Lt,Xt,cr,nr,Tr){var jr=this.length;return this.resize(jr+1),this.emplace(jr,te,he,be,Ee,je,ft,Tt,Lt,Xt,cr,nr,Tr)},D.prototype.emplace=function(te,he,be,Ee,je,ft,Tt,Lt,Xt,cr,nr,Tr,jr){var vn=te*12;return this.int16[vn+0]=he,this.int16[vn+1]=be,this.int16[vn+2]=Ee,this.int16[vn+3]=je,this.uint16[vn+4]=ft,this.uint16[vn+5]=Tt,this.uint16[vn+6]=Lt,this.uint16[vn+7]=Xt,this.int16[vn+8]=cr,this.int16[vn+9]=nr,this.int16[vn+10]=Tr,this.int16[vn+11]=jr,te},D}(ni);Df.prototype.bytesPerElement=24,le("StructArrayLayout4i4ui4i24",Df);var Uh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(te,he,be){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,te,he,be)},D.prototype.emplace=function(te,he,be,Ee){var je=te*3;return this.float32[je+0]=he,this.float32[je+1]=be,this.float32[je+2]=Ee,te},D}(ni);Uh.prototype.bytesPerElement=12,le("StructArrayLayout3f12",Uh);var Vh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(te){var he=this.length;return this.resize(he+1),this.emplace(he,te)},D.prototype.emplace=function(te,he){var be=te*1;return this.uint32[be+0]=he,te},D}(ni);Vh.prototype.bytesPerElement=4,le("StructArrayLayout1ul4",Vh);var Dc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(te,he,be,Ee,je,ft,Tt,Lt,Xt){var cr=this.length;return this.resize(cr+1),this.emplace(cr,te,he,be,Ee,je,ft,Tt,Lt,Xt)},D.prototype.emplace=function(te,he,be,Ee,je,ft,Tt,Lt,Xt,cr){var nr=te*10,Tr=te*5;return this.int16[nr+0]=he,this.int16[nr+1]=be,this.int16[nr+2]=Ee,this.int16[nr+3]=je,this.int16[nr+4]=ft,this.int16[nr+5]=Tt,this.uint32[Tr+3]=Lt,this.uint16[nr+8]=Xt,this.uint16[nr+9]=cr,te},D}(ni);Dc.prototype.bytesPerElement=20,le("StructArrayLayout6i1ul2ui20",Dc);var $c=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(te,he,be,Ee,je,ft){var Tt=this.length;return this.resize(Tt+1),this.emplace(Tt,te,he,be,Ee,je,ft)},D.prototype.emplace=function(te,he,be,Ee,je,ft,Tt){var Lt=te*6;return this.int16[Lt+0]=he,this.int16[Lt+1]=be,this.int16[Lt+2]=Ee,this.int16[Lt+3]=je,this.int16[Lt+4]=ft,this.int16[Lt+5]=Tt,te},D}(ni);$c.prototype.bytesPerElement=12,le("StructArrayLayout2i2i2i12",$c);var sf=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(te,he,be,Ee,je){var ft=this.length;return this.resize(ft+1),this.emplace(ft,te,he,be,Ee,je)},D.prototype.emplace=function(te,he,be,Ee,je,ft){var Tt=te*4,Lt=te*8;return this.float32[Tt+0]=he,this.float32[Tt+1]=be,this.float32[Tt+2]=Ee,this.int16[Lt+6]=je,this.int16[Lt+7]=ft,te},D}(ni);sf.prototype.bytesPerElement=16,le("StructArrayLayout2f1f2i16",sf);var Zs=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(te,he,be,Ee){var je=this.length;return this.resize(je+1),this.emplace(je,te,he,be,Ee)},D.prototype.emplace=function(te,he,be,Ee,je){var ft=te*12,Tt=te*3;return this.uint8[ft+0]=he,this.uint8[ft+1]=be,this.float32[Tt+1]=Ee,this.float32[Tt+2]=je,te},D}(ni);Zs.prototype.bytesPerElement=12,le("StructArrayLayout2ub2f12",Zs);var lf=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(te,he,be){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,te,he,be)},D.prototype.emplace=function(te,he,be,Ee){var je=te*3;return this.uint16[je+0]=he,this.uint16[je+1]=be,this.uint16[je+2]=Ee,te},D}(ni);lf.prototype.bytesPerElement=6,le("StructArrayLayout3ui6",lf);var Ic=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(te,he,be,Ee,je,ft,Tt,Lt,Xt,cr,nr,Tr,jr,vn,ln,Fn,En){var _n=this.length;return this.resize(_n+1),this.emplace(_n,te,he,be,Ee,je,ft,Tt,Lt,Xt,cr,nr,Tr,jr,vn,ln,Fn,En)},D.prototype.emplace=function(te,he,be,Ee,je,ft,Tt,Lt,Xt,cr,nr,Tr,jr,vn,ln,Fn,En,_n){var Wn=te*24,ea=te*12,ha=te*48;return this.int16[Wn+0]=he,this.int16[Wn+1]=be,this.uint16[Wn+2]=Ee,this.uint16[Wn+3]=je,this.uint32[ea+2]=ft,this.uint32[ea+3]=Tt,this.uint32[ea+4]=Lt,this.uint16[Wn+10]=Xt,this.uint16[Wn+11]=cr,this.uint16[Wn+12]=nr,this.float32[ea+7]=Tr,this.float32[ea+8]=jr,this.uint8[ha+36]=vn,this.uint8[ha+37]=ln,this.uint8[ha+38]=Fn,this.uint32[ea+10]=En,this.int16[Wn+22]=_n,te},D}(ni);Ic.prototype.bytesPerElement=48,le("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Ic);var qc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(te,he,be,Ee,je,ft,Tt,Lt,Xt,cr,nr,Tr,jr,vn,ln,Fn,En,_n,Wn,ea,ha,la,Ba,La,Ia,Ka,_a,za){var ei=this.length;return this.resize(ei+1),this.emplace(ei,te,he,be,Ee,je,ft,Tt,Lt,Xt,cr,nr,Tr,jr,vn,ln,Fn,En,_n,Wn,ea,ha,la,Ba,La,Ia,Ka,_a,za)},D.prototype.emplace=function(te,he,be,Ee,je,ft,Tt,Lt,Xt,cr,nr,Tr,jr,vn,ln,Fn,En,_n,Wn,ea,ha,la,Ba,La,Ia,Ka,_a,za,ei){var Xa=te*34,bi=te*17;return this.int16[Xa+0]=he,this.int16[Xa+1]=be,this.int16[Xa+2]=Ee,this.int16[Xa+3]=je,this.int16[Xa+4]=ft,this.int16[Xa+5]=Tt,this.int16[Xa+6]=Lt,this.int16[Xa+7]=Xt,this.uint16[Xa+8]=cr,this.uint16[Xa+9]=nr,this.uint16[Xa+10]=Tr,this.uint16[Xa+11]=jr,this.uint16[Xa+12]=vn,this.uint16[Xa+13]=ln,this.uint16[Xa+14]=Fn,this.uint16[Xa+15]=En,this.uint16[Xa+16]=_n,this.uint16[Xa+17]=Wn,this.uint16[Xa+18]=ea,this.uint16[Xa+19]=ha,this.uint16[Xa+20]=la,this.uint16[Xa+21]=Ba,this.uint16[Xa+22]=La,this.uint32[bi+12]=Ia,this.float32[bi+13]=Ka,this.float32[bi+14]=_a,this.float32[bi+15]=za,this.float32[bi+16]=ei,te},D}(ni);qc.prototype.bytesPerElement=68,le("StructArrayLayout8i15ui1ul4f68",qc);var cc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(te){var he=this.length;return this.resize(he+1),this.emplace(he,te)},D.prototype.emplace=function(te,he){var be=te*1;return this.float32[be+0]=he,te},D}(ni);cc.prototype.bytesPerElement=4,le("StructArrayLayout1f4",cc);var Hh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(te,he,be){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,te,he,be)},D.prototype.emplace=function(te,he,be,Ee){var je=te*3;return this.int16[je+0]=he,this.int16[je+1]=be,this.int16[je+2]=Ee,te},D}(ni);Hh.prototype.bytesPerElement=6,le("StructArrayLayout3i6",Hh);var If=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(te,he,be){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,te,he,be)},D.prototype.emplace=function(te,he,be,Ee){var je=te*2,ft=te*4;return this.uint32[je+0]=he,this.uint16[ft+2]=be,this.uint16[ft+3]=Ee,te},D}(ni);If.prototype.bytesPerElement=8,le("StructArrayLayout1ul2ui8",If);var kc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(te,he){var be=this.length;return this.resize(be+1),this.emplace(be,te,he)},D.prototype.emplace=function(te,he,be){var Ee=te*2;return this.uint16[Ee+0]=he,this.uint16[Ee+1]=be,te},D}(ni);kc.prototype.bytesPerElement=4,le("StructArrayLayout2ui4",kc);var hc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(te){var he=this.length;return this.resize(he+1),this.emplace(he,te)},D.prototype.emplace=function(te,he){var be=te*1;return this.uint16[be+0]=he,te},D}(ni);hc.prototype.bytesPerElement=2,le("StructArrayLayout1ui2",hc);var kf=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(te,he){var be=this.length;return this.resize(be+1),this.emplace(be,te,he)},D.prototype.emplace=function(te,he,be){var Ee=te*2;return this.float32[Ee+0]=he,this.float32[Ee+1]=be,te},D}(ni);kf.prototype.bytesPerElement=8,le("StructArrayLayout2f8",kf);var Gh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(te,he,be,Ee){var je=this.length;return this.resize(je+1),this.emplace(je,te,he,be,Ee)},D.prototype.emplace=function(te,he,be,Ee,je){var ft=te*4;return this.float32[ft+0]=he,this.float32[ft+1]=be,this.float32[ft+2]=Ee,this.float32[ft+3]=je,te},D}(ni);Gh.prototype.bytesPerElement=16,le("StructArrayLayout4f16",Gh);var Tv=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var V={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return V.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},V.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},V.x1.get=function(){return this._structArray.int16[this._pos2+2]},V.y1.get=function(){return this._structArray.int16[this._pos2+3]},V.x2.get=function(){return this._structArray.int16[this._pos2+4]},V.y2.get=function(){return this._structArray.int16[this._pos2+5]},V.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},V.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},V.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},V.anchorPoint.get=function(){return new t(this.anchorPointX,this.anchorPointY)},Object.defineProperties(D.prototype,V),D}(fi);Tv.prototype.size=20;var _f=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(te){return new Tv(this,te)},D}(Dc);le("CollisionBoxArray",_f);var Wh=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var V={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return V.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},V.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},V.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},V.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},V.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},V.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},V.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},V.segment.get=function(){return this._structArray.uint16[this._pos2+10]},V.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},V.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},V.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},V.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},V.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},V.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},V.placedOrientation.set=function(te){this._structArray.uint8[this._pos1+37]=te},V.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},V.hidden.set=function(te){this._structArray.uint8[this._pos1+38]=te},V.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},V.crossTileID.set=function(te){this._structArray.uint32[this._pos4+10]=te},V.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(D.prototype,V),D}(fi);Wh.prototype.size=48;var vc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(te){return new Wh(this,te)},D}(Ic);le("PlacedSymbolArray",vc);var Av=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var V={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return V.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},V.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},V.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},V.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},V.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},V.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},V.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},V.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},V.key.get=function(){return this._structArray.uint16[this._pos2+8]},V.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},V.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},V.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},V.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},V.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},V.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},V.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},V.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},V.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},V.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},V.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},V.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},V.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},V.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},V.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},V.crossTileID.set=function(te){this._structArray.uint32[this._pos4+12]=te},V.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},V.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},V.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},V.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(D.prototype,V),D}(fi);Av.prototype.size=68;var Sv=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(te){return new Av(this,te)},D}(qc);le("SymbolInstanceArray",Sv);var $l=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.getoffsetX=function(te){return this.float32[te*1+0]},D}(cc);le("GlyphOffsetArray",$l);var Mv=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.getx=function(te){return this.int16[te*3+0]},D.prototype.gety=function(te){return this.int16[te*3+1]},D.prototype.gettileUnitDistanceFromAnchor=function(te){return this.int16[te*3+2]},D}(Hh);le("SymbolLineVertexArray",Mv);var Ev=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var V={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return V.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},V.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},V.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(D.prototype,V),D}(fi);Ev.prototype.size=8;var Yh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(te){return new Ev(this,te)},D}(If);le("FeatureIndexArray",Yh);var Cv=Ei([{name:"a_pos",components:2,type:"Int16"}],4),ce=Cv.members,Y=function(D){D===void 0&&(D=[]),this.segments=D};Y.prototype.prepareSegment=function(D,V,te,he){var be=this.segments[this.segments.length-1];return D>Y.MAX_VERTEX_ARRAY_LENGTH&&N("Max vertices per segment is "+Y.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+D),(!be||be.vertexLength+D>Y.MAX_VERTEX_ARRAY_LENGTH||be.sortKey!==he)&&(be={vertexOffset:V.length,primitiveOffset:te.length,vertexLength:0,primitiveLength:0},he!==void 0&&(be.sortKey=he),this.segments.push(be)),be},Y.prototype.get=function(){return this.segments},Y.prototype.destroy=function(){for(var D=0,V=this.segments;D<V.length;D+=1){var te=V[D];for(var he in te.vaos)te.vaos[he].destroy()}},Y.simpleSegment=function(D,V,te,he){return new Y([{vertexOffset:D,primitiveOffset:V,vertexLength:te,primitiveLength:he,vaos:{},sortKey:0}])},Y.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,le("SegmentVector",Y);function ve(R,D){return R=l(Math.floor(R),0,255),D=l(Math.floor(D),0,255),256*R+D}var q=Ei([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint8"},{name:"a_pixel_ratio_to",components:1,type:"Uint8"}]),de=L(function(R){function D(V,te){var he,be,Ee,je,ft,Tt,Lt,Xt;for(he=V.length&3,be=V.length-he,Ee=te,ft=3432918353,Tt=461845907,Xt=0;Xt<be;)Lt=V.charCodeAt(Xt)&255|(V.charCodeAt(++Xt)&255)<<8|(V.charCodeAt(++Xt)&255)<<16|(V.charCodeAt(++Xt)&255)<<24,++Xt,Lt=(Lt&65535)*ft+(((Lt>>>16)*ft&65535)<<16)&4294967295,Lt=Lt<<15|Lt>>>17,Lt=(Lt&65535)*Tt+(((Lt>>>16)*Tt&65535)<<16)&4294967295,Ee^=Lt,Ee=Ee<<13|Ee>>>19,je=(Ee&65535)*5+(((Ee>>>16)*5&65535)<<16)&4294967295,Ee=(je&65535)+27492+(((je>>>16)+58964&65535)<<16);switch(Lt=0,he){case 3:Lt^=(V.charCodeAt(Xt+2)&255)<<16;case 2:Lt^=(V.charCodeAt(Xt+1)&255)<<8;case 1:Lt^=V.charCodeAt(Xt)&255,Lt=(Lt&65535)*ft+(((Lt>>>16)*ft&65535)<<16)&4294967295,Lt=Lt<<15|Lt>>>17,Lt=(Lt&65535)*Tt+(((Lt>>>16)*Tt&65535)<<16)&4294967295,Ee^=Lt}return Ee^=V.length,Ee^=Ee>>>16,Ee=(Ee&65535)*2246822507+(((Ee>>>16)*2246822507&65535)<<16)&4294967295,Ee^=Ee>>>13,Ee=(Ee&65535)*3266489909+(((Ee>>>16)*3266489909&65535)<<16)&4294967295,Ee^=Ee>>>16,Ee>>>0}R.exports=D}),De=L(function(R){function D(V,te){for(var he=V.length,be=te^he,Ee=0,je;he>=4;)je=V.charCodeAt(Ee)&255|(V.charCodeAt(++Ee)&255)<<8|(V.charCodeAt(++Ee)&255)<<16|(V.charCodeAt(++Ee)&255)<<24,je=(je&65535)*1540483477+(((je>>>16)*1540483477&65535)<<16),je^=je>>>24,je=(je&65535)*1540483477+(((je>>>16)*1540483477&65535)<<16),be=(be&65535)*1540483477+(((be>>>16)*1540483477&65535)<<16)^je,he-=4,++Ee;switch(he){case 3:be^=(V.charCodeAt(Ee+2)&255)<<16;case 2:be^=(V.charCodeAt(Ee+1)&255)<<8;case 1:be^=V.charCodeAt(Ee)&255,be=(be&65535)*1540483477+(((be>>>16)*1540483477&65535)<<16)}return be^=be>>>13,be=(be&65535)*1540483477+(((be>>>16)*1540483477&65535)<<16),be^=be>>>15,be>>>0}R.exports=D}),Ye=de,ot=de,wt=De;Ye.murmur3=ot,Ye.murmur2=wt;var Vt=function(){this.ids=[],this.positions=[],this.indexed=!1};Vt.prototype.add=function(D,V,te,he){this.ids.push(pr(D)),this.positions.push(V,te,he)},Vt.prototype.getPositions=function(D){for(var V=pr(D),te=0,he=this.ids.length-1;te<he;){var be=te+he>>1;this.ids[be]>=V?he=be:te=be+1}for(var Ee=[];this.ids[te]===V;){var je=this.positions[3*te],ft=this.positions[3*te+1],Tt=this.positions[3*te+2];Ee.push({index:je,start:ft,end:Tt}),te++}return Ee},Vt.serialize=function(D,V){var te=new Float64Array(D.ids),he=new Uint32Array(D.positions);return wr(te,he,0,te.length-1),V&&V.push(te.buffer,he.buffer),{ids:te,positions:he}},Vt.deserialize=function(D){var V=new Vt;return V.ids=D.ids,V.positions=D.positions,V.indexed=!0,V};var qt=Math.pow(2,53)-1;function pr(R){var D=+R;return!isNaN(D)&&D<=qt?D:Ye(String(R))}function wr(R,D,V,te){for(;V<te;){for(var he=R[V+te>>1],be=V-1,Ee=te+1;;){do be++;while(R[be]<he);do Ee--;while(R[Ee]>he);if(be>=Ee)break;Vr(R,be,Ee),Vr(D,3*be,3*Ee),Vr(D,3*be+1,3*Ee+1),Vr(D,3*be+2,3*Ee+2)}Ee-V<te-Ee?(wr(R,D,V,Ee),V=Ee+1):(wr(R,D,Ee+1,te),te=Ee)}}function Vr(R,D,V){var te=R[D];R[D]=R[V],R[V]=te}le("FeaturePositionMap",Vt);var $r=function(D,V){this.gl=D.gl,this.location=V},qr=function(R){function D(V,te){R.call(this,V,te),this.current=0}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(te){this.current!==te&&(this.current=te,this.gl.uniform1i(this.location,te))},D}($r),Jr=function(R){function D(V,te){R.call(this,V,te),this.current=0}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(te){this.current!==te&&(this.current=te,this.gl.uniform1f(this.location,te))},D}($r),sn=function(R){function D(V,te){R.call(this,V,te),this.current=[0,0]}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(te){(te[0]!==this.current[0]||te[1]!==this.current[1])&&(this.current=te,this.gl.uniform2f(this.location,te[0],te[1]))},D}($r),gn=function(R){function D(V,te){R.call(this,V,te),this.current=[0,0,0]}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(te){(te[0]!==this.current[0]||te[1]!==this.current[1]||te[2]!==this.current[2])&&(this.current=te,this.gl.uniform3f(this.location,te[0],te[1],te[2]))},D}($r),On=function(R){function D(V,te){R.call(this,V,te),this.current=[0,0,0,0]}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(te){(te[0]!==this.current[0]||te[1]!==this.current[1]||te[2]!==this.current[2]||te[3]!==this.current[3])&&(this.current=te,this.gl.uniform4f(this.location,te[0],te[1],te[2],te[3]))},D}($r),Zn=function(R){function D(V,te){R.call(this,V,te),this.current=di.transparent}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(te){(te.r!==this.current.r||te.g!==this.current.g||te.b!==this.current.b||te.a!==this.current.a)&&(this.current=te,this.gl.uniform4f(this.location,te.r,te.g,te.b,te.a))},D}($r),ra=new Float32Array(16),ia=function(R){function D(V,te){R.call(this,V,te),this.current=ra}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(te){if(te[12]!==this.current[12]||te[0]!==this.current[0]){this.current=te,this.gl.uniformMatrix4fv(this.location,!1,te);return}for(var he=1;he<16;he++)if(te[he]!==this.current[he]){this.current=te,this.gl.uniformMatrix4fv(this.location,!1,te);break}},D}($r);function aa(R){return[ve(255*R.r,255*R.g),ve(255*R.b,255*R.a)]}var ga=function(D,V,te){this.value=D,this.uniformNames=V.map(function(he){return"u_"+he}),this.type=te};ga.prototype.setUniform=function(D,V,te){D.set(te.constantOr(this.value))},ga.prototype.getBinding=function(D,V,te){return this.type==="color"?new Zn(D,V):new Jr(D,V)};var Ea=function(D,V){this.uniformNames=V.map(function(te){return"u_"+te}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Ea.prototype.setConstantPatternPositions=function(D,V){this.pixelRatioFrom=V.pixelRatio,this.pixelRatioTo=D.pixelRatio,this.patternFrom=V.tlbr,this.patternTo=D.tlbr},Ea.prototype.setUniform=function(D,V,te,he){var be=he==="u_pattern_to"?this.patternTo:he==="u_pattern_from"?this.patternFrom:he==="u_pixel_ratio_to"?this.pixelRatioTo:he==="u_pixel_ratio_from"?this.pixelRatioFrom:null;be&&D.set(be)},Ea.prototype.getBinding=function(D,V,te){return te.substr(0,9)==="u_pattern"?new On(D,V):new Jr(D,V)};var Ma=function(D,V,te,he){this.expression=D,this.type=te,this.maxValue=0,this.paintVertexAttributes=V.map(function(be){return{name:"a_"+be,type:"Float32",components:te==="color"?2:1,offset:0}}),this.paintVertexArray=new he};Ma.prototype.populatePaintArray=function(D,V,te,he,be){var Ee=this.paintVertexArray.length,je=this.expression.evaluate(new kn(0),V,{},he,[],be);this.paintVertexArray.resize(D),this._setPaintValue(Ee,D,je)},Ma.prototype.updatePaintArray=function(D,V,te,he){var be=this.expression.evaluate({zoom:0},te,he);this._setPaintValue(D,V,be)},Ma.prototype._setPaintValue=function(D,V,te){if(this.type==="color")for(var he=aa(te),be=D;be<V;be++)this.paintVertexArray.emplace(be,he[0],he[1]);else{for(var Ee=D;Ee<V;Ee++)this.paintVertexArray.emplace(Ee,te);this.maxValue=Math.max(this.maxValue,Math.abs(te))}},Ma.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ma.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Ra=function(D,V,te,he,be,Ee){this.expression=D,this.uniformNames=V.map(function(je){return"u_"+je+"_t"}),this.type=te,this.useIntegerZoom=he,this.zoom=be,this.maxValue=0,this.paintVertexAttributes=V.map(function(je){return{name:"a_"+je,type:"Float32",components:te==="color"?4:2,offset:0}}),this.paintVertexArray=new Ee};Ra.prototype.populatePaintArray=function(D,V,te,he,be){var Ee=this.expression.evaluate(new kn(this.zoom),V,{},he,[],be),je=this.expression.evaluate(new kn(this.zoom+1),V,{},he,[],be),ft=this.paintVertexArray.length;this.paintVertexArray.resize(D),this._setPaintValue(ft,D,Ee,je)},Ra.prototype.updatePaintArray=function(D,V,te,he){var be=this.expression.evaluate({zoom:this.zoom},te,he),Ee=this.expression.evaluate({zoom:this.zoom+1},te,he);this._setPaintValue(D,V,be,Ee)},Ra.prototype._setPaintValue=function(D,V,te,he){if(this.type==="color")for(var be=aa(te),Ee=aa(he),je=D;je<V;je++)this.paintVertexArray.emplace(je,be[0],be[1],Ee[0],Ee[1]);else{for(var ft=D;ft<V;ft++)this.paintVertexArray.emplace(ft,te,he);this.maxValue=Math.max(this.maxValue,Math.abs(te),Math.abs(he))}},Ra.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ra.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Ra.prototype.setUniform=function(D,V){var te=this.useIntegerZoom?Math.floor(V.zoom):V.zoom,he=l(this.expression.interpolationFactor(te,this.zoom,this.zoom+1),0,1);D.set(he)},Ra.prototype.getBinding=function(D,V,te){return new Jr(D,V)};var ka=function(D,V,te,he,be,Ee){this.expression=D,this.type=V,this.useIntegerZoom=te,this.zoom=he,this.layerId=Ee,this.zoomInPaintVertexArray=new be,this.zoomOutPaintVertexArray=new be};ka.prototype.populatePaintArray=function(D,V,te){var he=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(D),this.zoomOutPaintVertexArray.resize(D),this._setPaintValues(he,D,V.patterns&&V.patterns[this.layerId],te)},ka.prototype.updatePaintArray=function(D,V,te,he,be){this._setPaintValues(D,V,te.patterns&&te.patterns[this.layerId],be)},ka.prototype._setPaintValues=function(D,V,te,he){if(!(!he||!te)){var be=te.min,Ee=te.mid,je=te.max,ft=he[be],Tt=he[Ee],Lt=he[je];if(!(!ft||!Tt||!Lt))for(var Xt=D;Xt<V;Xt++)this.zoomInPaintVertexArray.emplace(Xt,Tt.tl[0],Tt.tl[1],Tt.br[0],Tt.br[1],ft.tl[0],ft.tl[1],ft.br[0],ft.br[1],Tt.pixelRatio,ft.pixelRatio),this.zoomOutPaintVertexArray.emplace(Xt,Tt.tl[0],Tt.tl[1],Tt.br[0],Tt.br[1],Lt.tl[0],Lt.tl[1],Lt.br[0],Lt.br[1],Tt.pixelRatio,Lt.pixelRatio)}},ka.prototype.upload=function(D){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=D.createVertexBuffer(this.zoomInPaintVertexArray,q.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=D.createVertexBuffer(this.zoomOutPaintVertexArray,q.members,this.expression.isStateDependent))},ka.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Ga=function(D,V,te,he){this.binders={},this.layoutAttributes=he,this._buffers=[];var be=[];for(var Ee in D.paint._values)if(te(Ee)){var je=D.paint.get(Ee);if(!(!(je instanceof Ya)||!Ts(je.property.specification))){var ft=Ci(Ee,D.type),Tt=je.value,Lt=je.property.specification.type,Xt=je.property.useIntegerZoom,cr=je.property.specification["property-type"],nr=cr==="cross-faded"||cr==="cross-faded-data-driven";if(Tt.kind==="constant")this.binders[Ee]=nr?new Ea(Tt.value,ft):new ga(Tt.value,ft,Lt),be.push("/u_"+Ee);else if(Tt.kind==="source"||nr){var Tr=vi(Ee,Lt,"source");this.binders[Ee]=nr?new ka(Tt,Lt,Xt,V,Tr,D.id):new Ma(Tt,ft,Lt,Tr),be.push("/a_"+Ee)}else{var jr=vi(Ee,Lt,"composite");this.binders[Ee]=new Ra(Tt,ft,Lt,Xt,V,jr),be.push("/z_"+Ee)}}}this.cacheKey=be.sort().join("")};Ga.prototype.getMaxValue=function(D){var V=this.binders[D];return V instanceof Ma||V instanceof Ra?V.maxValue:0},Ga.prototype.populatePaintArrays=function(D,V,te,he,be){for(var Ee in this.binders){var je=this.binders[Ee];(je instanceof Ma||je instanceof Ra||je instanceof ka)&&je.populatePaintArray(D,V,te,he,be)}},Ga.prototype.setConstantPatternPositions=function(D,V){for(var te in this.binders){var he=this.binders[te];he instanceof Ea&&he.setConstantPatternPositions(D,V)}},Ga.prototype.updatePaintArrays=function(D,V,te,he,be){var Ee=!1;for(var je in D)for(var ft=V.getPositions(je),Tt=0,Lt=ft;Tt<Lt.length;Tt+=1){var Xt=Lt[Tt],cr=te.feature(Xt.index);for(var nr in this.binders){var Tr=this.binders[nr];if((Tr instanceof Ma||Tr instanceof Ra||Tr instanceof ka)&&Tr.expression.isStateDependent===!0){var jr=he.paint.get(nr);Tr.expression=jr.value,Tr.updatePaintArray(Xt.start,Xt.end,cr,D[je],be),Ee=!0}}}return Ee},Ga.prototype.defines=function(){var D=[];for(var V in this.binders){var te=this.binders[V];(te instanceof ga||te instanceof Ea)&&D.push.apply(D,te.uniformNames.map(function(he){return"#define HAS_UNIFORM_"+he}))}return D},Ga.prototype.getPaintVertexBuffers=function(){return this._buffers},Ga.prototype.getUniforms=function(D,V){var te=[];for(var he in this.binders){var be=this.binders[he];if(be instanceof ga||be instanceof Ea||be instanceof Ra)for(var Ee=0,je=be.uniformNames;Ee<je.length;Ee+=1){var ft=je[Ee];if(V[ft]){var Tt=be.getBinding(D,V[ft],ft);te.push({name:ft,property:he,binding:Tt})}}}return te},Ga.prototype.setUniforms=function(D,V,te,he){for(var be=0,Ee=V;be<Ee.length;be+=1){var je=Ee[be],ft=je.name,Tt=je.property,Lt=je.binding;this.binders[Tt].setUniform(Lt,he,te.get(Tt),ft)}},Ga.prototype.updatePaintBuffers=function(D){this._buffers=[];for(var V in this.binders){var te=this.binders[V];if(D&&te instanceof ka){var he=D.fromScale===2?te.zoomInPaintVertexBuffer:te.zoomOutPaintVertexBuffer;he&&this._buffers.push(he)}else(te instanceof Ma||te instanceof Ra)&&te.paintVertexBuffer&&this._buffers.push(te.paintVertexBuffer)}},Ga.prototype.upload=function(D){for(var V in this.binders){var te=this.binders[V];(te instanceof Ma||te instanceof Ra||te instanceof ka)&&te.upload(D)}this.updatePaintBuffers()},Ga.prototype.destroy=function(){for(var D in this.binders){var V=this.binders[D];(V instanceof Ma||V instanceof Ra||V instanceof ka)&&V.destroy()}};var Ja=function(D,V,te,he){he===void 0&&(he=function(){return!0}),this.programConfigurations={};for(var be=0,Ee=V;be<Ee.length;be+=1){var je=Ee[be];this.programConfigurations[je.id]=new Ga(je,te,he,D)}this.needsUpload=!1,this._featureMap=new Vt,this._bufferOffset=0};Ja.prototype.populatePaintArrays=function(D,V,te,he,be,Ee){for(var je in this.programConfigurations)this.programConfigurations[je].populatePaintArrays(D,V,he,be,Ee);V.id!==void 0&&this._featureMap.add(V.id,te,this._bufferOffset,D),this._bufferOffset=D,this.needsUpload=!0},Ja.prototype.updatePaintArrays=function(D,V,te,he){for(var be=0,Ee=te;be<Ee.length;be+=1){var je=Ee[be];this.needsUpload=this.programConfigurations[je.id].updatePaintArrays(D,this._featureMap,V,je,he)||this.needsUpload}},Ja.prototype.get=function(D){return this.programConfigurations[D]},Ja.prototype.upload=function(D){if(this.needsUpload){for(var V in this.programConfigurations)this.programConfigurations[V].upload(D);this.needsUpload=!1}},Ja.prototype.destroy=function(){for(var D in this.programConfigurations)this.programConfigurations[D].destroy()};function Ci(R,D){var V={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return V[R]||[R.replace(D+"-","").replace(/-/g,"_")]}function qa(R){var D={"line-pattern":{source:Cs,composite:Cs},"fill-pattern":{source:Cs,composite:Cs},"fill-extrusion-pattern":{source:Cs,composite:Cs}};return D[R]}function vi(R,D,V){var te={color:{source:kf,composite:Gh},number:{source:cc,composite:kf}},he=qa(R);return he&&he[V]||te[D][V]}le("ConstantBinder",ga),le("CrossFadedConstantBinder",Ea),le("SourceExpressionBinder",Ma),le("CrossFadedCompositeBinder",ka),le("CompositeExpressionBinder",Ra),le("ProgramConfiguration",Ga,{omit:["_buffers"]}),le("ProgramConfigurationSet",Ja);var Ua=8192;function Li(R){return{min:-1*Math.pow(2,R-1),max:Math.pow(2,R-1)-1}}var Pi=Li(15);function Di(R){for(var D=Ua/R.extent,V=R.loadGeometry(),te=0;te<V.length;te++)for(var he=V[te],be=0;be<he.length;be++){var Ee=he[be];Ee.x=Math.round(Ee.x*D),Ee.y=Math.round(Ee.y*D),(Ee.x<Pi.min||Ee.x>Pi.max||Ee.y<Pi.min||Ee.y>Pi.max)&&(N("Geometry exceeds allowed extent, reduce your vector tile buffer size"),Ee.x=l(Ee.x,Pi.min,Pi.max),Ee.y=l(Ee.y,Pi.min,Pi.max))}return V}function gi(R,D,V,te,he){R.emplaceBack(D*2+(te+1)/2,V*2+(he+1)/2)}var Bi=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(V){return V.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new Ql,this.indexArray=new lf,this.segments=new Y,this.programConfigurations=new Ja(ce,D.layers,D.zoom),this.stateDependentLayerIds=this.layers.filter(function(V){return V.isStateDependent()}).map(function(V){return V.id})};Bi.prototype.populate=function(D,V,te){var he=this.layers[0],be=[],Ee=null;he.type==="circle"&&(Ee=he.layout.get("circle-sort-key"));for(var je=0,ft=D;je<ft.length;je+=1){var Tt=ft[je],Lt=Tt.feature,Xt=Tt.id,cr=Tt.index,nr=Tt.sourceLayerIndex,Tr=this.layers[0]._featureFilter.needGeometry,jr={type:Lt.type,id:Xt,properties:Lt.properties,geometry:Tr?Di(Lt):[]};if(this.layers[0]._featureFilter.filter(new kn(this.zoom),jr,te)){Tr||(jr.geometry=Di(Lt));var vn=Ee?Ee.evaluate(jr,{},te):void 0,ln={id:Xt,properties:Lt.properties,type:Lt.type,sourceLayerIndex:nr,index:cr,geometry:jr.geometry,patterns:{},sortKey:vn};be.push(ln)}}Ee&&be.sort(function(La,Ia){return La.sortKey-Ia.sortKey});for(var Fn=0,En=be;Fn<En.length;Fn+=1){var _n=En[Fn],Wn=_n,ea=Wn.geometry,ha=Wn.index,la=Wn.sourceLayerIndex,Ba=D[ha].feature;this.addFeature(_n,ea,ha,te),V.featureIndex.insert(Ba,ea,ha,la,this.index)}},Bi.prototype.update=function(D,V,te){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,V,this.stateDependentLayers,te)},Bi.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Bi.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Bi.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,ce),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},Bi.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Bi.prototype.addFeature=function(D,V,te,he){for(var be=0,Ee=V;be<Ee.length;be+=1)for(var je=Ee[be],ft=0,Tt=je;ft<Tt.length;ft+=1){var Lt=Tt[ft],Xt=Lt.x,cr=Lt.y;if(!(Xt<0||Xt>=Ua||cr<0||cr>=Ua)){var nr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,D.sortKey),Tr=nr.vertexLength;gi(this.layoutVertexArray,Xt,cr,-1,-1),gi(this.layoutVertexArray,Xt,cr,1,-1),gi(this.layoutVertexArray,Xt,cr,1,1),gi(this.layoutVertexArray,Xt,cr,-1,1),this.indexArray.emplaceBack(Tr,Tr+1,Tr+2),this.indexArray.emplaceBack(Tr,Tr+3,Tr+2),nr.vertexLength+=4,nr.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,te,{},he)},le("CircleBucket",Bi,{omit:["layers"]});function $a(R,D){for(var V=0;V<R.length;V++)if(Ls(D,R[V]))return!0;for(var te=0;te<D.length;te++)if(Ls(R,D[te]))return!0;return!!Rl(R,D)}function yi(R,D,V){return!!(Ls(R,D)||Cu(D,R,V))}function to(R,D){if(R.length===1)return Lu(D,R[0]);for(var V=0;V<D.length;V++)for(var te=D[V],he=0;he<te.length;he++)if(Ls(R,te[he]))return!0;for(var be=0;be<R.length;be++)if(Lu(D,R[be]))return!0;for(var Ee=0;Ee<D.length;Ee++)if(Rl(R,D[Ee]))return!0;return!1}function Mo(R,D,V){for(var te=0;te<D.length;te++){var he=D[te];if(R.length>=3){for(var be=0;be<he.length;be++)if(Ls(R,he[be]))return!0}if(Pl(R,he,V))return!0}return!1}function Pl(R,D,V){if(R.length>1){if(Rl(R,D))return!0;for(var te=0;te<D.length;te++)if(Cu(D[te],R,V))return!0}for(var he=0;he<R.length;he++)if(Cu(R[he],D,V))return!0;return!1}function Rl(R,D){if(R.length===0||D.length===0)return!1;for(var V=0;V<R.length-1;V++)for(var te=R[V],he=R[V+1],be=0;be<D.length-1;be++){var Ee=D[be],je=D[be+1];if(Eu(te,he,Ee,je))return!0}return!1}function Eu(R,D,V,te){return k(R,V,te)!==k(D,V,te)&&k(R,D,V)!==k(R,D,te)}function Cu(R,D,V){var te=V*V;if(D.length===1)return R.distSqr(D[0])<te;for(var he=1;he<D.length;he++){var be=D[he-1],Ee=D[he];if(uf(R,be,Ee)<te)return!0}return!1}function uf(R,D,V){var te=D.distSqr(V);if(te===0)return R.distSqr(D);var he=((R.x-D.x)*(V.x-D.x)+(R.y-D.y)*(V.y-D.y))/te;return he<0?R.distSqr(D):he>1?R.distSqr(V):R.distSqr(V.sub(D)._mult(he)._add(D))}function Lu(R,D){for(var V=!1,te,he,be,Ee=0;Ee<R.length;Ee++){te=R[Ee];for(var je=0,ft=te.length-1;je<te.length;ft=je++)he=te[je],be=te[ft],he.y>D.y!=be.y>D.y&&D.x<(be.x-he.x)*(D.y-he.y)/(be.y-he.y)+he.x&&(V=!V)}return V}function Ls(R,D){for(var V=!1,te=0,he=R.length-1;te<R.length;he=te++){var be=R[te],Ee=R[he];be.y>D.y!=Ee.y>D.y&&D.x<(Ee.x-be.x)*(D.y-be.y)/(Ee.y-be.y)+be.x&&(V=!V)}return V}function Ff(R,D,V,te,he){for(var be=0,Ee=R;be<Ee.length;be+=1){var je=Ee[be];if(D<=je.x&&V<=je.y&&te>=je.x&&he>=je.y)return!0}var ft=[new t(D,V),new t(D,he),new t(te,he),new t(te,V)];if(R.length>2)for(var Tt=0,Lt=ft;Tt<Lt.length;Tt+=1){var Xt=Lt[Tt];if(Ls(R,Xt))return!0}for(var cr=0;cr<R.length-1;cr++){var nr=R[cr],Tr=R[cr+1];if(rs(nr,Tr,ft))return!0}return!1}function rs(R,D,V){var te=V[0],he=V[2];if(R.x<te.x&&D.x<te.x||R.x>he.x&&D.x>he.x||R.y<te.y&&D.y<te.y||R.y>he.y&&D.y>he.y)return!1;var be=k(R,D,V[0]);return be!==k(R,D,V[1])||be!==k(R,D,V[2])||be!==k(R,D,V[3])}function hl(R,D,V){var te=D.paint.get(R).value;return te.kind==="constant"?te.value:V.programConfigurations.get(D.id).getMaxValue(R)}function Pu(R){return Math.sqrt(R[0]*R[0]+R[1]*R[1])}function ql(R,D,V,te,he){if(!D[0]&&!D[1])return R;var be=t.convert(D)._mult(he);V==="viewport"&&be._rotate(-te);for(var Ee=[],je=0;je<R.length;je++){var ft=R[je];Ee.push(ft.sub(be))}return Ee}var Ru=new Qa({"circle-sort-key":new na(Jt.layout_circle["circle-sort-key"])}),eh=new Qa({"circle-radius":new na(Jt.paint_circle["circle-radius"]),"circle-color":new na(Jt.paint_circle["circle-color"]),"circle-blur":new na(Jt.paint_circle["circle-blur"]),"circle-opacity":new na(Jt.paint_circle["circle-opacity"]),"circle-translate":new Xn(Jt.paint_circle["circle-translate"]),"circle-translate-anchor":new Xn(Jt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Xn(Jt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Xn(Jt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new na(Jt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new na(Jt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new na(Jt.paint_circle["circle-stroke-opacity"])}),Kf={paint:eh,layout:Ru},Zo=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var R=arguments,D=0,V=arguments.length;V--;)D+=R[V]*R[V];return Math.sqrt(D)});function _c(){var R=new Zo(4);return Zo!=Float32Array&&(R[1]=0,R[2]=0),R[0]=1,R[3]=1,R}function cs(R,D,V){var te=D[0],he=D[1],be=D[2],Ee=D[3],je=Math.sin(V),ft=Math.cos(V);return R[0]=te*ft+be*je,R[1]=he*ft+Ee*je,R[2]=te*-je+be*ft,R[3]=he*-je+Ee*ft,R}function Fc(){var R=new Zo(9);return Zo!=Float32Array&&(R[1]=0,R[2]=0,R[3]=0,R[5]=0,R[6]=0,R[7]=0),R[0]=1,R[4]=1,R[8]=1,R}function th(R,D){var V=Math.sin(D),te=Math.cos(D);return R[0]=te,R[1]=V,R[2]=0,R[3]=-V,R[4]=te,R[5]=0,R[6]=0,R[7]=0,R[8]=1,R}function rh(){var R=new Zo(16);return Zo!=Float32Array&&(R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[11]=0,R[12]=0,R[13]=0,R[14]=0),R[0]=1,R[5]=1,R[10]=1,R[15]=1,R}function Lv(R){var D=new Zo(16);return D[0]=R[0],D[1]=R[1],D[2]=R[2],D[3]=R[3],D[4]=R[4],D[5]=R[5],D[6]=R[6],D[7]=R[7],D[8]=R[8],D[9]=R[9],D[10]=R[10],D[11]=R[11],D[12]=R[12],D[13]=R[13],D[14]=R[14],D[15]=R[15],D}function nh(R){return R[0]=1,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=1,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[10]=1,R[11]=0,R[12]=0,R[13]=0,R[14]=0,R[15]=1,R}function dc(R,D){var V=D[0],te=D[1],he=D[2],be=D[3],Ee=D[4],je=D[5],ft=D[6],Tt=D[7],Lt=D[8],Xt=D[9],cr=D[10],nr=D[11],Tr=D[12],jr=D[13],vn=D[14],ln=D[15],Fn=V*je-te*Ee,En=V*ft-he*Ee,_n=V*Tt-be*Ee,Wn=te*ft-he*je,ea=te*Tt-be*je,ha=he*Tt-be*ft,la=Lt*jr-Xt*Tr,Ba=Lt*vn-cr*Tr,La=Lt*ln-nr*Tr,Ia=Xt*vn-cr*jr,Ka=Xt*ln-nr*jr,_a=cr*ln-nr*vn,za=Fn*_a-En*Ka+_n*Ia+Wn*La-ea*Ba+ha*la;return za?(za=1/za,R[0]=(je*_a-ft*Ka+Tt*Ia)*za,R[1]=(he*Ka-te*_a-be*Ia)*za,R[2]=(jr*ha-vn*ea+ln*Wn)*za,R[3]=(cr*ea-Xt*ha-nr*Wn)*za,R[4]=(ft*La-Ee*_a-Tt*Ba)*za,R[5]=(V*_a-he*La+be*Ba)*za,R[6]=(vn*_n-Tr*ha-ln*En)*za,R[7]=(Lt*ha-cr*_n+nr*En)*za,R[8]=(Ee*Ka-je*La+Tt*la)*za,R[9]=(te*La-V*Ka-be*la)*za,R[10]=(Tr*ea-jr*_n+ln*Fn)*za,R[11]=(Xt*_n-Lt*ea-nr*Fn)*za,R[12]=(je*Ba-Ee*Ia-ft*la)*za,R[13]=(V*Ia-te*Ba+he*la)*za,R[14]=(jr*En-Tr*Wn-vn*Fn)*za,R[15]=(Lt*Wn-Xt*En+cr*Fn)*za,R):null}function pc(R,D,V){var te=D[0],he=D[1],be=D[2],Ee=D[3],je=D[4],ft=D[5],Tt=D[6],Lt=D[7],Xt=D[8],cr=D[9],nr=D[10],Tr=D[11],jr=D[12],vn=D[13],ln=D[14],Fn=D[15],En=V[0],_n=V[1],Wn=V[2],ea=V[3];return R[0]=En*te+_n*je+Wn*Xt+ea*jr,R[1]=En*he+_n*ft+Wn*cr+ea*vn,R[2]=En*be+_n*Tt+Wn*nr+ea*ln,R[3]=En*Ee+_n*Lt+Wn*Tr+ea*Fn,En=V[4],_n=V[5],Wn=V[6],ea=V[7],R[4]=En*te+_n*je+Wn*Xt+ea*jr,R[5]=En*he+_n*ft+Wn*cr+ea*vn,R[6]=En*be+_n*Tt+Wn*nr+ea*ln,R[7]=En*Ee+_n*Lt+Wn*Tr+ea*Fn,En=V[8],_n=V[9],Wn=V[10],ea=V[11],R[8]=En*te+_n*je+Wn*Xt+ea*jr,R[9]=En*he+_n*ft+Wn*cr+ea*vn,R[10]=En*be+_n*Tt+Wn*nr+ea*ln,R[11]=En*Ee+_n*Lt+Wn*Tr+ea*Fn,En=V[12],_n=V[13],Wn=V[14],ea=V[15],R[12]=En*te+_n*je+Wn*Xt+ea*jr,R[13]=En*he+_n*ft+Wn*cr+ea*vn,R[14]=En*be+_n*Tt+Wn*nr+ea*ln,R[15]=En*Ee+_n*Lt+Wn*Tr+ea*Fn,R}function fo(R,D,V){var te=V[0],he=V[1],be=V[2],Ee,je,ft,Tt,Lt,Xt,cr,nr,Tr,jr,vn,ln;return D===R?(R[12]=D[0]*te+D[4]*he+D[8]*be+D[12],R[13]=D[1]*te+D[5]*he+D[9]*be+D[13],R[14]=D[2]*te+D[6]*he+D[10]*be+D[14],R[15]=D[3]*te+D[7]*he+D[11]*be+D[15]):(Ee=D[0],je=D[1],ft=D[2],Tt=D[3],Lt=D[4],Xt=D[5],cr=D[6],nr=D[7],Tr=D[8],jr=D[9],vn=D[10],ln=D[11],R[0]=Ee,R[1]=je,R[2]=ft,R[3]=Tt,R[4]=Lt,R[5]=Xt,R[6]=cr,R[7]=nr,R[8]=Tr,R[9]=jr,R[10]=vn,R[11]=ln,R[12]=Ee*te+Lt*he+Tr*be+D[12],R[13]=je*te+Xt*he+jr*be+D[13],R[14]=ft*te+cr*he+vn*be+D[14],R[15]=Tt*te+nr*he+ln*be+D[15]),R}function Xs(R,D,V){var te=V[0],he=V[1],be=V[2];return R[0]=D[0]*te,R[1]=D[1]*te,R[2]=D[2]*te,R[3]=D[3]*te,R[4]=D[4]*he,R[5]=D[5]*he,R[6]=D[6]*he,R[7]=D[7]*he,R[8]=D[8]*be,R[9]=D[9]*be,R[10]=D[10]*be,R[11]=D[11]*be,R[12]=D[12],R[13]=D[13],R[14]=D[14],R[15]=D[15],R}function js(R,D,V){var te=Math.sin(V),he=Math.cos(V),be=D[4],Ee=D[5],je=D[6],ft=D[7],Tt=D[8],Lt=D[9],Xt=D[10],cr=D[11];return D!==R&&(R[0]=D[0],R[1]=D[1],R[2]=D[2],R[3]=D[3],R[12]=D[12],R[13]=D[13],R[14]=D[14],R[15]=D[15]),R[4]=be*he+Tt*te,R[5]=Ee*he+Lt*te,R[6]=je*he+Xt*te,R[7]=ft*he+cr*te,R[8]=Tt*he-be*te,R[9]=Lt*he-Ee*te,R[10]=Xt*he-je*te,R[11]=cr*he-ft*te,R}function ah(R,D,V){var te=Math.sin(V),he=Math.cos(V),be=D[0],Ee=D[1],je=D[2],ft=D[3],Tt=D[4],Lt=D[5],Xt=D[6],cr=D[7];return D!==R&&(R[8]=D[8],R[9]=D[9],R[10]=D[10],R[11]=D[11],R[12]=D[12],R[13]=D[13],R[14]=D[14],R[15]=D[15]),R[0]=be*he+Tt*te,R[1]=Ee*he+Lt*te,R[2]=je*he+Xt*te,R[3]=ft*he+cr*te,R[4]=Tt*he-be*te,R[5]=Lt*he-Ee*te,R[6]=Xt*he-je*te,R[7]=cr*he-ft*te,R}function Zh(R,D,V,te,he){var be=1/Math.tan(D/2),Ee;return R[0]=be/V,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=be,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[11]=-1,R[12]=0,R[13]=0,R[15]=0,he!=null&&he!==1/0?(Ee=1/(te-he),R[10]=(he+te)*Ee,R[14]=2*he*te*Ee):(R[10]=-1,R[14]=-2*te),R}function _d(R,D,V,te,he,be,Ee){var je=1/(D-V),ft=1/(te-he),Tt=1/(be-Ee);return R[0]=-2*je,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=-2*ft,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[10]=2*Tt,R[11]=0,R[12]=(D+V)*je,R[13]=(he+te)*ft,R[14]=(Ee+be)*Tt,R[15]=1,R}var Fd=pc;function zc(){var R=new Zo(3);return Zo!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0),R}function zd(R){var D=new Zo(3);return D[0]=R[0],D[1]=R[1],D[2]=R[2],D}function ih(R,D,V){return R[0]=D[0]+V[0],R[1]=D[1]+V[1],R[2]=D[2]+V[2],R}function Od(R,D,V){return R[0]=D[0]-V[0],R[1]=D[1]-V[1],R[2]=D[2]-V[2],R}function Bd(R,D,V){return R[0]=D[0]*V,R[1]=D[1]*V,R[2]=D[2]*V,R}function Xh(R,D){var V=D[0],te=D[1],he=D[2],be=V*V+te*te+he*he;return be>0&&(be=1/Math.sqrt(be)),R[0]=D[0]*be,R[1]=D[1]*be,R[2]=D[2]*be,R}function Q1(R,D){return R[0]*D[0]+R[1]*D[1]+R[2]*D[2]}function $1(R,D,V){var te=D[0],he=D[1],be=D[2],Ee=V[0],je=V[1],ft=V[2];return R[0]=he*ft-be*je,R[1]=be*Ee-te*ft,R[2]=te*je-he*Ee,R}function q1(R,D,V){var te=D[0],he=D[1],be=D[2];return R[0]=te*V[0]+he*V[3]+be*V[6],R[1]=te*V[1]+he*V[4]+be*V[7],R[2]=te*V[2]+he*V[5]+be*V[8],R}var ex=Od;(function(){var R=zc();return function(D,V,te,he,be,Ee){var je,ft;for(V||(V=3),te||(te=0),he?ft=Math.min(he*V+te,D.length):ft=D.length,je=te;je<ft;je+=V)R[0]=D[je],R[1]=D[je+1],R[2]=D[je+2],be(R,R,Ee),D[je]=R[0],D[je+1]=R[1],D[je+2]=R[2];return D}})();function tx(){var R=new Zo(4);return Zo!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0,R[3]=0),R}function rx(R,D,V){return R[0]=D[0]*V,R[1]=D[1]*V,R[2]=D[2]*V,R[3]=D[3]*V,R}function nx(R,D){return R[0]*D[0]+R[1]*D[1]+R[2]*D[2]+R[3]*D[3]}function Pv(R,D,V){var te=D[0],he=D[1],be=D[2],Ee=D[3];return R[0]=V[0]*te+V[4]*he+V[8]*be+V[12]*Ee,R[1]=V[1]*te+V[5]*he+V[9]*be+V[13]*Ee,R[2]=V[2]*te+V[6]*he+V[10]*be+V[14]*Ee,R[3]=V[3]*te+V[7]*he+V[11]*be+V[15]*Ee,R}(function(){var R=tx();return function(D,V,te,he,be,Ee){var je,ft;for(V||(V=4),te||(te=0),he?ft=Math.min(he*V+te,D.length):ft=D.length,je=te;je<ft;je+=V)R[0]=D[je],R[1]=D[je+1],R[2]=D[je+2],R[3]=D[je+3],be(R,R,Ee),D[je]=R[0],D[je+1]=R[1],D[je+2]=R[2],D[je+3]=R[3];return D}})();function ax(){var R=new Zo(2);return Zo!=Float32Array&&(R[0]=0,R[1]=0),R}function ix(R){var D=R[0],V=R[1];return D*D+V*V}var ox=ix;(function(){var R=ax();return function(D,V,te,he,be,Ee){var je,ft;for(V||(V=2),te||(te=0),he?ft=Math.min(he*V+te,D.length):ft=D.length,je=te;je<ft;je+=V)R[0]=D[je],R[1]=D[je+1],be(R,R,Ee),D[je]=R[0],D[je+1]=R[1];return D}})();var sx=function(R){function D(V){R.call(this,V,Kf)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(te){return new Bi(te)},D.prototype.queryRadius=function(te){var he=te;return hl("circle-radius",this,he)+hl("circle-stroke-width",this,he)+Pu(this.paint.get("circle-translate"))},D.prototype.queryIntersectsFeature=function(te,he,be,Ee,je,ft,Tt,Lt){for(var Xt=ql(te,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),ft.angle,Tt),cr=this.paint.get("circle-radius").evaluate(he,be),nr=this.paint.get("circle-stroke-width").evaluate(he,be),Tr=cr+nr,jr=this.paint.get("circle-pitch-alignment")==="map",vn=jr?Xt:lx(Xt,Lt),ln=jr?Tr*Tt:Tr,Fn=0,En=Ee;Fn<En.length;Fn+=1)for(var _n=En[Fn],Wn=0,ea=_n;Wn<ea.length;Wn+=1){var ha=ea[Wn],la=jr?ha:mp(ha,Lt),Ba=ln,La=Pv([],[ha.x,ha.y,0,1],Lt);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Ba*=La[3]/ft.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Ba*=ft.cameraToCenterDistance/La[3]),yi(vn,la,Ba))return!0}return!1},D}(ja);function mp(R,D){var V=Pv([],[R.x,R.y,0,1],D);return new t(V[0]/V[3],V[1]/V[3])}function lx(R,D){return R.map(function(V){return mp(V,D)})}var xp=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Bi);le("HeatmapBucket",xp,{omit:["layers"]});function Nd(R,D,V,te){var he=D.width,be=D.height;if(!te)te=new Uint8Array(he*be*V);else if(te instanceof Uint8ClampedArray)te=new Uint8Array(te.buffer);else if(te.length!==he*be*V)throw new RangeError("mismatched image size");return R.width=he,R.height=be,R.data=te,R}function bp(R,D,V){var te=D.width,he=D.height;if(!(te===R.width&&he===R.height)){var be=Nd({},{width:te,height:he},V);Ud(R,be,{x:0,y:0},{x:0,y:0},{width:Math.min(R.width,te),height:Math.min(R.height,he)},V),R.width=te,R.height=he,R.data=be.data}}function Ud(R,D,V,te,he,be){if(he.width===0||he.height===0)return D;if(he.width>R.width||he.height>R.height||V.x>R.width-he.width||V.y>R.height-he.height)throw new RangeError("out of range source coordinates for image copy");if(he.width>D.width||he.height>D.height||te.x>D.width-he.width||te.y>D.height-he.height)throw new RangeError("out of range destination coordinates for image copy");for(var Ee=R.data,je=D.data,ft=0;ft<he.height;ft++)for(var Tt=((V.y+ft)*R.width+V.x)*be,Lt=((te.y+ft)*D.width+te.x)*be,Xt=0;Xt<he.width*be;Xt++)je[Lt+Xt]=Ee[Tt+Xt];return D}var Oc=function(D,V){Nd(this,D,1,V)};Oc.prototype.resize=function(D){bp(this,D,1)},Oc.prototype.clone=function(){return new Oc({width:this.width,height:this.height},new Uint8Array(this.data))},Oc.copy=function(D,V,te,he,be){Ud(D,V,te,he,be,1)};var Ks=function(D,V){Nd(this,D,4,V)};Ks.prototype.resize=function(D){bp(this,D,4)},Ks.prototype.replace=function(D,V){V?this.data.set(D):D instanceof Uint8ClampedArray?this.data=new Uint8Array(D.buffer):this.data=D},Ks.prototype.clone=function(){return new Ks({width:this.width,height:this.height},new Uint8Array(this.data))},Ks.copy=function(D,V,te,he,be){Ud(D,V,te,he,be,4)},le("AlphaImage",Oc),le("RGBAImage",Ks);var ux=new Qa({"heatmap-radius":new na(Jt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new na(Jt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Xn(Jt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new ci(Jt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Xn(Jt.paint_heatmap["heatmap-opacity"])}),fx={paint:ux};function wp(R,D){for(var V=new Uint8Array(1024),te={},he=0,be=0;he<256;he++,be+=4){te[D]=he/255;var Ee=R.evaluate(te);V[be+0]=Math.floor(Ee.r*255/Ee.a),V[be+1]=Math.floor(Ee.g*255/Ee.a),V[be+2]=Math.floor(Ee.b*255/Ee.a),V[be+3]=Math.floor(Ee.a*255)}return new Ks({width:256,height:1},V)}var cx=function(R){function D(V){R.call(this,V,fx),this._updateColorRamp()}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(te){return new xp(te)},D.prototype._handleSpecialPaintPropertyUpdate=function(te){te==="heatmap-color"&&this._updateColorRamp()},D.prototype._updateColorRamp=function(){var te=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=wp(te,"heatmapDensity"),this.colorRampTexture=null},D.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},D}(ja),hx=new Qa({"hillshade-illumination-direction":new Xn(Jt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Xn(Jt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Xn(Jt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Xn(Jt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Xn(Jt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Xn(Jt.paint_hillshade["hillshade-accent-color"])}),vx={paint:hx},dx=function(R){function D(V){R.call(this,V,vx)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},D}(ja),px=Ei([{name:"a_pos",components:2,type:"Int16"}],4),Tp=px.members,Vd=Rv,gx=Rv;function Rv(R,D,V){V=V||2;var te=D&&D.length,he=te?D[0]*V:R.length,be=Ap(R,0,he,V,!0),Ee=[];if(!be||be.next===be.prev)return Ee;var je,ft,Tt,Lt,Xt,cr,nr;if(te&&(be=wx(R,D,be,V)),R.length>80*V){je=Tt=R[0],ft=Lt=R[1];for(var Tr=V;Tr<he;Tr+=V)Xt=R[Tr],cr=R[Tr+1],Xt<je&&(je=Xt),cr<ft&&(ft=cr),Xt>Tt&&(Tt=Xt),cr>Lt&&(Lt=cr);nr=Math.max(Tt-je,Lt-ft),nr=nr!==0?1/nr:0}return jh(be,Ee,V,je,ft,nr),Ee}function Ap(R,D,V,te,he){var be,Ee;if(he===Wd(R,D,V,te)>0)for(be=D;be<V;be+=te)Ee=Ep(be,R[be],R[be+1],Ee);else for(be=V-te;be>=D;be-=te)Ee=Ep(be,R[be],R[be+1],Ee);return Ee&&Dv(Ee,Ee.next)&&(Jh(Ee),Ee=Ee.next),Ee}function gc(R,D){if(!R)return R;D||(D=R);var V=R,te;do if(te=!1,!V.steiner&&(Dv(V,V.next)||Eo(V.prev,V,V.next)===0)){if(Jh(V),V=D=V.prev,V===V.next)break;te=!0}else V=V.next;while(te||V!==D);return D}function jh(R,D,V,te,he,be,Ee){if(R){!Ee&&be&&Ex(R,te,he,be);for(var je=R,ft,Tt;R.prev!==R.next;){if(ft=R.prev,Tt=R.next,be?mx(R,te,he,be):yx(R)){D.push(ft.i/V),D.push(R.i/V),D.push(Tt.i/V),Jh(R),R=Tt.next,je=Tt.next;continue}if(R=Tt,R===je){Ee?Ee===1?(R=xx(gc(R),D,V),jh(R,D,V,te,he,be,2)):Ee===2&&bx(R,D,V,te,he,be):jh(gc(R),D,V,te,he,be,1);break}}}}function yx(R){var D=R.prev,V=R,te=R.next;if(Eo(D,V,te)>=0)return!1;for(var he=R.next.next;he!==R.prev;){if(oh(D.x,D.y,V.x,V.y,te.x,te.y,he.x,he.y)&&Eo(he.prev,he,he.next)>=0)return!1;he=he.next}return!0}function mx(R,D,V,te){var he=R.prev,be=R,Ee=R.next;if(Eo(he,be,Ee)>=0)return!1;for(var je=he.x<be.x?he.x<Ee.x?he.x:Ee.x:be.x<Ee.x?be.x:Ee.x,ft=he.y<be.y?he.y<Ee.y?he.y:Ee.y:be.y<Ee.y?be.y:Ee.y,Tt=he.x>be.x?he.x>Ee.x?he.x:Ee.x:be.x>Ee.x?be.x:Ee.x,Lt=he.y>be.y?he.y>Ee.y?he.y:Ee.y:be.y>Ee.y?be.y:Ee.y,Xt=Hd(je,ft,D,V,te),cr=Hd(Tt,Lt,D,V,te),nr=R.prevZ,Tr=R.nextZ;nr&&nr.z>=Xt&&Tr&&Tr.z<=cr;){if(nr!==R.prev&&nr!==R.next&&oh(he.x,he.y,be.x,be.y,Ee.x,Ee.y,nr.x,nr.y)&&Eo(nr.prev,nr,nr.next)>=0||(nr=nr.prevZ,Tr!==R.prev&&Tr!==R.next&&oh(he.x,he.y,be.x,be.y,Ee.x,Ee.y,Tr.x,Tr.y)&&Eo(Tr.prev,Tr,Tr.next)>=0))return!1;Tr=Tr.nextZ}for(;nr&&nr.z>=Xt;){if(nr!==R.prev&&nr!==R.next&&oh(he.x,he.y,be.x,be.y,Ee.x,Ee.y,nr.x,nr.y)&&Eo(nr.prev,nr,nr.next)>=0)return!1;nr=nr.prevZ}for(;Tr&&Tr.z<=cr;){if(Tr!==R.prev&&Tr!==R.next&&oh(he.x,he.y,be.x,be.y,Ee.x,Ee.y,Tr.x,Tr.y)&&Eo(Tr.prev,Tr,Tr.next)>=0)return!1;Tr=Tr.nextZ}return!0}function xx(R,D,V){var te=R;do{var he=te.prev,be=te.next.next;!Dv(he,be)&&Sp(he,te,te.next,be)&&Kh(he,be)&&Kh(be,he)&&(D.push(he.i/V),D.push(te.i/V),D.push(be.i/V),Jh(te),Jh(te.next),te=R=be),te=te.next}while(te!==R);return gc(te)}function bx(R,D,V,te,he,be){var Ee=R;do{for(var je=Ee.next.next;je!==Ee.prev;){if(Ee.i!==je.i&&Px(Ee,je)){var ft=Mp(Ee,je);Ee=gc(Ee,Ee.next),ft=gc(ft,ft.next),jh(Ee,D,V,te,he,be),jh(ft,D,V,te,he,be);return}je=je.next}Ee=Ee.next}while(Ee!==R)}function wx(R,D,V,te){var he=[],be,Ee,je,ft,Tt;for(be=0,Ee=D.length;be<Ee;be++)je=D[be]*te,ft=be<Ee-1?D[be+1]*te:R.length,Tt=Ap(R,je,ft,te,!1),Tt===Tt.next&&(Tt.steiner=!0),he.push(Lx(Tt));for(he.sort(Tx),be=0;be<he.length;be++)Ax(he[be],V),V=gc(V,V.next);return V}function Tx(R,D){return R.x-D.x}function Ax(R,D){if(D=Sx(R,D),D){var V=Mp(D,R);gc(D,D.next),gc(V,V.next)}}function Sx(R,D){var V=D,te=R.x,he=R.y,be=-1/0,Ee;do{if(he<=V.y&&he>=V.next.y&&V.next.y!==V.y){var je=V.x+(he-V.y)*(V.next.x-V.x)/(V.next.y-V.y);if(je<=te&&je>be){if(be=je,je===te){if(he===V.y)return V;if(he===V.next.y)return V.next}Ee=V.x<V.next.x?V:V.next}}V=V.next}while(V!==D);if(!Ee)return null;if(te===be)return Ee;var ft=Ee,Tt=Ee.x,Lt=Ee.y,Xt=1/0,cr;V=Ee;do te>=V.x&&V.x>=Tt&&te!==V.x&&oh(he<Lt?te:be,he,Tt,Lt,he<Lt?be:te,he,V.x,V.y)&&(cr=Math.abs(he-V.y)/(te-V.x),Kh(V,R)&&(cr<Xt||cr===Xt&&(V.x>Ee.x||V.x===Ee.x&&Mx(Ee,V)))&&(Ee=V,Xt=cr)),V=V.next;while(V!==ft);return Ee}function Mx(R,D){return Eo(R.prev,R,D.prev)<0&&Eo(D.next,R,R.next)<0}function Ex(R,D,V,te){var he=R;do he.z===null&&(he.z=Hd(he.x,he.y,D,V,te)),he.prevZ=he.prev,he.nextZ=he.next,he=he.next;while(he!==R);he.prevZ.nextZ=null,he.prevZ=null,Cx(he)}function Cx(R){var D,V,te,he,be,Ee,je,ft,Tt=1;do{for(V=R,R=null,be=null,Ee=0;V;){for(Ee++,te=V,je=0,D=0;D<Tt&&(je++,te=te.nextZ,!!te);D++);for(ft=Tt;je>0||ft>0&&te;)je!==0&&(ft===0||!te||V.z<=te.z)?(he=V,V=V.nextZ,je--):(he=te,te=te.nextZ,ft--),be?be.nextZ=he:R=he,he.prevZ=be,be=he;V=te}be.nextZ=null,Tt*=2}while(Ee>1);return R}function Hd(R,D,V,te,he){return R=32767*(R-V)*he,D=32767*(D-te)*he,R=(R|R<<8)&16711935,R=(R|R<<4)&252645135,R=(R|R<<2)&858993459,R=(R|R<<1)&1431655765,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,R|D<<1}function Lx(R){var D=R,V=R;do(D.x<V.x||D.x===V.x&&D.y<V.y)&&(V=D),D=D.next;while(D!==R);return V}function oh(R,D,V,te,he,be,Ee,je){return(he-Ee)*(D-je)-(R-Ee)*(be-je)>=0&&(R-Ee)*(te-je)-(V-Ee)*(D-je)>=0&&(V-Ee)*(be-je)-(he-Ee)*(te-je)>=0}function Px(R,D){return R.next.i!==D.i&&R.prev.i!==D.i&&!Rx(R,D)&&(Kh(R,D)&&Kh(D,R)&&Dx(R,D)&&(Eo(R.prev,R,D.prev)||Eo(R,D.prev,D))||Dv(R,D)&&Eo(R.prev,R,R.next)>0&&Eo(D.prev,D,D.next)>0)}function Eo(R,D,V){return(D.y-R.y)*(V.x-D.x)-(D.x-R.x)*(V.y-D.y)}function Dv(R,D){return R.x===D.x&&R.y===D.y}function Sp(R,D,V,te){var he=kv(Eo(R,D,V)),be=kv(Eo(R,D,te)),Ee=kv(Eo(V,te,R)),je=kv(Eo(V,te,D));return!!(he!==be&&Ee!==je||he===0&&Iv(R,V,D)||be===0&&Iv(R,te,D)||Ee===0&&Iv(V,R,te)||je===0&&Iv(V,D,te))}function Iv(R,D,V){return D.x<=Math.max(R.x,V.x)&&D.x>=Math.min(R.x,V.x)&&D.y<=Math.max(R.y,V.y)&&D.y>=Math.min(R.y,V.y)}function kv(R){return R>0?1:R<0?-1:0}function Rx(R,D){var V=R;do{if(V.i!==R.i&&V.next.i!==R.i&&V.i!==D.i&&V.next.i!==D.i&&Sp(V,V.next,R,D))return!0;V=V.next}while(V!==R);return!1}function Kh(R,D){return Eo(R.prev,R,R.next)<0?Eo(R,D,R.next)>=0&&Eo(R,R.prev,D)>=0:Eo(R,D,R.prev)<0||Eo(R,R.next,D)<0}function Dx(R,D){var V=R,te=!1,he=(R.x+D.x)/2,be=(R.y+D.y)/2;do V.y>be!=V.next.y>be&&V.next.y!==V.y&&he<(V.next.x-V.x)*(be-V.y)/(V.next.y-V.y)+V.x&&(te=!te),V=V.next;while(V!==R);return te}function Mp(R,D){var V=new Gd(R.i,R.x,R.y),te=new Gd(D.i,D.x,D.y),he=R.next,be=D.prev;return R.next=D,D.prev=R,V.next=he,he.prev=V,te.next=V,V.prev=te,be.next=te,te.prev=be,te}function Ep(R,D,V,te){var he=new Gd(R,D,V);return te?(he.next=te.next,he.prev=te,te.next.prev=he,te.next=he):(he.prev=he,he.next=he),he}function Jh(R){R.next.prev=R.prev,R.prev.next=R.next,R.prevZ&&(R.prevZ.nextZ=R.nextZ),R.nextZ&&(R.nextZ.prevZ=R.prevZ)}function Gd(R,D,V){this.i=R,this.x=D,this.y=V,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}Rv.deviation=function(R,D,V,te){var he=D&&D.length,be=he?D[0]*V:R.length,Ee=Math.abs(Wd(R,0,be,V));if(he)for(var je=0,ft=D.length;je<ft;je++){var Tt=D[je]*V,Lt=je<ft-1?D[je+1]*V:R.length;Ee-=Math.abs(Wd(R,Tt,Lt,V))}var Xt=0;for(je=0;je<te.length;je+=3){var cr=te[je]*V,nr=te[je+1]*V,Tr=te[je+2]*V;Xt+=Math.abs((R[cr]-R[Tr])*(R[nr+1]-R[cr+1])-(R[cr]-R[nr])*(R[Tr+1]-R[cr+1]))}return Ee===0&&Xt===0?0:Math.abs((Xt-Ee)/Ee)};function Wd(R,D,V,te){for(var he=0,be=D,Ee=V-te;be<V;be+=te)he+=(R[Ee]-R[be])*(R[be+1]+R[Ee+1]),Ee=be;return he}Rv.flatten=function(R){for(var D=R[0][0].length,V={vertices:[],holes:[],dimensions:D},te=0,he=0;he<R.length;he++){for(var be=0;be<R[he].length;be++)for(var Ee=0;Ee<D;Ee++)V.vertices.push(R[he][be][Ee]);he>0&&(te+=R[he-1].length,V.holes.push(te))}return V},Vd.default=gx;function Ix(R,D,V,te,he){Cp(R,D,V||0,te||R.length-1,he||kx)}function Cp(R,D,V,te,he){for(;te>V;){if(te-V>600){var be=te-V+1,Ee=D-V+1,je=Math.log(be),ft=.5*Math.exp(2*je/3),Tt=.5*Math.sqrt(je*ft*(be-ft)/be)*(Ee-be/2<0?-1:1),Lt=Math.max(V,Math.floor(D-Ee*ft/be+Tt)),Xt=Math.min(te,Math.floor(D+(be-Ee)*ft/be+Tt));Cp(R,D,Lt,Xt,he)}var cr=R[D],nr=V,Tr=te;for(Qh(R,V,D),he(R[te],cr)>0&&Qh(R,V,te);nr<Tr;){for(Qh(R,nr,Tr),nr++,Tr--;he(R[nr],cr)<0;)nr++;for(;he(R[Tr],cr)>0;)Tr--}he(R[V],cr)===0?Qh(R,V,Tr):(Tr++,Qh(R,Tr,te)),Tr<=D&&(V=Tr+1),D<=Tr&&(te=Tr-1)}}function Qh(R,D,V){var te=R[D];R[D]=R[V],R[V]=te}function kx(R,D){return R<D?-1:R>D?1:0}function Yd(R,D){var V=R.length;if(V<=1)return[R];for(var te=[],he,be,Ee=0;Ee<V;Ee++){var je=O(R[Ee]);je!==0&&(R[Ee].area=Math.abs(je),be===void 0&&(be=je<0),be===je<0?(he&&te.push(he),he=[R[Ee]]):he.push(R[Ee]))}if(he&&te.push(he),D>1)for(var ft=0;ft<te.length;ft++)te[ft].length<=D||(Ix(te[ft],D,1,te[ft].length-1,_x),te[ft]=te[ft].slice(0,D));return te}function _x(R,D){return D.area-R.area}function Zd(R,D,V){for(var te=V.patternDependencies,he=!1,be=0,Ee=D;be<Ee.length;be+=1){var je=Ee[be],ft=je.paint.get(R+"-pattern");ft.isConstant()||(he=!0);var Tt=ft.constantOr(null);Tt&&(he=!0,te[Tt.to]=!0,te[Tt.from]=!0)}return he}function Xd(R,D,V,te,he){for(var be=he.patternDependencies,Ee=0,je=D;Ee<je.length;Ee+=1){var ft=je[Ee],Tt=ft.paint.get(R+"-pattern"),Lt=Tt.value;if(Lt.kind!=="constant"){var Xt=Lt.evaluate({zoom:te-1},V,{},he.availableImages),cr=Lt.evaluate({zoom:te},V,{},he.availableImages),nr=Lt.evaluate({zoom:te+1},V,{},he.availableImages);Xt=Xt&&Xt.name?Xt.name:Xt,cr=cr&&cr.name?cr.name:cr,nr=nr&&nr.name?nr.name:nr,be[Xt]=!0,be[cr]=!0,be[nr]=!0,V.patterns[ft.id]={min:Xt,mid:cr,max:nr}}}return V}var Fx=500,ff=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(V){return V.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ql,this.indexArray=new lf,this.indexArray2=new kc,this.programConfigurations=new Ja(Tp,D.layers,D.zoom),this.segments=new Y,this.segments2=new Y,this.stateDependentLayerIds=this.layers.filter(function(V){return V.isStateDependent()}).map(function(V){return V.id})};ff.prototype.populate=function(D,V,te){this.hasPattern=Zd("fill",this.layers,V);for(var he=this.layers[0].layout.get("fill-sort-key"),be=[],Ee=0,je=D;Ee<je.length;Ee+=1){var ft=je[Ee],Tt=ft.feature,Lt=ft.id,Xt=ft.index,cr=ft.sourceLayerIndex,nr=this.layers[0]._featureFilter.needGeometry,Tr={type:Tt.type,id:Lt,properties:Tt.properties,geometry:nr?Di(Tt):[]};if(this.layers[0]._featureFilter.filter(new kn(this.zoom),Tr,te)){nr||(Tr.geometry=Di(Tt));var jr=he?he.evaluate(Tr,{},te,V.availableImages):void 0,vn={id:Lt,properties:Tt.properties,type:Tt.type,sourceLayerIndex:cr,index:Xt,geometry:Tr.geometry,patterns:{},sortKey:jr};be.push(vn)}}he&&be.sort(function(La,Ia){return La.sortKey-Ia.sortKey});for(var ln=0,Fn=be;ln<Fn.length;ln+=1){var En=Fn[ln],_n=En,Wn=_n.geometry,ea=_n.index,ha=_n.sourceLayerIndex;if(this.hasPattern){var la=Xd("fill",this.layers,En,this.zoom,V);this.patternFeatures.push(la)}else this.addFeature(En,Wn,ea,te,{});var Ba=D[ea].feature;V.featureIndex.insert(Ba,Wn,ea,ha,this.index)}},ff.prototype.update=function(D,V,te){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,V,this.stateDependentLayers,te)},ff.prototype.addFeatures=function(D,V,te){for(var he=0,be=this.patternFeatures;he<be.length;he+=1){var Ee=be[he];this.addFeature(Ee,Ee.geometry,Ee.index,V,te)}},ff.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},ff.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ff.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,Tp),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.indexBuffer2=D.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(D),this.uploaded=!0},ff.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},ff.prototype.addFeature=function(D,V,te,he,be){for(var Ee=0,je=Yd(V,Fx);Ee<je.length;Ee+=1){for(var ft=je[Ee],Tt=0,Lt=0,Xt=ft;Lt<Xt.length;Lt+=1){var cr=Xt[Lt];Tt+=cr.length}for(var nr=this.segments.prepareSegment(Tt,this.layoutVertexArray,this.indexArray),Tr=nr.vertexLength,jr=[],vn=[],ln=0,Fn=ft;ln<Fn.length;ln+=1){var En=Fn[ln];if(En.length!==0){En!==ft[0]&&vn.push(jr.length/2);var _n=this.segments2.prepareSegment(En.length,this.layoutVertexArray,this.indexArray2),Wn=_n.vertexLength;this.layoutVertexArray.emplaceBack(En[0].x,En[0].y),this.indexArray2.emplaceBack(Wn+En.length-1,Wn),jr.push(En[0].x),jr.push(En[0].y);for(var ea=1;ea<En.length;ea++)this.layoutVertexArray.emplaceBack(En[ea].x,En[ea].y),this.indexArray2.emplaceBack(Wn+ea-1,Wn+ea),jr.push(En[ea].x),jr.push(En[ea].y);_n.vertexLength+=En.length,_n.primitiveLength+=En.length}}for(var ha=Vd(jr,vn),la=0;la<ha.length;la+=3)this.indexArray.emplaceBack(Tr+ha[la],Tr+ha[la+1],Tr+ha[la+2]);nr.vertexLength+=Tt,nr.primitiveLength+=ha.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,te,be,he)},le("FillBucket",ff,{omit:["layers","patternFeatures"]});var zx=new Qa({"fill-sort-key":new na(Jt.layout_fill["fill-sort-key"])}),Ox=new Qa({"fill-antialias":new Xn(Jt.paint_fill["fill-antialias"]),"fill-opacity":new na(Jt.paint_fill["fill-opacity"]),"fill-color":new na(Jt.paint_fill["fill-color"]),"fill-outline-color":new na(Jt.paint_fill["fill-outline-color"]),"fill-translate":new Xn(Jt.paint_fill["fill-translate"]),"fill-translate-anchor":new Xn(Jt.paint_fill["fill-translate-anchor"]),"fill-pattern":new Ha(Jt.paint_fill["fill-pattern"])}),Bx={paint:Ox,layout:zx},Nx=function(R){function D(V){R.call(this,V,Bx)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(te,he){R.prototype.recalculate.call(this,te,he);var be=this.paint._values["fill-outline-color"];be.value.kind==="constant"&&be.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},D.prototype.createBucket=function(te){return new ff(te)},D.prototype.queryRadius=function(){return Pu(this.paint.get("fill-translate"))},D.prototype.queryIntersectsFeature=function(te,he,be,Ee,je,ft,Tt){var Lt=ql(te,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),ft.angle,Tt);return to(Lt,Ee)},D.prototype.isTileClipped=function(){return!0},D}(ja),Ux=Ei([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),Lp=Ux.members,Pp=sh;function sh(R,D,V,te,he){this.properties={},this.extent=V,this.type=0,this._pbf=R,this._geometry=-1,this._keys=te,this._values=he,R.readFields(Vx,this,D)}function Vx(R,D,V){R==1?D.id=V.readVarint():R==2?Hx(V,D):R==3?D.type=V.readVarint():R==4&&(D._geometry=V.pos)}function Hx(R,D){for(var V=R.readVarint()+R.pos;R.pos<V;){var te=D._keys[R.readVarint()],he=D._values[R.readVarint()];D.properties[te]=he}}sh.types=["Unknown","Point","LineString","Polygon"],sh.prototype.loadGeometry=function(){var R=this._pbf;R.pos=this._geometry;for(var D=R.readVarint()+R.pos,V=1,te=0,he=0,be=0,Ee=[],je;R.pos<D;){if(te<=0){var ft=R.readVarint();V=ft&7,te=ft>>3}if(te--,V===1||V===2)he+=R.readSVarint(),be+=R.readSVarint(),V===1&&(je&&Ee.push(je),je=[]),je.push(new t(he,be));else if(V===7)je&&je.push(je[0].clone());else throw new Error("unknown command "+V)}return je&&Ee.push(je),Ee},sh.prototype.bbox=function(){var R=this._pbf;R.pos=this._geometry;for(var D=R.readVarint()+R.pos,V=1,te=0,he=0,be=0,Ee=1/0,je=-1/0,ft=1/0,Tt=-1/0;R.pos<D;){if(te<=0){var Lt=R.readVarint();V=Lt&7,te=Lt>>3}if(te--,V===1||V===2)he+=R.readSVarint(),be+=R.readSVarint(),he<Ee&&(Ee=he),he>je&&(je=he),be<ft&&(ft=be),be>Tt&&(Tt=be);else if(V!==7)throw new Error("unknown command "+V)}return[Ee,ft,je,Tt]},sh.prototype.toGeoJSON=function(R,D,V){var te=this.extent*Math.pow(2,V),he=this.extent*R,be=this.extent*D,Ee=this.loadGeometry(),je=sh.types[this.type],ft,Tt;function Lt(nr){for(var Tr=0;Tr<nr.length;Tr++){var jr=nr[Tr],vn=180-(jr.y+be)*360/te;nr[Tr]=[(jr.x+he)*360/te-180,360/Math.PI*Math.atan(Math.exp(vn*Math.PI/180))-90]}}switch(this.type){case 1:var Xt=[];for(ft=0;ft<Ee.length;ft++)Xt[ft]=Ee[ft][0];Ee=Xt,Lt(Ee);break;case 2:for(ft=0;ft<Ee.length;ft++)Lt(Ee[ft]);break;case 3:for(Ee=Gx(Ee),ft=0;ft<Ee.length;ft++)for(Tt=0;Tt<Ee[ft].length;Tt++)Lt(Ee[ft][Tt]);break}Ee.length===1?Ee=Ee[0]:je="Multi"+je;var cr={type:"Feature",geometry:{type:je,coordinates:Ee},properties:this.properties};return"id"in this&&(cr.id=this.id),cr};function Gx(R){var D=R.length;if(D<=1)return[R];for(var V=[],te,he,be=0;be<D;be++){var Ee=Wx(R[be]);Ee!==0&&(he===void 0&&(he=Ee<0),he===Ee<0?(te&&V.push(te),te=[R[be]]):te.push(R[be]))}return te&&V.push(te),V}function Wx(R){for(var D=0,V=0,te=R.length,he=te-1,be,Ee;V<te;he=V++)be=R[V],Ee=R[he],D+=(Ee.x-be.x)*(be.y+Ee.y);return D}var Rp=Dp;function Dp(R,D){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=R,this._keys=[],this._values=[],this._features=[],R.readFields(Yx,this,D),this.length=this._features.length}function Yx(R,D,V){R===15?D.version=V.readVarint():R===1?D.name=V.readString():R===5?D.extent=V.readVarint():R===2?D._features.push(V.pos):R===3?D._keys.push(V.readString()):R===4&&D._values.push(Zx(V))}function Zx(R){for(var D=null,V=R.readVarint()+R.pos;R.pos<V;){var te=R.readVarint()>>3;D=te===1?R.readString():te===2?R.readFloat():te===3?R.readDouble():te===4?R.readVarint64():te===5?R.readVarint():te===6?R.readSVarint():te===7?R.readBoolean():null}return D}Dp.prototype.feature=function(R){if(R<0||R>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[R];var D=this._pbf.readVarint()+this._pbf.pos;return new Pp(this._pbf,D,this.extent,this._keys,this._values)};var Xx=jx;function jx(R,D){this.layers=R.readFields(Kx,{},D)}function Kx(R,D,V){if(R===3){var te=new Rp(V,V.readVarint()+V.pos);te.length&&(D[te.name]=te)}}var Jx=Xx,Qx=Pp,$x=Rp,lh={VectorTile:Jx,VectorTileFeature:Qx,VectorTileLayer:$x},qx=lh.VectorTileFeature.types,e2=500,jd=Math.pow(2,13);function $h(R,D,V,te,he,be,Ee,je){R.emplaceBack(D,V,Math.floor(te*jd)*2+Ee,he*jd*2,be*jd*2,Math.round(je))}var cf=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(V){return V.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new Mu,this.indexArray=new lf,this.programConfigurations=new Ja(Lp,D.layers,D.zoom),this.segments=new Y,this.stateDependentLayerIds=this.layers.filter(function(V){return V.isStateDependent()}).map(function(V){return V.id})};cf.prototype.populate=function(D,V,te){this.features=[],this.hasPattern=Zd("fill-extrusion",this.layers,V);for(var he=0,be=D;he<be.length;he+=1){var Ee=be[he],je=Ee.feature,ft=Ee.id,Tt=Ee.index,Lt=Ee.sourceLayerIndex,Xt=this.layers[0]._featureFilter.needGeometry,cr={type:je.type,id:ft,properties:je.properties,geometry:Xt?Di(je):[]};if(this.layers[0]._featureFilter.filter(new kn(this.zoom),cr,te)){var nr={id:ft,sourceLayerIndex:Lt,index:Tt,geometry:Xt?cr.geometry:Di(je),properties:je.properties,type:je.type,patterns:{}};typeof je.id<"u"&&(nr.id=je.id),this.hasPattern?this.features.push(Xd("fill-extrusion",this.layers,nr,this.zoom,V)):this.addFeature(nr,nr.geometry,Tt,te,{}),V.featureIndex.insert(je,nr.geometry,Tt,Lt,this.index,!0)}}},cf.prototype.addFeatures=function(D,V,te){for(var he=0,be=this.features;he<be.length;he+=1){var Ee=be[he],je=Ee.geometry;this.addFeature(Ee,je,Ee.index,V,te)}},cf.prototype.update=function(D,V,te){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,V,this.stateDependentLayers,te)},cf.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},cf.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},cf.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,Lp),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},cf.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},cf.prototype.addFeature=function(D,V,te,he,be){for(var Ee=0,je=Yd(V,e2);Ee<je.length;Ee+=1){for(var ft=je[Ee],Tt=0,Lt=0,Xt=ft;Lt<Xt.length;Lt+=1){var cr=Xt[Lt];Tt+=cr.length}for(var nr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),Tr=0,jr=ft;Tr<jr.length;Tr+=1){var vn=jr[Tr];if(vn.length!==0&&!r2(vn))for(var ln=0,Fn=0;Fn<vn.length;Fn++){var En=vn[Fn];if(Fn>=1){var _n=vn[Fn-1];if(!t2(En,_n)){nr.vertexLength+4>Y.MAX_VERTEX_ARRAY_LENGTH&&(nr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Wn=En.sub(_n)._perp()._unit(),ea=_n.dist(En);ln+ea>32768&&(ln=0),$h(this.layoutVertexArray,En.x,En.y,Wn.x,Wn.y,0,0,ln),$h(this.layoutVertexArray,En.x,En.y,Wn.x,Wn.y,0,1,ln),ln+=ea,$h(this.layoutVertexArray,_n.x,_n.y,Wn.x,Wn.y,0,0,ln),$h(this.layoutVertexArray,_n.x,_n.y,Wn.x,Wn.y,0,1,ln);var ha=nr.vertexLength;this.indexArray.emplaceBack(ha,ha+2,ha+1),this.indexArray.emplaceBack(ha+1,ha+2,ha+3),nr.vertexLength+=4,nr.primitiveLength+=2}}}}if(nr.vertexLength+Tt>Y.MAX_VERTEX_ARRAY_LENGTH&&(nr=this.segments.prepareSegment(Tt,this.layoutVertexArray,this.indexArray)),qx[D.type]==="Polygon"){for(var la=[],Ba=[],La=nr.vertexLength,Ia=0,Ka=ft;Ia<Ka.length;Ia+=1){var _a=Ka[Ia];if(_a.length!==0){_a!==ft[0]&&Ba.push(la.length/2);for(var za=0;za<_a.length;za++){var ei=_a[za];$h(this.layoutVertexArray,ei.x,ei.y,0,0,1,1,0),la.push(ei.x),la.push(ei.y)}}}for(var Xa=Vd(la,Ba),bi=0;bi<Xa.length;bi+=3)this.indexArray.emplaceBack(La+Xa[bi],La+Xa[bi+2],La+Xa[bi+1]);nr.primitiveLength+=Xa.length/3,nr.vertexLength+=Tt}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,te,be,he)},le("FillExtrusionBucket",cf,{omit:["layers","features"]});function t2(R,D){return R.x===D.x&&(R.x<0||R.x>Ua)||R.y===D.y&&(R.y<0||R.y>Ua)}function r2(R){return R.every(function(D){return D.x<0})||R.every(function(D){return D.x>Ua})||R.every(function(D){return D.y<0})||R.every(function(D){return D.y>Ua})}var n2=new Qa({"fill-extrusion-opacity":new Xn(Jt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new na(Jt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Xn(Jt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Xn(Jt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Ha(Jt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new na(Jt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new na(Jt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Xn(Jt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),a2={paint:n2},i2=function(R){function D(V){R.call(this,V,a2)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(te){return new cf(te)},D.prototype.queryRadius=function(){return Pu(this.paint.get("fill-extrusion-translate"))},D.prototype.is3D=function(){return!0},D.prototype.queryIntersectsFeature=function(te,he,be,Ee,je,ft,Tt,Lt){var Xt=ql(te,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),ft.angle,Tt),cr=this.paint.get("fill-extrusion-height").evaluate(he,be),nr=this.paint.get("fill-extrusion-base").evaluate(he,be),Tr=l2(Xt,Lt,ft,0),jr=s2(Ee,nr,cr,Lt),vn=jr[0],ln=jr[1];return o2(vn,ln,Tr)},D}(ja);function qh(R,D){return R.x*D.x+R.y*D.y}function Ip(R,D){if(R.length===1){for(var V=0,te=D[V++],he;!he||te.equals(he);)if(he=D[V++],!he)return 1/0;for(;V<D.length;V++){var be=D[V],Ee=R[0],je=he.sub(te),ft=be.sub(te),Tt=Ee.sub(te),Lt=qh(je,je),Xt=qh(je,ft),cr=qh(ft,ft),nr=qh(Tt,je),Tr=qh(Tt,ft),jr=Lt*cr-Xt*Xt,vn=(cr*nr-Xt*Tr)/jr,ln=(Lt*Tr-Xt*nr)/jr,Fn=1-vn-ln,En=te.z*Fn+he.z*vn+be.z*ln;if(isFinite(En))return En}return 1/0}else{for(var _n=1/0,Wn=0,ea=D;Wn<ea.length;Wn+=1){var ha=ea[Wn];_n=Math.min(_n,ha.z)}return _n}}function o2(R,D,V){var te=1/0;to(V,D)&&(te=Ip(V,D[0]));for(var he=0;he<D.length;he++)for(var be=D[he],Ee=R[he],je=0;je<be.length-1;je++){var ft=be[je],Tt=be[je+1],Lt=Ee[je],Xt=Ee[je+1],cr=[ft,Tt,Xt,Lt,ft];$a(V,cr)&&(te=Math.min(te,Ip(V,cr)))}return te===1/0?!1:te}function s2(R,D,V,te){for(var he=[],be=[],Ee=te[8]*D,je=te[9]*D,ft=te[10]*D,Tt=te[11]*D,Lt=te[8]*V,Xt=te[9]*V,cr=te[10]*V,nr=te[11]*V,Tr=0,jr=R;Tr<jr.length;Tr+=1){for(var vn=jr[Tr],ln=[],Fn=[],En=0,_n=vn;En<_n.length;En+=1){var Wn=_n[En],ea=Wn.x,ha=Wn.y,la=te[0]*ea+te[4]*ha+te[12],Ba=te[1]*ea+te[5]*ha+te[13],La=te[2]*ea+te[6]*ha+te[14],Ia=te[3]*ea+te[7]*ha+te[15],Ka=la+Ee,_a=Ba+je,za=La+ft,ei=Ia+Tt,Xa=la+Lt,bi=Ba+Xt,_i=La+cr,wi=Ia+nr,Ti=new t(Ka/ei,_a/ei);Ti.z=za/ei,ln.push(Ti);var mi=new t(Xa/wi,bi/wi);mi.z=_i/wi,Fn.push(mi)}he.push(ln),be.push(Fn)}return[he,be]}function l2(R,D,V,te){for(var he=[],be=0,Ee=R;be<Ee.length;be+=1){var je=Ee[be],ft=[je.x,je.y,te,1];Pv(ft,ft,D),he.push(new t(ft[0]/ft[3],ft[1]/ft[3]))}return he}var u2=Ei([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),kp=u2.members,f2=lh.VectorTileFeature.types,_p=63,c2=Math.cos(75/2*(Math.PI/180)),h2=15,v2=20,d2=15,Fp=1/2,zp=Math.pow(2,d2-1)/Fp,Js=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(V){return V.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Rf,this.indexArray=new lf,this.programConfigurations=new Ja(kp,D.layers,D.zoom),this.segments=new Y,this.stateDependentLayerIds=this.layers.filter(function(V){return V.isStateDependent()}).map(function(V){return V.id})};Js.prototype.populate=function(D,V,te){this.hasPattern=Zd("line",this.layers,V);for(var he=this.layers[0].layout.get("line-sort-key"),be=[],Ee=0,je=D;Ee<je.length;Ee+=1){var ft=je[Ee],Tt=ft.feature,Lt=ft.id,Xt=ft.index,cr=ft.sourceLayerIndex,nr=this.layers[0]._featureFilter.needGeometry,Tr={type:Tt.type,id:Lt,properties:Tt.properties,geometry:nr?Di(Tt):[]};if(this.layers[0]._featureFilter.filter(new kn(this.zoom),Tr,te)){nr||(Tr.geometry=Di(Tt));var jr=he?he.evaluate(Tr,{},te):void 0,vn={id:Lt,properties:Tt.properties,type:Tt.type,sourceLayerIndex:cr,index:Xt,geometry:Tr.geometry,patterns:{},sortKey:jr};be.push(vn)}}he&&be.sort(function(La,Ia){return La.sortKey-Ia.sortKey});for(var ln=0,Fn=be;ln<Fn.length;ln+=1){var En=Fn[ln],_n=En,Wn=_n.geometry,ea=_n.index,ha=_n.sourceLayerIndex;if(this.hasPattern){var la=Xd("line",this.layers,En,this.zoom,V);this.patternFeatures.push(la)}else this.addFeature(En,Wn,ea,te,{});var Ba=D[ea].feature;V.featureIndex.insert(Ba,Wn,ea,ha,this.index)}},Js.prototype.update=function(D,V,te){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,V,this.stateDependentLayers,te)},Js.prototype.addFeatures=function(D,V,te){for(var he=0,be=this.patternFeatures;he<be.length;he+=1){var Ee=be[he];this.addFeature(Ee,Ee.geometry,Ee.index,V,te)}},Js.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Js.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Js.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,kp),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},Js.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Js.prototype.addFeature=function(D,V,te,he,be){for(var Ee=this.layers[0].layout,je=Ee.get("line-join").evaluate(D,{}),ft=Ee.get("line-cap"),Tt=Ee.get("line-miter-limit"),Lt=Ee.get("line-round-limit"),Xt=0,cr=V;Xt<cr.length;Xt+=1){var nr=cr[Xt];this.addLine(nr,D,je,ft,Tt,Lt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,te,be,he)},Js.prototype.addLine=function(D,V,te,he,be,Ee){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,V.properties&&V.properties.hasOwnProperty("mapbox_clip_start")&&V.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+V.properties.mapbox_clip_start,this.clipEnd=+V.properties.mapbox_clip_end;for(var je=0;je<D.length-1;je++)this.totalDistance+=D[je].dist(D[je+1]);this.updateScaledDistance()}for(var ft=f2[V.type]==="Polygon",Tt=D.length;Tt>=2&&D[Tt-1].equals(D[Tt-2]);)Tt--;for(var Lt=0;Lt<Tt-1&&D[Lt].equals(D[Lt+1]);)Lt++;if(!(Tt<(ft?3:2))){te==="bevel"&&(be=1.05);var Xt=this.overscaling<=16?h2*Ua/(512*this.overscaling):0,cr=this.segments.prepareSegment(Tt*10,this.layoutVertexArray,this.indexArray),nr,Tr=void 0,jr=void 0,vn=void 0,ln=void 0;this.e1=this.e2=-1,ft&&(nr=D[Tt-2],ln=D[Lt].sub(nr)._unit()._perp());for(var Fn=Lt;Fn<Tt;Fn++)if(jr=Fn===Tt-1?ft?D[Lt+1]:void 0:D[Fn+1],!(jr&&D[Fn].equals(jr))){ln&&(vn=ln),nr&&(Tr=nr),nr=D[Fn],ln=jr?jr.sub(nr)._unit()._perp():vn,vn=vn||ln;var En=vn.add(ln);(En.x!==0||En.y!==0)&&En._unit();var _n=vn.x*ln.x+vn.y*ln.y,Wn=En.x*ln.x+En.y*ln.y,ea=Wn!==0?1/Wn:1/0,ha=2*Math.sqrt(2-2*Wn),la=Wn<c2&&Tr&&jr,Ba=vn.x*ln.y-vn.y*ln.x>0;if(la&&Fn>Lt){var La=nr.dist(Tr);if(La>2*Xt){var Ia=nr.sub(nr.sub(Tr)._mult(Xt/La)._round());this.updateDistance(Tr,Ia),this.addCurrentVertex(Ia,vn,0,0,cr),Tr=Ia}}var Ka=Tr&&jr,_a=Ka?te:ft?"butt":he;if(Ka&&_a==="round"&&(ea<Ee?_a="miter":ea<=2&&(_a="fakeround")),_a==="miter"&&ea>be&&(_a="bevel"),_a==="bevel"&&(ea>2&&(_a="flipbevel"),ea<be&&(_a="miter")),Tr&&this.updateDistance(Tr,nr),_a==="miter")En._mult(ea),this.addCurrentVertex(nr,En,0,0,cr);else if(_a==="flipbevel"){if(ea>100)En=ln.mult(-1);else{var za=ea*vn.add(ln).mag()/vn.sub(ln).mag();En._perp()._mult(za*(Ba?-1:1))}this.addCurrentVertex(nr,En,0,0,cr),this.addCurrentVertex(nr,En.mult(-1),0,0,cr)}else if(_a==="bevel"||_a==="fakeround"){var ei=-Math.sqrt(ea*ea-1),Xa=Ba?ei:0,bi=Ba?0:ei;if(Tr&&this.addCurrentVertex(nr,vn,Xa,bi,cr),_a==="fakeround")for(var _i=Math.round(ha*180/Math.PI/v2),wi=1;wi<_i;wi++){var Ti=wi/_i;if(Ti!==.5){var mi=Ti-.5,Hi=1.0904+_n*(-3.2452+_n*(3.55645-_n*1.43519)),Yi=.848013+_n*(-1.06021+_n*.215638);Ti=Ti+Ti*mi*(Ti-1)*(Hi*mi*mi+Yi)}var ro=ln.sub(vn)._mult(Ti)._add(vn)._unit()._mult(Ba?-1:1);this.addHalfVertex(nr,ro.x,ro.y,!1,Ba,0,cr)}jr&&this.addCurrentVertex(nr,ln,-Xa,-bi,cr)}else if(_a==="butt")this.addCurrentVertex(nr,En,0,0,cr);else if(_a==="square"){var co=Tr?1:-1;this.addCurrentVertex(nr,En,co,co,cr)}else _a==="round"&&(Tr&&(this.addCurrentVertex(nr,vn,0,0,cr),this.addCurrentVertex(nr,vn,1,1,cr,!0)),jr&&(this.addCurrentVertex(nr,ln,-1,-1,cr,!0),this.addCurrentVertex(nr,ln,0,0,cr)));if(la&&Fn<Tt-1){var Ho=nr.dist(jr);if(Ho>2*Xt){var Po=nr.add(jr.sub(nr)._mult(Xt/Ho)._round());this.updateDistance(nr,Po),this.addCurrentVertex(Po,ln,0,0,cr),nr=Po}}}}},Js.prototype.addCurrentVertex=function(D,V,te,he,be,Ee){Ee===void 0&&(Ee=!1);var je=V.x+V.y*te,ft=V.y-V.x*te,Tt=-V.x+V.y*he,Lt=-V.y-V.x*he;this.addHalfVertex(D,je,ft,Ee,!1,te,be),this.addHalfVertex(D,Tt,Lt,Ee,!0,-he,be),this.distance>zp/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(D,V,te,he,be,Ee))},Js.prototype.addHalfVertex=function(D,V,te,he,be,Ee,je){var ft=D.x,Tt=D.y,Lt=this.scaledDistance*Fp;this.layoutVertexArray.emplaceBack((ft<<1)+(he?1:0),(Tt<<1)+(be?1:0),Math.round(_p*V)+128,Math.round(_p*te)+128,(Ee===0?0:Ee<0?-1:1)+1|(Lt&63)<<2,Lt>>6);var Xt=je.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Xt),je.primitiveLength++),be?this.e2=Xt:this.e1=Xt},Js.prototype.updateScaledDistance=function(){this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(zp-1):this.distance},Js.prototype.updateDistance=function(D,V){this.distance+=D.dist(V),this.updateScaledDistance()},le("LineBucket",Js,{omit:["layers","patternFeatures"]});var p2=new Qa({"line-cap":new Xn(Jt.layout_line["line-cap"]),"line-join":new na(Jt.layout_line["line-join"]),"line-miter-limit":new Xn(Jt.layout_line["line-miter-limit"]),"line-round-limit":new Xn(Jt.layout_line["line-round-limit"]),"line-sort-key":new na(Jt.layout_line["line-sort-key"])}),g2=new Qa({"line-opacity":new na(Jt.paint_line["line-opacity"]),"line-color":new na(Jt.paint_line["line-color"]),"line-translate":new Xn(Jt.paint_line["line-translate"]),"line-translate-anchor":new Xn(Jt.paint_line["line-translate-anchor"]),"line-width":new na(Jt.paint_line["line-width"]),"line-gap-width":new na(Jt.paint_line["line-gap-width"]),"line-offset":new na(Jt.paint_line["line-offset"]),"line-blur":new na(Jt.paint_line["line-blur"]),"line-dasharray":new hi(Jt.paint_line["line-dasharray"]),"line-pattern":new Ha(Jt.paint_line["line-pattern"]),"line-gradient":new ci(Jt.paint_line["line-gradient"])}),Op={paint:g2,layout:p2},y2=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(te,he){return he=new kn(Math.floor(he.zoom),{now:he.now,fadeDuration:he.fadeDuration,zoomHistory:he.zoomHistory,transition:he.transition}),R.prototype.possiblyEvaluate.call(this,te,he)},D.prototype.evaluate=function(te,he,be,Ee){return he=o({},he,{zoom:Math.floor(he.zoom)}),R.prototype.evaluate.call(this,te,he,be,Ee)},D}(na),Bp=new y2(Op.paint.properties["line-width"].specification);Bp.useIntegerZoom=!0;var m2=function(R){function D(V){R.call(this,V,Op)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._handleSpecialPaintPropertyUpdate=function(te){te==="line-gradient"&&this._updateGradient()},D.prototype._updateGradient=function(){var te=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=wp(te,"lineProgress"),this.gradientTexture=null},D.prototype.recalculate=function(te,he){R.prototype.recalculate.call(this,te,he),this.paint._values["line-floorwidth"]=Bp.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,te)},D.prototype.createBucket=function(te){return new Js(te)},D.prototype.queryRadius=function(te){var he=te,be=Np(hl("line-width",this,he),hl("line-gap-width",this,he)),Ee=hl("line-offset",this,he);return be/2+Math.abs(Ee)+Pu(this.paint.get("line-translate"))},D.prototype.queryIntersectsFeature=function(te,he,be,Ee,je,ft,Tt){var Lt=ql(te,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),ft.angle,Tt),Xt=Tt/2*Np(this.paint.get("line-width").evaluate(he,be),this.paint.get("line-gap-width").evaluate(he,be)),cr=this.paint.get("line-offset").evaluate(he,be);return cr&&(Ee=x2(Ee,cr*Tt)),Mo(Lt,Ee,Xt)},D.prototype.isTileClipped=function(){return!0},D}(ja);function Np(R,D){return D>0?D+2*R:R}function x2(R,D){for(var V=[],te=new t(0,0),he=0;he<R.length;he++){for(var be=R[he],Ee=[],je=0;je<be.length;je++){var ft=be[je-1],Tt=be[je],Lt=be[je+1],Xt=je===0?te:Tt.sub(ft)._unit()._perp(),cr=je===be.length-1?te:Lt.sub(Tt)._unit()._perp(),nr=Xt._add(cr)._unit(),Tr=nr.x*cr.x+nr.y*cr.y;nr._mult(1/Tr),Ee.push(nr._mult(D)._add(Tt))}V.push(Ee)}return V}var Kd=Ei([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),b2=Ei([{name:"a_projected_pos",components:3,type:"Float32"}],4);Ei([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var w2=Ei([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Ei([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var Up=Ei([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),T2=Ei([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Ei([{name:"triangle",components:3,type:"Uint16"}]),Ei([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Ei([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Ei([{type:"Float32",name:"offsetX"}]),Ei([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function A2(R,D,V){var te=D.layout.get("text-transform").evaluate(V,{});return te==="uppercase"?R=R.toLocaleUpperCase():te==="lowercase"&&(R=R.toLocaleLowerCase()),da.applyArabicShaping&&(R=da.applyArabicShaping(R)),R}function S2(R,D,V){return R.sections.forEach(function(te){te.text=A2(te.text,D,V)}),R}function M2(R){var D={},V={},te=[],he=0;function be(ln){te.push(R[ln]),he++}function Ee(ln,Fn,En){var _n=V[ln];return delete V[ln],V[Fn]=_n,te[_n].geometry[0].pop(),te[_n].geometry[0]=te[_n].geometry[0].concat(En[0]),_n}function je(ln,Fn,En){var _n=D[Fn];return delete D[Fn],D[ln]=_n,te[_n].geometry[0].shift(),te[_n].geometry[0]=En[0].concat(te[_n].geometry[0]),_n}function ft(ln,Fn,En){var _n=En?Fn[0][Fn[0].length-1]:Fn[0][0];return ln+":"+_n.x+":"+_n.y}for(var Tt=0;Tt<R.length;Tt++){var Lt=R[Tt],Xt=Lt.geometry,cr=Lt.text?Lt.text.toString():null;if(!cr){be(Tt);continue}var nr=ft(cr,Xt),Tr=ft(cr,Xt,!0);if(nr in V&&Tr in D&&V[nr]!==D[Tr]){var jr=je(nr,Tr,Xt),vn=Ee(nr,Tr,te[jr].geometry);delete D[nr],delete V[Tr],V[ft(cr,te[vn].geometry,!0)]=vn,te[jr].geometry=null}else nr in V?Ee(nr,Tr,Xt):Tr in D?je(nr,Tr,Xt):(be(Tt),D[nr]=he-1,V[Tr]=he-1)}return te.filter(function(ln){return ln.geometry})}var ev={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function E2(R){for(var D="",V=0;V<R.length;V++){var te=R.charCodeAt(V+1)||null,he=R.charCodeAt(V-1)||null,be=(!te||!fn(te)||ev[R[V+1]])&&(!he||!fn(he)||ev[R[V-1]]);be&&ev[R[V]]?D+=ev[R[V]]:D+=R[V]}return D}var Xo=24,C2=function(R,D,V,te,he){var be,Ee,je=he*8-te-1,ft=(1<<je)-1,Tt=ft>>1,Lt=-7,Xt=V?he-1:0,cr=V?-1:1,nr=R[D+Xt];for(Xt+=cr,be=nr&(1<<-Lt)-1,nr>>=-Lt,Lt+=je;Lt>0;be=be*256+R[D+Xt],Xt+=cr,Lt-=8);for(Ee=be&(1<<-Lt)-1,be>>=-Lt,Lt+=te;Lt>0;Ee=Ee*256+R[D+Xt],Xt+=cr,Lt-=8);if(be===0)be=1-Tt;else{if(be===ft)return Ee?NaN:(nr?-1:1)*(1/0);Ee=Ee+Math.pow(2,te),be=be-Tt}return(nr?-1:1)*Ee*Math.pow(2,be-te)},L2=function(R,D,V,te,he,be){var Ee,je,ft,Tt=be*8-he-1,Lt=(1<<Tt)-1,Xt=Lt>>1,cr=he===23?Math.pow(2,-24)-Math.pow(2,-77):0,nr=te?0:be-1,Tr=te?1:-1,jr=D<0||D===0&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(je=isNaN(D)?1:0,Ee=Lt):(Ee=Math.floor(Math.log(D)/Math.LN2),D*(ft=Math.pow(2,-Ee))<1&&(Ee--,ft*=2),Ee+Xt>=1?D+=cr/ft:D+=cr*Math.pow(2,1-Xt),D*ft>=2&&(Ee++,ft/=2),Ee+Xt>=Lt?(je=0,Ee=Lt):Ee+Xt>=1?(je=(D*ft-1)*Math.pow(2,he),Ee=Ee+Xt):(je=D*Math.pow(2,Xt-1)*Math.pow(2,he),Ee=0));he>=8;R[V+nr]=je&255,nr+=Tr,je/=256,he-=8);for(Ee=Ee<<he|je,Tt+=he;Tt>0;R[V+nr]=Ee&255,nr+=Tr,Ee/=256,Tt-=8);R[V+nr-Tr]|=jr*128},_v={read:C2,write:L2},Fv=Wi;function Wi(R){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(R)?R:new Uint8Array(R||0),this.pos=0,this.type=0,this.length=this.buf.length}Wi.Varint=0,Wi.Fixed64=1,Wi.Bytes=2,Wi.Fixed32=5;var Jd=65536*65536,Vp=1/Jd,P2=12,Hp=typeof TextDecoder>"u"?null:new TextDecoder("utf8");Wi.prototype={destroy:function(){this.buf=null},readFields:function(R,D,V){for(V=V||this.length;this.pos<V;){var te=this.readVarint(),he=te>>3,be=this.pos;this.type=te&7,R(he,D,this),this.pos===be&&this.skip(te)}return D},readMessage:function(R,D){return this.readFields(R,D,this.readVarint()+this.pos)},readFixed32:function(){var R=zv(this.buf,this.pos);return this.pos+=4,R},readSFixed32:function(){var R=Wp(this.buf,this.pos);return this.pos+=4,R},readFixed64:function(){var R=zv(this.buf,this.pos)+zv(this.buf,this.pos+4)*Jd;return this.pos+=8,R},readSFixed64:function(){var R=zv(this.buf,this.pos)+Wp(this.buf,this.pos+4)*Jd;return this.pos+=8,R},readFloat:function(){var R=_v.read(this.buf,this.pos,!0,23,4);return this.pos+=4,R},readDouble:function(){var R=_v.read(this.buf,this.pos,!0,52,8);return this.pos+=8,R},readVarint:function(R){var D=this.buf,V,te;return te=D[this.pos++],V=te&127,te<128||(te=D[this.pos++],V|=(te&127)<<7,te<128)||(te=D[this.pos++],V|=(te&127)<<14,te<128)||(te=D[this.pos++],V|=(te&127)<<21,te<128)?V:(te=D[this.pos],V|=(te&15)<<28,R2(V,R,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var R=this.readVarint();return R%2===1?(R+1)/-2:R/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var R=this.readVarint()+this.pos,D=this.pos;return this.pos=R,R-D>=P2&&Hp?W2(this.buf,D,R):G2(this.buf,D,R)},readBytes:function(){var R=this.readVarint()+this.pos,D=this.buf.subarray(this.pos,R);return this.pos=R,D},readPackedVarint:function(R,D){if(this.type!==Wi.Bytes)return R.push(this.readVarint(D));var V=Jf(this);for(R=R||[];this.pos<V;)R.push(this.readVarint(D));return R},readPackedSVarint:function(R){if(this.type!==Wi.Bytes)return R.push(this.readSVarint());var D=Jf(this);for(R=R||[];this.pos<D;)R.push(this.readSVarint());return R},readPackedBoolean:function(R){if(this.type!==Wi.Bytes)return R.push(this.readBoolean());var D=Jf(this);for(R=R||[];this.pos<D;)R.push(this.readBoolean());return R},readPackedFloat:function(R){if(this.type!==Wi.Bytes)return R.push(this.readFloat());var D=Jf(this);for(R=R||[];this.pos<D;)R.push(this.readFloat());return R},readPackedDouble:function(R){if(this.type!==Wi.Bytes)return R.push(this.readDouble());var D=Jf(this);for(R=R||[];this.pos<D;)R.push(this.readDouble());return R},readPackedFixed32:function(R){if(this.type!==Wi.Bytes)return R.push(this.readFixed32());var D=Jf(this);for(R=R||[];this.pos<D;)R.push(this.readFixed32());return R},readPackedSFixed32:function(R){if(this.type!==Wi.Bytes)return R.push(this.readSFixed32());var D=Jf(this);for(R=R||[];this.pos<D;)R.push(this.readSFixed32());return R},readPackedFixed64:function(R){if(this.type!==Wi.Bytes)return R.push(this.readFixed64());var D=Jf(this);for(R=R||[];this.pos<D;)R.push(this.readFixed64());return R},readPackedSFixed64:function(R){if(this.type!==Wi.Bytes)return R.push(this.readSFixed64());var D=Jf(this);for(R=R||[];this.pos<D;)R.push(this.readSFixed64());return R},skip:function(R){var D=R&7;if(D===Wi.Varint)for(;this.buf[this.pos++]>127;);else if(D===Wi.Bytes)this.pos=this.readVarint()+this.pos;else if(D===Wi.Fixed32)this.pos+=4;else if(D===Wi.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+D)},writeTag:function(R,D){this.writeVarint(R<<3|D)},realloc:function(R){for(var D=this.length||16;D<this.pos+R;)D*=2;if(D!==this.length){var V=new Uint8Array(D);V.set(this.buf),this.buf=V,this.length=D}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(R){this.realloc(4),fh(this.buf,R,this.pos),this.pos+=4},writeSFixed32:function(R){this.realloc(4),fh(this.buf,R,this.pos),this.pos+=4},writeFixed64:function(R){this.realloc(8),fh(this.buf,R&-1,this.pos),fh(this.buf,Math.floor(R*Vp),this.pos+4),this.pos+=8},writeSFixed64:function(R){this.realloc(8),fh(this.buf,R&-1,this.pos),fh(this.buf,Math.floor(R*Vp),this.pos+4),this.pos+=8},writeVarint:function(R){if(R=+R||0,R>268435455||R<0){D2(R,this);return}this.realloc(4),this.buf[this.pos++]=R&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=(R>>>=7)&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=(R>>>=7)&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=R>>>7&127)))},writeSVarint:function(R){this.writeVarint(R<0?-R*2-1:R*2)},writeBoolean:function(R){this.writeVarint(!!R)},writeString:function(R){R=String(R),this.realloc(R.length*4),this.pos++;var D=this.pos;this.pos=Y2(this.buf,R,this.pos);var V=this.pos-D;V>=128&&Gp(D,V,this),this.pos=D-1,this.writeVarint(V),this.pos+=V},writeFloat:function(R){this.realloc(4),_v.write(this.buf,R,this.pos,!0,23,4),this.pos+=4},writeDouble:function(R){this.realloc(8),_v.write(this.buf,R,this.pos,!0,52,8),this.pos+=8},writeBytes:function(R){var D=R.length;this.writeVarint(D),this.realloc(D);for(var V=0;V<D;V++)this.buf[this.pos++]=R[V]},writeRawMessage:function(R,D){this.pos++;var V=this.pos;R(D,this);var te=this.pos-V;te>=128&&Gp(V,te,this),this.pos=V-1,this.writeVarint(te),this.pos+=te},writeMessage:function(R,D,V){this.writeTag(R,Wi.Bytes),this.writeRawMessage(D,V)},writePackedVarint:function(R,D){D.length&&this.writeMessage(R,_2,D)},writePackedSVarint:function(R,D){D.length&&this.writeMessage(R,F2,D)},writePackedBoolean:function(R,D){D.length&&this.writeMessage(R,B2,D)},writePackedFloat:function(R,D){D.length&&this.writeMessage(R,z2,D)},writePackedDouble:function(R,D){D.length&&this.writeMessage(R,O2,D)},writePackedFixed32:function(R,D){D.length&&this.writeMessage(R,N2,D)},writePackedSFixed32:function(R,D){D.length&&this.writeMessage(R,U2,D)},writePackedFixed64:function(R,D){D.length&&this.writeMessage(R,V2,D)},writePackedSFixed64:function(R,D){D.length&&this.writeMessage(R,H2,D)},writeBytesField:function(R,D){this.writeTag(R,Wi.Bytes),this.writeBytes(D)},writeFixed32Field:function(R,D){this.writeTag(R,Wi.Fixed32),this.writeFixed32(D)},writeSFixed32Field:function(R,D){this.writeTag(R,Wi.Fixed32),this.writeSFixed32(D)},writeFixed64Field:function(R,D){this.writeTag(R,Wi.Fixed64),this.writeFixed64(D)},writeSFixed64Field:function(R,D){this.writeTag(R,Wi.Fixed64),this.writeSFixed64(D)},writeVarintField:function(R,D){this.writeTag(R,Wi.Varint),this.writeVarint(D)},writeSVarintField:function(R,D){this.writeTag(R,Wi.Varint),this.writeSVarint(D)},writeStringField:function(R,D){this.writeTag(R,Wi.Bytes),this.writeString(D)},writeFloatField:function(R,D){this.writeTag(R,Wi.Fixed32),this.writeFloat(D)},writeDoubleField:function(R,D){this.writeTag(R,Wi.Fixed64),this.writeDouble(D)},writeBooleanField:function(R,D){this.writeVarintField(R,!!D)}};function R2(R,D,V){var te=V.buf,he,be;if(be=te[V.pos++],he=(be&112)>>4,be<128||(be=te[V.pos++],he|=(be&127)<<3,be<128)||(be=te[V.pos++],he|=(be&127)<<10,be<128)||(be=te[V.pos++],he|=(be&127)<<17,be<128)||(be=te[V.pos++],he|=(be&127)<<24,be<128)||(be=te[V.pos++],he|=(be&1)<<31,be<128))return uh(R,he,D);throw new Error("Expected varint not more than 10 bytes")}function Jf(R){return R.type===Wi.Bytes?R.readVarint()+R.pos:R.pos+1}function uh(R,D,V){return V?D*4294967296+(R>>>0):(D>>>0)*4294967296+(R>>>0)}function D2(R,D){var V,te;if(R>=0?(V=R%4294967296|0,te=R/4294967296|0):(V=~(-R%4294967296),te=~(-R/4294967296),V^4294967295?V=V+1|0:(V=0,te=te+1|0)),R>=18446744073709552e3||R<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");D.realloc(10),I2(V,te,D),k2(te,D)}function I2(R,D,V){V.buf[V.pos++]=R&127|128,R>>>=7,V.buf[V.pos++]=R&127|128,R>>>=7,V.buf[V.pos++]=R&127|128,R>>>=7,V.buf[V.pos++]=R&127|128,R>>>=7,V.buf[V.pos]=R&127}function k2(R,D){var V=(R&7)<<4;D.buf[D.pos++]|=V|((R>>>=3)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127)))))}function Gp(R,D,V){var te=D<=16383?1:D<=2097151?2:D<=268435455?3:Math.floor(Math.log(D)/(Math.LN2*7));V.realloc(te);for(var he=V.pos-1;he>=R;he--)V.buf[he+te]=V.buf[he]}function _2(R,D){for(var V=0;V<R.length;V++)D.writeVarint(R[V])}function F2(R,D){for(var V=0;V<R.length;V++)D.writeSVarint(R[V])}function z2(R,D){for(var V=0;V<R.length;V++)D.writeFloat(R[V])}function O2(R,D){for(var V=0;V<R.length;V++)D.writeDouble(R[V])}function B2(R,D){for(var V=0;V<R.length;V++)D.writeBoolean(R[V])}function N2(R,D){for(var V=0;V<R.length;V++)D.writeFixed32(R[V])}function U2(R,D){for(var V=0;V<R.length;V++)D.writeSFixed32(R[V])}function V2(R,D){for(var V=0;V<R.length;V++)D.writeFixed64(R[V])}function H2(R,D){for(var V=0;V<R.length;V++)D.writeSFixed64(R[V])}function zv(R,D){return(R[D]|R[D+1]<<8|R[D+2]<<16)+R[D+3]*16777216}function fh(R,D,V){R[V]=D,R[V+1]=D>>>8,R[V+2]=D>>>16,R[V+3]=D>>>24}function Wp(R,D){return(R[D]|R[D+1]<<8|R[D+2]<<16)+(R[D+3]<<24)}function G2(R,D,V){for(var te="",he=D;he<V;){var be=R[he],Ee=null,je=be>239?4:be>223?3:be>191?2:1;if(he+je>V)break;var ft,Tt,Lt;je===1?be<128&&(Ee=be):je===2?(ft=R[he+1],(ft&192)===128&&(Ee=(be&31)<<6|ft&63,Ee<=127&&(Ee=null))):je===3?(ft=R[he+1],Tt=R[he+2],(ft&192)===128&&(Tt&192)===128&&(Ee=(be&15)<<12|(ft&63)<<6|Tt&63,(Ee<=2047||Ee>=55296&&Ee<=57343)&&(Ee=null))):je===4&&(ft=R[he+1],Tt=R[he+2],Lt=R[he+3],(ft&192)===128&&(Tt&192)===128&&(Lt&192)===128&&(Ee=(be&15)<<18|(ft&63)<<12|(Tt&63)<<6|Lt&63,(Ee<=65535||Ee>=1114112)&&(Ee=null))),Ee===null?(Ee=65533,je=1):Ee>65535&&(Ee-=65536,te+=String.fromCharCode(Ee>>>10&1023|55296),Ee=56320|Ee&1023),te+=String.fromCharCode(Ee),he+=je}return te}function W2(R,D,V){return Hp.decode(R.subarray(D,V))}function Y2(R,D,V){for(var te=0,he,be;te<D.length;te++){if(he=D.charCodeAt(te),he>55295&&he<57344)if(be)if(he<56320){R[V++]=239,R[V++]=191,R[V++]=189,be=he;continue}else he=be-55296<<10|he-56320|65536,be=null;else{he>56319||te+1===D.length?(R[V++]=239,R[V++]=191,R[V++]=189):be=he;continue}else be&&(R[V++]=239,R[V++]=191,R[V++]=189,be=null);he<128?R[V++]=he:(he<2048?R[V++]=he>>6|192:(he<65536?R[V++]=he>>12|224:(R[V++]=he>>18|240,R[V++]=he>>12&63|128),R[V++]=he>>6&63|128),R[V++]=he&63|128)}return V}var Qd=3;function Z2(R,D,V){R===1&&V.readMessage(X2,D)}function X2(R,D,V){if(R===3){var te=V.readMessage(j2,{}),he=te.id,be=te.bitmap,Ee=te.width,je=te.height,ft=te.left,Tt=te.top,Lt=te.advance;D.push({id:he,bitmap:new Oc({width:Ee+2*Qd,height:je+2*Qd},be),metrics:{width:Ee,height:je,left:ft,top:Tt,advance:Lt}})}}function j2(R,D,V){R===1?D.id=V.readVarint():R===2?D.bitmap=V.readBytes():R===3?D.width=V.readVarint():R===4?D.height=V.readVarint():R===5?D.left=V.readSVarint():R===6?D.top=V.readSVarint():R===7&&(D.advance=V.readVarint())}function K2(R){return new Fv(R).readFields(Z2,[])}var Yp=Qd;function Zp(R){for(var D=0,V=0,te=0,he=R;te<he.length;te+=1){var be=he[te];D+=be.w*be.h,V=Math.max(V,be.w)}R.sort(function(vn,ln){return ln.h-vn.h});for(var Ee=Math.max(Math.ceil(Math.sqrt(D/.95)),V),je=[{x:0,y:0,w:Ee,h:1/0}],ft=0,Tt=0,Lt=0,Xt=R;Lt<Xt.length;Lt+=1)for(var cr=Xt[Lt],nr=je.length-1;nr>=0;nr--){var Tr=je[nr];if(!(cr.w>Tr.w||cr.h>Tr.h)){if(cr.x=Tr.x,cr.y=Tr.y,Tt=Math.max(Tt,cr.y+cr.h),ft=Math.max(ft,cr.x+cr.w),cr.w===Tr.w&&cr.h===Tr.h){var jr=je.pop();nr<je.length&&(je[nr]=jr)}else cr.h===Tr.h?(Tr.x+=cr.w,Tr.w-=cr.w):cr.w===Tr.w?(Tr.y+=cr.h,Tr.h-=cr.h):(je.push({x:Tr.x+cr.w,y:Tr.y,w:Tr.w-cr.w,h:cr.h}),Tr.y+=cr.h,Tr.h-=cr.h);break}}return{w:ft,h:Tt,fill:D/(ft*Tt)||0}}var vl=1,Ov=function(D,V){var te=V.pixelRatio,he=V.version,be=V.stretchX,Ee=V.stretchY,je=V.content;this.paddedRect=D,this.pixelRatio=te,this.stretchX=be,this.stretchY=Ee,this.content=je,this.version=he},tv={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};tv.tl.get=function(){return[this.paddedRect.x+vl,this.paddedRect.y+vl]},tv.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-vl,this.paddedRect.y+this.paddedRect.h-vl]},tv.tlbr.get=function(){return this.tl.concat(this.br)},tv.displaySize.get=function(){return[(this.paddedRect.w-vl*2)/this.pixelRatio,(this.paddedRect.h-vl*2)/this.pixelRatio]},Object.defineProperties(Ov.prototype,tv);var rv=function(D,V){var te={},he={};this.haveRenderCallbacks=[];var be=[];this.addImages(D,te,be),this.addImages(V,he,be);var Ee=Zp(be),je=Ee.w,ft=Ee.h,Tt=new Ks({width:je||1,height:ft||1});for(var Lt in D){var Xt=D[Lt],cr=te[Lt].paddedRect;Ks.copy(Xt.data,Tt,{x:0,y:0},{x:cr.x+vl,y:cr.y+vl},Xt.data)}for(var nr in V){var Tr=V[nr],jr=he[nr].paddedRect,vn=jr.x+vl,ln=jr.y+vl,Fn=Tr.data.width,En=Tr.data.height;Ks.copy(Tr.data,Tt,{x:0,y:0},{x:vn,y:ln},Tr.data),Ks.copy(Tr.data,Tt,{x:0,y:En-1},{x:vn,y:ln-1},{width:Fn,height:1}),Ks.copy(Tr.data,Tt,{x:0,y:0},{x:vn,y:ln+En},{width:Fn,height:1}),Ks.copy(Tr.data,Tt,{x:Fn-1,y:0},{x:vn-1,y:ln},{width:1,height:En}),Ks.copy(Tr.data,Tt,{x:0,y:0},{x:vn+Fn,y:ln},{width:1,height:En})}this.image=Tt,this.iconPositions=te,this.patternPositions=he};rv.prototype.addImages=function(D,V,te){for(var he in D){var be=D[he],Ee={x:0,y:0,w:be.data.width+2*vl,h:be.data.height+2*vl};te.push(Ee),V[he]=new Ov(Ee,be),be.hasRenderCallback&&this.haveRenderCallbacks.push(he)}},rv.prototype.patchUpdatedImages=function(D,V){D.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var te in D.updatedImages)this.patchUpdatedImage(this.iconPositions[te],D.getImage(te),V),this.patchUpdatedImage(this.patternPositions[te],D.getImage(te),V)},rv.prototype.patchUpdatedImage=function(D,V,te){if(!(!D||!V)&&D.version!==V.version){D.version=V.version;var he=D.tl,be=he[0],Ee=he[1];te.update(V.data,void 0,{x:be,y:Ee})}},le("ImagePosition",Ov),le("ImageAtlas",rv);var Dl={horizontal:1,vertical:2,horizontalOnly:3},nv=-17;function J2(R){for(var D=0,V=R;D<V.length;D+=1){var te=V[D];if(te.positionedGlyphs.length!==0)return!1}return!0}var Xp=57344,jp=63743,ch=function(){this.scale=1,this.fontStack="",this.imageName=null};ch.forText=function(D,V){var te=new ch;return te.scale=D||1,te.fontStack=V,te},ch.forImage=function(D){var V=new ch;return V.imageName=D,V};var hs=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};hs.fromFeature=function(D,V){for(var te=new hs,he=0;he<D.sections.length;he++){var be=D.sections[he];be.image?te.addImageSection(be):te.addTextSection(be,V)}return te},hs.prototype.length=function(){return this.text.length},hs.prototype.getSection=function(D){return this.sections[this.sectionIndex[D]]},hs.prototype.getSectionIndex=function(D){return this.sectionIndex[D]},hs.prototype.getCharCode=function(D){return this.text.charCodeAt(D)},hs.prototype.verticalizePunctuation=function(){this.text=E2(this.text)},hs.prototype.trim=function(){for(var D=0,V=0;V<this.text.length&&zf[this.text.charCodeAt(V)];V++)D++;for(var te=this.text.length,he=this.text.length-1;he>=0&&he>=D&&zf[this.text.charCodeAt(he)];he--)te--;this.text=this.text.substring(D,te),this.sectionIndex=this.sectionIndex.slice(D,te)},hs.prototype.substring=function(D,V){var te=new hs;return te.text=this.text.substring(D,V),te.sectionIndex=this.sectionIndex.slice(D,V),te.sections=this.sections,te},hs.prototype.toString=function(){return this.text},hs.prototype.getMaxScale=function(){var D=this;return this.sectionIndex.reduce(function(V,te){return Math.max(V,D.sections[te].scale)},0)},hs.prototype.addTextSection=function(D,V){this.text+=D.text,this.sections.push(ch.forText(D.scale,D.fontStack||V));for(var te=this.sections.length-1,he=0;he<D.text.length;++he)this.sectionIndex.push(te)},hs.prototype.addImageSection=function(D){var V=D.image?D.image.name:"";if(V.length===0){N("Can't add FormattedSection with an empty image.");return}var te=this.getNextImageSectionCharCode();if(!te){N("Reached maximum number of images "+(jp-Xp+2));return}this.text+=String.fromCharCode(te),this.sections.push(ch.forImage(V)),this.sectionIndex.push(this.sections.length-1)},hs.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=jp?null:++this.imageSectionID:(this.imageSectionID=Xp,this.imageSectionID)};function Q2(R,D){for(var V=[],te=R.text,he=0,be=0,Ee=D;be<Ee.length;be+=1){var je=Ee[be];V.push(R.substring(he,je)),he=je}return he<te.length&&V.push(R.substring(he,te.length)),V}function Bv(R,D,V,te,he,be,Ee,je,ft,Tt,Lt,Xt,cr,nr,Tr,jr){var vn=hs.fromFeature(R,he);Xt===Dl.vertical&&vn.verticalizePunctuation();var ln,Fn=da.processBidirectionalText,En=da.processStyledBidirectionalText;if(Fn&&vn.sections.length===1){ln=[];for(var _n=Fn(vn.toString(),$d(vn,Tt,be,D,te,nr,Tr)),Wn=0,ea=_n;Wn<ea.length;Wn+=1){var ha=ea[Wn],la=new hs;la.text=ha,la.sections=vn.sections;for(var Ba=0;Ba<ha.length;Ba++)la.sectionIndex.push(0);ln.push(la)}}else if(En){ln=[];for(var La=En(vn.text,vn.sectionIndex,$d(vn,Tt,be,D,te,nr,Tr)),Ia=0,Ka=La;Ia<Ka.length;Ia+=1){var _a=Ka[Ia],za=new hs;za.text=_a[0],za.sectionIndex=_a[1],za.sections=vn.sections,ln.push(za)}}else ln=Q2(vn,$d(vn,Tt,be,D,te,nr,Tr));var ei=[],Xa={positionedLines:ei,text:vn.toString(),top:Lt[1],bottom:Lt[1],left:Lt[0],right:Lt[0],writingMode:Xt,iconsInText:!1,verticalizable:!1};return eb(Xa,D,V,te,ln,Ee,je,ft,Xt,Tt,cr,jr),J2(ei)?!1:Xa}var zf={};zf[9]=!0,zf[10]=!0,zf[11]=!0,zf[12]=!0,zf[13]=!0,zf[32]=!0;var dl={};dl[10]=!0,dl[32]=!0,dl[38]=!0,dl[40]=!0,dl[41]=!0,dl[43]=!0,dl[45]=!0,dl[47]=!0,dl[173]=!0,dl[183]=!0,dl[8203]=!0,dl[8208]=!0,dl[8211]=!0,dl[8231]=!0;function Kp(R,D,V,te,he,be){if(D.imageName){var ft=te[D.imageName];return ft?ft.displaySize[0]*D.scale*Xo/be+he:0}else{var Ee=V[D.fontStack],je=Ee&&Ee[R];return je?je.metrics.advance*D.scale+he:0}}function $2(R,D,V,te,he,be){for(var Ee=0,je=0;je<R.length();je++){var ft=R.getSection(je);Ee+=Kp(R.getCharCode(je),ft,te,he,D,be)}var Tt=Math.max(1,Math.ceil(Ee/V));return Ee/Tt}function Jp(R,D,V,te){var he=Math.pow(R-D,2);return te?R<D?he/2:he*2:he+Math.abs(V)*V}function q2(R,D,V){var te=0;return R===10&&(te-=1e4),V&&(te+=150),(R===40||R===65288)&&(te+=50),(D===41||D===65289)&&(te+=50),te}function Qp(R,D,V,te,he,be){for(var Ee=null,je=Jp(D,V,he,be),ft=0,Tt=te;ft<Tt.length;ft+=1){var Lt=Tt[ft],Xt=D-Lt.x,cr=Jp(Xt,V,he,be)+Lt.badness;cr<=je&&(Ee=Lt,je=cr)}return{index:R,x:D,priorBreak:Ee,badness:je}}function $p(R){return R?$p(R.priorBreak).concat(R.index):[]}function $d(R,D,V,te,he,be,Ee){if(be!=="point")return[];if(!R)return[];for(var je=[],ft=$2(R,D,V,te,he,Ee),Tt=R.text.indexOf("​")>=0,Lt=0,Xt=0;Xt<R.length();Xt++){var cr=R.getSection(Xt),nr=R.getCharCode(Xt);if(zf[nr]||(Lt+=Kp(nr,cr,te,he,D,Ee)),Xt<R.length()-1){var Tr=Rr(nr);(dl[nr]||Tr||cr.imageName)&&je.push(Qp(Xt+1,Lt,ft,je,q2(nr,R.getCharCode(Xt+1),Tr&&Tt),!1))}}return $p(Qp(R.length(),Lt,ft,je,0,!0))}function qd(R){var D=.5,V=.5;switch(R){case"right":case"top-right":case"bottom-right":D=1;break;case"left":case"top-left":case"bottom-left":D=0;break}switch(R){case"bottom":case"bottom-right":case"bottom-left":V=1;break;case"top":case"top-right":case"top-left":V=0;break}return{horizontalAlign:D,verticalAlign:V}}function eb(R,D,V,te,he,be,Ee,je,ft,Tt,Lt,Xt){for(var cr=0,nr=nv,Tr=0,jr=0,vn=je==="right"?1:je==="left"?0:.5,ln=0,Fn=0,En=he;Fn<En.length;Fn+=1){var _n=En[Fn];_n.trim();var Wn=_n.getMaxScale(),ea=(Wn-1)*Xo,ha={positionedGlyphs:[],lineOffset:0};R.positionedLines[ln]=ha;var la=ha.positionedGlyphs,Ba=0;if(!_n.length()){nr+=be,++ln;continue}for(var La=0;La<_n.length();La++){var Ia=_n.getSection(La),Ka=_n.getSectionIndex(La),_a=_n.getCharCode(La),za=0,ei=null,Xa=null,bi=null,_i=Xo,wi=!(ft===Dl.horizontal||!Lt&&!Dr(_a)||Lt&&(zf[_a]||Or(_a)));if(Ia.imageName){var ro=te[Ia.imageName];if(!ro)continue;bi=Ia.imageName,R.iconsInText=R.iconsInText||!0,Xa=ro.paddedRect;var co=ro.displaySize;Ia.scale=Ia.scale*Xo/Xt,ei={width:co[0],height:co[1],left:vl,top:-Yp,advance:wi?co[1]:co[0]};var Ho=Xo-co[1]*Ia.scale;za=ea+Ho,_i=ei.advance;var Po=wi?co[0]*Ia.scale-Xo*Wn:co[1]*Ia.scale-Xo*Wn;Po>0&&Po>Ba&&(Ba=Po)}else{var Ti=V[Ia.fontStack],mi=Ti&&Ti[_a];if(mi&&mi.rect)Xa=mi.rect,ei=mi.metrics;else{var Hi=D[Ia.fontStack],Yi=Hi&&Hi[_a];if(!Yi)continue;ei=Yi.metrics}za=(Wn-Ia.scale)*Xo}wi?(R.verticalizable=!0,la.push({glyph:_a,imageName:bi,x:cr,y:nr+za,vertical:wi,scale:Ia.scale,fontStack:Ia.fontStack,sectionIndex:Ka,metrics:ei,rect:Xa}),cr+=_i*Ia.scale+Tt):(la.push({glyph:_a,imageName:bi,x:cr,y:nr+za,vertical:wi,scale:Ia.scale,fontStack:Ia.fontStack,sectionIndex:Ka,metrics:ei,rect:Xa}),cr+=ei.advance*Ia.scale+Tt)}if(la.length!==0){var vs=cr-Tt;Tr=Math.max(vs,Tr),tb(la,0,la.length-1,vn,Ba)}cr=0;var ds=be*Wn+Ba;ha.lineOffset=Math.max(Ba,ea),nr+=ds,jr=Math.max(ds,jr),++ln}var Go=nr-nv,Ps=qd(Ee),Rs=Ps.horizontalAlign,Bo=Ps.verticalAlign;rb(R.positionedLines,vn,Rs,Bo,Tr,jr,be,Go,he.length),R.top+=-Bo*Go,R.bottom=R.top+Go,R.left+=-Rs*Tr,R.right=R.left+Tr}function tb(R,D,V,te,he){if(!(!te&&!he))for(var be=R[V],Ee=be.metrics.advance*be.scale,je=(R[V].x+Ee)*te,ft=D;ft<=V;ft++)R[ft].x-=je,R[ft].y+=he}function rb(R,D,V,te,he,be,Ee,je,ft){var Tt=(D-V)*he,Lt=0;be!==Ee?Lt=-je*te-nv:Lt=(-te*ft+.5)*Ee;for(var Xt=0,cr=R;Xt<cr.length;Xt+=1)for(var nr=cr[Xt],Tr=0,jr=nr.positionedGlyphs;Tr<jr.length;Tr+=1){var vn=jr[Tr];vn.x+=Tt,vn.y+=Lt}}function nb(R,D,V){var te=qd(V),he=te.horizontalAlign,be=te.verticalAlign,Ee=D[0],je=D[1],ft=Ee-R.displaySize[0]*he,Tt=ft+R.displaySize[0],Lt=je-R.displaySize[1]*be,Xt=Lt+R.displaySize[1];return{image:R,top:Lt,bottom:Xt,left:ft,right:Tt}}function qp(R,D,V,te,he,be){var Ee=R.image,je;if(Ee.content){var ft=Ee.content,Tt=Ee.pixelRatio||1;je=[ft[0]/Tt,ft[1]/Tt,Ee.displaySize[0]-ft[2]/Tt,Ee.displaySize[1]-ft[3]/Tt]}var Lt=D.left*be,Xt=D.right*be,cr,nr,Tr,jr;V==="width"||V==="both"?(jr=he[0]+Lt-te[3],nr=he[0]+Xt+te[1]):(jr=he[0]+(Lt+Xt-Ee.displaySize[0])/2,nr=jr+Ee.displaySize[0]);var vn=D.top*be,ln=D.bottom*be;return V==="height"||V==="both"?(cr=he[1]+vn-te[0],Tr=he[1]+ln+te[2]):(cr=he[1]+(vn+ln-Ee.displaySize[1])/2,Tr=cr+Ee.displaySize[1]),{image:Ee,top:cr,right:nr,bottom:Tr,left:jr,collisionPadding:je}}var hh=function(R){function D(V,te,he,be){R.call(this,V,te),this.angle=he,be!==void 0&&(this.segment=be)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.clone=function(){return new D(this.x,this.y,this.angle,this.segment)},D}(t);le("Anchor",hh);var hf=128;function e0(R,D){var V=D.expression;if(V.kind==="constant"){var te=V.evaluate(new kn(R+1));return{kind:"constant",layoutSize:te}}else{if(V.kind==="source")return{kind:"source"};for(var he=V.zoomStops,be=V.interpolationType,Ee=0;Ee<he.length&&he[Ee]<=R;)Ee++;Ee=Math.max(0,Ee-1);for(var je=Ee;je<he.length&&he[je]<R+1;)je++;je=Math.min(he.length-1,je);var ft=he[Ee],Tt=he[je];if(V.kind==="composite")return{kind:"composite",minZoom:ft,maxZoom:Tt,interpolationType:be};var Lt=V.evaluate(new kn(ft)),Xt=V.evaluate(new kn(Tt));return{kind:"camera",minZoom:ft,maxZoom:Tt,minSize:Lt,maxSize:Xt,interpolationType:be}}}function eg(R,D,V){var te=D.uSize,he=D.uSizeT,be=V.lowerSize,Ee=V.upperSize;return R.kind==="source"?be/hf:R.kind==="composite"?Zi(be/hf,Ee/hf,he):te}function tg(R,D){var V=0,te=0;if(R.kind==="constant")te=R.layoutSize;else if(R.kind!=="source"){var he=R.interpolationType,be=R.minZoom,Ee=R.maxZoom,je=he?l(ji.interpolationFactor(he,D,be,Ee),0,1):0;R.kind==="camera"?te=Zi(R.minSize,R.maxSize,je):V=je}return{uSizeT:V,uSize:te}}var ab=Object.freeze({__proto__:null,getSizeData:e0,evaluateSizeForFeature:eg,evaluateSizeForZoom:tg,SIZE_PACK_FACTOR:hf});function rg(R,D,V,te,he){if(D.segment===void 0)return!0;for(var be=D,Ee=D.segment+1,je=0;je>-V/2;){if(Ee--,Ee<0)return!1;je-=R[Ee].dist(be),be=R[Ee]}je+=R[Ee].dist(R[Ee+1]),Ee++;for(var ft=[],Tt=0;je<V/2;){var Lt=R[Ee-1],Xt=R[Ee],cr=R[Ee+1];if(!cr)return!1;var nr=Lt.angleTo(Xt)-Xt.angleTo(cr);for(nr=Math.abs((nr+3*Math.PI)%(Math.PI*2)-Math.PI),ft.push({distance:je,angleDelta:nr}),Tt+=nr;je-ft[0].distance>te;)Tt-=ft.shift().angleDelta;if(Tt>he)return!1;Ee++,je+=Xt.dist(cr)}return!0}function ng(R){for(var D=0,V=0;V<R.length-1;V++)D+=R[V].dist(R[V+1]);return D}function ag(R,D,V){return R?.6*D*V:0}function ig(R,D){return Math.max(R?R.right-R.left:0,D?D.right-D.left:0)}function ib(R,D,V,te,he,be){for(var Ee=ag(V,he,be),je=ig(V,te)*be,ft=0,Tt=ng(R)/2,Lt=0;Lt<R.length-1;Lt++){var Xt=R[Lt],cr=R[Lt+1],nr=Xt.dist(cr);if(ft+nr>Tt){var Tr=(Tt-ft)/nr,jr=Zi(Xt.x,cr.x,Tr),vn=Zi(Xt.y,cr.y,Tr),ln=new hh(jr,vn,cr.angleTo(Xt),Lt);return ln._round(),!Ee||rg(R,ln,je,Ee,D)?ln:void 0}ft+=nr}}function ob(R,D,V,te,he,be,Ee,je,ft){var Tt=ag(te,be,Ee),Lt=ig(te,he),Xt=Lt*Ee,cr=R[0].x===0||R[0].x===ft||R[0].y===0||R[0].y===ft;D-Xt<D/4&&(D=Xt+D/4);var nr=be*2,Tr=cr?D/2*je%D:(Lt/2+nr)*Ee*je%D;return og(R,Tr,D,Tt,V,Xt,cr,!1,ft)}function og(R,D,V,te,he,be,Ee,je,ft){for(var Tt=be/2,Lt=ng(R),Xt=0,cr=D-V,nr=[],Tr=0;Tr<R.length-1;Tr++){for(var jr=R[Tr],vn=R[Tr+1],ln=jr.dist(vn),Fn=vn.angleTo(jr);cr+V<Xt+ln;){cr+=V;var En=(cr-Xt)/ln,_n=Zi(jr.x,vn.x,En),Wn=Zi(jr.y,vn.y,En);if(_n>=0&&_n<ft&&Wn>=0&&Wn<ft&&cr-Tt>=0&&cr+Tt<=Lt){var ea=new hh(_n,Wn,Fn,Tr);ea._round(),(!te||rg(R,ea,be,te,he))&&nr.push(ea)}}Xt+=ln}return!je&&!nr.length&&!Ee&&(nr=og(R,Xt/2,V,te,he,be,Ee,!0,ft)),nr}function sg(R,D,V,te,he){for(var be=[],Ee=0;Ee<R.length;Ee++)for(var je=R[Ee],ft=void 0,Tt=0;Tt<je.length-1;Tt++){var Lt=je[Tt],Xt=je[Tt+1];Lt.x<D&&Xt.x<D||(Lt.x<D?Lt=new t(D,Lt.y+(Xt.y-Lt.y)*((D-Lt.x)/(Xt.x-Lt.x)))._round():Xt.x<D&&(Xt=new t(D,Lt.y+(Xt.y-Lt.y)*((D-Lt.x)/(Xt.x-Lt.x)))._round()),!(Lt.y<V&&Xt.y<V)&&(Lt.y<V?Lt=new t(Lt.x+(Xt.x-Lt.x)*((V-Lt.y)/(Xt.y-Lt.y)),V)._round():Xt.y<V&&(Xt=new t(Lt.x+(Xt.x-Lt.x)*((V-Lt.y)/(Xt.y-Lt.y)),V)._round()),!(Lt.x>=te&&Xt.x>=te)&&(Lt.x>=te?Lt=new t(te,Lt.y+(Xt.y-Lt.y)*((te-Lt.x)/(Xt.x-Lt.x)))._round():Xt.x>=te&&(Xt=new t(te,Lt.y+(Xt.y-Lt.y)*((te-Lt.x)/(Xt.x-Lt.x)))._round()),!(Lt.y>=he&&Xt.y>=he)&&(Lt.y>=he?Lt=new t(Lt.x+(Xt.x-Lt.x)*((he-Lt.y)/(Xt.y-Lt.y)),he)._round():Xt.y>=he&&(Xt=new t(Lt.x+(Xt.x-Lt.x)*((he-Lt.y)/(Xt.y-Lt.y)),he)._round()),(!ft||!Lt.equals(ft[ft.length-1]))&&(ft=[Lt],be.push(ft)),ft.push(Xt)))))}return be}var vh=vl;function lg(R,D,V,te){var he=[],be=R.image,Ee=be.pixelRatio,je=be.paddedRect.w-2*vh,ft=be.paddedRect.h-2*vh,Tt=R.right-R.left,Lt=R.bottom-R.top,Xt=be.stretchX||[[0,je]],cr=be.stretchY||[[0,ft]],nr=function(Ti,mi){return Ti+mi[1]-mi[0]},Tr=Xt.reduce(nr,0),jr=cr.reduce(nr,0),vn=je-Tr,ln=ft-jr,Fn=0,En=Tr,_n=0,Wn=jr,ea=0,ha=vn,la=0,Ba=ln;if(be.content&&te){var La=be.content;Fn=Nv(Xt,0,La[0]),_n=Nv(cr,0,La[1]),En=Nv(Xt,La[0],La[2]),Wn=Nv(cr,La[1],La[3]),ea=La[0]-Fn,la=La[1]-_n,ha=La[2]-La[0]-En,Ba=La[3]-La[1]-Wn}var Ia=function(Ti,mi,Hi,Yi){var ro=Uv(Ti.stretch-Fn,En,Tt,R.left),co=Vv(Ti.fixed-ea,ha,Ti.stretch,Tr),Ho=Uv(mi.stretch-_n,Wn,Lt,R.top),Po=Vv(mi.fixed-la,Ba,mi.stretch,jr),vs=Uv(Hi.stretch-Fn,En,Tt,R.left),ds=Vv(Hi.fixed-ea,ha,Hi.stretch,Tr),Go=Uv(Yi.stretch-_n,Wn,Lt,R.top),Ps=Vv(Yi.fixed-la,Ba,Yi.stretch,jr),Rs=new t(ro,Ho),Bo=new t(vs,Ho),Ds=new t(vs,Go),Il=new t(ro,Go),qf=new t(co/Ee,Po/Ee),xc=new t(ds/Ee,Ps/Ee),bc=D*Math.PI/180;if(bc){var wc=Math.sin(bc),wh=Math.cos(bc),Du=[wh,-wc,wc,wh];Rs._matMult(Du),Bo._matMult(Du),Il._matMult(Du),Ds._matMult(Du)}var Xv=Ti.stretch+Ti.fixed,l0=Hi.stretch+Hi.fixed,jv=mi.stretch+mi.fixed,u0=Yi.stretch+Yi.fixed,eu={x:be.paddedRect.x+vh+Xv,y:be.paddedRect.y+vh+jv,w:l0-Xv,h:u0-jv},Th=ha/Ee/Tt,Kv=Ba/Ee/Lt;return{tl:Rs,tr:Bo,bl:Il,br:Ds,tex:eu,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:qf,pixelOffsetBR:xc,minFontScaleX:Th,minFontScaleY:Kv,isSDF:V}};if(!te||!be.stretchX&&!be.stretchY)he.push(Ia({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:je+1},{fixed:0,stretch:ft+1}));else for(var Ka=ug(Xt,vn,Tr),_a=ug(cr,ln,jr),za=0;za<Ka.length-1;za++)for(var ei=Ka[za],Xa=Ka[za+1],bi=0;bi<_a.length-1;bi++){var _i=_a[bi],wi=_a[bi+1];he.push(Ia(ei,_i,Xa,wi))}return he}function Nv(R,D,V){for(var te=0,he=0,be=R;he<be.length;he+=1){var Ee=be[he];te+=Math.max(D,Math.min(V,Ee[1]))-Math.max(D,Math.min(V,Ee[0]))}return te}function ug(R,D,V){for(var te=[{fixed:-vh,stretch:0}],he=0,be=R;he<be.length;he+=1){var Ee=be[he],je=Ee[0],ft=Ee[1],Tt=te[te.length-1];te.push({fixed:je-Tt.stretch,stretch:Tt.stretch}),te.push({fixed:je-Tt.stretch,stretch:Tt.stretch+(ft-je)})}return te.push({fixed:D+vh,stretch:V}),te}function Uv(R,D,V,te){return R/D*V+te}function Vv(R,D,V,te){return R-D*V/te}function sb(R,D,V,te,he,be,Ee,je){for(var ft=te.layout.get("text-rotate").evaluate(be,{})*Math.PI/180,Tt=[],Lt=0,Xt=D.positionedLines;Lt<Xt.length;Lt+=1)for(var cr=Xt[Lt],nr=0,Tr=cr.positionedGlyphs;nr<Tr.length;nr+=1){var jr=Tr[nr];if(jr.rect){var vn=jr.rect||{},ln=1,Fn=Yp+ln,En=!0,_n=1,Wn=0,ea=(he||je)&&jr.vertical,ha=jr.metrics.advance*jr.scale/2;if(je&&D.verticalizable){var la=(jr.scale-1)*Xo,Ba=(Xo-jr.metrics.width*jr.scale)/2;Wn=cr.lineOffset/2-(jr.imageName?-Ba:la)}if(jr.imageName){var La=Ee[jr.imageName];En=La.sdf,_n=La.pixelRatio,Fn=vl/_n}var Ia=he?[jr.x+ha,jr.y]:[0,0],Ka=he?[0,0]:[jr.x+ha+V[0],jr.y+V[1]-Wn],_a=[0,0];ea&&(_a=Ka,Ka=[0,0]);var za=(jr.metrics.left-Fn)*jr.scale-ha+Ka[0],ei=(-jr.metrics.top-Fn)*jr.scale+Ka[1],Xa=za+vn.w*jr.scale/_n,bi=ei+vn.h*jr.scale/_n,_i=new t(za,ei),wi=new t(Xa,ei),Ti=new t(za,bi),mi=new t(Xa,bi);if(ea){var Hi=new t(-ha,ha-nv),Yi=-Math.PI/2,ro=Xo/2-ha,co=jr.imageName?ro:0,Ho=new t(5-nv-ro,-co),Po=new(Function.prototype.bind.apply(t,[null].concat(_a)));_i._rotateAround(Yi,Hi)._add(Ho)._add(Po),wi._rotateAround(Yi,Hi)._add(Ho)._add(Po),Ti._rotateAround(Yi,Hi)._add(Ho)._add(Po),mi._rotateAround(Yi,Hi)._add(Ho)._add(Po)}if(ft){var vs=Math.sin(ft),ds=Math.cos(ft),Go=[ds,-vs,vs,ds];_i._matMult(Go),wi._matMult(Go),Ti._matMult(Go),mi._matMult(Go)}var Ps=new t(0,0),Rs=new t(0,0),Bo=0,Ds=0;Tt.push({tl:_i,tr:wi,bl:Ti,br:mi,tex:vn,writingMode:D.writingMode,glyphOffset:Ia,sectionIndex:jr.sectionIndex,isSDF:En,pixelOffsetTL:Ps,pixelOffsetBR:Rs,minFontScaleX:Bo,minFontScaleY:Ds})}}return Tt}var Hv=function(D,V,te,he,be,Ee,je,ft,Tt,Lt){if(this.boxStartIndex=D.length,Tt){var Xt=Ee.top,cr=Ee.bottom,nr=Ee.collisionPadding;nr&&(Xt-=nr[1],cr+=nr[3]);var Tr=cr-Xt;Tr>0&&(Tr=Math.max(10,Tr),this.circleDiameter=Tr)}else{var jr=Ee.top*je-ft,vn=Ee.bottom*je+ft,ln=Ee.left*je-ft,Fn=Ee.right*je+ft,En=Ee.collisionPadding;if(En&&(ln-=En[0]*je,jr-=En[1]*je,Fn+=En[2]*je,vn+=En[3]*je),Lt){var _n=new t(ln,jr),Wn=new t(Fn,jr),ea=new t(ln,vn),ha=new t(Fn,vn),la=Lt*Math.PI/180;_n._rotate(la),Wn._rotate(la),ea._rotate(la),ha._rotate(la),ln=Math.min(_n.x,Wn.x,ea.x,ha.x),Fn=Math.max(_n.x,Wn.x,ea.x,ha.x),jr=Math.min(_n.y,Wn.y,ea.y,ha.y),vn=Math.max(_n.y,Wn.y,ea.y,ha.y)}D.emplaceBack(V.x,V.y,ln,jr,Fn,vn,te,he,be)}this.boxEndIndex=D.length},dh=function(D,V){if(D===void 0&&(D=[]),V===void 0&&(V=lb),this.data=D,this.length=this.data.length,this.compare=V,this.length>0)for(var te=(this.length>>1)-1;te>=0;te--)this._down(te)};dh.prototype.push=function(D){this.data.push(D),this.length++,this._up(this.length-1)},dh.prototype.pop=function(){if(this.length!==0){var D=this.data[0],V=this.data.pop();return this.length--,this.length>0&&(this.data[0]=V,this._down(0)),D}},dh.prototype.peek=function(){return this.data[0]},dh.prototype._up=function(D){for(var V=this,te=V.data,he=V.compare,be=te[D];D>0;){var Ee=D-1>>1,je=te[Ee];if(he(be,je)>=0)break;te[D]=je,D=Ee}te[D]=be},dh.prototype._down=function(D){for(var V=this,te=V.data,he=V.compare,be=this.length>>1,Ee=te[D];D<be;){var je=(D<<1)+1,ft=te[je],Tt=je+1;if(Tt<this.length&&he(te[Tt],ft)<0&&(je=Tt,ft=te[Tt]),he(ft,Ee)>=0)break;te[D]=ft,D=je}te[D]=Ee};function lb(R,D){return R<D?-1:R>D?1:0}function ub(R,D,V){D===void 0&&(D=1),V===void 0&&(V=!1);for(var te=1/0,he=1/0,be=-1/0,Ee=-1/0,je=R[0],ft=0;ft<je.length;ft++){var Tt=je[ft];(!ft||Tt.x<te)&&(te=Tt.x),(!ft||Tt.y<he)&&(he=Tt.y),(!ft||Tt.x>be)&&(be=Tt.x),(!ft||Tt.y>Ee)&&(Ee=Tt.y)}var Lt=be-te,Xt=Ee-he,cr=Math.min(Lt,Xt),nr=cr/2,Tr=new dh([],fb);if(cr===0)return new t(te,he);for(var jr=te;jr<be;jr+=cr)for(var vn=he;vn<Ee;vn+=cr)Tr.push(new ph(jr+nr,vn+nr,nr,R));for(var ln=hb(R),Fn=Tr.length;Tr.length;){var En=Tr.pop();(En.d>ln.d||!ln.d)&&(ln=En,V&&console.log("found best %d after %d probes",Math.round(1e4*En.d)/1e4,Fn)),!(En.max-ln.d<=D)&&(nr=En.h/2,Tr.push(new ph(En.p.x-nr,En.p.y-nr,nr,R)),Tr.push(new ph(En.p.x+nr,En.p.y-nr,nr,R)),Tr.push(new ph(En.p.x-nr,En.p.y+nr,nr,R)),Tr.push(new ph(En.p.x+nr,En.p.y+nr,nr,R)),Fn+=4)}return V&&(console.log("num probes: "+Fn),console.log("best distance: "+ln.d)),ln.p}function fb(R,D){return D.max-R.max}function ph(R,D,V,te){this.p=new t(R,D),this.h=V,this.d=cb(this.p,te),this.max=this.d+this.h*Math.SQRT2}function cb(R,D){for(var V=!1,te=1/0,he=0;he<D.length;he++)for(var be=D[he],Ee=0,je=be.length,ft=je-1;Ee<je;ft=Ee++){var Tt=be[Ee],Lt=be[ft];Tt.y>R.y!=Lt.y>R.y&&R.x<(Lt.x-Tt.x)*(R.y-Tt.y)/(Lt.y-Tt.y)+Tt.x&&(V=!V),te=Math.min(te,uf(R,Tt,Lt))}return(V?1:-1)*Math.sqrt(te)}function hb(R){for(var D=0,V=0,te=0,he=R[0],be=0,Ee=he.length,je=Ee-1;be<Ee;je=be++){var ft=he[be],Tt=he[je],Lt=ft.x*Tt.y-Tt.x*ft.y;V+=(ft.x+Tt.x)*Lt,te+=(ft.y+Tt.y)*Lt,D+=Lt*3}return new ph(V/D,te/D,0,R)}var gh=7,t0=Number.POSITIVE_INFINITY;function fg(R,D){function V(he,be){var Ee=0,je=0;be<0&&(be=0);var ft=be/Math.sqrt(2);switch(he){case"top-right":case"top-left":je=ft-gh;break;case"bottom-right":case"bottom-left":je=-ft+gh;break;case"bottom":je=-be+gh;break;case"top":je=be-gh;break}switch(he){case"top-right":case"bottom-right":Ee=-ft;break;case"top-left":case"bottom-left":Ee=ft;break;case"left":Ee=be;break;case"right":Ee=-be;break}return[Ee,je]}function te(he,be,Ee){var je=0,ft=0;switch(be=Math.abs(be),Ee=Math.abs(Ee),he){case"top-right":case"top-left":case"top":ft=Ee-gh;break;case"bottom-right":case"bottom-left":case"bottom":ft=-Ee+gh;break}switch(he){case"top-right":case"bottom-right":case"right":je=-be;break;case"top-left":case"bottom-left":case"left":je=be;break}return[je,ft]}return D[1]!==t0?te(R,D[0],D[1]):V(R,D[0])}function vb(R,D,V,te,he,be,Ee){R.createArrays();var je=512*R.overscaling;R.tilePixelRatio=Ua/je,R.compareText={},R.iconsNeedLinear=!1;var ft=R.layers[0].layout,Tt=R.layers[0]._unevaluatedLayout._values,Lt={};if(R.textSizeData.kind==="composite"){var Xt=R.textSizeData,cr=Xt.minZoom,nr=Xt.maxZoom;Lt.compositeTextSizes=[Tt["text-size"].possiblyEvaluate(new kn(cr),Ee),Tt["text-size"].possiblyEvaluate(new kn(nr),Ee)]}if(R.iconSizeData.kind==="composite"){var Tr=R.iconSizeData,jr=Tr.minZoom,vn=Tr.maxZoom;Lt.compositeIconSizes=[Tt["icon-size"].possiblyEvaluate(new kn(jr),Ee),Tt["icon-size"].possiblyEvaluate(new kn(vn),Ee)]}Lt.layoutTextSize=Tt["text-size"].possiblyEvaluate(new kn(R.zoom+1),Ee),Lt.layoutIconSize=Tt["icon-size"].possiblyEvaluate(new kn(R.zoom+1),Ee),Lt.textMaxSize=Tt["text-size"].possiblyEvaluate(new kn(18));for(var ln=ft.get("text-line-height")*Xo,Fn=ft.get("text-rotation-alignment")==="map"&&ft.get("symbol-placement")!=="point",En=ft.get("text-keep-upright"),_n=ft.get("text-size"),Wn=function(){var la=ha[ea],Ba=ft.get("text-font").evaluate(la,{},Ee).join(","),La=_n.evaluate(la,{},Ee),Ia=Lt.layoutTextSize.evaluate(la,{},Ee),Ka=Lt.layoutIconSize.evaluate(la,{},Ee),_a={horizontal:{},vertical:void 0},za=la.text,ei=[0,0];if(za){var Xa=za.toString(),bi=ft.get("text-letter-spacing").evaluate(la,{},Ee)*Xo,_i=rr(Xa)?bi:0,wi=ft.get("text-anchor").evaluate(la,{},Ee),Ti=ft.get("text-variable-anchor");if(!Ti){var mi=ft.get("text-radial-offset").evaluate(la,{},Ee);mi?ei=fg(wi,[mi*Xo,t0]):ei=ft.get("text-offset").evaluate(la,{},Ee).map(function(qf){return qf*Xo})}var Hi=Fn?"center":ft.get("text-justify").evaluate(la,{},Ee),Yi=ft.get("symbol-placement"),ro=Yi==="point"?ft.get("text-max-width").evaluate(la,{},Ee)*Xo:0,co=function(){R.allowVerticalPlacement&&Ht(Xa)&&(_a.vertical=Bv(za,D,V,he,Ba,ro,ln,wi,"left",_i,ei,Dl.vertical,!0,Yi,Ia,La))};if(!Fn&&Ti){for(var Ho=Hi==="auto"?Ti.map(function(qf){return r0(qf)}):[Hi],Po=!1,vs=0;vs<Ho.length;vs++){var ds=Ho[vs];if(!_a.horizontal[ds])if(Po)_a.horizontal[ds]=_a.horizontal[0];else{var Go=Bv(za,D,V,he,Ba,ro,ln,"center",ds,_i,ei,Dl.horizontal,!1,Yi,Ia,La);Go&&(_a.horizontal[ds]=Go,Po=Go.positionedLines.length===1)}}co()}else{Hi==="auto"&&(Hi=r0(wi));var Ps=Bv(za,D,V,he,Ba,ro,ln,wi,Hi,_i,ei,Dl.horizontal,!1,Yi,Ia,La);Ps&&(_a.horizontal[Hi]=Ps),co(),Ht(Xa)&&Fn&&En&&(_a.vertical=Bv(za,D,V,he,Ba,ro,ln,wi,Hi,_i,ei,Dl.vertical,!1,Yi,Ia,La))}}var Rs=void 0,Bo=!1;if(la.icon&&la.icon.name){var Ds=te[la.icon.name];Ds&&(Rs=nb(he[la.icon.name],ft.get("icon-offset").evaluate(la,{},Ee),ft.get("icon-anchor").evaluate(la,{},Ee)),Bo=Ds.sdf,R.sdfIcons===void 0?R.sdfIcons=Ds.sdf:R.sdfIcons!==Ds.sdf&&N("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ds.pixelRatio!==R.pixelRatio||ft.get("icon-rotate").constantOr(1)!==0)&&(R.iconsNeedLinear=!0))}var Il=hg(_a.horizontal)||_a.vertical;R.iconsInText=Il?Il.iconsInText:!1,(Il||Rs)&&db(R,la,_a,Rs,te,Lt,Ia,Ka,ei,Bo,Ee)},ea=0,ha=R.features;ea<ha.length;ea+=1)Wn();be&&R.generateCollisionDebugBuffers()}function r0(R){switch(R){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function db(R,D,V,te,he,be,Ee,je,ft,Tt,Lt){var Xt=be.textMaxSize.evaluate(D,{});Xt===void 0&&(Xt=Ee);var cr=R.layers[0].layout,nr=cr.get("icon-offset").evaluate(D,{},Lt),Tr=hg(V.horizontal),jr=24,vn=Ee/jr,ln=R.tilePixelRatio*vn,Fn=R.tilePixelRatio*Xt/jr,En=R.tilePixelRatio*je,_n=R.tilePixelRatio*cr.get("symbol-spacing"),Wn=cr.get("text-padding")*R.tilePixelRatio,ea=cr.get("icon-padding")*R.tilePixelRatio,ha=cr.get("text-max-angle")/180*Math.PI,la=cr.get("text-rotation-alignment")==="map"&&cr.get("symbol-placement")!=="point",Ba=cr.get("icon-rotation-alignment")==="map"&&cr.get("symbol-placement")!=="point",La=cr.get("symbol-placement"),Ia=_n/2,Ka=cr.get("icon-text-fit"),_a;te&&Ka!=="none"&&(R.allowVerticalPlacement&&V.vertical&&(_a=qp(te,V.vertical,Ka,cr.get("icon-text-fit-padding"),nr,vn)),Tr&&(te=qp(te,Tr,Ka,cr.get("icon-text-fit-padding"),nr,vn)));var za=function(wh,Du){Du.x<0||Du.x>=Ua||Du.y<0||Du.y>=Ua||pb(R,Du,wh,V,te,he,_a,R.layers[0],R.collisionBoxArray,D.index,D.sourceLayerIndex,R.index,ln,Wn,la,ft,En,ea,Ba,nr,D,be,Tt,Lt,Ee)};if(La==="line")for(var ei=0,Xa=sg(D.geometry,0,0,Ua,Ua);ei<Xa.length;ei+=1)for(var bi=Xa[ei],_i=ob(bi,_n,ha,V.vertical||Tr,te,jr,Fn,R.overscaling,Ua),wi=0,Ti=_i;wi<Ti.length;wi+=1){var mi=Ti[wi],Hi=Tr;(!Hi||!gb(R,Hi.text,Ia,mi))&&za(bi,mi)}else if(La==="line-center")for(var Yi=0,ro=D.geometry;Yi<ro.length;Yi+=1){var co=ro[Yi];if(co.length>1){var Ho=ib(co,ha,V.vertical||Tr,te,jr,Fn);Ho&&za(co,Ho)}}else if(D.type==="Polygon")for(var Po=0,vs=Yd(D.geometry,0);Po<vs.length;Po+=1){var ds=vs[Po],Go=ub(ds,16);za(ds[0],new hh(Go.x,Go.y,0))}else if(D.type==="LineString")for(var Ps=0,Rs=D.geometry;Ps<Rs.length;Ps+=1){var Bo=Rs[Ps];za(Bo,new hh(Bo[0].x,Bo[0].y,0))}else if(D.type==="Point")for(var Ds=0,Il=D.geometry;Ds<Il.length;Ds+=1)for(var qf=Il[Ds],xc=0,bc=qf;xc<bc.length;xc+=1){var wc=bc[xc];za([wc],new hh(wc.x,wc.y,0))}}var av=255,yc=av*hf;function cg(R,D,V,te,he,be,Ee,je,ft,Tt,Lt,Xt,cr,nr,Tr){var jr=sb(D,V,je,he,be,Ee,te,R.allowVerticalPlacement),vn=R.textSizeData,ln=null;vn.kind==="source"?(ln=[hf*he.layout.get("text-size").evaluate(Ee,{})],ln[0]>yc&&N(R.layerIds[0]+': Value for "text-size" is >= '+av+'. Reduce your "text-size".')):vn.kind==="composite"&&(ln=[hf*nr.compositeTextSizes[0].evaluate(Ee,{},Tr),hf*nr.compositeTextSizes[1].evaluate(Ee,{},Tr)],(ln[0]>yc||ln[1]>yc)&&N(R.layerIds[0]+': Value for "text-size" is >= '+av+'. Reduce your "text-size".')),R.addSymbols(R.text,jr,ln,je,be,Ee,Tt,D,ft.lineStartIndex,ft.lineLength,cr,Tr);for(var Fn=0,En=Lt;Fn<En.length;Fn+=1){var _n=En[Fn];Xt[_n]=R.text.placedSymbolArray.length-1}return jr.length*4}function hg(R){for(var D in R)return R[D];return null}function pb(R,D,V,te,he,be,Ee,je,ft,Tt,Lt,Xt,cr,nr,Tr,jr,vn,ln,Fn,En,_n,Wn,ea,ha,la){var Ba,La=R.addToLineVertexArray(D,V),Ia,Ka,_a,za,ei=0,Xa=0,bi=0,_i=0,wi=-1,Ti=-1,mi={},Hi=Ye(""),Yi=0,ro=0;if(je._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Ba=je.layout.get("text-offset").evaluate(_n,{},ha).map(function(sv){return sv*Xo}),Yi=Ba[0],ro=Ba[1]):(Yi=je.layout.get("text-radial-offset").evaluate(_n,{},ha)*Xo,ro=t0),R.allowVerticalPlacement&&te.vertical){var co=je.layout.get("text-rotate").evaluate(_n,{},ha),Ho=co+90,Po=te.vertical;_a=new Hv(ft,D,Tt,Lt,Xt,Po,cr,nr,Tr,Ho),Ee&&(za=new Hv(ft,D,Tt,Lt,Xt,Ee,vn,ln,Tr,Ho))}if(he){var vs=je.layout.get("icon-rotate").evaluate(_n,{}),ds=je.layout.get("icon-text-fit")!=="none",Go=lg(he,vs,ea,ds),Ps=Ee?lg(Ee,vs,ea,ds):void 0;Ka=new Hv(ft,D,Tt,Lt,Xt,he,vn,ln,!1,vs),ei=Go.length*4;var Rs=R.iconSizeData,Bo=null;Rs.kind==="source"?(Bo=[hf*je.layout.get("icon-size").evaluate(_n,{})],Bo[0]>yc&&N(R.layerIds[0]+': Value for "icon-size" is >= '+av+'. Reduce your "icon-size".')):Rs.kind==="composite"&&(Bo=[hf*Wn.compositeIconSizes[0].evaluate(_n,{},ha),hf*Wn.compositeIconSizes[1].evaluate(_n,{},ha)],(Bo[0]>yc||Bo[1]>yc)&&N(R.layerIds[0]+': Value for "icon-size" is >= '+av+'. Reduce your "icon-size".')),R.addSymbols(R.icon,Go,Bo,En,Fn,_n,!1,D,La.lineStartIndex,La.lineLength,-1,ha),wi=R.icon.placedSymbolArray.length-1,Ps&&(Xa=Ps.length*4,R.addSymbols(R.icon,Ps,Bo,En,Fn,_n,Dl.vertical,D,La.lineStartIndex,La.lineLength,-1,ha),Ti=R.icon.placedSymbolArray.length-1)}for(var Ds in te.horizontal){var Il=te.horizontal[Ds];if(!Ia){Hi=Ye(Il.text);var qf=je.layout.get("text-rotate").evaluate(_n,{},ha);Ia=new Hv(ft,D,Tt,Lt,Xt,Il,cr,nr,Tr,qf)}var xc=Il.positionedLines.length===1;if(bi+=cg(R,D,Il,be,je,Tr,_n,jr,La,te.vertical?Dl.horizontal:Dl.horizontalOnly,xc?Object.keys(te.horizontal):[Ds],mi,wi,Wn,ha),xc)break}te.vertical&&(_i+=cg(R,D,te.vertical,be,je,Tr,_n,jr,La,Dl.vertical,["vertical"],mi,Ti,Wn,ha));var bc=Ia?Ia.boxStartIndex:R.collisionBoxArray.length,wc=Ia?Ia.boxEndIndex:R.collisionBoxArray.length,wh=_a?_a.boxStartIndex:R.collisionBoxArray.length,Du=_a?_a.boxEndIndex:R.collisionBoxArray.length,Xv=Ka?Ka.boxStartIndex:R.collisionBoxArray.length,l0=Ka?Ka.boxEndIndex:R.collisionBoxArray.length,jv=za?za.boxStartIndex:R.collisionBoxArray.length,u0=za?za.boxEndIndex:R.collisionBoxArray.length,eu=-1,Th=function(sv,Lg){return sv&&sv.circleDiameter?Math.max(sv.circleDiameter,Lg):Lg};eu=Th(Ia,eu),eu=Th(_a,eu),eu=Th(Ka,eu),eu=Th(za,eu);var Kv=eu>-1?1:0;Kv&&(eu*=la/Xo),R.glyphOffsetArray.length>=ki.MAX_GLYPHS&&N("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),_n.sortKey!==void 0&&R.addToSortKeyRanges(R.symbolInstances.length,_n.sortKey),R.symbolInstances.emplaceBack(D.x,D.y,mi.right>=0?mi.right:-1,mi.center>=0?mi.center:-1,mi.left>=0?mi.left:-1,mi.vertical||-1,wi,Ti,Hi,bc,wc,wh,Du,Xv,l0,jv,u0,Tt,bi,_i,ei,Xa,Kv,0,cr,Yi,ro,eu)}function gb(R,D,V,te){var he=R.compareText;if(!(D in he))he[D]=[];else for(var be=he[D],Ee=be.length-1;Ee>=0;Ee--)if(te.dist(be[Ee])<V)return!0;return he[D].push(te),!1}var yb=lh.VectorTileFeature.types,mb=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Gv(R,D,V,te,he,be,Ee,je,ft,Tt,Lt,Xt,cr){var nr=je?Math.min(yc,Math.round(je[0])):0,Tr=je?Math.min(yc,Math.round(je[1])):0;R.emplaceBack(D,V,Math.round(te*32),Math.round(he*32),be,Ee,(nr<<1)+(ft?1:0),Tr,Tt*16,Lt*16,Xt*256,cr*256)}function n0(R,D,V){R.emplaceBack(D.x,D.y,V),R.emplaceBack(D.x,D.y,V),R.emplaceBack(D.x,D.y,V),R.emplaceBack(D.x,D.y,V)}function xb(R){for(var D=0,V=R.sections;D<V.length;D+=1){var te=V[D];if(it(te.text))return!0}return!1}var yh=function(D){this.layoutVertexArray=new Df,this.indexArray=new lf,this.programConfigurations=D,this.segments=new Y,this.dynamicLayoutVertexArray=new Uh,this.opacityVertexArray=new Vh,this.placedSymbolArray=new vc};yh.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},yh.prototype.upload=function(D,V,te,he){this.isEmpty()||(te&&(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,Kd.members),this.indexBuffer=D.createIndexBuffer(this.indexArray,V),this.dynamicLayoutVertexBuffer=D.createVertexBuffer(this.dynamicLayoutVertexArray,b2.members,!0),this.opacityVertexBuffer=D.createVertexBuffer(this.opacityVertexArray,mb,!0),this.opacityVertexBuffer.itemSize=1),(te||he)&&this.programConfigurations.upload(D))},yh.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},le("SymbolBuffers",yh);var iv=function(D,V,te){this.layoutVertexArray=new D,this.layoutAttributes=V,this.indexArray=new te,this.segments=new Y,this.collisionVertexArray=new Zs};iv.prototype.upload=function(D){this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=D.createVertexBuffer(this.collisionVertexArray,w2.members,!0)},iv.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},le("CollisionBuffers",iv);var ki=function(D){this.collisionBoxArray=D.collisionBoxArray,this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(ft){return ft.id}),this.index=D.index,this.pixelRatio=D.pixelRatio,this.sourceLayerIndex=D.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=nh([]),this.placementViewportMatrix=nh([]);var V=this.layers[0],te=V._unevaluatedLayout._values;this.textSizeData=e0(this.zoom,te["text-size"]),this.iconSizeData=e0(this.zoom,te["icon-size"]);var he=this.layers[0].layout,be=he.get("symbol-sort-key"),Ee=he.get("symbol-z-order");this.sortFeaturesByKey=Ee!=="viewport-y"&&be.constantOr(1)!==void 0;var je=Ee==="viewport-y"||Ee==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=je&&(he.get("text-allow-overlap")||he.get("icon-allow-overlap")||he.get("text-ignore-placement")||he.get("icon-ignore-placement")),he.get("symbol-placement")==="point"&&(this.writingModes=he.get("text-writing-mode").map(function(ft){return Dl[ft]})),this.stateDependentLayerIds=this.layers.filter(function(ft){return ft.isStateDependent()}).map(function(ft){return ft.id}),this.sourceID=D.sourceID};ki.prototype.createArrays=function(){this.text=new yh(new Ja(Kd.members,this.layers,this.zoom,function(D){return/^text/.test(D)})),this.icon=new yh(new Ja(Kd.members,this.layers,this.zoom,function(D){return/^icon/.test(D)})),this.glyphOffsetArray=new $l,this.lineVertexArray=new Mv,this.symbolInstances=new Sv},ki.prototype.calculateGlyphDependencies=function(D,V,te,he,be){for(var Ee=0;Ee<D.length;Ee++)if(V[D.charCodeAt(Ee)]=!0,(te||he)&&be){var je=ev[D.charAt(Ee)];je&&(V[je.charCodeAt(0)]=!0)}},ki.prototype.populate=function(D,V,te){var he=this.layers[0],be=he.layout,Ee=be.get("text-font"),je=be.get("text-field"),ft=be.get("icon-image"),Tt=(je.value.kind!=="constant"||je.value.value instanceof qi&&!je.value.value.isEmpty()||je.value.value.toString().length>0)&&(Ee.value.kind!=="constant"||Ee.value.value.length>0),Lt=ft.value.kind!=="constant"||!!ft.value.value||Object.keys(ft.parameters).length>0,Xt=be.get("symbol-sort-key");if(this.features=[],!(!Tt&&!Lt)){for(var cr=V.iconDependencies,nr=V.glyphDependencies,Tr=V.availableImages,jr=new kn(this.zoom),vn=0,ln=D;vn<ln.length;vn+=1){var Fn=ln[vn],En=Fn.feature,_n=Fn.id,Wn=Fn.index,ea=Fn.sourceLayerIndex,ha=he._featureFilter.needGeometry,la={type:En.type,id:_n,properties:En.properties,geometry:ha?Di(En):[]};if(he._featureFilter.filter(jr,la,te)){ha||(la.geometry=Di(En));var Ba=void 0;if(Tt){var La=he.getValueAndResolveTokens("text-field",la,te,Tr),Ia=qi.factory(La);xb(Ia)&&(this.hasRTLText=!0),(!this.hasRTLText||In()==="unavailable"||this.hasRTLText&&da.isParsed())&&(Ba=S2(Ia,he,la))}var Ka=void 0;if(Lt){var _a=he.getValueAndResolveTokens("icon-image",la,te,Tr);_a instanceof wo?Ka=_a:Ka=wo.fromString(_a)}if(!(!Ba&&!Ka)){var za=this.sortFeaturesByKey?Xt.evaluate(la,{},te):void 0,ei={id:_n,text:Ba,icon:Ka,index:Wn,sourceLayerIndex:ea,geometry:Di(En),properties:En.properties,type:yb[En.type],sortKey:za};if(this.features.push(ei),Ka&&(cr[Ka.name]=!0),Ba){var Xa=Ee.evaluate(la,{},te).join(","),bi=be.get("text-rotation-alignment")==="map"&&be.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Dl.vertical)>=0;for(var _i=0,wi=Ba.sections;_i<wi.length;_i+=1){var Ti=wi[_i];if(Ti.image)cr[Ti.image.name]=!0;else{var mi=Ht(Ba.toString()),Hi=Ti.fontStack||Xa,Yi=nr[Hi]=nr[Hi]||{};this.calculateGlyphDependencies(Ti.text,Yi,bi,this.allowVerticalPlacement,mi)}}}}}}be.get("symbol-placement")==="line"&&(this.features=M2(this.features)),this.sortFeaturesByKey&&this.features.sort(function(ro,co){return ro.sortKey-co.sortKey})}},ki.prototype.update=function(D,V,te){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(D,V,this.layers,te),this.icon.programConfigurations.updatePaintArrays(D,V,this.layers,te))},ki.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},ki.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},ki.prototype.upload=function(D){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(D),this.iconCollisionBox.upload(D)),this.text.upload(D,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(D,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},ki.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},ki.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},ki.prototype.addToLineVertexArray=function(D,V){var te=this.lineVertexArray.length;if(D.segment!==void 0){for(var he=D.dist(V[D.segment+1]),be=D.dist(V[D.segment]),Ee={},je=D.segment+1;je<V.length;je++)Ee[je]={x:V[je].x,y:V[je].y,tileUnitDistanceFromAnchor:he},je<V.length-1&&(he+=V[je+1].dist(V[je]));for(var ft=D.segment||0;ft>=0;ft--)Ee[ft]={x:V[ft].x,y:V[ft].y,tileUnitDistanceFromAnchor:be},ft>0&&(be+=V[ft-1].dist(V[ft]));for(var Tt=0;Tt<V.length;Tt++){var Lt=Ee[Tt];this.lineVertexArray.emplaceBack(Lt.x,Lt.y,Lt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:te,lineLength:this.lineVertexArray.length-te}},ki.prototype.addSymbols=function(D,V,te,he,be,Ee,je,ft,Tt,Lt,Xt,cr){for(var nr=D.indexArray,Tr=D.layoutVertexArray,jr=D.segments.prepareSegment(4*V.length,Tr,nr,Ee.sortKey),vn=this.glyphOffsetArray.length,ln=jr.vertexLength,Fn=this.allowVerticalPlacement&&je===Dl.vertical?Math.PI/2:0,En=Ee.text&&Ee.text.sections,_n=0;_n<V.length;_n++){var Wn=V[_n],ea=Wn.tl,ha=Wn.tr,la=Wn.bl,Ba=Wn.br,La=Wn.tex,Ia=Wn.pixelOffsetTL,Ka=Wn.pixelOffsetBR,_a=Wn.minFontScaleX,za=Wn.minFontScaleY,ei=Wn.glyphOffset,Xa=Wn.isSDF,bi=Wn.sectionIndex,_i=jr.vertexLength,wi=ei[1];Gv(Tr,ft.x,ft.y,ea.x,wi+ea.y,La.x,La.y,te,Xa,Ia.x,Ia.y,_a,za),Gv(Tr,ft.x,ft.y,ha.x,wi+ha.y,La.x+La.w,La.y,te,Xa,Ka.x,Ia.y,_a,za),Gv(Tr,ft.x,ft.y,la.x,wi+la.y,La.x,La.y+La.h,te,Xa,Ia.x,Ka.y,_a,za),Gv(Tr,ft.x,ft.y,Ba.x,wi+Ba.y,La.x+La.w,La.y+La.h,te,Xa,Ka.x,Ka.y,_a,za),n0(D.dynamicLayoutVertexArray,ft,Fn),nr.emplaceBack(_i,_i+1,_i+2),nr.emplaceBack(_i+1,_i+2,_i+3),jr.vertexLength+=4,jr.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(ei[0]),(_n===V.length-1||bi!==V[_n+1].sectionIndex)&&D.programConfigurations.populatePaintArrays(Tr.length,Ee,Ee.index,{},cr,En&&En[bi])}D.placedSymbolArray.emplaceBack(ft.x,ft.y,vn,this.glyphOffsetArray.length-vn,ln,Tt,Lt,ft.segment,te?te[0]:0,te?te[1]:0,he[0],he[1],je,0,!1,0,Xt)},ki.prototype._addCollisionDebugVertex=function(D,V,te,he,be,Ee){return V.emplaceBack(0,0),D.emplaceBack(te.x,te.y,he,be,Math.round(Ee.x),Math.round(Ee.y))},ki.prototype.addCollisionDebugVertices=function(D,V,te,he,be,Ee,je){var ft=be.segments.prepareSegment(4,be.layoutVertexArray,be.indexArray),Tt=ft.vertexLength,Lt=be.layoutVertexArray,Xt=be.collisionVertexArray,cr=je.anchorX,nr=je.anchorY;this._addCollisionDebugVertex(Lt,Xt,Ee,cr,nr,new t(D,V)),this._addCollisionDebugVertex(Lt,Xt,Ee,cr,nr,new t(te,V)),this._addCollisionDebugVertex(Lt,Xt,Ee,cr,nr,new t(te,he)),this._addCollisionDebugVertex(Lt,Xt,Ee,cr,nr,new t(D,he)),ft.vertexLength+=4;var Tr=be.indexArray;Tr.emplaceBack(Tt,Tt+1),Tr.emplaceBack(Tt+1,Tt+2),Tr.emplaceBack(Tt+2,Tt+3),Tr.emplaceBack(Tt+3,Tt),ft.primitiveLength+=4},ki.prototype.addDebugCollisionBoxes=function(D,V,te,he){for(var be=D;be<V;be++){var Ee=this.collisionBoxArray.get(be),je=Ee.x1,ft=Ee.y1,Tt=Ee.x2,Lt=Ee.y2;this.addCollisionDebugVertices(je,ft,Tt,Lt,he?this.textCollisionBox:this.iconCollisionBox,Ee.anchorPoint,te)}},ki.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new iv($c,Up.members,kc),this.iconCollisionBox=new iv($c,Up.members,kc);for(var D=0;D<this.symbolInstances.length;D++){var V=this.symbolInstances.get(D);this.addDebugCollisionBoxes(V.textBoxStartIndex,V.textBoxEndIndex,V,!0),this.addDebugCollisionBoxes(V.verticalTextBoxStartIndex,V.verticalTextBoxEndIndex,V,!0),this.addDebugCollisionBoxes(V.iconBoxStartIndex,V.iconBoxEndIndex,V,!1),this.addDebugCollisionBoxes(V.verticalIconBoxStartIndex,V.verticalIconBoxEndIndex,V,!1)}},ki.prototype._deserializeCollisionBoxesForSymbol=function(D,V,te,he,be,Ee,je,ft,Tt){for(var Lt={},Xt=V;Xt<te;Xt++){var cr=D.get(Xt);Lt.textBox={x1:cr.x1,y1:cr.y1,x2:cr.x2,y2:cr.y2,anchorPointX:cr.anchorPointX,anchorPointY:cr.anchorPointY},Lt.textFeatureIndex=cr.featureIndex;break}for(var nr=he;nr<be;nr++){var Tr=D.get(nr);Lt.verticalTextBox={x1:Tr.x1,y1:Tr.y1,x2:Tr.x2,y2:Tr.y2,anchorPointX:Tr.anchorPointX,anchorPointY:Tr.anchorPointY},Lt.verticalTextFeatureIndex=Tr.featureIndex;break}for(var jr=Ee;jr<je;jr++){var vn=D.get(jr);Lt.iconBox={x1:vn.x1,y1:vn.y1,x2:vn.x2,y2:vn.y2,anchorPointX:vn.anchorPointX,anchorPointY:vn.anchorPointY},Lt.iconFeatureIndex=vn.featureIndex;break}for(var ln=ft;ln<Tt;ln++){var Fn=D.get(ln);Lt.verticalIconBox={x1:Fn.x1,y1:Fn.y1,x2:Fn.x2,y2:Fn.y2,anchorPointX:Fn.anchorPointX,anchorPointY:Fn.anchorPointY},Lt.verticalIconFeatureIndex=Fn.featureIndex;break}return Lt},ki.prototype.deserializeCollisionBoxes=function(D){this.collisionArrays=[];for(var V=0;V<this.symbolInstances.length;V++){var te=this.symbolInstances.get(V);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(D,te.textBoxStartIndex,te.textBoxEndIndex,te.verticalTextBoxStartIndex,te.verticalTextBoxEndIndex,te.iconBoxStartIndex,te.iconBoxEndIndex,te.verticalIconBoxStartIndex,te.verticalIconBoxEndIndex))}},ki.prototype.hasTextData=function(){return this.text.segments.get().length>0},ki.prototype.hasIconData=function(){return this.icon.segments.get().length>0},ki.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},ki.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},ki.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},ki.prototype.addIndicesForPlacedSymbol=function(D,V){for(var te=D.placedSymbolArray.get(V),he=te.vertexStartIndex+te.numGlyphs*4,be=te.vertexStartIndex;be<he;be+=4)D.indexArray.emplaceBack(be,be+1,be+2),D.indexArray.emplaceBack(be+1,be+2,be+3)},ki.prototype.getSortedSymbolIndexes=function(D){if(this.sortedAngle===D&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var V=Math.sin(D),te=Math.cos(D),he=[],be=[],Ee=[],je=0;je<this.symbolInstances.length;++je){Ee.push(je);var ft=this.symbolInstances.get(je);he.push(Math.round(V*ft.anchorX+te*ft.anchorY)|0),be.push(ft.featureIndex)}return Ee.sort(function(Tt,Lt){return he[Tt]-he[Lt]||be[Lt]-be[Tt]}),Ee},ki.prototype.addToSortKeyRanges=function(D,V){var te=this.sortKeyRanges[this.sortKeyRanges.length-1];te&&te.sortKey===V?te.symbolInstanceEnd=D+1:this.sortKeyRanges.push({sortKey:V,symbolInstanceStart:D,symbolInstanceEnd:D+1})},ki.prototype.sortFeatures=function(D){var V=this;if(this.sortFeaturesByY&&this.sortedAngle!==D&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(D),this.sortedAngle=D,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var te=0,he=this.symbolInstanceIndexes;te<he.length;te+=1){var be=he[te],Ee=this.symbolInstances.get(be);this.featureSortOrder.push(Ee.featureIndex),[Ee.rightJustifiedTextSymbolIndex,Ee.centerJustifiedTextSymbolIndex,Ee.leftJustifiedTextSymbolIndex].forEach(function(je,ft,Tt){je>=0&&Tt.indexOf(je)===ft&&V.addIndicesForPlacedSymbol(V.text,je)}),Ee.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Ee.verticalPlacedTextSymbolIndex),Ee.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ee.placedIconSymbolIndex),Ee.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ee.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},le("SymbolBucket",ki,{omit:["layers","collisionBoxArray","features","compareText"]}),ki.MAX_GLYPHS=65535,ki.addDynamicAttributes=n0;function bb(R,D){return D.replace(/{([^{}]+)}/g,function(V,te){return te in R?String(R[te]):""})}var wb=new Qa({"symbol-placement":new Xn(Jt.layout_symbol["symbol-placement"]),"symbol-spacing":new Xn(Jt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Xn(Jt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new na(Jt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Xn(Jt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Xn(Jt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Xn(Jt.layout_symbol["icon-ignore-placement"]),"icon-optional":new Xn(Jt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Xn(Jt.layout_symbol["icon-rotation-alignment"]),"icon-size":new na(Jt.layout_symbol["icon-size"]),"icon-text-fit":new Xn(Jt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Xn(Jt.layout_symbol["icon-text-fit-padding"]),"icon-image":new na(Jt.layout_symbol["icon-image"]),"icon-rotate":new na(Jt.layout_symbol["icon-rotate"]),"icon-padding":new Xn(Jt.layout_symbol["icon-padding"]),"icon-keep-upright":new Xn(Jt.layout_symbol["icon-keep-upright"]),"icon-offset":new na(Jt.layout_symbol["icon-offset"]),"icon-anchor":new na(Jt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Xn(Jt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Xn(Jt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Xn(Jt.layout_symbol["text-rotation-alignment"]),"text-field":new na(Jt.layout_symbol["text-field"]),"text-font":new na(Jt.layout_symbol["text-font"]),"text-size":new na(Jt.layout_symbol["text-size"]),"text-max-width":new na(Jt.layout_symbol["text-max-width"]),"text-line-height":new Xn(Jt.layout_symbol["text-line-height"]),"text-letter-spacing":new na(Jt.layout_symbol["text-letter-spacing"]),"text-justify":new na(Jt.layout_symbol["text-justify"]),"text-radial-offset":new na(Jt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Xn(Jt.layout_symbol["text-variable-anchor"]),"text-anchor":new na(Jt.layout_symbol["text-anchor"]),"text-max-angle":new Xn(Jt.layout_symbol["text-max-angle"]),"text-writing-mode":new Xn(Jt.layout_symbol["text-writing-mode"]),"text-rotate":new na(Jt.layout_symbol["text-rotate"]),"text-padding":new Xn(Jt.layout_symbol["text-padding"]),"text-keep-upright":new Xn(Jt.layout_symbol["text-keep-upright"]),"text-transform":new na(Jt.layout_symbol["text-transform"]),"text-offset":new na(Jt.layout_symbol["text-offset"]),"text-allow-overlap":new Xn(Jt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Xn(Jt.layout_symbol["text-ignore-placement"]),"text-optional":new Xn(Jt.layout_symbol["text-optional"])}),Tb=new Qa({"icon-opacity":new na(Jt.paint_symbol["icon-opacity"]),"icon-color":new na(Jt.paint_symbol["icon-color"]),"icon-halo-color":new na(Jt.paint_symbol["icon-halo-color"]),"icon-halo-width":new na(Jt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new na(Jt.paint_symbol["icon-halo-blur"]),"icon-translate":new Xn(Jt.paint_symbol["icon-translate"]),"icon-translate-anchor":new Xn(Jt.paint_symbol["icon-translate-anchor"]),"text-opacity":new na(Jt.paint_symbol["text-opacity"]),"text-color":new na(Jt.paint_symbol["text-color"],{runtimeType:Yn,getOverride:function(R){return R.textColor},hasOverride:function(R){return!!R.textColor}}),"text-halo-color":new na(Jt.paint_symbol["text-halo-color"]),"text-halo-width":new na(Jt.paint_symbol["text-halo-width"]),"text-halo-blur":new na(Jt.paint_symbol["text-halo-blur"]),"text-translate":new Xn(Jt.paint_symbol["text-translate"]),"text-translate-anchor":new Xn(Jt.paint_symbol["text-translate-anchor"])}),a0={paint:Tb,layout:wb},mh=function(D){this.type=D.property.overrides?D.property.overrides.runtimeType:zr,this.defaultValue=D};mh.prototype.evaluate=function(D){if(D.formattedSection){var V=this.defaultValue.property.overrides;if(V&&V.hasOverride(D.formattedSection))return V.getOverride(D.formattedSection)}return D.feature&&D.featureState?this.defaultValue.evaluate(D.feature,D.featureState):this.defaultValue.property.specification.default},mh.prototype.eachChild=function(D){if(!this.defaultValue.isConstant()){var V=this.defaultValue.value;D(V._styleExpression.expression)}},mh.prototype.outputDefined=function(){return!1},mh.prototype.serialize=function(){return null},le("FormatSectionOverride",mh,{omit:["defaultValue"]});var Ab=function(R){function D(V){R.call(this,V,a0)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(te,he){if(R.prototype.recalculate.call(this,te,he),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var be=this.layout.get("text-writing-mode");if(be){for(var Ee=[],je=0,ft=be;je<ft.length;je+=1){var Tt=ft[je];Ee.indexOf(Tt)<0&&Ee.push(Tt)}this.layout._values["text-writing-mode"]=Ee}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},D.prototype.getValueAndResolveTokens=function(te,he,be,Ee){var je=this.layout.get(te).evaluate(he,{},be,Ee),ft=this._unevaluatedLayout._values[te];return!ft.isDataDriven()&&!As(ft.value)&&je?bb(he.properties,je):je},D.prototype.createBucket=function(te){return new ki(te)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype._setPaintOverrides=function(){for(var te=0,he=a0.paint.overridableProperties;te<he.length;te+=1){var be=he[te];if(D.hasPaintOverride(this.layout,be)){var Ee=this.paint.get(be),je=new mh(Ee),ft=new es(je,Ee.property.specification),Tt=null;Ee.value.kind==="constant"||Ee.value.kind==="source"?Tt=new fl("source",ft):Tt=new Oo("composite",ft,Ee.value.zoomStops,Ee.value._interpolationType),this.paint._values[be]=new Ya(Ee.property,Tt,Ee.parameters)}}},D.prototype._handleOverridablePaintPropertyUpdate=function(te,he,be){return!this.layout||he.isDataDriven()||be.isDataDriven()?!1:D.hasPaintOverride(this.layout,te)},D.hasPaintOverride=function(te,he){var be=te.get("text-field"),Ee=a0.paint.properties[he],je=!1,ft=function(Xt){for(var cr=0,nr=Xt;cr<nr.length;cr+=1){var Tr=nr[cr];if(Ee.overrides&&Ee.overrides.hasOverride(Tr)){je=!0;return}}};if(be.value.kind==="constant"&&be.value.value instanceof qi)ft(be.value.value.sections);else if(be.value.kind==="source"){var Tt=function(Xt){if(!je)if(Xt instanceof Io&&zi(Xt.value)===Ta){var cr=Xt.value;ft(cr.sections)}else Xt instanceof po?ft(Xt.sections):Xt.eachChild(Tt)},Lt=be.value;Lt._styleExpression&&Tt(Lt._styleExpression.expression)}return je},D}(ja),Sb=new Qa({"background-color":new Xn(Jt.paint_background["background-color"]),"background-pattern":new hi(Jt.paint_background["background-pattern"]),"background-opacity":new Xn(Jt.paint_background["background-opacity"])}),Mb={paint:Sb},Eb=function(R){function D(V){R.call(this,V,Mb)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(ja),Cb=new Qa({"raster-opacity":new Xn(Jt.paint_raster["raster-opacity"]),"raster-hue-rotate":new Xn(Jt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Xn(Jt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Xn(Jt.paint_raster["raster-brightness-max"]),"raster-saturation":new Xn(Jt.paint_raster["raster-saturation"]),"raster-contrast":new Xn(Jt.paint_raster["raster-contrast"]),"raster-resampling":new Xn(Jt.paint_raster["raster-resampling"]),"raster-fade-duration":new Xn(Jt.paint_raster["raster-fade-duration"])}),Lb={paint:Cb},Pb=function(R){function D(V){R.call(this,V,Lb)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(ja);function Rb(R){var D=[],V=R.id;return V===void 0&&D.push({message:"layers."+V+': missing required property "id"'}),R.render===void 0&&D.push({message:"layers."+V+': missing required method "render"'}),R.renderingMode&&R.renderingMode!=="2d"&&R.renderingMode!=="3d"&&D.push({message:"layers."+V+': property "renderingMode" must be either "2d" or "3d"'}),D}var Db=function(R){function D(V){R.call(this,V,{}),this.implementation=V}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},D.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},D.prototype.recalculate=function(){},D.prototype.updateTransitions=function(){},D.prototype.hasTransition=function(){},D.prototype.serialize=function(){},D.prototype.onAdd=function(te){this.implementation.onAdd&&this.implementation.onAdd(te,te.painter.context.gl)},D.prototype.onRemove=function(te){this.implementation.onRemove&&this.implementation.onRemove(te,te.painter.context.gl)},D}(ja),Ib={circle:sx,heatmap:cx,hillshade:dx,fill:Nx,"fill-extrusion":i2,line:m2,symbol:Ab,background:Eb,raster:Pb};function kb(R){return R.type==="custom"?new Db(R):new Ib[R.type](R)}var vg=self.HTMLImageElement,dg=self.HTMLCanvasElement,pg=self.HTMLVideoElement,gg=self.ImageData,Wv=self.ImageBitmap,Bc=function(D,V,te,he){this.context=D,this.format=te,this.texture=D.gl.createTexture(),this.update(V,he)};Bc.prototype.update=function(D,V,te){var he=D.width,be=D.height,Ee=(!this.size||this.size[0]!==he||this.size[1]!==be)&&!te,je=this,ft=je.context,Tt=ft.gl;if(this.useMipmap=!!(V&&V.useMipmap),Tt.bindTexture(Tt.TEXTURE_2D,this.texture),ft.pixelStoreUnpackFlipY.set(!1),ft.pixelStoreUnpack.set(1),ft.pixelStoreUnpackPremultiplyAlpha.set(this.format===Tt.RGBA&&(!V||V.premultiply!==!1)),Ee)this.size=[he,be],D instanceof vg||D instanceof dg||D instanceof pg||D instanceof gg||Wv&&D instanceof Wv?Tt.texImage2D(Tt.TEXTURE_2D,0,this.format,this.format,Tt.UNSIGNED_BYTE,D):Tt.texImage2D(Tt.TEXTURE_2D,0,this.format,he,be,0,this.format,Tt.UNSIGNED_BYTE,D.data);else{var Lt=te||{x:0,y:0},Xt=Lt.x,cr=Lt.y;D instanceof vg||D instanceof dg||D instanceof pg||D instanceof gg||Wv&&D instanceof Wv?Tt.texSubImage2D(Tt.TEXTURE_2D,0,Xt,cr,Tt.RGBA,Tt.UNSIGNED_BYTE,D):Tt.texSubImage2D(Tt.TEXTURE_2D,0,Xt,cr,he,be,Tt.RGBA,Tt.UNSIGNED_BYTE,D.data)}this.useMipmap&&this.isSizePowerOfTwo()&&Tt.generateMipmap(Tt.TEXTURE_2D)},Bc.prototype.bind=function(D,V,te){var he=this,be=he.context,Ee=be.gl;Ee.bindTexture(Ee.TEXTURE_2D,this.texture),te===Ee.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(te=Ee.LINEAR),D!==this.filter&&(Ee.texParameteri(Ee.TEXTURE_2D,Ee.TEXTURE_MAG_FILTER,D),Ee.texParameteri(Ee.TEXTURE_2D,Ee.TEXTURE_MIN_FILTER,te||D),this.filter=D),V!==this.wrap&&(Ee.texParameteri(Ee.TEXTURE_2D,Ee.TEXTURE_WRAP_S,V),Ee.texParameteri(Ee.TEXTURE_2D,Ee.TEXTURE_WRAP_T,V),this.wrap=V)},Bc.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},Bc.prototype.destroy=function(){var D=this.context,V=D.gl;V.deleteTexture(this.texture),this.texture=null};var i0=function(D){var V=this;this._callback=D,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){V._triggered=!1,V._callback()})};i0.prototype.trigger=function(){var D=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){D._triggered=!1,D._callback()},0))},i0.prototype.remove=function(){delete this._channel,this._callback=function(){}};var xh=function(D,V,te){this.target=D,this.parent=V,this.mapId=te,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},M(["receive","process"],this),this.invoker=new i0(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=F()?D:self};xh.prototype.send=function(D,V,te,he,be){var Ee=this;be===void 0&&(be=!1);var je=Math.round(Math.random()*1e18).toString(36).substring(0,10);te&&(this.callbacks[je]=te);var ft=Q(this.globalScope)?void 0:[];return this.target.postMessage({id:je,type:D,hasCallback:!!te,targetMapId:he,mustQueue:be,sourceMapId:this.mapId,data:$e(V,ft)},ft),{cancel:function(){te&&delete Ee.callbacks[je],Ee.target.postMessage({id:je,type:"<cancel>",targetMapId:he,sourceMapId:Ee.mapId})}}},xh.prototype.receive=function(D){var V=D.data,te=V.id;if(te&&!(V.targetMapId&&this.mapId!==V.targetMapId))if(V.type==="<cancel>"){delete this.tasks[te];var he=this.cancelCallbacks[te];delete this.cancelCallbacks[te],he&&he()}else F()||V.mustQueue?(this.tasks[te]=V,this.taskQueue.push(te),this.invoker.trigger()):this.processTask(te,V)},xh.prototype.process=function(){if(this.taskQueue.length){var D=this.taskQueue.shift(),V=this.tasks[D];delete this.tasks[D],this.taskQueue.length&&this.invoker.trigger(),V&&this.processTask(D,V)}},xh.prototype.processTask=function(D,V){var te=this;if(V.type==="<response>"){var he=this.callbacks[D];delete this.callbacks[D],he&&(V.error?he(nt(V.error)):he(null,nt(V.data)))}else{var be=!1,Ee=Q(this.globalScope)?void 0:[],je=V.hasCallback?function(cr,nr){be=!0,delete te.cancelCallbacks[D],te.target.postMessage({id:D,type:"<response>",sourceMapId:te.mapId,error:cr?$e(cr):null,data:$e(nr,Ee)},Ee)}:function(cr){be=!0},ft=null,Tt=nt(V.data);if(this.parent[V.type])ft=this.parent[V.type](V.sourceMapId,Tt,je);else if(this.parent.getWorkerSource){var Lt=V.type.split("."),Xt=this.parent.getWorkerSource(V.sourceMapId,Lt[0],Tt.source);ft=Xt[Lt[1]](Tt,je)}else je(new Error("Could not find function "+V.type));!be&&ft&&ft.cancel&&(this.cancelCallbacks[D]=ft.cancel)}},xh.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function _b(R,D,V){D=Math.pow(2,V)-D-1;var te=yg(R*256,D*256,V),he=yg((R+1)*256,(D+1)*256,V);return te[0]+","+te[1]+","+he[0]+","+he[1]}function yg(R,D,V){var te=2*Math.PI*6378137/256/Math.pow(2,V),he=R*te-2*Math.PI*6378137/2,be=D*te-2*Math.PI*6378137/2;return[he,be]}var Co=function(D,V){D&&(V?this.setSouthWest(D).setNorthEast(V):D.length===4?this.setSouthWest([D[0],D[1]]).setNorthEast([D[2],D[3]]):this.setSouthWest(D[0]).setNorthEast(D[1]))};Co.prototype.setNorthEast=function(D){return this._ne=D instanceof Ki?new Ki(D.lng,D.lat):Ki.convert(D),this},Co.prototype.setSouthWest=function(D){return this._sw=D instanceof Ki?new Ki(D.lng,D.lat):Ki.convert(D),this},Co.prototype.extend=function(D){var V=this._sw,te=this._ne,he,be;if(D instanceof Ki)he=D,be=D;else if(D instanceof Co){if(he=D._sw,be=D._ne,!he||!be)return this}else{if(Array.isArray(D))if(D.length===4||D.every(Array.isArray)){var Ee=D;return this.extend(Co.convert(Ee))}else{var je=D;return this.extend(Ki.convert(je))}return this}return!V&&!te?(this._sw=new Ki(he.lng,he.lat),this._ne=new Ki(be.lng,be.lat)):(V.lng=Math.min(he.lng,V.lng),V.lat=Math.min(he.lat,V.lat),te.lng=Math.max(be.lng,te.lng),te.lat=Math.max(be.lat,te.lat)),this},Co.prototype.getCenter=function(){return new Ki((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Co.prototype.getSouthWest=function(){return this._sw},Co.prototype.getNorthEast=function(){return this._ne},Co.prototype.getNorthWest=function(){return new Ki(this.getWest(),this.getNorth())},Co.prototype.getSouthEast=function(){return new Ki(this.getEast(),this.getSouth())},Co.prototype.getWest=function(){return this._sw.lng},Co.prototype.getSouth=function(){return this._sw.lat},Co.prototype.getEast=function(){return this._ne.lng},Co.prototype.getNorth=function(){return this._ne.lat},Co.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Co.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Co.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Co.prototype.contains=function(D){var V=Ki.convert(D),te=V.lng,he=V.lat,be=this._sw.lat<=he&&he<=this._ne.lat,Ee=this._sw.lng<=te&&te<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Ee=this._sw.lng>=te&&te>=this._ne.lng),be&&Ee},Co.convert=function(D){return!D||D instanceof Co?D:new Co(D)};var mg=63710088e-1,Ki=function(D,V){if(isNaN(D)||isNaN(V))throw new Error("Invalid LngLat object: ("+D+", "+V+")");if(this.lng=+D,this.lat=+V,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Ki.prototype.wrap=function(){return new Ki(x(this.lng,-180,180),this.lat)},Ki.prototype.toArray=function(){return[this.lng,this.lat]},Ki.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Ki.prototype.distanceTo=function(D){var V=Math.PI/180,te=this.lat*V,he=D.lat*V,be=Math.sin(te)*Math.sin(he)+Math.cos(te)*Math.cos(he)*Math.cos((D.lng-this.lng)*V),Ee=mg*Math.acos(Math.min(be,1));return Ee},Ki.prototype.toBounds=function(D){D===void 0&&(D=0);var V=40075017,te=360*D/V,he=te/Math.cos(Math.PI/180*this.lat);return new Co(new Ki(this.lng-he,this.lat-te),new Ki(this.lng+he,this.lat+te))},Ki.convert=function(D){if(D instanceof Ki)return D;if(Array.isArray(D)&&(D.length===2||D.length===3))return new Ki(Number(D[0]),Number(D[1]));if(!Array.isArray(D)&&typeof D=="object"&&D!==null)return new Ki(Number("lng"in D?D.lng:D.lon),Number(D.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var xg=2*Math.PI*mg;function bg(R){return xg*Math.cos(R*Math.PI/180)}function wg(R){return(180+R)/360}function Tg(R){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+R*Math.PI/360)))/360}function Ag(R,D){return R/bg(D)}function Fb(R){return R*360-180}function o0(R){var D=180-R*360;return 360/Math.PI*Math.atan(Math.exp(D*Math.PI/180))-90}function zb(R,D){return R*bg(o0(D))}function Ob(R){return 1/Math.cos(R*Math.PI/180)}var Nc=function(D,V,te){te===void 0&&(te=0),this.x=+D,this.y=+V,this.z=+te};Nc.fromLngLat=function(D,V){V===void 0&&(V=0);var te=Ki.convert(D);return new Nc(wg(te.lng),Tg(te.lat),Ag(V,te.lat))},Nc.prototype.toLngLat=function(){return new Ki(Fb(this.x),o0(this.y))},Nc.prototype.toAltitude=function(){return zb(this.z,this.y)},Nc.prototype.meterInMercatorCoordinateUnits=function(){return 1/xg*Ob(o0(this.y))};var Uc=function(D,V,te){this.z=D,this.x=V,this.y=te,this.key=ov(0,D,D,V,te)};Uc.prototype.equals=function(D){return this.z===D.z&&this.x===D.x&&this.y===D.y},Uc.prototype.url=function(D,V){var te=_b(this.x,this.y,this.z),he=Bb(this.z,this.x,this.y);return D[(this.x+this.y)%D.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(V==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",he).replace("{bbox-epsg-3857}",te)},Uc.prototype.getTilePoint=function(D){var V=Math.pow(2,this.z);return new t((D.x*V-this.x)*Ua,(D.y*V-this.y)*Ua)},Uc.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Sg=function(D,V){this.wrap=D,this.canonical=V,this.key=ov(D,V.z,V.z,V.x,V.y)},Lo=function(D,V,te,he,be){this.overscaledZ=D,this.wrap=V,this.canonical=new Uc(te,+he,+be),this.key=ov(V,D,te,he,be)};Lo.prototype.equals=function(D){return this.overscaledZ===D.overscaledZ&&this.wrap===D.wrap&&this.canonical.equals(D.canonical)},Lo.prototype.scaledTo=function(D){var V=this.canonical.z-D;return D>this.canonical.z?new Lo(D,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Lo(D,this.wrap,D,this.canonical.x>>V,this.canonical.y>>V)},Lo.prototype.calculateScaledKey=function(D,V){var te=this.canonical.z-D;return D>this.canonical.z?ov(this.wrap*+V,D,this.canonical.z,this.canonical.x,this.canonical.y):ov(this.wrap*+V,D,D,this.canonical.x>>te,this.canonical.y>>te)},Lo.prototype.isChildOf=function(D){if(D.wrap!==this.wrap)return!1;var V=this.canonical.z-D.canonical.z;return D.overscaledZ===0||D.overscaledZ<this.overscaledZ&&D.canonical.x===this.canonical.x>>V&&D.canonical.y===this.canonical.y>>V},Lo.prototype.children=function(D){if(this.overscaledZ>=D)return[new Lo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var V=this.canonical.z+1,te=this.canonical.x*2,he=this.canonical.y*2;return[new Lo(V,this.wrap,V,te,he),new Lo(V,this.wrap,V,te+1,he),new Lo(V,this.wrap,V,te,he+1),new Lo(V,this.wrap,V,te+1,he+1)]},Lo.prototype.isLessThan=function(D){return this.wrap<D.wrap?!0:this.wrap>D.wrap?!1:this.overscaledZ<D.overscaledZ?!0:this.overscaledZ>D.overscaledZ?!1:this.canonical.x<D.canonical.x?!0:this.canonical.x>D.canonical.x?!1:this.canonical.y<D.canonical.y},Lo.prototype.wrapped=function(){return new Lo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Lo.prototype.unwrapTo=function(D){return new Lo(this.overscaledZ,D,this.canonical.z,this.canonical.x,this.canonical.y)},Lo.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Lo.prototype.toUnwrapped=function(){return new Sg(this.wrap,this.canonical)},Lo.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Lo.prototype.getTilePoint=function(D){return this.canonical.getTilePoint(new Nc(D.x-this.wrap,D.y))};function ov(R,D,V,te,he){R*=2,R<0&&(R=R*-1-1);var be=1<<V;return(be*be*R+be*he+te).toString(36)+V.toString(36)+D.toString(36)}function Bb(R,D,V){for(var te="",he,be=R;be>0;be--)he=1<<be-1,te+=(D&he?1:0)+(V&he?2:0);return te}le("CanonicalTileID",Uc),le("OverscaledTileID",Lo,{omit:["posMatrix"]});var Qf=function(D,V,te){if(this.uid=D,V.height!==V.width)throw new RangeError("DEM tiles must be square");if(te&&te!=="mapbox"&&te!=="terrarium")return N('"'+te+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=V.height;var he=this.dim=V.height-2;this.data=new Uint32Array(V.data.buffer),this.encoding=te||"mapbox";for(var be=0;be<he;be++)this.data[this._idx(-1,be)]=this.data[this._idx(0,be)],this.data[this._idx(he,be)]=this.data[this._idx(he-1,be)],this.data[this._idx(be,-1)]=this.data[this._idx(be,0)],this.data[this._idx(be,he)]=this.data[this._idx(be,he-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(he,-1)]=this.data[this._idx(he-1,0)],this.data[this._idx(-1,he)]=this.data[this._idx(0,he-1)],this.data[this._idx(he,he)]=this.data[this._idx(he-1,he-1)]};Qf.prototype.get=function(D,V){var te=new Uint8Array(this.data.buffer),he=this._idx(D,V)*4,be=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return be(te[he],te[he+1],te[he+2])},Qf.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Qf.prototype._idx=function(D,V){if(D<-1||D>=this.dim+1||V<-1||V>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(V+1)*this.stride+(D+1)},Qf.prototype._unpackMapbox=function(D,V,te){return(D*256*256+V*256+te)/10-1e4},Qf.prototype._unpackTerrarium=function(D,V,te){return D*256+V+te/256-32768},Qf.prototype.getPixels=function(){return new Ks({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Qf.prototype.backfillBorder=function(D,V,te){if(this.dim!==D.dim)throw new Error("dem dimension mismatch");var he=V*this.dim,be=V*this.dim+this.dim,Ee=te*this.dim,je=te*this.dim+this.dim;switch(V){case-1:he=be-1;break;case 1:be=he+1;break}switch(te){case-1:Ee=je-1;break;case 1:je=Ee+1;break}for(var ft=-V*this.dim,Tt=-te*this.dim,Lt=Ee;Lt<je;Lt++)for(var Xt=he;Xt<be;Xt++)this.data[this._idx(Xt,Lt)]=D.data[this._idx(Xt+ft,Lt+Tt)]},le("DEMData",Qf);function Nb(R,D){var V={};if(!D)return V;for(var te=function(){var Ee=be[he],je=Ee.layerIds.map(function(Xt){return D.getLayer(Xt)}).filter(Boolean);if(je.length!==0){Ee.layers=je,Ee.stateDependentLayerIds&&(Ee.stateDependentLayers=Ee.stateDependentLayerIds.map(function(Xt){return je.filter(function(cr){return cr.id===Xt})[0]}));for(var ft=0,Tt=je;ft<Tt.length;ft+=1){var Lt=Tt[ft];V[Lt.id]=Ee}}},he=0,be=R;he<be.length;he+=1)te();return V}var Yv=function(D){this._stringToNumber={},this._numberToString=[];for(var V=0;V<D.length;V++){var te=D[V];this._stringToNumber[te]=V,this._numberToString[V]=te}};Yv.prototype.encode=function(D){return this._stringToNumber[D]},Yv.prototype.decode=function(D){return this._numberToString[D]};var Zv=function(D,V,te,he,be){this.type="Feature",this._vectorTileFeature=D,D._z=V,D._x=te,D._y=he,this.properties=D.properties,this.id=be},s0={geometry:{configurable:!0}};s0.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},s0.geometry.set=function(R){this._geometry=R},Zv.prototype.toJSON=function(){var D={geometry:this.geometry};for(var V in this)V==="_geometry"||V==="_vectorTileFeature"||(D[V]=this[V]);return D},Object.defineProperties(Zv.prototype,s0);var bh=function(){this.state={},this.stateChanges={},this.deletedStates={}};bh.prototype.updateState=function(D,V,te){var he=String(V);if(this.stateChanges[D]=this.stateChanges[D]||{},this.stateChanges[D][he]=this.stateChanges[D][he]||{},o(this.stateChanges[D][he],te),this.deletedStates[D]===null){this.deletedStates[D]={};for(var be in this.state[D])be!==he&&(this.deletedStates[D][be]=null)}else{var Ee=this.deletedStates[D]&&this.deletedStates[D][he]===null;if(Ee){this.deletedStates[D][he]={};for(var je in this.state[D][he])te[je]||(this.deletedStates[D][he][je]=null)}else for(var ft in te){var Tt=this.deletedStates[D]&&this.deletedStates[D][he]&&this.deletedStates[D][he][ft]===null;Tt&&delete this.deletedStates[D][he][ft]}}},bh.prototype.removeFeatureState=function(D,V,te){var he=this.deletedStates[D]===null;if(!he){var be=String(V);if(this.deletedStates[D]=this.deletedStates[D]||{},te&&V!==void 0)this.deletedStates[D][be]!==null&&(this.deletedStates[D][be]=this.deletedStates[D][be]||{},this.deletedStates[D][be][te]=null);else if(V!==void 0){var Ee=this.stateChanges[D]&&this.stateChanges[D][be];if(Ee){this.deletedStates[D][be]={};for(te in this.stateChanges[D][be])this.deletedStates[D][be][te]=null}else this.deletedStates[D][be]=null}else this.deletedStates[D]=null}},bh.prototype.getState=function(D,V){var te=String(V),he=this.state[D]||{},be=this.stateChanges[D]||{},Ee=o({},he[te],be[te]);if(this.deletedStates[D]===null)return{};if(this.deletedStates[D]){var je=this.deletedStates[D][V];if(je===null)return{};for(var ft in je)delete Ee[ft]}return Ee},bh.prototype.initializeTileState=function(D,V){D.setFeatureState(this.state,V)},bh.prototype.coalesceChanges=function(D,V){var te={};for(var he in this.stateChanges){this.state[he]=this.state[he]||{};var be={};for(var Ee in this.stateChanges[he])this.state[he][Ee]||(this.state[he][Ee]={}),o(this.state[he][Ee],this.stateChanges[he][Ee]),be[Ee]=this.state[he][Ee];te[he]=be}for(var je in this.deletedStates){this.state[je]=this.state[je]||{};var ft={};if(this.deletedStates[je]===null)for(var Tt in this.state[je])ft[Tt]={},this.state[je][Tt]={};else for(var Lt in this.deletedStates[je]){var Xt=this.deletedStates[je][Lt]===null;if(Xt)this.state[je][Lt]={};else for(var cr=0,nr=Object.keys(this.deletedStates[je][Lt]);cr<nr.length;cr+=1){var Tr=nr[cr];delete this.state[je][Lt][Tr]}ft[Lt]=this.state[je][Lt]}te[je]=te[je]||{},o(te[je],ft)}if(this.stateChanges={},this.deletedStates={},Object.keys(te).length!==0)for(var jr in D){var vn=D[jr];vn.setFeatureState(te,V)}};var $f=function(D,V){this.tileID=D,this.x=D.canonical.x,this.y=D.canonical.y,this.z=D.canonical.z,this.grid=new Ca(Ua,16,0),this.grid3D=new Ca(Ua,16,0),this.featureIndexArray=new Yh,this.promoteId=V};$f.prototype.insert=function(D,V,te,he,be,Ee){var je=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(te,he,be);for(var ft=Ee?this.grid3D:this.grid,Tt=0;Tt<V.length;Tt++){for(var Lt=V[Tt],Xt=[1/0,1/0,-1/0,-1/0],cr=0;cr<Lt.length;cr++){var nr=Lt[cr];Xt[0]=Math.min(Xt[0],nr.x),Xt[1]=Math.min(Xt[1],nr.y),Xt[2]=Math.max(Xt[2],nr.x),Xt[3]=Math.max(Xt[3],nr.y)}Xt[0]<Ua&&Xt[1]<Ua&&Xt[2]>=0&&Xt[3]>=0&&ft.insert(je,Xt[0],Xt[1],Xt[2],Xt[3])}},$f.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new lh.VectorTile(new Fv(this.rawTileData)).layers,this.sourceLayerCoder=new Yv(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},$f.prototype.query=function(D,V,te,he){var be=this;this.loadVTLayers();for(var Ee=D.params||{},je=Ua/D.tileSize/D.scale,ft=Xl(Ee.filter),Tt=D.queryGeometry,Lt=D.queryPadding*je,Xt=Eg(Tt),cr=this.grid.query(Xt.minX-Lt,Xt.minY-Lt,Xt.maxX+Lt,Xt.maxY+Lt),nr=Eg(D.cameraQueryGeometry),Tr=this.grid3D.query(nr.minX-Lt,nr.minY-Lt,nr.maxX+Lt,nr.maxY+Lt,function(ea,ha,la,Ba){return Ff(D.cameraQueryGeometry,ea-Lt,ha-Lt,la+Lt,Ba+Lt)}),jr=0,vn=Tr;jr<vn.length;jr+=1){var ln=vn[jr];cr.push(ln)}cr.sort(Ub);for(var Fn={},En,_n=function(ea){var ha=cr[ea];if(ha!==En){En=ha;var la=be.featureIndexArray.get(ha),Ba=null;be.loadMatchingFeature(Fn,la.bucketIndex,la.sourceLayerIndex,la.featureIndex,ft,Ee.layers,Ee.availableImages,V,te,he,function(La,Ia,Ka){return Ba||(Ba=Di(La)),Ia.queryIntersectsFeature(Tt,La,Ka,Ba,be.z,D.transform,je,D.pixelPosMatrix)})}},Wn=0;Wn<cr.length;Wn++)_n(Wn);return Fn},$f.prototype.loadMatchingFeature=function(D,V,te,he,be,Ee,je,ft,Tt,Lt,Xt){var cr=this.bucketLayerIDs[V];if(!(Ee&&!_(Ee,cr))){var nr=this.sourceLayerCoder.decode(te),Tr=this.vtLayers[nr],jr=Tr.feature(he);if(be.filter(new kn(this.tileID.overscaledZ),jr))for(var vn=this.getId(jr,nr),ln=0;ln<cr.length;ln++){var Fn=cr[ln];if(!(Ee&&Ee.indexOf(Fn)<0)){var En=ft[Fn];if(En){var _n={};vn!==void 0&&Lt&&(_n=Lt.getState(En.sourceLayer||"_geojsonTileLayer",vn));var Wn=Tt[Fn];Wn.paint=Mg(Wn.paint,En.paint,jr,_n,je),Wn.layout=Mg(Wn.layout,En.layout,jr,_n,je);var ea=!Xt||Xt(jr,En,_n);if(ea){var ha=new Zv(jr,this.z,this.x,this.y,vn);ha.layer=Wn;var la=D[Fn];la===void 0&&(la=D[Fn]=[]),la.push({featureIndex:he,feature:ha,intersectionZ:ea})}}}}}},$f.prototype.lookupSymbolFeatures=function(D,V,te,he,be,Ee,je,ft){var Tt={};this.loadVTLayers();for(var Lt=Xl(be),Xt=0,cr=D;Xt<cr.length;Xt+=1){var nr=cr[Xt];this.loadMatchingFeature(Tt,te,he,nr,Lt,Ee,je,ft,V)}return Tt},$f.prototype.hasLayer=function(D){for(var V=0,te=this.bucketLayerIDs;V<te.length;V+=1)for(var he=te[V],be=0,Ee=he;be<Ee.length;be+=1){var je=Ee[be];if(D===je)return!0}return!1},$f.prototype.getId=function(D,V){var te=D.id;if(this.promoteId){var he=typeof this.promoteId=="string"?this.promoteId:this.promoteId[V];te=D.properties[he],typeof te=="boolean"&&(te=Number(te))}return te},le("FeatureIndex",$f,{omit:["rawTileData","sourceLayerCoder"]});function Mg(R,D,V,te,he){return i(R,function(be,Ee){var je=D instanceof $n?D.get(Ee):null;return je&&je.evaluate?je.evaluate(V,te,he):je})}function Eg(R){for(var D=1/0,V=1/0,te=-1/0,he=-1/0,be=0,Ee=R;be<Ee.length;be+=1){var je=Ee[be];D=Math.min(D,je.x),V=Math.min(V,je.y),te=Math.max(te,je.x),he=Math.max(he,je.y)}return{minX:D,minY:V,maxX:te,maxY:he}}function Ub(R,D){return D-R}var Vb=3e4,Vo=function(D,V){this.tileID=D,this.uid=A(),this.uses=0,this.tileSize=V,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Vo.prototype.registerFadeDuration=function(D){var V=D+this.timeAdded;V<ie.now()||this.fadeEndTime&&V<this.fadeEndTime||(this.fadeEndTime=V)},Vo.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Vo.prototype.loadVectorData=function(D,V,te){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!D){this.collisionBoxArray=new _f;return}D.featureIndex&&(this.latestFeatureIndex=D.featureIndex,D.rawTileData?(this.latestRawTileData=D.rawTileData,this.latestFeatureIndex.rawTileData=D.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=D.collisionBoxArray,this.buckets=Nb(D.buckets,V.style),this.hasSymbolBuckets=!1;for(var he in this.buckets){var be=this.buckets[he];if(be instanceof ki)if(this.hasSymbolBuckets=!0,te)be.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Ee in this.buckets){var je=this.buckets[Ee];if(je instanceof ki&&je.hasRTLText){this.hasRTLText=!0,pa();break}}this.queryPadding=0;for(var ft in this.buckets){var Tt=this.buckets[ft];this.queryPadding=Math.max(this.queryPadding,V.style.getLayer(ft).queryRadius(Tt))}D.imageAtlas&&(this.imageAtlas=D.imageAtlas),D.glyphAtlasImage&&(this.glyphAtlasImage=D.glyphAtlasImage)},Vo.prototype.unloadVectorData=function(){for(var D in this.buckets)this.buckets[D].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Vo.prototype.getBucket=function(D){return this.buckets[D.id]},Vo.prototype.upload=function(D){for(var V in this.buckets){var te=this.buckets[V];te.uploadPending()&&te.upload(D)}var he=D.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Bc(D,this.imageAtlas.image,he.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Bc(D,this.glyphAtlasImage,he.ALPHA),this.glyphAtlasImage=null)},Vo.prototype.prepare=function(D){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(D,this.imageAtlasTexture)},Vo.prototype.queryRenderedFeatures=function(D,V,te,he,be,Ee,je,ft,Tt,Lt){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:he,cameraQueryGeometry:be,scale:Ee,tileSize:this.tileSize,pixelPosMatrix:Lt,transform:ft,params:je,queryPadding:this.queryPadding*Tt},D,V,te)},Vo.prototype.querySourceFeatures=function(D,V){var te=this.latestFeatureIndex;if(!(!te||!te.rawTileData)){var he=te.loadVTLayers(),be=V?V.sourceLayer:"",Ee=he._geojsonTileLayer||he[be];if(Ee)for(var je=Xl(V&&V.filter),ft=this.tileID.canonical,Tt=ft.z,Lt=ft.x,Xt=ft.y,cr={z:Tt,x:Lt,y:Xt},nr=0;nr<Ee.length;nr++){var Tr=Ee.feature(nr);if(je.filter(new kn(this.tileID.overscaledZ),Tr)){var jr=te.getId(Tr,be),vn=new Zv(Tr,Tt,Lt,Xt,jr);vn.tile=cr,D.push(vn)}}}},Vo.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Vo.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Vo.prototype.setExpiryData=function(D){var V=this.expirationTime;if(D.cacheControl){var te=B(D.cacheControl);te["max-age"]&&(this.expirationTime=Date.now()+te["max-age"]*1e3)}else D.expires&&(this.expirationTime=new Date(D.expires).getTime());if(this.expirationTime){var he=Date.now(),be=!1;if(this.expirationTime>he)be=!1;else if(!V)be=!0;else if(this.expirationTime<V)be=!0;else{var Ee=this.expirationTime-V;Ee?this.expirationTime=he+Math.max(Ee,Vb):be=!0}be?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Vo.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Vo.prototype.setFeatureState=function(D,V){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(D).length===0)){var te=this.latestFeatureIndex.loadVTLayers();for(var he in this.buckets)if(V.style.hasLayer(he)){var be=this.buckets[he],Ee=be.layers[0].sourceLayer||"_geojsonTileLayer",je=te[Ee],ft=D[Ee];if(!(!je||!ft||Object.keys(ft).length===0)){be.update(ft,je,this.imageAtlas&&this.imageAtlas.patternPositions||{});var Tt=V&&V.style&&V.style.getLayer(he);Tt&&(this.queryPadding=Math.max(this.queryPadding,Tt.queryRadius(be)))}}}},Vo.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Vo.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<ie.now()},Vo.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Vo.prototype.setHoldDuration=function(D){this.symbolFadeHoldUntil=ie.now()+D},Vo.prototype.setDependencies=function(D,V){for(var te={},he=0,be=V;he<be.length;he+=1){var Ee=be[he];te[Ee]=!0}this.dependencies[D]=te},Vo.prototype.hasDependency=function(D,V){for(var te=0,he=D;te<he.length;te+=1){var be=he[te],Ee=this.dependencies[be];if(Ee)for(var je=0,ft=V;je<ft.length;je+=1){var Tt=ft[je];if(Ee[Tt])return!0}}return!1};var Hb=["type","source","source-layer","minzoom","maxzoom","filter","layout"],mc=self.performance,Cg=function(D){this._marks={start:[D.url,"start"].join("#"),end:[D.url,"end"].join("#"),measure:D.url.toString()},mc.mark(this._marks.start)};Cg.prototype.finish=function(){mc.mark(this._marks.end);var D=mc.getEntriesByName(this._marks.measure);return D.length===0&&(mc.measure(this._marks.measure,this._marks.start,this._marks.end),D=mc.getEntriesByName(this._marks.measure),mc.clearMarks(this._marks.start),mc.clearMarks(this._marks.end),mc.clearMeasures(this._marks.measure)),D},a.Actor=xh,a.AlphaImage=Oc,a.CanonicalTileID=Uc,a.CollisionBoxArray=_f,a.Color=di,a.DEMData=Qf,a.DataConstantProperty=Xn,a.DictionaryCoder=Yv,a.EXTENT=Ua,a.ErrorEvent=or,a.EvaluationParameters=kn,a.Event=Kt,a.Evented=hr,a.FeatureIndex=$f,a.FillBucket=ff,a.FillExtrusionBucket=cf,a.ImageAtlas=rv,a.ImagePosition=Ov,a.LineBucket=Js,a.LngLat=Ki,a.LngLatBounds=Co,a.MercatorCoordinate=Nc,a.ONE_EM=Xo,a.OverscaledTileID=Lo,a.Point=t,a.Point$1=t,a.Properties=Qa,a.Protobuf=Fv,a.RGBAImage=Ks,a.RequestManager=Te,a.RequestPerformance=Cg,a.ResourceType=xt,a.SegmentVector=Y,a.SourceFeatureState=bh,a.StructArrayLayout1ui2=hc,a.StructArrayLayout2f1f2i16=sf,a.StructArrayLayout2i4=Ql,a.StructArrayLayout3ui6=lf,a.StructArrayLayout4i8=fs,a.SymbolBucket=ki,a.Texture=Bc,a.Tile=Vo,a.Transitionable=Oa,a.Uniform1f=Jr,a.Uniform1i=qr,a.Uniform2f=sn,a.Uniform3f=gn,a.Uniform4f=On,a.UniformColor=Zn,a.UniformMatrix4f=ia,a.UnwrappedTileID=Sg,a.ValidationError=Mr,a.WritingMode=Dl,a.ZoomHistory=kt,a.add=ih,a.addDynamicAttributes=n0,a.asyncAll=c,a.bezier=s,a.bindAll=M,a.browser=ie,a.cacheEntryPossiblyAdded=Gt,a.clamp=l,a.clearTileCache=Dt,a.clipLine=sg,a.clone=Lv,a.clone$1=y,a.clone$2=zd,a.collisionCircleLayout=T2,a.config=J,a.create=rh,a.create$1=Fc,a.create$2=_c,a.createCommonjsModule=L,a.createExpression=Gs,a.createLayout=Ei,a.createStyleLayer=kb,a.cross=$1,a.deepEqual=u,a.dot=Q1,a.dot$1=nx,a.ease=f,a.emitValidationErrors=Da,a.endsWith=w,a.enforceCacheSizeLimit=Yt,a.evaluateSizeForFeature=eg,a.evaluateSizeForZoom=tg,a.evaluateVariableOffset=fg,a.evented=an,a.extend=o,a.featureFilter=Xl,a.filterObject=C,a.fromRotation=th,a.getAnchorAlignment=qd,a.getAnchorJustification=r0,a.getArrayBuffer=St,a.getImage=We,a.getJSON=bt,a.getRTLTextPluginStatus=In,a.getReferrer=jt,a.getVideo=Ge,a.identity=nh,a.invert=dc,a.isChar=ct,a.isMapboxURL=ye,a.keysDifference=h,a.makeRequest=st,a.mapObject=i,a.mercatorXfromLng=wg,a.mercatorYfromLat=Tg,a.mercatorZfromAltitude=Ag,a.mul=Fd,a.multiply=pc,a.mvt=lh,a.normalize=Xh,a.number=Zi,a.offscreenCanvasSupported=Hr,a.ortho=_d,a.parseGlyphPBF=K2,a.pbf=Fv,a.performSymbolLayout=vb,a.perspective=Zh,a.pick=p,a.plugin=da,a.polygonIntersectsPolygon=$a,a.postMapLoadEvent=Xe,a.postTurnstileEvent=Rt,a.potpack=Zp,a.refProperties=Hb,a.register=le,a.registerForPluginStateChange=Dn,a.rotate=cs,a.rotateX=js,a.rotateZ=ah,a.scale=Xs,a.scale$1=rx,a.scale$2=Bd,a.setCacheLimits=$t,a.setRTLTextPlugin=Jn,a.sphericalToCartesian=z,a.sqrLen=ox,a.styleSpec=Jt,a.sub=ex,a.symbolSize=ab,a.transformMat3=q1,a.transformMat4=Pv,a.translate=fo,a.triggerPluginCompletionEvent=Ir,a.uniqueId=A,a.validateCustomStyleLayer=Rb,a.validateLight=Cn,a.validateStyle=Sn,a.values=b,a.vectorTile=lh,a.version=T,a.warnOnce=N,a.webpSupported=j,a.window=self,a.wrap=x}),P(["./shared"],function(a){function L(ut){var st=typeof ut;if(st==="number"||st==="boolean"||st==="string"||ut===void 0||ut===null)return JSON.stringify(ut);if(Array.isArray(ut)){for(var bt="[",St=0,Pt=ut;St<Pt.length;St+=1){var Et=Pt[St];bt+=L(Et)+","}return bt+"]"}for(var Bt=Object.keys(ut).sort(),Wt="{",tr=0;tr<Bt.length;tr++)Wt+=JSON.stringify(Bt[tr])+":"+L(ut[Bt[tr]])+",";return Wt+"}"}function T(ut){for(var st="",bt=0,St=a.refProperties;bt<St.length;bt+=1){var Pt=St[bt];st+="/"+L(ut[Pt])}return st}function v(ut,st){for(var bt={},St=0;St<ut.length;St++){var Pt=st&&st[ut[St].id]||T(ut[St]);st&&(st[ut[St].id]=Pt);var Et=bt[Pt];Et||(Et=bt[Pt]=[]),Et.push(ut[St])}var Bt=[];for(var Wt in bt)Bt.push(bt[Wt]);return Bt}var d=function(st){this.keyCache={},st&&this.replace(st)};d.prototype.replace=function(st){this._layerConfigs={},this._layers={},this.update(st,[])},d.prototype.update=function(st,bt){for(var St=this,Pt=0,Et=st;Pt<Et.length;Pt+=1){var Bt=Et[Pt];this._layerConfigs[Bt.id]=Bt;var Wt=this._layers[Bt.id]=a.createStyleLayer(Bt);Wt._featureFilter=a.featureFilter(Wt.filter),this.keyCache[Bt.id]&&delete this.keyCache[Bt.id]}for(var tr=0,er=bt;tr<er.length;tr+=1){var ur=er[tr];delete this.keyCache[ur],delete this._layerConfigs[ur],delete this._layers[ur]}this.familiesBySource={};for(var kr=v(a.values(this._layerConfigs),this.keyCache),We=0,Ge=kr;We<Ge.length;We+=1){var _t=Ge[We],Ot=_t.map(function(vr){return St._layers[vr.id]}),Kt=Ot[0];if(Kt.visibility!=="none"){var or=Kt.source||"",hr=this.familiesBySource[or];hr||(hr=this.familiesBySource[or]={});var ir=Kt.sourceLayer||"_geojsonTileLayer",Nt=hr[ir];Nt||(Nt=hr[ir]=[]),Nt.push(Ot)}}};var t=1,r=function(st){var bt={},St=[];for(var Pt in st){var Et=st[Pt],Bt=bt[Pt]={};for(var Wt in Et){var tr=Et[+Wt];if(!(!tr||tr.bitmap.width===0||tr.bitmap.height===0)){var er={x:0,y:0,w:tr.bitmap.width+2*t,h:tr.bitmap.height+2*t};St.push(er),Bt[Wt]={rect:er,metrics:tr.metrics}}}}var ur=a.potpack(St),kr=ur.w,We=ur.h,Ge=new a.AlphaImage({width:kr||1,height:We||1});for(var _t in st){var Ot=st[_t];for(var Kt in Ot){var or=Ot[+Kt];if(!(!or||or.bitmap.width===0||or.bitmap.height===0)){var hr=bt[_t][Kt].rect;a.AlphaImage.copy(or.bitmap,Ge,{x:0,y:0},{x:hr.x+t,y:hr.y+t},or.bitmap)}}}this.image=Ge,this.positions=bt};a.register("GlyphAtlas",r);var u=function(st){this.tileID=new a.OverscaledTileID(st.tileID.overscaledZ,st.tileID.wrap,st.tileID.canonical.z,st.tileID.canonical.x,st.tileID.canonical.y),this.uid=st.uid,this.zoom=st.zoom,this.pixelRatio=st.pixelRatio,this.tileSize=st.tileSize,this.source=st.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=st.showCollisionBoxes,this.collectResourceTiming=!!st.collectResourceTiming,this.returnDependencies=!!st.returnDependencies,this.promoteId=st.promoteId};u.prototype.parse=function(st,bt,St,Pt,Et){var Bt=this;this.status="parsing",this.data=st,this.collisionBoxArray=new a.CollisionBoxArray;var Wt=new a.DictionaryCoder(Object.keys(st.layers).sort()),tr=new a.FeatureIndex(this.tileID,this.promoteId);tr.bucketLayerIDs=[];var er={},ur={featureIndex:tr,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:St},kr=bt.familiesBySource[this.source];for(var We in kr){var Ge=st.layers[We];if(Ge){Ge.version===1&&a.warnOnce('Vector tile source "'+this.source+'" layer "'+We+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var _t=Wt.encode(We),Ot=[],Kt=0;Kt<Ge.length;Kt++){var or=Ge.feature(Kt),hr=tr.getId(or,We);Ot.push({feature:or,id:hr,index:Kt,sourceLayerIndex:_t})}for(var ir=0,Nt=kr[We];ir<Nt.length;ir+=1){var vr=Nt[ir],mr=vr[0];if(!(mr.minzoom&&this.zoom<Math.floor(mr.minzoom))&&!(mr.maxzoom&&this.zoom>=mr.maxzoom)&&mr.visibility!=="none"){n(vr,this.zoom,St);var xr=er[mr.id]=mr.createBucket({index:tr.bucketLayerIDs.length,layers:vr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:_t,sourceID:this.source});xr.populate(Ot,ur,this.tileID.canonical),tr.bucketLayerIDs.push(vr.map(function(Ar){return Ar.id}))}}}}var yr,Kr,Nr,Ur,Tn=a.mapObject(ur.glyphDependencies,function(Ar){return Object.keys(Ar).map(Number)});Object.keys(Tn).length?Pt.send("getGlyphs",{uid:this.uid,stacks:Tn},function(Ar,Cr){yr||(yr=Ar,Kr=Cr,Hn.call(Bt))}):Kr={};var rn=Object.keys(ur.iconDependencies);rn.length?Pt.send("getImages",{icons:rn,source:this.source,tileID:this.tileID,type:"icons"},function(Ar,Cr){yr||(yr=Ar,Nr=Cr,Hn.call(Bt))}):Nr={};var Gn=Object.keys(ur.patternDependencies);Gn.length?Pt.send("getImages",{icons:Gn,source:this.source,tileID:this.tileID,type:"patterns"},function(Ar,Cr){yr||(yr=Ar,Ur=Cr,Hn.call(Bt))}):Ur={},Hn.call(this);function Hn(){if(yr)return Et(yr);if(Kr&&Nr&&Ur){var Ar=new r(Kr),Cr=new a.ImageAtlas(Nr,Ur);for(var Yr in er){var Zr=er[Yr];Zr instanceof a.SymbolBucket?(n(Zr.layers,this.zoom,St),a.performSymbolLayout(Zr,Kr,Ar.positions,Nr,Cr.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Zr.hasPattern&&(Zr instanceof a.LineBucket||Zr instanceof a.FillBucket||Zr instanceof a.FillExtrusionBucket)&&(n(Zr.layers,this.zoom,St),Zr.addFeatures(ur,this.tileID.canonical,Cr.patternPositions))}this.status="done",Et(null,{buckets:a.values(er).filter(function(un){return!un.isEmpty()}),featureIndex:tr,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Ar.image,imageAtlas:Cr,glyphMap:this.returnDependencies?Kr:null,iconMap:this.returnDependencies?Nr:null,glyphPositions:this.returnDependencies?Ar.positions:null})}}};function n(ut,st,bt){for(var St=new a.EvaluationParameters(st),Pt=0,Et=ut;Pt<Et.length;Pt+=1){var Bt=Et[Pt];Bt.recalculate(St,bt)}}function s(ut,st){var bt=a.getArrayBuffer(ut.request,function(St,Pt,Et,Bt){St?st(St):Pt&&st(null,{vectorTile:new a.vectorTile.VectorTile(new a.pbf(Pt)),rawData:Pt,cacheControl:Et,expires:Bt})});return function(){bt.cancel(),st()}}var f=function(st,bt,St,Pt){this.actor=st,this.layerIndex=bt,this.availableImages=St,this.loadVectorData=Pt||s,this.loading={},this.loaded={}};f.prototype.loadTile=function(st,bt){var St=this,Pt=st.uid;this.loading||(this.loading={});var Et=st&&st.request&&st.request.collectResourceTiming?new a.RequestPerformance(st.request):!1,Bt=this.loading[Pt]=new u(st);Bt.abort=this.loadVectorData(st,function(Wt,tr){if(delete St.loading[Pt],Wt||!tr)return Bt.status="done",St.loaded[Pt]=Bt,bt(Wt);var er=tr.rawData,ur={};tr.expires&&(ur.expires=tr.expires),tr.cacheControl&&(ur.cacheControl=tr.cacheControl);var kr={};if(Et){var We=Et.finish();We&&(kr.resourceTiming=JSON.parse(JSON.stringify(We)))}Bt.vectorTile=tr.vectorTile,Bt.parse(tr.vectorTile,St.layerIndex,St.availableImages,St.actor,function(Ge,_t){if(Ge||!_t)return bt(Ge);bt(null,a.extend({rawTileData:er.slice(0)},_t,ur,kr))}),St.loaded=St.loaded||{},St.loaded[Pt]=Bt})},f.prototype.reloadTile=function(st,bt){var St=this,Pt=this.loaded,Et=st.uid,Bt=this;if(Pt&&Pt[Et]){var Wt=Pt[Et];Wt.showCollisionBoxes=st.showCollisionBoxes;var tr=function(er,ur){var kr=Wt.reloadCallback;kr&&(delete Wt.reloadCallback,Wt.parse(Wt.vectorTile,Bt.layerIndex,St.availableImages,Bt.actor,kr)),bt(er,ur)};Wt.status==="parsing"?Wt.reloadCallback=tr:Wt.status==="done"&&(Wt.vectorTile?Wt.parse(Wt.vectorTile,this.layerIndex,this.availableImages,this.actor,tr):tr())}},f.prototype.abortTile=function(st,bt){var St=this.loading,Pt=st.uid;St&&St[Pt]&&St[Pt].abort&&(St[Pt].abort(),delete St[Pt]),bt()},f.prototype.removeTile=function(st,bt){var St=this.loaded,Pt=st.uid;St&&St[Pt]&&delete St[Pt],bt()};var l=a.window.ImageBitmap,x=function(){this.loaded={}};x.prototype.loadTile=function(st,bt){var St=st.uid,Pt=st.encoding,Et=st.rawImageData,Bt=l&&Et instanceof l?this.getImageData(Et):Et,Wt=new a.DEMData(St,Bt,Pt);this.loaded=this.loaded||{},this.loaded[St]=Wt,bt(null,Wt)},x.prototype.getImageData=function(st){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(st.width,st.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=st.width,this.offscreenCanvas.height=st.height,this.offscreenCanvasContext.drawImage(st,0,0,st.width,st.height);var bt=this.offscreenCanvasContext.getImageData(-1,-1,st.width+2,st.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:bt.width,height:bt.height},bt.data)},x.prototype.removeTile=function(st){var bt=this.loaded,St=st.uid;bt&&bt[St]&&delete bt[St]};var c=b;function b(ut,st){var bt=ut&&ut.type,St;if(bt==="FeatureCollection")for(St=0;St<ut.features.length;St++)b(ut.features[St],st);else if(bt==="GeometryCollection")for(St=0;St<ut.geometries.length;St++)b(ut.geometries[St],st);else if(bt==="Feature")b(ut.geometry,st);else if(bt==="Polygon")h(ut.coordinates,st);else if(bt==="MultiPolygon")for(St=0;St<ut.coordinates.length;St++)h(ut.coordinates[St],st);return ut}function h(ut,st){if(ut.length!==0){o(ut[0],st);for(var bt=1;bt<ut.length;bt++)o(ut[bt],!st)}}function o(ut,st){for(var bt=0,St=0,Pt=ut.length,Et=Pt-1;St<Pt;Et=St++)bt+=(ut[St][0]-ut[Et][0])*(ut[Et][1]+ut[St][1]);bt>=0!=!!st&&ut.reverse()}var p=a.vectorTile.VectorTileFeature.prototype.toGeoJSON,S=function(st){this._feature=st,this.extent=a.EXTENT,this.type=st.type,this.properties=st.tags,"id"in st&&!isNaN(st.id)&&(this.id=parseInt(st.id,10))};S.prototype.loadGeometry=function(){if(this._feature.type===1){for(var st=[],bt=0,St=this._feature.geometry;bt<St.length;bt+=1){var Pt=St[bt];st.push([new a.Point$1(Pt[0],Pt[1])])}return st}else{for(var Et=[],Bt=0,Wt=this._feature.geometry;Bt<Wt.length;Bt+=1){for(var tr=Wt[Bt],er=[],ur=0,kr=tr;ur<kr.length;ur+=1){var We=kr[ur];er.push(new a.Point$1(We[0],We[1]))}Et.push(er)}return Et}},S.prototype.toGeoJSON=function(st,bt,St){return p.call(this,st,bt,St)};var A=function(st){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=st.length,this._features=st};A.prototype.feature=function(st){return new S(this._features[st])};var E=a.vectorTile.VectorTileFeature,m=M;function M(ut,st){this.options=st||{},this.features=ut,this.length=ut.length}M.prototype.feature=function(ut){return new w(this.features[ut],this.options.extent)};function w(ut,st){this.id=typeof ut.id=="number"?ut.id:void 0,this.type=ut.type,this.rawGeometry=ut.type===1?[ut.geometry]:ut.geometry,this.properties=ut.tags,this.extent=st||4096}w.prototype.loadGeometry=function(){var ut=this.rawGeometry;this.geometry=[];for(var st=0;st<ut.length;st++){for(var bt=ut[st],St=[],Pt=0;Pt<bt.length;Pt++)St.push(new a.Point$1(bt[Pt][0],bt[Pt][1]));this.geometry.push(St)}return this.geometry},w.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ut=this.geometry,st=1/0,bt=-1/0,St=1/0,Pt=-1/0,Et=0;Et<ut.length;Et++)for(var Bt=ut[Et],Wt=0;Wt<Bt.length;Wt++){var tr=Bt[Wt];st=Math.min(st,tr.x),bt=Math.max(bt,tr.x),St=Math.min(St,tr.y),Pt=Math.max(Pt,tr.y)}return[st,St,bt,Pt]},w.prototype.toGeoJSON=E.prototype.toGeoJSON;var i=I,C=I,y=N,_=m;function I(ut){var st=new a.pbf;return k(ut,st),st.finish()}function N(ut,st){st=st||{};var bt={};for(var St in ut)bt[St]=new m(ut[St].features,st),bt[St].name=St,bt[St].version=st.version,bt[St].extent=st.extent;return I({layers:bt})}function k(ut,st){for(var bt in ut.layers)st.writeMessage(3,O,ut.layers[bt])}function O(ut,st){st.writeVarintField(15,ut.version||1),st.writeStringField(1,ut.name||""),st.writeVarintField(5,ut.extent||4096);var bt,St={keys:[],values:[],keycache:{},valuecache:{}};for(bt=0;bt<ut.length;bt++)St.feature=ut.feature(bt),st.writeMessage(2,z,St);var Pt=St.keys;for(bt=0;bt<Pt.length;bt++)st.writeStringField(3,Pt[bt]);var Et=St.values;for(bt=0;bt<Et.length;bt++)st.writeMessage(4,ee,Et[bt])}function z(ut,st){var bt=ut.feature;bt.id!==void 0&&st.writeVarintField(1,bt.id),st.writeMessage(2,F,ut),st.writeVarintField(3,bt.type),st.writeMessage(4,Q,bt)}function F(ut,st){var bt=ut.feature,St=ut.keys,Pt=ut.values,Et=ut.keycache,Bt=ut.valuecache;for(var Wt in bt.properties){var tr=Et[Wt];typeof tr>"u"&&(St.push(Wt),tr=St.length-1,Et[Wt]=tr),st.writeVarint(tr);var er=bt.properties[Wt],ur=typeof er;ur!=="string"&&ur!=="boolean"&&ur!=="number"&&(er=JSON.stringify(er));var kr=ur+":"+er,We=Bt[kr];typeof We>"u"&&(Pt.push(er),We=Pt.length-1,Bt[kr]=We),st.writeVarint(We)}}function B(ut,st){return(st<<3)+(ut&7)}function G(ut){return ut<<1^ut>>31}function Q(ut,st){for(var bt=ut.loadGeometry(),St=ut.type,Pt=0,Et=0,Bt=bt.length,Wt=0;Wt<Bt;Wt++){var tr=bt[Wt],er=1;St===1&&(er=tr.length),st.writeVarint(B(1,er));for(var ur=St===3?tr.length-1:tr.length,kr=0;kr<ur;kr++){kr===1&&St!==1&&st.writeVarint(B(2,ur-1));var We=tr[kr].x-Pt,Ge=tr[kr].y-Et;st.writeVarint(G(We)),st.writeVarint(G(Ge)),Pt+=We,Et+=Ge}St===3&&st.writeVarint(B(7,1))}}function ee(ut,st){var bt=typeof ut;bt==="string"?st.writeStringField(1,ut):bt==="boolean"?st.writeBooleanField(7,ut):bt==="number"&&(ut%1!==0?st.writeDoubleField(3,ut):ut<0?st.writeSVarintField(6,ut):st.writeVarintField(5,ut))}i.fromVectorTileJs=C,i.fromGeojsonVt=y,i.GeoJSONWrapper=_;function ae(ut,st,bt,St,Pt,Et){if(!(Pt-St<=bt)){var Bt=St+Pt>>1;fe(ut,st,Bt,St,Pt,Et%2),ae(ut,st,bt,St,Bt-1,Et+1),ae(ut,st,bt,Bt+1,Pt,Et+1)}}function fe(ut,st,bt,St,Pt,Et){for(;Pt>St;){if(Pt-St>600){var Bt=Pt-St+1,Wt=bt-St+1,tr=Math.log(Bt),er=.5*Math.exp(2*tr/3),ur=.5*Math.sqrt(tr*er*(Bt-er)/Bt)*(Wt-Bt/2<0?-1:1),kr=Math.max(St,Math.floor(bt-Wt*er/Bt+ur)),We=Math.min(Pt,Math.floor(bt+(Bt-Wt)*er/Bt+ur));fe(ut,st,bt,kr,We,Et)}var Ge=st[2*bt+Et],_t=St,Ot=Pt;for(K(ut,st,St,bt),st[2*Pt+Et]>Ge&&K(ut,st,St,Pt);_t<Ot;){for(K(ut,st,_t,Ot),_t++,Ot--;st[2*_t+Et]<Ge;)_t++;for(;st[2*Ot+Et]>Ge;)Ot--}st[2*St+Et]===Ge?K(ut,st,St,Ot):(Ot++,K(ut,st,Ot,Pt)),Ot<=bt&&(St=Ot+1),bt<=Ot&&(Pt=Ot-1)}}function K(ut,st,bt,St){W(ut,bt,St),W(st,2*bt,2*St),W(st,2*bt+1,2*St+1)}function W(ut,st,bt){var St=ut[st];ut[st]=ut[bt],ut[bt]=St}function Z(ut,st,bt,St,Pt,Et,Bt){for(var Wt=[0,ut.length-1,0],tr=[],er,ur;Wt.length;){var kr=Wt.pop(),We=Wt.pop(),Ge=Wt.pop();if(We-Ge<=Bt){for(var _t=Ge;_t<=We;_t++)er=st[2*_t],ur=st[2*_t+1],er>=bt&&er<=Pt&&ur>=St&&ur<=Et&&tr.push(ut[_t]);continue}var Ot=Math.floor((Ge+We)/2);er=st[2*Ot],ur=st[2*Ot+1],er>=bt&&er<=Pt&&ur>=St&&ur<=Et&&tr.push(ut[Ot]);var Kt=(kr+1)%2;(kr===0?bt<=er:St<=ur)&&(Wt.push(Ge),Wt.push(Ot-1),Wt.push(Kt)),(kr===0?Pt>=er:Et>=ur)&&(Wt.push(Ot+1),Wt.push(We),Wt.push(Kt))}return tr}function X(ut,st,bt,St,Pt,Et){for(var Bt=[0,ut.length-1,0],Wt=[],tr=Pt*Pt;Bt.length;){var er=Bt.pop(),ur=Bt.pop(),kr=Bt.pop();if(ur-kr<=Et){for(var We=kr;We<=ur;We++)$(st[2*We],st[2*We+1],bt,St)<=tr&&Wt.push(ut[We]);continue}var Ge=Math.floor((kr+ur)/2),_t=st[2*Ge],Ot=st[2*Ge+1];$(_t,Ot,bt,St)<=tr&&Wt.push(ut[Ge]);var Kt=(er+1)%2;(er===0?bt-Pt<=_t:St-Pt<=Ot)&&(Bt.push(kr),Bt.push(Ge-1),Bt.push(Kt)),(er===0?bt+Pt>=_t:St+Pt>=Ot)&&(Bt.push(Ge+1),Bt.push(ur),Bt.push(Kt))}return Wt}function $(ut,st,bt,St){var Pt=ut-bt,Et=st-St;return Pt*Pt+Et*Et}var ie=function(ut){return ut[0]},J=function(ut){return ut[1]},j=function(st,bt,St,Pt,Et){bt===void 0&&(bt=ie),St===void 0&&(St=J),Pt===void 0&&(Pt=64),Et===void 0&&(Et=Float64Array),this.nodeSize=Pt,this.points=st;for(var Bt=st.length<65536?Uint16Array:Uint32Array,Wt=this.ids=new Bt(st.length),tr=this.coords=new Et(st.length*2),er=0;er<st.length;er++)Wt[er]=er,tr[2*er]=bt(st[er]),tr[2*er+1]=St(st[er]);ae(Wt,tr,Pt,0,Wt.length-1,0)};j.prototype.range=function(st,bt,St,Pt){return Z(this.ids,this.coords,st,bt,St,Pt,this.nodeSize)},j.prototype.within=function(st,bt,St){return X(this.ids,this.coords,st,bt,St,this.nodeSize)};var se={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(ut){return ut}},ne=function(st){this.options=Ae(Object.create(se),st),this.trees=new Array(this.options.maxZoom+1)};ne.prototype.load=function(st){var bt=this.options,St=bt.log,Pt=bt.minZoom,Et=bt.maxZoom,Bt=bt.nodeSize;St&&console.time("total time");var Wt="prepare "+st.length+" points";St&&console.time(Wt),this.points=st;for(var tr=[],er=0;er<st.length;er++)st[er].geometry&&tr.push(ge(st[er],er));this.trees[Et+1]=new j(tr,Ne,Ue,Bt,Float32Array),St&&console.timeEnd(Wt);for(var ur=Et;ur>=Pt;ur--){var kr=+Date.now();tr=this._cluster(tr,ur),this.trees[ur]=new j(tr,Ne,Ue,Bt,Float32Array),St&&console.log("z%d: %d clusters in %dms",ur,tr.length,+Date.now()-kr)}return St&&console.timeEnd("total time"),this},ne.prototype.getClusters=function(st,bt){var St=((st[0]+180)%360+360)%360-180,Pt=Math.max(-90,Math.min(90,st[1])),Et=st[2]===180?180:((st[2]+180)%360+360)%360-180,Bt=Math.max(-90,Math.min(90,st[3]));if(st[2]-st[0]>=360)St=-180,Et=180;else if(St>Et){var Wt=this.getClusters([St,Pt,180,Bt],bt),tr=this.getClusters([-180,Pt,Et,Bt],bt);return Wt.concat(tr)}for(var er=this.trees[this._limitZoom(bt)],ur=er.range(Fe(St),ze(Bt),Fe(Et),ze(Pt)),kr=[],We=0,Ge=ur;We<Ge.length;We+=1){var _t=Ge[We],Ot=er.points[_t];kr.push(Ot.numPoints?we(Ot):this.points[Ot.index])}return kr},ne.prototype.getChildren=function(st){var bt=this._getOriginId(st),St=this._getOriginZoom(st),Pt="No cluster with the specified id.",Et=this.trees[St];if(!Et)throw new Error(Pt);var Bt=Et.points[bt];if(!Bt)throw new Error(Pt);for(var Wt=this.options.radius/(this.options.extent*Math.pow(2,St-1)),tr=Et.within(Bt.x,Bt.y,Wt),er=[],ur=0,kr=tr;ur<kr.length;ur+=1){var We=kr[ur],Ge=Et.points[We];Ge.parentId===st&&er.push(Ge.numPoints?we(Ge):this.points[Ge.index])}if(er.length===0)throw new Error(Pt);return er},ne.prototype.getLeaves=function(st,bt,St){bt=bt||10,St=St||0;var Pt=[];return this._appendLeaves(Pt,st,bt,St,0),Pt},ne.prototype.getTile=function(st,bt,St){var Pt=this.trees[this._limitZoom(st)],Et=Math.pow(2,st),Bt=this.options,Wt=Bt.extent,tr=Bt.radius,er=tr/Wt,ur=(St-er)/Et,kr=(St+1+er)/Et,We={features:[]};return this._addTileFeatures(Pt.range((bt-er)/Et,ur,(bt+1+er)/Et,kr),Pt.points,bt,St,Et,We),bt===0&&this._addTileFeatures(Pt.range(1-er/Et,ur,1,kr),Pt.points,Et,St,Et,We),bt===Et-1&&this._addTileFeatures(Pt.range(0,ur,er/Et,kr),Pt.points,-1,St,Et,We),We.features.length?We:null},ne.prototype.getClusterExpansionZoom=function(st){for(var bt=this._getOriginZoom(st)-1;bt<=this.options.maxZoom;){var St=this.getChildren(st);if(bt++,St.length!==1)break;st=St[0].properties.cluster_id}return bt},ne.prototype._appendLeaves=function(st,bt,St,Pt,Et){for(var Bt=this.getChildren(bt),Wt=0,tr=Bt;Wt<tr.length;Wt+=1){var er=tr[Wt],ur=er.properties;if(ur&&ur.cluster?Et+ur.point_count<=Pt?Et+=ur.point_count:Et=this._appendLeaves(st,ur.cluster_id,St,Pt,Et):Et<Pt?Et++:st.push(er),st.length===St)break}return Et},ne.prototype._addTileFeatures=function(st,bt,St,Pt,Et,Bt){for(var Wt=0,tr=st;Wt<tr.length;Wt+=1){var er=tr[Wt],ur=bt[er],kr=ur.numPoints,We={type:1,geometry:[[Math.round(this.options.extent*(ur.x*Et-St)),Math.round(this.options.extent*(ur.y*Et-Pt))]],tags:kr?xe(ur):this.points[ur.index].properties},Ge=void 0;kr?Ge=ur.id:this.options.generateId?Ge=ur.index:this.points[ur.index].id&&(Ge=this.points[ur.index].id),Ge!==void 0&&(We.id=Ge),Bt.features.push(We)}},ne.prototype._limitZoom=function(st){return Math.max(this.options.minZoom,Math.min(st,this.options.maxZoom+1))},ne.prototype._cluster=function(st,bt){for(var St=[],Pt=this.options,Et=Pt.radius,Bt=Pt.extent,Wt=Pt.reduce,tr=Et/(Bt*Math.pow(2,bt)),er=0;er<st.length;er++){var ur=st[er];if(!(ur.zoom<=bt)){ur.zoom=bt;for(var kr=this.trees[bt+1],We=kr.within(ur.x,ur.y,tr),Ge=ur.numPoints||1,_t=ur.x*Ge,Ot=ur.y*Ge,Kt=Wt&&Ge>1?this._map(ur,!0):null,or=(er<<5)+(bt+1)+this.points.length,hr=0,ir=We;hr<ir.length;hr+=1){var Nt=ir[hr],vr=kr.points[Nt];if(!(vr.zoom<=bt)){vr.zoom=bt;var mr=vr.numPoints||1;_t+=vr.x*mr,Ot+=vr.y*mr,Ge+=mr,vr.parentId=or,Wt&&(Kt||(Kt=this._map(ur,!0)),Wt(Kt,this._map(vr)))}}Ge===1?St.push(ur):(ur.parentId=or,St.push(ue(_t/Ge,Ot/Ge,or,Ge,Kt)))}}return St},ne.prototype._getOriginId=function(st){return st-this.points.length>>5},ne.prototype._getOriginZoom=function(st){return(st-this.points.length)%32},ne.prototype._map=function(st,bt){if(st.numPoints)return bt?Ae({},st.properties):st.properties;var St=this.points[st.index].properties,Pt=this.options.map(St);return bt&&Pt===St?Ae({},Pt):Pt};function ue(ut,st,bt,St,Pt){return{x:ut,y:st,zoom:1/0,id:bt,parentId:-1,numPoints:St,properties:Pt}}function ge(ut,st){var bt=ut.geometry.coordinates,St=bt[0],Pt=bt[1];return{x:Fe(St),y:ze(Pt),zoom:1/0,index:st,parentId:-1}}function we(ut){return{type:"Feature",id:ut.id,properties:xe(ut),geometry:{type:"Point",coordinates:[Te(ut.x),ye(ut.y)]}}}function xe(ut){var st=ut.numPoints,bt=st>=1e4?Math.round(st/1e3)+"k":st>=1e3?Math.round(st/100)/10+"k":st;return Ae(Ae({},ut.properties),{cluster:!0,cluster_id:ut.id,point_count:st,point_count_abbreviated:bt})}function Fe(ut){return ut/360+.5}function ze(ut){var st=Math.sin(ut*Math.PI/180),bt=.5-.25*Math.log((1+st)/(1-st))/Math.PI;return bt<0?0:bt>1?1:bt}function Te(ut){return(ut-.5)*360}function ye(ut){var st=(180-ut*360)*Math.PI/180;return 360*Math.atan(Math.exp(st))/Math.PI-90}function Ae(ut,st){for(var bt in st)ut[bt]=st[bt];return ut}function Ne(ut){return ut.x}function Ue(ut){return ut.y}function Re(ut,st,bt,St){for(var Pt=St,Et=bt-st>>1,Bt=bt-st,Wt,tr=ut[st],er=ut[st+1],ur=ut[bt],kr=ut[bt+1],We=st+3;We<bt;We+=3){var Ge=Ve(ut[We],ut[We+1],tr,er,ur,kr);if(Ge>Pt)Wt=We,Pt=Ge;else if(Ge===Pt){var _t=Math.abs(We-Et);_t<Bt&&(Wt=We,Bt=_t)}}Pt>St&&(Wt-st>3&&Re(ut,st,Wt,St),ut[Wt+2]=Pt,bt-Wt>3&&Re(ut,Wt,bt,St))}function Ve(ut,st,bt,St,Pt,Et){var Bt=Pt-bt,Wt=Et-St;if(Bt!==0||Wt!==0){var tr=((ut-bt)*Bt+(st-St)*Wt)/(Bt*Bt+Wt*Wt);tr>1?(bt=Pt,St=Et):tr>0&&(bt+=Bt*tr,St+=Wt*tr)}return Bt=ut-bt,Wt=st-St,Bt*Bt+Wt*Wt}function rt(ut,st,bt,St){var Pt={id:typeof ut>"u"?null:ut,type:st,geometry:bt,tags:St,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return Qe(Pt),Pt}function Qe(ut){var st=ut.geometry,bt=ut.type;if(bt==="Point"||bt==="MultiPoint"||bt==="LineString")Je(ut,st);else if(bt==="Polygon"||bt==="MultiLineString")for(var St=0;St<st.length;St++)Je(ut,st[St]);else if(bt==="MultiPolygon")for(St=0;St<st.length;St++)for(var Pt=0;Pt<st[St].length;Pt++)Je(ut,st[St][Pt])}function Je(ut,st){for(var bt=0;bt<st.length;bt+=3)ut.minX=Math.min(ut.minX,st[bt]),ut.minY=Math.min(ut.minY,st[bt+1]),ut.maxX=Math.max(ut.maxX,st[bt]),ut.maxY=Math.max(ut.maxY,st[bt+1])}function qe(ut,st){var bt=[];if(ut.type==="FeatureCollection")for(var St=0;St<ut.features.length;St++)dt(bt,ut.features[St],st,St);else ut.type==="Feature"?dt(bt,ut,st):dt(bt,{geometry:ut},st);return bt}function dt(ut,st,bt,St){if(st.geometry){var Pt=st.geometry.coordinates,Et=st.geometry.type,Bt=Math.pow(bt.tolerance/((1<<bt.maxZoom)*bt.extent),2),Wt=[],tr=st.id;if(bt.promoteId?tr=st.properties[bt.promoteId]:bt.generateId&&(tr=St||0),Et==="Point")pt(Pt,Wt);else if(Et==="MultiPoint")for(var er=0;er<Pt.length;er++)pt(Pt[er],Wt);else if(Et==="LineString")mt(Pt,Wt,Bt,!1);else if(Et==="MultiLineString")if(bt.lineMetrics){for(er=0;er<Pt.length;er++)Wt=[],mt(Pt[er],Wt,Bt,!1),ut.push(rt(tr,"LineString",Wt,st.properties));return}else Ct(Pt,Wt,Bt,!1);else if(Et==="Polygon")Ct(Pt,Wt,Bt,!0);else if(Et==="MultiPolygon")for(er=0;er<Pt.length;er++){var ur=[];Ct(Pt[er],ur,Bt,!0),Wt.push(ur)}else if(Et==="GeometryCollection"){for(er=0;er<st.geometry.geometries.length;er++)dt(ut,{id:tr,geometry:st.geometry.geometries[er],properties:st.properties},bt,St);return}else throw new Error("Input data is not a valid GeoJSON object.");ut.push(rt(tr,Et,Wt,st.properties))}}function pt(ut,st){st.push(Rt(ut[0])),st.push(Zt(ut[1])),st.push(0)}function mt(ut,st,bt,St){for(var Pt,Et,Bt=0,Wt=0;Wt<ut.length;Wt++){var tr=Rt(ut[Wt][0]),er=Zt(ut[Wt][1]);st.push(tr),st.push(er),st.push(0),Wt>0&&(St?Bt+=(Pt*er-tr*Et)/2:Bt+=Math.sqrt(Math.pow(tr-Pt,2)+Math.pow(er-Et,2))),Pt=tr,Et=er}var ur=st.length-3;st[2]=1,Re(st,0,ur,bt),st[ur+2]=1,st.size=Math.abs(Bt),st.start=0,st.end=st.size}function Ct(ut,st,bt,St){for(var Pt=0;Pt<ut.length;Pt++){var Et=[];mt(ut[Pt],Et,bt,St),st.push(Et)}}function Rt(ut){return ut/360+.5}function Zt(ut){var st=Math.sin(ut*Math.PI/180),bt=.5-.25*Math.log((1+st)/(1-st))/Math.PI;return bt<0?0:bt>1?1:bt}function Xe(ut,st,bt,St,Pt,Et,Bt,Wt){if(bt/=st,St/=st,Et>=bt&&Bt<St)return ut;if(Bt<bt||Et>=St)return null;for(var tr=[],er=0;er<ut.length;er++){var ur=ut[er],kr=ur.geometry,We=ur.type,Ge=Pt===0?ur.minX:ur.minY,_t=Pt===0?ur.maxX:ur.maxY;if(Ge>=bt&&_t<St){tr.push(ur);continue}else if(_t<bt||Ge>=St)continue;var Ot=[];if(We==="Point"||We==="MultiPoint")Le(kr,Ot,bt,St,Pt);else if(We==="LineString")Pe(kr,Ot,bt,St,Pt,!1,Wt.lineMetrics);else if(We==="MultiLineString")Ce(kr,Ot,bt,St,Pt,!1);else if(We==="Polygon")Ce(kr,Ot,bt,St,Pt,!0);else if(We==="MultiPolygon")for(var Kt=0;Kt<kr.length;Kt++){var or=[];Ce(kr[Kt],or,bt,St,Pt,!0),or.length&&Ot.push(or)}if(Ot.length){if(Wt.lineMetrics&&We==="LineString"){for(Kt=0;Kt<Ot.length;Kt++)tr.push(rt(ur.id,We,Ot[Kt],ur.tags));continue}(We==="LineString"||We==="MultiLineString")&&(Ot.length===1?(We="LineString",Ot=Ot[0]):We="MultiLineString"),(We==="Point"||We==="MultiPoint")&&(We=Ot.length===3?"Point":"MultiPoint"),tr.push(rt(ur.id,We,Ot,ur.tags))}}return tr.length?tr:null}function Le(ut,st,bt,St,Pt){for(var Et=0;Et<ut.length;Et+=3){var Bt=ut[Et+Pt];Bt>=bt&&Bt<=St&&(st.push(ut[Et]),st.push(ut[Et+1]),st.push(ut[Et+2]))}}function Pe(ut,st,bt,St,Pt,Et,Bt){for(var Wt=ke(ut),tr=Pt===0?oe:pe,er=ut.start,ur,kr,We=0;We<ut.length-3;We+=3){var Ge=ut[We],_t=ut[We+1],Ot=ut[We+2],Kt=ut[We+3],or=ut[We+4],hr=Pt===0?Ge:_t,ir=Pt===0?Kt:or,Nt=!1;Bt&&(ur=Math.sqrt(Math.pow(Ge-Kt,2)+Math.pow(_t-or,2))),hr<bt?ir>bt&&(kr=tr(Wt,Ge,_t,Kt,or,bt),Bt&&(Wt.start=er+ur*kr)):hr>St?ir<St&&(kr=tr(Wt,Ge,_t,Kt,or,St),Bt&&(Wt.start=er+ur*kr)):me(Wt,Ge,_t,Ot),ir<bt&&hr>=bt&&(kr=tr(Wt,Ge,_t,Kt,or,bt),Nt=!0),ir>St&&hr<=St&&(kr=tr(Wt,Ge,_t,Kt,or,St),Nt=!0),!Et&&Nt&&(Bt&&(Wt.end=er+ur*kr),st.push(Wt),Wt=ke(ut)),Bt&&(er+=ur)}var vr=ut.length-3;Ge=ut[vr],_t=ut[vr+1],Ot=ut[vr+2],hr=Pt===0?Ge:_t,hr>=bt&&hr<=St&&me(Wt,Ge,_t,Ot),vr=Wt.length-3,Et&&vr>=3&&(Wt[vr]!==Wt[0]||Wt[vr+1]!==Wt[1])&&me(Wt,Wt[0],Wt[1],Wt[2]),Wt.length&&st.push(Wt)}function ke(ut){var st=[];return st.size=ut.size,st.start=ut.start,st.end=ut.end,st}function Ce(ut,st,bt,St,Pt,Et){for(var Bt=0;Bt<ut.length;Bt++)Pe(ut[Bt],st,bt,St,Pt,Et,!1)}function me(ut,st,bt,St){ut.push(st),ut.push(bt),ut.push(St)}function oe(ut,st,bt,St,Pt,Et){var Bt=(Et-st)/(St-st);return ut.push(Et),ut.push(bt+(Pt-bt)*Bt),ut.push(1),Bt}function pe(ut,st,bt,St,Pt,Et){var Bt=(Et-bt)/(Pt-bt);return ut.push(st+(St-st)*Bt),ut.push(Et),ut.push(1),Bt}function Me(ut,st){var bt=st.buffer/st.extent,St=ut,Pt=Xe(ut,1,-1-bt,bt,0,-1,2,st),Et=Xe(ut,1,1-bt,2+bt,0,-1,2,st);return(Pt||Et)&&(St=Xe(ut,1,-bt,1+bt,0,-1,2,st)||[],Pt&&(St=_e(Pt,1).concat(St)),Et&&(St=St.concat(_e(Et,-1)))),St}function _e(ut,st){for(var bt=[],St=0;St<ut.length;St++){var Pt=ut[St],Et=Pt.type,Bt;if(Et==="Point"||Et==="MultiPoint"||Et==="LineString")Bt=tt(Pt.geometry,st);else if(Et==="MultiLineString"||Et==="Polygon"){Bt=[];for(var Wt=0;Wt<Pt.geometry.length;Wt++)Bt.push(tt(Pt.geometry[Wt],st))}else if(Et==="MultiPolygon")for(Bt=[],Wt=0;Wt<Pt.geometry.length;Wt++){for(var tr=[],er=0;er<Pt.geometry[Wt].length;er++)tr.push(tt(Pt.geometry[Wt][er],st));Bt.push(tr)}bt.push(rt(Pt.id,Et,Bt,Pt.tags))}return bt}function tt(ut,st){var bt=[];bt.size=ut.size,ut.start!==void 0&&(bt.start=ut.start,bt.end=ut.end);for(var St=0;St<ut.length;St+=3)bt.push(ut[St]+st,ut[St+1],ut[St+2]);return bt}function at(ut,st){if(ut.transformed)return ut;var bt=1<<ut.z,St=ut.x,Pt=ut.y,Et,Bt,Wt;for(Et=0;Et<ut.features.length;Et++){var tr=ut.features[Et],er=tr.geometry,ur=tr.type;if(tr.geometry=[],ur===1)for(Bt=0;Bt<er.length;Bt+=2)tr.geometry.push(At(er[Bt],er[Bt+1],st,bt,St,Pt));else for(Bt=0;Bt<er.length;Bt++){var kr=[];for(Wt=0;Wt<er[Bt].length;Wt+=2)kr.push(At(er[Bt][Wt],er[Bt][Wt+1],st,bt,St,Pt));tr.geometry.push(kr)}}return ut.transformed=!0,ut}function At(ut,st,bt,St,Pt,Et){return[Math.round(bt*(ut*St-Pt)),Math.round(bt*(st*St-Et))]}function Ft(ut,st,bt,St,Pt){for(var Et=st===Pt.maxZoom?0:Pt.tolerance/((1<<st)*Pt.extent),Bt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:bt,y:St,z:st,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Wt=0;Wt<ut.length;Wt++){Bt.numFeatures++,Gt(Bt,ut[Wt],Et,Pt);var tr=ut[Wt].minX,er=ut[Wt].minY,ur=ut[Wt].maxX,kr=ut[Wt].maxY;tr<Bt.minX&&(Bt.minX=tr),er<Bt.minY&&(Bt.minY=er),ur>Bt.maxX&&(Bt.maxX=ur),kr>Bt.maxY&&(Bt.maxY=kr)}return Bt}function Gt(ut,st,bt,St){var Pt=st.geometry,Et=st.type,Bt=[];if(Et==="Point"||Et==="MultiPoint")for(var Wt=0;Wt<Pt.length;Wt+=3)Bt.push(Pt[Wt]),Bt.push(Pt[Wt+1]),ut.numPoints++,ut.numSimplified++;else if(Et==="LineString")Yt(Bt,Pt,ut,bt,!1,!1);else if(Et==="MultiLineString"||Et==="Polygon")for(Wt=0;Wt<Pt.length;Wt++)Yt(Bt,Pt[Wt],ut,bt,Et==="Polygon",Wt===0);else if(Et==="MultiPolygon")for(var tr=0;tr<Pt.length;tr++){var er=Pt[tr];for(Wt=0;Wt<er.length;Wt++)Yt(Bt,er[Wt],ut,bt,!0,Wt===0)}if(Bt.length){var ur=st.tags||null;if(Et==="LineString"&&St.lineMetrics){ur={};for(var kr in st.tags)ur[kr]=st.tags[kr];ur.mapbox_clip_start=Pt.start/Pt.size,ur.mapbox_clip_end=Pt.end/Pt.size}var We={geometry:Bt,type:Et==="Polygon"||Et==="MultiPolygon"?3:Et==="LineString"||Et==="MultiLineString"?2:1,tags:ur};st.id!==null&&(We.id=st.id),ut.features.push(We)}}function Yt(ut,st,bt,St,Pt,Et){var Bt=St*St;if(St>0&&st.size<(Pt?Bt:St)){bt.numPoints+=st.length/3;return}for(var Wt=[],tr=0;tr<st.length;tr+=3)(St===0||st[tr+2]>Bt)&&(bt.numSimplified++,Wt.push(st[tr]),Wt.push(st[tr+1])),bt.numPoints++;Pt&&Dt(Wt,Et),ut.push(Wt)}function Dt(ut,st){for(var bt=0,St=0,Pt=ut.length,Et=Pt-2;St<Pt;Et=St,St+=2)bt+=(ut[St]-ut[Et])*(ut[St+1]+ut[Et+1]);if(bt>0===st)for(St=0,Pt=ut.length;St<Pt/2;St+=2){var Bt=ut[St],Wt=ut[St+1];ut[St]=ut[Pt-2-St],ut[St+1]=ut[Pt-1-St],ut[Pt-2-St]=Bt,ut[Pt-1-St]=Wt}}function $t(ut,st){return new lr(ut,st)}function lr(ut,st){st=this.options=xt(Object.create(this.options),st);var bt=st.debug;if(bt&&console.time("preprocess data"),st.maxZoom<0||st.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(st.promoteId&&st.generateId)throw new Error("promoteId and generateId cannot be used together.");var St=qe(ut,st);this.tiles={},this.tileCoords=[],bt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",st.indexMaxZoom,st.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),St=Me(St,st),St.length&&this.splitTile(St,0,0,0),bt&&(St.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}lr.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},lr.prototype.splitTile=function(ut,st,bt,St,Pt,Et,Bt){for(var Wt=[ut,st,bt,St],tr=this.options,er=tr.debug;Wt.length;){St=Wt.pop(),bt=Wt.pop(),st=Wt.pop(),ut=Wt.pop();var ur=1<<st,kr=Hr(st,bt,St),We=this.tiles[kr];if(!We&&(er>1&&console.time("creation"),We=this.tiles[kr]=Ft(ut,st,bt,St,tr),this.tileCoords.push({z:st,x:bt,y:St}),er)){er>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",st,bt,St,We.numFeatures,We.numPoints,We.numSimplified),console.timeEnd("creation"));var Ge="z"+st;this.stats[Ge]=(this.stats[Ge]||0)+1,this.total++}if(We.source=ut,Pt){if(st===tr.maxZoom||st===Pt)continue;var _t=1<<Pt-st;if(bt!==Math.floor(Et/_t)||St!==Math.floor(Bt/_t))continue}else if(st===tr.indexMaxZoom||We.numPoints<=tr.indexMaxPoints)continue;if(We.source=null,ut.length!==0){er>1&&console.time("clipping");var Ot=.5*tr.buffer/tr.extent,Kt=.5-Ot,or=.5+Ot,hr=1+Ot,ir,Nt,vr,mr,xr,yr;ir=Nt=vr=mr=null,xr=Xe(ut,ur,bt-Ot,bt+or,0,We.minX,We.maxX,tr),yr=Xe(ut,ur,bt+Kt,bt+hr,0,We.minX,We.maxX,tr),ut=null,xr&&(ir=Xe(xr,ur,St-Ot,St+or,1,We.minY,We.maxY,tr),Nt=Xe(xr,ur,St+Kt,St+hr,1,We.minY,We.maxY,tr),xr=null),yr&&(vr=Xe(yr,ur,St-Ot,St+or,1,We.minY,We.maxY,tr),mr=Xe(yr,ur,St+Kt,St+hr,1,We.minY,We.maxY,tr),yr=null),er>1&&console.timeEnd("clipping"),Wt.push(ir||[],st+1,bt*2,St*2),Wt.push(Nt||[],st+1,bt*2,St*2+1),Wt.push(vr||[],st+1,bt*2+1,St*2),Wt.push(mr||[],st+1,bt*2+1,St*2+1)}}},lr.prototype.getTile=function(ut,st,bt){var St=this.options,Pt=St.extent,Et=St.debug;if(ut<0||ut>24)return null;var Bt=1<<ut;st=(st%Bt+Bt)%Bt;var Wt=Hr(ut,st,bt);if(this.tiles[Wt])return at(this.tiles[Wt],Pt);Et>1&&console.log("drilling down to z%d-%d-%d",ut,st,bt);for(var tr=ut,er=st,ur=bt,kr;!kr&&tr>0;)tr--,er=Math.floor(er/2),ur=Math.floor(ur/2),kr=this.tiles[Hr(tr,er,ur)];return!kr||!kr.source?null:(Et>1&&console.log("found parent tile z%d-%d-%d",tr,er,ur),Et>1&&console.time("drilling down"),this.splitTile(kr.source,tr,er,ur,ut,st,bt),Et>1&&console.timeEnd("drilling down"),this.tiles[Wt]?at(this.tiles[Wt],Pt):null)};function Hr(ut,st,bt){return((1<<ut)*bt+st)*32+ut}function xt(ut,st){for(var bt in st)ut[bt]=st[bt];return ut}function Qt(ut,st){var bt=ut.tileID.canonical;if(!this._geoJSONIndex)return st(null,null);var St=this._geoJSONIndex.getTile(bt.z,bt.x,bt.y);if(!St)return st(null,null);var Pt=new A(St.features),Et=i(Pt);(Et.byteOffset!==0||Et.byteLength!==Et.buffer.byteLength)&&(Et=new Uint8Array(Et)),st(null,{vectorTile:Pt,rawData:Et.buffer})}var jt=function(ut){function st(bt,St,Pt,Et){ut.call(this,bt,St,Pt,Qt),Et&&(this.loadGeoJSON=Et)}return ut&&(st.__proto__=ut),st.prototype=Object.create(ut&&ut.prototype),st.prototype.constructor=st,st.prototype.loadData=function(St,Pt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Pt,this._pendingLoadDataParams=St,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},st.prototype._loadData=function(){var St=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var Pt=this._pendingCallback,Et=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Bt=Et&&Et.request&&Et.request.collectResourceTiming?new a.RequestPerformance(Et.request):!1;this.loadGeoJSON(Et,function(Wt,tr){if(Wt||!tr)return Pt(Wt);if(typeof tr!="object")return Pt(new Error("Input data given to '"+Et.source+"' is not a valid GeoJSON object."));c(tr,!0);try{St._geoJSONIndex=Et.cluster?new ne(Sr(Et)).load(tr.features):$t(tr,Et.geojsonVtOptions)}catch(kr){return Pt(kr)}St.loaded={};var er={};if(Bt){var ur=Bt.finish();ur&&(er.resourceTiming={},er.resourceTiming[Et.source]=JSON.parse(JSON.stringify(ur)))}Pt(null,er)})}},st.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},st.prototype.reloadTile=function(St,Pt){var Et=this.loaded,Bt=St.uid;return Et&&Et[Bt]?ut.prototype.reloadTile.call(this,St,Pt):this.loadTile(St,Pt)},st.prototype.loadGeoJSON=function(St,Pt){if(St.request)a.getJSON(St.request,Pt);else if(typeof St.data=="string")try{return Pt(null,JSON.parse(St.data))}catch{return Pt(new Error("Input data given to '"+St.source+"' is not a valid GeoJSON object."))}else return Pt(new Error("Input data given to '"+St.source+"' is not a valid GeoJSON object."))},st.prototype.removeSource=function(St,Pt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Pt()},st.prototype.getClusterExpansionZoom=function(St,Pt){try{Pt(null,this._geoJSONIndex.getClusterExpansionZoom(St.clusterId))}catch(Et){Pt(Et)}},st.prototype.getClusterChildren=function(St,Pt){try{Pt(null,this._geoJSONIndex.getChildren(St.clusterId))}catch(Et){Pt(Et)}},st.prototype.getClusterLeaves=function(St,Pt){try{Pt(null,this._geoJSONIndex.getLeaves(St.clusterId,St.limit,St.offset))}catch(Et){Pt(Et)}},st}(f);function Sr(ut){var st=ut.superclusterOptions,bt=ut.clusterProperties;if(!bt||!st)return st;for(var St={},Pt={},Et={accumulated:null,zoom:0},Bt={properties:null},Wt=Object.keys(bt),tr=0,er=Wt;tr<er.length;tr+=1){var ur=er[tr],kr=bt[ur],We=kr[0],Ge=kr[1],_t=a.createExpression(Ge),Ot=a.createExpression(typeof We=="string"?[We,["accumulated"],["get",ur]]:We);St[ur]=_t.value,Pt[ur]=Ot.value}return st.map=function(Kt){Bt.properties=Kt;for(var or={},hr=0,ir=Wt;hr<ir.length;hr+=1){var Nt=ir[hr];or[Nt]=St[Nt].evaluate(Et,Bt)}return or},st.reduce=function(Kt,or){Bt.properties=or;for(var hr=0,ir=Wt;hr<ir.length;hr+=1){var Nt=ir[hr];Et.accumulated=Kt[Nt],Kt[Nt]=Pt[Nt].evaluate(Et,Bt)}},st}var gr=function(st){var bt=this;this.self=st,this.actor=new a.Actor(st,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:f,geojson:jt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(St,Pt){if(bt.workerSourceTypes[St])throw new Error('Worker source with name "'+St+'" already registered.');bt.workerSourceTypes[St]=Pt},this.self.registerRTLTextPlugin=function(St){if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=St.applyArabicShaping,a.plugin.processBidirectionalText=St.processBidirectionalText,a.plugin.processStyledBidirectionalText=St.processStyledBidirectionalText}};return gr.prototype.setReferrer=function(st,bt){this.referrer=bt},gr.prototype.setImages=function(st,bt,St){this.availableImages[st]=bt;for(var Pt in this.workerSources[st]){var Et=this.workerSources[st][Pt];for(var Bt in Et)Et[Bt].availableImages=bt}St()},gr.prototype.setLayers=function(st,bt,St){this.getLayerIndex(st).replace(bt),St()},gr.prototype.updateLayers=function(st,bt,St){this.getLayerIndex(st).update(bt.layers,bt.removedIds),St()},gr.prototype.loadTile=function(st,bt,St){this.getWorkerSource(st,bt.type,bt.source).loadTile(bt,St)},gr.prototype.loadDEMTile=function(st,bt,St){this.getDEMWorkerSource(st,bt.source).loadTile(bt,St)},gr.prototype.reloadTile=function(st,bt,St){this.getWorkerSource(st,bt.type,bt.source).reloadTile(bt,St)},gr.prototype.abortTile=function(st,bt,St){this.getWorkerSource(st,bt.type,bt.source).abortTile(bt,St)},gr.prototype.removeTile=function(st,bt,St){this.getWorkerSource(st,bt.type,bt.source).removeTile(bt,St)},gr.prototype.removeDEMTile=function(st,bt){this.getDEMWorkerSource(st,bt.source).removeTile(bt)},gr.prototype.removeSource=function(st,bt,St){if(!(!this.workerSources[st]||!this.workerSources[st][bt.type]||!this.workerSources[st][bt.type][bt.source])){var Pt=this.workerSources[st][bt.type][bt.source];delete this.workerSources[st][bt.type][bt.source],Pt.removeSource!==void 0?Pt.removeSource(bt,St):St()}},gr.prototype.loadWorkerSource=function(st,bt,St){try{this.self.importScripts(bt.url),St()}catch(Pt){St(Pt.toString())}},gr.prototype.syncRTLPluginState=function(st,bt,St){try{a.plugin.setState(bt);var Pt=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&Pt!=null){this.self.importScripts(Pt);var Et=a.plugin.isParsed(),Bt=Et?void 0:new Error("RTL Text Plugin failed to import scripts from "+Pt);St(Bt,Et)}}catch(Wt){St(Wt.toString())}},gr.prototype.getAvailableImages=function(st){var bt=this.availableImages[st];return bt||(bt=[]),bt},gr.prototype.getLayerIndex=function(st){var bt=this.layerIndexes[st];return bt||(bt=this.layerIndexes[st]=new d),bt},gr.prototype.getWorkerSource=function(st,bt,St){var Pt=this;if(this.workerSources[st]||(this.workerSources[st]={}),this.workerSources[st][bt]||(this.workerSources[st][bt]={}),!this.workerSources[st][bt][St]){var Et={send:function(Bt,Wt,tr){Pt.actor.send(Bt,Wt,tr,st)}};this.workerSources[st][bt][St]=new this.workerSourceTypes[bt](Et,this.getLayerIndex(st),this.getAvailableImages(st))}return this.workerSources[st][bt][St]},gr.prototype.getDEMWorkerSource=function(st,bt){return this.demWorkerSources[st]||(this.demWorkerSources[st]={}),this.demWorkerSources[st][bt]||(this.demWorkerSources[st][bt]=new x),this.demWorkerSources[st][bt]},gr.prototype.enforceCacheSizeLimit=function(st,bt){a.enforceCacheSizeLimit(bt)},typeof WorkerGlobalScope<"u"&&typeof a.window<"u"&&a.window instanceof WorkerGlobalScope&&(a.window.worker=new gr(a.window)),gr}),P(["./shared"],function(a){var L=a.createCommonjsModule(function(ce){ce.exports?ce.exports=Y:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=Y,window.mapboxgl.notSupportedReason=ve);function Y(Jr){return!ve(Jr)}function ve(Jr){if(!q())return"not a browser";if(!de())return"insufficent Array support";if(!De())return"insufficient Function support";if(!Ye())return"insufficient Object support";if(!ot())return"insufficient JSON support";if(!wt())return"insufficient worker support";if(!Vt())return"insufficient Uint8ClampedArray support";if(!qt())return"insufficient ArrayBuffer support";if(!pr())return"insufficient Canvas/getImageData support";if(!Vr(Jr&&Jr.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function q(){return typeof window<"u"&&typeof document<"u"}function de(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function De(){return Function.prototype&&Function.prototype.bind}function Ye(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function ot(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function wt(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Jr=new Blob([""],{type:"text/javascript"}),sn=URL.createObjectURL(Jr),gn,On;try{On=new Worker(sn),gn=!0}catch{gn=!1}return On&&On.terminate(),URL.revokeObjectURL(sn),gn}function Vt(){return"Uint8ClampedArray"in window}function qt(){return ArrayBuffer.isView}function pr(){var Jr=document.createElement("canvas");Jr.width=Jr.height=1;var sn=Jr.getContext("2d");if(!sn)return!1;var gn=sn.getImageData(0,0,1,1);return gn&&gn.width===Jr.width}var wr={};function Vr(Jr){return wr[Jr]===void 0&&(wr[Jr]=qr(Jr)),wr[Jr]}Y.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function $r(Jr){var sn=document.createElement("canvas"),gn=Object.create(Y.webGLContextAttributes);return gn.failIfMajorPerformanceCaveat=Jr,sn.probablySupportsContext?sn.probablySupportsContext("webgl",gn)||sn.probablySupportsContext("experimental-webgl",gn):sn.supportsContext?sn.supportsContext("webgl",gn)||sn.supportsContext("experimental-webgl",gn):sn.getContext("webgl",gn)||sn.getContext("experimental-webgl",gn)}function qr(Jr){var sn=$r(Jr);if(!sn)return!1;var gn=sn.createShader(sn.VERTEX_SHADER);return!gn||sn.isContextLost()?!1:(sn.shaderSource(gn,"void main() {}"),sn.compileShader(gn),sn.getShaderParameter(gn,sn.COMPILE_STATUS)===!0)}}),T={};T.create=function(ce,Y,ve){var q=a.window.document.createElement(ce);return Y!==void 0&&(q.className=Y),ve&&ve.appendChild(q),q},T.createNS=function(ce,Y){var ve=a.window.document.createElementNS(ce,Y);return ve};var v=a.window.document.documentElement.style;function d(ce){if(!v)return ce[0];for(var Y=0;Y<ce.length;Y++)if(ce[Y]in v)return ce[Y];return ce[0]}var t=d(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),r;T.disableDrag=function(){v&&t&&(r=v[t],v[t]="none")},T.enableDrag=function(){v&&t&&(v[t]=r)};var u=d(["transform","WebkitTransform"]);T.setTransform=function(ce,Y){ce.style[u]=Y};var n=!1;try{var s=Object.defineProperty({},"passive",{get:function(){n=!0}});a.window.addEventListener("test",s,s),a.window.removeEventListener("test",s,s)}catch{n=!1}T.addEventListener=function(ce,Y,ve,q){q===void 0&&(q={}),"passive"in q&&n?ce.addEventListener(Y,ve,q):ce.addEventListener(Y,ve,q.capture)},T.removeEventListener=function(ce,Y,ve,q){q===void 0&&(q={}),"passive"in q&&n?ce.removeEventListener(Y,ve,q):ce.removeEventListener(Y,ve,q.capture)};var f=function(ce){ce.preventDefault(),ce.stopPropagation(),a.window.removeEventListener("click",f,!0)};T.suppressClick=function(){a.window.addEventListener("click",f,!0),a.window.setTimeout(function(){a.window.removeEventListener("click",f,!0)},0)},T.mousePos=function(ce,Y){var ve=ce.getBoundingClientRect();return new a.Point(Y.clientX-ve.left-ce.clientLeft,Y.clientY-ve.top-ce.clientTop)},T.touchPos=function(ce,Y){for(var ve=ce.getBoundingClientRect(),q=[],de=0;de<Y.length;de++)q.push(new a.Point(Y[de].clientX-ve.left-ce.clientLeft,Y[de].clientY-ve.top-ce.clientTop));return q},T.mouseButton=function(ce){return typeof a.window.InstallTrigger<"u"&&ce.button===2&&ce.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:ce.button},T.remove=function(ce){ce.parentNode&&ce.parentNode.removeChild(ce)};function l(ce,Y,ve){var q,de,De,Ye=a.browser.devicePixelRatio>1?"@2x":"",ot=a.getJSON(Y.transformRequest(Y.normalizeSpriteURL(ce,Ye,".json"),a.ResourceType.SpriteJSON),function(qt,pr){ot=null,De||(De=qt,q=pr,Vt())}),wt=a.getImage(Y.transformRequest(Y.normalizeSpriteURL(ce,Ye,".png"),a.ResourceType.SpriteImage),function(qt,pr){wt=null,De||(De=qt,de=pr,Vt())});function Vt(){if(De)ve(De);else if(q&&de){var qt=a.browser.getImageData(de),pr={};for(var wr in q){var Vr=q[wr],$r=Vr.width,qr=Vr.height,Jr=Vr.x,sn=Vr.y,gn=Vr.sdf,On=Vr.pixelRatio,Zn=Vr.stretchX,ra=Vr.stretchY,ia=Vr.content,aa=new a.RGBAImage({width:$r,height:qr});a.RGBAImage.copy(qt,aa,{x:Jr,y:sn},{x:0,y:0},{width:$r,height:qr}),pr[wr]={data:aa,pixelRatio:On,sdf:gn,stretchX:Zn,stretchY:ra,content:ia}}ve(null,pr)}}return{cancel:function(){ot&&(ot.cancel(),ot=null),wt&&(wt.cancel(),wt=null)}}}function x(ce){var Y=ce.userImage;if(Y&&Y.render){var ve=Y.render();if(ve)return ce.data.replace(new Uint8Array(Y.data.buffer)),!0}return!1}var c=1,b=function(ce){function Y(){ce.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.isLoaded=function(){return this.loaded},Y.prototype.setLoaded=function(q){if(this.loaded!==q&&(this.loaded=q,q)){for(var de=0,De=this.requestors;de<De.length;de+=1){var Ye=De[de],ot=Ye.ids,wt=Ye.callback;this._notify(ot,wt)}this.requestors=[]}},Y.prototype.getImage=function(q){return this.images[q]},Y.prototype.addImage=function(q,de){this._validate(q,de)&&(this.images[q]=de)},Y.prototype._validate=function(q,de){var De=!0;return this._validateStretch(de.stretchX,de.data&&de.data.width)||(this.fire(new a.ErrorEvent(new Error('Image "'+q+'" has invalid "stretchX" value'))),De=!1),this._validateStretch(de.stretchY,de.data&&de.data.height)||(this.fire(new a.ErrorEvent(new Error('Image "'+q+'" has invalid "stretchY" value'))),De=!1),this._validateContent(de.content,de)||(this.fire(new a.ErrorEvent(new Error('Image "'+q+'" has invalid "content" value'))),De=!1),De},Y.prototype._validateStretch=function(q,de){if(!q)return!0;for(var De=0,Ye=0,ot=q;Ye<ot.length;Ye+=1){var wt=ot[Ye];if(wt[0]<De||wt[1]<wt[0]||de<wt[1])return!1;De=wt[1]}return!0},Y.prototype._validateContent=function(q,de){return q?!(q.length!==4||q[0]<0||de.data.width<q[0]||q[1]<0||de.data.height<q[1]||q[2]<0||de.data.width<q[2]||q[3]<0||de.data.height<q[3]||q[2]<q[0]||q[3]<q[1]):!0},Y.prototype.updateImage=function(q,de){var De=this.images[q];de.version=De.version+1,this.images[q]=de,this.updatedImages[q]=!0},Y.prototype.removeImage=function(q){var de=this.images[q];delete this.images[q],delete this.patterns[q],de.userImage&&de.userImage.onRemove&&de.userImage.onRemove()},Y.prototype.listImages=function(){return Object.keys(this.images)},Y.prototype.getImages=function(q,de){var De=!0;if(!this.isLoaded())for(var Ye=0,ot=q;Ye<ot.length;Ye+=1){var wt=ot[Ye];this.images[wt]||(De=!1)}this.isLoaded()||De?this._notify(q,de):this.requestors.push({ids:q,callback:de})},Y.prototype._notify=function(q,de){for(var De={},Ye=0,ot=q;Ye<ot.length;Ye+=1){var wt=ot[Ye];this.images[wt]||this.fire(new a.Event("styleimagemissing",{id:wt}));var Vt=this.images[wt];Vt?De[wt]={data:Vt.data.clone(),pixelRatio:Vt.pixelRatio,sdf:Vt.sdf,version:Vt.version,stretchX:Vt.stretchX,stretchY:Vt.stretchY,content:Vt.content,hasRenderCallback:!!(Vt.userImage&&Vt.userImage.render)}:a.warnOnce('Image "'+wt+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}de(null,De)},Y.prototype.getPixelSize=function(){var q=this.atlasImage,de=q.width,De=q.height;return{width:de,height:De}},Y.prototype.getPattern=function(q){var de=this.patterns[q],De=this.getImage(q);if(!De)return null;if(de&&de.position.version===De.version)return de.position;if(de)de.position.version=De.version;else{var Ye=De.data.width+c*2,ot=De.data.height+c*2,wt={w:Ye,h:ot,x:0,y:0},Vt=new a.ImagePosition(wt,De);this.patterns[q]={bin:wt,position:Vt}}return this._updatePatternAtlas(),this.patterns[q].position},Y.prototype.bind=function(q){var de=q.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(q,this.atlasImage,de.RGBA),this.atlasTexture.bind(de.LINEAR,de.CLAMP_TO_EDGE)},Y.prototype._updatePatternAtlas=function(){var q=[];for(var de in this.patterns)q.push(this.patterns[de].bin);var De=a.potpack(q),Ye=De.w,ot=De.h,wt=this.atlasImage;wt.resize({width:Ye||1,height:ot||1});for(var Vt in this.patterns){var qt=this.patterns[Vt],pr=qt.bin,wr=pr.x+c,Vr=pr.y+c,$r=this.images[Vt].data,qr=$r.width,Jr=$r.height;a.RGBAImage.copy($r,wt,{x:0,y:0},{x:wr,y:Vr},{width:qr,height:Jr}),a.RGBAImage.copy($r,wt,{x:0,y:Jr-1},{x:wr,y:Vr-1},{width:qr,height:1}),a.RGBAImage.copy($r,wt,{x:0,y:0},{x:wr,y:Vr+Jr},{width:qr,height:1}),a.RGBAImage.copy($r,wt,{x:qr-1,y:0},{x:wr-1,y:Vr},{width:1,height:Jr}),a.RGBAImage.copy($r,wt,{x:0,y:0},{x:wr+qr,y:Vr},{width:1,height:Jr})}this.dirty=!0},Y.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},Y.prototype.dispatchRenderCallbacks=function(q){for(var de=0,De=q;de<De.length;de+=1){var Ye=De[de];if(!this.callbackDispatchedThisFrame[Ye]){this.callbackDispatchedThisFrame[Ye]=!0;var ot=this.images[Ye],wt=x(ot);wt&&this.updateImage(Ye,ot)}}},Y}(a.Evented);function h(ce,Y,ve,q,de){var De=Y*256,Ye=De+255,ot=q.transformRequest(q.normalizeGlyphsURL(ve).replace("{fontstack}",ce).replace("{range}",De+"-"+Ye),a.ResourceType.Glyphs);a.getArrayBuffer(ot,function(wt,Vt){if(wt)de(wt);else if(Vt){for(var qt={},pr=0,wr=a.parseGlyphPBF(Vt);pr<wr.length;pr+=1){var Vr=wr[pr];qt[Vr.id]=Vr}de(null,qt)}})}var o=A,p=A,S=1e20;function A(ce,Y,ve,q,de,De){this.fontSize=ce||24,this.buffer=Y===void 0?3:Y,this.cutoff=q||.25,this.fontFamily=de||"sans-serif",this.fontWeight=De||"normal",this.radius=ve||8;var Ye=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=Ye,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Ye*Ye),this.gridInner=new Float64Array(Ye*Ye),this.f=new Float64Array(Ye),this.d=new Float64Array(Ye),this.z=new Float64Array(Ye+1),this.v=new Int16Array(Ye),this.middle=Math.round(Ye/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}A.prototype.draw=function(ce){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(ce,this.buffer,this.middle);for(var Y=this.ctx.getImageData(0,0,this.size,this.size),ve=new Uint8ClampedArray(this.size*this.size),q=0;q<this.size*this.size;q++){var de=Y.data[q*4+3]/255;this.gridOuter[q]=de===1?0:de===0?S:Math.pow(Math.max(0,.5-de),2),this.gridInner[q]=de===1?S:de===0?0:Math.pow(Math.max(0,de-.5),2)}for(E(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),E(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),q=0;q<this.size*this.size;q++){var De=this.gridOuter[q]-this.gridInner[q];ve[q]=Math.max(0,Math.min(255,Math.round(255-255*(De/this.radius+this.cutoff))))}return ve};function E(ce,Y,ve,q,de,De,Ye){for(var ot=0;ot<Y;ot++){for(var wt=0;wt<ve;wt++)q[wt]=ce[wt*Y+ot];for(m(q,de,De,Ye,ve),wt=0;wt<ve;wt++)ce[wt*Y+ot]=de[wt]}for(wt=0;wt<ve;wt++){for(ot=0;ot<Y;ot++)q[ot]=ce[wt*Y+ot];for(m(q,de,De,Ye,Y),ot=0;ot<Y;ot++)ce[wt*Y+ot]=Math.sqrt(de[ot])}}function m(ce,Y,ve,q,de){ve[0]=0,q[0]=-S,q[1]=+S;for(var De=1,Ye=0;De<de;De++){for(var ot=(ce[De]+De*De-(ce[ve[Ye]]+ve[Ye]*ve[Ye]))/(2*De-2*ve[Ye]);ot<=q[Ye];)Ye--,ot=(ce[De]+De*De-(ce[ve[Ye]]+ve[Ye]*ve[Ye]))/(2*De-2*ve[Ye]);Ye++,ve[Ye]=De,q[Ye]=ot,q[Ye+1]=+S}for(De=0,Ye=0;De<de;De++){for(;q[Ye+1]<De;)Ye++;Y[De]=(De-ve[Ye])*(De-ve[Ye])+ce[ve[Ye]]}}o.default=p;var M=function(Y,ve){this.requestManager=Y,this.localIdeographFontFamily=ve,this.entries={}};M.prototype.setURL=function(Y){this.url=Y},M.prototype.getGlyphs=function(Y,ve){var q=this,de=[];for(var De in Y)for(var Ye=0,ot=Y[De];Ye<ot.length;Ye+=1){var wt=ot[Ye];de.push({stack:De,id:wt})}a.asyncAll(de,function(Vt,qt){var pr=Vt.stack,wr=Vt.id,Vr=q.entries[pr];Vr||(Vr=q.entries[pr]={glyphs:{},requests:{},ranges:{}});var $r=Vr.glyphs[wr];if($r!==void 0){qt(null,{stack:pr,id:wr,glyph:$r});return}if($r=q._tinySDF(Vr,pr,wr),$r){Vr.glyphs[wr]=$r,qt(null,{stack:pr,id:wr,glyph:$r});return}var qr=Math.floor(wr/256);if(qr*256>65535){qt(new Error("glyphs > 65535 not supported"));return}if(Vr.ranges[qr]){qt(null,{stack:pr,id:wr,glyph:$r});return}var Jr=Vr.requests[qr];Jr||(Jr=Vr.requests[qr]=[],M.loadGlyphRange(pr,qr,q.url,q.requestManager,function(sn,gn){if(gn){for(var On in gn)q._doesCharSupportLocalGlyph(+On)||(Vr.glyphs[+On]=gn[+On]);Vr.ranges[qr]=!0}for(var Zn=0,ra=Jr;Zn<ra.length;Zn+=1){var ia=ra[Zn];ia(sn,gn)}delete Vr.requests[qr]})),Jr.push(function(sn,gn){sn?qt(sn):gn&&qt(null,{stack:pr,id:wr,glyph:gn[wr]||null})})},function(Vt,qt){if(Vt)ve(Vt);else if(qt){for(var pr={},wr=0,Vr=qt;wr<Vr.length;wr+=1){var $r=Vr[wr],qr=$r.stack,Jr=$r.id,sn=$r.glyph;(pr[qr]||(pr[qr]={}))[Jr]=sn&&{id:sn.id,bitmap:sn.bitmap.clone(),metrics:sn.metrics}}ve(null,pr)}})},M.prototype._doesCharSupportLocalGlyph=function(Y){return!!this.localIdeographFontFamily&&(a.isChar["CJK Unified Ideographs"](Y)||a.isChar["Hangul Syllables"](Y)||a.isChar.Hiragana(Y)||a.isChar.Katakana(Y))},M.prototype._tinySDF=function(Y,ve,q){var de=this.localIdeographFontFamily;if(de&&this._doesCharSupportLocalGlyph(q)){var De=Y.tinySDF;if(!De){var Ye="400";/bold/i.test(ve)?Ye="900":/medium/i.test(ve)?Ye="500":/light/i.test(ve)&&(Ye="200"),De=Y.tinySDF=new M.TinySDF(24,3,8,.25,de,Ye)}return{id:q,bitmap:new a.AlphaImage({width:30,height:30},De.draw(String.fromCharCode(q))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},M.loadGlyphRange=h,M.TinySDF=o;var w=function(){this.specification=a.styleSpec.light.position};w.prototype.possiblyEvaluate=function(Y,ve){return a.sphericalToCartesian(Y.expression.evaluate(ve))},w.prototype.interpolate=function(Y,ve,q){return{x:a.number(Y.x,ve.x,q),y:a.number(Y.y,ve.y,q),z:a.number(Y.z,ve.z,q)}};var i=new a.Properties({anchor:new a.DataConstantProperty(a.styleSpec.light.anchor),position:new w,color:new a.DataConstantProperty(a.styleSpec.light.color),intensity:new a.DataConstantProperty(a.styleSpec.light.intensity)}),C="-transition",y=function(ce){function Y(ve){ce.call(this),this._transitionable=new a.Transitionable(i),this.setLight(ve),this._transitioning=this._transitionable.untransitioned()}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getLight=function(){return this._transitionable.serialize()},Y.prototype.setLight=function(q,de){if(de===void 0&&(de={}),!this._validate(a.validateLight,q,de))for(var De in q){var Ye=q[De];a.endsWith(De,C)?this._transitionable.setTransition(De.slice(0,-C.length),Ye):this._transitionable.setValue(De,Ye)}},Y.prototype.updateTransitions=function(q){this._transitioning=this._transitionable.transitioned(q,this._transitioning)},Y.prototype.hasTransition=function(){return this._transitioning.hasTransition()},Y.prototype.recalculate=function(q){this.properties=this._transitioning.possiblyEvaluate(q)},Y.prototype._validate=function(q,de,De){return De&&De.validate===!1?!1:a.emitValidationErrors(this,q.call(a.validateStyle,a.extend({value:de,style:{glyphs:!0,sprite:!0},styleSpec:a.styleSpec})))},Y}(a.Evented),_=function(Y,ve){this.width=Y,this.height=ve,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};_.prototype.getDash=function(Y,ve){var q=Y.join(",")+String(ve);return this.dashEntry[q]||(this.dashEntry[q]=this.addDash(Y,ve)),this.dashEntry[q]},_.prototype.getDashRanges=function(Y,ve,q){var de=Y.length%2===1,De=[],Ye=de?-Y[Y.length-1]*q:0,ot=Y[0]*q,wt=!0;De.push({left:Ye,right:ot,isDash:wt,zeroLength:Y[0]===0});for(var Vt=Y[0],qt=1;qt<Y.length;qt++){wt=!wt;var pr=Y[qt];Ye=Vt*q,Vt+=pr,ot=Vt*q,De.push({left:Ye,right:ot,isDash:wt,zeroLength:pr===0})}return De},_.prototype.addRoundDash=function(Y,ve,q){for(var de=ve/2,De=-q;De<=q;De++)for(var Ye=this.nextRow+q+De,ot=this.width*Ye,wt=0,Vt=Y[wt],qt=0;qt<this.width;qt++){qt/Vt.right>1&&(Vt=Y[++wt]);var pr=Math.abs(qt-Vt.left),wr=Math.abs(qt-Vt.right),Vr=Math.min(pr,wr),$r=void 0,qr=De/q*(de+1);if(Vt.isDash){var Jr=de-Math.abs(qr);$r=Math.sqrt(Vr*Vr+Jr*Jr)}else $r=de-Math.sqrt(Vr*Vr+qr*qr);this.data[ot+qt]=Math.max(0,Math.min(255,$r+128))}},_.prototype.addRegularDash=function(Y){for(var ve=Y.length-1;ve>=0;--ve){var q=Y[ve],de=Y[ve+1];q.zeroLength?Y.splice(ve,1):de&&de.isDash===q.isDash&&(de.left=q.left,Y.splice(ve,1))}var De=Y[0],Ye=Y[Y.length-1];De.isDash===Ye.isDash&&(De.left=Ye.left-this.width,Ye.right=De.right+this.width);for(var ot=this.width*this.nextRow,wt=0,Vt=Y[wt],qt=0;qt<this.width;qt++){qt/Vt.right>1&&(Vt=Y[++wt]);var pr=Math.abs(qt-Vt.left),wr=Math.abs(qt-Vt.right),Vr=Math.min(pr,wr),$r=Vt.isDash?Vr:-Vr;this.data[ot+qt]=Math.max(0,Math.min(255,$r+128))}},_.prototype.addDash=function(Y,ve){var q=ve?7:0,de=2*q+1;if(this.nextRow+de>this.height)return a.warnOnce("LineAtlas out of space"),null;for(var De=0,Ye=0;Ye<Y.length;Ye++)De+=Y[Ye];if(De!==0){var ot=this.width/De,wt=this.getDashRanges(Y,this.width,ot);ve?this.addRoundDash(wt,ot,q):this.addRegularDash(wt)}var Vt={y:(this.nextRow+q+.5)/this.height,height:2*q/this.height,width:De};return this.nextRow+=de,this.dirty=!0,Vt},_.prototype.bind=function(Y){var ve=Y.gl;this.texture?(ve.bindTexture(ve.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,ve.texSubImage2D(ve.TEXTURE_2D,0,0,0,this.width,this.height,ve.ALPHA,ve.UNSIGNED_BYTE,this.data))):(this.texture=ve.createTexture(),ve.bindTexture(ve.TEXTURE_2D,this.texture),ve.texParameteri(ve.TEXTURE_2D,ve.TEXTURE_WRAP_S,ve.REPEAT),ve.texParameteri(ve.TEXTURE_2D,ve.TEXTURE_WRAP_T,ve.REPEAT),ve.texParameteri(ve.TEXTURE_2D,ve.TEXTURE_MIN_FILTER,ve.LINEAR),ve.texParameteri(ve.TEXTURE_2D,ve.TEXTURE_MAG_FILTER,ve.LINEAR),ve.texImage2D(ve.TEXTURE_2D,0,ve.ALPHA,this.width,this.height,0,ve.ALPHA,ve.UNSIGNED_BYTE,this.data))};var I=function ce(Y,ve){this.workerPool=Y,this.actors=[],this.currentActor=0,this.id=a.uniqueId();for(var q=this.workerPool.acquire(this.id),de=0;de<q.length;de++){var De=q[de],Ye=new ce.Actor(De,ve,this.id);Ye.name="Worker "+de,this.actors.push(Ye)}};I.prototype.broadcast=function(Y,ve,q){q=q||function(){},a.asyncAll(this.actors,function(de,De){de.send(Y,ve,De)},q)},I.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},I.prototype.remove=function(){this.actors.forEach(function(Y){Y.remove()}),this.actors=[],this.workerPool.release(this.id)},I.Actor=a.Actor;function N(ce,Y,ve){var q=function(de,De){if(de)return ve(de);if(De){var Ye=a.pick(a.extend(De,ce),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);De.vector_layers&&(Ye.vectorLayers=De.vector_layers,Ye.vectorLayerIds=Ye.vectorLayers.map(function(ot){return ot.id})),Ye.tiles=Y.canonicalizeTileset(Ye,ce.url),ve(null,Ye)}};return ce.url?a.getJSON(Y.transformRequest(Y.normalizeSourceURL(ce.url),a.ResourceType.Source),q):a.browser.frame(function(){return q(null,ce)})}var k=function(Y,ve,q){this.bounds=a.LngLatBounds.convert(this.validateBounds(Y)),this.minzoom=ve||0,this.maxzoom=q||24};k.prototype.validateBounds=function(Y){return!Array.isArray(Y)||Y.length!==4?[-180,-90,180,90]:[Math.max(-180,Y[0]),Math.max(-90,Y[1]),Math.min(180,Y[2]),Math.min(90,Y[3])]},k.prototype.contains=function(Y){var ve=Math.pow(2,Y.z),q={minX:Math.floor(a.mercatorXfromLng(this.bounds.getWest())*ve),minY:Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*ve),maxX:Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*ve),maxY:Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*ve)},de=Y.x>=q.minX&&Y.x<q.maxX&&Y.y>=q.minY&&Y.y<q.maxY;return de};var O=function(ce){function Y(ve,q,de,De){if(ce.call(this),this.id=ve,this.dispatcher=de,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(q,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},q),this._collectResourceTiming=q.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(De)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.load=function(){var q=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=N(this._options,this.map._requestManager,function(de,De){q._tileJSONRequest=null,q._loaded=!0,de?q.fire(new a.ErrorEvent(de)):De&&(a.extend(q,De),De.bounds&&(q.tileBounds=new k(De.bounds,q.minzoom,q.maxzoom)),a.postTurnstileEvent(De.tiles,q.map._requestManager._customAccessToken),a.postMapLoadEvent(De.tiles,q.map._getMapId(),q.map._requestManager._skuToken,q.map._requestManager._customAccessToken),q.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),q.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},Y.prototype.loaded=function(){return this._loaded},Y.prototype.hasTile=function(q){return!this.tileBounds||this.tileBounds.contains(q.canonical)},Y.prototype.onAdd=function(q){this.map=q,this.load()},Y.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Y.prototype.serialize=function(){return a.extend({},this._options)},Y.prototype.loadTile=function(q,de){var De=this.map._requestManager.normalizeTileURL(q.tileID.canonical.url(this.tiles,this.scheme)),Ye={request:this.map._requestManager.transformRequest(De,a.ResourceType.Tile),uid:q.uid,tileID:q.tileID,zoom:q.tileID.overscaledZ,tileSize:this.tileSize*q.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};Ye.request.collectResourceTiming=this._collectResourceTiming,!q.actor||q.state==="expired"?(q.actor=this.dispatcher.getActor(),q.request=q.actor.send("loadTile",Ye,ot.bind(this))):q.state==="loading"?q.reloadCallback=de:q.request=q.actor.send("reloadTile",Ye,ot.bind(this));function ot(wt,Vt){if(delete q.request,q.aborted)return de(null);if(wt&&wt.status!==404)return de(wt);Vt&&Vt.resourceTiming&&(q.resourceTiming=Vt.resourceTiming),this.map._refreshExpiredTiles&&Vt&&q.setExpiryData(Vt),q.loadVectorData(Vt,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),de(null),q.reloadCallback&&(this.loadTile(q,q.reloadCallback),q.reloadCallback=null)}},Y.prototype.abortTile=function(q){q.request&&(q.request.cancel(),delete q.request),q.actor&&q.actor.send("abortTile",{uid:q.uid,type:this.type,source:this.id},void 0)},Y.prototype.unloadTile=function(q){q.unloadVectorData(),q.actor&&q.actor.send("removeTile",{uid:q.uid,type:this.type,source:this.id},void 0)},Y.prototype.hasTransition=function(){return!1},Y}(a.Evented),z=function(ce){function Y(ve,q,de,De){ce.call(this),this.id=ve,this.dispatcher=de,this.setEventedParent(De),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},q),a.extend(this,a.pick(q,["url","scheme","tileSize"]))}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.load=function(){var q=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=N(this._options,this.map._requestManager,function(de,De){q._tileJSONRequest=null,q._loaded=!0,de?q.fire(new a.ErrorEvent(de)):De&&(a.extend(q,De),De.bounds&&(q.tileBounds=new k(De.bounds,q.minzoom,q.maxzoom)),a.postTurnstileEvent(De.tiles),a.postMapLoadEvent(De.tiles,q.map._getMapId(),q.map._requestManager._skuToken),q.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),q.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},Y.prototype.loaded=function(){return this._loaded},Y.prototype.onAdd=function(q){this.map=q,this.load()},Y.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Y.prototype.serialize=function(){return a.extend({},this._options)},Y.prototype.hasTile=function(q){return!this.tileBounds||this.tileBounds.contains(q.canonical)},Y.prototype.loadTile=function(q,de){var De=this,Ye=this.map._requestManager.normalizeTileURL(q.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);q.request=a.getImage(this.map._requestManager.transformRequest(Ye,a.ResourceType.Tile),function(ot,wt){if(delete q.request,q.aborted)q.state="unloaded",de(null);else if(ot)q.state="errored",de(ot);else if(wt){De.map._refreshExpiredTiles&&q.setExpiryData(wt),delete wt.cacheControl,delete wt.expires;var Vt=De.map.painter.context,qt=Vt.gl;q.texture=De.map.painter.getTileTexture(wt.width),q.texture?q.texture.update(wt,{useMipmap:!0}):(q.texture=new a.Texture(Vt,wt,qt.RGBA,{useMipmap:!0}),q.texture.bind(qt.LINEAR,qt.CLAMP_TO_EDGE,qt.LINEAR_MIPMAP_NEAREST),Vt.extTextureFilterAnisotropic&&qt.texParameterf(qt.TEXTURE_2D,Vt.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Vt.extTextureFilterAnisotropicMax)),q.state="loaded",a.cacheEntryPossiblyAdded(De.dispatcher),de(null)}})},Y.prototype.abortTile=function(q,de){q.request&&(q.request.cancel(),delete q.request),de()},Y.prototype.unloadTile=function(q,de){q.texture&&this.map.painter.saveTileTexture(q.texture),de()},Y.prototype.hasTransition=function(){return!1},Y}(a.Evented),F=function(ce){function Y(ve,q,de,De){ce.call(this,ve,q,de,De),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},q),this.encoding=q.encoding||"mapbox"}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},Y.prototype.loadTile=function(q,de){var De=this.map._requestManager.normalizeTileURL(q.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);q.request=a.getImage(this.map._requestManager.transformRequest(De,a.ResourceType.Tile),Ye.bind(this)),q.neighboringTiles=this._getNeighboringTiles(q.tileID);function Ye(wt,Vt){if(delete q.request,q.aborted)q.state="unloaded",de(null);else if(wt)q.state="errored",de(wt);else if(Vt){this.map._refreshExpiredTiles&&q.setExpiryData(Vt),delete Vt.cacheControl,delete Vt.expires;var qt=a.window.ImageBitmap&&Vt instanceof a.window.ImageBitmap&&a.offscreenCanvasSupported(),pr=qt?Vt:a.browser.getImageData(Vt,1),wr={uid:q.uid,coord:q.tileID,source:this.id,rawImageData:pr,encoding:this.encoding};(!q.actor||q.state==="expired")&&(q.actor=this.dispatcher.getActor(),q.actor.send("loadDEMTile",wr,ot.bind(this)))}}function ot(wt,Vt){wt&&(q.state="errored",de(wt)),Vt&&(q.dem=Vt,q.needsHillshadePrepare=!0,q.state="loaded",de(null))}},Y.prototype._getNeighboringTiles=function(q){var de=q.canonical,De=Math.pow(2,de.z),Ye=(de.x-1+De)%De,ot=de.x===0?q.wrap-1:q.wrap,wt=(de.x+1+De)%De,Vt=de.x+1===De?q.wrap+1:q.wrap,qt={};return qt[new a.OverscaledTileID(q.overscaledZ,ot,de.z,Ye,de.y).key]={backfilled:!1},qt[new a.OverscaledTileID(q.overscaledZ,Vt,de.z,wt,de.y).key]={backfilled:!1},de.y>0&&(qt[new a.OverscaledTileID(q.overscaledZ,ot,de.z,Ye,de.y-1).key]={backfilled:!1},qt[new a.OverscaledTileID(q.overscaledZ,q.wrap,de.z,de.x,de.y-1).key]={backfilled:!1},qt[new a.OverscaledTileID(q.overscaledZ,Vt,de.z,wt,de.y-1).key]={backfilled:!1}),de.y+1<De&&(qt[new a.OverscaledTileID(q.overscaledZ,ot,de.z,Ye,de.y+1).key]={backfilled:!1},qt[new a.OverscaledTileID(q.overscaledZ,q.wrap,de.z,de.x,de.y+1).key]={backfilled:!1},qt[new a.OverscaledTileID(q.overscaledZ,Vt,de.z,wt,de.y+1).key]={backfilled:!1}),qt},Y.prototype.unloadTile=function(q){q.demTexture&&this.map.painter.saveTileTexture(q.demTexture),q.fbo&&(q.fbo.destroy(),delete q.fbo),q.dem&&delete q.dem,delete q.neighboringTiles,q.state="unloaded",q.actor&&q.actor.send("removeDEMTile",{uid:q.uid,source:this.id})},Y}(z),B=function(ce){function Y(ve,q,de,De){ce.call(this),this.id=ve,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=de.getActor(),this.setEventedParent(De),this._data=q.data,this._options=a.extend({},q),this._collectResourceTiming=q.collectResourceTiming,this._resourceTiming=[],q.maxzoom!==void 0&&(this.maxzoom=q.maxzoom),q.type&&(this.type=q.type),q.attribution&&(this.attribution=q.attribution),this.promoteId=q.promoteId;var Ye=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:q.cluster||!1,geojsonVtOptions:{buffer:(q.buffer!==void 0?q.buffer:128)*Ye,tolerance:(q.tolerance!==void 0?q.tolerance:.375)*Ye,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:q.lineMetrics||!1,generateId:q.generateId||!1},superclusterOptions:{maxZoom:q.clusterMaxZoom!==void 0?Math.min(q.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:a.EXTENT,radius:(q.clusterRadius||50)*Ye,log:!1,generateId:q.generateId||!1},clusterProperties:q.clusterProperties},q.workerOptions)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.load=function(){var q=this;this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(de){if(de){q.fire(new a.ErrorEvent(de));return}var De={dataType:"source",sourceDataType:"metadata"};q._collectResourceTiming&&q._resourceTiming&&q._resourceTiming.length>0&&(De.resourceTiming=q._resourceTiming,q._resourceTiming=[]),q.fire(new a.Event("data",De))})},Y.prototype.onAdd=function(q){this.map=q,this.load()},Y.prototype.setData=function(q){var de=this;return this._data=q,this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(De){if(De){de.fire(new a.ErrorEvent(De));return}var Ye={dataType:"source",sourceDataType:"content"};de._collectResourceTiming&&de._resourceTiming&&de._resourceTiming.length>0&&(Ye.resourceTiming=de._resourceTiming,de._resourceTiming=[]),de.fire(new a.Event("data",Ye))}),this},Y.prototype.getClusterExpansionZoom=function(q,de){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:q,source:this.id},de),this},Y.prototype.getClusterChildren=function(q,de){return this.actor.send("geojson.getClusterChildren",{clusterId:q,source:this.id},de),this},Y.prototype.getClusterLeaves=function(q,de,De,Ye){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:q,limit:de,offset:De},Ye),this},Y.prototype._updateWorkerData=function(q){var de=this;this._loaded=!1;var De=a.extend({},this.workerOptions),Ye=this._data;typeof Ye=="string"?(De.request=this.map._requestManager.transformRequest(a.browser.resolveURL(Ye),a.ResourceType.Source),De.request.collectResourceTiming=this._collectResourceTiming):De.data=JSON.stringify(Ye),this.actor.send(this.type+".loadData",De,function(ot,wt){de._removed||wt&&wt.abandoned||(de._loaded=!0,wt&&wt.resourceTiming&&wt.resourceTiming[de.id]&&(de._resourceTiming=wt.resourceTiming[de.id].slice(0)),de.actor.send(de.type+".coalesce",{source:De.source},null),q(ot))})},Y.prototype.loaded=function(){return this._loaded},Y.prototype.loadTile=function(q,de){var De=this,Ye=q.actor?"reloadTile":"loadTile";q.actor=this.actor;var ot={type:this.type,uid:q.uid,tileID:q.tileID,zoom:q.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};q.request=this.actor.send(Ye,ot,function(wt,Vt){return delete q.request,q.unloadVectorData(),q.aborted?de(null):wt?de(wt):(q.loadVectorData(Vt,De.map.painter,Ye==="reloadTile"),de(null))})},Y.prototype.abortTile=function(q){q.request&&(q.request.cancel(),delete q.request),q.aborted=!0},Y.prototype.unloadTile=function(q){q.unloadVectorData(),this.actor.send("removeTile",{uid:q.uid,type:this.type,source:this.id})},Y.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},Y.prototype.serialize=function(){return a.extend({},this._options,{type:this.type,data:this._data})},Y.prototype.hasTransition=function(){return!1},Y}(a.Evented),G=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),Q=function(ce){function Y(ve,q,de,De){ce.call(this),this.id=ve,this.dispatcher=de,this.coordinates=q.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(De),this.options=q}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.load=function(q,de){var De=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),function(Ye,ot){De._loaded=!0,Ye?De.fire(new a.ErrorEvent(Ye)):ot&&(De.image=ot,q&&(De.coordinates=q),de&&de(),De._finishLoading())})},Y.prototype.loaded=function(){return this._loaded},Y.prototype.updateImage=function(q){var de=this;return!this.image||!q.url?this:(this.options.url=q.url,this.load(q.coordinates,function(){de.texture=null}),this)},Y.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))},Y.prototype.onAdd=function(q){this.map=q,this.load()},Y.prototype.setCoordinates=function(q){var de=this;this.coordinates=q;var De=q.map(a.MercatorCoordinate.fromLngLat);this.tileID=ee(De),this.minzoom=this.maxzoom=this.tileID.z;var Ye=De.map(function(ot){return de.tileID.getTilePoint(ot)._round()});return this._boundsArray=new a.StructArrayLayout4i8,this._boundsArray.emplaceBack(Ye[0].x,Ye[0].y,0,0),this._boundsArray.emplaceBack(Ye[1].x,Ye[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(Ye[3].x,Ye[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(Ye[2].x,Ye[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this},Y.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var q=this.map.painter.context,de=q.gl;this.boundsBuffer||(this.boundsBuffer=q.createVertexBuffer(this._boundsArray,G.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new a.Texture(q,this.image,de.RGBA),this.texture.bind(de.LINEAR,de.CLAMP_TO_EDGE));for(var De in this.tiles){var Ye=this.tiles[De];Ye.state!=="loaded"&&(Ye.state="loaded",Ye.texture=this.texture)}}},Y.prototype.loadTile=function(q,de){this.tileID&&this.tileID.equals(q.tileID.canonical)?(this.tiles[String(q.tileID.wrap)]=q,q.buckets={},de(null)):(q.state="errored",de(null))},Y.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},Y.prototype.hasTransition=function(){return!1},Y}(a.Evented);function ee(ce){for(var Y=1/0,ve=1/0,q=-1/0,de=-1/0,De=0,Ye=ce;De<Ye.length;De+=1){var ot=Ye[De];Y=Math.min(Y,ot.x),ve=Math.min(ve,ot.y),q=Math.max(q,ot.x),de=Math.max(de,ot.y)}var wt=q-Y,Vt=de-ve,qt=Math.max(wt,Vt),pr=Math.max(0,Math.floor(-Math.log(qt)/Math.LN2)),wr=Math.pow(2,pr);return new a.CanonicalTileID(pr,Math.floor((Y+q)/2*wr),Math.floor((ve+de)/2*wr))}var ae=function(ce){function Y(ve,q,de,De){ce.call(this,ve,q,de,De),this.roundZoom=!0,this.type="video",this.options=q}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.load=function(){var q=this;this._loaded=!1;var de=this.options;this.urls=[];for(var De=0,Ye=de.urls;De<Ye.length;De+=1){var ot=Ye[De];this.urls.push(this.map._requestManager.transformRequest(ot,a.ResourceType.Source).url)}a.getVideo(this.urls,function(wt,Vt){q._loaded=!0,wt?q.fire(new a.ErrorEvent(wt)):Vt&&(q.video=Vt,q.video.loop=!0,q.video.addEventListener("playing",function(){q.map.triggerRepaint()}),q.map&&q.video.play(),q._finishLoading())})},Y.prototype.pause=function(){this.video&&this.video.pause()},Y.prototype.play=function(){this.video&&this.video.play()},Y.prototype.seek=function(q){if(this.video){var de=this.video.seekable;q<de.start(0)||q>de.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+de.start(0)+" and "+de.end(0)+"-second mark."))):this.video.currentTime=q}},Y.prototype.getVideo=function(){return this.video},Y.prototype.onAdd=function(q){this.map||(this.map=q,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},Y.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var q=this.map.painter.context,de=q.gl;this.boundsBuffer||(this.boundsBuffer=q.createVertexBuffer(this._boundsArray,G.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(de.LINEAR,de.CLAMP_TO_EDGE),de.texSubImage2D(de.TEXTURE_2D,0,0,0,de.RGBA,de.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(q,this.video,de.RGBA),this.texture.bind(de.LINEAR,de.CLAMP_TO_EDGE));for(var De in this.tiles){var Ye=this.tiles[De];Ye.state!=="loaded"&&(Ye.state="loaded",Ye.texture=this.texture)}}},Y.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},Y.prototype.hasTransition=function(){return this.video&&!this.video.paused},Y}(Q),fe=function(ce){function Y(ve,q,de,De){ce.call(this,ve,q,de,De),q.coordinates?(!Array.isArray(q.coordinates)||q.coordinates.length!==4||q.coordinates.some(function(Ye){return!Array.isArray(Ye)||Ye.length!==2||Ye.some(function(ot){return typeof ot!="number"})}))&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+ve,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+ve,null,'missing required property "coordinates"'))),q.animate&&typeof q.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+ve,null,'optional "animate" property must be a boolean value'))),q.canvas?typeof q.canvas!="string"&&!(q.canvas instanceof a.window.HTMLCanvasElement)&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+ve,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+ve,null,'missing required property "canvas"'))),this.options=q,this.animate=q.animate!==void 0?q.animate:!0}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},Y.prototype.getCanvas=function(){return this.canvas},Y.prototype.onAdd=function(q){this.map=q,this.load(),this.canvas&&this.animate&&this.play()},Y.prototype.onRemove=function(){this.pause()},Y.prototype.prepare=function(){var q=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,q=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,q=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var de=this.map.painter.context,De=de.gl;this.boundsBuffer||(this.boundsBuffer=de.createVertexBuffer(this._boundsArray,G.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(q||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(de,this.canvas,De.RGBA,{premultiply:!0});for(var Ye in this.tiles){var ot=this.tiles[Ye];ot.state!=="loaded"&&(ot.state="loaded",ot.texture=this.texture)}}},Y.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},Y.prototype.hasTransition=function(){return this._playing},Y.prototype._hasInvalidDimensions=function(){for(var q=0,de=[this.canvas.width,this.canvas.height];q<de.length;q+=1){var De=de[q];if(isNaN(De)||De<=0)return!0}return!1},Y}(Q),K={vector:O,raster:z,"raster-dem":F,geojson:B,video:ae,image:Q,canvas:fe},W=function(ce,Y,ve,q){var de=new K[Y.type](ce,Y,ve,q);if(de.id!==ce)throw new Error("Expected Source id to be "+ce+" instead of "+de.id);return a.bindAll(["load","abort","unload","serialize","prepare"],de),de},Z=function(ce){return K[ce]},X=function(ce,Y){K[ce]=Y};function $(ce,Y){var ve=a.identity([]);return a.translate(ve,ve,[1,1,0]),a.scale(ve,ve,[ce.width*.5,ce.height*.5,1]),a.multiply(ve,ve,ce.calculatePosMatrix(Y.toUnwrapped()))}function ie(ce,Y,ve){if(ce)for(var q=0,de=ce;q<de.length;q+=1){var De=de[q],Ye=Y[De];if(Ye&&Ye.source===ve&&Ye.type==="fill-extrusion")return!0}else for(var ot in Y){var wt=Y[ot];if(wt.source===ve&&wt.type==="fill-extrusion")return!0}return!1}function J(ce,Y,ve,q,de,De){var Ye=ie(de&&de.layers,Y,ce.id),ot=De.maxPitchScaleFactor(),wt=ce.tilesIn(q,ot,Ye);wt.sort(ne);for(var Vt=[],qt=0,pr=wt;qt<pr.length;qt+=1){var wr=pr[qt];Vt.push({wrappedTileID:wr.tileID.wrapped().key,queryResults:wr.tile.queryRenderedFeatures(Y,ve,ce._state,wr.queryGeometry,wr.cameraQueryGeometry,wr.scale,de,De,ot,$(ce.transform,wr.tileID))})}var Vr=ue(Vt);for(var $r in Vr)Vr[$r].forEach(function(qr){var Jr=qr.feature,sn=ce.getFeatureState(Jr.layer["source-layer"],Jr.id);Jr.source=Jr.layer.source,Jr.layer["source-layer"]&&(Jr.sourceLayer=Jr.layer["source-layer"]),Jr.state=sn});return Vr}function j(ce,Y,ve,q,de,De,Ye){for(var ot={},wt=De.queryRenderedSymbols(q),Vt=[],qt=0,pr=Object.keys(wt).map(Number);qt<pr.length;qt+=1){var wr=pr[qt];Vt.push(Ye[wr])}Vt.sort(ne);for(var Vr=function(){var gn=qr[$r],On=gn.featureIndex.lookupSymbolFeatures(wt[gn.bucketInstanceId],Y,gn.bucketIndex,gn.sourceLayerIndex,de.filter,de.layers,de.availableImages,ce);for(var Zn in On){var ra=ot[Zn]=ot[Zn]||[],ia=On[Zn];ia.sort(function(Ma,Ra){var ka=gn.featureSortOrder;if(ka){var Ga=ka.indexOf(Ma.featureIndex),Ja=ka.indexOf(Ra.featureIndex);return Ja-Ga}else return Ra.featureIndex-Ma.featureIndex});for(var aa=0,ga=ia;aa<ga.length;aa+=1){var Ea=ga[aa];ra.push(Ea)}}},$r=0,qr=Vt;$r<qr.length;$r+=1)Vr();var Jr=function(gn){ot[gn].forEach(function(On){var Zn=On.feature,ra=ce[gn],ia=ve[ra.source],aa=ia.getFeatureState(Zn.layer["source-layer"],Zn.id);Zn.source=Zn.layer.source,Zn.layer["source-layer"]&&(Zn.sourceLayer=Zn.layer["source-layer"]),Zn.state=aa})};for(var sn in ot)Jr(sn);return ot}function se(ce,Y){for(var ve=ce.getRenderableIds().map(function(wt){return ce.getTileByID(wt)}),q=[],de={},De=0;De<ve.length;De++){var Ye=ve[De],ot=Ye.tileID.canonical.key;de[ot]||(de[ot]=!0,Ye.querySourceFeatures(q,Y))}return q}function ne(ce,Y){var ve=ce.tileID,q=Y.tileID;return ve.overscaledZ-q.overscaledZ||ve.canonical.y-q.canonical.y||ve.wrap-q.wrap||ve.canonical.x-q.canonical.x}function ue(ce){for(var Y={},ve={},q=0,de=ce;q<de.length;q+=1){var De=de[q],Ye=De.queryResults,ot=De.wrappedTileID,wt=ve[ot]=ve[ot]||{};for(var Vt in Ye)for(var qt=Ye[Vt],pr=wt[Vt]=wt[Vt]||{},wr=Y[Vt]=Y[Vt]||[],Vr=0,$r=qt;Vr<$r.length;Vr+=1){var qr=$r[Vr];pr[qr.featureIndex]||(pr[qr.featureIndex]=!0,wr.push(qr))}}return Y}var ge=function(Y,ve){this.max=Y,this.onRemove=ve,this.reset()};ge.prototype.reset=function(){for(var Y in this.data)for(var ve=0,q=this.data[Y];ve<q.length;ve+=1){var de=q[ve];de.timeout&&clearTimeout(de.timeout),this.onRemove(de.value)}return this.data={},this.order=[],this},ge.prototype.add=function(Y,ve,q){var de=this,De=Y.wrapped().key;this.data[De]===void 0&&(this.data[De]=[]);var Ye={value:ve,timeout:void 0};if(q!==void 0&&(Ye.timeout=setTimeout(function(){de.remove(Y,Ye)},q)),this.data[De].push(Ye),this.order.push(De),this.order.length>this.max){var ot=this._getAndRemoveByKey(this.order[0]);ot&&this.onRemove(ot)}return this},ge.prototype.has=function(Y){return Y.wrapped().key in this.data},ge.prototype.getAndRemove=function(Y){return this.has(Y)?this._getAndRemoveByKey(Y.wrapped().key):null},ge.prototype._getAndRemoveByKey=function(Y){var ve=this.data[Y].shift();return ve.timeout&&clearTimeout(ve.timeout),this.data[Y].length===0&&delete this.data[Y],this.order.splice(this.order.indexOf(Y),1),ve.value},ge.prototype.getByKey=function(Y){var ve=this.data[Y];return ve?ve[0].value:null},ge.prototype.get=function(Y){if(!this.has(Y))return null;var ve=this.data[Y.wrapped().key][0];return ve.value},ge.prototype.remove=function(Y,ve){if(!this.has(Y))return this;var q=Y.wrapped().key,de=ve===void 0?0:this.data[q].indexOf(ve),De=this.data[q][de];return this.data[q].splice(de,1),De.timeout&&clearTimeout(De.timeout),this.data[q].length===0&&delete this.data[q],this.onRemove(De.value),this.order.splice(this.order.indexOf(q),1),this},ge.prototype.setMaxSize=function(Y){for(this.max=Y;this.order.length>this.max;){var ve=this._getAndRemoveByKey(this.order[0]);ve&&this.onRemove(ve)}return this},ge.prototype.filter=function(Y){var ve=[];for(var q in this.data)for(var de=0,De=this.data[q];de<De.length;de+=1){var Ye=De[de];Y(Ye.value)||ve.push(Ye)}for(var ot=0,wt=ve;ot<wt.length;ot+=1){var Vt=wt[ot];this.remove(Vt.value.tileID,Vt)}};var we=function(Y,ve,q){this.context=Y;var de=Y.gl;this.buffer=de.createBuffer(),this.dynamicDraw=!!q,this.context.unbindVAO(),Y.bindElementBuffer.set(this.buffer),de.bufferData(de.ELEMENT_ARRAY_BUFFER,ve.arrayBuffer,this.dynamicDraw?de.DYNAMIC_DRAW:de.STATIC_DRAW),this.dynamicDraw||delete ve.arrayBuffer};we.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},we.prototype.updateData=function(Y){var ve=this.context.gl;this.context.unbindVAO(),this.bind(),ve.bufferSubData(ve.ELEMENT_ARRAY_BUFFER,0,Y.arrayBuffer)},we.prototype.destroy=function(){var Y=this.context.gl;this.buffer&&(Y.deleteBuffer(this.buffer),delete this.buffer)};var xe={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Fe=function(Y,ve,q,de){this.length=ve.length,this.attributes=q,this.itemSize=ve.bytesPerElement,this.dynamicDraw=de,this.context=Y;var De=Y.gl;this.buffer=De.createBuffer(),Y.bindVertexBuffer.set(this.buffer),De.bufferData(De.ARRAY_BUFFER,ve.arrayBuffer,this.dynamicDraw?De.DYNAMIC_DRAW:De.STATIC_DRAW),this.dynamicDraw||delete ve.arrayBuffer};Fe.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Fe.prototype.updateData=function(Y){var ve=this.context.gl;this.bind(),ve.bufferSubData(ve.ARRAY_BUFFER,0,Y.arrayBuffer)},Fe.prototype.enableAttributes=function(Y,ve){for(var q=0;q<this.attributes.length;q++){var de=this.attributes[q],De=ve.attributes[de.name];De!==void 0&&Y.enableVertexAttribArray(De)}},Fe.prototype.setVertexAttribPointers=function(Y,ve,q){for(var de=0;de<this.attributes.length;de++){var De=this.attributes[de],Ye=ve.attributes[De.name];Ye!==void 0&&Y.vertexAttribPointer(Ye,De.components,Y[xe[De.type]],!1,this.itemSize,De.offset+this.itemSize*(q||0))}},Fe.prototype.destroy=function(){var Y=this.context.gl;this.buffer&&(Y.deleteBuffer(this.buffer),delete this.buffer)};var ze=function(Y){this.gl=Y.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};ze.prototype.get=function(){return this.current},ze.prototype.set=function(Y){},ze.prototype.getDefault=function(){return this.default},ze.prototype.setDefault=function(){this.set(this.default)};var Te=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return a.Color.transparent},Y.prototype.set=function(q){var de=this.current;q.r===de.r&&q.g===de.g&&q.b===de.b&&q.a===de.a&&!this.dirty||(this.gl.clearColor(q.r,q.g,q.b,q.a),this.current=q,this.dirty=!1)},Y}(ze),ye=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return 1},Y.prototype.set=function(q){q===this.current&&!this.dirty||(this.gl.clearDepth(q),this.current=q,this.dirty=!1)},Y}(ze),Ae=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return 0},Y.prototype.set=function(q){q===this.current&&!this.dirty||(this.gl.clearStencil(q),this.current=q,this.dirty=!1)},Y}(ze),Ne=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return[!0,!0,!0,!0]},Y.prototype.set=function(q){var de=this.current;q[0]===de[0]&&q[1]===de[1]&&q[2]===de[2]&&q[3]===de[3]&&!this.dirty||(this.gl.colorMask(q[0],q[1],q[2],q[3]),this.current=q,this.dirty=!1)},Y}(ze),Ue=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!0},Y.prototype.set=function(q){q===this.current&&!this.dirty||(this.gl.depthMask(q),this.current=q,this.dirty=!1)},Y}(ze),Re=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return 255},Y.prototype.set=function(q){q===this.current&&!this.dirty||(this.gl.stencilMask(q),this.current=q,this.dirty=!1)},Y}(ze),Ve=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},Y.prototype.set=function(q){var de=this.current;q.func===de.func&&q.ref===de.ref&&q.mask===de.mask&&!this.dirty||(this.gl.stencilFunc(q.func,q.ref,q.mask),this.current=q,this.dirty=!1)},Y}(ze),rt=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){var q=this.gl;return[q.KEEP,q.KEEP,q.KEEP]},Y.prototype.set=function(q){var de=this.current;q[0]===de[0]&&q[1]===de[1]&&q[2]===de[2]&&!this.dirty||(this.gl.stencilOp(q[0],q[1],q[2]),this.current=q,this.dirty=!1)},Y}(ze),Qe=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var de=this.gl;q?de.enable(de.STENCIL_TEST):de.disable(de.STENCIL_TEST),this.current=q,this.dirty=!1}},Y}(ze),Je=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return[0,1]},Y.prototype.set=function(q){var de=this.current;q[0]===de[0]&&q[1]===de[1]&&!this.dirty||(this.gl.depthRange(q[0],q[1]),this.current=q,this.dirty=!1)},Y}(ze),qe=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var de=this.gl;q?de.enable(de.DEPTH_TEST):de.disable(de.DEPTH_TEST),this.current=q,this.dirty=!1}},Y}(ze),dt=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return this.gl.LESS},Y.prototype.set=function(q){q===this.current&&!this.dirty||(this.gl.depthFunc(q),this.current=q,this.dirty=!1)},Y}(ze),pt=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var de=this.gl;q?de.enable(de.BLEND):de.disable(de.BLEND),this.current=q,this.dirty=!1}},Y}(ze),mt=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){var q=this.gl;return[q.ONE,q.ZERO]},Y.prototype.set=function(q){var de=this.current;q[0]===de[0]&&q[1]===de[1]&&!this.dirty||(this.gl.blendFunc(q[0],q[1]),this.current=q,this.dirty=!1)},Y}(ze),Ct=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return a.Color.transparent},Y.prototype.set=function(q){var de=this.current;q.r===de.r&&q.g===de.g&&q.b===de.b&&q.a===de.a&&!this.dirty||(this.gl.blendColor(q.r,q.g,q.b,q.a),this.current=q,this.dirty=!1)},Y}(ze),Rt=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return this.gl.FUNC_ADD},Y.prototype.set=function(q){q===this.current&&!this.dirty||(this.gl.blendEquation(q),this.current=q,this.dirty=!1)},Y}(ze),Zt=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var de=this.gl;q?de.enable(de.CULL_FACE):de.disable(de.CULL_FACE),this.current=q,this.dirty=!1}},Y}(ze),Xe=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return this.gl.BACK},Y.prototype.set=function(q){q===this.current&&!this.dirty||(this.gl.cullFace(q),this.current=q,this.dirty=!1)},Y}(ze),Le=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return this.gl.CCW},Y.prototype.set=function(q){q===this.current&&!this.dirty||(this.gl.frontFace(q),this.current=q,this.dirty=!1)},Y}(ze),Pe=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(q){q===this.current&&!this.dirty||(this.gl.useProgram(q),this.current=q,this.dirty=!1)},Y}(ze),ke=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return this.gl.TEXTURE0},Y.prototype.set=function(q){q===this.current&&!this.dirty||(this.gl.activeTexture(q),this.current=q,this.dirty=!1)},Y}(ze),Ce=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){var q=this.gl;return[0,0,q.drawingBufferWidth,q.drawingBufferHeight]},Y.prototype.set=function(q){var de=this.current;q[0]===de[0]&&q[1]===de[1]&&q[2]===de[2]&&q[3]===de[3]&&!this.dirty||(this.gl.viewport(q[0],q[1],q[2],q[3]),this.current=q,this.dirty=!1)},Y}(ze),me=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var de=this.gl;de.bindFramebuffer(de.FRAMEBUFFER,q),this.current=q,this.dirty=!1}},Y}(ze),oe=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var de=this.gl;de.bindRenderbuffer(de.RENDERBUFFER,q),this.current=q,this.dirty=!1}},Y}(ze),pe=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var de=this.gl;de.bindTexture(de.TEXTURE_2D,q),this.current=q,this.dirty=!1}},Y}(ze),Me=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var de=this.gl;de.bindBuffer(de.ARRAY_BUFFER,q),this.current=q,this.dirty=!1}},Y}(ze),_e=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(q){var de=this.gl;de.bindBuffer(de.ELEMENT_ARRAY_BUFFER,q),this.current=q,this.dirty=!1},Y}(ze),tt=function(ce){function Y(ve){ce.call(this,ve),this.vao=ve.extVertexArrayObject}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(q){!this.vao||q===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(q),this.current=q,this.dirty=!1)},Y}(ze),at=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return 4},Y.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var de=this.gl;de.pixelStorei(de.UNPACK_ALIGNMENT,q),this.current=q,this.dirty=!1}},Y}(ze),At=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var de=this.gl;de.pixelStorei(de.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q),this.current=q,this.dirty=!1}},Y}(ze),Ft=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var de=this.gl;de.pixelStorei(de.UNPACK_FLIP_Y_WEBGL,q),this.current=q,this.dirty=!1}},Y}(ze),Gt=function(ce){function Y(ve,q){ce.call(this,ve),this.context=ve,this.parent=q}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y}(ze),Yt=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.setDirty=function(){this.dirty=!0},Y.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var de=this.gl;de.framebufferTexture2D(de.FRAMEBUFFER,de.COLOR_ATTACHMENT0,de.TEXTURE_2D,q,0),this.current=q,this.dirty=!1}},Y}(Gt),Dt=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var de=this.gl;de.framebufferRenderbuffer(de.FRAMEBUFFER,de.DEPTH_ATTACHMENT,de.RENDERBUFFER,q),this.current=q,this.dirty=!1}},Y}(Gt),$t=function(Y,ve,q,de){this.context=Y,this.width=ve,this.height=q;var De=Y.gl,Ye=this.framebuffer=De.createFramebuffer();this.colorAttachment=new Yt(Y,Ye),de&&(this.depthAttachment=new Dt(Y,Ye))};$t.prototype.destroy=function(){var Y=this.context.gl,ve=this.colorAttachment.get();if(ve&&Y.deleteTexture(ve),this.depthAttachment){var q=this.depthAttachment.get();q&&Y.deleteRenderbuffer(q)}Y.deleteFramebuffer(this.framebuffer)};var lr=519,Hr=function(Y,ve,q){this.func=Y,this.mask=ve,this.range=q};Hr.ReadOnly=!1,Hr.ReadWrite=!0,Hr.disabled=new Hr(lr,Hr.ReadOnly,[0,1]);var xt=519,Qt=7680,jt=function(Y,ve,q,de,De,Ye){this.test=Y,this.ref=ve,this.mask=q,this.fail=de,this.depthFail=De,this.pass=Ye};jt.disabled=new jt({func:xt,mask:0},0,0,Qt,Qt,Qt);var Sr=0,gr=1,ut=771,st=function(Y,ve,q){this.blendFunction=Y,this.blendColor=ve,this.mask=q};st.Replace=[gr,Sr],st.disabled=new st(st.Replace,a.Color.transparent,[!1,!1,!1,!1]),st.unblended=new st(st.Replace,a.Color.transparent,[!0,!0,!0,!0]),st.alphaBlended=new st([gr,ut],a.Color.transparent,[!0,!0,!0,!0]);var bt=1029,St=2305,Pt=function(Y,ve,q){this.enable=Y,this.mode=ve,this.frontFace=q};Pt.disabled=new Pt(!1,bt,St),Pt.backCCW=new Pt(!0,bt,St);var Et=function(Y){this.gl=Y,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Te(this),this.clearDepth=new ye(this),this.clearStencil=new Ae(this),this.colorMask=new Ne(this),this.depthMask=new Ue(this),this.stencilMask=new Re(this),this.stencilFunc=new Ve(this),this.stencilOp=new rt(this),this.stencilTest=new Qe(this),this.depthRange=new Je(this),this.depthTest=new qe(this),this.depthFunc=new dt(this),this.blend=new pt(this),this.blendFunc=new mt(this),this.blendColor=new Ct(this),this.blendEquation=new Rt(this),this.cullFace=new Zt(this),this.cullFaceSide=new Xe(this),this.frontFace=new Le(this),this.program=new Pe(this),this.activeTexture=new ke(this),this.viewport=new Ce(this),this.bindFramebuffer=new me(this),this.bindRenderbuffer=new oe(this),this.bindTexture=new pe(this),this.bindVertexBuffer=new Me(this),this.bindElementBuffer=new _e(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new tt(this),this.pixelStoreUnpack=new at(this),this.pixelStoreUnpackPremultiplyAlpha=new At(this),this.pixelStoreUnpackFlipY=new Ft(this),this.extTextureFilterAnisotropic=Y.getExtension("EXT_texture_filter_anisotropic")||Y.getExtension("MOZ_EXT_texture_filter_anisotropic")||Y.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=Y.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=Y.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(Y.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=Y.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=Y.getExtension("EXT_disjoint_timer_query")};Et.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Et.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Et.prototype.createIndexBuffer=function(Y,ve){return new we(this,Y,ve)},Et.prototype.createVertexBuffer=function(Y,ve,q){return new Fe(this,Y,ve,q)},Et.prototype.createRenderbuffer=function(Y,ve,q){var de=this.gl,De=de.createRenderbuffer();return this.bindRenderbuffer.set(De),de.renderbufferStorage(de.RENDERBUFFER,Y,ve,q),this.bindRenderbuffer.set(null),De},Et.prototype.createFramebuffer=function(Y,ve,q){return new $t(this,Y,ve,q)},Et.prototype.clear=function(Y){var ve=Y.color,q=Y.depth,de=this.gl,De=0;ve&&(De|=de.COLOR_BUFFER_BIT,this.clearColor.set(ve),this.colorMask.set([!0,!0,!0,!0])),typeof q<"u"&&(De|=de.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(q),this.depthMask.set(!0)),de.clear(De)},Et.prototype.setCullFace=function(Y){Y.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(Y.mode),this.frontFace.set(Y.frontFace))},Et.prototype.setDepthMode=function(Y){Y.func===this.gl.ALWAYS&&!Y.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set(Y.func),this.depthMask.set(Y.mask),this.depthRange.set(Y.range))},Et.prototype.setStencilMode=function(Y){Y.test.func===this.gl.ALWAYS&&!Y.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set(Y.mask),this.stencilOp.set([Y.fail,Y.depthFail,Y.pass]),this.stencilFunc.set({func:Y.test.func,ref:Y.ref,mask:Y.test.mask}))},Et.prototype.setColorMode=function(Y){a.deepEqual(Y.blendFunction,st.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(Y.blendFunction),this.blendColor.set(Y.blendColor)),this.colorMask.set(Y.mask)},Et.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Bt=function(ce){function Y(ve,q,de){var De=this;ce.call(this),this.id=ve,this.dispatcher=de,this.on("data",function(Ye){Ye.dataType==="source"&&Ye.sourceDataType==="metadata"&&(De._sourceLoaded=!0),De._sourceLoaded&&!De._paused&&Ye.dataType==="source"&&Ye.sourceDataType==="content"&&(De.reload(),De.transform&&De.update(De.transform))}),this.on("error",function(){De._sourceErrored=!0}),this._source=W(ve,q,de,this),this._tiles={},this._cache=new ge(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new a.SourceFeatureState}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.onAdd=function(q){this.map=q,this._maxTileCacheSize=q?q._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(q)},Y.prototype.onRemove=function(q){this._source&&this._source.onRemove&&this._source.onRemove(q)},Y.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var q in this._tiles){var de=this._tiles[q];if(de.state!=="loaded"&&de.state!=="errored")return!1}return!0},Y.prototype.getSource=function(){return this._source},Y.prototype.pause=function(){this._paused=!0},Y.prototype.resume=function(){if(this._paused){var q=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,q&&this.reload(),this.transform&&this.update(this.transform)}},Y.prototype._loadTile=function(q,de){return this._source.loadTile(q,de)},Y.prototype._unloadTile=function(q){if(this._source.unloadTile)return this._source.unloadTile(q,function(){})},Y.prototype._abortTile=function(q){if(this._source.abortTile)return this._source.abortTile(q,function(){})},Y.prototype.serialize=function(){return this._source.serialize()},Y.prototype.prepare=function(q){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var de in this._tiles){var De=this._tiles[de];De.upload(q),De.prepare(this.map.style.imageManager)}},Y.prototype.getIds=function(){return a.values(this._tiles).map(function(q){return q.tileID}).sort(Wt).map(function(q){return q.key})},Y.prototype.getRenderableIds=function(q){var de=this,De=[];for(var Ye in this._tiles)this._isIdRenderable(Ye,q)&&De.push(this._tiles[Ye]);return q?De.sort(function(ot,wt){var Vt=ot.tileID,qt=wt.tileID,pr=new a.Point(Vt.canonical.x,Vt.canonical.y)._rotate(de.transform.angle),wr=new a.Point(qt.canonical.x,qt.canonical.y)._rotate(de.transform.angle);return Vt.overscaledZ-qt.overscaledZ||wr.y-pr.y||wr.x-pr.x}).map(function(ot){return ot.tileID.key}):De.map(function(ot){return ot.tileID}).sort(Wt).map(function(ot){return ot.key})},Y.prototype.hasRenderableParent=function(q){var de=this.findLoadedParent(q,0);return de?this._isIdRenderable(de.tileID.key):!1},Y.prototype._isIdRenderable=function(q,de){return this._tiles[q]&&this._tiles[q].hasData()&&!this._coveredTiles[q]&&(de||!this._tiles[q].holdingForFade())},Y.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var q in this._tiles)this._tiles[q].state!=="errored"&&this._reloadTile(q,"reloading")},Y.prototype._reloadTile=function(q,de){var De=this._tiles[q];De&&(De.state!=="loading"&&(De.state=de),this._loadTile(De,this._tileLoaded.bind(this,De,q,de)))},Y.prototype._tileLoaded=function(q,de,De,Ye){if(Ye){q.state="errored",Ye.status!==404?this._source.fire(new a.ErrorEvent(Ye,{tile:q})):this.update(this.transform);return}q.timeAdded=a.browser.now(),De==="expired"&&(q.refreshedUponExpiration=!0),this._setTileReloadTimer(de,q),this.getSource().type==="raster-dem"&&q.dem&&this._backfillDEM(q),this._state.initializeTileState(q,this.map?this.map.painter:null),this._source.fire(new a.Event("data",{dataType:"source",tile:q,coord:q.tileID}))},Y.prototype._backfillDEM=function(q){for(var de=this.getRenderableIds(),De=0;De<de.length;De++){var Ye=de[De];if(q.neighboringTiles&&q.neighboringTiles[Ye]){var ot=this.getTileByID(Ye);wt(q,ot),wt(ot,q)}}function wt(Vt,qt){Vt.needsHillshadePrepare=!0;var pr=qt.tileID.canonical.x-Vt.tileID.canonical.x,wr=qt.tileID.canonical.y-Vt.tileID.canonical.y,Vr=Math.pow(2,Vt.tileID.canonical.z),$r=qt.tileID.key;pr===0&&wr===0||Math.abs(wr)>1||(Math.abs(pr)>1&&(Math.abs(pr+Vr)===1?pr+=Vr:Math.abs(pr-Vr)===1&&(pr-=Vr)),!(!qt.dem||!Vt.dem)&&(Vt.dem.backfillBorder(qt.dem,pr,wr),Vt.neighboringTiles&&Vt.neighboringTiles[$r]&&(Vt.neighboringTiles[$r].backfilled=!0)))}},Y.prototype.getTile=function(q){return this.getTileByID(q.key)},Y.prototype.getTileByID=function(q){return this._tiles[q]},Y.prototype._retainLoadedChildren=function(q,de,De,Ye){for(var ot in this._tiles){var wt=this._tiles[ot];if(!(Ye[ot]||!wt.hasData()||wt.tileID.overscaledZ<=de||wt.tileID.overscaledZ>De)){for(var Vt=wt.tileID;wt&&wt.tileID.overscaledZ>de+1;){var qt=wt.tileID.scaledTo(wt.tileID.overscaledZ-1);wt=this._tiles[qt.key],wt&&wt.hasData()&&(Vt=qt)}for(var pr=Vt;pr.overscaledZ>de;)if(pr=pr.scaledTo(pr.overscaledZ-1),q[pr.key]){Ye[Vt.key]=Vt;break}}}},Y.prototype.findLoadedParent=function(q,de){if(q.key in this._loadedParentTiles){var De=this._loadedParentTiles[q.key];return De&&De.tileID.overscaledZ>=de?De:null}for(var Ye=q.overscaledZ-1;Ye>=de;Ye--){var ot=q.scaledTo(Ye),wt=this._getLoadedTile(ot);if(wt)return wt}},Y.prototype._getLoadedTile=function(q){var de=this._tiles[q.key];if(de&&de.hasData())return de;var De=this._cache.getByKey(q.wrapped().key);return De},Y.prototype.updateCacheSize=function(q){var de=Math.ceil(q.width/this._source.tileSize)+1,De=Math.ceil(q.height/this._source.tileSize)+1,Ye=de*De,ot=5,wt=Math.floor(Ye*ot),Vt=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,wt):wt;this._cache.setMaxSize(Vt)},Y.prototype.handleWrapJump=function(q){var de=this._prevLng===void 0?q:this._prevLng,De=q-de,Ye=De/360,ot=Math.round(Ye);if(this._prevLng=q,ot){var wt={};for(var Vt in this._tiles){var qt=this._tiles[Vt];qt.tileID=qt.tileID.unwrapTo(qt.tileID.wrap+ot),wt[qt.tileID.key]=qt}this._tiles=wt;for(var pr in this._timers)clearTimeout(this._timers[pr]),delete this._timers[pr];for(var wr in this._tiles){var Vr=this._tiles[wr];this._setTileReloadTimer(wr,Vr)}}},Y.prototype.update=function(q){var de=this;if(this.transform=q,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(q),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var De;this.used?this._source.tileID?De=q.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Ma){return new a.OverscaledTileID(Ma.canonical.z,Ma.wrap,Ma.canonical.z,Ma.canonical.x,Ma.canonical.y)}):(De=q.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(De=De.filter(function(Ma){return de._source.hasTile(Ma)}))):De=[];var Ye=q.coveringZoomLevel(this._source),ot=Math.max(Ye-Y.maxOverzooming,this._source.minzoom),wt=Math.max(Ye+Y.maxUnderzooming,this._source.minzoom),Vt=this._updateRetainedTiles(De,Ye);if(tr(this._source.type)){for(var qt={},pr={},wr=Object.keys(Vt),Vr=0,$r=wr;Vr<$r.length;Vr+=1){var qr=$r[Vr],Jr=Vt[qr],sn=this._tiles[qr];if(!(!sn||sn.fadeEndTime&&sn.fadeEndTime<=a.browser.now())){var gn=this.findLoadedParent(Jr,ot);gn&&(this._addTile(gn.tileID),qt[gn.tileID.key]=gn.tileID),pr[qr]=Jr}}this._retainLoadedChildren(pr,Ye,wt,Vt);for(var On in qt)Vt[On]||(this._coveredTiles[On]=!0,Vt[On]=qt[On])}for(var Zn in Vt)this._tiles[Zn].clearFadeHold();for(var ra=a.keysDifference(this._tiles,Vt),ia=0,aa=ra;ia<aa.length;ia+=1){var ga=aa[ia],Ea=this._tiles[ga];Ea.hasSymbolBuckets&&!Ea.holdingForFade()?Ea.setHoldDuration(this.map._fadeDuration):(!Ea.hasSymbolBuckets||Ea.symbolFadeFinished())&&this._removeTile(ga)}this._updateLoadedParentTileCache()}},Y.prototype.releaseSymbolFadeTiles=function(){for(var q in this._tiles)this._tiles[q].holdingForFade()&&this._removeTile(q)},Y.prototype._updateRetainedTiles=function(q,de){for(var De={},Ye={},ot=Math.max(de-Y.maxOverzooming,this._source.minzoom),wt=Math.max(de+Y.maxUnderzooming,this._source.minzoom),Vt={},qt=0,pr=q;qt<pr.length;qt+=1){var wr=pr[qt],Vr=this._addTile(wr);De[wr.key]=wr,!Vr.hasData()&&de<this._source.maxzoom&&(Vt[wr.key]=wr)}this._retainLoadedChildren(Vt,de,wt,De);for(var $r=0,qr=q;$r<qr.length;$r+=1){var Jr=qr[$r],sn=this._tiles[Jr.key];if(!sn.hasData()){if(de+1>this._source.maxzoom){var gn=Jr.children(this._source.maxzoom)[0],On=this.getTile(gn);if(On&&On.hasData()){De[gn.key]=gn;continue}}else{var Zn=Jr.children(this._source.maxzoom);if(De[Zn[0].key]&&De[Zn[1].key]&&De[Zn[2].key]&&De[Zn[3].key])continue}for(var ra=sn.wasRequested(),ia=Jr.overscaledZ-1;ia>=ot;--ia){var aa=Jr.scaledTo(ia);if(Ye[aa.key]||(Ye[aa.key]=!0,sn=this.getTile(aa),!sn&&ra&&(sn=this._addTile(aa)),sn&&(De[aa.key]=aa,ra=sn.wasRequested(),sn.hasData())))break}}}return De},Y.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var q in this._tiles){for(var de=[],De=void 0,Ye=this._tiles[q].tileID;Ye.overscaledZ>0;){if(Ye.key in this._loadedParentTiles){De=this._loadedParentTiles[Ye.key];break}de.push(Ye.key);var ot=Ye.scaledTo(Ye.overscaledZ-1);if(De=this._getLoadedTile(ot),De)break;Ye=ot}for(var wt=0,Vt=de;wt<Vt.length;wt+=1){var qt=Vt[wt];this._loadedParentTiles[qt]=De}}},Y.prototype._addTile=function(q){var de=this._tiles[q.key];if(de)return de;de=this._cache.getAndRemove(q),de&&(this._setTileReloadTimer(q.key,de),de.tileID=q,this._state.initializeTileState(de,this.map?this.map.painter:null),this._cacheTimers[q.key]&&(clearTimeout(this._cacheTimers[q.key]),delete this._cacheTimers[q.key],this._setTileReloadTimer(q.key,de)));var De=!!de;return De||(de=new a.Tile(q,this._source.tileSize*q.overscaleFactor()),this._loadTile(de,this._tileLoaded.bind(this,de,q.key,de.state))),de?(de.uses++,this._tiles[q.key]=de,De||this._source.fire(new a.Event("dataloading",{tile:de,coord:de.tileID,dataType:"source"})),de):null},Y.prototype._setTileReloadTimer=function(q,de){var De=this;q in this._timers&&(clearTimeout(this._timers[q]),delete this._timers[q]);var Ye=de.getExpiryTimeout();Ye&&(this._timers[q]=setTimeout(function(){De._reloadTile(q,"expired"),delete De._timers[q]},Ye))},Y.prototype._removeTile=function(q){var de=this._tiles[q];de&&(de.uses--,delete this._tiles[q],this._timers[q]&&(clearTimeout(this._timers[q]),delete this._timers[q]),!(de.uses>0)&&(de.hasData()&&de.state!=="reloading"?this._cache.add(de.tileID,de,de.getExpiryTimeout()):(de.aborted=!0,this._abortTile(de),this._unloadTile(de))))},Y.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var q in this._tiles)this._removeTile(q);this._cache.reset()},Y.prototype.tilesIn=function(q,de,De){var Ye=this,ot=[],wt=this.transform;if(!wt)return ot;for(var Vt=De?wt.getCameraQueryGeometry(q):q,qt=q.map(function(ia){return wt.pointCoordinate(ia)}),pr=Vt.map(function(ia){return wt.pointCoordinate(ia)}),wr=this.getIds(),Vr=1/0,$r=1/0,qr=-1/0,Jr=-1/0,sn=0,gn=pr;sn<gn.length;sn+=1){var On=gn[sn];Vr=Math.min(Vr,On.x),$r=Math.min($r,On.y),qr=Math.max(qr,On.x),Jr=Math.max(Jr,On.y)}for(var Zn=function(ia){var aa=Ye._tiles[wr[ia]];if(!aa.holdingForFade()){var ga=aa.tileID,Ea=Math.pow(2,wt.zoom-aa.tileID.overscaledZ),Ma=de*aa.queryPadding*a.EXTENT/aa.tileSize/Ea,Ra=[ga.getTilePoint(new a.MercatorCoordinate(Vr,$r)),ga.getTilePoint(new a.MercatorCoordinate(qr,Jr))];if(Ra[0].x-Ma<a.EXTENT&&Ra[0].y-Ma<a.EXTENT&&Ra[1].x+Ma>=0&&Ra[1].y+Ma>=0){var ka=qt.map(function(Ja){return ga.getTilePoint(Ja)}),Ga=pr.map(function(Ja){return ga.getTilePoint(Ja)});ot.push({tile:aa,tileID:ga,queryGeometry:ka,cameraQueryGeometry:Ga,scale:Ea})}}},ra=0;ra<wr.length;ra++)Zn(ra);return ot},Y.prototype.getVisibleCoordinates=function(q){for(var de=this,De=this.getRenderableIds(q).map(function(Vt){return de._tiles[Vt].tileID}),Ye=0,ot=De;Ye<ot.length;Ye+=1){var wt=ot[Ye];wt.posMatrix=this.transform.calculatePosMatrix(wt.toUnwrapped())}return De},Y.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(tr(this._source.type))for(var q in this._tiles){var de=this._tiles[q];if(de.fadeEndTime!==void 0&&de.fadeEndTime>=a.browser.now())return!0}return!1},Y.prototype.setFeatureState=function(q,de,De){q=q||"_geojsonTileLayer",this._state.updateState(q,de,De)},Y.prototype.removeFeatureState=function(q,de,De){q=q||"_geojsonTileLayer",this._state.removeFeatureState(q,de,De)},Y.prototype.getFeatureState=function(q,de){return q=q||"_geojsonTileLayer",this._state.getState(q,de)},Y.prototype.setDependencies=function(q,de,De){var Ye=this._tiles[q];Ye&&Ye.setDependencies(de,De)},Y.prototype.reloadTilesForDependencies=function(q,de){for(var De in this._tiles){var Ye=this._tiles[De];Ye.hasDependency(q,de)&&this._reloadTile(De,"reloading")}this._cache.filter(function(ot){return!ot.hasDependency(q,de)})},Y}(a.Evented);Bt.maxOverzooming=10,Bt.maxUnderzooming=3;function Wt(ce,Y){var ve=Math.abs(ce.wrap*2)-+(ce.wrap<0),q=Math.abs(Y.wrap*2)-+(Y.wrap<0);return ce.overscaledZ-Y.overscaledZ||q-ve||Y.canonical.y-ce.canonical.y||Y.canonical.x-ce.canonical.x}function tr(ce){return ce==="raster"||ce==="image"||ce==="video"}function er(){return new a.window.Worker(Cv.workerUrl)}var ur="mapboxgl_preloaded_worker_pool",kr=function(){this.active={}};kr.prototype.acquire=function(Y){if(!this.workers)for(this.workers=[];this.workers.length<kr.workerCount;)this.workers.push(new er);return this.active[Y]=!0,this.workers.slice()},kr.prototype.release=function(Y){delete this.active[Y],this.numActive()===0&&(this.workers.forEach(function(ve){ve.terminate()}),this.workers=null)},kr.prototype.isPreloaded=function(){return!!this.active[ur]},kr.prototype.numActive=function(){return Object.keys(this.active).length};var We=Math.floor(a.browser.hardwareConcurrency/2);kr.workerCount=Math.max(Math.min(We,6),1);var Ge;function _t(){return Ge||(Ge=new kr),Ge}function Ot(){var ce=_t();ce.acquire(ur)}function Kt(){var ce=Ge;ce&&(ce.isPreloaded()&&ce.numActive()===1?(ce.release(ur),Ge=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function or(ce,Y){var ve={};for(var q in ce)q!=="ref"&&(ve[q]=ce[q]);return a.refProperties.forEach(function(de){de in Y&&(ve[de]=Y[de])}),ve}function hr(ce){ce=ce.slice();for(var Y=Object.create(null),ve=0;ve<ce.length;ve++)Y[ce[ve].id]=ce[ve];for(var q=0;q<ce.length;q++)"ref"in ce[q]&&(ce[q]=or(ce[q],Y[ce[q].ref]));return ce}function ir(){var ce={},Y=a.styleSpec.$version;for(var ve in a.styleSpec.$root){var q=a.styleSpec.$root[ve];if(q.required){var de=null;ve==="version"?de=Y:q.type==="array"?de=[]:de={},de!=null&&(ce[ve]=de)}}return ce}var Nt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function vr(ce,Y,ve){ve.push({command:Nt.addSource,args:[ce,Y[ce]]})}function mr(ce,Y,ve){Y.push({command:Nt.removeSource,args:[ce]}),ve[ce]=!0}function xr(ce,Y,ve,q){mr(ce,ve,q),vr(ce,Y,ve)}function yr(ce,Y,ve){var q;for(q in ce[ve])if(ce[ve].hasOwnProperty(q)&&q!=="data"&&!a.deepEqual(ce[ve][q],Y[ve][q]))return!1;for(q in Y[ve])if(Y[ve].hasOwnProperty(q)&&q!=="data"&&!a.deepEqual(ce[ve][q],Y[ve][q]))return!1;return!0}function Kr(ce,Y,ve,q){ce=ce||{},Y=Y||{};var de;for(de in ce)ce.hasOwnProperty(de)&&(Y.hasOwnProperty(de)||mr(de,ve,q));for(de in Y)Y.hasOwnProperty(de)&&(ce.hasOwnProperty(de)?a.deepEqual(ce[de],Y[de])||(ce[de].type==="geojson"&&Y[de].type==="geojson"&&yr(ce,Y,de)?ve.push({command:Nt.setGeoJSONSourceData,args:[de,Y[de].data]}):xr(de,Y,ve,q)):vr(de,Y,ve))}function Nr(ce,Y,ve,q,de,De){ce=ce||{},Y=Y||{};var Ye;for(Ye in ce)ce.hasOwnProperty(Ye)&&(a.deepEqual(ce[Ye],Y[Ye])||ve.push({command:De,args:[q,Ye,Y[Ye],de]}));for(Ye in Y)!Y.hasOwnProperty(Ye)||ce.hasOwnProperty(Ye)||a.deepEqual(ce[Ye],Y[Ye])||ve.push({command:De,args:[q,Ye,Y[Ye],de]})}function Ur(ce){return ce.id}function Tn(ce,Y){return ce[Y.id]=Y,ce}function rn(ce,Y,ve){ce=ce||[],Y=Y||[];var q=ce.map(Ur),de=Y.map(Ur),De=ce.reduce(Tn,{}),Ye=Y.reduce(Tn,{}),ot=q.slice(),wt=Object.create(null),Vt,qt,pr,wr,Vr,$r,qr;for(Vt=0,qt=0;Vt<q.length;Vt++)pr=q[Vt],Ye.hasOwnProperty(pr)?qt++:(ve.push({command:Nt.removeLayer,args:[pr]}),ot.splice(ot.indexOf(pr,qt),1));for(Vt=0,qt=0;Vt<de.length;Vt++)pr=de[de.length-1-Vt],ot[ot.length-1-Vt]!==pr&&(De.hasOwnProperty(pr)?(ve.push({command:Nt.removeLayer,args:[pr]}),ot.splice(ot.lastIndexOf(pr,ot.length-qt),1)):qt++,$r=ot[ot.length-Vt],ve.push({command:Nt.addLayer,args:[Ye[pr],$r]}),ot.splice(ot.length-Vt,0,pr),wt[pr]=!0);for(Vt=0;Vt<de.length;Vt++)if(pr=de[Vt],wr=De[pr],Vr=Ye[pr],!(wt[pr]||a.deepEqual(wr,Vr))){if(!a.deepEqual(wr.source,Vr.source)||!a.deepEqual(wr["source-layer"],Vr["source-layer"])||!a.deepEqual(wr.type,Vr.type)){ve.push({command:Nt.removeLayer,args:[pr]}),$r=ot[ot.lastIndexOf(pr)+1],ve.push({command:Nt.addLayer,args:[Vr,$r]});continue}Nr(wr.layout,Vr.layout,ve,pr,null,Nt.setLayoutProperty),Nr(wr.paint,Vr.paint,ve,pr,null,Nt.setPaintProperty),a.deepEqual(wr.filter,Vr.filter)||ve.push({command:Nt.setFilter,args:[pr,Vr.filter]}),(!a.deepEqual(wr.minzoom,Vr.minzoom)||!a.deepEqual(wr.maxzoom,Vr.maxzoom))&&ve.push({command:Nt.setLayerZoomRange,args:[pr,Vr.minzoom,Vr.maxzoom]});for(qr in wr)wr.hasOwnProperty(qr)&&(qr==="layout"||qr==="paint"||qr==="filter"||qr==="metadata"||qr==="minzoom"||qr==="maxzoom"||(qr.indexOf("paint.")===0?Nr(wr[qr],Vr[qr],ve,pr,qr.slice(6),Nt.setPaintProperty):a.deepEqual(wr[qr],Vr[qr])||ve.push({command:Nt.setLayerProperty,args:[pr,qr,Vr[qr]]})));for(qr in Vr)!Vr.hasOwnProperty(qr)||wr.hasOwnProperty(qr)||qr==="layout"||qr==="paint"||qr==="filter"||qr==="metadata"||qr==="minzoom"||qr==="maxzoom"||(qr.indexOf("paint.")===0?Nr(wr[qr],Vr[qr],ve,pr,qr.slice(6),Nt.setPaintProperty):a.deepEqual(wr[qr],Vr[qr])||ve.push({command:Nt.setLayerProperty,args:[pr,qr,Vr[qr]]}))}}function Gn(ce,Y){if(!ce)return[{command:Nt.setStyle,args:[Y]}];var ve=[];try{if(!a.deepEqual(ce.version,Y.version))return[{command:Nt.setStyle,args:[Y]}];a.deepEqual(ce.center,Y.center)||ve.push({command:Nt.setCenter,args:[Y.center]}),a.deepEqual(ce.zoom,Y.zoom)||ve.push({command:Nt.setZoom,args:[Y.zoom]}),a.deepEqual(ce.bearing,Y.bearing)||ve.push({command:Nt.setBearing,args:[Y.bearing]}),a.deepEqual(ce.pitch,Y.pitch)||ve.push({command:Nt.setPitch,args:[Y.pitch]}),a.deepEqual(ce.sprite,Y.sprite)||ve.push({command:Nt.setSprite,args:[Y.sprite]}),a.deepEqual(ce.glyphs,Y.glyphs)||ve.push({command:Nt.setGlyphs,args:[Y.glyphs]}),a.deepEqual(ce.transition,Y.transition)||ve.push({command:Nt.setTransition,args:[Y.transition]}),a.deepEqual(ce.light,Y.light)||ve.push({command:Nt.setLight,args:[Y.light]});var q={},de=[];Kr(ce.sources,Y.sources,de,q);var De=[];ce.layers&&ce.layers.forEach(function(Ye){q[Ye.source]?ve.push({command:Nt.removeLayer,args:[Ye.id]}):De.push(Ye)}),ve=ve.concat(de),rn(De,Y.layers,ve)}catch(Ye){console.warn("Unable to compute style diff:",Ye),ve=[{command:Nt.setStyle,args:[Y]}]}return ve}var Hn=function(Y,ve){this.reset(Y,ve)};Hn.prototype.reset=function(Y,ve){this.points=Y||[],this._distances=[0];for(var q=1;q<this.points.length;q++)this._distances[q]=this._distances[q-1]+this.points[q].dist(this.points[q-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(ve||0,this.length*.5),this.paddedLength=this.length-this.padding*2},Hn.prototype.lerp=function(Y){if(this.points.length===1)return this.points[0];Y=a.clamp(Y,0,1);for(var ve=1,q=this._distances[ve],de=Y*this.paddedLength+this.padding;q<de&&ve<this._distances.length;)q=this._distances[++ve];var De=ve-1,Ye=this._distances[De],ot=q-Ye,wt=ot>0?(de-Ye)/ot:0;return this.points[De].mult(1-wt).add(this.points[ve].mult(wt))};var Ar=function(Y,ve,q){var de=this.boxCells=[],De=this.circleCells=[];this.xCellCount=Math.ceil(Y/q),this.yCellCount=Math.ceil(ve/q);for(var Ye=0;Ye<this.xCellCount*this.yCellCount;Ye++)de.push([]),De.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=Y,this.height=ve,this.xScale=this.xCellCount/Y,this.yScale=this.yCellCount/ve,this.boxUid=0,this.circleUid=0};Ar.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Ar.prototype.insert=function(Y,ve,q,de,De){this._forEachCell(ve,q,de,De,this._insertBoxCell,this.boxUid++),this.boxKeys.push(Y),this.bboxes.push(ve),this.bboxes.push(q),this.bboxes.push(de),this.bboxes.push(De)},Ar.prototype.insertCircle=function(Y,ve,q,de){this._forEachCell(ve-de,q-de,ve+de,q+de,this._insertCircleCell,this.circleUid++),this.circleKeys.push(Y),this.circles.push(ve),this.circles.push(q),this.circles.push(de)},Ar.prototype._insertBoxCell=function(Y,ve,q,de,De,Ye){this.boxCells[De].push(Ye)},Ar.prototype._insertCircleCell=function(Y,ve,q,de,De,Ye){this.circleCells[De].push(Ye)},Ar.prototype._query=function(Y,ve,q,de,De,Ye){if(q<0||Y>this.width||de<0||ve>this.height)return De?!1:[];var ot=[];if(Y<=0&&ve<=0&&this.width<=q&&this.height<=de){if(De)return!0;for(var wt=0;wt<this.boxKeys.length;wt++)ot.push({key:this.boxKeys[wt],x1:this.bboxes[wt*4],y1:this.bboxes[wt*4+1],x2:this.bboxes[wt*4+2],y2:this.bboxes[wt*4+3]});for(var Vt=0;Vt<this.circleKeys.length;Vt++){var qt=this.circles[Vt*3],pr=this.circles[Vt*3+1],wr=this.circles[Vt*3+2];ot.push({key:this.circleKeys[Vt],x1:qt-wr,y1:pr-wr,x2:qt+wr,y2:pr+wr})}return Ye?ot.filter(Ye):ot}else{var Vr={hitTest:De,seenUids:{box:{},circle:{}}};return this._forEachCell(Y,ve,q,de,this._queryCell,ot,Vr,Ye),De?ot.length>0:ot}},Ar.prototype._queryCircle=function(Y,ve,q,de,De){var Ye=Y-q,ot=Y+q,wt=ve-q,Vt=ve+q;if(ot<0||Ye>this.width||Vt<0||wt>this.height)return de?!1:[];var qt=[],pr={hitTest:de,circle:{x:Y,y:ve,radius:q},seenUids:{box:{},circle:{}}};return this._forEachCell(Ye,wt,ot,Vt,this._queryCellCircle,qt,pr,De),de?qt.length>0:qt},Ar.prototype.query=function(Y,ve,q,de,De){return this._query(Y,ve,q,de,!1,De)},Ar.prototype.hitTest=function(Y,ve,q,de,De){return this._query(Y,ve,q,de,!0,De)},Ar.prototype.hitTestCircle=function(Y,ve,q,de){return this._queryCircle(Y,ve,q,!0,de)},Ar.prototype._queryCell=function(Y,ve,q,de,De,Ye,ot,wt){var Vt=ot.seenUids,qt=this.boxCells[De];if(qt!==null)for(var pr=this.bboxes,wr=0,Vr=qt;wr<Vr.length;wr+=1){var $r=Vr[wr];if(!Vt.box[$r]){Vt.box[$r]=!0;var qr=$r*4;if(Y<=pr[qr+2]&&ve<=pr[qr+3]&&q>=pr[qr+0]&&de>=pr[qr+1]&&(!wt||wt(this.boxKeys[$r]))){if(ot.hitTest)return Ye.push(!0),!0;Ye.push({key:this.boxKeys[$r],x1:pr[qr],y1:pr[qr+1],x2:pr[qr+2],y2:pr[qr+3]})}}}var Jr=this.circleCells[De];if(Jr!==null)for(var sn=this.circles,gn=0,On=Jr;gn<On.length;gn+=1){var Zn=On[gn];if(!Vt.circle[Zn]){Vt.circle[Zn]=!0;var ra=Zn*3;if(this._circleAndRectCollide(sn[ra],sn[ra+1],sn[ra+2],Y,ve,q,de)&&(!wt||wt(this.circleKeys[Zn]))){if(ot.hitTest)return Ye.push(!0),!0;var ia=sn[ra],aa=sn[ra+1],ga=sn[ra+2];Ye.push({key:this.circleKeys[Zn],x1:ia-ga,y1:aa-ga,x2:ia+ga,y2:aa+ga})}}}},Ar.prototype._queryCellCircle=function(Y,ve,q,de,De,Ye,ot,wt){var Vt=ot.circle,qt=ot.seenUids,pr=this.boxCells[De];if(pr!==null)for(var wr=this.bboxes,Vr=0,$r=pr;Vr<$r.length;Vr+=1){var qr=$r[Vr];if(!qt.box[qr]){qt.box[qr]=!0;var Jr=qr*4;if(this._circleAndRectCollide(Vt.x,Vt.y,Vt.radius,wr[Jr+0],wr[Jr+1],wr[Jr+2],wr[Jr+3])&&(!wt||wt(this.boxKeys[qr])))return Ye.push(!0),!0}}var sn=this.circleCells[De];if(sn!==null)for(var gn=this.circles,On=0,Zn=sn;On<Zn.length;On+=1){var ra=Zn[On];if(!qt.circle[ra]){qt.circle[ra]=!0;var ia=ra*3;if(this._circlesCollide(gn[ia],gn[ia+1],gn[ia+2],Vt.x,Vt.y,Vt.radius)&&(!wt||wt(this.circleKeys[ra])))return Ye.push(!0),!0}}},Ar.prototype._forEachCell=function(Y,ve,q,de,De,Ye,ot,wt){for(var Vt=this._convertToXCellCoord(Y),qt=this._convertToYCellCoord(ve),pr=this._convertToXCellCoord(q),wr=this._convertToYCellCoord(de),Vr=Vt;Vr<=pr;Vr++)for(var $r=qt;$r<=wr;$r++){var qr=this.xCellCount*$r+Vr;if(De.call(this,Y,ve,q,de,qr,Ye,ot,wt))return}},Ar.prototype._convertToXCellCoord=function(Y){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(Y*this.xScale)))},Ar.prototype._convertToYCellCoord=function(Y){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(Y*this.yScale)))},Ar.prototype._circlesCollide=function(Y,ve,q,de,De,Ye){var ot=de-Y,wt=De-ve,Vt=q+Ye;return Vt*Vt>ot*ot+wt*wt},Ar.prototype._circleAndRectCollide=function(Y,ve,q,de,De,Ye,ot){var wt=(Ye-de)/2,Vt=Math.abs(Y-(de+wt));if(Vt>wt+q)return!1;var qt=(ot-De)/2,pr=Math.abs(ve-(De+qt));if(pr>qt+q)return!1;if(Vt<=wt||pr<=qt)return!0;var wr=Vt-wt,Vr=pr-qt;return wr*wr+Vr*Vr<=q*q};function Cr(ce,Y,ve,q,de){var De=a.create();return Y?(a.scale(De,De,[1/de,1/de,1]),ve||a.rotateZ(De,De,q.angle)):a.multiply(De,q.labelPlaneMatrix,ce),De}function Yr(ce,Y,ve,q,de){if(Y){var De=a.clone(ce);return a.scale(De,De,[de,de,1]),ve||a.rotateZ(De,De,-q.angle),De}else return q.glCoordMatrix}function Zr(ce,Y){var ve=[ce.x,ce.y,0,1];Pr(ve,ve,Y);var q=ve[3];return{point:new a.Point(ve[0]/q,ve[1]/q),signedDistanceFromCamera:q}}function un(ce,Y){return .5+.5*(ce/Y)}function mn(ce,Y){var ve=ce[0]/ce[3],q=ce[1]/ce[3],de=ve>=-Y[0]&&ve<=Y[0]&&q>=-Y[1]&&q<=Y[1];return de}function pn(ce,Y,ve,q,de,De,Ye,ot){var wt=q?ce.textSizeData:ce.iconSizeData,Vt=a.evaluateSizeForZoom(wt,ve.transform.zoom),qt=[256/ve.width*2+1,256/ve.height*2+1],pr=q?ce.text.dynamicLayoutVertexArray:ce.icon.dynamicLayoutVertexArray;pr.clear();for(var wr=ce.lineVertexArray,Vr=q?ce.text.placedSymbolArray:ce.icon.placedSymbolArray,$r=ve.transform.width/ve.transform.height,qr=!1,Jr=0;Jr<Vr.length;Jr++){var sn=Vr.get(Jr);if(sn.hidden||sn.writingMode===a.WritingMode.vertical&&!qr){ca(sn.numGlyphs,pr);continue}qr=!1;var gn=[sn.anchorX,sn.anchorY,0,1];if(a.transformMat4(gn,gn,Y),!mn(gn,qt)){ca(sn.numGlyphs,pr);continue}var On=gn[3],Zn=un(ve.transform.cameraToCenterDistance,On),ra=a.evaluateSizeForFeature(wt,Vt,sn),ia=Ye?ra/Zn:ra*Zn,aa=new a.Point(sn.anchorX,sn.anchorY),ga=Zr(aa,de).point,Ea={},Ma=oa(sn,ia,!1,ot,Y,de,De,ce.glyphOffsetArray,wr,pr,ga,aa,Ea,$r);qr=Ma.useVertical,(Ma.notEnoughRoom||qr||Ma.needsFlipping&&oa(sn,ia,!0,ot,Y,de,De,ce.glyphOffsetArray,wr,pr,ga,aa,Ea,$r).notEnoughRoom)&&ca(sn.numGlyphs,pr)}q?ce.text.dynamicLayoutVertexBuffer.updateData(pr):ce.icon.dynamicLayoutVertexBuffer.updateData(pr)}function Rn(ce,Y,ve,q,de,De,Ye,ot,wt,Vt,qt){var pr=ot.glyphStartIndex+ot.numGlyphs,wr=ot.lineStartIndex,Vr=ot.lineStartIndex+ot.lineLength,$r=Y.getoffsetX(ot.glyphStartIndex),qr=Y.getoffsetX(pr-1),Jr=xa(ce*$r,ve,q,de,De,Ye,ot.segment,wr,Vr,wt,Vt,qt);if(!Jr)return null;var sn=xa(ce*qr,ve,q,de,De,Ye,ot.segment,wr,Vr,wt,Vt,qt);return sn?{first:Jr,last:sn}:null}function Un(ce,Y,ve,q){if(ce===a.WritingMode.horizontal){var de=Math.abs(ve.y-Y.y),De=Math.abs(ve.x-Y.x)*q;if(de>De)return{useVertical:!0}}return(ce===a.WritingMode.vertical?Y.y<ve.y:Y.x>ve.x)?{needsFlipping:!0}:null}function oa(ce,Y,ve,q,de,De,Ye,ot,wt,Vt,qt,pr,wr,Vr){var $r=Y/24,qr=ce.lineOffsetX*$r,Jr=ce.lineOffsetY*$r,sn;if(ce.numGlyphs>1){var gn=ce.glyphStartIndex+ce.numGlyphs,On=ce.lineStartIndex,Zn=ce.lineStartIndex+ce.lineLength,ra=Rn($r,ot,qr,Jr,ve,qt,pr,ce,wt,De,wr);if(!ra)return{notEnoughRoom:!0};var ia=Zr(ra.first.point,Ye).point,aa=Zr(ra.last.point,Ye).point;if(q&&!ve){var ga=Un(ce.writingMode,ia,aa,Vr);if(ga)return ga}sn=[ra.first];for(var Ea=ce.glyphStartIndex+1;Ea<gn-1;Ea++)sn.push(xa($r*ot.getoffsetX(Ea),qr,Jr,ve,qt,pr,ce.segment,On,Zn,wt,De,wr));sn.push(ra.last)}else{if(q&&!ve){var Ma=Zr(pr,de).point,Ra=ce.lineStartIndex+ce.segment+1,ka=new a.Point(wt.getx(Ra),wt.gety(Ra)),Ga=Zr(ka,de),Ja=Ga.signedDistanceFromCamera>0?Ga.point:ua(pr,ka,Ma,1,de),Ci=Un(ce.writingMode,Ma,Ja,Vr);if(Ci)return Ci}var qa=xa($r*ot.getoffsetX(ce.glyphStartIndex),qr,Jr,ve,qt,pr,ce.segment,ce.lineStartIndex,ce.lineStartIndex+ce.lineLength,wt,De,wr);if(!qa)return{notEnoughRoom:!0};sn=[qa]}for(var vi=0,Ua=sn;vi<Ua.length;vi+=1){var Li=Ua[vi];a.addDynamicAttributes(Vt,Li.point,Li.angle)}return{}}function ua(ce,Y,ve,q,de){var De=Zr(ce.add(ce.sub(Y)._unit()),de).point,Ye=ve.sub(De);return ve.add(Ye._mult(q/Ye.mag()))}function xa(ce,Y,ve,q,de,De,Ye,ot,wt,Vt,qt,pr){var wr=q?ce-Y:ce+Y,Vr=wr>0?1:-1,$r=0;q&&(Vr*=-1,$r=Math.PI),Vr<0&&($r+=Math.PI);for(var qr=Vr>0?ot+Ye:ot+Ye+1,Jr=de,sn=de,gn=0,On=0,Zn=Math.abs(wr),ra=[];gn+On<=Zn;){if(qr+=Vr,qr<ot||qr>=wt)return null;if(sn=Jr,ra.push(Jr),Jr=pr[qr],Jr===void 0){var ia=new a.Point(Vt.getx(qr),Vt.gety(qr)),aa=Zr(ia,qt);if(aa.signedDistanceFromCamera>0)Jr=pr[qr]=aa.point;else{var ga=qr-Vr,Ea=gn===0?De:new a.Point(Vt.getx(ga),Vt.gety(ga));Jr=ua(Ea,ia,sn,Zn-gn+1,qt)}}gn+=On,On=sn.dist(Jr)}var Ma=(Zn-gn)/On,Ra=Jr.sub(sn),ka=Ra.mult(Ma)._add(sn);ka._add(Ra._unit()._perp()._mult(ve*Vr));var Ga=$r+Math.atan2(Jr.y-sn.y,Jr.x-sn.x);return ra.push(ka),{point:ka,angle:Ga,path:ra}}var va=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ca(ce,Y){for(var ve=0;ve<ce;ve++){var q=Y.length;Y.resize(q+4),Y.float32.set(va,q*3)}}function Pr(ce,Y,ve){var q=Y[0],de=Y[1];return ce[0]=ve[0]*q+ve[4]*de+ve[12],ce[1]=ve[1]*q+ve[5]*de+ve[13],ce[3]=ve[3]*q+ve[7]*de+ve[15],ce}var dn=100,cn=function(Y,ve,q){ve===void 0&&(ve=new Ar(Y.width+2*dn,Y.height+2*dn,25)),q===void 0&&(q=new Ar(Y.width+2*dn,Y.height+2*dn,25)),this.transform=Y,this.grid=ve,this.ignoredGrid=q,this.pitchfactor=Math.cos(Y._pitch)*Y.cameraToCenterDistance,this.screenRightBoundary=Y.width+dn,this.screenBottomBoundary=Y.height+dn,this.gridRightBoundary=Y.width+2*dn,this.gridBottomBoundary=Y.height+2*dn};cn.prototype.placeCollisionBox=function(Y,ve,q,de,De){var Ye=this.projectAndGetPerspectiveRatio(de,Y.anchorPointX,Y.anchorPointY),ot=q*Ye.perspectiveRatio,wt=Y.x1*ot+Ye.point.x,Vt=Y.y1*ot+Ye.point.y,qt=Y.x2*ot+Ye.point.x,pr=Y.y2*ot+Ye.point.y;return!this.isInsideGrid(wt,Vt,qt,pr)||!ve&&this.grid.hitTest(wt,Vt,qt,pr,De)?{box:[],offscreen:!1}:{box:[wt,Vt,qt,pr],offscreen:this.isOffscreen(wt,Vt,qt,pr)}},cn.prototype.placeCollisionCircles=function(Y,ve,q,de,De,Ye,ot,wt,Vt,qt,pr,wr,Vr){var $r=[],qr=new a.Point(ve.anchorX,ve.anchorY),Jr=Zr(qr,Ye),sn=un(this.transform.cameraToCenterDistance,Jr.signedDistanceFromCamera),gn=qt?De/sn:De*sn,On=gn/a.ONE_EM,Zn=Zr(qr,ot).point,ra={},ia=ve.lineOffsetX*On,aa=ve.lineOffsetY*On,ga=Rn(On,de,ia,aa,!1,Zn,qr,ve,q,ot,ra),Ea=!1,Ma=!1,Ra=!0;if(ga){for(var ka=wr*.5*sn+Vr,Ga=new a.Point(-dn,-dn),Ja=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),Ci=new Hn,qa=ga.first,vi=ga.last,Ua=[],Li=qa.path.length-1;Li>=1;Li--)Ua.push(qa.path[Li]);for(var Pi=1;Pi<vi.path.length;Pi++)Ua.push(vi.path[Pi]);var Di=ka*2.5;if(wt){var gi=Ua.map(function(Ru){return Zr(Ru,wt)});gi.some(function(Ru){return Ru.signedDistanceFromCamera<=0})?Ua=[]:Ua=gi.map(function(Ru){return Ru.point})}var Bi=[];if(Ua.length>0){for(var $a=Ua[0].clone(),yi=Ua[0].clone(),to=1;to<Ua.length;to++)$a.x=Math.min($a.x,Ua[to].x),$a.y=Math.min($a.y,Ua[to].y),yi.x=Math.max(yi.x,Ua[to].x),yi.y=Math.max(yi.y,Ua[to].y);$a.x>=Ga.x&&yi.x<=Ja.x&&$a.y>=Ga.y&&yi.y<=Ja.y?Bi=[Ua]:yi.x<Ga.x||$a.x>Ja.x||yi.y<Ga.y||$a.y>Ja.y?Bi=[]:Bi=a.clipLine([Ua],Ga.x,Ga.y,Ja.x,Ja.y)}for(var Mo=0,Pl=Bi;Mo<Pl.length;Mo+=1){var Rl=Pl[Mo];Ci.reset(Rl,ka*.25);var Eu=0;Ci.length<=.5*ka?Eu=1:Eu=Math.ceil(Ci.paddedLength/Di)+1;for(var Cu=0;Cu<Eu;Cu++){var uf=Cu/Math.max(Eu-1,1),Lu=Ci.lerp(uf),Ls=Lu.x+dn,Ff=Lu.y+dn;$r.push(Ls,Ff,ka,0);var rs=Ls-ka,hl=Ff-ka,Pu=Ls+ka,ql=Ff+ka;if(Ra=Ra&&this.isOffscreen(rs,hl,Pu,ql),Ma=Ma||this.isInsideGrid(rs,hl,Pu,ql),!Y&&this.grid.hitTestCircle(Ls,Ff,ka,pr)&&(Ea=!0,!Vt))return{circles:[],offscreen:!1,collisionDetected:Ea}}}}return{circles:!Vt&&Ea||!Ma?[]:$r,offscreen:Ra,collisionDetected:Ea}},cn.prototype.queryRenderedSymbols=function(Y){if(Y.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var ve=[],q=1/0,de=1/0,De=-1/0,Ye=-1/0,ot=0,wt=Y;ot<wt.length;ot+=1){var Vt=wt[ot],qt=new a.Point(Vt.x+dn,Vt.y+dn);q=Math.min(q,qt.x),de=Math.min(de,qt.y),De=Math.max(De,qt.x),Ye=Math.max(Ye,qt.y),ve.push(qt)}for(var pr=this.grid.query(q,de,De,Ye).concat(this.ignoredGrid.query(q,de,De,Ye)),wr={},Vr={},$r=0,qr=pr;$r<qr.length;$r+=1){var Jr=qr[$r],sn=Jr.key;if(wr[sn.bucketInstanceId]===void 0&&(wr[sn.bucketInstanceId]={}),!wr[sn.bucketInstanceId][sn.featureIndex]){var gn=[new a.Point(Jr.x1,Jr.y1),new a.Point(Jr.x2,Jr.y1),new a.Point(Jr.x2,Jr.y2),new a.Point(Jr.x1,Jr.y2)];a.polygonIntersectsPolygon(ve,gn)&&(wr[sn.bucketInstanceId][sn.featureIndex]=!0,Vr[sn.bucketInstanceId]===void 0&&(Vr[sn.bucketInstanceId]=[]),Vr[sn.bucketInstanceId].push(sn.featureIndex))}}return Vr},cn.prototype.insertCollisionBox=function(Y,ve,q,de,De){var Ye=ve?this.ignoredGrid:this.grid,ot={bucketInstanceId:q,featureIndex:de,collisionGroupID:De};Ye.insert(ot,Y[0],Y[1],Y[2],Y[3])},cn.prototype.insertCollisionCircles=function(Y,ve,q,de,De){for(var Ye=ve?this.ignoredGrid:this.grid,ot={bucketInstanceId:q,featureIndex:de,collisionGroupID:De},wt=0;wt<Y.length;wt+=4)Ye.insertCircle(ot,Y[wt],Y[wt+1],Y[wt+2])},cn.prototype.projectAndGetPerspectiveRatio=function(Y,ve,q){var de=[ve,q,0,1];Pr(de,de,Y);var De=new a.Point((de[0]/de[3]+1)/2*this.transform.width+dn,(-de[1]/de[3]+1)/2*this.transform.height+dn);return{point:De,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/de[3])}},cn.prototype.isOffscreen=function(Y,ve,q,de){return q<dn||Y>=this.screenRightBoundary||de<dn||ve>this.screenBottomBoundary},cn.prototype.isInsideGrid=function(Y,ve,q,de){return q>=0&&Y<this.gridRightBoundary&&de>=0&&ve<this.gridBottomBoundary},cn.prototype.getViewportMatrix=function(){var Y=a.identity([]);return a.translate(Y,Y,[-dn,-dn,0]),Y};function An(ce,Y,ve){return Y*(a.EXTENT/(ce.tileSize*Math.pow(2,ve-ce.tileID.overscaledZ)))}var Qn=function(Y,ve,q,de){Y?this.opacity=Math.max(0,Math.min(1,Y.opacity+(Y.placed?ve:-ve))):this.opacity=de&&q?1:0,this.placed=q};Qn.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var zn=function(Y,ve,q,de,De){this.text=new Qn(Y?Y.text:null,ve,q,De),this.icon=new Qn(Y?Y.icon:null,ve,de,De)};zn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Bn=function(Y,ve,q){this.text=Y,this.icon=ve,this.skipFade=q},qn=function(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]},ya=function(Y,ve,q,de,De){this.bucketInstanceId=Y,this.featureIndex=ve,this.sourceLayerIndex=q,this.bucketIndex=de,this.tileID=De},Na=function(Y){this.crossSourceCollisions=Y,this.maxGroupID=0,this.collisionGroups={}};Na.prototype.get=function(Y){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[Y]){var ve=++this.maxGroupID;this.collisionGroups[Y]={ID:ve,predicate:function(q){return q.collisionGroupID===ve}}}return this.collisionGroups[Y]};function ii(ce,Y,ve,q,de){var De=a.getAnchorAlignment(ce),Ye=De.horizontalAlign,ot=De.verticalAlign,wt=-(Ye-.5)*Y,Vt=-(ot-.5)*ve,qt=a.evaluateVariableOffset(ce,q);return new a.Point(wt+qt[0]*de,Vt+qt[1]*de)}function Jt(ce,Y,ve,q,de,De){var Ye=ce.x1,ot=ce.x2,wt=ce.y1,Vt=ce.y2,qt=ce.anchorPointX,pr=ce.anchorPointY,wr=new a.Point(Y,ve);return q&&wr._rotate(de?De:-De),{x1:Ye+wr.x,y1:wt+wr.y,x2:ot+wr.x,y2:Vt+wr.y,anchorPointX:qt,anchorPointY:pr}}var Mr=function(Y,ve,q,de){this.transform=Y.clone(),this.collisionIndex=new cn(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=ve,this.retainedQueryData={},this.collisionGroups=new Na(q),this.collisionCircleArrays={},this.prevPlacement=de,de&&(de.prevPlacement=void 0),this.placedOrientations={}};Mr.prototype.getBucketParts=function(Y,ve,q,de){var De=q.getBucket(ve),Ye=q.latestFeatureIndex;if(!(!De||!Ye||ve.id!==De.layerIds[0])){var ot=q.collisionBoxArray,wt=De.layers[0].layout,Vt=Math.pow(2,this.transform.zoom-q.tileID.overscaledZ),qt=q.tileSize/a.EXTENT,pr=this.transform.calculatePosMatrix(q.tileID.toUnwrapped()),wr=wt.get("text-pitch-alignment")==="map",Vr=wt.get("text-rotation-alignment")==="map",$r=An(q,1,this.transform.zoom),qr=Cr(pr,wr,Vr,this.transform,$r),Jr=null;if(wr){var sn=Yr(pr,wr,Vr,this.transform,$r);Jr=a.multiply([],this.transform.labelPlaneMatrix,sn)}this.retainedQueryData[De.bucketInstanceId]=new ya(De.bucketInstanceId,Ye,De.sourceLayerIndex,De.index,q.tileID);var gn={bucket:De,layout:wt,posMatrix:pr,textLabelPlaneMatrix:qr,labelToScreenMatrix:Jr,scale:Vt,textPixelRatio:qt,holdingForFade:q.holdingForFade(),collisionBoxArray:ot,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(De.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(De.sourceID)};if(de)for(var On=0,Zn=De.sortKeyRanges;On<Zn.length;On+=1){var ra=Zn[On],ia=ra.sortKey,aa=ra.symbolInstanceStart,ga=ra.symbolInstanceEnd;Y.push({sortKey:ia,symbolInstanceStart:aa,symbolInstanceEnd:ga,parameters:gn})}else Y.push({symbolInstanceStart:0,symbolInstanceEnd:De.symbolInstances.length,parameters:gn})}},Mr.prototype.attemptAnchorPlacement=function(Y,ve,q,de,De,Ye,ot,wt,Vt,qt,pr,wr,Vr,$r,qr){var Jr=[wr.textOffset0,wr.textOffset1],sn=ii(Y,q,de,Jr,De),gn=this.collisionIndex.placeCollisionBox(Jt(ve,sn.x,sn.y,Ye,ot,this.transform.angle),pr,wt,Vt,qt.predicate);if(qr){var On=this.collisionIndex.placeCollisionBox(Jt(qr,sn.x,sn.y,Ye,ot,this.transform.angle),pr,wt,Vt,qt.predicate);if(On.box.length===0)return}if(gn.box.length>0){var Zn;return this.prevPlacement&&this.prevPlacement.variableOffsets[wr.crossTileID]&&this.prevPlacement.placements[wr.crossTileID]&&this.prevPlacement.placements[wr.crossTileID].text&&(Zn=this.prevPlacement.variableOffsets[wr.crossTileID].anchor),this.variableOffsets[wr.crossTileID]={textOffset:Jr,width:q,height:de,anchor:Y,textBoxScale:De,prevAnchor:Zn},this.markUsedJustification(Vr,Y,wr,$r),Vr.allowVerticalPlacement&&(this.markUsedOrientation(Vr,$r,wr),this.placedOrientations[wr.crossTileID]=$r),{shift:sn,placedGlyphBoxes:gn}}},Mr.prototype.placeLayerBucketPart=function(Y,ve,q){var de=this,De=Y.parameters,Ye=De.bucket,ot=De.layout,wt=De.posMatrix,Vt=De.textLabelPlaneMatrix,qt=De.labelToScreenMatrix,pr=De.textPixelRatio,wr=De.holdingForFade,Vr=De.collisionBoxArray,$r=De.partiallyEvaluatedTextSize,qr=De.collisionGroup,Jr=ot.get("text-optional"),sn=ot.get("icon-optional"),gn=ot.get("text-allow-overlap"),On=ot.get("icon-allow-overlap"),Zn=ot.get("text-rotation-alignment")==="map",ra=ot.get("text-pitch-alignment")==="map",ia=ot.get("icon-text-fit")!=="none",aa=ot.get("symbol-z-order")==="viewport-y",ga=gn&&(On||!Ye.hasIconData()||sn),Ea=On&&(gn||!Ye.hasTextData()||Jr);!Ye.collisionArrays&&Vr&&Ye.deserializeCollisionBoxes(Vr);var Ma=function(qa,vi){if(!ve[qa.crossTileID]){if(wr){de.placements[qa.crossTileID]=new Bn(!1,!1,!1);return}var Ua=!1,Li=!1,Pi=!0,Di=null,gi={box:null,offscreen:null},Bi={box:null,offscreen:null},$a=null,yi=null,to=null,Mo=0,Pl=0,Rl=0;vi.textFeatureIndex?Mo=vi.textFeatureIndex:qa.useRuntimeCollisionCircles&&(Mo=qa.featureIndex),vi.verticalTextFeatureIndex&&(Pl=vi.verticalTextFeatureIndex);var Eu=vi.textBox;if(Eu){var Cu=function(fo){var Xs=a.WritingMode.horizontal;if(Ye.allowVerticalPlacement&&!fo&&de.prevPlacement){var js=de.prevPlacement.placedOrientations[qa.crossTileID];js&&(de.placedOrientations[qa.crossTileID]=js,Xs=js,de.markUsedOrientation(Ye,Xs,qa))}return Xs},uf=function(fo,Xs){if(Ye.allowVerticalPlacement&&qa.numVerticalGlyphVertices>0&&vi.verticalTextBox)for(var js=0,ah=Ye.writingModes;js<ah.length;js+=1){var Zh=ah[js];if(Zh===a.WritingMode.vertical?(gi=Xs(),Bi=gi):gi=fo(),gi&&gi.box&&gi.box.length)break}else gi=fo()};if(ot.get("text-variable-anchor")){var rs=ot.get("text-variable-anchor");if(de.prevPlacement&&de.prevPlacement.variableOffsets[qa.crossTileID]){var hl=de.prevPlacement.variableOffsets[qa.crossTileID];rs.indexOf(hl.anchor)>0&&(rs=rs.filter(function(fo){return fo!==hl.anchor}),rs.unshift(hl.anchor))}var Pu=function(fo,Xs,js){for(var ah=fo.x2-fo.x1,Zh=fo.y2-fo.y1,_d=qa.textBoxScale,Fd=ia&&!On?Xs:null,zc={box:[],offscreen:!1},zd=gn?rs.length*2:rs.length,ih=0;ih<zd;++ih){var Od=rs[ih%rs.length],Bd=ih>=rs.length,Xh=de.attemptAnchorPlacement(Od,fo,ah,Zh,_d,Zn,ra,pr,wt,qr,Bd,qa,Ye,js,Fd);if(Xh&&(zc=Xh.placedGlyphBoxes,zc&&zc.box&&zc.box.length)){Ua=!0,Di=Xh.shift;break}}return zc},ql=function(){return Pu(Eu,vi.iconBox,a.WritingMode.horizontal)},Ru=function(){var fo=vi.verticalTextBox,Xs=gi&&gi.box&&gi.box.length;return Ye.allowVerticalPlacement&&!Xs&&qa.numVerticalGlyphVertices>0&&fo?Pu(fo,vi.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}};uf(ql,Ru),gi&&(Ua=gi.box,Pi=gi.offscreen);var eh=Cu(gi&&gi.box);if(!Ua&&de.prevPlacement){var Kf=de.prevPlacement.variableOffsets[qa.crossTileID];Kf&&(de.variableOffsets[qa.crossTileID]=Kf,de.markUsedJustification(Ye,Kf.anchor,qa,eh))}}else{var Lu=function(fo,Xs){var js=de.collisionIndex.placeCollisionBox(fo,gn,pr,wt,qr.predicate);return js&&js.box&&js.box.length&&(de.markUsedOrientation(Ye,Xs,qa),de.placedOrientations[qa.crossTileID]=Xs),js},Ls=function(){return Lu(Eu,a.WritingMode.horizontal)},Ff=function(){var fo=vi.verticalTextBox;return Ye.allowVerticalPlacement&&qa.numVerticalGlyphVertices>0&&fo?Lu(fo,a.WritingMode.vertical):{box:null,offscreen:null}};uf(Ls,Ff),Cu(gi&&gi.box&&gi.box.length)}}if($a=gi,Ua=$a&&$a.box&&$a.box.length>0,Pi=$a&&$a.offscreen,qa.useRuntimeCollisionCircles){var Zo=Ye.text.placedSymbolArray.get(qa.centerJustifiedTextSymbolIndex),_c=a.evaluateSizeForFeature(Ye.textSizeData,$r,Zo),cs=ot.get("text-padding"),Fc=qa.collisionCircleDiameter;yi=de.collisionIndex.placeCollisionCircles(gn,Zo,Ye.lineVertexArray,Ye.glyphOffsetArray,_c,wt,Vt,qt,q,ra,qr.predicate,Fc,cs),Ua=gn||yi.circles.length>0&&!yi.collisionDetected,Pi=Pi&&yi.offscreen}if(vi.iconFeatureIndex&&(Rl=vi.iconFeatureIndex),vi.iconBox){var th=function(fo){var Xs=ia&&Di?Jt(fo,Di.x,Di.y,Zn,ra,de.transform.angle):fo;return de.collisionIndex.placeCollisionBox(Xs,On,pr,wt,qr.predicate)};Bi&&Bi.box&&Bi.box.length&&vi.verticalIconBox?(to=th(vi.verticalIconBox),Li=to.box.length>0):(to=th(vi.iconBox),Li=to.box.length>0),Pi=Pi&&to.offscreen}var rh=Jr||qa.numHorizontalGlyphVertices===0&&qa.numVerticalGlyphVertices===0,Lv=sn||qa.numIconVertices===0;if(!rh&&!Lv?Li=Ua=Li&&Ua:Lv?rh||(Li=Li&&Ua):Ua=Li&&Ua,Ua&&$a&&$a.box&&(Bi&&Bi.box&&Pl?de.collisionIndex.insertCollisionBox($a.box,ot.get("text-ignore-placement"),Ye.bucketInstanceId,Pl,qr.ID):de.collisionIndex.insertCollisionBox($a.box,ot.get("text-ignore-placement"),Ye.bucketInstanceId,Mo,qr.ID)),Li&&to&&de.collisionIndex.insertCollisionBox(to.box,ot.get("icon-ignore-placement"),Ye.bucketInstanceId,Rl,qr.ID),yi&&(Ua&&de.collisionIndex.insertCollisionCircles(yi.circles,ot.get("text-ignore-placement"),Ye.bucketInstanceId,Mo,qr.ID),q)){var nh=Ye.bucketInstanceId,dc=de.collisionCircleArrays[nh];dc===void 0&&(dc=de.collisionCircleArrays[nh]=new qn);for(var pc=0;pc<yi.circles.length;pc+=4)dc.circles.push(yi.circles[pc+0]),dc.circles.push(yi.circles[pc+1]),dc.circles.push(yi.circles[pc+2]),dc.circles.push(yi.collisionDetected?1:0)}de.placements[qa.crossTileID]=new Bn(Ua||ga,Li||Ea,Pi||Ye.justReloaded),ve[qa.crossTileID]=!0}};if(aa)for(var Ra=Ye.getSortedSymbolIndexes(this.transform.angle),ka=Ra.length-1;ka>=0;--ka){var Ga=Ra[ka];Ma(Ye.symbolInstances.get(Ga),Ye.collisionArrays[Ga])}else for(var Ja=Y.symbolInstanceStart;Ja<Y.symbolInstanceEnd;Ja++)Ma(Ye.symbolInstances.get(Ja),Ye.collisionArrays[Ja]);if(q&&Ye.bucketInstanceId in this.collisionCircleArrays){var Ci=this.collisionCircleArrays[Ye.bucketInstanceId];a.invert(Ci.invProjMatrix,wt),Ci.viewportMatrix=this.collisionIndex.getViewportMatrix()}Ye.justReloaded=!1},Mr.prototype.markUsedJustification=function(Y,ve,q,de){var De={left:q.leftJustifiedTextSymbolIndex,center:q.centerJustifiedTextSymbolIndex,right:q.rightJustifiedTextSymbolIndex},Ye;de===a.WritingMode.vertical?Ye=q.verticalPlacedTextSymbolIndex:Ye=De[a.getAnchorJustification(ve)];for(var ot=[q.leftJustifiedTextSymbolIndex,q.centerJustifiedTextSymbolIndex,q.rightJustifiedTextSymbolIndex,q.verticalPlacedTextSymbolIndex],wt=0,Vt=ot;wt<Vt.length;wt+=1){var qt=Vt[wt];qt>=0&&(Ye>=0&&qt!==Ye?Y.text.placedSymbolArray.get(qt).crossTileID=0:Y.text.placedSymbolArray.get(qt).crossTileID=q.crossTileID)}},Mr.prototype.markUsedOrientation=function(Y,ve,q){for(var de=ve===a.WritingMode.horizontal||ve===a.WritingMode.horizontalOnly?ve:0,De=ve===a.WritingMode.vertical?ve:0,Ye=[q.leftJustifiedTextSymbolIndex,q.centerJustifiedTextSymbolIndex,q.rightJustifiedTextSymbolIndex],ot=0,wt=Ye;ot<wt.length;ot+=1){var Vt=wt[ot];Y.text.placedSymbolArray.get(Vt).placedOrientation=de}q.verticalPlacedTextSymbolIndex&&(Y.text.placedSymbolArray.get(q.verticalPlacedTextSymbolIndex).placedOrientation=De)},Mr.prototype.commit=function(Y){this.commitTime=Y,this.zoomAtLastRecencyCheck=this.transform.zoom;var ve=this.prevPlacement,q=!1;this.prevZoomAdjustment=ve?ve.zoomAdjustment(this.transform.zoom):0;var de=ve?ve.symbolFadeChange(Y):1,De=ve?ve.opacities:{},Ye=ve?ve.variableOffsets:{},ot=ve?ve.placedOrientations:{};for(var wt in this.placements){var Vt=this.placements[wt],qt=De[wt];qt?(this.opacities[wt]=new zn(qt,de,Vt.text,Vt.icon),q=q||Vt.text!==qt.text.placed||Vt.icon!==qt.icon.placed):(this.opacities[wt]=new zn(null,de,Vt.text,Vt.icon,Vt.skipFade),q=q||Vt.text||Vt.icon)}for(var pr in De){var wr=De[pr];if(!this.opacities[pr]){var Vr=new zn(wr,de,!1,!1);Vr.isHidden()||(this.opacities[pr]=Vr,q=q||wr.text.placed||wr.icon.placed)}}for(var $r in Ye)!this.variableOffsets[$r]&&this.opacities[$r]&&!this.opacities[$r].isHidden()&&(this.variableOffsets[$r]=Ye[$r]);for(var qr in ot)!this.placedOrientations[qr]&&this.opacities[qr]&&!this.opacities[qr].isHidden()&&(this.placedOrientations[qr]=ot[qr]);q?this.lastPlacementChangeTime=Y:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=ve?ve.lastPlacementChangeTime:Y)},Mr.prototype.updateLayerOpacities=function(Y,ve){for(var q={},de=0,De=ve;de<De.length;de+=1){var Ye=De[de],ot=Ye.getBucket(Y);ot&&Ye.latestFeatureIndex&&Y.id===ot.layerIds[0]&&this.updateBucketOpacities(ot,q,Ye.collisionBoxArray)}},Mr.prototype.updateBucketOpacities=function(Y,ve,q){var de=this;Y.hasTextData()&&Y.text.opacityVertexArray.clear(),Y.hasIconData()&&Y.icon.opacityVertexArray.clear(),Y.hasIconCollisionBoxData()&&Y.iconCollisionBox.collisionVertexArray.clear(),Y.hasTextCollisionBoxData()&&Y.textCollisionBox.collisionVertexArray.clear();var De=Y.layers[0].layout,Ye=new zn(null,0,!1,!1,!0),ot=De.get("text-allow-overlap"),wt=De.get("icon-allow-overlap"),Vt=De.get("text-variable-anchor"),qt=De.get("text-rotation-alignment")==="map",pr=De.get("text-pitch-alignment")==="map",wr=De.get("icon-text-fit")!=="none",Vr=new zn(null,0,ot&&(wt||!Y.hasIconData()||De.get("icon-optional")),wt&&(ot||!Y.hasTextData()||De.get("text-optional")),!0);!Y.collisionArrays&&q&&(Y.hasIconCollisionBoxData()||Y.hasTextCollisionBoxData())&&Y.deserializeCollisionBoxes(q);for(var $r=function(gn,On,Zn){for(var ra=0;ra<On/4;ra++)gn.opacityVertexArray.emplaceBack(Zn)},qr=function(gn){var On=Y.symbolInstances.get(gn),Zn=On.numHorizontalGlyphVertices,ra=On.numVerticalGlyphVertices,ia=On.crossTileID,aa=ve[ia],ga=de.opacities[ia];aa?ga=Ye:ga||(ga=Vr,de.opacities[ia]=ga),ve[ia]=!0;var Ea=Zn>0||ra>0,Ma=On.numIconVertices>0,Ra=de.placedOrientations[On.crossTileID],ka=Ra===a.WritingMode.vertical,Ga=Ra===a.WritingMode.horizontal||Ra===a.WritingMode.horizontalOnly;if(Ea){var Ja=Gr(ga.text),Ci=ka?wn:Ja;$r(Y.text,Zn,Ci);var qa=Ga?wn:Ja;$r(Y.text,ra,qa);var vi=ga.text.isHidden();[On.rightJustifiedTextSymbolIndex,On.centerJustifiedTextSymbolIndex,On.leftJustifiedTextSymbolIndex].forEach(function(Rl){Rl>=0&&(Y.text.placedSymbolArray.get(Rl).hidden=vi||ka?1:0)}),On.verticalPlacedTextSymbolIndex>=0&&(Y.text.placedSymbolArray.get(On.verticalPlacedTextSymbolIndex).hidden=vi||Ga?1:0);var Ua=de.variableOffsets[On.crossTileID];Ua&&de.markUsedJustification(Y,Ua.anchor,On,Ra);var Li=de.placedOrientations[On.crossTileID];Li&&(de.markUsedJustification(Y,"left",On,Li),de.markUsedOrientation(Y,Li,On))}if(Ma){var Pi=Gr(ga.icon),Di=!(wr&&On.verticalPlacedIconSymbolIndex&&ka);if(On.placedIconSymbolIndex>=0){var gi=Di?Pi:wn;$r(Y.icon,On.numIconVertices,gi),Y.icon.placedSymbolArray.get(On.placedIconSymbolIndex).hidden=ga.icon.isHidden()}if(On.verticalPlacedIconSymbolIndex>=0){var Bi=Di?wn:Pi;$r(Y.icon,On.numVerticalIconVertices,Bi),Y.icon.placedSymbolArray.get(On.verticalPlacedIconSymbolIndex).hidden=ga.icon.isHidden()}}if(Y.hasIconCollisionBoxData()||Y.hasTextCollisionBoxData()){var $a=Y.collisionArrays[gn];if($a){var yi=new a.Point(0,0);if($a.textBox||$a.verticalTextBox){var to=!0;if(Vt){var Mo=de.variableOffsets[ia];Mo?(yi=ii(Mo.anchor,Mo.width,Mo.height,Mo.textOffset,Mo.textBoxScale),qt&&yi._rotate(pr?de.transform.angle:-de.transform.angle)):to=!1}$a.textBox&&hn(Y.textCollisionBox.collisionVertexArray,ga.text.placed,!to||ka,yi.x,yi.y),$a.verticalTextBox&&hn(Y.textCollisionBox.collisionVertexArray,ga.text.placed,!to||Ga,yi.x,yi.y)}var Pl=!!(!Ga&&$a.verticalIconBox);$a.iconBox&&hn(Y.iconCollisionBox.collisionVertexArray,ga.icon.placed,Pl,wr?yi.x:0,wr?yi.y:0),$a.verticalIconBox&&hn(Y.iconCollisionBox.collisionVertexArray,ga.icon.placed,!Pl,wr?yi.x:0,wr?yi.y:0)}}},Jr=0;Jr<Y.symbolInstances.length;Jr++)qr(Jr);if(Y.sortFeatures(this.transform.angle),this.retainedQueryData[Y.bucketInstanceId]&&(this.retainedQueryData[Y.bucketInstanceId].featureSortOrder=Y.featureSortOrder),Y.hasTextData()&&Y.text.opacityVertexBuffer&&Y.text.opacityVertexBuffer.updateData(Y.text.opacityVertexArray),Y.hasIconData()&&Y.icon.opacityVertexBuffer&&Y.icon.opacityVertexBuffer.updateData(Y.icon.opacityVertexArray),Y.hasIconCollisionBoxData()&&Y.iconCollisionBox.collisionVertexBuffer&&Y.iconCollisionBox.collisionVertexBuffer.updateData(Y.iconCollisionBox.collisionVertexArray),Y.hasTextCollisionBoxData()&&Y.textCollisionBox.collisionVertexBuffer&&Y.textCollisionBox.collisionVertexBuffer.updateData(Y.textCollisionBox.collisionVertexArray),Y.bucketInstanceId in this.collisionCircleArrays){var sn=this.collisionCircleArrays[Y.bucketInstanceId];Y.placementInvProjMatrix=sn.invProjMatrix,Y.placementViewportMatrix=sn.viewportMatrix,Y.collisionCircleArray=sn.circles,delete this.collisionCircleArrays[Y.bucketInstanceId]}},Mr.prototype.symbolFadeChange=function(Y){return this.fadeDuration===0?1:(Y-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Mr.prototype.zoomAdjustment=function(Y){return Math.max(0,(this.transform.zoom-Y)/1.5)},Mr.prototype.hasTransitions=function(Y){return this.stale||Y-this.lastPlacementChangeTime<this.fadeDuration},Mr.prototype.stillRecent=function(Y,ve){var q=this.zoomAtLastRecencyCheck===ve?1-this.zoomAdjustment(ve):1;return this.zoomAtLastRecencyCheck=ve,this.commitTime+this.fadeDuration*q>Y},Mr.prototype.setStale=function(){this.stale=!0};function hn(ce,Y,ve,q,de){ce.emplaceBack(Y?1:0,ve?1:0,q||0,de||0),ce.emplaceBack(Y?1:0,ve?1:0,q||0,de||0),ce.emplaceBack(Y?1:0,ve?1:0,q||0,de||0),ce.emplaceBack(Y?1:0,ve?1:0,q||0,de||0)}var xn=Math.pow(2,25),bn=Math.pow(2,24),Nn=Math.pow(2,17),Pn=Math.pow(2,16),yn=Math.pow(2,9),zr=Math.pow(2,8),_r=Math.pow(2,1);function Gr(ce){if(ce.opacity===0&&!ce.placed)return 0;if(ce.opacity===1&&ce.placed)return 4294967295;var Y=ce.placed?1:0,ve=Math.floor(ce.opacity*127);return ve*xn+Y*bn+ve*Nn+Y*Pn+ve*yn+Y*zr+ve*_r+Y}var wn=0,Yn=function(Y){this._sortAcrossTiles=Y.layout.get("symbol-z-order")!=="viewport-y"&&Y.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Yn.prototype.continuePlacement=function(Y,ve,q,de,De){for(var Ye=this._bucketParts;this._currentTileIndex<Y.length;){var ot=Y[this._currentTileIndex];if(ve.getBucketParts(Ye,de,ot,this._sortAcrossTiles),this._currentTileIndex++,De())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Ye.sort(function(Vt,qt){return Vt.sortKey-qt.sortKey}));this._currentPartIndex<Ye.length;){var wt=Ye[this._currentPartIndex];if(ve.placeLayerBucketPart(wt,this._seenCrossTileIDs,q),this._currentPartIndex++,De())return!0}return!1};var ta=function(Y,ve,q,de,De,Ye,ot){this.placement=new Mr(Y,De,Ye,ot),this._currentPlacementIndex=ve.length-1,this._forceFullPlacement=q,this._showCollisionBoxes=de,this._done=!1};ta.prototype.isDone=function(){return this._done},ta.prototype.continuePlacement=function(Y,ve,q){for(var de=this,De=a.browser.now(),Ye=function(){var pr=a.browser.now()-De;return de._forceFullPlacement?!1:pr>2};this._currentPlacementIndex>=0;){var ot=Y[this._currentPlacementIndex],wt=ve[ot],Vt=this.placement.collisionIndex.transform.zoom;if(wt.type==="symbol"&&(!wt.minzoom||wt.minzoom<=Vt)&&(!wt.maxzoom||wt.maxzoom>Vt)){this._inProgressLayer||(this._inProgressLayer=new Yn(wt));var qt=this._inProgressLayer.continuePlacement(q[wt.source],this.placement,this._showCollisionBoxes,wt,Ye);if(qt)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},ta.prototype.commit=function(Y){return this.placement.commit(Y),this.placement};var Mn=512/a.EXTENT/2,jn=function(Y,ve,q){this.tileID=Y,this.indexedSymbolInstances={},this.bucketInstanceId=q;for(var de=0;de<ve.length;de++){var De=ve.get(de),Ye=De.key;this.indexedSymbolInstances[Ye]||(this.indexedSymbolInstances[Ye]=[]),this.indexedSymbolInstances[Ye].push({crossTileID:De.crossTileID,coord:this.getScaledCoordinates(De,Y)})}};jn.prototype.getScaledCoordinates=function(Y,ve){var q=ve.canonical.z-this.tileID.canonical.z,de=Mn/Math.pow(2,q);return{x:Math.floor((ve.canonical.x*a.EXTENT+Y.anchorX)*de),y:Math.floor((ve.canonical.y*a.EXTENT+Y.anchorY)*de)}},jn.prototype.findMatches=function(Y,ve,q){for(var de=this.tileID.canonical.z<ve.canonical.z?1:Math.pow(2,this.tileID.canonical.z-ve.canonical.z),De=0;De<Y.length;De++){var Ye=Y.get(De);if(!Ye.crossTileID){var ot=this.indexedSymbolInstances[Ye.key];if(ot)for(var wt=this.getScaledCoordinates(Ye,ve),Vt=0,qt=ot;Vt<qt.length;Vt+=1){var pr=qt[Vt];if(Math.abs(pr.coord.x-wt.x)<=de&&Math.abs(pr.coord.y-wt.y)<=de&&!q[pr.crossTileID]){q[pr.crossTileID]=!0,Ye.crossTileID=pr.crossTileID;break}}}}};var fa=function(){this.maxCrossTileID=0};fa.prototype.generate=function(){return++this.maxCrossTileID};var Ta=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Ta.prototype.handleWrapJump=function(Y){var ve=Math.round((Y-this.lng)/360);if(ve!==0)for(var q in this.indexes){var de=this.indexes[q],De={};for(var Ye in de){var ot=de[Ye];ot.tileID=ot.tileID.unwrapTo(ot.tileID.wrap+ve),De[ot.tileID.key]=ot}this.indexes[q]=De}this.lng=Y},Ta.prototype.addBucket=function(Y,ve,q){if(this.indexes[Y.overscaledZ]&&this.indexes[Y.overscaledZ][Y.key]){if(this.indexes[Y.overscaledZ][Y.key].bucketInstanceId===ve.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(Y.overscaledZ,this.indexes[Y.overscaledZ][Y.key])}for(var de=0;de<ve.symbolInstances.length;de++){var De=ve.symbolInstances.get(de);De.crossTileID=0}this.usedCrossTileIDs[Y.overscaledZ]||(this.usedCrossTileIDs[Y.overscaledZ]={});var Ye=this.usedCrossTileIDs[Y.overscaledZ];for(var ot in this.indexes){var wt=this.indexes[ot];if(Number(ot)>Y.overscaledZ)for(var Vt in wt){var qt=wt[Vt];qt.tileID.isChildOf(Y)&&qt.findMatches(ve.symbolInstances,Y,Ye)}else{var pr=Y.scaledTo(Number(ot)),wr=wt[pr.key];wr&&wr.findMatches(ve.symbolInstances,Y,Ye)}}for(var Vr=0;Vr<ve.symbolInstances.length;Vr++){var $r=ve.symbolInstances.get(Vr);$r.crossTileID||($r.crossTileID=q.generate(),Ye[$r.crossTileID]=!0)}return this.indexes[Y.overscaledZ]===void 0&&(this.indexes[Y.overscaledZ]={}),this.indexes[Y.overscaledZ][Y.key]=new jn(Y,ve.symbolInstances,ve.bucketInstanceId),!0},Ta.prototype.removeBucketCrossTileIDs=function(Y,ve){for(var q in ve.indexedSymbolInstances)for(var de=0,De=ve.indexedSymbolInstances[q];de<De.length;de+=1){var Ye=De[de];delete this.usedCrossTileIDs[Y][Ye.crossTileID]}},Ta.prototype.removeStaleBuckets=function(Y){var ve=!1;for(var q in this.indexes){var de=this.indexes[q];for(var De in de)Y[de[De].bucketInstanceId]||(this.removeBucketCrossTileIDs(q,de[De]),delete de[De],ve=!0)}return ve};var ba=function(){this.layerIndexes={},this.crossTileIDs=new fa,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};ba.prototype.addLayer=function(Y,ve,q){var de=this.layerIndexes[Y.id];de===void 0&&(de=this.layerIndexes[Y.id]=new Ta);var De=!1,Ye={};de.handleWrapJump(q);for(var ot=0,wt=ve;ot<wt.length;ot+=1){var Vt=wt[ot],qt=Vt.getBucket(Y);!qt||Y.id!==qt.layerIds[0]||(qt.bucketInstanceId||(qt.bucketInstanceId=++this.maxBucketInstanceId),de.addBucket(Vt.tileID,qt,this.crossTileIDs)&&(De=!0),Ye[qt.bucketInstanceId]=!0)}return de.removeStaleBuckets(Ye)&&(De=!0),De},ba.prototype.pruneUnusedLayers=function(Y){var ve={};Y.forEach(function(de){ve[de]=!0});for(var q in this.layerIndexes)ve[q]||delete this.layerIndexes[q]};var ma=function(ce,Y){return a.emitValidationErrors(ce,Y&&Y.filter(function(ve){return ve.identifier!=="source.canvas"}))},Pa=a.pick(Nt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),$i=a.pick(Nt,["setCenter","setZoom","setBearing","setPitch"]),ho=ir(),mo=function(ce){function Y(ve,q){var de=this;q===void 0&&(q={}),ce.call(this),this.map=ve,this.dispatcher=new I(_t(),this),this.imageManager=new b,this.imageManager.setEventedParent(this),this.glyphManager=new M(ve._requestManager,q.localIdeographFontFamily),this.lineAtlas=new _(256,512),this.crossTileSymbolIndex=new ba,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());var De=this;this._rtlTextPluginCallback=Y.registerForPluginStateChange(function(Ye){var ot={pluginStatus:Ye.pluginStatus,pluginURL:Ye.pluginURL};De.dispatcher.broadcast("syncRTLPluginState",ot,function(wt,Vt){if(a.triggerPluginCompletionEvent(wt),Vt){var qt=Vt.every(function(wr){return wr});if(qt)for(var pr in De.sourceCaches)De.sourceCaches[pr].reload()}})}),this.on("data",function(Ye){if(!(Ye.dataType!=="source"||Ye.sourceDataType!=="metadata")){var ot=de.sourceCaches[Ye.sourceId];if(ot){var wt=ot.getSource();if(!(!wt||!wt.vectorLayerIds))for(var Vt in de._layers){var qt=de._layers[Vt];qt.source===wt.id&&de._validateLayer(qt)}}}})}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.loadURL=function(q,de){var De=this;de===void 0&&(de={}),this.fire(new a.Event("dataloading",{dataType:"style"}));var Ye=typeof de.validate=="boolean"?de.validate:!a.isMapboxURL(q);q=this.map._requestManager.normalizeStyleURL(q,de.accessToken);var ot=this.map._requestManager.transformRequest(q,a.ResourceType.Style);this._request=a.getJSON(ot,function(wt,Vt){De._request=null,wt?De.fire(new a.ErrorEvent(wt)):Vt&&De._load(Vt,Ye)})},Y.prototype.loadJSON=function(q,de){var De=this;de===void 0&&(de={}),this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.browser.frame(function(){De._request=null,De._load(q,de.validate!==!1)})},Y.prototype.loadEmpty=function(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(ho,!1)},Y.prototype._load=function(q,de){if(!(de&&ma(this,a.validateStyle(q)))){this._loaded=!0,this.stylesheet=q;for(var De in q.sources)this.addSource(De,q.sources[De],{validate:!1});q.sprite?this._loadSprite(q.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(q.glyphs);var Ye=hr(this.stylesheet.layers);this._order=Ye.map(function(qt){return qt.id}),this._layers={},this._serializedLayers={};for(var ot=0,wt=Ye;ot<wt.length;ot+=1){var Vt=wt[ot];Vt=a.createStyleLayer(Vt),Vt.setEventedParent(this,{layer:{id:Vt.id}}),this._layers[Vt.id]=Vt,this._serializedLayers[Vt.id]=Vt.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new y(this.stylesheet.light),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}},Y.prototype._loadSprite=function(q){var de=this;this._spriteRequest=l(q,this.map._requestManager,function(De,Ye){if(de._spriteRequest=null,De)de.fire(new a.ErrorEvent(De));else if(Ye)for(var ot in Ye)de.imageManager.addImage(ot,Ye[ot]);de.imageManager.setLoaded(!0),de._availableImages=de.imageManager.listImages(),de.dispatcher.broadcast("setImages",de._availableImages),de.fire(new a.Event("data",{dataType:"style"}))})},Y.prototype._validateLayer=function(q){var de=this.sourceCaches[q.source];if(de){var De=q.sourceLayer;if(De){var Ye=de.getSource();(Ye.type==="geojson"||Ye.vectorLayerIds&&Ye.vectorLayerIds.indexOf(De)===-1)&&this.fire(new a.ErrorEvent(new Error('Source layer "'+De+'" does not exist on source "'+Ye.id+'" as specified by style layer "'+q.id+'"')))}}},Y.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var q in this.sourceCaches)if(!this.sourceCaches[q].loaded())return!1;return!!this.imageManager.isLoaded()},Y.prototype._serializeLayers=function(q){for(var de=[],De=0,Ye=q;De<Ye.length;De+=1){var ot=Ye[De],wt=this._layers[ot];wt.type!=="custom"&&de.push(wt.serialize())}return de},Y.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var q in this.sourceCaches)if(this.sourceCaches[q].hasTransition())return!0;for(var de in this._layers)if(this._layers[de].hasTransition())return!0;return!1},Y.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},Y.prototype.update=function(q){if(this._loaded){var de=this._changed;if(this._changed){var De=Object.keys(this._updatedLayers),Ye=Object.keys(this._removedLayers);(De.length||Ye.length)&&this._updateWorkerLayers(De,Ye);for(var ot in this._updatedSources){var wt=this._updatedSources[ot];wt==="reload"?this._reloadSource(ot):wt==="clear"&&this._clearSource(ot)}this._updateTilesForChangedImages();for(var Vt in this._updatedPaintProps)this._layers[Vt].updateTransitions(q);this.light.updateTransitions(q),this._resetUpdates()}for(var qt in this.sourceCaches)this.sourceCaches[qt].used=!1;for(var pr=0,wr=this._order;pr<wr.length;pr+=1){var Vr=wr[pr],$r=this._layers[Vr];$r.recalculate(q,this._availableImages),!$r.isHidden(q.zoom)&&$r.source&&(this.sourceCaches[$r.source].used=!0)}this.light.recalculate(q),this.z=q.zoom,de&&this.fire(new a.Event("data",{dataType:"style"}))}},Y.prototype._updateTilesForChangedImages=function(){var q=Object.keys(this._changedImages);if(q.length){for(var de in this.sourceCaches)this.sourceCaches[de].reloadTilesForDependencies(["icons","patterns"],q);this._changedImages={}}},Y.prototype._updateWorkerLayers=function(q,de){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(q),removedIds:de})},Y.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},Y.prototype.setState=function(q){var de=this;if(this._checkLoaded(),ma(this,a.validateStyle(q)))return!1;q=a.clone$1(q),q.layers=hr(q.layers);var De=Gn(this.serialize(),q).filter(function(ot){return!(ot.command in $i)});if(De.length===0)return!1;var Ye=De.filter(function(ot){return!(ot.command in Pa)});if(Ye.length>0)throw new Error("Unimplemented: "+Ye.map(function(ot){return ot.command}).join(", ")+".");return De.forEach(function(ot){ot.command!=="setTransition"&&de[ot.command].apply(de,ot.args)}),this.stylesheet=q,!0},Y.prototype.addImage=function(q,de){if(this.getImage(q))return this.fire(new a.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(q,de),this._availableImages=this.imageManager.listImages(),this._changedImages[q]=!0,this._changed=!0,this.fire(new a.Event("data",{dataType:"style"}))},Y.prototype.updateImage=function(q,de){this.imageManager.updateImage(q,de)},Y.prototype.getImage=function(q){return this.imageManager.getImage(q)},Y.prototype.removeImage=function(q){if(!this.getImage(q))return this.fire(new a.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(q),this._availableImages=this.imageManager.listImages(),this._changedImages[q]=!0,this._changed=!0,this.fire(new a.Event("data",{dataType:"style"}))},Y.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},Y.prototype.addSource=function(q,de,De){var Ye=this;if(De===void 0&&(De={}),this._checkLoaded(),this.sourceCaches[q]!==void 0)throw new Error("There is already a source with this ID");if(!de.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(de).join(", ")+".");var ot=["vector","raster","geojson","video","image"],wt=ot.indexOf(de.type)>=0;if(!(wt&&this._validate(a.validateStyle.source,"sources."+q,de,null,De))){this.map&&this.map._collectResourceTiming&&(de.collectResourceTiming=!0);var Vt=this.sourceCaches[q]=new Bt(q,de,this.dispatcher);Vt.style=this,Vt.setEventedParent(this,function(){return{isSourceLoaded:Ye.loaded(),source:Vt.serialize(),sourceId:q}}),Vt.onAdd(this.map),this._changed=!0}},Y.prototype.removeSource=function(q){if(this._checkLoaded(),this.sourceCaches[q]===void 0)throw new Error("There is no source with this ID");for(var de in this._layers)if(this._layers[de].source===q)return this.fire(new a.ErrorEvent(new Error('Source "'+q+'" cannot be removed while layer "'+de+'" is using it.')));var De=this.sourceCaches[q];delete this.sourceCaches[q],delete this._updatedSources[q],De.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:q})),De.setEventedParent(null),De.clearTiles(),De.onRemove&&De.onRemove(this.map),this._changed=!0},Y.prototype.setGeoJSONSourceData=function(q,de){this._checkLoaded();var De=this.sourceCaches[q].getSource();De.setData(de),this._changed=!0},Y.prototype.getSource=function(q){return this.sourceCaches[q]&&this.sourceCaches[q].getSource()},Y.prototype.addLayer=function(q,de,De){De===void 0&&(De={}),this._checkLoaded();var Ye=q.id;if(this.getLayer(Ye)){this.fire(new a.ErrorEvent(new Error('Layer with id "'+Ye+'" already exists on this map')));return}var ot;if(q.type==="custom"){if(ma(this,a.validateCustomStyleLayer(q)))return;ot=a.createStyleLayer(q)}else{if(typeof q.source=="object"&&(this.addSource(Ye,q.source),q=a.clone$1(q),q=a.extend(q,{source:Ye})),this._validate(a.validateStyle.layer,"layers."+Ye,q,{arrayIndex:-1},De))return;ot=a.createStyleLayer(q),this._validateLayer(ot),ot.setEventedParent(this,{layer:{id:Ye}}),this._serializedLayers[ot.id]=ot.serialize()}var wt=de?this._order.indexOf(de):this._order.length;if(de&&wt===-1){this.fire(new a.ErrorEvent(new Error('Layer with id "'+de+'" does not exist on this map.')));return}if(this._order.splice(wt,0,Ye),this._layerOrderChanged=!0,this._layers[Ye]=ot,this._removedLayers[Ye]&&ot.source&&ot.type!=="custom"){var Vt=this._removedLayers[Ye];delete this._removedLayers[Ye],Vt.type!==ot.type?this._updatedSources[ot.source]="clear":(this._updatedSources[ot.source]="reload",this.sourceCaches[ot.source].pause())}this._updateLayer(ot),ot.onAdd&&ot.onAdd(this.map)},Y.prototype.moveLayer=function(q,de){this._checkLoaded(),this._changed=!0;var De=this._layers[q];if(!De){this.fire(new a.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be moved.")));return}if(q!==de){var Ye=this._order.indexOf(q);this._order.splice(Ye,1);var ot=de?this._order.indexOf(de):this._order.length;if(de&&ot===-1){this.fire(new a.ErrorEvent(new Error('Layer with id "'+de+'" does not exist on this map.')));return}this._order.splice(ot,0,q),this._layerOrderChanged=!0}},Y.prototype.removeLayer=function(q){this._checkLoaded();var de=this._layers[q];if(!de){this.fire(new a.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be removed.")));return}de.setEventedParent(null);var De=this._order.indexOf(q);this._order.splice(De,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[q]=de,delete this._layers[q],delete this._serializedLayers[q],delete this._updatedLayers[q],delete this._updatedPaintProps[q],de.onRemove&&de.onRemove(this.map)},Y.prototype.getLayer=function(q){return this._layers[q]},Y.prototype.hasLayer=function(q){return q in this._layers},Y.prototype.setLayerZoomRange=function(q,de,De){this._checkLoaded();var Ye=this.getLayer(q);if(!Ye){this.fire(new a.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot have zoom extent.")));return}Ye.minzoom===de&&Ye.maxzoom===De||(de!=null&&(Ye.minzoom=de),De!=null&&(Ye.maxzoom=De),this._updateLayer(Ye))},Y.prototype.setFilter=function(q,de,De){De===void 0&&(De={}),this._checkLoaded();var Ye=this.getLayer(q);if(!Ye){this.fire(new a.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be filtered.")));return}if(!a.deepEqual(Ye.filter,de)){if(de==null){Ye.filter=void 0,this._updateLayer(Ye);return}this._validate(a.validateStyle.filter,"layers."+Ye.id+".filter",de,null,De)||(Ye.filter=a.clone$1(de),this._updateLayer(Ye))}},Y.prototype.getFilter=function(q){return a.clone$1(this.getLayer(q).filter)},Y.prototype.setLayoutProperty=function(q,de,De,Ye){Ye===void 0&&(Ye={}),this._checkLoaded();var ot=this.getLayer(q);if(!ot){this.fire(new a.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be styled.")));return}a.deepEqual(ot.getLayoutProperty(de),De)||(ot.setLayoutProperty(de,De,Ye),this._updateLayer(ot))},Y.prototype.getLayoutProperty=function(q,de){var De=this.getLayer(q);if(!De){this.fire(new a.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style.")));return}return De.getLayoutProperty(de)},Y.prototype.setPaintProperty=function(q,de,De,Ye){Ye===void 0&&(Ye={}),this._checkLoaded();var ot=this.getLayer(q);if(!ot){this.fire(new a.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be styled.")));return}if(!a.deepEqual(ot.getPaintProperty(de),De)){var wt=ot.setPaintProperty(de,De,Ye);wt&&this._updateLayer(ot),this._changed=!0,this._updatedPaintProps[q]=!0}},Y.prototype.getPaintProperty=function(q,de){return this.getLayer(q).getPaintProperty(de)},Y.prototype.setFeatureState=function(q,de){this._checkLoaded();var De=q.source,Ye=q.sourceLayer,ot=this.sourceCaches[De];if(ot===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+De+"' does not exist in the map's style.")));return}var wt=ot.getSource().type;if(wt==="geojson"&&Ye){this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(wt==="vector"&&!Ye){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}q.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),ot.setFeatureState(Ye,q.id,de)},Y.prototype.removeFeatureState=function(q,de){this._checkLoaded();var De=q.source,Ye=this.sourceCaches[De];if(Ye===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+De+"' does not exist in the map's style.")));return}var ot=Ye.getSource().type,wt=ot==="vector"?q.sourceLayer:void 0;if(ot==="vector"&&!wt){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(de&&typeof q.id!="string"&&typeof q.id!="number"){this.fire(new a.ErrorEvent(new Error("A feature id is requred to remove its specific state property.")));return}Ye.removeFeatureState(wt,q.id,de)},Y.prototype.getFeatureState=function(q){this._checkLoaded();var de=q.source,De=q.sourceLayer,Ye=this.sourceCaches[de];if(Ye===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+de+"' does not exist in the map's style.")));return}var ot=Ye.getSource().type;if(ot==="vector"&&!De){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return q.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),Ye.getFeatureState(De,q.id)},Y.prototype.getTransition=function(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},Y.prototype.serialize=function(){return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:a.mapObject(this.sourceCaches,function(q){return q.serialize()}),layers:this._serializeLayers(this._order)},function(q){return q!==void 0})},Y.prototype._updateLayer=function(q){this._updatedLayers[q.id]=!0,q.source&&!this._updatedSources[q.source]&&this.sourceCaches[q.source].getSource().type!=="raster"&&(this._updatedSources[q.source]="reload",this.sourceCaches[q.source].pause()),this._changed=!0},Y.prototype._flattenAndSortRenderedFeatures=function(q){for(var de=this,De=function(Ga){return de._layers[Ga].type==="fill-extrusion"},Ye={},ot=[],wt=this._order.length-1;wt>=0;wt--){var Vt=this._order[wt];if(De(Vt)){Ye[Vt]=wt;for(var qt=0,pr=q;qt<pr.length;qt+=1){var wr=pr[qt],Vr=wr[Vt];if(Vr)for(var $r=0,qr=Vr;$r<qr.length;$r+=1){var Jr=qr[$r];ot.push(Jr)}}}}ot.sort(function(Ga,Ja){return Ja.intersectionZ-Ga.intersectionZ});for(var sn=[],gn=this._order.length-1;gn>=0;gn--){var On=this._order[gn];if(De(On))for(var Zn=ot.length-1;Zn>=0;Zn--){var ra=ot[Zn].feature;if(Ye[ra.layer.id]<gn)break;sn.push(ra),ot.pop()}else for(var ia=0,aa=q;ia<aa.length;ia+=1){var ga=aa[ia],Ea=ga[On];if(Ea)for(var Ma=0,Ra=Ea;Ma<Ra.length;Ma+=1){var ka=Ra[Ma];sn.push(ka.feature)}}}return sn},Y.prototype.queryRenderedFeatures=function(q,de,De){de&&de.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",de.filter,null,de);var Ye={};if(de&&de.layers){if(!Array.isArray(de.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var ot=0,wt=de.layers;ot<wt.length;ot+=1){var Vt=wt[ot],qt=this._layers[Vt];if(!qt)return this.fire(new a.ErrorEvent(new Error("The layer '"+Vt+"' does not exist in the map's style and cannot be queried for features."))),[];Ye[qt.source]=!0}}var pr=[];de.availableImages=this._availableImages;for(var wr in this.sourceCaches)de.layers&&!Ye[wr]||pr.push(J(this.sourceCaches[wr],this._layers,this._serializedLayers,q,de,De));return this.placement&&pr.push(j(this._layers,this._serializedLayers,this.sourceCaches,q,de,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(pr)},Y.prototype.querySourceFeatures=function(q,de){de&&de.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",de.filter,null,de);var De=this.sourceCaches[q];return De?se(De,de):[]},Y.prototype.addSourceType=function(q,de,De){if(Y.getSourceType(q))return De(new Error('A source type called "'+q+'" already exists.'));if(Y.setSourceType(q,de),!de.workerSourceURL)return De(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:q,url:de.workerSourceURL},De)},Y.prototype.getLight=function(){return this.light.getLight()},Y.prototype.setLight=function(q,de){de===void 0&&(de={}),this._checkLoaded();var De=this.light.getLight(),Ye=!1;for(var ot in q)if(!a.deepEqual(q[ot],De[ot])){Ye=!0;break}if(Ye){var wt={now:a.browser.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(q,de),this.light.updateTransitions(wt)}},Y.prototype._validate=function(q,de,De,Ye,ot){return ot===void 0&&(ot={}),ot&&ot.validate===!1?!1:ma(this,q.call(a.validateStyle,a.extend({key:de,style:this.serialize(),value:De,styleSpec:a.styleSpec},Ye)))},Y.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var q in this._layers){var de=this._layers[q];de.setEventedParent(null)}for(var De in this.sourceCaches)this.sourceCaches[De].clearTiles(),this.sourceCaches[De].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},Y.prototype._clearSource=function(q){this.sourceCaches[q].clearTiles()},Y.prototype._reloadSource=function(q){this.sourceCaches[q].resume(),this.sourceCaches[q].reload()},Y.prototype._updateSources=function(q){for(var de in this.sourceCaches)this.sourceCaches[de].update(q)},Y.prototype._generateCollisionBoxes=function(){for(var q in this.sourceCaches)this._reloadSource(q)},Y.prototype._updatePlacement=function(q,de,De,Ye,ot){ot===void 0&&(ot=!1);for(var wt=!1,Vt=!1,qt={},pr=0,wr=this._order;pr<wr.length;pr+=1){var Vr=wr[pr],$r=this._layers[Vr];if($r.type==="symbol"){if(!qt[$r.source]){var qr=this.sourceCaches[$r.source];qt[$r.source]=qr.getRenderableIds(!0).map(function(ia){return qr.getTileByID(ia)}).sort(function(ia,aa){return aa.tileID.overscaledZ-ia.tileID.overscaledZ||(ia.tileID.isLessThan(aa.tileID)?-1:1)})}var Jr=this.crossTileSymbolIndex.addLayer($r,qt[$r.source],q.center.lng);wt=wt||Jr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),ot=ot||this._layerOrderChanged||De===0,(ot||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.browser.now(),q.zoom))&&(this.pauseablePlacement=new ta(q,this._order,ot,de,De,Ye,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,qt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.browser.now()),Vt=!0),wt&&this.pauseablePlacement.placement.setStale()),Vt||wt)for(var sn=0,gn=this._order;sn<gn.length;sn+=1){var On=gn[sn],Zn=this._layers[On];Zn.type==="symbol"&&this.placement.updateLayerOpacities(Zn,qt[Zn.source])}var ra=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.browser.now());return ra},Y.prototype._releaseSymbolFadeTiles=function(){for(var q in this.sourceCaches)this.sourceCaches[q].releaseSymbolFadeTiles()},Y.prototype.getImages=function(q,de,De){this.imageManager.getImages(de.icons,De),this._updateTilesForChangedImages();var Ye=this.sourceCaches[de.source];Ye&&Ye.setDependencies(de.tileID.key,de.type,de.icons)},Y.prototype.getGlyphs=function(q,de,De){this.glyphManager.getGlyphs(de.stacks,De)},Y.prototype.getResource=function(q,de,De){return a.makeRequest(de,De)},Y}(a.Evented);mo.getSourceType=Z,mo.setSourceType=X,mo.registerForPluginStateChange=a.registerForPluginStateChange;var xo=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),bo=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,zu=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,di=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,_l="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",ml=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,qi="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",wo=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Fl=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,qs="void main() {gl_FragColor=vec4(1.0);}",zi="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",zl=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Io=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,Ji=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,ko="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",vo="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",po="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",as="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",ys="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",ao="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",df="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",is=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,io=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,Ou=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ms=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,os=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ou=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,su=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Hf=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,Ol=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Gf=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,Bu=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,pf=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,lu=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,gf="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",yf=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Bl="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",Wf=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,mf=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Nu=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,el=`
#define MAX_LINE_DISTANCE 32767.0
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,tl=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,xl=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,uu=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Uu=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,Wo=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,fu="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",Vu=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Yf=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,_o=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,rl=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,Nl=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,bl=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,Ko=Ri(bo,zu),Jo=Ri(di,_l),Hu=Ri(ml,qi),xs=Ri(wo,Fl),Fs=Ri(qs,zi),Zi=Ri(zl,Io),cu=Ri(Ji,ko),wl=Ri(vo,po),Tl=Ri(as,ys),xf=Ri(ao,df),bf=Ri(is,io),nl=Ri(Ou,ms),al=Ri(os,ou),eo=Ri(su,Hf),hu=Ri(Ol,Gf),Zf=Ri(Bu,pf),Gu=Ri(lu,gf),Xf=Ri(yf,Bl),vu=Ri(Wf,mf),Ul=Ri(Nu,el),Wu=Ri(tl,xl),Yu=Ri(uu,Uu),Vl=Ri(Wo,fu),Zu=Ri(Vu,Yf),du=Ri(_o,rl),Xu=Ri(Nl,bl);function Ri(ce,Y){var ve=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,q={};return ce=ce.replace(ve,function(de,De,Ye,ot,wt){return q[wt]=!0,De==="define"?`
#ifndef HAS_UNIFORM_u_`+wt+`
varying `+Ye+" "+ot+" "+wt+`;
#else
uniform `+Ye+" "+ot+" u_"+wt+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+wt+`
    `+Ye+" "+ot+" "+wt+" = u_"+wt+`;
#endif
`}),Y=Y.replace(ve,function(de,De,Ye,ot,wt){var Vt=ot==="float"?"vec2":"vec4",qt=wt.match(/color/)?"color":Vt;return q[wt]?De==="define"?`
#ifndef HAS_UNIFORM_u_`+wt+`
uniform lowp float u_`+wt+`_t;
attribute `+Ye+" "+Vt+" a_"+wt+`;
varying `+Ye+" "+ot+" "+wt+`;
#else
uniform `+Ye+" "+ot+" u_"+wt+`;
#endif
`:qt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+wt+`
    `+wt+" = a_"+wt+`;
#else
    `+Ye+" "+ot+" "+wt+" = u_"+wt+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+wt+`
    `+wt+" = unpack_mix_"+qt+"(a_"+wt+", u_"+wt+`_t);
#else
    `+Ye+" "+ot+" "+wt+" = u_"+wt+`;
#endif
`:De==="define"?`
#ifndef HAS_UNIFORM_u_`+wt+`
uniform lowp float u_`+wt+`_t;
attribute `+Ye+" "+Vt+" a_"+wt+`;
#else
uniform `+Ye+" "+ot+" u_"+wt+`;
#endif
`:qt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+wt+`
    `+Ye+" "+ot+" "+wt+" = a_"+wt+`;
#else
    `+Ye+" "+ot+" "+wt+" = u_"+wt+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+wt+`
    `+Ye+" "+ot+" "+wt+" = unpack_mix_"+qt+"(a_"+wt+", u_"+wt+`_t);
#else
    `+Ye+" "+ot+" "+wt+" = u_"+wt+`;
#endif
`}),{fragmentSource:ce,vertexSource:Y}}var ju=Object.freeze({__proto__:null,prelude:Ko,background:Jo,backgroundPattern:Hu,circle:xs,clippingMask:Fs,heatmap:Zi,heatmapTexture:cu,collisionBox:wl,collisionCircle:Tl,debug:xf,fill:bf,fillOutline:nl,fillOutlinePattern:al,fillPattern:eo,fillExtrusion:hu,fillExtrusionPattern:Zf,hillshadePrepare:Gu,hillshade:Xf,line:vu,lineGradient:Ul,linePattern:Wu,lineSDF:Yu,raster:Vl,symbolIcon:Zu,symbolSDF:du,symbolTextAndIcon:Xu}),Yo=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};Yo.prototype.bind=function(Y,ve,q,de,De,Ye,ot,wt){this.context=Y;for(var Vt=this.boundPaintVertexBuffers.length!==de.length,qt=0;!Vt&&qt<de.length;qt++)this.boundPaintVertexBuffers[qt]!==de[qt]&&(Vt=!0);var pr=!this.vao||this.boundProgram!==ve||this.boundLayoutVertexBuffer!==q||Vt||this.boundIndexBuffer!==De||this.boundVertexOffset!==Ye||this.boundDynamicVertexBuffer!==ot||this.boundDynamicVertexBuffer2!==wt;!Y.extVertexArrayObject||pr?this.freshBind(ve,q,de,De,Ye,ot,wt):(Y.bindVertexArrayOES.set(this.vao),ot&&ot.bind(),De&&De.dynamicDraw&&De.bind(),wt&&wt.bind())},Yo.prototype.freshBind=function(Y,ve,q,de,De,Ye,ot){var wt,Vt=Y.numAttributes,qt=this.context,pr=qt.gl;if(qt.extVertexArrayObject)this.vao&&this.destroy(),this.vao=qt.extVertexArrayObject.createVertexArrayOES(),qt.bindVertexArrayOES.set(this.vao),wt=0,this.boundProgram=Y,this.boundLayoutVertexBuffer=ve,this.boundPaintVertexBuffers=q,this.boundIndexBuffer=de,this.boundVertexOffset=De,this.boundDynamicVertexBuffer=Ye,this.boundDynamicVertexBuffer2=ot;else{wt=qt.currentNumAttributes||0;for(var wr=Vt;wr<wt;wr++)pr.disableVertexAttribArray(wr)}ve.enableAttributes(pr,Y);for(var Vr=0,$r=q;Vr<$r.length;Vr+=1){var qr=$r[Vr];qr.enableAttributes(pr,Y)}Ye&&Ye.enableAttributes(pr,Y),ot&&ot.enableAttributes(pr,Y),ve.bind(),ve.setVertexAttribPointers(pr,Y,De);for(var Jr=0,sn=q;Jr<sn.length;Jr+=1){var gn=sn[Jr];gn.bind(),gn.setVertexAttribPointers(pr,Y,De)}Ye&&(Ye.bind(),Ye.setVertexAttribPointers(pr,Y,De)),de&&de.bind(),ot&&(ot.bind(),ot.setVertexAttribPointers(pr,Y,De)),qt.currentNumAttributes=Vt},Yo.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var Al=function(Y,ve,q,de,De){var Ye=Y.gl;this.program=Ye.createProgram();var ot=q?q.defines():[];De&&ot.push("#define OVERDRAW_INSPECTOR;");var wt=ot.concat(Ko.fragmentSource,ve.fragmentSource).join(`
`),Vt=ot.concat(Ko.vertexSource,ve.vertexSource).join(`
`),qt=Ye.createShader(Ye.FRAGMENT_SHADER);if(Ye.isContextLost()){this.failedToCreate=!0;return}Ye.shaderSource(qt,wt),Ye.compileShader(qt),Ye.attachShader(this.program,qt);var pr=Ye.createShader(Ye.VERTEX_SHADER);if(Ye.isContextLost()){this.failedToCreate=!0;return}Ye.shaderSource(pr,Vt),Ye.compileShader(pr),Ye.attachShader(this.program,pr);for(var wr=q?q.layoutAttributes:[],Vr=0;Vr<wr.length;Vr++)Ye.bindAttribLocation(this.program,Vr,wr[Vr].name);Ye.linkProgram(this.program),Ye.deleteShader(pr),Ye.deleteShader(qt),this.numAttributes=Ye.getProgramParameter(this.program,Ye.ACTIVE_ATTRIBUTES),this.attributes={};for(var $r={},qr=0;qr<this.numAttributes;qr++){var Jr=Ye.getActiveAttrib(this.program,qr);Jr&&(this.attributes[Jr.name]=Ye.getAttribLocation(this.program,Jr.name))}for(var sn=Ye.getProgramParameter(this.program,Ye.ACTIVE_UNIFORMS),gn=0;gn<sn;gn++){var On=Ye.getActiveUniform(this.program,gn);On&&($r[On.name]=Ye.getUniformLocation(this.program,On.name))}this.fixedUniforms=de(Y,$r),this.binderUniforms=q?q.getUniforms(Y,$r):[]};Al.prototype.draw=function(Y,ve,q,de,De,Ye,ot,wt,Vt,qt,pr,wr,Vr,$r,qr,Jr){var sn,gn=Y.gl;if(!this.failedToCreate){Y.program.set(this.program),Y.setDepthMode(q),Y.setStencilMode(de),Y.setColorMode(De),Y.setCullFace(Ye);for(var On in this.fixedUniforms)this.fixedUniforms[On].set(ot[On]);$r&&$r.setUniforms(Y,this.binderUniforms,wr,{zoom:Vr});for(var Zn=(sn={},sn[gn.LINES]=2,sn[gn.TRIANGLES]=3,sn[gn.LINE_STRIP]=1,sn)[ve],ra=0,ia=pr.get();ra<ia.length;ra+=1){var aa=ia[ra],ga=aa.vaos||(aa.vaos={}),Ea=ga[wt]||(ga[wt]=new Yo);Ea.bind(Y,this,Vt,$r?$r.getPaintVertexBuffers():[],qt,aa.vertexOffset,qr,Jr),gn.drawElements(ve,aa.primitiveLength*Zn,gn.UNSIGNED_SHORT,aa.primitiveOffset*Zn*2)}}};function zs(ce,Y,ve){var q=1/An(ve,1,Y.transform.tileZoom),de=Math.pow(2,ve.tileID.overscaledZ),De=ve.tileSize*Math.pow(2,Y.transform.tileZoom)/de,Ye=De*(ve.tileID.canonical.x+ve.tileID.wrap*de),ot=De*ve.tileID.canonical.y;return{u_image:0,u_texsize:ve.imageAtlasTexture.size,u_scale:[q,ce.fromScale,ce.toScale],u_fade:ce.t,u_pixel_coord_upper:[Ye>>16,ot>>16],u_pixel_coord_lower:[Ye&65535,ot&65535]}}function Ku(ce,Y,ve,q){var de=ve.imageManager.getPattern(ce.from.toString()),De=ve.imageManager.getPattern(ce.to.toString()),Ye=ve.imageManager.getPixelSize(),ot=Ye.width,wt=Ye.height,Vt=Math.pow(2,q.tileID.overscaledZ),qt=q.tileSize*Math.pow(2,ve.transform.tileZoom)/Vt,pr=qt*(q.tileID.canonical.x+q.tileID.wrap*Vt),wr=qt*q.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:de.tl,u_pattern_br_a:de.br,u_pattern_tl_b:De.tl,u_pattern_br_b:De.br,u_texsize:[ot,wt],u_mix:Y.t,u_pattern_size_a:de.displaySize,u_pattern_size_b:De.displaySize,u_scale_a:Y.fromScale,u_scale_b:Y.toScale,u_tile_units_to_pixels:1/An(q,1,ve.transform.tileZoom),u_pixel_coord_upper:[pr>>16,wr>>16],u_pixel_coord_lower:[pr&65535,wr&65535]}}var ji=function(ce,Y){return{u_matrix:new a.UniformMatrix4f(ce,Y.u_matrix),u_lightpos:new a.Uniform3f(ce,Y.u_lightpos),u_lightintensity:new a.Uniform1f(ce,Y.u_lightintensity),u_lightcolor:new a.Uniform3f(ce,Y.u_lightcolor),u_vertical_gradient:new a.Uniform1f(ce,Y.u_vertical_gradient),u_opacity:new a.Uniform1f(ce,Y.u_opacity)}},Qo=function(ce,Y){return{u_matrix:new a.UniformMatrix4f(ce,Y.u_matrix),u_lightpos:new a.Uniform3f(ce,Y.u_lightpos),u_lightintensity:new a.Uniform1f(ce,Y.u_lightintensity),u_lightcolor:new a.Uniform3f(ce,Y.u_lightcolor),u_vertical_gradient:new a.Uniform1f(ce,Y.u_vertical_gradient),u_height_factor:new a.Uniform1f(ce,Y.u_height_factor),u_image:new a.Uniform1i(ce,Y.u_image),u_texsize:new a.Uniform2f(ce,Y.u_texsize),u_pixel_coord_upper:new a.Uniform2f(ce,Y.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(ce,Y.u_pixel_coord_lower),u_scale:new a.Uniform3f(ce,Y.u_scale),u_fade:new a.Uniform1f(ce,Y.u_fade),u_opacity:new a.Uniform1f(ce,Y.u_opacity)}},Fo=function(ce,Y,ve,q){var de=Y.style.light,De=de.properties.get("position"),Ye=[De.x,De.y,De.z],ot=a.create$1();de.properties.get("anchor")==="viewport"&&a.fromRotation(ot,-Y.transform.angle),a.transformMat3(Ye,Ye,ot);var wt=de.properties.get("color");return{u_matrix:ce,u_lightpos:Ye,u_lightintensity:de.properties.get("intensity"),u_lightcolor:[wt.r,wt.g,wt.b],u_vertical_gradient:+ve,u_opacity:q}},bs=function(ce,Y,ve,q,de,De,Ye){return a.extend(Fo(ce,Y,ve,q),zs(De,Y,Ye),{u_height_factor:-Math.pow(2,de.overscaledZ)/Ye.tileSize/8})},zo=function(ce,Y){return{u_matrix:new a.UniformMatrix4f(ce,Y.u_matrix)}},Os=function(ce,Y){return{u_matrix:new a.UniformMatrix4f(ce,Y.u_matrix),u_image:new a.Uniform1i(ce,Y.u_image),u_texsize:new a.Uniform2f(ce,Y.u_texsize),u_pixel_coord_upper:new a.Uniform2f(ce,Y.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(ce,Y.u_pixel_coord_lower),u_scale:new a.Uniform3f(ce,Y.u_scale),u_fade:new a.Uniform1f(ce,Y.u_fade)}},Bs=function(ce,Y){return{u_matrix:new a.UniformMatrix4f(ce,Y.u_matrix),u_world:new a.Uniform2f(ce,Y.u_world)}},Ns=function(ce,Y){return{u_matrix:new a.UniformMatrix4f(ce,Y.u_matrix),u_world:new a.Uniform2f(ce,Y.u_world),u_image:new a.Uniform1i(ce,Y.u_image),u_texsize:new a.Uniform2f(ce,Y.u_texsize),u_pixel_coord_upper:new a.Uniform2f(ce,Y.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(ce,Y.u_pixel_coord_lower),u_scale:new a.Uniform3f(ce,Y.u_scale),u_fade:new a.Uniform1f(ce,Y.u_fade)}},$o=function(ce){return{u_matrix:ce}},ss=function(ce,Y,ve,q){return a.extend($o(ce),zs(ve,Y,q))},il=function(ce,Y){return{u_matrix:ce,u_world:Y}},oo=function(ce,Y,ve,q,de){return a.extend(ss(ce,Y,ve,q),{u_world:de})},Hl=function(ce,Y){return{u_camera_to_center_distance:new a.Uniform1f(ce,Y.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(ce,Y.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(ce,Y.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(ce,Y.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(ce,Y.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(ce,Y.u_matrix)}},wf=function(ce,Y,ve,q){var de=ce.transform,De,Ye;if(q.paint.get("circle-pitch-alignment")==="map"){var ot=An(ve,1,de.zoom);De=!0,Ye=[ot,ot]}else De=!1,Ye=de.pixelsToGLUnits;return{u_camera_to_center_distance:de.cameraToCenterDistance,u_scale_with_map:+(q.paint.get("circle-pitch-scale")==="map"),u_matrix:ce.translatePosMatrix(Y.posMatrix,ve,q.paint.get("circle-translate"),q.paint.get("circle-translate-anchor")),u_pitch_with_map:+De,u_device_pixel_ratio:a.browser.devicePixelRatio,u_extrude_scale:Ye}},pu=function(ce,Y){return{u_matrix:new a.UniformMatrix4f(ce,Y.u_matrix),u_camera_to_center_distance:new a.Uniform1f(ce,Y.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(ce,Y.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(ce,Y.u_extrude_scale),u_overscale_factor:new a.Uniform1f(ce,Y.u_overscale_factor)}},Tf=function(ce,Y){return{u_matrix:new a.UniformMatrix4f(ce,Y.u_matrix),u_inv_matrix:new a.UniformMatrix4f(ce,Y.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(ce,Y.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(ce,Y.u_viewport_size)}},Af=function(ce,Y,ve){var q=An(ve,1,Y.zoom),de=Math.pow(2,Y.zoom-ve.tileID.overscaledZ),De=ve.tileID.overscaleFactor();return{u_matrix:ce,u_camera_to_center_distance:Y.cameraToCenterDistance,u_pixels_to_tile_units:q,u_extrude_scale:[Y.pixelsToGLUnits[0]/(q*de),Y.pixelsToGLUnits[1]/(q*de)],u_overscale_factor:De}},gu=function(ce,Y,ve){return{u_matrix:ce,u_inv_matrix:Y,u_camera_to_center_distance:ve.cameraToCenterDistance,u_viewport_size:[ve.width,ve.height]}},Ju=function(ce,Y){return{u_color:new a.UniformColor(ce,Y.u_color),u_matrix:new a.UniformMatrix4f(ce,Y.u_matrix),u_overlay:new a.Uniform1i(ce,Y.u_overlay),u_overlay_scale:new a.Uniform1f(ce,Y.u_overlay_scale)}},Us=function(ce,Y,ve){return ve===void 0&&(ve=1),{u_matrix:ce,u_color:Y,u_overlay:0,u_overlay_scale:ve}},so=function(ce,Y){return{u_matrix:new a.UniformMatrix4f(ce,Y.u_matrix)}},To=function(ce){return{u_matrix:ce}},Sl=function(ce,Y){return{u_extrude_scale:new a.Uniform1f(ce,Y.u_extrude_scale),u_intensity:new a.Uniform1f(ce,Y.u_intensity),u_matrix:new a.UniformMatrix4f(ce,Y.u_matrix)}},ol=function(ce,Y){return{u_matrix:new a.UniformMatrix4f(ce,Y.u_matrix),u_world:new a.Uniform2f(ce,Y.u_world),u_image:new a.Uniform1i(ce,Y.u_image),u_color_ramp:new a.Uniform1i(ce,Y.u_color_ramp),u_opacity:new a.Uniform1f(ce,Y.u_opacity)}},Gl=function(ce,Y,ve,q){return{u_matrix:ce,u_extrude_scale:An(Y,1,ve),u_intensity:q}},yu=function(ce,Y,ve,q){var de=a.create();a.ortho(de,0,ce.width,ce.height,0,0,1);var De=ce.context.gl;return{u_matrix:de,u_world:[De.drawingBufferWidth,De.drawingBufferHeight],u_image:ve,u_color_ramp:q,u_opacity:Y.paint.get("heatmap-opacity")}},Qu=function(ce,Y){return{u_matrix:new a.UniformMatrix4f(ce,Y.u_matrix),u_image:new a.Uniform1i(ce,Y.u_image),u_latrange:new a.Uniform2f(ce,Y.u_latrange),u_light:new a.Uniform2f(ce,Y.u_light),u_shadow:new a.UniformColor(ce,Y.u_shadow),u_highlight:new a.UniformColor(ce,Y.u_highlight),u_accent:new a.UniformColor(ce,Y.u_accent)}},sl=function(ce,Y){return{u_matrix:new a.UniformMatrix4f(ce,Y.u_matrix),u_image:new a.Uniform1i(ce,Y.u_image),u_dimension:new a.Uniform2f(ce,Y.u_dimension),u_zoom:new a.Uniform1f(ce,Y.u_zoom),u_maxzoom:new a.Uniform1f(ce,Y.u_maxzoom),u_unpack:new a.Uniform4f(ce,Y.u_unpack)}},Sf=function(ce,Y,ve){var q=ve.paint.get("hillshade-shadow-color"),de=ve.paint.get("hillshade-highlight-color"),De=ve.paint.get("hillshade-accent-color"),Ye=ve.paint.get("hillshade-illumination-direction")*(Math.PI/180);ve.paint.get("hillshade-illumination-anchor")==="viewport"&&(Ye-=ce.transform.angle);var ot=!ce.options.moving;return{u_matrix:ce.transform.calculatePosMatrix(Y.tileID.toUnwrapped(),ot),u_image:0,u_latrange:Vs(ce,Y.tileID),u_light:[ve.paint.get("hillshade-exaggeration"),Ye],u_shadow:q,u_highlight:de,u_accent:De}},$u=function(ce,Y,ve){var q=Y.stride,de=a.create();return a.ortho(de,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(de,de,[0,-a.EXTENT,0]),{u_matrix:de,u_image:1,u_dimension:[q,q],u_zoom:ce.overscaledZ,u_maxzoom:ve,u_unpack:Y.getUnpackVector()}};function Vs(ce,Y){var ve=Math.pow(2,Y.canonical.z),q=Y.canonical.y;return[new a.MercatorCoordinate(0,q/ve).toLngLat().lat,new a.MercatorCoordinate(0,(q+1)/ve).toLngLat().lat]}var Xi=function(ce,Y){return{u_matrix:new a.UniformMatrix4f(ce,Y.u_matrix),u_ratio:new a.Uniform1f(ce,Y.u_ratio),u_device_pixel_ratio:new a.Uniform1f(ce,Y.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(ce,Y.u_units_to_pixels)}},Ao=function(ce,Y){return{u_matrix:new a.UniformMatrix4f(ce,Y.u_matrix),u_ratio:new a.Uniform1f(ce,Y.u_ratio),u_device_pixel_ratio:new a.Uniform1f(ce,Y.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(ce,Y.u_units_to_pixels),u_image:new a.Uniform1i(ce,Y.u_image)}},qu=function(ce,Y){return{u_matrix:new a.UniformMatrix4f(ce,Y.u_matrix),u_texsize:new a.Uniform2f(ce,Y.u_texsize),u_ratio:new a.Uniform1f(ce,Y.u_ratio),u_device_pixel_ratio:new a.Uniform1f(ce,Y.u_device_pixel_ratio),u_image:new a.Uniform1i(ce,Y.u_image),u_units_to_pixels:new a.Uniform2f(ce,Y.u_units_to_pixels),u_scale:new a.Uniform3f(ce,Y.u_scale),u_fade:new a.Uniform1f(ce,Y.u_fade)}},ef=function(ce,Y){return{u_matrix:new a.UniformMatrix4f(ce,Y.u_matrix),u_ratio:new a.Uniform1f(ce,Y.u_ratio),u_device_pixel_ratio:new a.Uniform1f(ce,Y.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(ce,Y.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(ce,Y.u_patternscale_a),u_patternscale_b:new a.Uniform2f(ce,Y.u_patternscale_b),u_sdfgamma:new a.Uniform1f(ce,Y.u_sdfgamma),u_image:new a.Uniform1i(ce,Y.u_image),u_tex_y_a:new a.Uniform1f(ce,Y.u_tex_y_a),u_tex_y_b:new a.Uniform1f(ce,Y.u_tex_y_b),u_mix:new a.Uniform1f(ce,Y.u_mix)}},ll=function(ce,Y,ve){var q=ce.transform;return{u_matrix:Ts(ce,Y,ve),u_ratio:1/An(Y,1,q.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_units_to_pixels:[1/q.pixelsToGLUnits[0],1/q.pixelsToGLUnits[1]]}},mu=function(ce,Y,ve){return a.extend(ll(ce,Y,ve),{u_image:0})},qo=function(ce,Y,ve,q){var de=ce.transform,De=ws(Y,de);return{u_matrix:Ts(ce,Y,ve),u_texsize:Y.imageAtlasTexture.size,u_ratio:1/An(Y,1,de.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_image:0,u_scale:[De,q.fromScale,q.toScale],u_fade:q.t,u_units_to_pixels:[1/de.pixelsToGLUnits[0],1/de.pixelsToGLUnits[1]]}},xu=function(ce,Y,ve,q,de){var De=ce.transform,Ye=ce.lineAtlas,ot=ws(Y,De),wt=ve.layout.get("line-cap")==="round",Vt=Ye.getDash(q.from,wt),qt=Ye.getDash(q.to,wt),pr=Vt.width*de.fromScale,wr=qt.width*de.toScale;return a.extend(ll(ce,Y,ve),{u_patternscale_a:[ot/pr,-Vt.height/2],u_patternscale_b:[ot/wr,-qt.height/2],u_sdfgamma:Ye.width/(Math.min(pr,wr)*256*a.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Vt.y,u_tex_y_b:qt.y,u_mix:de.t})};function ws(ce,Y){return 1/An(ce,1,Y.tileZoom)}function Ts(ce,Y,ve){return ce.translatePosMatrix(Y.tileID.posMatrix,Y,ve.paint.get("line-translate"),ve.paint.get("line-translate-anchor"))}var tf=function(ce,Y){return{u_matrix:new a.UniformMatrix4f(ce,Y.u_matrix),u_tl_parent:new a.Uniform2f(ce,Y.u_tl_parent),u_scale_parent:new a.Uniform1f(ce,Y.u_scale_parent),u_buffer_scale:new a.Uniform1f(ce,Y.u_buffer_scale),u_fade_t:new a.Uniform1f(ce,Y.u_fade_t),u_opacity:new a.Uniform1f(ce,Y.u_opacity),u_image0:new a.Uniform1i(ce,Y.u_image0),u_image1:new a.Uniform1i(ce,Y.u_image1),u_brightness_low:new a.Uniform1f(ce,Y.u_brightness_low),u_brightness_high:new a.Uniform1f(ce,Y.u_brightness_high),u_saturation_factor:new a.Uniform1f(ce,Y.u_saturation_factor),u_contrast_factor:new a.Uniform1f(ce,Y.u_contrast_factor),u_spin_weights:new a.Uniform3f(ce,Y.u_spin_weights)}},Ml=function(ce,Y,ve,q,de){return{u_matrix:ce,u_tl_parent:Y,u_scale_parent:ve,u_buffer_scale:1,u_fade_t:q.mix,u_opacity:q.opacity*de.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:de.paint.get("raster-brightness-min"),u_brightness_high:de.paint.get("raster-brightness-max"),u_saturation_factor:bu(de.paint.get("raster-saturation")),u_contrast_factor:ul(de.paint.get("raster-contrast")),u_spin_weights:Si(de.paint.get("raster-hue-rotate"))}};function Si(ce){ce*=Math.PI/180;var Y=Math.sin(ce),ve=Math.cos(ce);return[(2*ve+1)/3,(-Math.sqrt(3)*Y-ve+1)/3,(Math.sqrt(3)*Y-ve+1)/3]}function ul(ce){return ce>0?1/(1-ce):1+ce}function bu(ce){return ce>0?1-1/(1.001-ce):-ce}var wu=function(ce,Y){return{u_is_size_zoom_constant:new a.Uniform1i(ce,Y.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(ce,Y.u_is_size_feature_constant),u_size_t:new a.Uniform1f(ce,Y.u_size_t),u_size:new a.Uniform1f(ce,Y.u_size),u_camera_to_center_distance:new a.Uniform1f(ce,Y.u_camera_to_center_distance),u_pitch:new a.Uniform1f(ce,Y.u_pitch),u_rotate_symbol:new a.Uniform1i(ce,Y.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(ce,Y.u_aspect_ratio),u_fade_change:new a.Uniform1f(ce,Y.u_fade_change),u_matrix:new a.UniformMatrix4f(ce,Y.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(ce,Y.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(ce,Y.u_coord_matrix),u_is_text:new a.Uniform1i(ce,Y.u_is_text),u_pitch_with_map:new a.Uniform1i(ce,Y.u_pitch_with_map),u_texsize:new a.Uniform2f(ce,Y.u_texsize),u_texture:new a.Uniform1i(ce,Y.u_texture)}},Hs=function(ce,Y){return{u_is_size_zoom_constant:new a.Uniform1i(ce,Y.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(ce,Y.u_is_size_feature_constant),u_size_t:new a.Uniform1f(ce,Y.u_size_t),u_size:new a.Uniform1f(ce,Y.u_size),u_camera_to_center_distance:new a.Uniform1f(ce,Y.u_camera_to_center_distance),u_pitch:new a.Uniform1f(ce,Y.u_pitch),u_rotate_symbol:new a.Uniform1i(ce,Y.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(ce,Y.u_aspect_ratio),u_fade_change:new a.Uniform1f(ce,Y.u_fade_change),u_matrix:new a.UniformMatrix4f(ce,Y.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(ce,Y.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(ce,Y.u_coord_matrix),u_is_text:new a.Uniform1i(ce,Y.u_is_text),u_pitch_with_map:new a.Uniform1i(ce,Y.u_pitch_with_map),u_texsize:new a.Uniform2f(ce,Y.u_texsize),u_texture:new a.Uniform1i(ce,Y.u_texture),u_gamma_scale:new a.Uniform1f(ce,Y.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(ce,Y.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(ce,Y.u_is_halo)}},jf=function(ce,Y){return{u_is_size_zoom_constant:new a.Uniform1i(ce,Y.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(ce,Y.u_is_size_feature_constant),u_size_t:new a.Uniform1f(ce,Y.u_size_t),u_size:new a.Uniform1f(ce,Y.u_size),u_camera_to_center_distance:new a.Uniform1f(ce,Y.u_camera_to_center_distance),u_pitch:new a.Uniform1f(ce,Y.u_pitch),u_rotate_symbol:new a.Uniform1i(ce,Y.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(ce,Y.u_aspect_ratio),u_fade_change:new a.Uniform1f(ce,Y.u_fade_change),u_matrix:new a.UniformMatrix4f(ce,Y.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(ce,Y.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(ce,Y.u_coord_matrix),u_is_text:new a.Uniform1i(ce,Y.u_is_text),u_pitch_with_map:new a.Uniform1i(ce,Y.u_pitch_with_map),u_texsize:new a.Uniform2f(ce,Y.u_texsize),u_texsize_icon:new a.Uniform2f(ce,Y.u_texsize_icon),u_texture:new a.Uniform1i(ce,Y.u_texture),u_texture_icon:new a.Uniform1i(ce,Y.u_texture_icon),u_gamma_scale:new a.Uniform1f(ce,Y.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(ce,Y.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(ce,Y.u_is_halo)}},Wl=function(ce,Y,ve,q,de,De,Ye,ot,wt,Vt){var qt=de.transform;return{u_is_size_zoom_constant:+(ce==="constant"||ce==="source"),u_is_size_feature_constant:+(ce==="constant"||ce==="camera"),u_size_t:Y?Y.uSizeT:0,u_size:Y?Y.uSize:0,u_camera_to_center_distance:qt.cameraToCenterDistance,u_pitch:qt.pitch/360*2*Math.PI,u_rotate_symbol:+ve,u_aspect_ratio:qt.width/qt.height,u_fade_change:de.options.fadeDuration?de.symbolFadeChange:1,u_matrix:De,u_label_plane_matrix:Ye,u_coord_matrix:ot,u_is_text:+wt,u_pitch_with_map:+q,u_texsize:Vt,u_texture:0}},El=function(ce,Y,ve,q,de,De,Ye,ot,wt,Vt,qt){var pr=de.transform;return a.extend(Wl(ce,Y,ve,q,de,De,Ye,ot,wt,Vt),{u_gamma_scale:q?Math.cos(pr._pitch)*pr.cameraToCenterDistance:1,u_device_pixel_ratio:a.browser.devicePixelRatio,u_is_halo:+qt})},Yl=function(ce,Y,ve,q,de,De,Ye,ot,wt,Vt){return a.extend(El(ce,Y,ve,q,de,De,Ye,ot,!0,wt,!0),{u_texsize_icon:Vt,u_texture_icon:1})},Tu=function(ce,Y){return{u_matrix:new a.UniformMatrix4f(ce,Y.u_matrix),u_opacity:new a.Uniform1f(ce,Y.u_opacity),u_color:new a.UniformColor(ce,Y.u_color)}},es=function(ce,Y){return{u_matrix:new a.UniformMatrix4f(ce,Y.u_matrix),u_opacity:new a.Uniform1f(ce,Y.u_opacity),u_image:new a.Uniform1i(ce,Y.u_image),u_pattern_tl_a:new a.Uniform2f(ce,Y.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(ce,Y.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(ce,Y.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(ce,Y.u_pattern_br_b),u_texsize:new a.Uniform2f(ce,Y.u_texsize),u_mix:new a.Uniform1f(ce,Y.u_mix),u_pattern_size_a:new a.Uniform2f(ce,Y.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(ce,Y.u_pattern_size_b),u_scale_a:new a.Uniform1f(ce,Y.u_scale_a),u_scale_b:new a.Uniform1f(ce,Y.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(ce,Y.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(ce,Y.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(ce,Y.u_tile_units_to_pixels)}},As=function(ce,Y,ve){return{u_matrix:ce,u_opacity:Y,u_color:ve}},Gs=function(ce,Y,ve,q,de,De){return a.extend(Ku(q,De,ve,de),{u_matrix:ce,u_opacity:Y})},fl={fillExtrusion:ji,fillExtrusionPattern:Qo,fill:zo,fillPattern:Os,fillOutline:Bs,fillOutlinePattern:Ns,circle:Hl,collisionBox:pu,collisionCircle:Tf,debug:Ju,clippingMask:so,heatmap:Sl,heatmapTexture:ol,hillshade:Qu,hillshadePrepare:sl,line:Xi,lineGradient:Ao,linePattern:qu,lineSDF:ef,raster:tf,symbolIcon:wu,symbolSDF:Hs,symbolTextAndIcon:jf,background:Tu,backgroundPattern:es},Oo;function No(ce,Y,ve,q,de,De,Ye){for(var ot=ce.context,wt=ot.gl,Vt=ce.useProgram("collisionBox"),qt=[],pr=0,wr=0,Vr=0;Vr<q.length;Vr++){var $r=q[Vr],qr=Y.getTile($r),Jr=qr.getBucket(ve);if(Jr){var sn=$r.posMatrix;(de[0]!==0||de[1]!==0)&&(sn=ce.translatePosMatrix($r.posMatrix,qr,de,De));var gn=Ye?Jr.textCollisionBox:Jr.iconCollisionBox,On=Jr.collisionCircleArray;if(On.length>0){var Zn=a.create(),ra=sn;a.mul(Zn,Jr.placementInvProjMatrix,ce.transform.glCoordMatrix),a.mul(Zn,Zn,Jr.placementViewportMatrix),qt.push({circleArray:On,circleOffset:wr,transform:ra,invTransform:Zn}),pr+=On.length/4,wr=pr}gn&&Vt.draw(ot,wt.LINES,Hr.disabled,jt.disabled,ce.colorModeForRenderPass(),Pt.disabled,Af(sn,ce.transform,qr),ve.id,gn.layoutVertexBuffer,gn.indexBuffer,gn.segments,null,ce.transform.zoom,null,null,gn.collisionVertexBuffer)}}if(!(!Ye||!qt.length)){var ia=ce.useProgram("collisionCircle"),aa=new a.StructArrayLayout2f1f2i16;aa.resize(pr*4),aa._trim();for(var ga=0,Ea=0,Ma=qt;Ea<Ma.length;Ea+=1)for(var Ra=Ma[Ea],ka=0;ka<Ra.circleArray.length/4;ka++){var Ga=ka*4,Ja=Ra.circleArray[Ga+0],Ci=Ra.circleArray[Ga+1],qa=Ra.circleArray[Ga+2],vi=Ra.circleArray[Ga+3];aa.emplace(ga++,Ja,Ci,qa,vi,0),aa.emplace(ga++,Ja,Ci,qa,vi,1),aa.emplace(ga++,Ja,Ci,qa,vi,2),aa.emplace(ga++,Ja,Ci,qa,vi,3)}(!Oo||Oo.length<pr*2)&&(Oo=lo(pr));for(var Ua=ot.createIndexBuffer(Oo,!0),Li=ot.createVertexBuffer(aa,a.collisionCircleLayout.members,!0),Pi=0,Di=qt;Pi<Di.length;Pi+=1){var gi=Di[Pi],Bi=gu(gi.transform,gi.invTransform,ce.transform);ia.draw(ot,wt.TRIANGLES,Hr.disabled,jt.disabled,ce.colorModeForRenderPass(),Pt.disabled,Bi,ve.id,Li,Ua,a.SegmentVector.simpleSegment(0,gi.circleOffset*2,gi.circleArray.length,gi.circleArray.length/2),null,ce.transform.zoom,null,null,null)}Li.destroy(),Ua.destroy()}}function lo(ce){var Y=ce*2,ve=new a.StructArrayLayout3ui6;ve.resize(Y),ve._trim();for(var q=0;q<Y;q++){var de=q*6;ve.uint16[de+0]=q*4+0,ve.uint16[de+1]=q*4+1,ve.uint16[de+2]=q*4+2,ve.uint16[de+3]=q*4+2,ve.uint16[de+4]=q*4+3,ve.uint16[de+5]=q*4+0}return ve}var cl=a.identity(new Float32Array(16));function Cl(ce,Y,ve,q,de){if(ce.renderPass==="translucent"){var De=jt.disabled,Ye=ce.colorModeForRenderPass(),ot=ve.layout.get("text-variable-anchor");ot&&Mf(q,ce,ve,Y,ve.layout.get("text-rotation-alignment"),ve.layout.get("text-pitch-alignment"),de),ve.paint.get("icon-opacity").constantOr(1)!==0&&Ws(ce,Y,ve,q,!1,ve.paint.get("icon-translate"),ve.paint.get("icon-translate-anchor"),ve.layout.get("icon-rotation-alignment"),ve.layout.get("icon-pitch-alignment"),ve.layout.get("icon-keep-upright"),De,Ye),ve.paint.get("text-opacity").constantOr(1)!==0&&Ws(ce,Y,ve,q,!0,ve.paint.get("text-translate"),ve.paint.get("text-translate-anchor"),ve.layout.get("text-rotation-alignment"),ve.layout.get("text-pitch-alignment"),ve.layout.get("text-keep-upright"),De,Ye),Y.map.showCollisionBoxes&&(No(ce,Y,ve,q,ve.paint.get("text-translate"),ve.paint.get("text-translate-anchor"),!0),No(ce,Y,ve,q,ve.paint.get("icon-translate"),ve.paint.get("icon-translate-anchor"),!1))}}function Ll(ce,Y,ve,q,de,De){var Ye=a.getAnchorAlignment(ce),ot=Ye.horizontalAlign,wt=Ye.verticalAlign,Vt=-(ot-.5)*Y,qt=-(wt-.5)*ve,pr=a.evaluateVariableOffset(ce,q);return new a.Point((Vt/de+pr[0])*De,(qt/de+pr[1])*De)}function Mf(ce,Y,ve,q,de,De,Ye){for(var ot=Y.transform,wt=de==="map",Vt=De==="map",qt=0,pr=ce;qt<pr.length;qt+=1){var wr=pr[qt],Vr=q.getTile(wr),$r=Vr.getBucket(ve);if(!(!$r||!$r.text||!$r.text.segments.get().length)){var qr=$r.textSizeData,Jr=a.evaluateSizeForZoom(qr,ot.zoom),sn=An(Vr,1,Y.transform.zoom),gn=Cr(wr.posMatrix,Vt,wt,Y.transform,sn),On=ve.layout.get("icon-text-fit")!=="none"&&$r.hasIconData();if(Jr){var Zn=Math.pow(2,ot.zoom-Vr.tileID.overscaledZ);So($r,wt,Vt,Ye,a.symbolSize,ot,gn,wr.posMatrix,Zn,Jr,On)}}}}function So(ce,Y,ve,q,de,De,Ye,ot,wt,Vt,qt){var pr=ce.text.placedSymbolArray,wr=ce.text.dynamicLayoutVertexArray,Vr=ce.icon.dynamicLayoutVertexArray,$r={};wr.clear();for(var qr=0;qr<pr.length;qr++){var Jr=pr.get(qr),sn=ce.allowVerticalPlacement&&!Jr.placedOrientation,gn=!Jr.hidden&&Jr.crossTileID&&!sn?q[Jr.crossTileID]:null;if(!gn)ca(Jr.numGlyphs,wr);else{var On=new a.Point(Jr.anchorX,Jr.anchorY),Zn=Zr(On,ve?ot:Ye),ra=un(De.cameraToCenterDistance,Zn.signedDistanceFromCamera),ia=de.evaluateSizeForFeature(ce.textSizeData,Vt,Jr)*ra/a.ONE_EM;ve&&(ia*=ce.tilePixelRatio/wt);for(var aa=gn.width,ga=gn.height,Ea=gn.anchor,Ma=gn.textOffset,Ra=gn.textBoxScale,ka=Ll(Ea,aa,ga,Ma,Ra,ia),Ga=ve?Zr(On.add(ka),Ye).point:Zn.point.add(Y?ka.rotate(-De.angle):ka),Ja=ce.allowVerticalPlacement&&Jr.placedOrientation===a.WritingMode.vertical?Math.PI/2:0,Ci=0;Ci<Jr.numGlyphs;Ci++)a.addDynamicAttributes(wr,Ga,Ja);qt&&Jr.associatedIconIndex>=0&&($r[Jr.associatedIconIndex]={shiftedAnchor:Ga,angle:Ja})}}if(qt){Vr.clear();for(var qa=ce.icon.placedSymbolArray,vi=0;vi<qa.length;vi++){var Ua=qa.get(vi);if(Ua.hidden)ca(Ua.numGlyphs,Vr);else{var Li=$r[vi];if(!Li)ca(Ua.numGlyphs,Vr);else for(var Pi=0;Pi<Ua.numGlyphs;Pi++)a.addDynamicAttributes(Vr,Li.shiftedAnchor,Li.angle)}}ce.icon.dynamicLayoutVertexBuffer.updateData(Vr)}ce.text.dynamicLayoutVertexBuffer.updateData(wr)}function rf(ce,Y,ve){return ve.iconsInText&&Y?"symbolTextAndIcon":ce?"symbolSDF":"symbolIcon"}function Ws(ce,Y,ve,q,de,De,Ye,ot,wt,Vt,qt,pr){for(var wr=ce.context,Vr=wr.gl,$r=ce.transform,qr=ot==="map",Jr=wt==="map",sn=qr&&ve.layout.get("symbol-placement")!=="point",gn=qr&&!Jr&&!sn,On=ve.layout.get("symbol-sort-key").constantOr(1)!==void 0,Zn=ce.depthModeForSublayer(0,Hr.ReadOnly),ra=ve.layout.get("text-variable-anchor"),ia=[],aa=0,ga=q;aa<ga.length;aa+=1){var Ea=ga[aa],Ma=Y.getTile(Ea),Ra=Ma.getBucket(ve);if(Ra){var ka=de?Ra.text:Ra.icon;if(!(!ka||!ka.segments.get().length)){var Ga=ka.programConfigurations.get(ve.id),Ja=de||Ra.sdfIcons,Ci=de?Ra.textSizeData:Ra.iconSizeData,qa=Jr||$r.pitch!==0,vi=ce.useProgram(rf(Ja,de,Ra),Ga),Ua=a.evaluateSizeForZoom(Ci,$r.zoom),Li=void 0,Pi=[0,0],Di=void 0,gi=void 0,Bi=null,$a=void 0;if(de){if(Di=Ma.glyphAtlasTexture,gi=Vr.LINEAR,Li=Ma.glyphAtlasTexture.size,Ra.iconsInText){Pi=Ma.imageAtlasTexture.size,Bi=Ma.imageAtlasTexture;var yi=Ci.kind==="composite"||Ci.kind==="camera";$a=qa||ce.options.rotating||ce.options.zooming||yi?Vr.LINEAR:Vr.NEAREST}}else{var to=ve.layout.get("icon-size").constantOr(0)!==1||Ra.iconsNeedLinear;Di=Ma.imageAtlasTexture,gi=Ja||ce.options.rotating||ce.options.zooming||to||qa?Vr.LINEAR:Vr.NEAREST,Li=Ma.imageAtlasTexture.size}var Mo=An(Ma,1,ce.transform.zoom),Pl=Cr(Ea.posMatrix,Jr,qr,ce.transform,Mo),Rl=Yr(Ea.posMatrix,Jr,qr,ce.transform,Mo),Eu=ra&&Ra.hasTextData(),Cu=ve.layout.get("icon-text-fit")!=="none"&&Eu&&Ra.hasIconData();sn&&pn(Ra,Ea.posMatrix,ce,de,Pl,Rl,Jr,Vt);var uf=ce.translatePosMatrix(Ea.posMatrix,Ma,De,Ye),Lu=sn||de&&ra||Cu?cl:Pl,Ls=ce.translatePosMatrix(Rl,Ma,De,Ye,!0),Ff=Ja&&ve.paint.get(de?"text-halo-width":"icon-halo-width").constantOr(1)!==0,rs=void 0;Ja?Ra.iconsInText?rs=Yl(Ci.kind,Ua,gn,Jr,ce,uf,Lu,Ls,Li,Pi):rs=El(Ci.kind,Ua,gn,Jr,ce,uf,Lu,Ls,de,Li,!0):rs=Wl(Ci.kind,Ua,gn,Jr,ce,uf,Lu,Ls,de,Li);var hl={program:vi,buffers:ka,uniformValues:rs,atlasTexture:Di,atlasTextureIcon:Bi,atlasInterpolation:gi,atlasInterpolationIcon:$a,isSDF:Ja,hasHalo:Ff};if(On)for(var Pu=ka.segments.get(),ql=0,Ru=Pu;ql<Ru.length;ql+=1){var eh=Ru[ql];ia.push({segments:new a.SegmentVector([eh]),sortKey:eh.sortKey,state:hl})}else ia.push({segments:ka.segments,sortKey:0,state:hl})}}}On&&ia.sort(function(th,rh){return th.sortKey-rh.sortKey});for(var Kf=0,Zo=ia;Kf<Zo.length;Kf+=1){var _c=Zo[Kf],cs=_c.state;if(wr.activeTexture.set(Vr.TEXTURE0),cs.atlasTexture.bind(cs.atlasInterpolation,Vr.CLAMP_TO_EDGE),cs.atlasTextureIcon&&(wr.activeTexture.set(Vr.TEXTURE1),cs.atlasTextureIcon&&cs.atlasTextureIcon.bind(cs.atlasInterpolationIcon,Vr.CLAMP_TO_EDGE)),cs.isSDF){var Fc=cs.uniformValues;cs.hasHalo&&(Fc.u_is_halo=1,Zl(cs.buffers,_c.segments,ve,ce,cs.program,Zn,qt,pr,Fc)),Fc.u_is_halo=0}Zl(cs.buffers,_c.segments,ve,ce,cs.program,Zn,qt,pr,cs.uniformValues)}}function Zl(ce,Y,ve,q,de,De,Ye,ot,wt){var Vt=q.context,qt=Vt.gl;de.draw(Vt,qt.TRIANGLES,De,Ye,ot,Pt.disabled,wt,ve.id,ce.layoutVertexBuffer,ce.indexBuffer,Y,ve.paint,q.transform.zoom,ce.programConfigurations.get(ve.id),ce.dynamicLayoutVertexBuffer,ce.opacityVertexBuffer)}function Ss(ce,Y,ve,q){if(ce.renderPass==="translucent"){var de=ve.paint.get("circle-opacity"),De=ve.paint.get("circle-stroke-width"),Ye=ve.paint.get("circle-stroke-opacity"),ot=ve.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(de.constantOr(1)===0&&(De.constantOr(1)===0||Ye.constantOr(1)===0))){for(var wt=ce.context,Vt=wt.gl,qt=ce.depthModeForSublayer(0,Hr.ReadOnly),pr=jt.disabled,wr=ce.colorModeForRenderPass(),Vr=[],$r=0;$r<q.length;$r++){var qr=q[$r],Jr=Y.getTile(qr),sn=Jr.getBucket(ve);if(sn){var gn=sn.programConfigurations.get(ve.id),On=ce.useProgram("circle",gn),Zn=sn.layoutVertexBuffer,ra=sn.indexBuffer,ia=wf(ce,qr,Jr,ve),aa={programConfiguration:gn,program:On,layoutVertexBuffer:Zn,indexBuffer:ra,uniformValues:ia};if(ot)for(var ga=sn.segments.get(),Ea=0,Ma=ga;Ea<Ma.length;Ea+=1){var Ra=Ma[Ea];Vr.push({segments:new a.SegmentVector([Ra]),sortKey:Ra.sortKey,state:aa})}else Vr.push({segments:sn.segments,sortKey:0,state:aa})}}ot&&Vr.sort(function(gi,Bi){return gi.sortKey-Bi.sortKey});for(var ka=0,Ga=Vr;ka<Ga.length;ka+=1){var Ja=Ga[ka],Ci=Ja.state,qa=Ci.programConfiguration,vi=Ci.program,Ua=Ci.layoutVertexBuffer,Li=Ci.indexBuffer,Pi=Ci.uniformValues,Di=Ja.segments;vi.draw(wt,Vt.TRIANGLES,qt,pr,wr,Pt.disabled,Pi,ve.id,Ua,Li,Di,ve.paint,ce.transform.zoom,qa)}}}}function nf(ce,Y,ve,q){if(ve.paint.get("heatmap-opacity")!==0)if(ce.renderPass==="offscreen"){var de=ce.context,De=de.gl,Ye=jt.disabled,ot=new st([De.ONE,De.ONE],a.Color.transparent,[!0,!0,!0,!0]);Uo(de,ce,ve),de.clear({color:a.Color.transparent});for(var wt=0;wt<q.length;wt++){var Vt=q[wt];if(!Y.hasRenderableParent(Vt)){var qt=Y.getTile(Vt),pr=qt.getBucket(ve);if(pr){var wr=pr.programConfigurations.get(ve.id),Vr=ce.useProgram("heatmap",wr),$r=ce.transform,qr=$r.zoom;Vr.draw(de,De.TRIANGLES,Hr.disabled,Ye,ot,Pt.disabled,Gl(Vt.posMatrix,qt,qr,ve.paint.get("heatmap-intensity")),ve.id,pr.layoutVertexBuffer,pr.indexBuffer,pr.segments,ve.paint,ce.transform.zoom,wr)}}}de.viewport.set([0,0,ce.width,ce.height])}else ce.renderPass==="translucent"&&(ce.context.setColorMode(ce.colorModeForRenderPass()),Gi(ce,ve))}function Uo(ce,Y,ve){var q=ce.gl;ce.activeTexture.set(q.TEXTURE1),ce.viewport.set([0,0,Y.width/4,Y.height/4]);var de=ve.heatmapFbo;if(de)q.bindTexture(q.TEXTURE_2D,de.colorAttachment.get()),ce.bindFramebuffer.set(de.framebuffer);else{var De=q.createTexture();q.bindTexture(q.TEXTURE_2D,De),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_S,q.CLAMP_TO_EDGE),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_T,q.CLAMP_TO_EDGE),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,q.LINEAR),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MAG_FILTER,q.LINEAR),de=ve.heatmapFbo=ce.createFramebuffer(Y.width/4,Y.height/4,!1),ts(ce,Y,De,de)}}function ts(ce,Y,ve,q){var de=ce.gl,De=ce.extRenderToTextureHalfFloat?ce.extTextureHalfFloat.HALF_FLOAT_OES:de.UNSIGNED_BYTE;de.texImage2D(de.TEXTURE_2D,0,de.RGBA,Y.width/4,Y.height/4,0,de.RGBA,De,null),q.colorAttachment.set(ve)}function Gi(ce,Y){var ve=ce.context,q=ve.gl,de=Y.heatmapFbo;if(de){ve.activeTexture.set(q.TEXTURE0),q.bindTexture(q.TEXTURE_2D,de.colorAttachment.get()),ve.activeTexture.set(q.TEXTURE1);var De=Y.colorRampTexture;De||(De=Y.colorRampTexture=new a.Texture(ve,Y.colorRamp,q.RGBA)),De.bind(q.LINEAR,q.CLAMP_TO_EDGE),ce.useProgram("heatmapTexture").draw(ve,q.TRIANGLES,Hr.disabled,jt.disabled,ce.colorModeForRenderPass(),Pt.disabled,yu(ce,Y,0,1),Y.id,ce.viewportBuffer,ce.quadTriangleIndexBuffer,ce.viewportSegments,Y.paint,ce.transform.zoom)}}function Ef(ce,Y,ve,q){if(ce.renderPass==="translucent"){var de=ve.paint.get("line-opacity"),De=ve.paint.get("line-width");if(!(de.constantOr(1)===0||De.constantOr(1)===0)){var Ye=ce.depthModeForSublayer(0,Hr.ReadOnly),ot=ce.colorModeForRenderPass(),wt=ve.paint.get("line-dasharray"),Vt=ve.paint.get("line-pattern"),qt=Vt.constantOr(1),pr=ve.paint.get("line-gradient"),wr=ve.getCrossfadeParameters(),Vr=qt?"linePattern":wt?"lineSDF":pr?"lineGradient":"line",$r=ce.context,qr=$r.gl,Jr=!0;if(pr){$r.activeTexture.set(qr.TEXTURE0);var sn=ve.gradientTexture;if(!ve.gradient)return;sn||(sn=ve.gradientTexture=new a.Texture($r,ve.gradient,qr.RGBA)),sn.bind(qr.LINEAR,qr.CLAMP_TO_EDGE)}for(var gn=0,On=q;gn<On.length;gn+=1){var Zn=On[gn],ra=Y.getTile(Zn);if(!(qt&&!ra.patternsLoaded())){var ia=ra.getBucket(ve);if(ia){var aa=ia.programConfigurations.get(ve.id),ga=ce.context.program.get(),Ea=ce.useProgram(Vr,aa),Ma=Jr||Ea.program!==ga,Ra=Vt.constantOr(null);if(Ra&&ra.imageAtlas){var ka=ra.imageAtlas,Ga=ka.patternPositions[Ra.to.toString()],Ja=ka.patternPositions[Ra.from.toString()];Ga&&Ja&&aa.setConstantPatternPositions(Ga,Ja)}var Ci=qt?qo(ce,ra,ve,wr):wt?xu(ce,ra,ve,wt,wr):pr?mu(ce,ra,ve):ll(ce,ra,ve);qt?($r.activeTexture.set(qr.TEXTURE0),ra.imageAtlasTexture.bind(qr.LINEAR,qr.CLAMP_TO_EDGE),aa.updatePaintBuffers(wr)):wt&&(Ma||ce.lineAtlas.dirty)&&($r.activeTexture.set(qr.TEXTURE0),ce.lineAtlas.bind($r)),Ea.draw($r,qr.TRIANGLES,Ye,ce.stencilModeForClipping(Zn),ot,Pt.disabled,Ci,ve.id,ia.layoutVertexBuffer,ia.indexBuffer,ia.segments,ve.paint,ce.transform.zoom,aa),Jr=!1}}}}}}function Xl(ce,Y,ve,q){var de=ve.paint.get("fill-color"),De=ve.paint.get("fill-opacity");if(De.constantOr(1)!==0){var Ye=ce.colorModeForRenderPass(),ot=ve.paint.get("fill-pattern"),wt=ce.opaquePassEnabledForLayer()&&!ot.constantOr(1)&&de.constantOr(a.Color.transparent).a===1&&De.constantOr(0)===1?"opaque":"translucent";if(ce.renderPass===wt){var Vt=ce.depthModeForSublayer(1,ce.renderPass==="opaque"?Hr.ReadWrite:Hr.ReadOnly);ls(ce,Y,ve,q,Vt,Ye,!1)}if(ce.renderPass==="translucent"&&ve.paint.get("fill-antialias")){var qt=ce.depthModeForSublayer(ve.getPaintProperty("fill-outline-color")?2:0,Hr.ReadOnly);ls(ce,Y,ve,q,qt,Ye,!0)}}}function ls(ce,Y,ve,q,de,De,Ye){var ot=ce.context.gl,wt=ve.paint.get("fill-pattern"),Vt=wt&&wt.constantOr(1),qt=ve.getCrossfadeParameters(),pr,wr,Vr,$r,qr;Ye?(wr=Vt&&!ve.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",pr=ot.LINES):(wr=Vt?"fillPattern":"fill",pr=ot.TRIANGLES);for(var Jr=0,sn=q;Jr<sn.length;Jr+=1){var gn=sn[Jr],On=Y.getTile(gn);if(!(Vt&&!On.patternsLoaded())){var Zn=On.getBucket(ve);if(Zn){var ra=Zn.programConfigurations.get(ve.id),ia=ce.useProgram(wr,ra);Vt&&(ce.context.activeTexture.set(ot.TEXTURE0),On.imageAtlasTexture.bind(ot.LINEAR,ot.CLAMP_TO_EDGE),ra.updatePaintBuffers(qt));var aa=wt.constantOr(null);if(aa&&On.imageAtlas){var ga=On.imageAtlas,Ea=ga.patternPositions[aa.to.toString()],Ma=ga.patternPositions[aa.from.toString()];Ea&&Ma&&ra.setConstantPatternPositions(Ea,Ma)}var Ra=ce.translatePosMatrix(gn.posMatrix,On,ve.paint.get("fill-translate"),ve.paint.get("fill-translate-anchor"));if(!Ye)$r=Zn.indexBuffer,qr=Zn.segments,Vr=Vt?ss(Ra,ce,qt,On):$o(Ra);else{$r=Zn.indexBuffer2,qr=Zn.segments2;var ka=[ot.drawingBufferWidth,ot.drawingBufferHeight];Vr=wr==="fillOutlinePattern"&&Vt?oo(Ra,ce,qt,On,ka):il(Ra,ka)}ia.draw(ce.context,pr,de,ce.stencilModeForClipping(gn),De,Pt.disabled,Vr,ve.id,Zn.layoutVertexBuffer,$r,qr,ve.paint,ce.transform.zoom,ra)}}}}function jl(ce,Y,ve,q){var de=ve.paint.get("fill-extrusion-opacity");if(de!==0&&ce.renderPass==="translucent"){var De=new Hr(ce.context.gl.LEQUAL,Hr.ReadWrite,ce.depthRangeFor3D);if(de===1&&!ve.paint.get("fill-extrusion-pattern").constantOr(1)){var Ye=ce.colorModeForRenderPass();Ys(ce,Y,ve,q,De,jt.disabled,Ye)}else Ys(ce,Y,ve,q,De,jt.disabled,st.disabled),Ys(ce,Y,ve,q,De,ce.stencilModeFor3D(),ce.colorModeForRenderPass())}}function Ys(ce,Y,ve,q,de,De,Ye){for(var ot=ce.context,wt=ot.gl,Vt=ve.paint.get("fill-extrusion-pattern"),qt=Vt.constantOr(1),pr=ve.getCrossfadeParameters(),wr=ve.paint.get("fill-extrusion-opacity"),Vr=0,$r=q;Vr<$r.length;Vr+=1){var qr=$r[Vr],Jr=Y.getTile(qr),sn=Jr.getBucket(ve);if(sn){var gn=sn.programConfigurations.get(ve.id),On=ce.useProgram(qt?"fillExtrusionPattern":"fillExtrusion",gn);qt&&(ce.context.activeTexture.set(wt.TEXTURE0),Jr.imageAtlasTexture.bind(wt.LINEAR,wt.CLAMP_TO_EDGE),gn.updatePaintBuffers(pr));var Zn=Vt.constantOr(null);if(Zn&&Jr.imageAtlas){var ra=Jr.imageAtlas,ia=ra.patternPositions[Zn.to.toString()],aa=ra.patternPositions[Zn.from.toString()];ia&&aa&&gn.setConstantPatternPositions(ia,aa)}var ga=ce.translatePosMatrix(qr.posMatrix,Jr,ve.paint.get("fill-extrusion-translate"),ve.paint.get("fill-extrusion-translate-anchor")),Ea=ve.paint.get("fill-extrusion-vertical-gradient"),Ma=qt?bs(ga,ce,Ea,wr,qr,pr,Jr):Fo(ga,ce,Ea,wr);On.draw(ot,ot.gl.TRIANGLES,de,De,Ye,Pt.backCCW,Ma,ve.id,sn.layoutVertexBuffer,sn.indexBuffer,sn.segments,ve.paint,ce.transform.zoom,gn)}}}function Au(ce,Y,ve,q){if(!(ce.renderPass!=="offscreen"&&ce.renderPass!=="translucent")){for(var de=ce.context,De=Y.getSource().maxzoom,Ye=ce.depthModeForSublayer(0,Hr.ReadOnly),ot=ce.colorModeForRenderPass(),wt=ce.renderPass==="translucent"?ce.stencilConfigForOverlap(q):[{},q],Vt=wt[0],qt=wt[1],pr=0,wr=qt;pr<wr.length;pr+=1){var Vr=wr[pr],$r=Y.getTile(Vr);$r.needsHillshadePrepare&&ce.renderPass==="offscreen"?af(ce,$r,ve,De,Ye,jt.disabled,ot):ce.renderPass==="translucent"&&Cf(ce,$r,ve,Ye,Vt[Vr.overscaledZ],ot)}de.viewport.set([0,0,ce.width,ce.height])}}function Cf(ce,Y,ve,q,de,De){var Ye=ce.context,ot=Ye.gl,wt=Y.fbo;if(wt){var Vt=ce.useProgram("hillshade");Ye.activeTexture.set(ot.TEXTURE0),ot.bindTexture(ot.TEXTURE_2D,wt.colorAttachment.get());var qt=Sf(ce,Y,ve);Vt.draw(Ye,ot.TRIANGLES,q,de,De,Pt.disabled,qt,ve.id,ce.rasterBoundsBuffer,ce.quadTriangleIndexBuffer,ce.rasterBoundsSegments)}}function af(ce,Y,ve,q,de,De,Ye){var ot=ce.context,wt=ot.gl,Vt=Y.dem;if(Vt&&Vt.data){var qt=Vt.dim,pr=Vt.stride,wr=Vt.getPixels();if(ot.activeTexture.set(wt.TEXTURE1),ot.pixelStoreUnpackPremultiplyAlpha.set(!1),Y.demTexture=Y.demTexture||ce.getTileTexture(pr),Y.demTexture){var Vr=Y.demTexture;Vr.update(wr,{premultiply:!1}),Vr.bind(wt.NEAREST,wt.CLAMP_TO_EDGE)}else Y.demTexture=new a.Texture(ot,wr,wt.RGBA,{premultiply:!1}),Y.demTexture.bind(wt.NEAREST,wt.CLAMP_TO_EDGE);ot.activeTexture.set(wt.TEXTURE0);var $r=Y.fbo;if(!$r){var qr=new a.Texture(ot,{width:qt,height:qt,data:null},wt.RGBA);qr.bind(wt.LINEAR,wt.CLAMP_TO_EDGE),$r=Y.fbo=ot.createFramebuffer(qt,qt,!0),$r.colorAttachment.set(qr.texture)}ot.bindFramebuffer.set($r.framebuffer),ot.viewport.set([0,0,qt,qt]),ce.useProgram("hillshadePrepare").draw(ot,wt.TRIANGLES,de,De,Ye,Pt.disabled,$u(Y.tileID,Vt,q),ve.id,ce.rasterBoundsBuffer,ce.quadTriangleIndexBuffer,ce.rasterBoundsSegments),Y.needsHillshadePrepare=!1}}function of(ce,Y,ve,q){if(ce.renderPass==="translucent"&&ve.paint.get("raster-opacity")!==0&&q.length)for(var de=ce.context,De=de.gl,Ye=Y.getSource(),ot=ce.useProgram("raster"),wt=ce.colorModeForRenderPass(),Vt=Ye instanceof Q?[{},q]:ce.stencilConfigForOverlap(q),qt=Vt[0],pr=Vt[1],wr=pr[pr.length-1].overscaledZ,Vr=!ce.options.moving,$r=0,qr=pr;$r<qr.length;$r+=1){var Jr=qr[$r],sn=ce.depthModeForSublayer(Jr.overscaledZ-wr,ve.paint.get("raster-opacity")===1?Hr.ReadWrite:Hr.ReadOnly,De.LESS),gn=Y.getTile(Jr),On=ce.transform.calculatePosMatrix(Jr.toUnwrapped(),Vr);gn.registerFadeDuration(ve.paint.get("raster-fade-duration"));var Zn=Y.findLoadedParent(Jr,0),ra=Ms(gn,Zn,Y,ve,ce.transform),ia=void 0,aa=void 0,ga=ve.paint.get("raster-resampling")==="nearest"?De.NEAREST:De.LINEAR;de.activeTexture.set(De.TEXTURE0),gn.texture.bind(ga,De.CLAMP_TO_EDGE,De.LINEAR_MIPMAP_NEAREST),de.activeTexture.set(De.TEXTURE1),Zn?(Zn.texture.bind(ga,De.CLAMP_TO_EDGE,De.LINEAR_MIPMAP_NEAREST),ia=Math.pow(2,Zn.tileID.overscaledZ-gn.tileID.overscaledZ),aa=[gn.tileID.canonical.x*ia%1,gn.tileID.canonical.y*ia%1]):gn.texture.bind(ga,De.CLAMP_TO_EDGE,De.LINEAR_MIPMAP_NEAREST);var Ea=Ml(On,aa||[0,0],ia||1,ra,ve);Ye instanceof Q?ot.draw(de,De.TRIANGLES,sn,jt.disabled,wt,Pt.disabled,Ea,ve.id,Ye.boundsBuffer,ce.quadTriangleIndexBuffer,Ye.boundsSegments):ot.draw(de,De.TRIANGLES,sn,qt[Jr.overscaledZ],wt,Pt.disabled,Ea,ve.id,ce.rasterBoundsBuffer,ce.quadTriangleIndexBuffer,ce.rasterBoundsSegments)}}function Ms(ce,Y,ve,q,de){var De=q.paint.get("raster-fade-duration");if(De>0){var Ye=a.browser.now(),ot=(Ye-ce.timeAdded)/De,wt=Y?(Ye-Y.timeAdded)/De:-1,Vt=ve.getSource(),qt=de.coveringZoomLevel({tileSize:Vt.tileSize,roundZoom:Vt.roundZoom}),pr=!Y||Math.abs(Y.tileID.overscaledZ-qt)>Math.abs(ce.tileID.overscaledZ-qt),wr=pr&&ce.refreshedUponExpiration?1:a.clamp(pr?ot:1-wt,0,1);return ce.refreshedUponExpiration&&ot>=1&&(ce.refreshedUponExpiration=!1),Y?{opacity:1,mix:1-wr}:{opacity:wr,mix:0}}else return{opacity:1,mix:0}}function Su(ce,Y,ve){var q=ve.paint.get("background-color"),de=ve.paint.get("background-opacity");if(de!==0){var De=ce.context,Ye=De.gl,ot=ce.transform,wt=ot.tileSize,Vt=ve.paint.get("background-pattern");if(!ce.isPatternMissing(Vt)){var qt=!Vt&&q.a===1&&de===1&&ce.opaquePassEnabledForLayer()?"opaque":"translucent";if(ce.renderPass===qt){var pr=jt.disabled,wr=ce.depthModeForSublayer(0,qt==="opaque"?Hr.ReadWrite:Hr.ReadOnly),Vr=ce.colorModeForRenderPass(),$r=ce.useProgram(Vt?"backgroundPattern":"background"),qr=ot.coveringTiles({tileSize:wt});Vt&&(De.activeTexture.set(Ye.TEXTURE0),ce.imageManager.bind(ce.context));for(var Jr=ve.getCrossfadeParameters(),sn=0,gn=qr;sn<gn.length;sn+=1){var On=gn[sn],Zn=ce.transform.calculatePosMatrix(On.toUnwrapped()),ra=Vt?Gs(Zn,de,ce,Vt,{tileID:On,tileSize:wt},Jr):As(Zn,de,q);$r.draw(De,Ye.TRIANGLES,wr,pr,Vr,Pt.disabled,ra,ve.id,ce.tileExtentBuffer,ce.quadTriangleIndexBuffer,ce.tileExtentSegments)}}}}}var Kl=new a.Color(1,0,0,1),Lf=new a.Color(0,1,0,1),Jl=new a.Color(0,0,1,1),Pf=new a.Color(1,0,1,1),Ze=new a.Color(0,1,1,1);function et(ce){var Y=ce.transform.padding,ve=3;yt(ce,ce.transform.height-(Y.top||0),ve,Kl),yt(ce,Y.bottom||0,ve,Lf),zt(ce,Y.left||0,ve,Jl),zt(ce,ce.transform.width-(Y.right||0),ve,Pf);var q=ce.transform.centerPoint;ht(ce,q.x,ce.transform.height-q.y,Ze)}function ht(ce,Y,ve,q){var de=20,De=2;It(ce,Y-De/2,ve-de/2,De,de,q),It(ce,Y-de/2,ve-De/2,de,De,q)}function yt(ce,Y,ve,q){It(ce,0,Y+ve/2,ce.transform.width,ve,q)}function zt(ce,Y,ve,q){It(ce,Y-ve/2,0,ve,ce.transform.height,q)}function It(ce,Y,ve,q,de,De){var Ye=ce.context,ot=Ye.gl;ot.enable(ot.SCISSOR_TEST),ot.scissor(Y*a.browser.devicePixelRatio,ve*a.browser.devicePixelRatio,q*a.browser.devicePixelRatio,de*a.browser.devicePixelRatio),Ye.clear({color:De}),ot.disable(ot.SCISSOR_TEST)}function Ut(ce,Y,ve){for(var q=0;q<ve.length;q++)dr(ce,Y,ve[q])}function dr(ce,Y,ve){var q=ce.context,de=q.gl,De=ve.posMatrix,Ye=ce.useProgram("debug"),ot=Hr.disabled,wt=jt.disabled,Vt=ce.colorModeForRenderPass(),qt="$debug";q.activeTexture.set(de.TEXTURE0),ce.emptyTexture.bind(de.LINEAR,de.CLAMP_TO_EDGE),Ye.draw(q,de.LINE_STRIP,ot,wt,Vt,Pt.disabled,Us(De,a.Color.red),qt,ce.debugBuffer,ce.tileBorderIndexBuffer,ce.debugSegments);var pr=Y.getTileByID(ve.key).latestRawTileData,wr=pr&&pr.byteLength||0,Vr=Math.floor(wr/1024),$r=Y.getTile(ve).tileSize,qr=512/Math.min($r,512)*(ve.overscaledZ/ce.transform.zoom)*.5,Jr=ve.canonical.toString();ve.overscaledZ!==ve.canonical.z&&(Jr+=" => "+ve.overscaledZ);var sn=Jr+" "+Vr+"kb";br(ce,sn),Ye.draw(q,de.TRIANGLES,ot,wt,st.alphaBlended,Pt.disabled,Us(De,a.Color.transparent,qr),qt,ce.debugBuffer,ce.quadTriangleIndexBuffer,ce.debugSegments)}function br(ce,Y){ce.initDebugOverlayCanvas();var ve=ce.debugOverlayCanvas,q=ce.context.gl,de=ce.debugOverlayCanvas.getContext("2d");de.clearRect(0,0,ve.width,ve.height),de.shadowColor="white",de.shadowBlur=2,de.lineWidth=1.5,de.strokeStyle="white",de.textBaseline="top",de.font="bold 36px Open Sans, sans-serif",de.fillText(Y,5,5),de.strokeText(Y,5,5),ce.debugOverlayTexture.update(ve),ce.debugOverlayTexture.bind(q.LINEAR,q.CLAMP_TO_EDGE)}function sr(ce,Y,ve){var q=ce.context,de=ve.implementation;if(ce.renderPass==="offscreen"){var De=de.prerender;De&&(ce.setCustomLayerDefaults(),q.setColorMode(ce.colorModeForRenderPass()),De.call(de,q.gl,ce.transform.customLayerMatrix()),q.setDirty(),ce.setBaseState())}else if(ce.renderPass==="translucent"){ce.setCustomLayerDefaults(),q.setColorMode(ce.colorModeForRenderPass()),q.setStencilMode(jt.disabled);var Ye=de.renderingMode==="3d"?new Hr(ce.context.gl.LEQUAL,Hr.ReadWrite,ce.depthRangeFor3D):ce.depthModeForSublayer(0,Hr.ReadOnly);q.setDepthMode(Ye),de.render(q.gl,ce.transform.customLayerMatrix()),q.setDirty(),ce.setBaseState(),q.bindFramebuffer.set(null)}}var Er={symbol:Cl,circle:Ss,heatmap:nf,line:Ef,fill:Xl,"fill-extrusion":jl,hillshade:Au,raster:of,background:Su,debug:Ut,custom:sr},Fr=function(Y,ve){this.context=new Et(Y),this.transform=ve,this._tileTextures={},this.setup(),this.numSublayers=Bt.maxUnderzooming+Bt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ba,this.gpuTimers={}};Fr.prototype.resize=function(Y,ve){if(this.width=Y*a.browser.devicePixelRatio,this.height=ve*a.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var q=0,de=this.style._order;q<de.length;q+=1){var De=de[q];this.style._layers[De].resize()}},Fr.prototype.setup=function(){var Y=this.context,ve=new a.StructArrayLayout2i4;ve.emplaceBack(0,0),ve.emplaceBack(a.EXTENT,0),ve.emplaceBack(0,a.EXTENT),ve.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=Y.createVertexBuffer(ve,xo.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);var q=new a.StructArrayLayout2i4;q.emplaceBack(0,0),q.emplaceBack(a.EXTENT,0),q.emplaceBack(0,a.EXTENT),q.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=Y.createVertexBuffer(q,xo.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);var de=new a.StructArrayLayout4i8;de.emplaceBack(0,0,0,0),de.emplaceBack(a.EXTENT,0,a.EXTENT,0),de.emplaceBack(0,a.EXTENT,0,a.EXTENT),de.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=Y.createVertexBuffer(de,G.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);var De=new a.StructArrayLayout2i4;De.emplaceBack(0,0),De.emplaceBack(1,0),De.emplaceBack(0,1),De.emplaceBack(1,1),this.viewportBuffer=Y.createVertexBuffer(De,xo.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);var Ye=new a.StructArrayLayout1ui2;Ye.emplaceBack(0),Ye.emplaceBack(1),Ye.emplaceBack(3),Ye.emplaceBack(2),Ye.emplaceBack(0),this.tileBorderIndexBuffer=Y.createIndexBuffer(Ye);var ot=new a.StructArrayLayout3ui6;ot.emplaceBack(0,1,2),ot.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=Y.createIndexBuffer(ot),this.emptyTexture=new a.Texture(Y,{width:1,height:1,data:new Uint8Array([0,0,0,0])},Y.gl.RGBA);var wt=this.context.gl;this.stencilClearMode=new jt({func:wt.ALWAYS,mask:0},0,255,wt.ZERO,wt.ZERO,wt.ZERO)},Fr.prototype.clearStencil=function(){var Y=this.context,ve=Y.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var q=a.create();a.ortho(q,0,this.width,this.height,0,0,1),a.scale(q,q,[ve.drawingBufferWidth,ve.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(Y,ve.TRIANGLES,Hr.disabled,this.stencilClearMode,st.disabled,Pt.disabled,To(q),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Fr.prototype._renderTileClippingMasks=function(Y,ve){if(!(this.currentStencilSource===Y.source||!Y.isTileClipped()||!ve||!ve.length)){this.currentStencilSource=Y.source;var q=this.context,de=q.gl;this.nextStencilID+ve.length>256&&this.clearStencil(),q.setColorMode(st.disabled),q.setDepthMode(Hr.disabled);var De=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Ye=0,ot=ve;Ye<ot.length;Ye+=1){var wt=ot[Ye],Vt=this._tileClippingMaskIDs[wt.key]=this.nextStencilID++;De.draw(q,de.TRIANGLES,Hr.disabled,new jt({func:de.ALWAYS,mask:0},Vt,255,de.KEEP,de.KEEP,de.REPLACE),st.disabled,Pt.disabled,To(wt.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Fr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var Y=this.nextStencilID++,ve=this.context.gl;return new jt({func:ve.NOTEQUAL,mask:255},Y,255,ve.KEEP,ve.KEEP,ve.REPLACE)},Fr.prototype.stencilModeForClipping=function(Y){var ve=this.context.gl;return new jt({func:ve.EQUAL,mask:255},this._tileClippingMaskIDs[Y.key],0,ve.KEEP,ve.KEEP,ve.REPLACE)},Fr.prototype.stencilConfigForOverlap=function(Y){var ve,q=this.context.gl,de=Y.sort(function(Vt,qt){return qt.overscaledZ-Vt.overscaledZ}),De=de[de.length-1].overscaledZ,Ye=de[0].overscaledZ-De+1;if(Ye>1){this.currentStencilSource=void 0,this.nextStencilID+Ye>256&&this.clearStencil();for(var ot={},wt=0;wt<Ye;wt++)ot[wt+De]=new jt({func:q.GEQUAL,mask:255},wt+this.nextStencilID,255,q.KEEP,q.KEEP,q.REPLACE);return this.nextStencilID+=Ye,[ot,de]}return[(ve={},ve[De]=jt.disabled,ve),de]},Fr.prototype.colorModeForRenderPass=function(){var Y=this.context.gl;if(this._showOverdrawInspector){var ve=8,q=1/ve;return new st([Y.CONSTANT_COLOR,Y.ONE],new a.Color(q,q,q,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?st.unblended:st.alphaBlended},Fr.prototype.depthModeForSublayer=function(Y,ve,q){if(!this.opaquePassEnabledForLayer())return Hr.disabled;var de=1-((1+this.currentLayer)*this.numSublayers+Y)*this.depthEpsilon;return new Hr(q||this.context.gl.LEQUAL,ve,[de,de])},Fr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Fr.prototype.render=function(Y,ve){var q=this;this.style=Y,this.options=ve,this.lineAtlas=Y.lineAtlas,this.imageManager=Y.imageManager,this.glyphManager=Y.glyphManager,this.symbolFadeChange=Y.placement.symbolFadeChange(a.browser.now()),this.imageManager.beginFrame();var de=this.style._order,De=this.style.sourceCaches;for(var Ye in De){var ot=De[Ye];ot.used&&ot.prepare(this.context)}var wt={},Vt={},qt={};for(var pr in De){var wr=De[pr];wt[pr]=wr.getVisibleCoordinates(),Vt[pr]=wt[pr].slice().reverse(),qt[pr]=wr.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Vr=0;Vr<de.length;Vr++){var $r=de[Vr];if(this.style._layers[$r].is3D()){this.opaquePassCutoff=Vr;break}}this.renderPass="offscreen";for(var qr=0,Jr=de;qr<Jr.length;qr+=1){var sn=Jr[qr],gn=this.style._layers[sn];if(!(!gn.hasOffscreenPass()||gn.isHidden(this.transform.zoom))){var On=Vt[gn.source];gn.type!=="custom"&&!On.length||this.renderLayer(this,De[gn.source],gn,On)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:ve.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=ve.showOverdrawInspector,this.depthRangeFor3D=[0,1-(Y._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=de.length-1;this.currentLayer>=0;this.currentLayer--){var Zn=this.style._layers[de[this.currentLayer]],ra=De[Zn.source],ia=wt[Zn.source];this._renderTileClippingMasks(Zn,ia),this.renderLayer(this,ra,Zn,ia)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<de.length;this.currentLayer++){var aa=this.style._layers[de[this.currentLayer]],ga=De[aa.source],Ea=(aa.type==="symbol"?qt:Vt)[aa.source];this._renderTileClippingMasks(aa,wt[aa.source]),this.renderLayer(this,ga,aa,Ea)}if(this.options.showTileBoundaries){var Ma,Ra,ka=a.values(this.style._layers);ka.forEach(function(Ga){Ga.source&&!Ga.isHidden(q.transform.zoom)&&(Ga.source!==(Ra&&Ra.id)&&(Ra=q.style.sourceCaches[Ga.source]),(!Ma||Ma.getSource().maxzoom<Ra.getSource().maxzoom)&&(Ma=Ra))}),Ma&&Er.debug(this,Ma,Ma.getVisibleCoordinates())}this.options.showPadding&&et(this),this.context.setDefault()},Fr.prototype.renderLayer=function(Y,ve,q,de){q.isHidden(this.transform.zoom)||q.type!=="background"&&q.type!=="custom"&&!de.length||(this.id=q.id,this.gpuTimingStart(q),Er[q.type](Y,ve,q,de,this.style.placement.variableOffsets),this.gpuTimingEnd())},Fr.prototype.gpuTimingStart=function(Y){if(this.options.gpuTiming){var ve=this.context.extTimerQuery,q=this.gpuTimers[Y.id];q||(q=this.gpuTimers[Y.id]={calls:0,cpuTime:0,query:ve.createQueryEXT()}),q.calls++,ve.beginQueryEXT(ve.TIME_ELAPSED_EXT,q.query)}},Fr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var Y=this.context.extTimerQuery;Y.endQueryEXT(Y.TIME_ELAPSED_EXT)}},Fr.prototype.collectGpuTimers=function(){var Y=this.gpuTimers;return this.gpuTimers={},Y},Fr.prototype.queryGpuTimers=function(Y){var ve={};for(var q in Y){var de=Y[q],De=this.context.extTimerQuery,Ye=De.getQueryObjectEXT(de.query,De.QUERY_RESULT_EXT)/(1e3*1e3);De.deleteQueryEXT(de.query),ve[q]=Ye}return ve},Fr.prototype.translatePosMatrix=function(Y,ve,q,de,De){if(!q[0]&&!q[1])return Y;var Ye=De?de==="map"?this.transform.angle:0:de==="viewport"?-this.transform.angle:0;if(Ye){var ot=Math.sin(Ye),wt=Math.cos(Ye);q=[q[0]*wt-q[1]*ot,q[0]*ot+q[1]*wt]}var Vt=[De?q[0]:An(ve,q[0],this.transform.zoom),De?q[1]:An(ve,q[1],this.transform.zoom),0],qt=new Float32Array(16);return a.translate(qt,Y,Vt),qt},Fr.prototype.saveTileTexture=function(Y){var ve=this._tileTextures[Y.size[0]];ve?ve.push(Y):this._tileTextures[Y.size[0]]=[Y]},Fr.prototype.getTileTexture=function(Y){var ve=this._tileTextures[Y];return ve&&ve.length>0?ve.pop():null},Fr.prototype.isPatternMissing=function(Y){if(!Y)return!1;if(!Y.from||!Y.to)return!0;var ve=this.imageManager.getPattern(Y.from.toString()),q=this.imageManager.getPattern(Y.to.toString());return!ve||!q},Fr.prototype.useProgram=function(Y,ve){this.cache=this.cache||{};var q=""+Y+(ve?ve.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[q]||(this.cache[q]=new Al(this.context,ju[Y],ve,fl[Y],this._showOverdrawInspector)),this.cache[q]},Fr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Fr.prototype.setBaseState=function(){var Y=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(Y.FUNC_ADD)},Fr.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=a.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var Y=this.context.gl;this.debugOverlayTexture=new a.Texture(this.context,this.debugOverlayCanvas,Y.RGBA)}},Fr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var Qr=function(Y,ve){this.points=Y,this.planes=ve};Qr.fromInvProjectionMatrix=function(Y,ve,q){var de=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],De=Math.pow(2,q),Ye=de.map(function(Vt){return a.transformMat4([],Vt,Y)}).map(function(Vt){return a.scale$1([],Vt,1/Vt[3]/ve*De)}),ot=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],wt=ot.map(function(Vt){var qt=a.sub([],Ye[Vt[0]],Ye[Vt[1]]),pr=a.sub([],Ye[Vt[2]],Ye[Vt[1]]),wr=a.normalize([],a.cross([],qt,pr)),Vr=-a.dot(wr,Ye[Vt[1]]);return wr.concat(Vr)});return new Qr(Ye,wt)};var on=function(Y,ve){this.min=Y,this.max=ve,this.center=a.scale$2([],a.add([],this.min,this.max),.5)};on.prototype.quadrant=function(Y){for(var ve=[Y%2===0,Y<2],q=a.clone$2(this.min),de=a.clone$2(this.max),De=0;De<ve.length;De++)q[De]=ve[De]?this.min[De]:this.center[De],de[De]=ve[De]?this.center[De]:this.max[De];return de[2]=this.max[2],new on(q,de)},on.prototype.distanceX=function(Y){var ve=Math.max(Math.min(this.max[0],Y[0]),this.min[0]);return ve-Y[0]},on.prototype.distanceY=function(Y){var ve=Math.max(Math.min(this.max[1],Y[1]),this.min[1]);return ve-Y[1]},on.prototype.intersects=function(Y){for(var ve=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],q=!0,de=0;de<Y.planes.length;de++){for(var De=Y.planes[de],Ye=0,ot=0;ot<ve.length;ot++)Ye+=a.dot$1(De,ve[ot])>=0;if(Ye===0)return 0;Ye!==ve.length&&(q=!1)}if(q)return 2;for(var wt=0;wt<3;wt++){for(var Vt=Number.MAX_VALUE,qt=-Number.MAX_VALUE,pr=0;pr<Y.points.length;pr++){var wr=Y.points[pr][wt]-this.min[wt];Vt=Math.min(Vt,wr),qt=Math.max(qt,wr)}if(qt<0||Vt>this.max[wt]-this.min[wt])return 0}return 1};var Sn=function(Y,ve,q,de){if(Y===void 0&&(Y=0),ve===void 0&&(ve=0),q===void 0&&(q=0),de===void 0&&(de=0),isNaN(Y)||Y<0||isNaN(ve)||ve<0||isNaN(q)||q<0||isNaN(de)||de<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=Y,this.bottom=ve,this.left=q,this.right=de};Sn.prototype.interpolate=function(Y,ve,q){return ve.top!=null&&Y.top!=null&&(this.top=a.number(Y.top,ve.top,q)),ve.bottom!=null&&Y.bottom!=null&&(this.bottom=a.number(Y.bottom,ve.bottom,q)),ve.left!=null&&Y.left!=null&&(this.left=a.number(Y.left,ve.left,q)),ve.right!=null&&Y.right!=null&&(this.right=a.number(Y.right,ve.right,q)),this},Sn.prototype.getCenter=function(Y,ve){var q=a.clamp((this.left+Y-this.right)/2,0,Y),de=a.clamp((this.top+ve-this.bottom)/2,0,ve);return new a.Point(q,de)},Sn.prototype.equals=function(Y){return this.top===Y.top&&this.bottom===Y.bottom&&this.left===Y.left&&this.right===Y.right},Sn.prototype.clone=function(){return new Sn(this.top,this.bottom,this.left,this.right)},Sn.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Cn=function(Y,ve,q,de,De){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=De===void 0?!0:De,this._minZoom=Y||0,this._maxZoom=ve||22,this._minPitch=q??0,this._maxPitch=de??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Sn,this._posMatrixCache={},this._alignedPosMatrixCache={}},Vn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Cn.prototype.clone=function(){var Y=new Cn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return Y.tileSize=this.tileSize,Y.latRange=this.latRange,Y.width=this.width,Y.height=this.height,Y._center=this._center,Y.zoom=this.zoom,Y.angle=this.angle,Y._fov=this._fov,Y._pitch=this._pitch,Y._unmodified=this._unmodified,Y._edgeInsets=this._edgeInsets.clone(),Y._calcMatrices(),Y},Vn.minZoom.get=function(){return this._minZoom},Vn.minZoom.set=function(ce){this._minZoom!==ce&&(this._minZoom=ce,this.zoom=Math.max(this.zoom,ce))},Vn.maxZoom.get=function(){return this._maxZoom},Vn.maxZoom.set=function(ce){this._maxZoom!==ce&&(this._maxZoom=ce,this.zoom=Math.min(this.zoom,ce))},Vn.minPitch.get=function(){return this._minPitch},Vn.minPitch.set=function(ce){this._minPitch!==ce&&(this._minPitch=ce,this.pitch=Math.max(this.pitch,ce))},Vn.maxPitch.get=function(){return this._maxPitch},Vn.maxPitch.set=function(ce){this._maxPitch!==ce&&(this._maxPitch=ce,this.pitch=Math.min(this.pitch,ce))},Vn.renderWorldCopies.get=function(){return this._renderWorldCopies},Vn.renderWorldCopies.set=function(ce){ce===void 0?ce=!0:ce===null&&(ce=!1),this._renderWorldCopies=ce},Vn.worldSize.get=function(){return this.tileSize*this.scale},Vn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Vn.size.get=function(){return new a.Point(this.width,this.height)},Vn.bearing.get=function(){return-this.angle/Math.PI*180},Vn.bearing.set=function(ce){var Y=-a.wrap(ce,-180,180)*Math.PI/180;this.angle!==Y&&(this._unmodified=!1,this.angle=Y,this._calcMatrices(),this.rotationMatrix=a.create$2(),a.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Vn.pitch.get=function(){return this._pitch/Math.PI*180},Vn.pitch.set=function(ce){var Y=a.clamp(ce,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==Y&&(this._unmodified=!1,this._pitch=Y,this._calcMatrices())},Vn.fov.get=function(){return this._fov/Math.PI*180},Vn.fov.set=function(ce){ce=Math.max(.01,Math.min(60,ce)),this._fov!==ce&&(this._unmodified=!1,this._fov=ce/180*Math.PI,this._calcMatrices())},Vn.zoom.get=function(){return this._zoom},Vn.zoom.set=function(ce){var Y=Math.min(Math.max(ce,this.minZoom),this.maxZoom);this._zoom!==Y&&(this._unmodified=!1,this._zoom=Y,this.scale=this.zoomScale(Y),this.tileZoom=Math.floor(Y),this.zoomFraction=Y-this.tileZoom,this._constrain(),this._calcMatrices())},Vn.center.get=function(){return this._center},Vn.center.set=function(ce){ce.lat===this._center.lat&&ce.lng===this._center.lng||(this._unmodified=!1,this._center=ce,this._constrain(),this._calcMatrices())},Vn.padding.get=function(){return this._edgeInsets.toJSON()},Vn.padding.set=function(ce){this._edgeInsets.equals(ce)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,ce,1),this._calcMatrices())},Vn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Cn.prototype.isPaddingEqual=function(Y){return this._edgeInsets.equals(Y)},Cn.prototype.interpolatePadding=function(Y,ve,q){this._unmodified=!1,this._edgeInsets.interpolate(Y,ve,q),this._constrain(),this._calcMatrices()},Cn.prototype.coveringZoomLevel=function(Y){var ve=(Y.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/Y.tileSize));return Math.max(0,ve)},Cn.prototype.getVisibleUnwrappedCoordinates=function(Y){var ve=[new a.UnwrappedTileID(0,Y)];if(this._renderWorldCopies)for(var q=this.pointCoordinate(new a.Point(0,0)),de=this.pointCoordinate(new a.Point(this.width,0)),De=this.pointCoordinate(new a.Point(this.width,this.height)),Ye=this.pointCoordinate(new a.Point(0,this.height)),ot=Math.floor(Math.min(q.x,de.x,De.x,Ye.x)),wt=Math.floor(Math.max(q.x,de.x,De.x,Ye.x)),Vt=1,qt=ot-Vt;qt<=wt+Vt;qt++)qt!==0&&ve.push(new a.UnwrappedTileID(qt,Y));return ve},Cn.prototype.coveringTiles=function(Y){var ve=this.coveringZoomLevel(Y),q=ve;if(Y.minzoom!==void 0&&ve<Y.minzoom)return[];Y.maxzoom!==void 0&&ve>Y.maxzoom&&(ve=Y.maxzoom);var de=a.MercatorCoordinate.fromLngLat(this.center),De=Math.pow(2,ve),Ye=[De*de.x,De*de.y,0],ot=Qr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,ve),wt=Y.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(wt=ve);var Vt=3,qt=function(ka){return{aabb:new on([ka*De,0,0],[(ka+1)*De,De,0]),zoom:0,x:0,y:0,wrap:ka,fullyVisible:!1}},pr=[],wr=[],Vr=ve,$r=Y.reparseOverscaled?q:ve;if(this._renderWorldCopies)for(var qr=1;qr<=3;qr++)pr.push(qt(-qr)),pr.push(qt(qr));for(pr.push(qt(0));pr.length>0;){var Jr=pr.pop(),sn=Jr.x,gn=Jr.y,On=Jr.fullyVisible;if(!On){var Zn=Jr.aabb.intersects(ot);if(Zn===0)continue;On=Zn===2}var ra=Jr.aabb.distanceX(Ye),ia=Jr.aabb.distanceY(Ye),aa=Math.max(Math.abs(ra),Math.abs(ia)),ga=Vt+(1<<Vr-Jr.zoom)-2;if(Jr.zoom===Vr||aa>ga&&Jr.zoom>=wt){wr.push({tileID:new a.OverscaledTileID(Jr.zoom===Vr?$r:Jr.zoom,Jr.wrap,Jr.zoom,sn,gn),distanceSq:a.sqrLen([Ye[0]-.5-sn,Ye[1]-.5-gn])});continue}for(var Ea=0;Ea<4;Ea++){var Ma=(sn<<1)+Ea%2,Ra=(gn<<1)+(Ea>>1);pr.push({aabb:Jr.aabb.quadrant(Ea),zoom:Jr.zoom+1,x:Ma,y:Ra,wrap:Jr.wrap,fullyVisible:On})}}return wr.sort(function(ka,Ga){return ka.distanceSq-Ga.distanceSq}).map(function(ka){return ka.tileID})},Cn.prototype.resize=function(Y,ve){this.width=Y,this.height=ve,this.pixelsToGLUnits=[2/Y,-2/ve],this._constrain(),this._calcMatrices()},Vn.unmodified.get=function(){return this._unmodified},Cn.prototype.zoomScale=function(Y){return Math.pow(2,Y)},Cn.prototype.scaleZoom=function(Y){return Math.log(Y)/Math.LN2},Cn.prototype.project=function(Y){var ve=a.clamp(Y.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.Point(a.mercatorXfromLng(Y.lng)*this.worldSize,a.mercatorYfromLat(ve)*this.worldSize)},Cn.prototype.unproject=function(Y){return new a.MercatorCoordinate(Y.x/this.worldSize,Y.y/this.worldSize).toLngLat()},Vn.point.get=function(){return this.project(this.center)},Cn.prototype.setLocationAtPoint=function(Y,ve){var q=this.pointCoordinate(ve),de=this.pointCoordinate(this.centerPoint),De=this.locationCoordinate(Y),Ye=new a.MercatorCoordinate(De.x-(q.x-de.x),De.y-(q.y-de.y));this.center=this.coordinateLocation(Ye),this._renderWorldCopies&&(this.center=this.center.wrap())},Cn.prototype.locationPoint=function(Y){return this.coordinatePoint(this.locationCoordinate(Y))},Cn.prototype.pointLocation=function(Y){return this.coordinateLocation(this.pointCoordinate(Y))},Cn.prototype.locationCoordinate=function(Y){return a.MercatorCoordinate.fromLngLat(Y)},Cn.prototype.coordinateLocation=function(Y){return Y.toLngLat()},Cn.prototype.pointCoordinate=function(Y){var ve=0,q=[Y.x,Y.y,0,1],de=[Y.x,Y.y,1,1];a.transformMat4(q,q,this.pixelMatrixInverse),a.transformMat4(de,de,this.pixelMatrixInverse);var De=q[3],Ye=de[3],ot=q[0]/De,wt=de[0]/Ye,Vt=q[1]/De,qt=de[1]/Ye,pr=q[2]/De,wr=de[2]/Ye,Vr=pr===wr?0:(ve-pr)/(wr-pr);return new a.MercatorCoordinate(a.number(ot,wt,Vr)/this.worldSize,a.number(Vt,qt,Vr)/this.worldSize)},Cn.prototype.coordinatePoint=function(Y){var ve=[Y.x*this.worldSize,Y.y*this.worldSize,0,1];return a.transformMat4(ve,ve,this.pixelMatrix),new a.Point(ve[0]/ve[3],ve[1]/ve[3])},Cn.prototype.getBounds=function(){return new a.LngLatBounds().extend(this.pointLocation(new a.Point(0,0))).extend(this.pointLocation(new a.Point(this.width,0))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))},Cn.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new a.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},Cn.prototype.setMaxBounds=function(Y){Y?(this.lngRange=[Y.getWest(),Y.getEast()],this.latRange=[Y.getSouth(),Y.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Cn.prototype.calculatePosMatrix=function(Y,ve){ve===void 0&&(ve=!1);var q=Y.key,de=ve?this._alignedPosMatrixCache:this._posMatrixCache;if(de[q])return de[q];var De=Y.canonical,Ye=this.worldSize/this.zoomScale(De.z),ot=De.x+Math.pow(2,De.z)*Y.wrap,wt=a.identity(new Float64Array(16));return a.translate(wt,wt,[ot*Ye,De.y*Ye,0]),a.scale(wt,wt,[Ye/a.EXTENT,Ye/a.EXTENT,1]),a.multiply(wt,ve?this.alignedProjMatrix:this.projMatrix,wt),de[q]=new Float32Array(wt),de[q]},Cn.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Cn.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var Y=-90,ve=90,q=-180,de=180,De,Ye,ot,wt,Vt=this.size,qt=this._unmodified;if(this.latRange){var pr=this.latRange;Y=a.mercatorYfromLat(pr[1])*this.worldSize,ve=a.mercatorYfromLat(pr[0])*this.worldSize,De=ve-Y<Vt.y?Vt.y/(ve-Y):0}if(this.lngRange){var wr=this.lngRange;q=a.mercatorXfromLng(wr[0])*this.worldSize,de=a.mercatorXfromLng(wr[1])*this.worldSize,Ye=de-q<Vt.x?Vt.x/(de-q):0}var Vr=this.point,$r=Math.max(Ye||0,De||0);if($r){this.center=this.unproject(new a.Point(Ye?(de+q)/2:Vr.x,De?(ve+Y)/2:Vr.y)),this.zoom+=this.scaleZoom($r),this._unmodified=qt,this._constraining=!1;return}if(this.latRange){var qr=Vr.y,Jr=Vt.y/2;qr-Jr<Y&&(wt=Y+Jr),qr+Jr>ve&&(wt=ve-Jr)}if(this.lngRange){var sn=Vr.x,gn=Vt.x/2;sn-gn<q&&(ot=q+gn),sn+gn>de&&(ot=de-gn)}(ot!==void 0||wt!==void 0)&&(this.center=this.unproject(new a.Point(ot!==void 0?ot:Vr.x,wt!==void 0?wt:Vr.y))),this._unmodified=qt,this._constraining=!1}},Cn.prototype._calcMatrices=function(){if(this.height){var Y=this._fov/2,ve=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(Y)*this.height;var q=Math.PI/2+this._pitch,de=this._fov*(.5+ve.y/this.height),De=Math.sin(de)*this.cameraToCenterDistance/Math.sin(a.clamp(Math.PI-q-de,.01,Math.PI-.01)),Ye=this.point,ot=Ye.x,wt=Ye.y,Vt=Math.cos(Math.PI/2-this._pitch)*De+this.cameraToCenterDistance,qt=Vt*1.01,pr=this.height/50,wr=new Float64Array(16);a.perspective(wr,this._fov,this.width/this.height,pr,qt),wr[8]=-ve.x*2/this.width,wr[9]=ve.y*2/this.height,a.scale(wr,wr,[1,-1,1]),a.translate(wr,wr,[0,0,-this.cameraToCenterDistance]),a.rotateX(wr,wr,this._pitch),a.rotateZ(wr,wr,this.angle),a.translate(wr,wr,[-ot,-wt,0]),this.mercatorMatrix=a.scale([],wr,[this.worldSize,this.worldSize,this.worldSize]),a.scale(wr,wr,[1,1,a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=wr,this.invProjMatrix=a.invert([],this.projMatrix);var Vr=this.width%2/2,$r=this.height%2/2,qr=Math.cos(this.angle),Jr=Math.sin(this.angle),sn=ot-Math.round(ot)+qr*Vr+Jr*$r,gn=wt-Math.round(wt)+qr*$r+Jr*Vr,On=new Float64Array(wr);if(a.translate(On,On,[sn>.5?sn-1:sn,gn>.5?gn-1:gn,0]),this.alignedProjMatrix=On,wr=a.create(),a.scale(wr,wr,[this.width/2,-this.height/2,1]),a.translate(wr,wr,[1,-1,0]),this.labelPlaneMatrix=wr,wr=a.create(),a.scale(wr,wr,[1,-1,1]),a.translate(wr,wr,[-1,-1,0]),a.scale(wr,wr,[2/this.width,2/this.height,1]),this.glCoordMatrix=wr,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),wr=a.invert(new Float64Array(16),this.pixelMatrix),!wr)throw new Error("failed to invert matrix");this.pixelMatrixInverse=wr,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Cn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var Y=this.pointCoordinate(new a.Point(0,0)),ve=[Y.x*this.worldSize,Y.y*this.worldSize,0,1],q=a.transformMat4(ve,ve,this.pixelMatrix);return q[3]/this.cameraToCenterDistance},Cn.prototype.getCameraPoint=function(){var Y=this._pitch,ve=Math.tan(Y)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,ve))},Cn.prototype.getCameraQueryGeometry=function(Y){var ve=this.getCameraPoint();if(Y.length===1)return[Y[0],ve];for(var q=ve.x,de=ve.y,De=ve.x,Ye=ve.y,ot=0,wt=Y;ot<wt.length;ot+=1){var Vt=wt[ot];q=Math.min(q,Vt.x),de=Math.min(de,Vt.y),De=Math.max(De,Vt.x),Ye=Math.max(Ye,Vt.y)}return[new a.Point(q,de),new a.Point(De,de),new a.Point(De,Ye),new a.Point(q,Ye),new a.Point(q,de)]},Object.defineProperties(Cn.prototype,Vn);function Sa(ce,Y){var ve=!1,q=null,de=function(){q=null,ve&&(ce(),q=setTimeout(de,Y),ve=!1)};return function(){return ve=!0,q||de(),q}}var Da=function(Y){this._hashName=Y&&encodeURIComponent(Y),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Sa(this._updateHashUnthrottled.bind(this),30*1e3/100)};Da.prototype.addTo=function(Y){return this._map=Y,a.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Da.prototype.remove=function(){return a.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Da.prototype.getHashString=function(Y){var ve=this._map.getCenter(),q=Math.round(this._map.getZoom()*100)/100,de=Math.ceil((q*Math.LN2+Math.log(512/360/.5))/Math.LN10),De=Math.pow(10,de),Ye=Math.round(ve.lng*De)/De,ot=Math.round(ve.lat*De)/De,wt=this._map.getBearing(),Vt=this._map.getPitch(),qt="";if(Y?qt+="/"+Ye+"/"+ot+"/"+q:qt+=q+"/"+ot+"/"+Ye,(wt||Vt)&&(qt+="/"+Math.round(wt*10)/10),Vt&&(qt+="/"+Math.round(Vt)),this._hashName){var pr=this._hashName,wr=!1,Vr=a.window.location.hash.slice(1).split("&").map(function($r){var qr=$r.split("=")[0];return qr===pr?(wr=!0,qr+"="+qt):$r}).filter(function($r){return $r});return wr||Vr.push(pr+"="+qt),"#"+Vr.join("&")}return"#"+qt},Da.prototype._getCurrentHash=function(){var Y=this,ve=a.window.location.hash.replace("#","");if(this._hashName){var q;return ve.split("&").map(function(de){return de.split("=")}).forEach(function(de){de[0]===Y._hashName&&(q=de)}),(q&&q[1]||"").split("/")}return ve.split("/")},Da.prototype._onHashChange=function(){var Y=this._getCurrentHash();if(Y.length>=3&&!Y.some(function(q){return isNaN(q)})){var ve=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(Y[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+Y[2],+Y[1]],zoom:+Y[0],bearing:ve,pitch:+(Y[4]||0)}),!0}return!1},Da.prototype._updateHashUnthrottled=function(){var Y=this.getHashString();try{a.window.history.replaceState(a.window.history.state,"",Y)}catch{}};var Ca={linearity:.3,easing:a.bezier(0,0,.3,1)},Va=a.extend({deceleration:2500,maxSpeed:1400},Ca),Wa=a.extend({deceleration:20,maxSpeed:1400},Ca),pi=a.extend({deceleration:1e3,maxSpeed:360},Ca),Oi=a.extend({deceleration:1e3,maxSpeed:90},Ca),Mi=function(Y){this._map=Y,this.clear()};Mi.prototype.clear=function(){this._inertiaBuffer=[]},Mi.prototype.record=function(Y){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.browser.now(),settings:Y})},Mi.prototype._drainInertiaBuffer=function(){for(var Y=this._inertiaBuffer,ve=a.browser.now(),q=160;Y.length>0&&ve-Y[0].time>q;)Y.shift()},Mi.prototype._onMoveEnd=function(Y){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var ve={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0},q=0,de=this._inertiaBuffer;q<de.length;q+=1){var De=de[q],Ye=De.settings;ve.zoom+=Ye.zoomDelta||0,ve.bearing+=Ye.bearingDelta||0,ve.pitch+=Ye.pitchDelta||0,Ye.panDelta&&ve.pan._add(Ye.panDelta),Ye.around&&(ve.around=Ye.around),Ye.pinchAround&&(ve.pinchAround=Ye.pinchAround)}var ot=this._inertiaBuffer[this._inertiaBuffer.length-1],wt=ot.time-this._inertiaBuffer[0].time,Vt={};if(ve.pan.mag()){var qt=Se(ve.pan.mag(),wt,a.extend({},Va,Y||{}));Vt.offset=ve.pan.mult(qt.amount/ve.pan.mag()),Vt.center=this._map.transform.center,le(Vt,qt)}if(ve.zoom){var pr=Se(ve.zoom,wt,Wa);Vt.zoom=this._map.transform.zoom+pr.amount,le(Vt,pr)}if(ve.bearing){var wr=Se(ve.bearing,wt,pi);Vt.bearing=this._map.transform.bearing+a.clamp(wr.amount,-179,179),le(Vt,wr)}if(ve.pitch){var Vr=Se(ve.pitch,wt,Oi);Vt.pitch=this._map.transform.pitch+Vr.amount,le(Vt,Vr)}if(Vt.zoom||Vt.bearing){var $r=ve.pinchAround===void 0?ve.around:ve.pinchAround;Vt.around=$r?this._map.unproject($r):this._map.getCenter()}return this.clear(),a.extend(Vt,{noMoveStart:!0})}};function le(ce,Y){(!ce.duration||ce.duration<Y.duration)&&(ce.duration=Y.duration,ce.easing=Y.easing)}function Se(ce,Y,ve){var q=ve.maxSpeed,de=ve.linearity,De=ve.deceleration,Ye=a.clamp(ce*de/(Y/1e3),-q,q),ot=Math.abs(Ye)/(De*de);return{easing:ve.easing,duration:ot*1e3,amount:Ye*(ot/2)}}var Be=function(ce){function Y(q,de,De,Ye){Ye===void 0&&(Ye={});var ot=T.mousePos(de.getCanvasContainer(),De),wt=de.unproject(ot);ce.call(this,q,a.extend({point:ot,lngLat:wt,originalEvent:De},Ye)),this._defaultPrevented=!1,this.target=de}ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y;var ve={defaultPrevented:{configurable:!0}};return Y.prototype.preventDefault=function(){this._defaultPrevented=!0},ve.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Y.prototype,ve),Y}(a.Event),Ke=function(ce){function Y(q,de,De){var Ye=q==="touchend"?De.changedTouches:De.touches,ot=T.touchPos(de.getCanvasContainer(),Ye),wt=ot.map(function(pr){return de.unproject(pr)}),Vt=ot.reduce(function(pr,wr,Vr,$r){return pr.add(wr.div($r.length))},new a.Point(0,0)),qt=de.unproject(Vt);ce.call(this,q,{points:ot,point:Vt,lngLats:wt,lngLat:qt,originalEvent:De}),this._defaultPrevented=!1}ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y;var ve={defaultPrevented:{configurable:!0}};return Y.prototype.preventDefault=function(){this._defaultPrevented=!0},ve.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Y.prototype,ve),Y}(a.Event),$e=function(ce){function Y(q,de,De){ce.call(this,q,{originalEvent:De}),this._defaultPrevented=!1}ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y;var ve={defaultPrevented:{configurable:!0}};return Y.prototype.preventDefault=function(){this._defaultPrevented=!0},ve.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Y.prototype,ve),Y}(a.Event),nt=function(Y,ve){this._map=Y,this._clickTolerance=ve.clickTolerance};nt.prototype.reset=function(){delete this._mousedownPos},nt.prototype.wheel=function(Y){return this._firePreventable(new $e(Y.type,this._map,Y))},nt.prototype.mousedown=function(Y,ve){return this._mousedownPos=ve,this._firePreventable(new Be(Y.type,this._map,Y))},nt.prototype.mouseup=function(Y){this._map.fire(new Be(Y.type,this._map,Y))},nt.prototype.click=function(Y,ve){this._mousedownPos&&this._mousedownPos.dist(ve)>=this._clickTolerance||this._map.fire(new Be(Y.type,this._map,Y))},nt.prototype.dblclick=function(Y){return this._firePreventable(new Be(Y.type,this._map,Y))},nt.prototype.mouseover=function(Y){this._map.fire(new Be(Y.type,this._map,Y))},nt.prototype.mouseout=function(Y){this._map.fire(new Be(Y.type,this._map,Y))},nt.prototype.touchstart=function(Y){return this._firePreventable(new Ke(Y.type,this._map,Y))},nt.prototype.touchmove=function(Y){this._map.fire(new Ke(Y.type,this._map,Y))},nt.prototype.touchend=function(Y){this._map.fire(new Ke(Y.type,this._map,Y))},nt.prototype.touchcancel=function(Y){this._map.fire(new Ke(Y.type,this._map,Y))},nt.prototype._firePreventable=function(Y){if(this._map.fire(Y),Y.defaultPrevented)return{}},nt.prototype.isEnabled=function(){return!0},nt.prototype.isActive=function(){return!1},nt.prototype.enable=function(){},nt.prototype.disable=function(){};var kt=function(Y){this._map=Y};kt.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},kt.prototype.mousemove=function(Y){this._map.fire(new Be(Y.type,this._map,Y))},kt.prototype.mousedown=function(){this._delayContextMenu=!0},kt.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Be("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},kt.prototype.contextmenu=function(Y){this._delayContextMenu?this._contextMenuEvent=Y:this._map.fire(new Be(Y.type,this._map,Y)),this._map.listens("contextmenu")&&Y.preventDefault()},kt.prototype.isEnabled=function(){return!0},kt.prototype.isActive=function(){return!1},kt.prototype.enable=function(){},kt.prototype.disable=function(){};var ct=function(Y,ve){this._map=Y,this._el=Y.getCanvasContainer(),this._container=Y.getContainer(),this._clickTolerance=ve.clickTolerance||1};ct.prototype.isEnabled=function(){return!!this._enabled},ct.prototype.isActive=function(){return!!this._active},ct.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},ct.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ct.prototype.mousedown=function(Y,ve){this.isEnabled()&&Y.shiftKey&&Y.button===0&&(T.disableDrag(),this._startPos=this._lastPos=ve,this._active=!0)},ct.prototype.mousemoveWindow=function(Y,ve){if(this._active){var q=ve;if(!(this._lastPos.equals(q)||!this._box&&q.dist(this._startPos)<this._clickTolerance)){var de=this._startPos;this._lastPos=q,this._box||(this._box=T.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",Y));var De=Math.min(de.x,q.x),Ye=Math.max(de.x,q.x),ot=Math.min(de.y,q.y),wt=Math.max(de.y,q.y);T.setTransform(this._box,"translate("+De+"px,"+ot+"px)"),this._box.style.width=Ye-De+"px",this._box.style.height=wt-ot+"px"}}},ct.prototype.mouseupWindow=function(Y,ve){var q=this;if(this._active&&Y.button===0){var de=this._startPos,De=ve;if(this.reset(),T.suppressClick(),de.x===De.x&&de.y===De.y)this._fireEvent("boxzoomcancel",Y);else return this._map.fire(new a.Event("boxzoomend",{originalEvent:Y})),{cameraAnimation:function(Ye){return Ye.fitScreenCoordinates(de,De,q._map.getBearing(),{linear:!0})}}}},ct.prototype.keydown=function(Y){this._active&&Y.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",Y))},ct.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(T.remove(this._box),this._box=null),T.enableDrag(),delete this._startPos,delete this._lastPos},ct.prototype._fireEvent=function(Y,ve){return this._map.fire(new a.Event(Y,{originalEvent:ve}))};function Ht(ce,Y){for(var ve={},q=0;q<ce.length;q++)ve[ce[q].identifier]=Y[q];return ve}function rr(ce){for(var Y=new a.Point(0,0),ve=0,q=ce;ve<q.length;ve+=1){var de=q[ve];Y._add(de)}return Y.div(ce.length)}var ar=500,Rr=500,Dr=30,nn=function(Y){this.reset(),this.numTouches=Y.numTouches};nn.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},nn.prototype.touchstart=function(Y,ve,q){(this.centroid||q.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=Y.timeStamp),q.length===this.numTouches&&(this.centroid=rr(ve),this.touches=Ht(q,ve)))},nn.prototype.touchmove=function(Y,ve,q){if(!(this.aborted||!this.centroid)){var de=Ht(q,ve);for(var De in this.touches){var Ye=this.touches[De],ot=de[De];(!ot||ot.dist(Ye)>Dr)&&(this.aborted=!0)}}},nn.prototype.touchend=function(Y,ve,q){if((!this.centroid||Y.timeStamp-this.startTime>Rr)&&(this.aborted=!0),q.length===0){var de=!this.aborted&&this.centroid;if(this.reset(),de)return de}};var fn=function(Y){this.singleTap=new nn(Y),this.numTaps=Y.numTaps,this.reset()};fn.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},fn.prototype.touchstart=function(Y,ve,q){this.singleTap.touchstart(Y,ve,q)},fn.prototype.touchmove=function(Y,ve,q){this.singleTap.touchmove(Y,ve,q)},fn.prototype.touchend=function(Y,ve,q){var de=this.singleTap.touchend(Y,ve,q);if(de){var De=Y.timeStamp-this.lastTime<ar,Ye=!this.lastTap||this.lastTap.dist(de)<Dr;if((!De||!Ye)&&this.reset(),this.count++,this.lastTime=Y.timeStamp,this.lastTap=de,this.count===this.numTaps)return this.reset(),de}};var Or=function(){this._zoomIn=new fn({numTouches:1,numTaps:2}),this._zoomOut=new fn({numTouches:2,numTaps:1}),this.reset()};Or.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Or.prototype.touchstart=function(Y,ve,q){this._zoomIn.touchstart(Y,ve,q),this._zoomOut.touchstart(Y,ve,q)},Or.prototype.touchmove=function(Y,ve,q){this._zoomIn.touchmove(Y,ve,q),this._zoomOut.touchmove(Y,ve,q)},Or.prototype.touchend=function(Y,ve,q){var de=this,De=this._zoomIn.touchend(Y,ve,q),Ye=this._zoomOut.touchend(Y,ve,q);if(De)return this._active=!0,Y.preventDefault(),setTimeout(function(){return de.reset()},0),{cameraAnimation:function(ot){return ot.easeTo({duration:300,zoom:ot.getZoom()+1,around:ot.unproject(De)},{originalEvent:Y})}};if(Ye)return this._active=!0,Y.preventDefault(),setTimeout(function(){return de.reset()},0),{cameraAnimation:function(ot){return ot.easeTo({duration:300,zoom:ot.getZoom()-1,around:ot.unproject(Ye)},{originalEvent:Y})}}},Or.prototype.touchcancel=function(){this.reset()},Or.prototype.enable=function(){this._enabled=!0},Or.prototype.disable=function(){this._enabled=!1,this.reset()},Or.prototype.isEnabled=function(){return this._enabled},Or.prototype.isActive=function(){return this._active};var Xr=0,tn=2,it=function(Y){this.reset(),this._clickTolerance=Y.clickTolerance||1};it.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},it.prototype._correctButton=function(Y,ve){return!1},it.prototype._move=function(Y,ve){return{}},it.prototype.mousedown=function(Y,ve){if(!this._lastPoint){var q=T.mouseButton(Y);this._correctButton(Y,q)&&(this._lastPoint=ve,this._eventButton=q)}},it.prototype.mousemoveWindow=function(Y,ve){var q=this._lastPoint;if(q&&(Y.preventDefault(),!(!this._moved&&ve.dist(q)<this._clickTolerance)))return this._moved=!0,this._lastPoint=ve,this._move(q,ve)},it.prototype.mouseupWindow=function(Y){var ve=T.mouseButton(Y);ve===this._eventButton&&(this._moved&&T.suppressClick(),this.reset())},it.prototype.enable=function(){this._enabled=!0},it.prototype.disable=function(){this._enabled=!1,this.reset()},it.prototype.isEnabled=function(){return this._enabled},it.prototype.isActive=function(){return this._active};var gt=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.mousedown=function(q,de){ce.prototype.mousedown.call(this,q,de),this._lastPoint&&(this._active=!0)},Y.prototype._correctButton=function(q,de){return de===Xr&&!q.ctrlKey},Y.prototype._move=function(q,de){return{around:de,panDelta:de.sub(q)}},Y}(it),Mt=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype._correctButton=function(q,de){return de===Xr&&q.ctrlKey||de===tn},Y.prototype._move=function(q,de){var De=.8,Ye=(de.x-q.x)*De;if(Ye)return this._active=!0,{bearingDelta:Ye}},Y.prototype.contextmenu=function(q){q.preventDefault()},Y}(it),fr=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype._correctButton=function(q,de){return de===Xr&&q.ctrlKey||de===tn},Y.prototype._move=function(q,de){var De=-.5,Ye=(de.y-q.y)*De;if(Ye)return this._active=!0,{pitchDelta:Ye}},Y.prototype.contextmenu=function(q){q.preventDefault()},Y}(it),Lr=function(Y){this._minTouches=1,this._clickTolerance=Y.clickTolerance||1,this.reset()};Lr.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new a.Point(0,0)},Lr.prototype.touchstart=function(Y,ve,q){return this._calculateTransform(Y,ve,q)},Lr.prototype.touchmove=function(Y,ve,q){if(this._active)return Y.preventDefault(),this._calculateTransform(Y,ve,q)},Lr.prototype.touchend=function(Y,ve,q){this._calculateTransform(Y,ve,q),this._active&&q.length<this._minTouches&&this.reset()},Lr.prototype.touchcancel=function(){this.reset()},Lr.prototype._calculateTransform=function(Y,ve,q){q.length>0&&(this._active=!0);var de=Ht(q,ve),De=new a.Point(0,0),Ye=new a.Point(0,0),ot=0;for(var wt in de){var Vt=de[wt],qt=this._touches[wt];qt&&(De._add(Vt),Ye._add(Vt.sub(qt)),ot++,de[wt]=Vt)}if(this._touches=de,!(ot<this._minTouches||!Ye.mag())){var pr=Ye.div(ot);if(this._sum._add(pr),!(this._sum.mag()<this._clickTolerance)){var wr=De.div(ot);return{around:wr,panDelta:pr}}}},Lr.prototype.enable=function(){this._enabled=!0},Lr.prototype.disable=function(){this._enabled=!1,this.reset()},Lr.prototype.isEnabled=function(){return this._enabled},Lr.prototype.isActive=function(){return this._active};var Br=function(){this.reset()};Br.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Br.prototype._start=function(Y){},Br.prototype._move=function(Y,ve,q){return{}},Br.prototype.touchstart=function(Y,ve,q){this._firstTwoTouches||q.length<2||(this._firstTwoTouches=[q[0].identifier,q[1].identifier],this._start([ve[0],ve[1]]))},Br.prototype.touchmove=function(Y,ve,q){if(this._firstTwoTouches){Y.preventDefault();var de=this._firstTwoTouches,De=de[0],Ye=de[1],ot=Ir(q,ve,De),wt=Ir(q,ve,Ye);if(!(!ot||!wt)){var Vt=this._aroundCenter?null:ot.add(wt).div(2);return this._move([ot,wt],Vt,Y)}}},Br.prototype.touchend=function(Y,ve,q){if(this._firstTwoTouches){var de=this._firstTwoTouches,De=de[0],Ye=de[1],ot=Ir(q,ve,De),wt=Ir(q,ve,Ye);ot&&wt||(this._active&&T.suppressClick(),this.reset())}},Br.prototype.touchcancel=function(){this.reset()},Br.prototype.enable=function(Y){this._enabled=!0,this._aroundCenter=!!Y&&Y.around==="center"},Br.prototype.disable=function(){this._enabled=!1,this.reset()},Br.prototype.isEnabled=function(){return this._enabled},Br.prototype.isActive=function(){return this._active};function Ir(ce,Y,ve){for(var q=0;q<ce.length;q++)if(ce[q].identifier===ve)return Y[q]}var en=.1;function an(ce,Y){return Math.log(ce/Y)/Math.LN2}var In=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.reset=function(){ce.prototype.reset.call(this),delete this._distance,delete this._startDistance},Y.prototype._start=function(q){this._startDistance=this._distance=q[0].dist(q[1])},Y.prototype._move=function(q,de){var De=this._distance;if(this._distance=q[0].dist(q[1]),!(!this._active&&Math.abs(an(this._distance,this._startDistance))<en))return this._active=!0,{zoomDelta:an(this._distance,De),pinchAround:de}},Y}(Br),Dn=25;function Jn(ce,Y){return ce.angleWith(Y)*180/Math.PI}var Kn=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.reset=function(){ce.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},Y.prototype._start=function(q){this._startVector=this._vector=q[0].sub(q[1]),this._minDiameter=q[0].dist(q[1])},Y.prototype._move=function(q,de){var De=this._vector;if(this._vector=q[0].sub(q[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Jn(this._vector,De),pinchAround:de}},Y.prototype._isBelowThreshold=function(q){this._minDiameter=Math.min(this._minDiameter,q.mag());var de=Math.PI*this._minDiameter,De=Dn/de*360,Ye=Jn(q,this._startVector);return Math.abs(Ye)<De},Y}(Br);function da(ce){return Math.abs(ce.y)>Math.abs(ce.x)}var pa=100,kn=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.reset=function(){ce.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},Y.prototype._start=function(q){this._lastPoints=q,da(q[0].sub(q[1]))&&(this._valid=!1)},Y.prototype._move=function(q,de,De){var Ye=q[0].sub(this._lastPoints[0]),ot=q[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Ye,ot,De.timeStamp),!!this._valid){this._lastPoints=q,this._active=!0;var wt=(Ye.y+ot.y)/2,Vt=-.5;return{pitchDelta:wt*Vt}}},Y.prototype.gestureBeginsVertically=function(q,de,De){if(this._valid!==void 0)return this._valid;var Ye=2,ot=q.mag()>=Ye,wt=de.mag()>=Ye;if(!(!ot&&!wt)){if(!ot||!wt)return this._firstMove===void 0&&(this._firstMove=De),De-this._firstMove<pa?void 0:!1;var Vt=q.y>0==de.y>0;return da(q)&&da(de)&&Vt}},Y}(Br),wa={panStep:100,bearingStep:15,pitchStep:10},Aa=function(){var Y=wa;this._panStep=Y.panStep,this._bearingStep=Y.bearingStep,this._pitchStep=Y.pitchStep};Aa.prototype.reset=function(){this._active=!1},Aa.prototype.keydown=function(Y){var ve=this;if(!(Y.altKey||Y.ctrlKey||Y.metaKey)){var q=0,de=0,De=0,Ye=0,ot=0;switch(Y.keyCode){case 61:case 107:case 171:case 187:q=1;break;case 189:case 109:case 173:q=-1;break;case 37:Y.shiftKey?de=-1:(Y.preventDefault(),Ye=-1);break;case 39:Y.shiftKey?de=1:(Y.preventDefault(),Ye=1);break;case 38:Y.shiftKey?De=1:(Y.preventDefault(),ot=-1);break;case 40:Y.shiftKey?De=-1:(Y.preventDefault(),ot=1);break;default:return}return{cameraAnimation:function(wt){var Vt=wt.getZoom();wt.easeTo({duration:300,easeId:"keyboardHandler",easing:Oa,zoom:q?Math.round(Vt)+q*(Y.shiftKey?2:1):Vt,bearing:wt.getBearing()+de*ve._bearingStep,pitch:wt.getPitch()+De*ve._pitchStep,offset:[-Ye*ve._panStep,-ot*ve._panStep],center:wt.getCenter()},{originalEvent:Y})}}}},Aa.prototype.enable=function(){this._enabled=!0},Aa.prototype.disable=function(){this._enabled=!1,this.reset()},Aa.prototype.isEnabled=function(){return this._enabled},Aa.prototype.isActive=function(){return this._active};function Oa(ce){return ce*(2-ce)}var oi=4.000244140625,ui=1/100,xi=1/450,Ya=2,$n=function(Y,ve){this._map=Y,this._el=Y.getCanvasContainer(),this._handler=ve,this._delta=0,this._defaultZoomRate=ui,this._wheelZoomRate=xi,a.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};$n.prototype.setZoomRate=function(Y){this._defaultZoomRate=Y},$n.prototype.setWheelZoomRate=function(Y){this._wheelZoomRate=Y},$n.prototype.isEnabled=function(){return!!this._enabled},$n.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},$n.prototype.isZooming=function(){return!!this._zooming},$n.prototype.enable=function(Y){this.isEnabled()||(this._enabled=!0,this._aroundCenter=Y&&Y.around==="center")},$n.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},$n.prototype.wheel=function(Y){if(this.isEnabled()){var ve=Y.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?Y.deltaY*40:Y.deltaY,q=a.browser.now(),de=q-(this._lastWheelEventTime||0);this._lastWheelEventTime=q,ve!==0&&ve%oi===0?this._type="wheel":ve!==0&&Math.abs(ve)<4?this._type="trackpad":de>400?(this._type=null,this._lastValue=ve,this._timeout=setTimeout(this._onTimeout,40,Y)):this._type||(this._type=Math.abs(de*ve)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,ve+=this._lastValue)),Y.shiftKey&&ve&&(ve=ve/4),this._type&&(this._lastWheelEvent=Y,this._delta-=ve,this._active||this._start(Y)),Y.preventDefault()}},$n.prototype._onTimeout=function(Y){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(Y)},$n.prototype._start=function(Y){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var ve=T.mousePos(this._el,Y);this._around=a.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(ve)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},$n.prototype.renderFrame=function(){return this._onScrollFrame()},$n.prototype._onScrollFrame=function(){var Y=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var ve=this._map.transform;if(this._delta!==0){var q=this._type==="wheel"&&Math.abs(this._delta)>oi?this._wheelZoomRate:this._defaultZoomRate,de=Ya/(1+Math.exp(-Math.abs(this._delta*q)));this._delta<0&&de!==0&&(de=1/de);var De=typeof this._targetZoom=="number"?ve.zoomScale(this._targetZoom):ve.scale;this._targetZoom=Math.min(ve.maxZoom,Math.max(ve.minZoom,ve.scaleZoom(De*de))),this._type==="wheel"&&(this._startZoom=ve.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Ye=typeof this._targetZoom=="number"?this._targetZoom:ve.zoom,ot=this._startZoom,wt=this._easing,Vt=!1,qt;if(this._type==="wheel"&&ot&&wt){var pr=Math.min((a.browser.now()-this._lastWheelEventTime)/200,1),wr=wt(pr);qt=a.number(ot,Ye,wr),pr<1?this._frameId||(this._frameId=!0):Vt=!0}else qt=Ye,Vt=!0;return this._active=!0,Vt&&(this._active=!1,this._finishTimeout=setTimeout(function(){Y._zooming=!1,Y._handler._triggerRenderFrame(),delete Y._targetZoom,delete Y._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Vt,zoomDelta:qt-ve.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},$n.prototype._smoothOutEasing=function(Y){var ve=a.ease;if(this._prevEase){var q=this._prevEase,de=(a.browser.now()-q.start)/q.duration,De=q.easing(de+.01)-q.easing(de),Ye=.27/Math.sqrt(De*De+1e-4)*.01,ot=Math.sqrt(.27*.27-Ye*Ye);ve=a.bezier(Ye,ot,.25,1)}return this._prevEase={start:a.browser.now(),duration:Y,easing:ve},ve},$n.prototype.reset=function(){this._active=!1};var Xn=function(Y,ve){this._clickZoom=Y,this._tapZoom=ve};Xn.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Xn.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Xn.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Xn.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var na=function(){this.reset()};na.prototype.reset=function(){this._active=!1},na.prototype.dblclick=function(Y,ve){return Y.preventDefault(),{cameraAnimation:function(q){q.easeTo({duration:300,zoom:q.getZoom()+(Y.shiftKey?-1:1),around:q.unproject(ve)},{originalEvent:Y})}}},na.prototype.enable=function(){this._enabled=!0},na.prototype.disable=function(){this._enabled=!1,this.reset()},na.prototype.isEnabled=function(){return this._enabled},na.prototype.isActive=function(){return this._active};var Ha=function(){this._tap=new fn({numTouches:1,numTaps:1}),this.reset()};Ha.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Ha.prototype.touchstart=function(Y,ve,q){this._swipePoint||(this._tapTime&&Y.timeStamp-this._tapTime>ar&&this.reset(),this._tapTime?q.length>0&&(this._swipePoint=ve[0],this._swipeTouch=q[0].identifier):this._tap.touchstart(Y,ve,q))},Ha.prototype.touchmove=function(Y,ve,q){if(!this._tapTime)this._tap.touchmove(Y,ve,q);else if(this._swipePoint){if(q[0].identifier!==this._swipeTouch)return;var de=ve[0],De=de.y-this._swipePoint.y;return this._swipePoint=de,Y.preventDefault(),this._active=!0,{zoomDelta:De/128}}},Ha.prototype.touchend=function(Y,ve,q){if(this._tapTime)this._swipePoint&&q.length===0&&this.reset();else{var de=this._tap.touchend(Y,ve,q);de&&(this._tapTime=Y.timeStamp)}},Ha.prototype.touchcancel=function(){this.reset()},Ha.prototype.enable=function(){this._enabled=!0},Ha.prototype.disable=function(){this._enabled=!1,this.reset()},Ha.prototype.isEnabled=function(){return this._enabled},Ha.prototype.isActive=function(){return this._active};var hi=function(Y,ve,q){this._el=Y,this._mousePan=ve,this._touchPan=q};hi.prototype.enable=function(Y){this._inertiaOptions=Y||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},hi.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},hi.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},hi.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var ci=function(Y,ve,q){this._pitchWithRotate=Y.pitchWithRotate,this._mouseRotate=ve,this._mousePitch=q};ci.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},ci.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},ci.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},ci.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Qa=function(Y,ve,q,de){this._el=Y,this._touchZoom=ve,this._touchRotate=q,this._tapDragZoom=de,this._rotationDisabled=!1,this._enabled=!0};Qa.prototype.enable=function(Y){this._touchZoom.enable(Y),this._rotationDisabled||this._touchRotate.enable(Y),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Qa.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Qa.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Qa.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Qa.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Qa.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var ri=function(ce){return ce.zoom||ce.drag||ce.pitch||ce.rotate},ja=function(ce){function Y(){ce.apply(this,arguments)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y}(a.Event);function li(ce){return ce.panDelta&&ce.panDelta.mag()||ce.zoomDelta||ce.bearingDelta||ce.pitchDelta}var fi=function(Y,ve){this._map=Y,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Mi(Y),this._bearingSnap=ve.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(ve),a.bindAll(["handleEvent","handleWindowEvent"],this);var q=this._el;this._listeners=[[q,"touchstart",{passive:!1}],[q,"touchmove",{passive:!1}],[q,"touchend",void 0],[q,"touchcancel",void 0],[q,"mousedown",void 0],[q,"mousemove",void 0],[q,"mouseup",void 0],[a.window.document,"mousemove",{capture:!0}],[a.window.document,"mouseup",void 0],[q,"mouseover",void 0],[q,"mouseout",void 0],[q,"dblclick",void 0],[q,"click",void 0],[q,"keydown",{capture:!1}],[q,"keyup",void 0],[q,"wheel",{passive:!1}],[q,"contextmenu",void 0],[a.window,"blur",void 0]];for(var de=0,De=this._listeners;de<De.length;de+=1){var Ye=De[de],ot=Ye[0],wt=Ye[1],Vt=Ye[2];T.addEventListener(ot,wt,ot===a.window.document?this.handleWindowEvent:this.handleEvent,Vt)}};fi.prototype.destroy=function(){for(var Y=0,ve=this._listeners;Y<ve.length;Y+=1){var q=ve[Y],de=q[0],De=q[1],Ye=q[2];T.removeEventListener(de,De,de===a.window.document?this.handleWindowEvent:this.handleEvent,Ye)}},fi.prototype._addDefaultHandlers=function(Y){var ve=this._map,q=ve.getCanvasContainer();this._add("mapEvent",new nt(ve,Y));var de=ve.boxZoom=new ct(ve,Y);this._add("boxZoom",de);var De=new Or,Ye=new na;ve.doubleClickZoom=new Xn(Ye,De),this._add("tapZoom",De),this._add("clickZoom",Ye);var ot=new Ha;this._add("tapDragZoom",ot);var wt=ve.touchPitch=new kn;this._add("touchPitch",wt);var Vt=new Mt(Y),qt=new fr(Y);ve.dragRotate=new ci(Y,Vt,qt),this._add("mouseRotate",Vt,["mousePitch"]),this._add("mousePitch",qt,["mouseRotate"]);var pr=new gt(Y),wr=new Lr(Y);ve.dragPan=new hi(q,pr,wr),this._add("mousePan",pr),this._add("touchPan",wr,["touchZoom","touchRotate"]);var Vr=new Kn,$r=new In;ve.touchZoomRotate=new Qa(q,$r,Vr,ot),this._add("touchRotate",Vr,["touchPan","touchZoom"]),this._add("touchZoom",$r,["touchPan","touchRotate"]);var qr=ve.scrollZoom=new $n(ve,this);this._add("scrollZoom",qr,["mousePan"]);var Jr=ve.keyboard=new Aa;this._add("keyboard",Jr),this._add("blockableMapEvent",new kt(ve));for(var sn=0,gn=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];sn<gn.length;sn+=1){var On=gn[sn];Y.interactive&&Y[On]&&ve[On].enable(Y[On])}},fi.prototype._add=function(Y,ve,q){this._handlers.push({handlerName:Y,handler:ve,allowed:q}),this._handlersById[Y]=ve},fi.prototype.stop=function(){if(!this._updatingCamera){for(var Y=0,ve=this._handlers;Y<ve.length;Y+=1){var q=ve[Y],de=q.handler;de.reset()}this._inertia.clear(),this._fireEvents({},{}),this._changes=[]}},fi.prototype.isActive=function(){for(var Y=0,ve=this._handlers;Y<ve.length;Y+=1){var q=ve[Y],de=q.handler;if(de.isActive())return!0}return!1},fi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},fi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},fi.prototype.isMoving=function(){return!!ri(this._eventsInProgress)||this.isZooming()},fi.prototype._blockedByActive=function(Y,ve,q){for(var de in Y)if(de!==q&&(!ve||ve.indexOf(de)<0))return!0;return!1},fi.prototype.handleWindowEvent=function(Y){this.handleEvent(Y,Y.type+"Window")},fi.prototype._getMapTouches=function(Y){for(var ve=[],q=0,de=Y;q<de.length;q+=1){var De=de[q],Ye=De.target;this._el.contains(Ye)&&ve.push(De)}return ve},fi.prototype.handleEvent=function(Y,ve){if(Y.type==="blur"){this.stop();return}this._updatingCamera=!0;for(var q=Y.type==="renderFrame"?void 0:Y,de={needsRenderFrame:!1},De={},Ye={},ot=Y.touches?this._getMapTouches(Y.touches):void 0,wt=ot?T.touchPos(this._el,ot):T.mousePos(this._el,Y),Vt=0,qt=this._handlers;Vt<qt.length;Vt+=1){var pr=qt[Vt],wr=pr.handlerName,Vr=pr.handler,$r=pr.allowed;if(Vr.isEnabled()){var qr=void 0;this._blockedByActive(Ye,$r,wr)?Vr.reset():Vr[ve||Y.type]&&(qr=Vr[ve||Y.type](Y,wt,ot),this.mergeHandlerResult(de,De,qr,wr,q),qr&&qr.needsRenderFrame&&this._triggerRenderFrame()),(qr||Vr.isActive())&&(Ye[wr]=Vr)}}var Jr={};for(var sn in this._previousActiveHandlers)Ye[sn]||(Jr[sn]=q);this._previousActiveHandlers=Ye,(Object.keys(Jr).length||li(de))&&(this._changes.push([de,De,Jr]),this._triggerRenderFrame()),(Object.keys(Ye).length||li(de))&&this._map._stop(!0),this._updatingCamera=!1;var gn=de.cameraAnimation;gn&&(this._inertia.clear(),this._fireEvents({},{}),this._changes=[],gn(this._map))},fi.prototype.mergeHandlerResult=function(Y,ve,q,de,De){if(q){a.extend(Y,q);var Ye={handlerName:de,originalEvent:q.originalEvent||De};q.zoomDelta!==void 0&&(ve.zoom=Ye),q.panDelta!==void 0&&(ve.drag=Ye),q.pitchDelta!==void 0&&(ve.pitch=Ye),q.bearingDelta!==void 0&&(ve.rotate=Ye)}},fi.prototype._applyChanges=function(){for(var Y={},ve={},q={},de=0,De=this._changes;de<De.length;de+=1){var Ye=De[de],ot=Ye[0],wt=Ye[1],Vt=Ye[2];ot.panDelta&&(Y.panDelta=(Y.panDelta||new a.Point(0,0))._add(ot.panDelta)),ot.zoomDelta&&(Y.zoomDelta=(Y.zoomDelta||0)+ot.zoomDelta),ot.bearingDelta&&(Y.bearingDelta=(Y.bearingDelta||0)+ot.bearingDelta),ot.pitchDelta&&(Y.pitchDelta=(Y.pitchDelta||0)+ot.pitchDelta),ot.around!==void 0&&(Y.around=ot.around),ot.pinchAround!==void 0&&(Y.pinchAround=ot.pinchAround),ot.noInertia&&(Y.noInertia=ot.noInertia),a.extend(ve,wt),a.extend(q,Vt)}this._updateMapTransform(Y,ve,q),this._changes=[]},fi.prototype._updateMapTransform=function(Y,ve,q){var de=this._map,De=de.transform;if(!li(Y))return this._fireEvents(ve,q);var Ye=Y.panDelta,ot=Y.zoomDelta,wt=Y.bearingDelta,Vt=Y.pitchDelta,qt=Y.around,pr=Y.pinchAround;pr!==void 0&&(qt=pr),de._stop(!0),qt=qt||de.transform.centerPoint;var wr=De.pointLocation(Ye?qt.sub(Ye):qt);wt&&(De.bearing+=wt),Vt&&(De.pitch+=Vt),ot&&(De.zoom+=ot),De.setLocationAtPoint(wr,qt),this._map._update(),Y.noInertia||this._inertia.record(Y),this._fireEvents(ve,q)},fi.prototype._fireEvents=function(Y,ve){var q=this,de=ri(this._eventsInProgress),De=ri(Y),Ye={};for(var ot in Y){var wt=Y[ot],Vt=wt.originalEvent;this._eventsInProgress[ot]||(Ye[ot+"start"]=Vt),this._eventsInProgress[ot]=Y[ot]}!de&&De&&this._fireEvent("movestart",De.originalEvent);for(var qt in Ye)this._fireEvent(qt,Ye[qt]);Y.rotate&&(this._bearingChanged=!0),De&&this._fireEvent("move",De.originalEvent);for(var pr in Y){var wr=Y[pr],Vr=wr.originalEvent;this._fireEvent(pr,Vr)}var $r={},qr;for(var Jr in this._eventsInProgress){var sn=this._eventsInProgress[Jr],gn=sn.handlerName,On=sn.originalEvent;this._handlersById[gn].isActive()||(delete this._eventsInProgress[Jr],qr=ve[gn]||On,$r[Jr+"end"]=qr)}for(var Zn in $r)this._fireEvent(Zn,$r[Zn]);var ra=ri(this._eventsInProgress);if((de||De)&&!ra){this._updatingCamera=!0;var ia=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),aa=function(ga){return ga!==0&&-q._bearingSnap<ga&&ga<q._bearingSnap};ia?(aa(ia.bearing||this._map.getBearing())&&(ia.bearing=0),this._map.easeTo(ia,{originalEvent:qr})):(this._map.fire(new a.Event("moveend",{originalEvent:qr})),aa(this._map.getBearing())&&this._map.resetNorth()),this._bearingChanged=!1,this._updatingCamera=!1}},fi.prototype._fireEvent=function(Y,ve){this._map.fire(new a.Event(Y,ve?{originalEvent:ve}:{}))},fi.prototype._triggerRenderFrame=function(){var Y=this;this._frameId===void 0&&(this._frameId=this._map._requestRenderFrame(function(ve){delete Y._frameId,Y.handleEvent(new ja("renderFrame",{timeStamp:ve})),Y._applyChanges()}))};var uo=function(ce){function Y(ve,q){ce.call(this),this._moving=!1,this._zooming=!1,this.transform=ve,this._bearingSnap=q.bearingSnap,a.bindAll(["_renderFrameCallback"],this)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.getCenter=function(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)},Y.prototype.setCenter=function(q,de){return this.jumpTo({center:q},de)},Y.prototype.panBy=function(q,de,De){return q=a.Point.convert(q).mult(-1),this.panTo(this.transform.center,a.extend({offset:q},de),De)},Y.prototype.panTo=function(q,de,De){return this.easeTo(a.extend({center:q},de),De)},Y.prototype.getZoom=function(){return this.transform.zoom},Y.prototype.setZoom=function(q,de){return this.jumpTo({zoom:q},de),this},Y.prototype.zoomTo=function(q,de,De){return this.easeTo(a.extend({zoom:q},de),De)},Y.prototype.zoomIn=function(q,de){return this.zoomTo(this.getZoom()+1,q,de),this},Y.prototype.zoomOut=function(q,de){return this.zoomTo(this.getZoom()-1,q,de),this},Y.prototype.getBearing=function(){return this.transform.bearing},Y.prototype.setBearing=function(q,de){return this.jumpTo({bearing:q},de),this},Y.prototype.getPadding=function(){return this.transform.padding},Y.prototype.setPadding=function(q,de){return this.jumpTo({padding:q},de),this},Y.prototype.rotateTo=function(q,de,De){return this.easeTo(a.extend({bearing:q},de),De)},Y.prototype.resetNorth=function(q,de){return this.rotateTo(0,a.extend({duration:1e3},q),de),this},Y.prototype.resetNorthPitch=function(q,de){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},q),de),this},Y.prototype.snapToNorth=function(q,de){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(q,de):this},Y.prototype.getPitch=function(){return this.transform.pitch},Y.prototype.setPitch=function(q,de){return this.jumpTo({pitch:q},de),this},Y.prototype.cameraForBounds=function(q,de){return q=a.LngLatBounds.convert(q),this._cameraForBoxAndBearing(q.getNorthWest(),q.getSouthEast(),0,de)},Y.prototype._cameraForBoxAndBearing=function(q,de,De,Ye){var ot={top:0,bottom:0,right:0,left:0};if(Ye=a.extend({padding:ot,offset:[0,0],maxZoom:this.transform.maxZoom},Ye),typeof Ye.padding=="number"){var wt=Ye.padding;Ye.padding={top:wt,bottom:wt,right:wt,left:wt}}Ye.padding=a.extend(ot,Ye.padding);var Vt=this.transform,qt=Vt.padding,pr=Vt.project(a.LngLat.convert(q)),wr=Vt.project(a.LngLat.convert(de)),Vr=pr.rotate(-De*Math.PI/180),$r=wr.rotate(-De*Math.PI/180),qr=new a.Point(Math.max(Vr.x,$r.x),Math.max(Vr.y,$r.y)),Jr=new a.Point(Math.min(Vr.x,$r.x),Math.min(Vr.y,$r.y)),sn=qr.sub(Jr),gn=(Vt.width-(qt.left+qt.right+Ye.padding.left+Ye.padding.right))/sn.x,On=(Vt.height-(qt.top+qt.bottom+Ye.padding.top+Ye.padding.bottom))/sn.y;if(On<0||gn<0){a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var Zn=Math.min(Vt.scaleZoom(Vt.scale*Math.min(gn,On)),Ye.maxZoom),ra=a.Point.convert(Ye.offset),ia=(Ye.padding.left-Ye.padding.right)/2,aa=(Ye.padding.top-Ye.padding.bottom)/2,ga=new a.Point(ra.x+ia,ra.y+aa),Ea=ga.mult(Vt.scale/Vt.zoomScale(Zn)),Ma=Vt.unproject(pr.add(wr).div(2).sub(Ea));return{center:Ma,zoom:Zn,bearing:De}},Y.prototype.fitBounds=function(q,de,De){return this._fitInternal(this.cameraForBounds(q,de),de,De)},Y.prototype.fitScreenCoordinates=function(q,de,De,Ye,ot){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(q)),this.transform.pointLocation(a.Point.convert(de)),De,Ye),Ye,ot)},Y.prototype._fitInternal=function(q,de,De){return q?(de=a.extend(q,de),delete de.padding,de.linear?this.easeTo(de,De):this.flyTo(de,De)):this},Y.prototype.jumpTo=function(q,de){this.stop();var De=this.transform,Ye=!1,ot=!1,wt=!1;return"zoom"in q&&De.zoom!==+q.zoom&&(Ye=!0,De.zoom=+q.zoom),q.center!==void 0&&(De.center=a.LngLat.convert(q.center)),"bearing"in q&&De.bearing!==+q.bearing&&(ot=!0,De.bearing=+q.bearing),"pitch"in q&&De.pitch!==+q.pitch&&(wt=!0,De.pitch=+q.pitch),q.padding!=null&&!De.isPaddingEqual(q.padding)&&(De.padding=q.padding),this.fire(new a.Event("movestart",de)).fire(new a.Event("move",de)),Ye&&this.fire(new a.Event("zoomstart",de)).fire(new a.Event("zoom",de)).fire(new a.Event("zoomend",de)),ot&&this.fire(new a.Event("rotatestart",de)).fire(new a.Event("rotate",de)).fire(new a.Event("rotateend",de)),wt&&this.fire(new a.Event("pitchstart",de)).fire(new a.Event("pitch",de)).fire(new a.Event("pitchend",de)),this.fire(new a.Event("moveend",de))},Y.prototype.easeTo=function(q,de){var De=this;this._stop(!1,q.easeId),q=a.extend({offset:[0,0],duration:500,easing:a.ease},q),(q.animate===!1||!q.essential&&a.browser.prefersReducedMotion)&&(q.duration=0);var Ye=this.transform,ot=this.getZoom(),wt=this.getBearing(),Vt=this.getPitch(),qt=this.getPadding(),pr="zoom"in q?+q.zoom:ot,wr="bearing"in q?this._normalizeBearing(q.bearing,wt):wt,Vr="pitch"in q?+q.pitch:Vt,$r="padding"in q?q.padding:Ye.padding,qr=a.Point.convert(q.offset),Jr=Ye.centerPoint.add(qr),sn=Ye.pointLocation(Jr),gn=a.LngLat.convert(q.center||sn);this._normalizeCenter(gn);var On=Ye.project(sn),Zn=Ye.project(gn).sub(On),ra=Ye.zoomScale(pr-ot),ia,aa;q.around&&(ia=a.LngLat.convert(q.around),aa=Ye.locationPoint(ia));var ga={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||pr!==ot,this._rotating=this._rotating||wt!==wr,this._pitching=this._pitching||Vr!==Vt,this._padding=!Ye.isPaddingEqual($r),this._easeId=q.easeId,this._prepareEase(de,q.noMoveStart,ga),clearTimeout(this._easeEndTimeoutID),this._ease(function(Ea){if(De._zooming&&(Ye.zoom=a.number(ot,pr,Ea)),De._rotating&&(Ye.bearing=a.number(wt,wr,Ea)),De._pitching&&(Ye.pitch=a.number(Vt,Vr,Ea)),De._padding&&(Ye.interpolatePadding(qt,$r,Ea),Jr=Ye.centerPoint.add(qr)),ia)Ye.setLocationAtPoint(ia,aa);else{var Ma=Ye.zoomScale(Ye.zoom-ot),Ra=pr>ot?Math.min(2,ra):Math.max(.5,ra),ka=Math.pow(Ra,1-Ea),Ga=Ye.unproject(On.add(Zn.mult(Ea*ka)).mult(Ma));Ye.setLocationAtPoint(Ye.renderWorldCopies?Ga.wrap():Ga,Jr)}De._fireMoveEvents(de)},function(Ea){De._afterEase(de,Ea)},q),this},Y.prototype._prepareEase=function(q,de,De){De===void 0&&(De={}),this._moving=!0,!de&&!De.moving&&this.fire(new a.Event("movestart",q)),this._zooming&&!De.zooming&&this.fire(new a.Event("zoomstart",q)),this._rotating&&!De.rotating&&this.fire(new a.Event("rotatestart",q)),this._pitching&&!De.pitching&&this.fire(new a.Event("pitchstart",q))},Y.prototype._fireMoveEvents=function(q){this.fire(new a.Event("move",q)),this._zooming&&this.fire(new a.Event("zoom",q)),this._rotating&&this.fire(new a.Event("rotate",q)),this._pitching&&this.fire(new a.Event("pitch",q))},Y.prototype._afterEase=function(q,de){if(!(this._easeId&&de&&this._easeId===de)){delete this._easeId;var De=this._zooming,Ye=this._rotating,ot=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,De&&this.fire(new a.Event("zoomend",q)),Ye&&this.fire(new a.Event("rotateend",q)),ot&&this.fire(new a.Event("pitchend",q)),this.fire(new a.Event("moveend",q))}},Y.prototype.flyTo=function(q,de){var De=this;if(!q.essential&&a.browser.prefersReducedMotion){var Ye=a.pick(q,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Ye,de)}this.stop(),q=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},q);var ot=this.transform,wt=this.getZoom(),Vt=this.getBearing(),qt=this.getPitch(),pr=this.getPadding(),wr="zoom"in q?a.clamp(+q.zoom,ot.minZoom,ot.maxZoom):wt,Vr="bearing"in q?this._normalizeBearing(q.bearing,Vt):Vt,$r="pitch"in q?+q.pitch:qt,qr="padding"in q?q.padding:ot.padding,Jr=ot.zoomScale(wr-wt),sn=a.Point.convert(q.offset),gn=ot.centerPoint.add(sn),On=ot.pointLocation(gn),Zn=a.LngLat.convert(q.center||On);this._normalizeCenter(Zn);var ra=ot.project(On),ia=ot.project(Zn).sub(ra),aa=q.curve,ga=Math.max(ot.width,ot.height),Ea=ga/Jr,Ma=ia.mag();if("minZoom"in q){var Ra=a.clamp(Math.min(q.minZoom,wt,wr),ot.minZoom,ot.maxZoom),ka=ga/ot.zoomScale(Ra-wt);aa=Math.sqrt(ka/Ma*2)}var Ga=aa*aa;function Ja($a){var yi=(Ea*Ea-ga*ga+($a?-1:1)*Ga*Ga*Ma*Ma)/(2*($a?Ea:ga)*Ga*Ma);return Math.log(Math.sqrt(yi*yi+1)-yi)}function Ci($a){return(Math.exp($a)-Math.exp(-$a))/2}function qa($a){return(Math.exp($a)+Math.exp(-$a))/2}function vi($a){return Ci($a)/qa($a)}var Ua=Ja(0),Li=function($a){return qa(Ua)/qa(Ua+aa*$a)},Pi=function($a){return ga*((qa(Ua)*vi(Ua+aa*$a)-Ci(Ua))/Ga)/Ma},Di=(Ja(1)-Ua)/aa;if(Math.abs(Ma)<1e-6||!isFinite(Di)){if(Math.abs(ga-Ea)<1e-6)return this.easeTo(q,de);var gi=Ea<ga?-1:1;Di=Math.abs(Math.log(Ea/ga))/aa,Pi=function(){return 0},Li=function($a){return Math.exp(gi*aa*$a)}}if("duration"in q)q.duration=+q.duration;else{var Bi="screenSpeed"in q?+q.screenSpeed/aa:+q.speed;q.duration=1e3*Di/Bi}return q.maxDuration&&q.duration>q.maxDuration&&(q.duration=0),this._zooming=!0,this._rotating=Vt!==Vr,this._pitching=$r!==qt,this._padding=!ot.isPaddingEqual(qr),this._prepareEase(de,!1),this._ease(function($a){var yi=$a*Di,to=1/Li(yi);ot.zoom=$a===1?wr:wt+ot.scaleZoom(to),De._rotating&&(ot.bearing=a.number(Vt,Vr,$a)),De._pitching&&(ot.pitch=a.number(qt,$r,$a)),De._padding&&(ot.interpolatePadding(pr,qr,$a),gn=ot.centerPoint.add(sn));var Mo=$a===1?Zn:ot.unproject(ra.add(ia.mult(Pi(yi))).mult(to));ot.setLocationAtPoint(ot.renderWorldCopies?Mo.wrap():Mo,gn),De._fireMoveEvents(de)},function(){return De._afterEase(de)},q),this},Y.prototype.isEasing=function(){return!!this._easeFrameId},Y.prototype.stop=function(){return this._stop()},Y.prototype._stop=function(q,de){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var De=this._onEaseEnd;delete this._onEaseEnd,De.call(this,de)}if(!q){var Ye=this.handlers;Ye&&Ye.stop()}return this},Y.prototype._ease=function(q,de,De){De.animate===!1||De.duration===0?(q(1),de()):(this._easeStart=a.browser.now(),this._easeOptions=De,this._onEaseFrame=q,this._onEaseEnd=de,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},Y.prototype._renderFrameCallback=function(){var q=Math.min((a.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(q)),q<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},Y.prototype._normalizeBearing=function(q,de){q=a.wrap(q,-180,180);var De=Math.abs(q-de);return Math.abs(q-360-de)<De&&(q-=360),Math.abs(q+360-de)<De&&(q+=360),q},Y.prototype._normalizeCenter=function(q){var de=this.transform;if(!(!de.renderWorldCopies||de.lngRange)){var De=q.lng-de.center.lng;q.lng+=De>180?-360:De<-180?360:0}},Y}(a.Evented),Qi=function(Y){Y===void 0&&(Y={}),this.options=Y,a.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};Qi.prototype.getDefaultPosition=function(){return"bottom-right"},Qi.prototype.onAdd=function(Y){var ve=this.options&&this.options.compact;return this._map=Y,this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=T.create("div","mapboxgl-ctrl-attrib-inner",this._container),ve&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),ve===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Qi.prototype.onRemove=function(){T.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Qi.prototype._updateEditLink=function(){var Y=this._editLink;Y||(Y=this._editLink=this._container.querySelector(".mapbox-improve-map"));var ve=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.config.ACCESS_TOKEN}];if(Y){var q=ve.reduce(function(de,De,Ye){return De.value&&(de+=De.key+"="+De.value+(Ye<ve.length-1?"&":"")),de},"?");Y.href=a.config.FEEDBACK_URL+"/"+q+(this._map._hash?this._map._hash.getHashString(!0):""),Y.rel="noopener nofollow"}},Qi.prototype._updateData=function(Y){Y&&(Y.sourceDataType==="metadata"||Y.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},Qi.prototype._updateAttributions=function(){if(this._map.style){var Y=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?Y=Y.concat(this.options.customAttribution.map(function(wt){return typeof wt!="string"?"":wt})):typeof this.options.customAttribution=="string"&&Y.push(this.options.customAttribution)),this._map.style.stylesheet){var ve=this._map.style.stylesheet;this.styleOwner=ve.owner,this.styleId=ve.id}var q=this._map.style.sourceCaches;for(var de in q){var De=q[de];if(De.used){var Ye=De.getSource();Ye.attribution&&Y.indexOf(Ye.attribution)<0&&Y.push(Ye.attribution)}}Y.sort(function(wt,Vt){return wt.length-Vt.length}),Y=Y.filter(function(wt,Vt){for(var qt=Vt+1;qt<Y.length;qt++)if(Y[qt].indexOf(wt)>=0)return!1;return!0});var ot=Y.join(" | ");ot!==this._attribHTML&&(this._attribHTML=ot,Y.length?(this._innerContainer.innerHTML=ot,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Qi.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var ni=function(){a.bindAll(["_updateLogo"],this),a.bindAll(["_updateCompact"],this)};ni.prototype.onAdd=function(Y){this._map=Y,this._container=T.create("div","mapboxgl-ctrl");var ve=T.create("a","mapboxgl-ctrl-logo");return ve.target="_blank",ve.rel="noopener nofollow",ve.href="https://www.mapbox.com/",ve.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),ve.setAttribute("rel","noopener nofollow"),this._container.appendChild(ve),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},ni.prototype.onRemove=function(){T.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},ni.prototype.getDefaultPosition=function(){return"bottom-left"},ni.prototype._updateLogo=function(Y){(!Y||Y.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},ni.prototype._logoRequired=function(){if(this._map.style){var Y=this._map.style.sourceCaches;for(var ve in Y){var q=Y[ve].getSource();if(q.mapbox_logo)return!0}return!1}},ni.prototype._updateCompact=function(){var Y=this._container.children;if(Y.length){var ve=Y[0];this._map.getCanvasContainer().offsetWidth<250?ve.classList.add("mapboxgl-compact"):ve.classList.remove("mapboxgl-compact")}};var Ei=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Ei.prototype.add=function(Y){var ve=++this._id,q=this._queue;return q.push({callback:Y,id:ve,cancelled:!1}),ve},Ei.prototype.remove=function(Y){for(var ve=this._currentlyRunning,q=ve?this._queue.concat(ve):this._queue,de=0,De=q;de<De.length;de+=1){var Ye=De[de];if(Ye.id===Y){Ye.cancelled=!0;return}}},Ei.prototype.run=function(Y){Y===void 0&&(Y=0);var ve=this._currentlyRunning=this._queue;this._queue=[];for(var q=0,de=ve;q<de.length;q+=1){var De=de[q];if(!De.cancelled&&(De.callback(Y),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Ei.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var us={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Es=a.window.HTMLImageElement,Ql=a.window.HTMLElement,fs=a.window.ImageBitmap,Mu=-2,Rf=22,Cs=0,Df=60,Uh={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:Mu,maxZoom:Rf,minPitch:Cs,maxPitch:Df,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Vh=function(ce){function Y(q){var de=this;if(q=a.extend({},Uh,q),q.minZoom!=null&&q.maxZoom!=null&&q.minZoom>q.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(q.minPitch!=null&&q.maxPitch!=null&&q.minPitch>q.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(q.minPitch!=null&&q.minPitch<Cs)throw new Error("minPitch must be greater than or equal to "+Cs);if(q.maxPitch!=null&&q.maxPitch>Df)throw new Error("maxPitch must be less than or equal to "+Df);var De=new Cn(q.minZoom,q.maxZoom,q.minPitch,q.maxPitch,q.renderWorldCopies);if(ce.call(this,De,q),this._interactive=q.interactive,this._maxTileCacheSize=q.maxTileCacheSize,this._failIfMajorPerformanceCaveat=q.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=q.preserveDrawingBuffer,this._antialias=q.antialias,this._trackResize=q.trackResize,this._bearingSnap=q.bearingSnap,this._refreshExpiredTiles=q.refreshExpiredTiles,this._fadeDuration=q.fadeDuration,this._crossSourceCollisions=q.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=q.collectResourceTiming,this._renderTaskQueue=new Ei,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},us,q.locale),this._requestManager=new a.RequestManager(q.transformRequest,q.accessToken),typeof q.container=="string"){if(this._container=a.window.document.getElementById(q.container),!this._container)throw new Error("Container '"+q.container+"' not found.")}else if(q.container instanceof Ql)this._container=q.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(q.maxBounds&&this.setMaxBounds(q.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return de._update(!1)}),this.on("moveend",function(){return de._update(!1)}),this.on("zoom",function(){return de._update(!0)}),typeof a.window<"u"&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1)),this.handlers=new fi(this,q);var Ye=typeof q.hash=="string"&&q.hash||void 0;this._hash=q.hash&&new Da(Ye).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:q.center,zoom:q.zoom,bearing:q.bearing,pitch:q.pitch}),q.bounds&&(this.resize(),this.fitBounds(q.bounds,a.extend({},q.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=q.localIdeographFontFamily,q.style&&this.setStyle(q.style,{localIdeographFontFamily:q.localIdeographFontFamily}),q.attributionControl&&this.addControl(new Qi({customAttribution:q.customAttribution})),this.addControl(new ni,q.logoPosition),this.on("style.load",function(){de.transform.unmodified&&de.jumpTo(de.style.stylesheet)}),this.on("data",function(ot){de._update(ot.dataType==="style"),de.fire(new a.Event(ot.dataType+"data",ot))}),this.on("dataloading",function(ot){de.fire(new a.Event(ot.dataType+"dataloading",ot))})}ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y;var ve={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return Y.prototype._getMapId=function(){return this._mapId},Y.prototype.addControl=function(de,De){if(De===void 0&&de.getDefaultPosition&&(De=de.getDefaultPosition()),De===void 0&&(De="top-right"),!de||!de.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Ye=de.onAdd(this);this._controls.push(de);var ot=this._controlPositions[De];return De.indexOf("bottom")!==-1?ot.insertBefore(Ye,ot.firstChild):ot.appendChild(Ye),this},Y.prototype.removeControl=function(de){if(!de||!de.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var De=this._controls.indexOf(de);return De>-1&&this._controls.splice(De,1),de.onRemove(this),this},Y.prototype.resize=function(de){var De=this._containerDimensions(),Ye=De[0],ot=De[1];this._resizeCanvas(Ye,ot),this.transform.resize(Ye,ot),this.painter.resize(Ye,ot);var wt=!this._moving;return wt&&(this.stop(),this.fire(new a.Event("movestart",de)).fire(new a.Event("move",de))),this.fire(new a.Event("resize",de)),wt&&this.fire(new a.Event("moveend",de)),this},Y.prototype.getBounds=function(){return this.transform.getBounds()},Y.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},Y.prototype.setMaxBounds=function(de){return this.transform.setMaxBounds(a.LngLatBounds.convert(de)),this._update()},Y.prototype.setMinZoom=function(de){if(de=de??Mu,de>=Mu&&de<=this.transform.maxZoom)return this.transform.minZoom=de,this._update(),this.getZoom()<de&&this.setZoom(de),this;throw new Error("minZoom must be between "+Mu+" and the current maxZoom, inclusive")},Y.prototype.getMinZoom=function(){return this.transform.minZoom},Y.prototype.setMaxZoom=function(de){if(de=de??Rf,de>=this.transform.minZoom)return this.transform.maxZoom=de,this._update(),this.getZoom()>de&&this.setZoom(de),this;throw new Error("maxZoom must be greater than the current minZoom")},Y.prototype.getMaxZoom=function(){return this.transform.maxZoom},Y.prototype.setMinPitch=function(de){if(de=de??Cs,de<Cs)throw new Error("minPitch must be greater than or equal to "+Cs);if(de>=Cs&&de<=this.transform.maxPitch)return this.transform.minPitch=de,this._update(),this.getPitch()<de&&this.setPitch(de),this;throw new Error("minPitch must be between "+Cs+" and the current maxPitch, inclusive")},Y.prototype.getMinPitch=function(){return this.transform.minPitch},Y.prototype.setMaxPitch=function(de){if(de=de??Df,de>Df)throw new Error("maxPitch must be less than or equal to "+Df);if(de>=this.transform.minPitch)return this.transform.maxPitch=de,this._update(),this.getPitch()>de&&this.setPitch(de),this;throw new Error("maxPitch must be greater than the current minPitch")},Y.prototype.getMaxPitch=function(){return this.transform.maxPitch},Y.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},Y.prototype.setRenderWorldCopies=function(de){return this.transform.renderWorldCopies=de,this._update()},Y.prototype.project=function(de){return this.transform.locationPoint(a.LngLat.convert(de))},Y.prototype.unproject=function(de){return this.transform.pointLocation(a.Point.convert(de))},Y.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},Y.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},Y.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},Y.prototype._createDelegatedListener=function(de,De,Ye){var ot=this,wt;if(de==="mouseenter"||de==="mouseover"){var Vt=!1,qt=function(Jr){var sn=ot.getLayer(De)?ot.queryRenderedFeatures(Jr.point,{layers:[De]}):[];sn.length?Vt||(Vt=!0,Ye.call(ot,new Be(de,ot,Jr.originalEvent,{features:sn}))):Vt=!1},pr=function(){Vt=!1};return{layer:De,listener:Ye,delegates:{mousemove:qt,mouseout:pr}}}else if(de==="mouseleave"||de==="mouseout"){var wr=!1,Vr=function(Jr){var sn=ot.getLayer(De)?ot.queryRenderedFeatures(Jr.point,{layers:[De]}):[];sn.length?wr=!0:wr&&(wr=!1,Ye.call(ot,new Be(de,ot,Jr.originalEvent)))},$r=function(Jr){wr&&(wr=!1,Ye.call(ot,new Be(de,ot,Jr.originalEvent)))};return{layer:De,listener:Ye,delegates:{mousemove:Vr,mouseout:$r}}}else{var qr=function(Jr){var sn=ot.getLayer(De)?ot.queryRenderedFeatures(Jr.point,{layers:[De]}):[];sn.length&&(Jr.features=sn,Ye.call(ot,Jr),delete Jr.features)};return{layer:De,listener:Ye,delegates:(wt={},wt[de]=qr,wt)}}},Y.prototype.on=function(de,De,Ye){if(Ye===void 0)return ce.prototype.on.call(this,de,De);var ot=this._createDelegatedListener(de,De,Ye);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[de]=this._delegatedListeners[de]||[],this._delegatedListeners[de].push(ot);for(var wt in ot.delegates)this.on(wt,ot.delegates[wt]);return this},Y.prototype.once=function(de,De,Ye){if(Ye===void 0)return ce.prototype.once.call(this,de,De);var ot=this._createDelegatedListener(de,De,Ye);for(var wt in ot.delegates)this.once(wt,ot.delegates[wt]);return this},Y.prototype.off=function(de,De,Ye){var ot=this;if(Ye===void 0)return ce.prototype.off.call(this,de,De);var wt=function(Vt){for(var qt=Vt[de],pr=0;pr<qt.length;pr++){var wr=qt[pr];if(wr.layer===De&&wr.listener===Ye){for(var Vr in wr.delegates)ot.off(Vr,wr.delegates[Vr]);return qt.splice(pr,1),ot}}};return this._delegatedListeners&&this._delegatedListeners[de]&&wt(this._delegatedListeners),this},Y.prototype.queryRenderedFeatures=function(de,De){if(!this.style)return[];De===void 0&&de!==void 0&&!(de instanceof a.Point)&&!Array.isArray(de)&&(De=de,de=void 0),De=De||{},de=de||[[0,0],[this.transform.width,this.transform.height]];var Ye;if(de instanceof a.Point||typeof de[0]=="number")Ye=[a.Point.convert(de)];else{var ot=a.Point.convert(de[0]),wt=a.Point.convert(de[1]);Ye=[ot,new a.Point(wt.x,ot.y),wt,new a.Point(ot.x,wt.y),ot]}return this.style.queryRenderedFeatures(Ye,De,this.transform)},Y.prototype.querySourceFeatures=function(de,De){return this.style.querySourceFeatures(de,De)},Y.prototype.setStyle=function(de,De){return De=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},De),De.diff!==!1&&De.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&de?(this._diffStyle(de,De),this):(this._localIdeographFontFamily=De.localIdeographFontFamily,this._updateStyle(de,De))},Y.prototype._getUIString=function(de){var De=this._locale[de];if(De==null)throw new Error("Missing UI string '"+de+"'");return De},Y.prototype._updateStyle=function(de,De){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),de)this.style=new mo(this,De||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof de=="string"?this.style.loadURL(de):this.style.loadJSON(de),this},Y.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new mo(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},Y.prototype._diffStyle=function(de,De){var Ye=this;if(typeof de=="string"){var ot=this._requestManager.normalizeStyleURL(de),wt=this._requestManager.transformRequest(ot,a.ResourceType.Style);a.getJSON(wt,function(Vt,qt){Vt?Ye.fire(new a.ErrorEvent(Vt)):qt&&Ye._updateDiff(qt,De)})}else typeof de=="object"&&this._updateDiff(de,De)},Y.prototype._updateDiff=function(de,De){try{this.style.setState(de)&&this._update(!0)}catch(Ye){a.warnOnce("Unable to perform style diff: "+(Ye.message||Ye.error||Ye)+".  Rebuilding the style from scratch."),this._updateStyle(de,De)}},Y.prototype.getStyle=function(){if(this.style)return this.style.serialize()},Y.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")},Y.prototype.addSource=function(de,De){return this._lazyInitEmptyStyle(),this.style.addSource(de,De),this._update(!0)},Y.prototype.isSourceLoaded=function(de){var De=this.style&&this.style.sourceCaches[de];if(De===void 0){this.fire(new a.ErrorEvent(new Error("There is no source with ID '"+de+"'")));return}return De.loaded()},Y.prototype.areTilesLoaded=function(){var de=this.style&&this.style.sourceCaches;for(var De in de){var Ye=de[De],ot=Ye._tiles;for(var wt in ot){var Vt=ot[wt];if(!(Vt.state==="loaded"||Vt.state==="errored"))return!1}}return!0},Y.prototype.addSourceType=function(de,De,Ye){return this._lazyInitEmptyStyle(),this.style.addSourceType(de,De,Ye)},Y.prototype.removeSource=function(de){return this.style.removeSource(de),this._update(!0)},Y.prototype.getSource=function(de){return this.style.getSource(de)},Y.prototype.addImage=function(de,De,Ye){Ye===void 0&&(Ye={});var ot=Ye.pixelRatio;ot===void 0&&(ot=1);var wt=Ye.sdf;wt===void 0&&(wt=!1);var Vt=Ye.stretchX,qt=Ye.stretchY,pr=Ye.content;this._lazyInitEmptyStyle();var wr=0;if(De instanceof Es||fs&&De instanceof fs){var Vr=a.browser.getImageData(De),$r=Vr.width,qr=Vr.height,Jr=Vr.data;this.style.addImage(de,{data:new a.RGBAImage({width:$r,height:qr},Jr),pixelRatio:ot,stretchX:Vt,stretchY:qt,content:pr,sdf:wt,version:wr})}else{if(De.width===void 0||De.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var sn=De.width,gn=De.height,On=De.data,Zn=De;this.style.addImage(de,{data:new a.RGBAImage({width:sn,height:gn},new Uint8Array(On)),pixelRatio:ot,stretchX:Vt,stretchY:qt,content:pr,sdf:wt,version:wr,userImage:Zn}),Zn.onAdd&&Zn.onAdd(this,de)}},Y.prototype.updateImage=function(de,De){var Ye=this.style.getImage(de);if(!Ye)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var ot=De instanceof Es||fs&&De instanceof fs?a.browser.getImageData(De):De,wt=ot.width,Vt=ot.height,qt=ot.data;if(wt===void 0||Vt===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(wt!==Ye.data.width||Vt!==Ye.data.height)return this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var pr=!(De instanceof Es||fs&&De instanceof fs);Ye.data.replace(qt,pr),this.style.updateImage(de,Ye)},Y.prototype.hasImage=function(de){return de?!!this.style.getImage(de):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)},Y.prototype.removeImage=function(de){this.style.removeImage(de)},Y.prototype.loadImage=function(de,De){a.getImage(this._requestManager.transformRequest(de,a.ResourceType.Image),De)},Y.prototype.listImages=function(){return this.style.listImages()},Y.prototype.addLayer=function(de,De){return this._lazyInitEmptyStyle(),this.style.addLayer(de,De),this._update(!0)},Y.prototype.moveLayer=function(de,De){return this.style.moveLayer(de,De),this._update(!0)},Y.prototype.removeLayer=function(de){return this.style.removeLayer(de),this._update(!0)},Y.prototype.getLayer=function(de){return this.style.getLayer(de)},Y.prototype.setLayerZoomRange=function(de,De,Ye){return this.style.setLayerZoomRange(de,De,Ye),this._update(!0)},Y.prototype.setFilter=function(de,De,Ye){return Ye===void 0&&(Ye={}),this.style.setFilter(de,De,Ye),this._update(!0)},Y.prototype.getFilter=function(de){return this.style.getFilter(de)},Y.prototype.setPaintProperty=function(de,De,Ye,ot){return ot===void 0&&(ot={}),this.style.setPaintProperty(de,De,Ye,ot),this._update(!0)},Y.prototype.getPaintProperty=function(de,De){return this.style.getPaintProperty(de,De)},Y.prototype.setLayoutProperty=function(de,De,Ye,ot){return ot===void 0&&(ot={}),this.style.setLayoutProperty(de,De,Ye,ot),this._update(!0)},Y.prototype.getLayoutProperty=function(de,De){return this.style.getLayoutProperty(de,De)},Y.prototype.setLight=function(de,De){return De===void 0&&(De={}),this._lazyInitEmptyStyle(),this.style.setLight(de,De),this._update(!0)},Y.prototype.getLight=function(){return this.style.getLight()},Y.prototype.setFeatureState=function(de,De){return this.style.setFeatureState(de,De),this._update()},Y.prototype.removeFeatureState=function(de,De){return this.style.removeFeatureState(de,De),this._update()},Y.prototype.getFeatureState=function(de){return this.style.getFeatureState(de)},Y.prototype.getContainer=function(){return this._container},Y.prototype.getCanvasContainer=function(){return this._canvasContainer},Y.prototype.getCanvas=function(){return this._canvas},Y.prototype._containerDimensions=function(){var de=0,De=0;return this._container&&(de=this._container.clientWidth||400,De=this._container.clientHeight||300),[de,De]},Y.prototype._detectMissingCSS=function(){var de=a.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");de!=="rgb(250, 128, 114)"&&a.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},Y.prototype._setupContainer=function(){var de=this._container;de.classList.add("mapboxgl-map");var De=this._missingCSSCanary=T.create("div","mapboxgl-canary",de);De.style.visibility="hidden",this._detectMissingCSS();var Ye=this._canvasContainer=T.create("div","mapboxgl-canvas-container",de);this._interactive&&Ye.classList.add("mapboxgl-interactive"),this._canvas=T.create("canvas","mapboxgl-canvas",Ye),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var ot=this._containerDimensions();this._resizeCanvas(ot[0],ot[1]);var wt=this._controlContainer=T.create("div","mapboxgl-control-container",de),Vt=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(qt){Vt[qt]=T.create("div","mapboxgl-ctrl-"+qt,wt)})},Y.prototype._resizeCanvas=function(de,De){var Ye=a.browser.devicePixelRatio||1;this._canvas.width=Ye*de,this._canvas.height=Ye*De,this._canvas.style.width=de+"px",this._canvas.style.height=De+"px"},Y.prototype._setupPainter=function(){var de=a.extend({},L.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),De=this._canvas.getContext("webgl",de)||this._canvas.getContext("experimental-webgl",de);if(!De){this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new Fr(De,this.transform),a.webpSupported.testSupport(De)},Y.prototype._contextLost=function(de){de.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:de}))},Y.prototype._contextRestored=function(de){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:de}))},Y.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},Y.prototype._update=function(de){return this.style?(this._styleDirty=this._styleDirty||de,this._sourcesDirty=!0,this.triggerRepaint(),this):this},Y.prototype._requestRenderFrame=function(de){return this._update(),this._renderTaskQueue.add(de)},Y.prototype._cancelRenderFrame=function(de){this._renderTaskQueue.remove(de)},Y.prototype._render=function(de){var De=this,Ye,ot=0,wt=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(Ye=wt.createQueryEXT(),wt.beginQueryEXT(wt.TIME_ELAPSED_EXT,Ye),ot=a.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(de),!this._removed){var Vt=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var qt=this.transform.zoom,pr=a.browser.now();this.style.zoomHistory.update(qt,pr);var wr=new a.EvaluationParameters(qt,{now:pr,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Vr=wr.crossFadingFactor();(Vr!==1||Vr!==this._crossFadingFactor)&&(Vt=!0,this._crossFadingFactor=Vr),this.style.update(wr)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||Vt)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var $r=a.browser.now()-ot;wt.endQueryEXT(wt.TIME_ELAPSED_EXT,Ye),setTimeout(function(){var sn=wt.getQueryObjectEXT(Ye,wt.QUERY_RESULT_EXT)/1e6;wt.deleteQueryEXT(Ye),De.fire(new a.Event("gpu-timing-frame",{cpuTime:$r,gpuTime:sn}))},50)}if(this.listens("gpu-timing-layer")){var qr=this.painter.collectGpuTimers();setTimeout(function(){var sn=De.painter.queryGpuTimers(qr);De.fire(new a.Event("gpu-timing-layer",{layerTimes:sn}))},50)}var Jr=this._sourcesDirty||this._styleDirty||this._placementDirty;return Jr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&(this._fullyLoaded||(this._fullyLoaded=!0),this.fire(new a.Event("idle"))),this}},Y.prototype.remove=function(){this._hash&&this._hash.remove();for(var de=0,De=this._controls;de<De.length;de+=1){var Ye=De[de];Ye.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof a.window<"u"&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1));var ot=this.painter.context.gl.getExtension("WEBGL_lose_context");ot&&ot.loseContext(),Dc(this._canvasContainer),Dc(this._controlContainer),Dc(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new a.Event("remove"))},Y.prototype.triggerRepaint=function(){var de=this;this.style&&!this._frame&&(this._frame=a.browser.frame(function(De){de._frame=null,de._render(De)}))},Y.prototype._onWindowOnline=function(){this._update()},Y.prototype._onWindowResize=function(de){this._trackResize&&this.resize({originalEvent:de})._update()},ve.showTileBoundaries.get=function(){return!!this._showTileBoundaries},ve.showTileBoundaries.set=function(q){this._showTileBoundaries!==q&&(this._showTileBoundaries=q,this._update())},ve.showPadding.get=function(){return!!this._showPadding},ve.showPadding.set=function(q){this._showPadding!==q&&(this._showPadding=q,this._update())},ve.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},ve.showCollisionBoxes.set=function(q){this._showCollisionBoxes!==q&&(this._showCollisionBoxes=q,q?this.style._generateCollisionBoxes():this._update())},ve.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},ve.showOverdrawInspector.set=function(q){this._showOverdrawInspector!==q&&(this._showOverdrawInspector=q,this._update())},ve.repaint.get=function(){return!!this._repaint},ve.repaint.set=function(q){this._repaint!==q&&(this._repaint=q,this.triggerRepaint())},ve.vertices.get=function(){return!!this._vertices},ve.vertices.set=function(q){this._vertices=q,this._update()},Y.prototype._setCacheLimits=function(de,De){a.setCacheLimits(de,De)},ve.version.get=function(){return a.version},Object.defineProperties(Y.prototype,ve),Y}(uo);function Dc(ce){ce.parentNode&&ce.parentNode.removeChild(ce)}var $c={showCompass:!0,showZoom:!0,visualizePitch:!1},sf=function(Y){var ve=this;this.options=a.extend({},$c,Y),this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(q){return q.preventDefault()}),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(q){return ve._map.zoomIn({},{originalEvent:q})}),T.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(q){return ve._map.zoomOut({},{originalEvent:q})}),T.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(q){ve.options.visualizePitch?ve._map.resetNorthPitch({},{originalEvent:q}):ve._map.resetNorth({},{originalEvent:q})}),this._compassIcon=T.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};sf.prototype._updateZoomButtons=function(){var Y=this._map.getZoom();this._zoomInButton.disabled=Y===this._map.getMaxZoom(),this._zoomOutButton.disabled=Y===this._map.getMinZoom()},sf.prototype._rotateCompassArrow=function(){var Y=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=Y},sf.prototype.onAdd=function(Y){return this._map=Y,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Zs(this._map,this._compass,this.options.visualizePitch)),this._container},sf.prototype.onRemove=function(){T.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},sf.prototype._createButton=function(Y,ve){var q=T.create("button",Y,this._container);return q.type="button",q.addEventListener("click",ve),q},sf.prototype._setButtonTitle=function(Y,ve){var q=this._map._getUIString("NavigationControl."+ve);Y.title=q,Y.setAttribute("aria-label",q)};var Zs=function(Y,ve,q){q===void 0&&(q=!1),this._clickTolerance=10,this.element=ve,this.mouseRotate=new Mt({clickTolerance:Y.dragRotate._mouseRotate._clickTolerance}),this.map=Y,q&&(this.mousePitch=new fr({clickTolerance:Y.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),T.addEventListener(ve,"mousedown",this.mousedown),T.addEventListener(ve,"touchstart",this.touchstart,{passive:!1}),T.addEventListener(ve,"touchmove",this.touchmove),T.addEventListener(ve,"touchend",this.touchend),T.addEventListener(ve,"touchcancel",this.reset)};Zs.prototype.down=function(Y,ve){this.mouseRotate.mousedown(Y,ve),this.mousePitch&&this.mousePitch.mousedown(Y,ve),T.disableDrag()},Zs.prototype.move=function(Y,ve){var q=this.map,de=this.mouseRotate.mousemoveWindow(Y,ve);if(de&&de.bearingDelta&&q.setBearing(q.getBearing()+de.bearingDelta),this.mousePitch){var De=this.mousePitch.mousemoveWindow(Y,ve);De&&De.pitchDelta&&q.setPitch(q.getPitch()+De.pitchDelta)}},Zs.prototype.off=function(){var Y=this.element;T.removeEventListener(Y,"mousedown",this.mousedown),T.removeEventListener(Y,"touchstart",this.touchstart,{passive:!1}),T.removeEventListener(Y,"touchmove",this.touchmove),T.removeEventListener(Y,"touchend",this.touchend),T.removeEventListener(Y,"touchcancel",this.reset),this.offTemp()},Zs.prototype.offTemp=function(){T.enableDrag(),T.removeEventListener(a.window,"mousemove",this.mousemove),T.removeEventListener(a.window,"mouseup",this.mouseup)},Zs.prototype.mousedown=function(Y){this.down(a.extend({},Y,{ctrlKey:!0,preventDefault:function(){return Y.preventDefault()}}),T.mousePos(this.element,Y)),T.addEventListener(a.window,"mousemove",this.mousemove),T.addEventListener(a.window,"mouseup",this.mouseup)},Zs.prototype.mousemove=function(Y){this.move(Y,T.mousePos(this.element,Y))},Zs.prototype.mouseup=function(Y){this.mouseRotate.mouseupWindow(Y),this.mousePitch&&this.mousePitch.mouseupWindow(Y),this.offTemp()},Zs.prototype.touchstart=function(Y){Y.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=T.touchPos(this.element,Y.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return Y.preventDefault()}},this._startPos))},Zs.prototype.touchmove=function(Y){Y.targetTouches.length!==1?this.reset():(this._lastPos=T.touchPos(this.element,Y.targetTouches)[0],this.move({preventDefault:function(){return Y.preventDefault()}},this._lastPos))},Zs.prototype.touchend=function(Y){Y.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Zs.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function lf(ce,Y,ve){if(ce=new a.LngLat(ce.lng,ce.lat),Y){var q=new a.LngLat(ce.lng-360,ce.lat),de=new a.LngLat(ce.lng+360,ce.lat),De=ve.locationPoint(ce).distSqr(Y);ve.locationPoint(q).distSqr(Y)<De?ce=q:ve.locationPoint(de).distSqr(Y)<De&&(ce=de)}for(;Math.abs(ce.lng-ve.center.lng)>180;){var Ye=ve.locationPoint(ce);if(Ye.x>=0&&Ye.y>=0&&Ye.x<=ve.width&&Ye.y<=ve.height)break;ce.lng>ve.center.lng?ce.lng-=360:ce.lng+=360}return ce}var Ic={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function qc(ce,Y,ve){var q=ce.classList;for(var de in Ic)q.remove("mapboxgl-"+ve+"-anchor-"+de);q.add("mapboxgl-"+ve+"-anchor-"+Y)}var cc=function(ce){function Y(ve,q){var de=this;if(ce.call(this),(ve instanceof a.window.HTMLElement||q)&&(ve=a.extend({element:ve},q)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=ve&&ve.anchor||"center",this._color=ve&&ve.color||"#3FB1CE",this._draggable=ve&&ve.draggable||!1,this._state="inactive",this._rotation=ve&&ve.rotation||0,this._rotationAlignment=ve&&ve.rotationAlignment||"auto",this._pitchAlignment=ve&&ve.pitchAlignment&&ve.pitchAlignment!=="auto"?ve.pitchAlignment:this._rotationAlignment,!ve||!ve.element){this._defaultMarker=!0,this._element=T.create("div"),this._element.setAttribute("aria-label","Map marker");var De=T.createNS("http://www.w3.org/2000/svg","svg");De.setAttributeNS(null,"display","block"),De.setAttributeNS(null,"height","41px"),De.setAttributeNS(null,"width","27px"),De.setAttributeNS(null,"viewBox","0 0 27 41");var Ye=T.createNS("http://www.w3.org/2000/svg","g");Ye.setAttributeNS(null,"stroke","none"),Ye.setAttributeNS(null,"stroke-width","1"),Ye.setAttributeNS(null,"fill","none"),Ye.setAttributeNS(null,"fill-rule","evenodd");var ot=T.createNS("http://www.w3.org/2000/svg","g");ot.setAttributeNS(null,"fill-rule","nonzero");var wt=T.createNS("http://www.w3.org/2000/svg","g");wt.setAttributeNS(null,"transform","translate(3.0, 29.0)"),wt.setAttributeNS(null,"fill","#000000");for(var Vt=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],qt=0,pr=Vt;qt<pr.length;qt+=1){var wr=pr[qt],Vr=T.createNS("http://www.w3.org/2000/svg","ellipse");Vr.setAttributeNS(null,"opacity","0.04"),Vr.setAttributeNS(null,"cx","10.5"),Vr.setAttributeNS(null,"cy","5.80029008"),Vr.setAttributeNS(null,"rx",wr.rx),Vr.setAttributeNS(null,"ry",wr.ry),wt.appendChild(Vr)}var $r=T.createNS("http://www.w3.org/2000/svg","g");$r.setAttributeNS(null,"fill",this._color);var qr=T.createNS("http://www.w3.org/2000/svg","path");qr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),$r.appendChild(qr);var Jr=T.createNS("http://www.w3.org/2000/svg","g");Jr.setAttributeNS(null,"opacity","0.25"),Jr.setAttributeNS(null,"fill","#000000");var sn=T.createNS("http://www.w3.org/2000/svg","path");sn.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Jr.appendChild(sn);var gn=T.createNS("http://www.w3.org/2000/svg","g");gn.setAttributeNS(null,"transform","translate(6.0, 7.0)"),gn.setAttributeNS(null,"fill","#FFFFFF");var On=T.createNS("http://www.w3.org/2000/svg","g");On.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Zn=T.createNS("http://www.w3.org/2000/svg","circle");Zn.setAttributeNS(null,"fill","#000000"),Zn.setAttributeNS(null,"opacity","0.25"),Zn.setAttributeNS(null,"cx","5.5"),Zn.setAttributeNS(null,"cy","5.5"),Zn.setAttributeNS(null,"r","5.4999962");var ra=T.createNS("http://www.w3.org/2000/svg","circle");ra.setAttributeNS(null,"fill","#FFFFFF"),ra.setAttributeNS(null,"cx","5.5"),ra.setAttributeNS(null,"cy","5.5"),ra.setAttributeNS(null,"r","5.4999962"),On.appendChild(Zn),On.appendChild(ra),ot.appendChild(wt),ot.appendChild($r),ot.appendChild(Jr),ot.appendChild(gn),ot.appendChild(On),De.appendChild(ot),this._element.appendChild(De),this._offset=a.Point.convert(ve&&ve.offset||[0,-14])}else this._element=ve.element,this._offset=a.Point.convert(ve&&ve.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(ia){ia.preventDefault()}),this._element.addEventListener("mousedown",function(ia){ia.preventDefault()}),this._element.addEventListener("focus",function(){var ia=de._map.getContainer();ia.scrollTop=0,ia.scrollLeft=0}),qc(this._element,this._anchor,"marker"),this._popup=null}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.addTo=function(q){return this.remove(),this._map=q,q.getCanvasContainer().appendChild(this._element),q.on("move",this._update),q.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},Y.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),T.remove(this._element),this._popup&&this._popup.remove(),this},Y.prototype.getLngLat=function(){return this._lngLat},Y.prototype.setLngLat=function(q){return this._lngLat=a.LngLat.convert(q),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},Y.prototype.getElement=function(){return this._element},Y.prototype.setPopup=function(q){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),q){if(!("offset"in q.options)){var de=38.1,De=13.5,Ye=Math.sqrt(Math.pow(De,2)/2);q.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-de],"bottom-left":[Ye,(de-De+Ye)*-1],"bottom-right":[-Ye,(de-De+Ye)*-1],left:[De,(de-De)*-1],right:[-De,(de-De)*-1]}:this._offset}this._popup=q,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},Y.prototype._onKeyPress=function(q){var de=q.code,De=q.charCode||q.keyCode;(de==="Space"||de==="Enter"||De===32||De===13)&&this.togglePopup()},Y.prototype._onMapClick=function(q){var de=q.originalEvent.target,De=this._element;this._popup&&(de===De||De.contains(de))&&this.togglePopup()},Y.prototype.getPopup=function(){return this._popup},Y.prototype.togglePopup=function(){var q=this._popup;if(q)q.isOpen()?q.remove():q.addTo(this._map);else return this;return this},Y.prototype._update=function(q){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=lf(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var de="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?de="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(de="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var De="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?De="rotateX(0deg)":this._pitchAlignment==="map"&&(De="rotateX("+this._map.getPitch()+"deg)"),(!q||q.type==="moveend")&&(this._pos=this._pos.round()),T.setTransform(this._element,Ic[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+De+" "+de)}},Y.prototype.getOffset=function(){return this._offset},Y.prototype.setOffset=function(q){return this._offset=a.Point.convert(q),this._update(),this},Y.prototype._onMove=function(q){this._pos=q.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag"))},Y.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"},Y.prototype._addDragHandler=function(q){this._element.contains(q.originalEvent.target)&&(q.preventDefault(),this._positionDelta=q.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},Y.prototype.setDraggable=function(q){return this._draggable=!!q,this._map&&(q?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},Y.prototype.isDraggable=function(){return this._draggable},Y.prototype.setRotation=function(q){return this._rotation=q||0,this._update(),this},Y.prototype.getRotation=function(){return this._rotation},Y.prototype.setRotationAlignment=function(q){return this._rotationAlignment=q||"auto",this._update(),this},Y.prototype.getRotationAlignment=function(){return this._rotationAlignment},Y.prototype.setPitchAlignment=function(q){return this._pitchAlignment=q&&q!=="auto"?q:this._rotationAlignment,this._update(),this},Y.prototype.getPitchAlignment=function(){return this._pitchAlignment},Y}(a.Evented),Hh={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},If;function kc(ce){If!==void 0?ce(If):a.window.navigator.permissions!==void 0?a.window.navigator.permissions.query({name:"geolocation"}).then(function(Y){If=Y.state!=="denied",ce(If)}):(If=!!a.window.navigator.geolocation,ce(If))}var hc=0,kf=!1,Gh=function(ce){function Y(ve){ce.call(this),this.options=a.extend({},Hh,ve),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.onAdd=function(q){return this._map=q,this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),kc(this._setupUI),this._container},Y.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),T.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,hc=0,kf=!1},Y.prototype._isOutOfMapMaxBounds=function(q){var de=this._map.getMaxBounds(),De=q.coords;return de&&(De.longitude<de.getWest()||De.longitude>de.getEast()||De.latitude<de.getSouth()||De.latitude>de.getNorth())},Y.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},Y.prototype._onSuccess=function(q){if(this._map){if(this._isOutOfMapMaxBounds(q)){this._setErrorState(),this.fire(new a.Event("outofmaxbounds",q)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=q,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(q),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(q),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",q)),this._finish()}},Y.prototype._updateCamera=function(q){var de=new a.LngLat(q.coords.longitude,q.coords.latitude),De=q.coords.accuracy,Ye=this._map.getBearing(),ot=a.extend({bearing:Ye},this.options.fitBoundsOptions);this._map.fitBounds(de.toBounds(De),ot,{geolocateSource:!0})},Y.prototype._updateMarker=function(q){if(q){var de=new a.LngLat(q.coords.longitude,q.coords.latitude);this._accuracyCircleMarker.setLngLat(de).addTo(this._map),this._userLocationDotMarker.setLngLat(de).addTo(this._map),this._accuracy=q.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},Y.prototype._updateCircleRadius=function(){var q=this._map._container.clientHeight/2,de=this._map.unproject([0,q]),De=this._map.unproject([1,q]),Ye=de.distanceTo(De),ot=Math.ceil(2*this._accuracy/Ye);this._circleElement.style.width=ot+"px",this._circleElement.style.height=ot+"px"},Y.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},Y.prototype._onError=function(q){if(this._map){if(this.options.trackUserLocation)if(q.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var de=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=de,this._geolocateButton.setAttribute("aria-label",de),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(q.code===3&&kf)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",q)),this._finish()}},Y.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},Y.prototype._setupUI=function(q){var de=this;if(this._container.addEventListener("contextmenu",function(ot){return ot.preventDefault()}),this._geolocateButton=T.create("button","mapboxgl-ctrl-geolocate",this._container),T.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",q===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var De=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=De,this._geolocateButton.setAttribute("aria-label",De)}else{var Ye=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Ye,this._geolocateButton.setAttribute("aria-label",Ye)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=T.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new cc(this._dotElement),this._circleElement=T.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new cc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(ot){var wt=ot.originalEvent&&ot.originalEvent.type==="resize";!ot.geolocateSource&&de._watchState==="ACTIVE_LOCK"&&!wt&&(de._watchState="BACKGROUND",de._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),de._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),de.fire(new a.Event("trackuserlocationend")))})},Y.prototype.trigger=function(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":hc--,kf=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),hc++;var q;hc>1?(q={maximumAge:6e5,timeout:0},kf=!0):(q=this.options.positionOptions,kf=!1),this._geolocationWatchID=a.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,q)}}else a.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},Y.prototype._clearWatch=function(){a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},Y}(a.Evented),Tv={maxWidth:100,unit:"metric"},_f=function(Y){this.options=a.extend({},Tv,Y),a.bindAll(["_onMove","setUnit"],this)};_f.prototype.getDefaultPosition=function(){return"bottom-left"},_f.prototype._onMove=function(){Wh(this._map,this._container,this.options)},_f.prototype.onAdd=function(Y){return this._map=Y,this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",Y.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},_f.prototype.onRemove=function(){T.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},_f.prototype.setUnit=function(Y){this.options.unit=Y,Wh(this._map,this._container,this.options)};function Wh(ce,Y,ve){var q=ve&&ve.maxWidth||100,de=ce._container.clientHeight/2,De=ce.unproject([0,de]),Ye=ce.unproject([q,de]),ot=De.distanceTo(Ye);if(ve&&ve.unit==="imperial"){var wt=3.2808*ot;if(wt>5280){var Vt=wt/5280;vc(Y,q,Vt,ce._getUIString("ScaleControl.Miles"))}else vc(Y,q,wt,ce._getUIString("ScaleControl.Feet"))}else if(ve&&ve.unit==="nautical"){var qt=ot/1852;vc(Y,q,qt,ce._getUIString("ScaleControl.NauticalMiles"))}else ot>=1e3?vc(Y,q,ot/1e3,ce._getUIString("ScaleControl.Kilometers")):vc(Y,q,ot,ce._getUIString("ScaleControl.Meters"))}function vc(ce,Y,ve,q){var de=Sv(ve),De=de/ve;ce.style.width=Y*De+"px",ce.innerHTML=de+"&nbsp;"+q}function Av(ce){var Y=Math.pow(10,Math.ceil(-Math.log(ce)/Math.LN10));return Math.round(ce*Y)/Y}function Sv(ce){var Y=Math.pow(10,(""+Math.floor(ce)).length-1),ve=ce/Y;return ve=ve>=10?10:ve>=5?5:ve>=3?3:ve>=2?2:ve>=1?1:Av(ve),Y*ve}var $l=function(Y){this._fullscreen=!1,Y&&Y.container&&(Y.container instanceof a.window.HTMLElement?this._container=Y.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in a.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in a.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in a.window.document&&(this._fullscreenchange="MSFullscreenChange")};$l.prototype.onAdd=function(Y){return this._map=Y,this._container||(this._container=this._map.getContainer()),this._controlContainer=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},$l.prototype.onRemove=function(){T.remove(this._controlContainer),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},$l.prototype._checkFullscreenSupport=function(){return!!(a.window.document.fullscreenEnabled||a.window.document.mozFullScreenEnabled||a.window.document.msFullscreenEnabled||a.window.document.webkitFullscreenEnabled)},$l.prototype._setupUI=function(){var Y=this._fullscreenButton=T.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);T.create("span","mapboxgl-ctrl-icon",Y).setAttribute("aria-hidden",!0),Y.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},$l.prototype._updateTitle=function(){var Y=this._getTitle();this._fullscreenButton.setAttribute("aria-label",Y),this._fullscreenButton.title=Y},$l.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},$l.prototype._isFullscreen=function(){return this._fullscreen},$l.prototype._changeIcon=function(){var Y=a.window.document.fullscreenElement||a.window.document.mozFullScreenElement||a.window.document.webkitFullscreenElement||a.window.document.msFullscreenElement;Y===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},$l.prototype._onClickFullscreen=function(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.mozCancelFullScreen?a.window.document.mozCancelFullScreen():a.window.document.msExitFullscreen?a.window.document.msExitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Mv={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},Ev=function(ce){function Y(ve){ce.call(this),this.options=a.extend(Object.create(Mv),ve),a.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return ce&&(Y.__proto__=ce),Y.prototype=Object.create(ce&&ce.prototype),Y.prototype.constructor=Y,Y.prototype.addTo=function(q){return this._map&&this.remove(),this._map=q,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this},Y.prototype.isOpen=function(){return!!this._map},Y.prototype.remove=function(){return this._content&&T.remove(this._content),this._container&&(T.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this},Y.prototype.getLngLat=function(){return this._lngLat},Y.prototype.setLngLat=function(q){return this._lngLat=a.LngLat.convert(q),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},Y.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},Y.prototype.getElement=function(){return this._container},Y.prototype.setText=function(q){return this.setDOMContent(a.window.document.createTextNode(q))},Y.prototype.setHTML=function(q){var de=a.window.document.createDocumentFragment(),De=a.window.document.createElement("body"),Ye;for(De.innerHTML=q;Ye=De.firstChild,!!Ye;)de.appendChild(Ye);return this.setDOMContent(de)},Y.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},Y.prototype.setMaxWidth=function(q){return this.options.maxWidth=q,this._update(),this},Y.prototype.setDOMContent=function(q){return this._createContent(),this._content.appendChild(q),this._update(),this},Y.prototype.addClassName=function(q){this._container&&this._container.classList.add(q)},Y.prototype.removeClassName=function(q){this._container&&this._container.classList.remove(q)},Y.prototype.toggleClassName=function(q){if(this._container)return this._container.classList.toggle(q)},Y.prototype._createContent=function(){this._content&&T.remove(this._content),this._content=T.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=T.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},Y.prototype._onMouseUp=function(q){this._update(q.point)},Y.prototype._onMouseMove=function(q){this._update(q.point)},Y.prototype._onDrag=function(q){this._update(q.point)},Y.prototype._update=function(q){var de=this,De=this._lngLat||this._trackPointer;if(!(!this._map||!De||!this._content)&&(this._container||(this._container=T.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=T.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Vr){return de._container.classList.add(Vr)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=lf(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!q))){var Ye=this._pos=this._trackPointer&&q?q:this._map.project(this._lngLat),ot=this.options.anchor,wt=Yh(this.options.offset);if(!ot){var Vt=this._container.offsetWidth,qt=this._container.offsetHeight,pr;Ye.y+wt.bottom.y<qt?pr=["top"]:Ye.y>this._map.transform.height-qt?pr=["bottom"]:pr=[],Ye.x<Vt/2?pr.push("left"):Ye.x>this._map.transform.width-Vt/2&&pr.push("right"),pr.length===0?ot="bottom":ot=pr.join("-")}var wr=Ye.add(wt[ot]).round();T.setTransform(this._container,Ic[ot]+" translate("+wr.x+"px,"+wr.y+"px)"),qc(this._container,ot,"popup")}},Y.prototype._onClose=function(){this.remove()},Y}(a.Evented);function Yh(ce){if(ce)if(typeof ce=="number"){var Y=Math.round(Math.sqrt(.5*Math.pow(ce,2)));return{center:new a.Point(0,0),top:new a.Point(0,ce),"top-left":new a.Point(Y,Y),"top-right":new a.Point(-Y,Y),bottom:new a.Point(0,-ce),"bottom-left":new a.Point(Y,-Y),"bottom-right":new a.Point(-Y,-Y),left:new a.Point(ce,0),right:new a.Point(-ce,0)}}else if(ce instanceof a.Point||Array.isArray(ce)){var ve=a.Point.convert(ce);return{center:ve,top:ve,"top-left":ve,"top-right":ve,bottom:ve,"bottom-left":ve,"bottom-right":ve,left:ve,right:ve}}else return{center:a.Point.convert(ce.center||[0,0]),top:a.Point.convert(ce.top||[0,0]),"top-left":a.Point.convert(ce["top-left"]||[0,0]),"top-right":a.Point.convert(ce["top-right"]||[0,0]),bottom:a.Point.convert(ce.bottom||[0,0]),"bottom-left":a.Point.convert(ce["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(ce["bottom-right"]||[0,0]),left:a.Point.convert(ce.left||[0,0]),right:a.Point.convert(ce.right||[0,0])};else return Yh(new a.Point(0,0))}var Cv={version:a.version,supported:L,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:Vh,NavigationControl:sf,GeolocateControl:Gh,AttributionControl:Qi,ScaleControl:_f,FullscreenControl:$l,Popup:Ev,Marker:cc,Style:mo,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.Point,MercatorCoordinate:a.MercatorCoordinate,Evented:a.Evented,config:a.config,prewarm:Ot,clearPrewarmedResources:Kt,get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(ce){a.config.ACCESS_TOKEN=ce},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(ce){a.config.API_URL=ce},get workerCount(){return kr.workerCount},set workerCount(ce){kr.workerCount=ce},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(ce){a.config.MAX_PARALLEL_IMAGE_REQUESTS=ce},clearStorage:function(Y){a.clearTileCache(Y)},workerUrl:""};return Cv}),g})},27084:function(H){H.exports=Math.log2||function(U){return Math.log(U)*Math.LOG2E}},16825:function(H,U,e){H.exports=P;var g=e(74311);function P(a,L){L||(L=a,a=window);var T=0,v=0,d=0,t={shift:!1,alt:!1,control:!1,meta:!1},r=!1;function u(S){var A=!1;return"altKey"in S&&(A=A||S.altKey!==t.alt,t.alt=!!S.altKey),"shiftKey"in S&&(A=A||S.shiftKey!==t.shift,t.shift=!!S.shiftKey),"ctrlKey"in S&&(A=A||S.ctrlKey!==t.control,t.control=!!S.ctrlKey),"metaKey"in S&&(A=A||S.metaKey!==t.meta,t.meta=!!S.metaKey),A}function n(S,A){var E=g.x(A),m=g.y(A);"buttons"in A&&(S=A.buttons|0),(S!==T||E!==v||m!==d||u(A))&&(T=S|0,v=E||0,d=m||0,L&&L(T,v,d,t))}function s(S){n(0,S)}function f(){(T||v||d||t.shift||t.alt||t.meta||t.control)&&(v=d=0,T=0,t.shift=t.alt=t.control=t.meta=!1,L&&L(0,0,0,t))}function l(S){u(S)&&L&&L(T,v,d,t)}function x(S){g.buttons(S)===0?n(0,S):n(T,S)}function c(S){n(T|g.buttons(S),S)}function b(S){n(T&~g.buttons(S),S)}function h(){r||(r=!0,a.addEventListener("mousemove",x),a.addEventListener("mousedown",c),a.addEventListener("mouseup",b),a.addEventListener("mouseleave",s),a.addEventListener("mouseenter",s),a.addEventListener("mouseout",s),a.addEventListener("mouseover",s),a.addEventListener("blur",f),a.addEventListener("keyup",l),a.addEventListener("keydown",l),a.addEventListener("keypress",l),a!==window&&(window.addEventListener("blur",f),window.addEventListener("keyup",l),window.addEventListener("keydown",l),window.addEventListener("keypress",l)))}function o(){r&&(r=!1,a.removeEventListener("mousemove",x),a.removeEventListener("mousedown",c),a.removeEventListener("mouseup",b),a.removeEventListener("mouseleave",s),a.removeEventListener("mouseenter",s),a.removeEventListener("mouseout",s),a.removeEventListener("mouseover",s),a.removeEventListener("blur",f),a.removeEventListener("keyup",l),a.removeEventListener("keydown",l),a.removeEventListener("keypress",l),a!==window&&(window.removeEventListener("blur",f),window.removeEventListener("keyup",l),window.removeEventListener("keydown",l),window.removeEventListener("keypress",l)))}h();var p={element:a};return Object.defineProperties(p,{enabled:{get:function(){return r},set:function(S){S?h():o()},enumerable:!0},buttons:{get:function(){return T},enumerable:!0},x:{get:function(){return v},enumerable:!0},y:{get:function(){return d},enumerable:!0},mods:{get:function(){return t},enumerable:!0}}),p}},48956:function(H){var U={left:0,top:0};H.exports=e;function e(P,a,L){a=a||P.currentTarget||P.srcElement,Array.isArray(L)||(L=[0,0]);var T=P.clientX||0,v=P.clientY||0,d=g(a);return L[0]=T-d.left,L[1]=v-d.top,L}function g(P){return P===window||P===document||P===document.body?U:P.getBoundingClientRect()}},74311:function(H,U){function e(L){if(typeof L=="object"){if("buttons"in L)return L.buttons;if("which"in L){var T=L.which;if(T===2)return 4;if(T===3)return 2;if(T>0)return 1<<T-1}else if("button"in L){var T=L.button;if(T===1)return 4;if(T===2)return 2;if(T>=0)return 1<<T}}return 0}U.buttons=e;function g(L){return L.target||L.srcElement||window}U.element=g;function P(L){if(typeof L=="object"){if("offsetX"in L)return L.offsetX;var T=g(L),v=T.getBoundingClientRect();return L.clientX-v.left}return 0}U.x=P;function a(L){if(typeof L=="object"){if("offsetY"in L)return L.offsetY;var T=g(L),v=T.getBoundingClientRect();return L.clientY-v.top}return 0}U.y=a},1195:function(H,U,e){var g=e(75686);H.exports=P;function P(a,L,T){typeof a=="function"&&(T=!!L,L=a,a=window);var v=g("ex",a),d=function(t){T&&t.preventDefault();var r=t.deltaX||0,u=t.deltaY||0,n=t.deltaZ||0,s=t.deltaMode,f=1;switch(s){case 1:f=v;break;case 2:f=window.innerHeight;break}if(r*=f,u*=f,n*=f,r||u||n)return L(r,u,n,t)};return a.addEventListener("wheel",d),d}},7417:function(H,U,e){var g;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(a,L,T){L[a]=L[a]||T(),H.exports?H.exports=L[a]:(g=(function(){return L[a]}).call(U,e,U,H),g!==void 0&&(H.exports=g))})("Promise",typeof e.g<"u"?e.g:this,function(){var a,L,T,v=Object.prototype.toString,d=typeof setImmediate<"u"?function(p){return setImmediate(p)}:setTimeout;try{Object.defineProperty({},"x",{}),a=function(p,S,A,E){return Object.defineProperty(p,S,{value:A,writable:!0,configurable:E!==!1})}}catch{a=function(S,A,E){return S[A]=E,S}}T=function(){var p,S,A;function E(m,M){this.fn=m,this.self=M,this.next=void 0}return{add:function(M,w){A=new E(M,w),S?S.next=A:p=A,S=A,A=void 0},drain:function(){var M=p;for(p=S=L=void 0;M;)M.fn.call(M.self),M=M.next}}}();function t(o,p){T.add(o,p),L||(L=d(T.drain))}function r(o){var p,S=typeof o;return o!=null&&(S=="object"||S=="function")&&(p=o.then),typeof p=="function"?p:!1}function u(){for(var o=0;o<this.chain.length;o++)n(this,this.state===1?this.chain[o].success:this.chain[o].failure,this.chain[o]);this.chain.length=0}function n(o,p,S){var A,E;try{p===!1?S.reject(o.msg):(p===!0?A=o.msg:A=p.call(void 0,o.msg),A===S.promise?S.reject(TypeError("Promise-chain cycle")):(E=r(A))?E.call(A,S.resolve,S.reject):S.resolve(A))}catch(m){S.reject(m)}}function s(o){var p,S=this;if(!S.triggered){S.triggered=!0,S.def&&(S=S.def);try{(p=r(o))?t(function(){var A=new x(S);try{p.call(o,function(){s.apply(A,arguments)},function(){f.apply(A,arguments)})}catch(E){f.call(A,E)}}):(S.msg=o,S.state=1,S.chain.length>0&&t(u,S))}catch(A){f.call(new x(S),A)}}}function f(o){var p=this;p.triggered||(p.triggered=!0,p.def&&(p=p.def),p.msg=o,p.state=2,p.chain.length>0&&t(u,p))}function l(o,p,S,A){for(var E=0;E<p.length;E++)(function(M){o.resolve(p[M]).then(function(i){S(M,i)},A)})(E)}function x(o){this.def=o,this.triggered=!1}function c(o){this.promise=o,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function b(o){if(typeof o!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var p=new c(this);this.then=function(A,E){var m={success:typeof A=="function"?A:!0,failure:typeof E=="function"?E:!1};return m.promise=new this.constructor(function(w,i){if(typeof w!="function"||typeof i!="function")throw TypeError("Not a function");m.resolve=w,m.reject=i}),p.chain.push(m),p.state!==0&&t(u,p),m.promise},this.catch=function(A){return this.then(void 0,A)};try{o.call(void 0,function(A){s.call(p,A)},function(A){f.call(p,A)})}catch(S){f.call(p,S)}}var h=a({},"constructor",b,!1);return b.prototype=h,a(h,"__NPO__",0,!1),a(b,"resolve",function(p){var S=this;return p&&typeof p=="object"&&p.__NPO__===1?p:new S(function(E,m){if(typeof E!="function"||typeof m!="function")throw TypeError("Not a function");E(p)})}),a(b,"reject",function(p){return new this(function(A,E){if(typeof A!="function"||typeof E!="function")throw TypeError("Not a function");E(p)})}),a(b,"all",function(p){var S=this;return v.call(p)!="[object Array]"?S.reject(TypeError("Not an array")):p.length===0?S.resolve([]):new S(function(E,m){if(typeof E!="function"||typeof m!="function")throw TypeError("Not a function");var M=p.length,w=Array(M),i=0;l(S,p,function(y,_){w[y]=_,++i===M&&E(w)},m)})}),a(b,"race",function(p){var S=this;return v.call(p)!="[object Array]"?S.reject(TypeError("Not an array")):new S(function(E,m){if(typeof E!="function"||typeof m!="function")throw TypeError("Not a function");l(S,p,function(w,i){E(i)},m)})}),b})},18625:function(H){var U=Math.PI,e=v(120);H.exports=g;function g(d){for(var t,r=[],u=0,n=0,s=0,f=0,l=null,x=null,c=0,b=0,h=0,o=d.length;h<o;h++){var p=d[h],S=p[0];switch(S){case"M":s=p[1],f=p[2];break;case"A":p=L(c,b,p[1],p[2],v(p[3]),p[4],p[5],p[6],p[7]),p.unshift("C"),p.length>7&&(r.push(p.splice(0,7)),p.unshift("C"));break;case"S":var A=c,E=b;(t=="C"||t=="S")&&(A+=A-u,E+=E-n),p=["C",A,E,p[1],p[2],p[3],p[4]];break;case"T":t=="Q"||t=="T"?(l=c*2-l,x=b*2-x):(l=c,x=b),p=a(c,b,l,x,p[1],p[2]);break;case"Q":l=p[1],x=p[2],p=a(c,b,p[1],p[2],p[3],p[4]);break;case"L":p=P(c,b,p[1],p[2]);break;case"H":p=P(c,b,p[1],b);break;case"V":p=P(c,b,c,p[1]);break;case"Z":p=P(c,b,s,f);break}t=S,c=p[p.length-2],b=p[p.length-1],p.length>4?(u=p[p.length-4],n=p[p.length-3]):(u=c,n=b),r.push(p)}return r}function P(d,t,r,u){return["C",d,t,r,u,r,u]}function a(d,t,r,u,n,s){return["C",d/3+.6666666666666666*r,t/3+.6666666666666666*u,n/3+.6666666666666666*r,s/3+.6666666666666666*u,n,s]}function L(d,t,r,u,n,s,f,l,x,c){if(c)w=c[0],i=c[1],m=c[2],M=c[3];else{var b=T(d,t,-n);d=b.x,t=b.y,b=T(l,x,-n),l=b.x,x=b.y;var h=(d-l)/2,o=(t-x)/2,p=h*h/(r*r)+o*o/(u*u);p>1&&(p=Math.sqrt(p),r=p*r,u=p*u);var S=r*r,A=u*u,E=(s==f?-1:1)*Math.sqrt(Math.abs((S*A-S*o*o-A*h*h)/(S*o*o+A*h*h)));E==1/0&&(E=1);var m=E*r*o/u+(d+l)/2,M=E*-u*h/r+(t+x)/2,w=Math.asin(((t-M)/u).toFixed(9)),i=Math.asin(((x-M)/u).toFixed(9));w=d<m?U-w:w,i=l<m?U-i:i,w<0&&(w=U*2+w),i<0&&(i=U*2+i),f&&w>i&&(w=w-U*2),!f&&i>w&&(i=i-U*2)}if(Math.abs(i-w)>e){var C=i,y=l,_=x;i=w+e*(f&&i>w?1:-1),l=m+r*Math.cos(i),x=M+u*Math.sin(i);var I=L(l,x,r,u,n,0,f,y,_,[i,C,m,M])}var N=Math.tan((i-w)/4),k=4/3*r*N,O=4/3*u*N,z=[2*d-(d+k*Math.sin(w)),2*t-(t-O*Math.cos(w)),l+k*Math.sin(i),x-O*Math.cos(i),l,x];if(c)return z;I&&(z=z.concat(I));for(var F=0;F<z.length;){var B=T(z[F],z[F+1],n);z[F++]=B.x,z[F++]=B.y}return z}function T(d,t,r){return{x:d*Math.cos(r)-t*Math.sin(r),y:d*Math.sin(r)+t*Math.cos(r)}}function v(d){return d*(U/180)}},56131:function(H){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var U=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;function P(L){if(L==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(L)}function a(){try{if(!Object.assign)return!1;var L=new String("abc");if(L[5]="de",Object.getOwnPropertyNames(L)[0]==="5")return!1;for(var T={},v=0;v<10;v++)T["_"+String.fromCharCode(v)]=v;var d=Object.getOwnPropertyNames(T).map(function(r){return T[r]});if(d.join("")!=="0123456789")return!1;var t={};return"abcdefghijklmnopqrst".split("").forEach(function(r){t[r]=r}),Object.keys(Object.assign({},t)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}H.exports=a()?Object.assign:function(L,T){for(var v,d=P(L),t,r=1;r<arguments.length;r++){v=Object(arguments[r]);for(var u in v)e.call(v,u)&&(d[u]=v[u]);if(U){t=U(v);for(var n=0;n<t.length;n++)g.call(v,t[n])&&(d[t[n]]=v[t[n]])}}return d}},65848:function(H){var U=function(e){return e!==e};H.exports=function(g,P){return g===0&&P===0?1/g===1/P:!!(g===P||U(g)&&U(P))}},64003:function(H,U,e){var g=e(17045),P=e(68222),a=e(65848),L=e(27015),T=e(55572),v=P(L(),Object);g(v,{getPolyfill:L,implementation:a,shim:T}),H.exports=v},27015:function(H,U,e){var g=e(65848);H.exports=function(){return typeof Object.is=="function"?Object.is:g}},55572:function(H,U,e){var g=e(27015),P=e(17045);H.exports=function(){var L=g();return P(Object,{is:L},{is:function(){return Object.is!==L}}),L}},99019:function(H,U,e){var g;if(!Object.keys){var P=Object.prototype.hasOwnProperty,a=Object.prototype.toString,L=e(64178),T=Object.prototype.propertyIsEnumerable,v=!T.call({toString:null},"toString"),d=T.call(function(){},"prototype"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=function(f){var l=f.constructor;return l&&l.prototype===f},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window>"u")return!1;for(var f in window)try{if(!u["$"+f]&&P.call(window,f)&&window[f]!==null&&typeof window[f]=="object")try{r(window[f])}catch{return!0}}catch{return!0}return!1}(),s=function(f){if(typeof window>"u"||!n)return r(f);try{return r(f)}catch{return!1}};g=function(l){var x=l!==null&&typeof l=="object",c=a.call(l)==="[object Function]",b=L(l),h=x&&a.call(l)==="[object String]",o=[];if(!x&&!c&&!b)throw new TypeError("Object.keys called on a non-object");var p=d&&c;if(h&&l.length>0&&!P.call(l,0))for(var S=0;S<l.length;++S)o.push(String(S));if(b&&l.length>0)for(var A=0;A<l.length;++A)o.push(String(A));else for(var E in l)!(p&&E==="prototype")&&P.call(l,E)&&o.push(String(E));if(v)for(var m=s(l),M=0;M<t.length;++M)!(m&&t[M]==="constructor")&&P.call(l,t[M])&&o.push(t[M]);return o}}H.exports=g},8709:function(H,U,e){var g=Array.prototype.slice,P=e(64178),a=Object.keys,L=a?function(d){return a(d)}:e(99019),T=Object.keys;L.shim=function(){if(Object.keys){var d=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);d||(Object.keys=function(r){return P(r)?T(g.call(r)):T(r)})}else Object.keys=L;return Object.keys||L},H.exports=L},64178:function(H){var U=Object.prototype.toString;H.exports=function(g){var P=U.call(g),a=P==="[object Arguments]";return a||(a=P!=="[object Array]"&&g!==null&&typeof g=="object"&&typeof g.length=="number"&&g.length>=0&&U.call(g.callee)==="[object Function]"),a}},88641:function(H){function U(P,a){if(typeof P!="string")return[P];var L=[P];typeof a=="string"||Array.isArray(a)?a={brackets:a}:a||(a={});var T=a.brackets?Array.isArray(a.brackets)?a.brackets:[a.brackets]:["{}","[]","()"],v=a.escape||"___",d=!!a.flat;T.forEach(function(u){var n=new RegExp(["\\",u[0],"[^\\",u[0],"\\",u[1],"]*\\",u[1]].join("")),s=[];function f(l,x,c){var b=L.push(l.slice(u[0].length,-u[1].length))-1;return s.push(b),v+b+v}L.forEach(function(l,x){for(var c,b=0;l!=c;)if(c=l,l=l.replace(n,f),b++>1e4)throw Error("References have circular dependency. Please, check them.");L[x]=l}),s=s.reverse(),L=L.map(function(l){return s.forEach(function(x){l=l.replace(new RegExp("(\\"+v+x+"\\"+v+")","g"),u[0]+"$1"+u[1])}),l})});var t=new RegExp("\\"+v+"([0-9]+)\\"+v);function r(u,n,s){for(var f=[],l,x=0;l=t.exec(u);){if(x++>1e4)throw Error("Circular references in parenthesis");f.push(u.slice(0,l.index)),f.push(r(n[l[1]],n)),u=u.slice(l.index+l[0].length)}return f.push(u),f}return d?L:r(L[0],L)}function e(P,a){if(a&&a.flat){var L=a&&a.escape||"___",T=P[0],v;if(!T)return"";for(var d=new RegExp("\\"+L+"([0-9]+)\\"+L),t=0;T!=v;){if(t++>1e4)throw Error("Circular references in "+P);v=T,T=T.replace(d,r)}return T}return P.reduce(function u(n,s){return Array.isArray(s)&&(s=s.reduce(u,"")),n+s},"");function r(u,n){if(P[n]==null)throw Error("Reference "+n+"is undefined");return P[n]}}function g(P,a){return Array.isArray(P)?e(P,a):U(P,a)}g.parse=U,g.stringify=e,H.exports=g},18863:function(H,U,e){var g=e(71299);H.exports=P;function P(a){var L;return arguments.length>1&&(a=arguments),typeof a=="string"?a=a.split(/\s/).map(parseFloat):typeof a=="number"&&(a=[a]),a.length&&typeof a[0]=="number"?a.length===1?L={width:a[0],height:a[0],x:0,y:0}:a.length===2?L={width:a[0],height:a[1],x:0,y:0}:L={x:a[0],y:a[1],width:a[2]-a[0]||0,height:a[3]-a[1]||0}:a&&(a=g(a,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),L={x:a.left||0,y:a.top||0},a.width==null?a.right?L.width=a.right-L.x:L.width=0:L.width=a.width,a.height==null?a.bottom?L.height=a.bottom-L.y:L.height=0:L.height=a.height),L}},95616:function(H){H.exports=g;var U={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function g(L){var T=[];return L.replace(e,function(v,d,t){var r=d.toLowerCase();for(t=a(t),r=="m"&&t.length>2&&(T.push([d].concat(t.splice(0,2))),r="l",d=d=="m"?"l":"L");;){if(t.length==U[r])return t.unshift(d),T.push(t);if(t.length<U[r])throw new Error("malformed path data");T.push([d].concat(t.splice(0,U[r])))}}),T}var P=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function a(L){var T=L.match(P);return T?T.map(Number):[]}},25677:function(H){H.exports=function(e,g){g||(g=[0,""]),e=String(e);var P=parseFloat(e,10);return g[0]=P,g[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",g}},9748:function(H,U,e){var g=e(90386);(function(){var P,a,L,T,v,d;typeof performance<"u"&&performance!==null&&performance.now?H.exports=function(){return performance.now()}:typeof g<"u"&&g!==null&&g.hrtime?(H.exports=function(){return(P()-v)/1e6},a=g.hrtime,P=function(){var t;return t=a(),t[0]*1e9+t[1]},T=P(),d=g.uptime()*1e9,v=T-d):Date.now?(H.exports=function(){return Date.now()-L},L=Date.now()):(H.exports=function(){return new Date().getTime()-L},L=new Date().getTime())}).call(this)},71299:function(H){H.exports=function(P,a,L){var T={},v,d;if(typeof a=="string"&&(a=e(a)),Array.isArray(a)){var t={};for(d=0;d<a.length;d++)t[a[d]]=!0;a=t}for(v in a)a[v]=e(a[v]);var r={};for(v in a){var u=a[v];if(Array.isArray(u))for(d=0;d<u.length;d++){var n=u[d];if(L&&(r[n]=!0),n in P){if(T[v]=P[n],L)for(var s=d;s<u.length;s++)r[u[s]]=!0;break}}else v in P&&(a[v]&&(T[v]=P[v]),L&&(r[v]=!0))}if(L)for(v in P)r[v]||(T[v]=P[v]);return T};var U={};function e(g){return U[g]?U[g]:(typeof g=="string"&&(g=U[g]=g.split(/\s*,\s*|\s+/)),g)}},38258:function(H){H.exports=function(e,g,P,a){var L=e[0],T=e[1],v=!1;P===void 0&&(P=0),a===void 0&&(a=g.length);for(var d=a-P,t=0,r=d-1;t<d;r=t++){var u=g[t+P][0],n=g[t+P][1],s=g[r+P][0],f=g[r+P][1],l=n>T!=f>T&&L<(s-u)*(T-n)/(f-n)+u;l&&(v=!v)}return v}},52142:function(H,U,e){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var g=e(69444),P=e(29023),a=e(87263),L=e(11328),T=e(55968),v=e(10670),d=!1,t=P(),r;r={buildLog:function(n){return n===!0?d=g():n===!1&&(d=!1),d===!1?!1:d.list},epsilon:function(n){return t.epsilon(n)},segments:function(n){var s=a(!0,t,d);return n.regions.forEach(s.addRegion),{segments:s.calculate(n.inverted),inverted:n.inverted}},combine:function(n,s){var f=a(!1,t,d);return{combined:f.calculate(n.segments,n.inverted,s.segments,s.inverted),inverted1:n.inverted,inverted2:s.inverted}},selectUnion:function(n){return{segments:T.union(n.combined,d),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:T.intersect(n.combined,d),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:T.difference(n.combined,d),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:T.differenceRev(n.combined,d),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:T.xor(n.combined,d),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:L(n.segments,t,d),inverted:n.inverted}},polygonFromGeoJSON:function(n){return v.toPolygon(r,n)},polygonToGeoJSON:function(n){return v.fromPolygon(r,t,n)},union:function(n,s){return u(n,s,r.selectUnion)},intersect:function(n,s){return u(n,s,r.selectIntersect)},difference:function(n,s){return u(n,s,r.selectDifference)},differenceRev:function(n,s){return u(n,s,r.selectDifferenceRev)},xor:function(n,s){return u(n,s,r.selectXor)}};function u(n,s,f){var l=r.segments(n),x=r.segments(s),c=r.combine(l,x),b=f(c);return r.polygon(b)}typeof window=="object"&&(window.PolyBool=r),H.exports=r},69444:function(H){function U(){var e,g=0,P=!1;function a(L,T){return e.list.push({type:L,data:T?JSON.parse(JSON.stringify(T)):void 0}),e}return e={list:[],segmentId:function(){return g++},checkIntersection:function(L,T){return a("check",{seg1:L,seg2:T})},segmentChop:function(L,T){return a("div_seg",{seg:L,pt:T}),a("chop",{seg:L,pt:T})},statusRemove:function(L){return a("pop_seg",{seg:L})},segmentUpdate:function(L){return a("seg_update",{seg:L})},segmentNew:function(L,T){return a("new_seg",{seg:L,primary:T})},segmentRemove:function(L){return a("rem_seg",{seg:L})},tempStatus:function(L,T,v){return a("temp_status",{seg:L,above:T,below:v})},rewind:function(L){return a("rewind",{seg:L})},status:function(L,T,v){return a("status",{seg:L,above:T,below:v})},vert:function(L){return L===P?e:(P=L,a("vert",{x:L}))},log:function(L){return typeof L!="string"&&(L=JSON.stringify(L,!1,"  ")),a("log",{txt:L})},reset:function(){return a("reset")},selected:function(L){return a("selected",{segs:L})},chainStart:function(L){return a("chain_start",{seg:L})},chainRemoveHead:function(L,T){return a("chain_rem_head",{index:L,pt:T})},chainRemoveTail:function(L,T){return a("chain_rem_tail",{index:L,pt:T})},chainNew:function(L,T){return a("chain_new",{pt1:L,pt2:T})},chainMatch:function(L){return a("chain_match",{index:L})},chainClose:function(L){return a("chain_close",{index:L})},chainAddHead:function(L,T){return a("chain_add_head",{index:L,pt:T})},chainAddTail:function(L,T){return a("chain_add_tail",{index:L,pt:T})},chainConnect:function(L,T){return a("chain_con",{index1:L,index2:T})},chainReverse:function(L){return a("chain_rev",{index:L})},chainJoin:function(L,T){return a("chain_join",{index1:L,index2:T})},done:function(){return a("done")}},e}H.exports=U},29023:function(H){function U(e){typeof e!="number"&&(e=1e-10);var g={epsilon:function(P){return typeof P=="number"&&(e=P),e},pointAboveOrOnLine:function(P,a,L){var T=a[0],v=a[1],d=L[0],t=L[1],r=P[0],u=P[1];return(d-T)*(u-v)-(t-v)*(r-T)>=-e},pointBetween:function(P,a,L){var T=P[1]-a[1],v=L[0]-a[0],d=P[0]-a[0],t=L[1]-a[1],r=d*v+T*t;if(r<e)return!1;var u=v*v+t*t;return!(r-u>-e)},pointsSameX:function(P,a){return Math.abs(P[0]-a[0])<e},pointsSameY:function(P,a){return Math.abs(P[1]-a[1])<e},pointsSame:function(P,a){return g.pointsSameX(P,a)&&g.pointsSameY(P,a)},pointsCompare:function(P,a){return g.pointsSameX(P,a)?g.pointsSameY(P,a)?0:P[1]<a[1]?-1:1:P[0]<a[0]?-1:1},pointsCollinear:function(P,a,L){var T=P[0]-a[0],v=P[1]-a[1],d=a[0]-L[0],t=a[1]-L[1];return Math.abs(T*t-d*v)<e},linesIntersect:function(P,a,L,T){var v=a[0]-P[0],d=a[1]-P[1],t=T[0]-L[0],r=T[1]-L[1],u=v*r-d*t;if(Math.abs(u)<e)return!1;var n=P[0]-L[0],s=P[1]-L[1],f=(t*s-r*n)/u,l=(v*s-d*n)/u,x={alongA:0,alongB:0,pt:[P[0]+f*v,P[1]+f*d]};return f<=-e?x.alongA=-2:f<e?x.alongA=-1:f-1<=-e?x.alongA=0:f-1<e?x.alongA=1:x.alongA=2,l<=-e?x.alongB=-2:l<e?x.alongB=-1:l-1<=-e?x.alongB=0:l-1<e?x.alongB=1:x.alongB=2,x},pointInsideRegion:function(P,a){for(var L=P[0],T=P[1],v=a[a.length-1][0],d=a[a.length-1][1],t=!1,r=0;r<a.length;r++){var u=a[r][0],n=a[r][1];n-T>e!=d-T>e&&(v-u)*(T-n)/(d-n)+u-L>e&&(t=!t),v=u,d=n}return t}};return g}H.exports=U},10670:function(H){var U={toPolygon:function(e,g){function P(T){if(T.length<=0)return e.segments({inverted:!1,regions:[]});function v(r){var u=r.slice(0,r.length-1);return e.segments({inverted:!1,regions:[u]})}for(var d=v(T[0]),t=1;t<T.length;t++)d=e.selectDifference(e.combine(d,v(T[t])));return d}if(g.type==="Polygon")return e.polygon(P(g.coordinates));if(g.type==="MultiPolygon"){for(var a=e.segments({inverted:!1,regions:[]}),L=0;L<g.coordinates.length;L++)a=e.selectUnion(e.combine(a,P(g.coordinates[L])));return e.polygon(a)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,g,P){P=e.polygon(e.segments(P));function a(f,l){return g.pointInsideRegion([(f[0][0]+f[1][0])*.5,(f[0][1]+f[1][1])*.5],l)}function L(f){return{region:f,children:[]}}var T=L(null);function v(f,l){for(var x=0;x<f.children.length;x++){var c=f.children[x];if(a(l,c.region)){v(c,l);return}}for(var b=L(l),x=0;x<f.children.length;x++){var c=f.children[x];a(c.region,l)&&(b.children.push(c),f.children.splice(x,1),x--)}f.children.push(b)}for(var d=0;d<P.regions.length;d++){var t=P.regions[d];t.length<3||v(T,t)}function r(f,l){for(var x=0,c=f[f.length-1][0],b=f[f.length-1][1],h=[],o=0;o<f.length;o++){var p=f[o][0],S=f[o][1];h.push([p,S]),x+=S*c-p*b,c=p,b=S}var A=x<0;return A!==l&&h.reverse(),h.push([h[0][0],h[0][1]]),h}var u=[];function n(f){var l=[r(f.region,!1)];u.push(l);for(var x=0;x<f.children.length;x++)l.push(s(f.children[x]))}function s(f){for(var l=0;l<f.children.length;l++)n(f.children[l]);return r(f.region,!0)}for(var d=0;d<T.children.length;d++)n(T.children[d]);return u.length<=0?{type:"Polygon",coordinates:[]}:u.length==1?{type:"Polygon",coordinates:u[0]}:{type:"MultiPolygon",coordinates:u}}};H.exports=U},87263:function(H,U,e){var g=e(26859);function P(a,L,T){function v(b,h){return{id:T?T.segmentId():-1,start:b,end:h,myFill:{above:null,below:null},otherFill:null}}function d(b,h,o){return{id:T?T.segmentId():-1,start:b,end:h,myFill:{above:o.myFill.above,below:o.myFill.below},otherFill:null}}var t=g.create();function r(b,h,o,p,S,A){var E=L.pointsCompare(h,S);return E!==0?E:L.pointsSame(o,A)?0:b!==p?b?1:-1:L.pointAboveOrOnLine(o,p?S:A,p?A:S)?1:-1}function u(b,h){t.insertBefore(b,function(o){var p=r(b.isStart,b.pt,h,o.isStart,o.pt,o.other.pt);return p<0})}function n(b,h){var o=g.node({isStart:!0,pt:b.start,seg:b,primary:h,other:null,status:null});return u(o,b.end),o}function s(b,h,o){var p=g.node({isStart:!1,pt:h.end,seg:h,primary:o,other:b,status:null});b.other=p,u(p,b.pt)}function f(b,h){var o=n(b,h);return s(o,b,h),o}function l(b,h){T&&T.segmentChop(b.seg,h),b.other.remove(),b.seg.end=h,b.other.pt=h,u(b.other,b.pt)}function x(b,h){var o=d(h,b.seg.end,b.seg);return l(b,h),f(o,b.primary)}function c(b,h){var o=g.create();function p(k,O){var z=k.seg.start,F=k.seg.end,B=O.seg.start,G=O.seg.end;return L.pointsCollinear(z,B,G)?L.pointsCollinear(F,B,G)||L.pointAboveOrOnLine(F,B,G)?1:-1:L.pointAboveOrOnLine(z,B,G)?1:-1}function S(k){return o.findTransition(function(O){var z=p(k,O.ev);return z>0})}function A(k,O){var z=k.seg,F=O.seg,B=z.start,G=z.end,Q=F.start,ee=F.end;T&&T.checkIntersection(z,F);var ae=L.linesIntersect(B,G,Q,ee);if(ae===!1){if(!L.pointsCollinear(B,G,Q)||L.pointsSame(B,ee)||L.pointsSame(G,Q))return!1;var fe=L.pointsSame(B,Q),K=L.pointsSame(G,ee);if(fe&&K)return O;var W=!fe&&L.pointBetween(B,Q,ee),Z=!K&&L.pointBetween(G,Q,ee);if(fe)return Z?x(O,G):x(k,ee),O;W&&(K||(Z?x(O,G):x(k,ee)),x(O,B))}else ae.alongA===0&&(ae.alongB===-1?x(k,Q):ae.alongB===0?x(k,ae.pt):ae.alongB===1&&x(k,ee)),ae.alongB===0&&(ae.alongA===-1?x(O,B):ae.alongA===0?x(O,ae.pt):ae.alongA===1&&x(O,G));return!1}for(var E=[];!t.isEmpty();){var m=t.getHead();if(T&&T.vert(m.pt[0]),m.isStart){let k=function(){if(w){var O=A(m,w);if(O)return O}return i?A(m,i):!1};T&&T.segmentNew(m.seg,m.primary);var M=S(m),w=M.before?M.before.ev:null,i=M.after?M.after.ev:null;T&&T.tempStatus(m.seg,w?w.seg:!1,i?i.seg:!1);var C=k();if(C){if(a){var y;m.seg.myFill.below===null?y=!0:y=m.seg.myFill.above!==m.seg.myFill.below,y&&(C.seg.myFill.above=!C.seg.myFill.above)}else C.seg.otherFill=m.seg.myFill;T&&T.segmentUpdate(C.seg),m.other.remove(),m.remove()}if(t.getHead()!==m){T&&T.rewind(m.seg);continue}if(a){var y;m.seg.myFill.below===null?y=!0:y=m.seg.myFill.above!==m.seg.myFill.below,i?m.seg.myFill.below=i.seg.myFill.above:m.seg.myFill.below=b,y?m.seg.myFill.above=!m.seg.myFill.below:m.seg.myFill.above=m.seg.myFill.below}else if(m.seg.otherFill===null){var _;i?m.primary===i.primary?_=i.seg.otherFill.above:_=i.seg.myFill.above:_=m.primary?h:b,m.seg.otherFill={above:_,below:_}}T&&T.status(m.seg,w?w.seg:!1,i?i.seg:!1),m.other.status=M.insert(g.node({ev:m}))}else{var I=m.status;if(I===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(o.exists(I.prev)&&o.exists(I.next)&&A(I.prev.ev,I.next.ev),T&&T.statusRemove(I.ev.seg),I.remove(),!m.primary){var N=m.seg.myFill;m.seg.myFill=m.seg.otherFill,m.seg.otherFill=N}E.push(m.seg)}t.getHead().remove()}return T&&T.done(),E}return a?{addRegion:function(b){for(var h,o=b[b.length-1],p=0;p<b.length;p++){h=o,o=b[p];var S=L.pointsCompare(h,o);S!==0&&f(v(S<0?h:o,S<0?o:h),!0)}},calculate:function(b){return c(b,!1)}}:{calculate:function(b,h,o,p){return b.forEach(function(S){f(d(S.start,S.end,S),!0)}),o.forEach(function(S){f(d(S.start,S.end,S),!1)}),c(h,p)}}}H.exports=P},26859:function(H){var U={create:function(){var e={root:{root:!0,next:null},exists:function(g){return!(g===null||g===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(g,P){for(var a=e.root,L=e.root.next;L!==null;){if(P(L)){g.prev=L.prev,g.next=L,L.prev.next=g,L.prev=g;return}a=L,L=L.next}a.next=g,g.prev=a,g.next=null},findTransition:function(g){for(var P=e.root,a=e.root.next;a!==null&&!g(a);)P=a,a=a.next;return{before:P===e.root?null:P,after:a,insert:function(L){return L.prev=P,L.next=a,P.next=L,a!==null&&(a.prev=L),L}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};H.exports=U},11328:function(H){function U(e,g,P){var a=[],L=[];return e.forEach(function(T){var v=T.start,d=T.end;if(g.pointsSame(v,d)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}P&&P.chainStart(T);var t={index:0,matches_head:!1,matches_pt1:!1},r={index:0,matches_head:!1,matches_pt1:!1},u=t;function n(C,y,_){return u.index=C,u.matches_head=y,u.matches_pt1=_,u===t?(u=r,!1):(u=null,!0)}for(var s=0;s<a.length;s++){var f=a[s],l=f[0];f[1];var x=f[f.length-1];if(f[f.length-2],g.pointsSame(l,v)){if(n(s,!0,!0))break}else if(g.pointsSame(l,d)){if(n(s,!0,!1))break}else if(g.pointsSame(x,v)){if(n(s,!1,!0))break}else if(g.pointsSame(x,d)&&n(s,!1,!1))break}if(u===t){a.push([v,d]),P&&P.chainNew(v,d);return}if(u===r){P&&P.chainMatch(t.index);var c=t.index,b=t.matches_pt1?d:v,h=t.matches_head,f=a[c],o=h?f[0]:f[f.length-1],p=h?f[1]:f[f.length-2],S=h?f[f.length-1]:f[0],A=h?f[f.length-2]:f[1];if(g.pointsCollinear(p,o,b)&&(h?(P&&P.chainRemoveHead(t.index,b),f.shift()):(P&&P.chainRemoveTail(t.index,b),f.pop()),o=p),g.pointsSame(S,b)){a.splice(c,1),g.pointsCollinear(A,S,o)&&(h?(P&&P.chainRemoveTail(t.index,o),f.pop()):(P&&P.chainRemoveHead(t.index,o),f.shift())),P&&P.chainClose(t.index),L.push(f);return}h?(P&&P.chainAddHead(t.index,b),f.unshift(b)):(P&&P.chainAddTail(t.index,b),f.push(b));return}function E(C){P&&P.chainReverse(C),a[C].reverse()}function m(C,y){var _=a[C],I=a[y],N=_[_.length-1],k=_[_.length-2],O=I[0],z=I[1];g.pointsCollinear(k,N,O)&&(P&&P.chainRemoveTail(C,N),_.pop(),N=k),g.pointsCollinear(N,O,z)&&(P&&P.chainRemoveHead(y,O),I.shift()),P&&P.chainJoin(C,y),a[C]=_.concat(I),a.splice(y,1)}var M=t.index,w=r.index;P&&P.chainConnect(M,w);var i=a[M].length<a[w].length;t.matches_head?r.matches_head?i?(E(M),m(M,w)):(E(w),m(w,M)):m(w,M):r.matches_head?m(M,w):i?(E(M),m(w,M)):(E(w),m(M,w))}),L}H.exports=U},55968:function(H){function U(g,P,a){var L=[];return g.forEach(function(T){var v=(T.myFill.above?8:0)+(T.myFill.below?4:0)+(T.otherFill&&T.otherFill.above?2:0)+(T.otherFill&&T.otherFill.below?1:0);P[v]!==0&&L.push({id:a?a.segmentId():-1,start:T.start,end:T.end,myFill:{above:P[v]===1,below:P[v]===2},otherFill:null})}),a&&a.selected(L),L}var e={union:function(g,P){return U(g,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],P)},intersect:function(g,P){return U(g,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],P)},difference:function(g,P){return U(g,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],P)},differenceRev:function(g,P){return U(g,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],P)},xor:function(g,P){return U(g,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],P)}};H.exports=e},14847:function(H,U,e){var g=e(21630).Transform,P=e(90715);function a(){g.call(this,{readableObjectMode:!0})}a.prototype=Object.create(g.prototype),a.prototype.constructor=a,P(a.prototype),U.OF=function(T,v,d){for(var t=v,r=0;r<d.length;)if(T[t++]!==d[r++])return!1;return!0},U.eG=function(T,v){var d=[],t=0;if(v&&v==="hex")for(;t<T.length;)d.push(parseInt(T.slice(t,t+2),16)),t+=2;else for(;t<T.length;t++)d.push(T.charCodeAt(t)&255);return d},U.mP=function(T,v){return T[v]|T[v+1]<<8},U.n8=function(T,v){return T[v+1]|T[v]<<8},U.nm=function(T,v){return T[v]|T[v+1]<<8|T[v+2]<<16|T[v+3]*16777216},U.Ag=function(T,v){return T[v+3]|T[v+2]<<8|T[v+1]<<16|T[v]*16777216};function L(T,v,d){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=T,v&&(this.code=v),d&&(this.statusCode=d)}L.prototype=Object.create(Error.prototype),L.prototype.constructor=L},71371:function(H){function U(P,a){var L=new Error(P);return L.code=a,L}function e(P){try{return decodeURIComponent(escape(P))}catch{return P}}function g(P,a,L){this.input=P.subarray(a,L),this.start=a;var T=String.fromCharCode.apply(null,this.input.subarray(0,4));if(T!=="II*\0"&&T!=="MM\0*")throw U("invalid TIFF signature","EBADDATA");this.big_endian=T[0]==="M"}g.prototype.each=function(P){this.aborted=!1;var a=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:a}];this.ifds_to_read.length>0&&!this.aborted;){var L=this.ifds_to_read.shift();L.offset&&this.scan_ifd(L.id,L.offset,P)}},g.prototype.read_uint16=function(P){var a=this.input;if(P+2>a.length)throw U("unexpected EOF","EBADDATA");return this.big_endian?a[P]*256+a[P+1]:a[P]+a[P+1]*256},g.prototype.read_uint32=function(P){var a=this.input;if(P+4>a.length)throw U("unexpected EOF","EBADDATA");return this.big_endian?a[P]*16777216+a[P+1]*65536+a[P+2]*256+a[P+3]:a[P]+a[P+1]*256+a[P+2]*65536+a[P+3]*16777216},g.prototype.is_subifd_link=function(P,a){return P===0&&a===34665||P===0&&a===34853||P===34665&&a===40965},g.prototype.exif_format_length=function(P){switch(P){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},g.prototype.exif_format_read=function(P,a){var L;switch(P){case 1:case 2:return L=this.input[a],L;case 6:return L=this.input[a],L|(L&128)*33554430;case 3:return L=this.read_uint16(a),L;case 8:return L=this.read_uint16(a),L|(L&32768)*131070;case 4:return L=this.read_uint32(a),L;case 9:return L=this.read_uint32(a),L|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},g.prototype.scan_ifd=function(P,a,L){var T=this.read_uint16(a);a+=2;for(var v=0;v<T;v++){var d=this.read_uint16(a),t=this.read_uint16(a+2),r=this.read_uint32(a+4),u=this.exif_format_length(t),n=r*u,s=n<=4?a+8:this.read_uint32(a+8),f=!1;if(s+n>this.input.length)throw U("unexpected EOF","EBADDATA");for(var l=[],x=s,c=0;c<r;c++,x+=u){var b=this.exif_format_read(t,x);if(b===null){l=null;break}l.push(b)}Array.isArray(l)&&t===2&&(l=e(String.fromCharCode.apply(null,l)),l&&l[l.length-1]==="\0"&&(l=l.slice(0,-1))),this.is_subifd_link(P,d)&&Array.isArray(l)&&Number.isInteger(l[0])&&l[0]>0&&(this.ifds_to_read.push({id:d,offset:l[0]}),f=!0);var h={is_big_endian:this.big_endian,ifd:P,tag:d,format:t,count:r,entry_offset:a+this.start,data_length:n,data_offset:s+this.start,value:l,is_subifd_link:f};if(L(h)===!1){this.aborted=!0;return}a+=12}P===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(a)})},H.exports.ExifParser=g,H.exports.get_orientation=function(P){var a=0;try{return new g(P,0,P.length).each(function(L){if(L.ifd===0&&L.tag===274&&Array.isArray(L.value))return a=L.value[0],!1}),a}catch{return-1}}},76767:function(H,U,e){var g=e(14847).n8,P=e(14847).Ag;function a(n,s){if(n.length<4+s)return null;var f=P(n,s);return n.length<f+s||f<8?null:{boxtype:String.fromCharCode.apply(null,n.slice(s+4,s+8)),data:n.slice(s+8,s+f),end:s+f}}H.exports.unbox=a;function L(n,s){for(var f=0;;){var l=a(n,f);if(!l)break;switch(l.boxtype){case"ispe":s.sizes.push({width:P(l.data,4),height:P(l.data,8)});break;case"irot":s.transforms.push({type:"irot",value:l.data[0]&3});break;case"imir":s.transforms.push({type:"imir",value:l.data[0]&1});break}f=l.end}}function T(n,s,f){for(var l=0,x=0;x<f;x++)l=l*256+(n[s+x]||0);return l}function v(n,s){for(var f=n[4]>>4&15,l=n[4]&15,x=n[5]>>4&15,c=g(n,6),b=8,h=0;h<c;h++){var o=g(n,b);b+=2;var p=g(n,b);b+=2;var S=T(n,b,x);b+=x;var A=g(n,b);if(b+=2,p===0&&A===1){var E=T(n,b,f),m=T(n,b+f,l);s.item_loc[o]={length:m,offset:E+S}}b+=A*(f+l)}}function d(n,s){for(var f=g(n,4),l=6,x=0;x<f;x++){var c=a(n,l);if(!c)break;if(c.boxtype==="infe"){for(var b=g(c.data,4),h="",o=8;o<c.data.length&&c.data[o];o++)h+=String.fromCharCode(c.data[o]);s.item_inf[h]=b}l=c.end}}function t(n,s){for(var f=0;;){var l=a(n,f);if(!l)break;l.boxtype==="ipco"&&L(l.data,s),f=l.end}}function r(n,s){for(var f=4;;){var l=a(n,f);if(!l)break;l.boxtype==="iprp"&&t(l.data,s),l.boxtype==="iloc"&&v(l.data,s),l.boxtype==="iinf"&&d(l.data,s),f=l.end}}function u(n){var s=n.reduce(function(x,c){return x.width>c.width||x.width===c.width&&x.height>c.height?x:c}),f=n.reduce(function(x,c){return x.height>c.height||x.height===c.height&&x.width>c.width?x:c}),l;return s.width>f.height||s.width===f.height&&s.height>f.width?l=s:l=f,l}H.exports.readSizeFromMeta=function(n){var s={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(r(n,s),!!s.sizes.length){var f=u(s.sizes),l=1;s.transforms.forEach(function(c){var b={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},h={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(c.type==="imir"&&(c.value===0?l=h[l]:(l=h[l],l=b[l],l=b[l])),c.type==="irot")for(var o=0;o<c.value;o++)l=b[l]});var x=null;return s.item_inf.Exif&&(x=s.item_loc[s.item_inf.Exif]),{width:f.width,height:f.height,orientation:s.transforms.length?l:null,variants:s.sizes,exif_location:x}}},H.exports.getMimeType=function(n){var s=String.fromCharCode.apply(null,n.slice(0,4)),f={};f[s]=!0;for(var l=8;l<n.length;l+=4)f[String.fromCharCode.apply(null,n.slice(l,l+4))]=!0;if(!(!f.mif1&&!f.msf1&&!f.miaf))return s==="avif"||s==="avis"||s==="avio"?{type:"avif",mime:"image/avif"}:s==="heic"||s==="heix"?{type:"heic",mime:"image/heic"}:s==="hevc"||s==="hevx"?{type:"heic",mime:"image/heic-sequence"}:f.avif||f.avis?{type:"avif",mime:"image/avif"}:f.heic||f.heix||f.hevc||f.hevx||f.heis?f.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},24461:function(H,U,e){var g=e(14847).eG,P=e(14847).OF,a=e(14847).Ag,L=e(76767),T=e(71371),v=g("ftyp");H.exports=function(d){if(P(d,4,v)){var t=L.unbox(d,0);if(t){var r=L.getMimeType(t.data);if(r){for(var u,n=t.end;;){var s=L.unbox(d,n);if(!s)break;if(n=s.end,s.boxtype==="mdat")return;if(s.boxtype==="meta"){u=s.data;break}}if(u){var f=L.readSizeFromMeta(u);if(f){var l={width:f.width,height:f.height,type:r.type,mime:r.mime,wUnits:"px",hUnits:"px"};if(f.variants.length>1&&(l.variants=f.variants),f.orientation&&(l.orientation=f.orientation),f.exif_location&&f.exif_location.offset+f.exif_location.length<=d.length){var x=a(d,f.exif_location.offset),c=d.slice(f.exif_location.offset+x+4,f.exif_location.offset+f.exif_location.length),b=T.get_orientation(c);b>0&&(l.orientation=b)}return l}}}}}}},2504:function(H,U,e){var g=e(14847).eG,P=e(14847).OF,a=e(14847).mP,L=g("BM");H.exports=function(T){if(!(T.length<26)&&P(T,0,L))return{width:a(T,18),height:a(T,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},47342:function(H,U,e){var g=e(14847).eG,P=e(14847).OF,a=e(14847).mP,L=g("GIF87a"),T=g("GIF89a");H.exports=function(v){if(!(v.length<10)&&!(!P(v,0,L)&&!P(v,0,T)))return{width:a(v,6),height:a(v,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},31355:function(H,U,e){var g=e(14847).mP,P=0,a=1,L=16;H.exports=function(T){var v=g(T,0),d=g(T,2),t=g(T,4);if(!(v!==P||d!==a||!t)){for(var r=[],u={width:0,height:0},n=0;n<t;n++){var s=T[6+L*n]||256,f=T[6+L*n+1]||256,l={width:s,height:f};r.push(l),(s>u.width||f>u.height)&&(u=l)}return{width:u.width,height:u.height,variants:r,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},54261:function(H,U,e){var g=e(14847).n8,P=e(14847).eG,a=e(14847).OF,L=e(71371),T=P("Exif\0\0");H.exports=function(v){if(!(v.length<2)&&!(v[0]!==255||v[1]!==216||v[2]!==255))for(var d=2;;){for(;;){if(v.length-d<2)return;if(v[d++]===255)break}for(var t=v[d++],r;t===255;)t=v[d++];if(208<=t&&t<=217||t===1)r=0;else if(192<=t&&t<=254){if(v.length-d<2)return;r=g(v,d)-2,d+=2}else return;if(t===217||t===218)return;var u;if(t===225&&r>=10&&a(v,d,T)&&(u=L.get_orientation(v.slice(d+6,d+r))),r>=5&&192<=t&&t<=207&&t!==196&&t!==200&&t!==204){if(v.length-d<r)return;var n={width:g(v,d+3),height:g(v,d+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return u>0&&(n.orientation=u),n}d+=r}}},6303:function(H,U,e){var g=e(14847).eG,P=e(14847).OF,a=e(14847).Ag,L=g(`PNG\r

`),T=g("IHDR");H.exports=function(v){if(!(v.length<24)&&P(v,0,L)&&P(v,12,T))return{width:a(v,16),height:a(v,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},38689:function(H,U,e){var g=e(14847).eG,P=e(14847).OF,a=e(14847).Ag,L=g("8BPS\0");H.exports=function(T){if(!(T.length<22)&&P(T,0,L))return{width:a(T,18),height:a(T,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},6881:function(H){function U(u){return u===32||u===9||u===13||u===10}function e(u){return typeof u=="number"&&isFinite(u)&&u>0}function g(u){var n=0,s=u.length;for(u[0]===239&&u[1]===187&&u[2]===191&&(n=3);n<s&&U(u[n]);)n++;return n===s?!1:u[n]===60}var P=/<[-_.:a-zA-Z0-9][^>]*>/,a=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,L=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,T=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,v=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,d=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function t(u){var n=u.match(L),s=u.match(T),f=u.match(v);return{width:n&&(n[1]||n[2]),height:s&&(s[1]||s[2]),viewbox:f&&(f[1]||f[2])}}function r(u){return d.test(u)?u.match(d)[0]:"px"}H.exports=function(u){if(g(u)){for(var n="",s=0;s<u.length;s++)n+=String.fromCharCode(u[s]);var f=(n.match(P)||[""])[0];if(a.test(f)){var l=t(f),x=parseFloat(l.width),c=parseFloat(l.height);if(l.width&&l.height)return!e(x)||!e(c)?void 0:{width:x,height:c,type:"svg",mime:"image/svg+xml",wUnits:r(l.width),hUnits:r(l.height)};var b=(l.viewbox||"").split(" "),h={width:b[2],height:b[3]},o=parseFloat(h.width),p=parseFloat(h.height);if(!(!e(o)||!e(p))&&r(h.width)===r(h.height)){var S=o/p;return l.width?e(x)?{width:x,height:x/S,type:"svg",mime:"image/svg+xml",wUnits:r(l.width),hUnits:r(l.width)}:void 0:l.height?e(c)?{width:c*S,height:c,type:"svg",mime:"image/svg+xml",wUnits:r(l.height),hUnits:r(l.height)}:void 0:{width:o,height:p,type:"svg",mime:"image/svg+xml",wUnits:r(h.width),hUnits:r(h.height)}}}}}},66278:function(H,U,e){var g=e(14847).eG,P=e(14847).OF,a=e(14847).mP,L=e(14847).n8,T=e(14847).nm,v=e(14847).Ag,d=g("II*\0"),t=g("MM\0*");function r(s,f,l){return l?L(s,f):a(s,f)}function u(s,f,l){return l?v(s,f):T(s,f)}function n(s,f,l){var x=r(s,f+2,l),c=u(s,f+4,l);return c!==1||x!==3&&x!==4?null:x===3?r(s,f+8,l):u(s,f+8,l)}H.exports=function(s){if(!(s.length<8)&&!(!P(s,0,d)&&!P(s,0,t))){var f=s[0]===77,l=u(s,4,f)-8;if(!(l<0)){var x=l+8;if(!(s.length-x<2)){var c=r(s,x+0,f)*12;if(!(c<=0)&&(x+=2,!(s.length-x<c))){var b,h,o,p;for(b=0;b<c;b+=12)p=r(s,x+b,f),p===256?h=n(s,x+b,f):p===257&&(o=n(s,x+b,f));if(h&&o)return{width:h,height:o,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},90784:function(H,U,e){var g=e(14847).eG,P=e(14847).OF,a=e(14847).mP,L=e(14847).nm,T=e(71371),v=g("RIFF"),d=g("WEBP");function t(n,s){if(!(n[s+3]!==157||n[s+4]!==1||n[s+5]!==42))return{width:a(n,s+6)&16383,height:a(n,s+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function r(n,s){if(n[s]===47){var f=L(n,s+1);return{width:(f&16383)+1,height:(f>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function u(n,s){return{width:(n[s+6]<<16|n[s+5]<<8|n[s+4])+1,height:(n[s+9]<<s|n[s+8]<<8|n[s+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}H.exports=function(n){if(!(n.length<16)&&!(!P(n,0,v)&&!P(n,8,d))){var s=12,f=null,l=0,x=L(n,4)+8;if(!(x>n.length)){for(;s+8<x;){if(n[s]===0){s++;continue}var c=String.fromCharCode.apply(null,n.slice(s,s+4)),b=L(n,s+4);c==="VP8 "&&b>=10?f=f||t(n,s+8):c==="VP8L"&&b>=9?f=f||r(n,s+8):c==="VP8X"&&b>=10?f=f||u(n,s+8):c==="EXIF"&&(l=T.get_orientation(n.slice(s+8,s+8+b)),s=1/0),s+=8+b}if(f)return l>0&&(f.orientation=l),f}}}},91497:function(H,U,e){H.exports={avif:e(24461),bmp:e(2504),gif:e(47342),ico:e(31355),jpeg:e(54261),png:e(6303),psd:e(38689),svg:e(6881),tiff:e(66278),webp:e(90784)}},33575:function(H,U,e){var g=e(91497);function P(a){for(var L=Object.keys(g),T=0;T<L.length;T++){var v=g[L[T]](a);if(v)return v}return null}H.exports=function(L){return P(L)},H.exports.parsers=g},90386:function(H){var U=H.exports={},e,g;function P(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=P}catch{e=P}try{typeof clearTimeout=="function"?g=clearTimeout:g=a}catch{g=a}})();function L(l){if(e===setTimeout)return setTimeout(l,0);if((e===P||!e)&&setTimeout)return e=setTimeout,setTimeout(l,0);try{return e(l,0)}catch{try{return e.call(null,l,0)}catch{return e.call(this,l,0)}}}function T(l){if(g===clearTimeout)return clearTimeout(l);if((g===a||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(l);try{return g(l)}catch{try{return g.call(null,l)}catch{return g.call(this,l)}}}var v=[],d=!1,t,r=-1;function u(){!d||!t||(d=!1,t.length?v=t.concat(v):r=-1,v.length&&n())}function n(){if(!d){var l=L(u);d=!0;for(var x=v.length;x;){for(t=v,v=[];++r<x;)t&&t[r].run();r=-1,x=v.length}t=null,d=!1,T(l)}}U.nextTick=function(l){var x=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)x[c-1]=arguments[c];v.push(new s(l,x)),v.length===1&&!d&&L(n)};function s(l,x){this.fun=l,this.array=x}s.prototype.run=function(){this.fun.apply(null,this.array)},U.title="browser",U.browser=!0,U.env={},U.argv=[],U.version="",U.versions={};function f(){}U.on=f,U.addListener=f,U.once=f,U.off=f,U.removeListener=f,U.removeAllListeners=f,U.emit=f,U.prependListener=f,U.prependOnceListener=f,U.listeners=function(l){return[]},U.binding=function(l){throw new Error("process.binding is not supported")},U.cwd=function(){return"/"},U.chdir=function(l){throw new Error("process.chdir is not supported")},U.umask=function(){return 0}},5877:function(H,U,e){for(var g=e(9748),P=typeof window>"u"?e.g:window,a=["moz","webkit"],L="AnimationFrame",T=P["request"+L],v=P["cancel"+L]||P["cancelRequest"+L],d=0;!T&&d<a.length;d++)T=P[a[d]+"Request"+L],v=P[a[d]+"Cancel"+L]||P[a[d]+"CancelRequest"+L];if(!T||!v){var t=0,r=0,u=[],n=1e3/60;T=function(s){if(u.length===0){var f=g(),l=Math.max(0,n-(f-t));t=l+f,setTimeout(function(){var x=u.slice(0);u.length=0;for(var c=0;c<x.length;c++)if(!x[c].cancelled)try{x[c].callback(t)}catch(b){setTimeout(function(){throw b},0)}},Math.round(l))}return u.push({handle:++r,callback:s,cancelled:!1}),r},v=function(s){for(var f=0;f<u.length;f++)u[f].handle===s&&(u[f].cancelled=!0)}}H.exports=function(s){return T.call(P,s)},H.exports.cancel=function(){v.apply(P,arguments)},H.exports.polyfill=function(s){s||(s=P),s.requestAnimationFrame=T,s.cancelAnimationFrame=v}},3593:function(H,U,e){var g=e(21527),P=e(25075),a=e(93447),L=e(71299),T=e(56131),v=e(30120),d=e(57060),t=d.float32,r=d.fract32;H.exports=n;var u=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function n(s,f){if(typeof s=="function"?(f||(f={}),f.regl=s):f=s,f.length&&(f.positions=f),s=f.regl,!s.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var l=s._gl,x,c,b,h,o,p,S={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},A=[];return h=s.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),c=s.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),b=s.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),o=s.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),p=s.buffer({usage:"static",type:"float",data:u}),w(f),x=s({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:s.prop("range"),lineWidth:s.prop("lineWidth"),capSize:s.prop("capSize"),opacity:s.prop("opacity"),scale:s.prop("scale"),translate:s.prop("translate"),scaleFract:s.prop("scaleFract"),translateFract:s.prop("translateFract"),viewport:function(C,y){return[y.viewport.x,y.viewport.y,C.viewportWidth,C.viewportHeight]}},attributes:{color:{buffer:h,offset:function(C,y){return y.offset*4},divisor:1},position:{buffer:c,offset:function(C,y){return y.offset*8},divisor:1},positionFract:{buffer:b,offset:function(C,y){return y.offset*8},divisor:1},error:{buffer:o,offset:function(C,y){return y.offset*16},divisor:1},direction:{buffer:p,stride:24,offset:0},lineOffset:{buffer:p,stride:24,offset:8},capOffset:{buffer:p,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:s.prop("viewport")},viewport:s.prop("viewport"),stencil:!1,instances:s.prop("count"),count:u.length}),T(E,{update:w,draw:m,destroy:i,regl:s,gl:l,canvas:l.canvas,groups:A}),E;function E(C){C?w(C):C===null&&i(),m()}function m(C){if(typeof C=="number")return M(C);C&&!Array.isArray(C)&&(C=[C]),s._refresh(),A.forEach(function(y,_){if(y){if(C&&(C[_]?y.draw=!0:y.draw=!1),!y.draw){y.draw=!0;return}M(_)}})}function M(C){typeof C=="number"&&(C=A[C]),C!=null&&C&&C.count&&C.color&&C.opacity&&C.positions&&C.positions.length>1&&(C.scaleRatio=[C.scale[0]*C.viewport.width,C.scale[1]*C.viewport.height],x(C),C.after&&C.after(C))}function w(C){if(C){C.length!=null?typeof C[0]=="number"&&(C=[{positions:C}]):Array.isArray(C)||(C=[C]);var y=0,_=0;if(E.groups=A=C.map(function(B,G){var Q=A[G];if(B)typeof B=="function"?B={after:B}:typeof B[0]=="number"&&(B={positions:B});else return Q;return B=L(B,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),Q||(A[G]=Q={id:G,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},B=T({},S,B)),a(Q,B,[{lineWidth:function(ee){return+ee*.5},capSize:function(ee){return+ee*.5},opacity:parseFloat,errors:function(ee){return ee=v(ee),_+=ee.length,ee},positions:function(ee,ae){return ee=v(ee,"float64"),ae.count=Math.floor(ee.length/2),ae.bounds=g(ee,2),ae.offset=y,y+=ae.count,ee}},{color:function(ee,ae){var fe=ae.count;if(ee||(ee="transparent"),!Array.isArray(ee)||typeof ee[0]=="number"){var K=ee;ee=Array(fe);for(var W=0;W<fe;W++)ee[W]=K}if(ee.length<fe)throw Error("Not enough colors");for(var Z=new Uint8Array(fe*4),X=0;X<fe;X++){var $=P(ee[X],"uint8");Z.set($,X*4)}return Z},range:function(ee,ae,fe){var K=ae.bounds;return ee||(ee=K),ae.scale=[1/(ee[2]-ee[0]),1/(ee[3]-ee[1])],ae.translate=[-ee[0],-ee[1]],ae.scaleFract=r(ae.scale),ae.translateFract=r(ae.translate),ee},viewport:function(ee){var ae;return Array.isArray(ee)?ae={x:ee[0],y:ee[1],width:ee[2]-ee[0],height:ee[3]-ee[1]}:ee?(ae={x:ee.x||ee.left||0,y:ee.y||ee.top||0},ee.right?ae.width=ee.right-ae.x:ae.width=ee.w||ee.width||0,ee.bottom?ae.height=ee.bottom-ae.y:ae.height=ee.h||ee.height||0):ae={x:0,y:0,width:l.drawingBufferWidth,height:l.drawingBufferHeight},ae}}]),Q}),y||_){var I=A.reduce(function(B,G,Q){return B+(G?G.count:0)},0),N=new Float64Array(I*2),k=new Uint8Array(I*4),O=new Float32Array(I*4);A.forEach(function(B,G){if(B){var Q=B.positions,ee=B.count,ae=B.offset,fe=B.color,K=B.errors;ee&&(k.set(fe,ae*4),O.set(K,ae*4),N.set(Q,ae*2))}});var z=t(N);c(z);var F=r(N,z);b(F),h(k),o(O)}}}function i(){c.destroy(),b.destroy(),h.destroy(),o.destroy(),p.destroy()}}},46075:function(H,U,e){var g=e(25075),P=e(21527),a=e(56131),L=e(56068),T=e(71299),v=e(30120),d=e(11474),t=e(54),r=e(57060),u=r.float32,n=r.fract32,s=e(83522),f=e(18863),l=e(6851);H.exports=x;function x(c,b){if(!(this instanceof x))return new x(c,b);if(typeof c=="function"?(b||(b={}),b.regl=c):b=c,b.length&&(b.positions=b),c=b.regl,!c.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=c._gl,this.regl=c,this.passes=[],this.shaders=x.shaders.has(c)?x.shaders.get(c):x.shaders.set(c,x.createShaders(c)).get(c),this.update(b)}x.dashMult=2,x.maxPatternLength=256,x.precisionThreshold=3e6,x.maxPoints=1e4,x.maxLines=2048,x.shaders=new s,x.createShaders=function(c){var b=c.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),h={primitive:"triangle strip",instances:c.prop("count"),count:4,offset:0,uniforms:{miterMode:function(A,E){return E.join==="round"?2:1},miterLimit:c.prop("miterLimit"),scale:c.prop("scale"),scaleFract:c.prop("scaleFract"),translateFract:c.prop("translateFract"),translate:c.prop("translate"),thickness:c.prop("thickness"),dashTexture:c.prop("dashTexture"),opacity:c.prop("opacity"),pixelRatio:c.context("pixelRatio"),id:c.prop("id"),dashLength:c.prop("dashLength"),viewport:function(A,E){return[E.viewport.x,E.viewport.y,A.viewportWidth,A.viewportHeight]},depth:c.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(A,E){return!E.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:c.prop("viewport")},viewport:c.prop("viewport")},o=c(a({vert:L([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`]),frag:L([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:b,divisor:0,stride:8,offset:0},lineTop:{buffer:b,divisor:0,stride:8,offset:4},aCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:c.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},h)),p;try{p=c(a({cull:{enable:!0,face:"back"},vert:L([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);

	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`]),frag:L([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:b,divisor:0,stride:8,offset:0},lineTop:{buffer:b,divisor:0,stride:8,offset:4},aColor:{buffer:c.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:c.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},h))}catch{p=o}var S=c({primitive:"triangle",elements:function(A,E){return E.triangles},offset:0,vert:L([`precision highp float;
#define GLSLIFY 1

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`]),frag:L([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`]),uniforms:{scale:c.prop("scale"),color:c.prop("fill"),scaleFract:c.prop("scaleFract"),translateFract:c.prop("translateFract"),translate:c.prop("translate"),opacity:c.prop("opacity"),pixelRatio:c.context("pixelRatio"),id:c.prop("id"),viewport:function(A,E){return[E.viewport.x,E.viewport.y,A.viewportWidth,A.viewportHeight]}},attributes:{position:{buffer:c.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:8}},blend:h.blend,depth:{enable:!1},scissor:h.scissor,stencil:h.stencil,viewport:h.viewport});return{fill:S,rect:o,miter:p}},x.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},x.prototype.render=function(){for(var c,b=[],h=arguments.length;h--;)b[h]=arguments[h];b.length&&(c=this).update.apply(c,b),this.draw()},x.prototype.draw=function(){for(var c=this,b=[],h=arguments.length;h--;)b[h]=arguments[h];return(b.length?b:this.passes).forEach(function(o,p){var S;if(o&&Array.isArray(o))return(S=c).draw.apply(S,o);typeof o=="number"&&(o=c.passes[o]),o&&o.count>1&&o.opacity&&(c.regl._refresh(),o.fill&&o.triangles&&o.triangles.length>2&&c.shaders.fill(o),o.thickness&&(o.scale[0]*o.viewport.width>x.precisionThreshold||o.scale[1]*o.viewport.height>x.precisionThreshold||o.join==="rect"||!o.join&&(o.thickness<=2||o.count>=x.maxPoints)?c.shaders.rect(o):c.shaders.miter(o)))}),this},x.prototype.update=function(c){var b=this;if(c){c.length!=null?typeof c[0]=="number"&&(c=[{positions:c}]):Array.isArray(c)||(c=[c]);var h=this,o=h.regl,p=h.gl;if(c.forEach(function(M,w){var i=b.passes[w];if(M!==void 0){if(M===null){b.passes[w]=null;return}if(typeof M[0]=="number"&&(M={positions:M}),M=T(M,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),i||(b.passes[w]=i={id:w,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:o.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:o.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:o.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:o.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},M=a({},x.defaults,M)),M.thickness!=null&&(i.thickness=parseFloat(M.thickness)),M.opacity!=null&&(i.opacity=parseFloat(M.opacity)),M.miterLimit!=null&&(i.miterLimit=parseFloat(M.miterLimit)),M.overlay!=null&&(i.overlay=!!M.overlay,w<x.maxLines&&(i.depth=2*(x.maxLines-1-w%x.maxLines)/x.maxLines-1)),M.join!=null&&(i.join=M.join),M.hole!=null&&(i.hole=M.hole),M.fill!=null&&(i.fill=M.fill?g(M.fill,"uint8"):null),M.viewport!=null&&(i.viewport=f(M.viewport)),i.viewport||(i.viewport=f([p.drawingBufferWidth,p.drawingBufferHeight])),M.close!=null&&(i.close=M.close),M.positions===null&&(M.positions=[]),M.positions){var C,y;if(M.positions.x&&M.positions.y){var _=M.positions.x,I=M.positions.y;y=i.count=Math.max(_.length,I.length),C=new Float64Array(y*2);for(var N=0;N<y;N++)C[N*2]=_[N],C[N*2+1]=I[N]}else C=v(M.positions,"float64"),y=i.count=Math.floor(C.length/2);var k=i.bounds=P(C,2);if(i.fill){for(var O=[],z={},F=0,B=0,G=0,Q=i.count;B<Q;B++){var ee=C[B*2],ae=C[B*2+1];isNaN(ee)||isNaN(ae)||ee==null||ae==null?(ee=C[F*2],ae=C[F*2+1],z[B]=F):F=B,O[G++]=ee,O[G++]=ae}if(M.splitNull){i.count-1 in z||(z[i.count]=i.count-1);var fe=Object.keys(z).map(Number).sort(function(ke,Ce){return ke-Ce}),K=[],W=0,Z=i.hole!=null?i.hole[0]:null;if(Z!=null){var X=l(fe,function(ke){return ke>=Z});fe=fe.slice(0,X),fe.push(Z)}for(var $=function(ke){var Ce=O.slice(W*2,fe[ke]*2).concat(Z?O.slice(Z*2):[]),me=(i.hole||[]).map(function(pe){return pe-Z+(fe[ke]-W)}),oe=d(Ce,me);oe=oe.map(function(pe){return pe+W+(pe+W<fe[ke]?0:Z-fe[ke])}),K.push.apply(K,oe),W=fe[ke]+1},ie=0;ie<fe.length;ie++)$(ie);for(var J=0,j=K.length;J<j;J++)z[K[J]]!=null&&(K[J]=z[K[J]]);i.triangles=K}else{for(var se=d(O,i.hole||[]),ne=0,ue=se.length;ne<ue;ne++)z[se[ne]]!=null&&(se[ne]=z[se[ne]]);i.triangles=se}}var ge=new Float64Array(C);t(ge,2,k);var we=new Float64Array(y*2+6);i.close?C[0]===C[y*2-2]&&C[1]===C[y*2-1]?(we[0]=ge[y*2-4],we[1]=ge[y*2-3]):(we[0]=ge[y*2-2],we[1]=ge[y*2-1]):(we[0]=ge[0],we[1]=ge[1]),we.set(ge,2),i.close?C[0]===C[y*2-2]&&C[1]===C[y*2-1]?(we[y*2+2]=ge[2],we[y*2+3]=ge[3],i.count-=1):(we[y*2+2]=ge[0],we[y*2+3]=ge[1],we[y*2+4]=ge[2],we[y*2+5]=ge[3]):(we[y*2+2]=ge[y*2-2],we[y*2+3]=ge[y*2-1],we[y*2+4]=ge[y*2-2],we[y*2+5]=ge[y*2-1]);var xe=u(we);i.positionBuffer(xe);var Fe=n(we,xe);i.positionFractBuffer(Fe)}if(M.range?i.range=M.range:i.range||(i.range=i.bounds),(M.range||M.positions)&&i.count){var ze=i.bounds,Te=ze[2]-ze[0],ye=ze[3]-ze[1],Ae=i.range[2]-i.range[0],Ne=i.range[3]-i.range[1];i.scale=[Te/Ae,ye/Ne],i.translate=[-i.range[0]/Ae+ze[0]/Ae||0,-i.range[1]/Ne+ze[1]/Ne||0],i.scaleFract=n(i.scale),i.translateFract=n(i.translate)}if(M.dashes){var Ue=0,Re;if(!M.dashes||M.dashes.length<2)Ue=1,Re=new Uint8Array([255,255,255,255,255,255,255,255]);else{Ue=0;for(var Ve=0;Ve<M.dashes.length;++Ve)Ue+=M.dashes[Ve];Re=new Uint8Array(Ue*x.dashMult);for(var rt=0,Qe=255,Je=0;Je<2;Je++)for(var qe=0;qe<M.dashes.length;++qe){for(var dt=0,pt=M.dashes[qe]*x.dashMult*.5;dt<pt;++dt)Re[rt++]=Qe;Qe^=255}}i.dashLength=Ue,i.dashTexture({channels:1,data:Re,width:Re.length,height:1,mag:"linear",min:"linear"},0,0)}if(M.color){var mt=i.count,Ct=M.color;Ct||(Ct="transparent");var Rt=new Uint8Array(mt*4+4);if(!Array.isArray(Ct)||typeof Ct[0]=="number")for(var Zt=g(Ct,"uint8"),Xe=0;Xe<mt+1;Xe++)Rt.set(Zt,Xe*4);else{for(var Le=0;Le<mt;Le++){var Pe=g(Ct[Le],"uint8");Rt.set(Pe,Le*4)}Rt.set(g(Ct[0],"uint8"),mt*4)}i.colorBuffer({usage:"dynamic",type:"uint8",data:Rt})}}}),c.length<this.passes.length){for(var S=c.length;S<this.passes.length;S++){var A=this.passes[S];A&&(A.colorBuffer.destroy(),A.positionBuffer.destroy(),A.dashTexture.destroy())}this.passes.length=c.length}for(var E=[],m=0;m<this.passes.length;m++)this.passes[m]!==null&&E.push(this.passes[m]);return this.passes=E,this}},x.prototype.destroy=function(){return this.passes.forEach(function(c){c.colorBuffer.destroy(),c.positionBuffer.destroy(),c.dashTexture.destroy()}),this.passes.length=0,this}},11870:function(H,U,e){function g(i,C){var y=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(y!=null){var _,I,N,k,O=[],z=!0,F=!1;try{if(N=(y=y.call(i)).next,C===0){if(Object(y)!==y)return;z=!1}else for(;!(z=(_=N.call(y)).done)&&(O.push(_.value),O.length!==C);z=!0);}catch(B){F=!0,I=B}finally{try{if(!z&&y.return!=null&&(k=y.return(),Object(k)!==k))return}finally{if(F)throw I}}return O}}function P(i,C){return T(i)||g(i,C)||d(i,C)||u()}function a(i){return L(i)||v(i)||d(i)||r()}function L(i){if(Array.isArray(i))return t(i)}function T(i){if(Array.isArray(i))return i}function v(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function d(i,C){if(i){if(typeof i=="string")return t(i,C);var y=Object.prototype.toString.call(i).slice(8,-1);if(y==="Object"&&i.constructor&&(y=i.constructor.name),y==="Map"||y==="Set")return Array.from(i);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return t(i,C)}}function t(i,C){(C==null||C>i.length)&&(C=i.length);for(var y=0,_=new Array(C);y<C;y++)_[y]=i[y];return _}function r(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=e(25075),s=e(21527),f=e(6475),l=e(88294),x=e(56131),c=e(56068),b=e(71299),h=e(93447),o=e(30120),p=e(62683),S=e(57060),A=e(18863),E=m;function m(i,C){var y=this;if(!(this instanceof m))return new m(i,C);typeof i=="function"?(C||(C={}),C.regl=i):(C=i,i=null),C&&C.length&&(C.positions=C),i=C.regl;var _=i._gl,I,N=[],k={},O=[],z=[null],F=[null],B=255,G=100;this.tooManyColors=p,I=i.texture({data:new Uint8Array(B*4),width:B,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),x(this,{regl:i,gl:_,groups:O,markerCache:F,markerTextures:z,palette:N,paletteIds:k,paletteTexture:I,maxColors:B,maxSize:G,canvas:_.canvas}),this.update(C);var Q={uniforms:{constPointSize:!!C.constPointSize,opacity:i.prop("opacity"),paletteSize:function(K,W){return[y.tooManyColors?0:B,I.height]},pixelRatio:i.context("pixelRatio"),scale:i.prop("scale"),scaleFract:i.prop("scaleFract"),translate:i.prop("translate"),translateFract:i.prop("translateFract"),markerTexture:i.prop("markerTexture"),paletteTexture:I},attributes:{x:function(K,W){return W.xAttr||{buffer:W.positionBuffer,stride:8,offset:0}},y:function(K,W){return W.yAttr||{buffer:W.positionBuffer,stride:8,offset:4}},xFract:function(K,W){return W.xAttr?{constant:[0,0]}:{buffer:W.positionFractBuffer,stride:8,offset:0}},yFract:function(K,W){return W.yAttr?{constant:[0,0]}:{buffer:W.positionFractBuffer,stride:8,offset:4}},size:function(K,W){return W.size.length?{buffer:W.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(W.size*255/y.maxSize)]}},borderSize:function(K,W){return W.borderSize.length?{buffer:W.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(W.borderSize*255/y.maxSize)]}},colorId:function(K,W){return W.color.length?{buffer:W.colorBuffer,stride:y.tooManyColors?8:4,offset:0}:{constant:y.tooManyColors?N.slice(W.color*4,W.color*4+4):[W.color]}},borderColorId:function(K,W){return W.borderColor.length?{buffer:W.colorBuffer,stride:y.tooManyColors?8:4,offset:y.tooManyColors?4:2}:{constant:y.tooManyColors?N.slice(W.borderColor*4,W.borderColor*4+4):[W.borderColor]}},isActive:function(K,W){return W.activation===!0?{constant:[1]}:W.activation?W.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:i.prop("viewport")},viewport:i.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:i.prop("elements"),count:i.prop("count"),offset:i.prop("offset"),primitive:"points"},ee=x({},Q);ee.frag=c([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),ee.vert=c([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}`]),this.drawMarker=i(ee);var ae=x({},Q);ae.frag=c([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),ae.vert=c([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),p&&(ae.frag=ae.frag.replace("smoothstep","smoothStep"),ee.frag=ee.frag.replace("smoothstep","smoothStep")),this.drawCircle=i(ae)}m.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},m.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},m.prototype.draw=function(){for(var i=this,C=arguments.length,y=new Array(C),_=0;_<C;_++)y[_]=arguments[_];var I=this.groups;if(y.length===1&&Array.isArray(y[0])&&(y[0][0]===null||Array.isArray(y[0][0]))&&(y=y[0]),this.regl._refresh(),y.length)for(var N=0;N<y.length;N++)this.drawItem(N,y[N]);else I.forEach(function(k,O){i.drawItem(O)});return this},m.prototype.drawItem=function(i,C){var y=this.groups,_=y[i];if(typeof C=="number"&&(i=C,_=y[C],C=null),!!(_&&_.count&&_.opacity)){_.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,_,C));for(var I=[],N=1;N<_.activation.length;N++)!_.activation[N]||_.activation[N]!==!0&&!_.activation[N].data.length||I.push.apply(I,a(this.getMarkerDrawOptions(N,_,C)));I.length&&this.drawMarker(I)}},m.prototype.getMarkerDrawOptions=function(i,C,y){var _=C.range,I=C.tree,N=C.viewport,k=C.activation,O=C.selectionBuffer,z=C.count;if(this.regl,!I)return y?[x({},C,{markerTexture:this.markerTextures[i],activation:k[i],count:y.length,elements:y,offset:0})]:[x({},C,{markerTexture:this.markerTextures[i],activation:k[i],offset:0})];var F=[],B=I.range(_,{lod:!0,px:[(_[2]-_[0])/N.width,(_[3]-_[1])/N.height]});if(y){for(var G=k[i],Q=G.data,ee=new Uint8Array(z),ae=0;ae<y.length;ae++){var fe=y[ae];ee[fe]=Q?Q[fe]:1}O.subdata(ee)}for(var K=B.length;K--;){var W=P(B[K],2),Z=W[0],X=W[1];F.push(x({},C,{markerTexture:this.markerTextures[i],activation:y?O:k[i],offset:Z,count:X-Z}))}return F},m.prototype.update=function(){for(var i=this,C=arguments.length,y=new Array(C),_=0;_<C;_++)y[_]=arguments[_];if(y.length){y.length===1&&Array.isArray(y[0])&&(y=y[0]);var I=this.groups,N=this.gl,k=this.regl,O=this.maxSize,z=this.maxColors,F=this.palette;this.groups=I=y.map(function(B,G){var Q=I[G];if(B===void 0)return Q;B===null?B={positions:null}:typeof B=="function"?B={ondraw:B}:typeof B[0]=="number"&&(B={positions:B}),B=b(B,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),B.positions===null&&(B.positions=[]),B.tooManyColors!=null&&(i.tooManyColors=B.tooManyColors),Q||(I[G]=Q={id:G,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:k.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},B=x({},m.defaults,B)),B.positions&&!("marker"in B)&&(B.marker=Q.marker,delete Q.marker),B.marker&&!("positions"in B)&&(B.positions=Q.positions,delete Q.positions);var ee=0,ae=0;if(h(Q,B,[{snap:!0,size:function(ye,Ae){return ye==null&&(ye=m.defaults.size),ee+=ye&&ye.length?1:0,ye},borderSize:function(ye,Ae){return ye==null&&(ye=m.defaults.borderSize),ee+=ye&&ye.length?1:0,ye},opacity:parseFloat,color:function(ye,Ae){return ye==null&&(ye=m.defaults.color),ye=i.updateColor(ye),ae++,ye},borderColor:function(ye,Ae){return ye==null&&(ye=m.defaults.borderColor),ye=i.updateColor(ye),ae++,ye},bounds:function(ye,Ae,Ne){return"range"in Ne||(Ne.range=null),ye},positions:function(ye,Ae,Ne){var Ue=Ae.snap,Re=Ae.positionBuffer,Ve=Ae.positionFractBuffer,rt=Ae.selectionBuffer;if(ye.x||ye.y)return ye.x.length?Ae.xAttr={buffer:k.buffer(ye.x),offset:0,stride:4,count:ye.x.length}:Ae.xAttr={buffer:ye.x.buffer,offset:ye.x.offset*4||0,stride:(ye.x.stride||1)*4,count:ye.x.count},ye.y.length?Ae.yAttr={buffer:k.buffer(ye.y),offset:0,stride:4,count:ye.y.length}:Ae.yAttr={buffer:ye.y.buffer,offset:ye.y.offset*4||0,stride:(ye.y.stride||1)*4,count:ye.y.count},Ae.count=Math.max(Ae.xAttr.count,Ae.yAttr.count),ye;ye=o(ye,"float64");var Qe=Ae.count=Math.floor(ye.length/2),Je=Ae.bounds=Qe?s(ye,2):null;if(!Ne.range&&!Ae.range&&(delete Ae.range,Ne.range=Je),!Ne.marker&&!Ae.marker&&(delete Ae.marker,Ne.marker=null),Ue&&(Ue===!0||Qe>Ue)?Ae.tree=l(ye,{bounds:Je}):Ue&&Ue.length&&(Ae.tree=Ue),Ae.tree){var qe={primitive:"points",usage:"static",data:Ae.tree,type:"uint32"};Ae.elements?Ae.elements(qe):Ae.elements=k.elements(qe)}var dt=S.float32(ye);Re({data:dt,usage:"dynamic"});var pt=S.fract32(ye,dt);return Ve({data:pt,usage:"dynamic"}),rt({data:new Uint8Array(Qe),type:"uint8",usage:"stream"}),ye}},{marker:function(ye,Ae,Ne){var Ue=Ae.activation;if(Ue.forEach(function(pt){return pt&&pt.destroy&&pt.destroy()}),Ue.length=0,!ye||typeof ye[0]=="number"){var Re=i.addMarker(ye);Ue[Re]=!0}else{for(var Ve=[],rt=0,Qe=Math.min(ye.length,Ae.count);rt<Qe;rt++){var Je=i.addMarker(ye[rt]);Ve[Je]||(Ve[Je]=new Uint8Array(Ae.count)),Ve[Je][rt]=1}for(var qe=0;qe<Ve.length;qe++)if(Ve[qe]){var dt={data:Ve[qe],type:"uint8",usage:"static"};Ue[qe]?Ue[qe](dt):Ue[qe]=k.buffer(dt),Ue[qe].data=Ve[qe]}}return ye},range:function(ye,Ae,Ne){var Ue=Ae.bounds;if(Ue)return ye||(ye=Ue),Ae.scale=[1/(ye[2]-ye[0]),1/(ye[3]-ye[1])],Ae.translate=[-ye[0],-ye[1]],Ae.scaleFract=S.fract(Ae.scale),Ae.translateFract=S.fract(Ae.translate),ye},viewport:function(ye){var Ae=A(ye||[N.drawingBufferWidth,N.drawingBufferHeight]);return Ae}}]),ee){var fe=Q,K=fe.count,W=fe.size,Z=fe.borderSize,X=fe.sizeBuffer,$=new Uint8Array(K*2);if(W.length||Z.length)for(var ie=0;ie<K;ie++)$[ie*2]=Math.round((W[ie]==null?W:W[ie])*255/O),$[ie*2+1]=Math.round((Z[ie]==null?Z:Z[ie])*255/O);X({data:$,usage:"dynamic"})}if(ae){var J=Q,j=J.count,se=J.color,ne=J.borderColor,ue=J.colorBuffer,ge;if(i.tooManyColors){if(se.length||ne.length){ge=new Uint8Array(j*8);for(var we=0;we<j;we++){var xe=se[we];ge[we*8]=F[xe*4],ge[we*8+1]=F[xe*4+1],ge[we*8+2]=F[xe*4+2],ge[we*8+3]=F[xe*4+3];var Fe=ne[we];ge[we*8+4]=F[Fe*4],ge[we*8+5]=F[Fe*4+1],ge[we*8+6]=F[Fe*4+2],ge[we*8+7]=F[Fe*4+3]}}}else if(se.length||ne.length){ge=new Uint8Array(j*4+2);for(var ze=0;ze<j;ze++)se[ze]!=null&&(ge[ze*4]=se[ze]%z,ge[ze*4+1]=Math.floor(se[ze]/z)),ne[ze]!=null&&(ge[ze*4+2]=ne[ze]%z,ge[ze*4+3]=Math.floor(ne[ze]/z))}ue({data:ge||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return Q})}},m.prototype.addMarker=function(i){var C=this.markerTextures,y=this.regl,_=this.markerCache,I=i==null?0:_.indexOf(i);if(I>=0)return I;var N;if(i instanceof Uint8Array||i instanceof Uint8ClampedArray)N=i;else{N=new Uint8Array(i.length);for(var k=0,O=i.length;k<O;k++)N[k]=i[k]*255}var z=Math.floor(Math.sqrt(N.length));return I=C.length,_.push(i),C.push(y.texture({channels:1,data:N,radius:z,mag:"linear",min:"linear"})),I},m.prototype.updateColor=function(i){var C=this.paletteIds,y=this.palette,_=this.maxColors;Array.isArray(i)||(i=[i]);var I=[];if(typeof i[0]=="number"){var N=[];if(Array.isArray(i))for(var k=0;k<i.length;k+=4)N.push(i.slice(k,k+4));else for(var O=0;O<i.length;O+=4)N.push(i.subarray(O,O+4));i=N}for(var z=0;z<i.length;z++){var F=i[z];F=n(F,"uint8");var B=f(F,!1);if(C[B]==null){var G=y.length;C[B]=Math.floor(G/4),y[G]=F[0],y[G+1]=F[1],y[G+2]=F[2],y[G+3]=F[3]}I[z]=C[B]}return!this.tooManyColors&&y.length>_*4&&(this.tooManyColors=!0),this.updatePalette(y),I.length===1?I[0]:I},m.prototype.updatePalette=function(i){if(!this.tooManyColors){var C=this.maxColors,y=this.paletteTexture,_=Math.ceil(i.length*.25/C);if(_>1){i=i.slice();for(var I=i.length*.25%C;I<_*C;I++)i.push(0,0,0,0)}y.height<_&&y.resize(C,_),y.subimage({width:Math.min(i.length*.25,C),height:_,data:i},0,0)}},m.prototype.destroy=function(){return this.groups.forEach(function(i){i.sizeBuffer.destroy(),i.positionBuffer.destroy(),i.positionFractBuffer.destroy(),i.colorBuffer.destroy(),i.activation.forEach(function(C){return C&&C.destroy&&C.destroy()}),i.selectionBuffer.destroy(),i.elements&&i.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(i){return i&&i.destroy&&i.destroy()}),this};var M=e(56131),w=function(C,y){var _=new E(C,y),I=_.render.bind(_);return M(I,{render:I,update:_.update.bind(_),draw:_.draw.bind(_),destroy:_.destroy.bind(_),regl:_.regl,gl:_.gl,canvas:_.gl.canvas,groups:_.groups,markers:_.markerCache,palette:_.palette}),I};H.exports=w},60487:function(H,U,e){var g=e(11870),P=e(71299),a=e(21527),L=e(5877),T=e(57471),v=e(18863),d=e(30120);H.exports=t;function t(s,f){if(!(this instanceof t))return new t(s);this.traces=[],this.passes={},this.regl=s,this.scatter=g(s),this.canvas=this.scatter.canvas}t.prototype.render=function(){for(var s=this,f,l=[],x=arguments.length;x--;)l[x]=arguments[x];return l.length&&(f=this).update.apply(f,l),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=L(function(){s.draw(),s.dirty=!0,s.planned=null})):(this.draw(),this.dirty=!0,L(function(){s.dirty=!1})),this)},t.prototype.update=function(){for(var s,f=[],l=arguments.length;l--;)f[l]=arguments[l];if(f.length){for(var x=0;x<f.length;x++)this.updateItem(x,f[x]);this.traces=this.traces.filter(Boolean);for(var c=[],b=0,h=0;h<this.traces.length;h++){for(var o=this.traces[h],p=this.traces[h].passes,S=0;S<p.length;S++)c.push(this.passes[p[S]]);o.passOffset=b,b+=o.passes.length}return(s=this.scatter).update.apply(s,c),this}},t.prototype.updateItem=function(s,f){var l=this,x=l.regl;if(f===null)return this.traces[s]=null,this;if(!f)return this;var c=P(f,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),b=this.traces[s]||(this.traces[s]={id:s,buffer:x.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:v([x._gl.drawingBufferWidth,x._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(c.color!=null&&(b.color=c.color),c.size!=null&&(b.size=c.size),c.marker!=null&&(b.marker=c.marker),c.borderColor!=null&&(b.borderColor=c.borderColor),c.borderSize!=null&&(b.borderSize=c.borderSize),c.opacity!=null&&(b.opacity=c.opacity),c.viewport&&(b.viewport=v(c.viewport)),c.diagonal!=null&&(b.diagonal=c.diagonal),c.upper!=null&&(b.upper=c.upper),c.lower!=null&&(b.lower=c.lower),c.data){b.buffer(d(c.data)),b.columns=c.data.length,b.count=c.data[0].length,b.bounds=[];for(var h=0;h<b.columns;h++)b.bounds[h]=a(c.data[h],1)}var o;c.range&&(b.range=c.range,o=b.range&&typeof b.range[0]!="number"),c.domain&&(b.domain=c.domain);var p=!1;c.padding!=null&&(Array.isArray(c.padding)&&c.padding.length===b.columns&&typeof c.padding[c.padding.length-1]=="number"?(b.padding=c.padding.map(n),p=!0):b.padding=n(c.padding));var S=b.columns,A=b.count,E=b.viewport.width,m=b.viewport.height,M=b.viewport.x,w=b.viewport.y,i=E/S,C=m/S;b.passes=[];for(var y=0;y<S;y++)for(var _=0;_<S;_++)if(!(!b.diagonal&&_===y)&&!(!b.upper&&y>_)&&!(!b.lower&&y<_)){var I=r(b.id,y,_),N=this.passes[I]||(this.passes[I]={});if(c.data&&(c.transpose?N.positions={x:{buffer:b.buffer,offset:_,count:A,stride:S},y:{buffer:b.buffer,offset:y,count:A,stride:S}}:N.positions={x:{buffer:b.buffer,offset:_*A,count:A},y:{buffer:b.buffer,offset:y*A,count:A}},N.bounds=u(b.bounds,y,_)),c.domain||c.viewport||c.data){var k=p?u(b.padding,y,_):b.padding;if(b.domain){var O=u(b.domain,y,_),z=O[0],F=O[1],B=O[2],G=O[3];N.viewport=[M+z*E+k[0],w+F*m+k[1],M+B*E-k[2],w+G*m-k[3]]}else N.viewport=[M+_*i+i*k[0],w+y*C+C*k[1],M+(_+1)*i-i*k[2],w+(y+1)*C-C*k[3]]}c.color&&(N.color=b.color),c.size&&(N.size=b.size),c.marker&&(N.marker=b.marker),c.borderSize&&(N.borderSize=b.borderSize),c.borderColor&&(N.borderColor=b.borderColor),c.opacity&&(N.opacity=b.opacity),c.range&&(N.range=o?u(b.range,y,_):b.range||N.bounds),b.passes.push(I)}return this},t.prototype.draw=function(){for(var s,f=[],l=arguments.length;l--;)f[l]=arguments[l];if(!f.length)this.scatter.draw();else{for(var x=[],c=0;c<f.length;c++)if(typeof f[c]=="number"){var b=this.traces[f[c]],h=b.passes,o=b.passOffset;x.push.apply(x,T(o,o+h.length))}else if(f[c].length){var p=f[c],S=this.traces[c],A=S.passes,E=S.passOffset;A=A.map(function(m,M){x[E+M]=p})}(s=this.scatter).draw.apply(s,x)}return this},t.prototype.destroy=function(){return this.traces.forEach(function(s){s.buffer&&s.buffer.destroy&&s.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function r(s,f,l){var x=s.id!=null?s.id:s,c=f,b=l,h=x<<16|(c&255)<<8|b&255;return h}function u(s,f,l){var x,c,b,h,o=s[f],p=s[l];return o.length>2?(o[0],o[2],x=o[1],c=o[3]):o.length?(x=o[0],c=o[1]):(o.x,x=o.y,o.x+o.width,c=o.y+o.height),p.length>2?(b=p[0],h=p[2],p[1],p[3]):p.length?(b=p[0],h=p[1]):(b=p.x,p.y,h=p.x+p.width,p.y+p.height),[b,x,h,c]}function n(s){if(typeof s=="number")return[s,s,s,s];if(s.length===2)return[s[0],s[1],s[0],s[1]];var f=v(s);return[f.x,f.y,f.x+f.width,f.y+f.height]}},98580:function(H){(function(U,e){H.exports=e()})(this,function(){function U(xt,Qt){this.id=ue++,this.type=xt,this.data=Qt}function e(xt){if(xt.length===0)return[];var Qt=xt.charAt(0),jt=xt.charAt(xt.length-1);if(1<xt.length&&Qt===jt&&(Qt==='"'||Qt==="'"))return['"'+xt.substr(1,xt.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Qt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(xt))return e(xt.substr(0,Qt.index)).concat(e(Qt[1])).concat(e(xt.substr(Qt.index+Qt[0].length)));if(Qt=xt.split("."),Qt.length===1)return['"'+xt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(xt=[],jt=0;jt<Qt.length;++jt)xt=xt.concat(e(Qt[jt]));return xt}function g(xt){return"["+e(xt).join("][")+"]"}function P(xt,Qt){if(typeof xt=="function")return new U(0,xt);if(typeof xt=="number"||typeof xt=="boolean")return new U(5,xt);if(Array.isArray(xt))return new U(6,xt.map(function(jt,Sr){return P(jt)}));if(xt instanceof U)return xt}function a(){var xt={"":0},Qt=[""];return{id:function(jt){var Sr=xt[jt];return Sr||(Sr=xt[jt]=Qt.length,Qt.push(jt),Sr)},str:function(jt){return Qt[jt]}}}function L(xt,Qt,jt){function Sr(){var st=window.innerWidth,bt=window.innerHeight;xt!==document.body&&(bt=gr.getBoundingClientRect(),st=bt.right-bt.left,bt=bt.bottom-bt.top),gr.width=jt*st,gr.height=jt*bt}var gr=document.createElement("canvas");ne(gr.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),xt.appendChild(gr),xt===document.body&&(gr.style.position="absolute",ne(xt.style,{margin:0,padding:0}));var ut;return xt!==document.body&&typeof ResizeObserver=="function"?(ut=new ResizeObserver(function(){setTimeout(Sr)}),ut.observe(xt)):window.addEventListener("resize",Sr,!1),Sr(),{canvas:gr,onDestroy:function(){ut?ut.disconnect():window.removeEventListener("resize",Sr),xt.removeChild(gr)}}}function T(xt,Qt){function jt(Sr){try{return xt.getContext(Sr,Qt)}catch{return null}}return jt("webgl")||jt("experimental-webgl")||jt("webgl-experimental")}function v(xt){return typeof xt=="string"?xt.split():xt}function d(xt){return typeof xt=="string"?document.querySelector(xt):xt}function t(xt){var Qt=xt||{},jt,Sr,gr,ut;xt={};var st=[],bt=[],St=typeof window>"u"?1:window.devicePixelRatio,Pt=!1,Et={},Bt=function(tr){},Wt=function(){};if(typeof Qt=="string"?jt=document.querySelector(Qt):typeof Qt=="object"&&(typeof Qt.nodeName=="string"&&typeof Qt.appendChild=="function"&&typeof Qt.getBoundingClientRect=="function"?jt=Qt:typeof Qt.drawArrays=="function"||typeof Qt.drawElements=="function"?(ut=Qt,gr=ut.canvas):("gl"in Qt?ut=Qt.gl:"canvas"in Qt?gr=d(Qt.canvas):"container"in Qt&&(Sr=d(Qt.container)),"attributes"in Qt&&(xt=Qt.attributes),"extensions"in Qt&&(st=v(Qt.extensions)),"optionalExtensions"in Qt&&(bt=v(Qt.optionalExtensions)),"onDone"in Qt&&(Bt=Qt.onDone),"profile"in Qt&&(Pt=!!Qt.profile),"pixelRatio"in Qt&&(St=+Qt.pixelRatio),"cachedCode"in Qt&&(Et=Qt.cachedCode))),jt&&(jt.nodeName.toLowerCase()==="canvas"?gr=jt:Sr=jt),!ut){if(!gr){if(jt=L(Sr||document.body,Bt,St),!jt)return null;gr=jt.canvas,Wt=jt.onDestroy}xt.premultipliedAlpha===void 0&&(xt.premultipliedAlpha=!0),ut=T(gr,xt)}return ut?{gl:ut,canvas:gr,container:Sr,extensions:st,optionalExtensions:bt,pixelRatio:St,profile:Pt,cachedCode:Et,onDone:Bt,onDestroy:Wt}:(Wt(),Bt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function r(xt,Qt){function jt(st){st=st.toLowerCase();var bt;try{bt=Sr[st]=xt.getExtension(st)}catch{}return!!bt}for(var Sr={},gr=0;gr<Qt.extensions.length;++gr){var ut=Qt.extensions[gr];if(!jt(ut))return Qt.onDestroy(),Qt.onDone('"'+ut+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Qt.optionalExtensions.forEach(jt),{extensions:Sr,restore:function(){Object.keys(Sr).forEach(function(st){if(Sr[st]&&!jt(st))throw Error("(regl): error restoring extension "+st)})}}}function u(xt,Qt){for(var jt=Array(xt),Sr=0;Sr<xt;++Sr)jt[Sr]=Qt(Sr);return jt}function n(xt){var Qt,jt;return Qt=(65535<xt)<<4,xt>>>=Qt,jt=(255<xt)<<3,xt>>>=jt,Qt|=jt,jt=(15<xt)<<2,xt>>>=jt,Qt|=jt,jt=(3<xt)<<1,Qt|jt|xt>>>jt>>1}function s(){function xt(Sr){e:{for(var gr=16;268435456>=gr;gr*=16)if(Sr<=gr){Sr=gr;break e}Sr=0}return gr=jt[n(Sr)>>2],0<gr.length?gr.pop():new ArrayBuffer(Sr)}function Qt(Sr){jt[n(Sr.byteLength)>>2].push(Sr)}var jt=u(8,function(){return[]});return{alloc:xt,free:Qt,allocType:function(Sr,gr){var ut=null;switch(Sr){case 5120:ut=new Int8Array(xt(gr),0,gr);break;case 5121:ut=new Uint8Array(xt(gr),0,gr);break;case 5122:ut=new Int16Array(xt(2*gr),0,gr);break;case 5123:ut=new Uint16Array(xt(2*gr),0,gr);break;case 5124:ut=new Int32Array(xt(4*gr),0,gr);break;case 5125:ut=new Uint32Array(xt(4*gr),0,gr);break;case 5126:ut=new Float32Array(xt(4*gr),0,gr);break;default:return null}return ut.length!==gr?ut.subarray(0,gr):ut},freeType:function(Sr){Qt(Sr.buffer)}}}function f(xt){return!!xt&&typeof xt=="object"&&Array.isArray(xt.shape)&&Array.isArray(xt.stride)&&typeof xt.offset=="number"&&xt.shape.length===xt.stride.length&&(Array.isArray(xt.data)||Te(xt.data))}function l(xt,Qt,jt,Sr,gr,ut){for(var st=0;st<Qt;++st)for(var bt=xt[st],St=0;St<jt;++St)for(var Pt=bt[St],Et=0;Et<Sr;++Et)gr[ut++]=Pt[Et]}function x(xt,Qt,jt,Sr,gr){for(var ut=1,st=jt+1;st<Qt.length;++st)ut*=Qt[st];var bt=Qt[jt];if(Qt.length-jt===4){var St=Qt[jt+1],Pt=Qt[jt+2];for(Qt=Qt[jt+3],st=0;st<bt;++st)l(xt[st],St,Pt,Qt,Sr,gr),gr+=ut}else for(st=0;st<bt;++st)x(xt[st],Qt,jt+1,Sr,gr),gr+=ut}function c(xt){return Ne[Object.prototype.toString.call(xt)]|0}function b(xt,Qt){for(var jt=0;jt<Qt.length;++jt)xt[jt]=Qt[jt]}function h(xt,Qt,jt,Sr,gr,ut,st){for(var bt=0,St=0;St<jt;++St)for(var Pt=0;Pt<Sr;++Pt)xt[bt++]=Qt[gr*St+ut*Pt+st]}function o(xt,Qt,jt,Sr){function gr(Bt){this.id=St++,this.buffer=xt.createBuffer(),this.type=Bt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,jt.profile&&(this.stats={size:0})}function ut(Bt,Wt,tr){Bt.byteLength=Wt.byteLength,xt.bufferData(Bt.type,Wt,tr)}function st(Bt,Wt,tr,er,ur,kr){if(Bt.usage=tr,Array.isArray(Wt)){if(Bt.dtype=er||5126,0<Wt.length)if(Array.isArray(Wt[0])){ur=rt(Wt);for(var We=er=1;We<ur.length;++We)er*=ur[We];Bt.dimension=er,Wt=Ve(Wt,ur,Bt.dtype),ut(Bt,Wt,tr),kr?Bt.persistentData=Wt:Fe.freeType(Wt)}else typeof Wt[0]=="number"?(Bt.dimension=ur,ur=Fe.allocType(Bt.dtype,Wt.length),b(ur,Wt),ut(Bt,ur,tr),kr?Bt.persistentData=ur:Fe.freeType(ur)):Te(Wt[0])&&(Bt.dimension=Wt[0].length,Bt.dtype=er||c(Wt[0])||5126,Wt=Ve(Wt,[Wt.length,Wt[0].length],Bt.dtype),ut(Bt,Wt,tr),kr?Bt.persistentData=Wt:Fe.freeType(Wt))}else if(Te(Wt))Bt.dtype=er||c(Wt),Bt.dimension=ur,ut(Bt,Wt,tr),kr&&(Bt.persistentData=new Uint8Array(new Uint8Array(Wt.buffer)));else if(f(Wt)){ur=Wt.shape;var Ge=Wt.stride,We=Wt.offset,_t=0,Ot=0,Kt=0,or=0;ur.length===1?(_t=ur[0],Ot=1,Kt=Ge[0],or=0):ur.length===2&&(_t=ur[0],Ot=ur[1],Kt=Ge[0],or=Ge[1]),Bt.dtype=er||c(Wt.data)||5126,Bt.dimension=Ot,ur=Fe.allocType(Bt.dtype,_t*Ot),h(ur,Wt.data,_t,Ot,Kt,or,We),ut(Bt,ur,tr),kr?Bt.persistentData=ur:Fe.freeType(ur)}else Wt instanceof ArrayBuffer&&(Bt.dtype=5121,Bt.dimension=ur,ut(Bt,Wt,tr),kr&&(Bt.persistentData=new Uint8Array(new Uint8Array(Wt))))}function bt(Bt){Qt.bufferCount--,Sr(Bt),xt.deleteBuffer(Bt.buffer),Bt.buffer=null,delete Pt[Bt.id]}var St=0,Pt={};gr.prototype.bind=function(){xt.bindBuffer(this.type,this.buffer)},gr.prototype.destroy=function(){bt(this)};var Et=[];return jt.profile&&(Qt.getTotalBufferSize=function(){var Bt=0;return Object.keys(Pt).forEach(function(Wt){Bt+=Pt[Wt].stats.size}),Bt}),{create:function(Bt,Wt,tr,er){function ur(We){var Ge=35044,_t=null,Ot=0,Kt=0,or=1;return Array.isArray(We)||Te(We)||f(We)||We instanceof ArrayBuffer?_t=We:typeof We=="number"?Ot=We|0:We&&("data"in We&&(_t=We.data),"usage"in We&&(Ge=Re[We.usage]),"type"in We&&(Kt=Ue[We.type]),"dimension"in We&&(or=We.dimension|0),"length"in We&&(Ot=We.length|0)),kr.bind(),_t?st(kr,_t,Ge,Kt,or,er):(Ot&&xt.bufferData(kr.type,Ot,Ge),kr.dtype=Kt||5121,kr.usage=Ge,kr.dimension=or,kr.byteLength=Ot),jt.profile&&(kr.stats.size=kr.byteLength*Qe[kr.dtype]),ur}Qt.bufferCount++;var kr=new gr(Wt);return Pt[kr.id]=kr,tr||ur(Bt),ur._reglType="buffer",ur._buffer=kr,ur.subdata=function(We,Ge){var _t=(Ge||0)|0,Ot;if(kr.bind(),Te(We)||We instanceof ArrayBuffer)xt.bufferSubData(kr.type,_t,We);else if(Array.isArray(We)){if(0<We.length)if(typeof We[0]=="number"){var Kt=Fe.allocType(kr.dtype,We.length);b(Kt,We),xt.bufferSubData(kr.type,_t,Kt),Fe.freeType(Kt)}else(Array.isArray(We[0])||Te(We[0]))&&(Ot=rt(We),Kt=Ve(We,Ot,kr.dtype),xt.bufferSubData(kr.type,_t,Kt),Fe.freeType(Kt))}else if(f(We)){Ot=We.shape;var or=We.stride,hr=Kt=0,ir=0,Nt=0;Ot.length===1?(Kt=Ot[0],hr=1,ir=or[0],Nt=0):Ot.length===2&&(Kt=Ot[0],hr=Ot[1],ir=or[0],Nt=or[1]),Ot=Array.isArray(We.data)?kr.dtype:c(We.data),Ot=Fe.allocType(Ot,Kt*hr),h(Ot,We.data,Kt,hr,ir,Nt,We.offset),xt.bufferSubData(kr.type,_t,Ot),Fe.freeType(Ot)}return ur},jt.profile&&(ur.stats=kr.stats),ur.destroy=function(){bt(kr)},ur},createStream:function(Bt,Wt){var tr=Et.pop();return tr||(tr=new gr(Bt)),tr.bind(),st(tr,Wt,35040,0,1,!1),tr},destroyStream:function(Bt){Et.push(Bt)},clear:function(){ye(Pt).forEach(bt),Et.forEach(bt)},getBuffer:function(Bt){return Bt&&Bt._buffer instanceof gr?Bt._buffer:null},restore:function(){ye(Pt).forEach(function(Bt){Bt.buffer=xt.createBuffer(),xt.bindBuffer(Bt.type,Bt.buffer),xt.bufferData(Bt.type,Bt.persistentData||Bt.byteLength,Bt.usage)})},_initBuffer:st}}function p(xt,Qt,jt,Sr){function gr(Bt){this.id=St++,bt[this.id]=this,this.buffer=Bt,this.primType=4,this.type=this.vertCount=0}function ut(Bt,Wt,tr,er,ur,kr,We){Bt.buffer.bind();var Ge;if(Wt?((Ge=We)||Te(Wt)&&(!f(Wt)||Te(Wt.data))||(Ge=Qt.oes_element_index_uint?5125:5123),jt._initBuffer(Bt.buffer,Wt,tr,Ge,3)):(xt.bufferData(34963,kr,tr),Bt.buffer.dtype=Ge||5121,Bt.buffer.usage=tr,Bt.buffer.dimension=3,Bt.buffer.byteLength=kr),Ge=We,!We){switch(Bt.buffer.dtype){case 5121:case 5120:Ge=5121;break;case 5123:case 5122:Ge=5123;break;case 5125:case 5124:Ge=5125}Bt.buffer.dtype=Ge}Bt.type=Ge,Wt=ur,0>Wt&&(Wt=Bt.buffer.byteLength,Ge===5123?Wt>>=1:Ge===5125&&(Wt>>=2)),Bt.vertCount=Wt,Wt=er,0>er&&(Wt=4,er=Bt.buffer.dimension,er===1&&(Wt=0),er===2&&(Wt=1),er===3&&(Wt=4)),Bt.primType=Wt}function st(Bt){Sr.elementsCount--,delete bt[Bt.id],Bt.buffer.destroy(),Bt.buffer=null}var bt={},St=0,Pt={uint8:5121,uint16:5123};Qt.oes_element_index_uint&&(Pt.uint32=5125),gr.prototype.bind=function(){this.buffer.bind()};var Et=[];return{create:function(Bt,Wt){function tr(kr){if(kr)if(typeof kr=="number")er(kr),ur.primType=4,ur.vertCount=kr|0,ur.type=5121;else{var We=null,Ge=35044,_t=-1,Ot=-1,Kt=0,or=0;Array.isArray(kr)||Te(kr)||f(kr)?We=kr:("data"in kr&&(We=kr.data),"usage"in kr&&(Ge=Re[kr.usage]),"primitive"in kr&&(_t=Je[kr.primitive]),"count"in kr&&(Ot=kr.count|0),"type"in kr&&(or=Pt[kr.type]),"length"in kr?Kt=kr.length|0:(Kt=Ot,or===5123||or===5122?Kt*=2:(or===5125||or===5124)&&(Kt*=4))),ut(ur,We,Ge,_t,Ot,Kt,or)}else er(),ur.primType=4,ur.vertCount=0,ur.type=5121;return tr}var er=jt.create(null,34963,!0),ur=new gr(er._buffer);return Sr.elementsCount++,tr(Bt),tr._reglType="elements",tr._elements=ur,tr.subdata=function(kr,We){return er.subdata(kr,We),tr},tr.destroy=function(){st(ur)},tr},createStream:function(Bt){var Wt=Et.pop();return Wt||(Wt=new gr(jt.create(null,34963,!0,!1)._buffer)),ut(Wt,Bt,35040,-1,-1,0,0),Wt},destroyStream:function(Bt){Et.push(Bt)},getElements:function(Bt){return typeof Bt=="function"&&Bt._elements instanceof gr?Bt._elements:null},clear:function(){ye(bt).forEach(st)}}}function S(xt){for(var Qt=Fe.allocType(5123,xt.length),jt=0;jt<xt.length;++jt)if(isNaN(xt[jt]))Qt[jt]=65535;else if(xt[jt]===1/0)Qt[jt]=31744;else if(xt[jt]===-1/0)Qt[jt]=64512;else{qe[0]=xt[jt];var ut=dt[0],Sr=ut>>>31<<15,gr=(ut<<1>>>24)-127,ut=ut>>13&1023;Qt[jt]=-24>gr?Sr:-14>gr?Sr+(ut+1024>>-14-gr):15<gr?Sr+31744:Sr+(gr+15<<10)+ut}return Qt}function A(xt){return Array.isArray(xt)||Te(xt)}function E(xt){return"[object "+xt+"]"}function m(xt){return Array.isArray(xt)&&(xt.length===0||typeof xt[0]=="number")}function M(xt){return!!(Array.isArray(xt)&&xt.length!==0&&A(xt[0]))}function w(xt){return Object.prototype.toString.call(xt)}function i(xt){if(!xt)return!1;var Qt=w(xt);return 0<=Ce.indexOf(Qt)?!0:m(xt)||M(xt)||f(xt)}function C(xt,Qt){xt.type===36193?(xt.data=S(Qt),Fe.freeType(Qt)):xt.data=Qt}function y(xt,Qt,jt,Sr,gr,ut){if(xt=typeof oe[xt]<"u"?oe[xt]:Ct[xt]*me[Qt],ut&&(xt*=6),gr){for(Sr=0;1<=jt;)Sr+=xt*jt*jt,jt/=2;return Sr}return xt*jt*Sr}function _(xt,Qt,jt,Sr,gr,ut,st){function bt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function St(Pr,dn){Pr.internalformat=dn.internalformat,Pr.format=dn.format,Pr.type=dn.type,Pr.compressed=dn.compressed,Pr.premultiplyAlpha=dn.premultiplyAlpha,Pr.flipY=dn.flipY,Pr.unpackAlignment=dn.unpackAlignment,Pr.colorSpace=dn.colorSpace,Pr.width=dn.width,Pr.height=dn.height,Pr.channels=dn.channels}function Pt(Pr,dn){if(typeof dn=="object"&&dn){"premultiplyAlpha"in dn&&(Pr.premultiplyAlpha=dn.premultiplyAlpha),"flipY"in dn&&(Pr.flipY=dn.flipY),"alignment"in dn&&(Pr.unpackAlignment=dn.alignment),"colorSpace"in dn&&(Pr.colorSpace=Tn[dn.colorSpace]),"type"in dn&&(Pr.type=rn[dn.type]);var cn=Pr.width,An=Pr.height,Qn=Pr.channels,zn=!1;"shape"in dn?(cn=dn.shape[0],An=dn.shape[1],dn.shape.length===3&&(Qn=dn.shape[2],zn=!0)):("radius"in dn&&(cn=An=dn.radius),"width"in dn&&(cn=dn.width),"height"in dn&&(An=dn.height),"channels"in dn&&(Qn=dn.channels,zn=!0)),Pr.width=cn|0,Pr.height=An|0,Pr.channels=Qn|0,cn=!1,"format"in dn&&(cn=dn.format,An=Pr.internalformat=Gn[cn],Pr.format=Rn[An],cn in rn&&!("type"in dn)&&(Pr.type=rn[cn]),cn in Hn&&(Pr.compressed=!0),cn=!0),!zn&&cn?Pr.channels=Ct[Pr.format]:zn&&!cn&&Pr.channels!==mt[Pr.format]&&(Pr.format=Pr.internalformat=mt[Pr.channels])}}function Et(Pr){xt.pixelStorei(37440,Pr.flipY),xt.pixelStorei(37441,Pr.premultiplyAlpha),xt.pixelStorei(37443,Pr.colorSpace),xt.pixelStorei(3317,Pr.unpackAlignment)}function Bt(){bt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Wt(Pr,dn){var cn=null;if(i(dn)?cn=dn:dn&&(Pt(Pr,dn),"x"in dn&&(Pr.xOffset=dn.x|0),"y"in dn&&(Pr.yOffset=dn.y|0),i(dn.data)&&(cn=dn.data)),dn.copy){var An=gr.viewportWidth,Qn=gr.viewportHeight;Pr.width=Pr.width||An-Pr.xOffset,Pr.height=Pr.height||Qn-Pr.yOffset,Pr.needsCopy=!0}else if(!cn)Pr.width=Pr.width||1,Pr.height=Pr.height||1,Pr.channels=Pr.channels||4;else if(Te(cn))Pr.channels=Pr.channels||4,Pr.data=cn,"type"in dn||Pr.type!==5121||(Pr.type=Ne[Object.prototype.toString.call(cn)]|0);else if(m(cn)){switch(Pr.channels=Pr.channels||4,An=cn,Qn=An.length,Pr.type){case 5121:case 5123:case 5125:case 5126:Qn=Fe.allocType(Pr.type,Qn),Qn.set(An),Pr.data=Qn;break;case 36193:Pr.data=S(An)}Pr.alignment=1,Pr.needsFree=!0}else if(f(cn)){An=cn.data,Array.isArray(An)||Pr.type!==5121||(Pr.type=Ne[Object.prototype.toString.call(An)]|0);var Qn=cn.shape,zn=cn.stride,Bn,qn,ya,Na;Qn.length===3?(ya=Qn[2],Na=zn[2]):Na=ya=1,Bn=Qn[0],qn=Qn[1],Qn=zn[0],zn=zn[1],Pr.alignment=1,Pr.width=Bn,Pr.height=qn,Pr.channels=ya,Pr.format=Pr.internalformat=mt[ya],Pr.needsFree=!0,Bn=Na,cn=cn.offset,ya=Pr.width,Na=Pr.height,qn=Pr.channels;for(var ii=Fe.allocType(Pr.type===36193?5126:Pr.type,ya*Na*qn),Jt=0,Mr=0;Mr<Na;++Mr)for(var hn=0;hn<ya;++hn)for(var xn=0;xn<qn;++xn)ii[Jt++]=An[Qn*hn+zn*Mr+Bn*xn+cn];C(Pr,ii)}else if(w(cn)===Rt||w(cn)===Zt||w(cn)===Xe)w(cn)===Rt||w(cn)===Zt?Pr.element=cn:Pr.element=cn.canvas,Pr.width=Pr.element.width,Pr.height=Pr.element.height,Pr.channels=4;else if(w(cn)===Le)Pr.element=cn,Pr.width=cn.width,Pr.height=cn.height,Pr.channels=4;else if(w(cn)===Pe)Pr.element=cn,Pr.width=cn.naturalWidth,Pr.height=cn.naturalHeight,Pr.channels=4;else if(w(cn)===ke)Pr.element=cn,Pr.width=cn.videoWidth,Pr.height=cn.videoHeight,Pr.channels=4;else if(M(cn)){for(An=Pr.width||cn[0].length,Qn=Pr.height||cn.length,zn=Pr.channels,zn=A(cn[0][0])?zn||cn[0][0].length:zn||1,Bn=Ae.shape(cn),ya=1,Na=0;Na<Bn.length;++Na)ya*=Bn[Na];ya=Fe.allocType(Pr.type===36193?5126:Pr.type,ya),Ae.flatten(cn,Bn,"",ya),C(Pr,ya),Pr.alignment=1,Pr.width=An,Pr.height=Qn,Pr.channels=zn,Pr.format=Pr.internalformat=mt[zn],Pr.needsFree=!0}}function tr(Pr,dn,cn,An,Qn){var zn=Pr.element,Bn=Pr.data,qn=Pr.internalformat,ya=Pr.format,Na=Pr.type,ii=Pr.width,Jt=Pr.height;Et(Pr),zn?xt.texSubImage2D(dn,Qn,cn,An,ya,Na,zn):Pr.compressed?xt.compressedTexSubImage2D(dn,Qn,cn,An,qn,ii,Jt,Bn):Pr.needsCopy?(Sr(),xt.copyTexSubImage2D(dn,Qn,cn,An,Pr.xOffset,Pr.yOffset,ii,Jt)):xt.texSubImage2D(dn,Qn,cn,An,ii,Jt,ya,Na,Bn)}function er(){return Un.pop()||new Bt}function ur(Pr){Pr.needsFree&&Fe.freeType(Pr.data),Bt.call(Pr),Un.push(Pr)}function kr(){bt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function We(Pr,dn,cn){var An=Pr.images[0]=er();Pr.mipmask=1,An.width=Pr.width=dn,An.height=Pr.height=cn,An.channels=Pr.channels=4}function Ge(Pr,dn){var cn=null;if(i(dn))cn=Pr.images[0]=er(),St(cn,Pr),Wt(cn,dn),Pr.mipmask=1;else if(Pt(Pr,dn),Array.isArray(dn.mipmap))for(var An=dn.mipmap,Qn=0;Qn<An.length;++Qn)cn=Pr.images[Qn]=er(),St(cn,Pr),cn.width>>=Qn,cn.height>>=Qn,Wt(cn,An[Qn]),Pr.mipmask|=1<<Qn;else cn=Pr.images[0]=er(),St(cn,Pr),Wt(cn,dn),Pr.mipmask=1;St(Pr,Pr.images[0])}function _t(Pr,dn){for(var cn=Pr.images,An=0;An<cn.length&&cn[An];++An){var Qn=cn[An],zn=dn,Bn=An,qn=Qn.element,ya=Qn.data,Na=Qn.internalformat,ii=Qn.format,Jt=Qn.type,Mr=Qn.width,hn=Qn.height;Et(Qn),qn?xt.texImage2D(zn,Bn,ii,ii,Jt,qn):Qn.compressed?xt.compressedTexImage2D(zn,Bn,Na,Mr,hn,0,ya):Qn.needsCopy?(Sr(),xt.copyTexImage2D(zn,Bn,ii,Qn.xOffset,Qn.yOffset,Mr,hn,0)):xt.texImage2D(zn,Bn,ii,Mr,hn,0,ii,Jt,ya||null)}}function Ot(){var Pr=oa.pop()||new kr;bt.call(Pr);for(var dn=Pr.mipmask=0;16>dn;++dn)Pr.images[dn]=null;return Pr}function Kt(Pr){for(var dn=Pr.images,cn=0;cn<dn.length;++cn)dn[cn]&&ur(dn[cn]),dn[cn]=null;oa.push(Pr)}function or(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function hr(Pr,dn){"min"in dn&&(Pr.minFilter=Ur[dn.min],0<=pt.indexOf(Pr.minFilter)&&!("faces"in dn)&&(Pr.genMipmaps=!0)),"mag"in dn&&(Pr.magFilter=Nr[dn.mag]);var cn=Pr.wrapS,An=Pr.wrapT;if("wrap"in dn){var Qn=dn.wrap;typeof Qn=="string"?cn=An=Kr[Qn]:Array.isArray(Qn)&&(cn=Kr[Qn[0]],An=Kr[Qn[1]])}else"wrapS"in dn&&(cn=Kr[dn.wrapS]),"wrapT"in dn&&(An=Kr[dn.wrapT]);if(Pr.wrapS=cn,Pr.wrapT=An,"anisotropic"in dn&&(Pr.anisotropic=dn.anisotropic),"mipmap"in dn){switch(cn=!1,typeof dn.mipmap){case"string":Pr.mipmapHint=yr[dn.mipmap],cn=Pr.genMipmaps=!0;break;case"boolean":cn=Pr.genMipmaps=dn.mipmap;break;case"object":Pr.genMipmaps=!1,cn=!0}!cn||"min"in dn||(Pr.minFilter=9984)}}function ir(Pr,dn){xt.texParameteri(dn,10241,Pr.minFilter),xt.texParameteri(dn,10240,Pr.magFilter),xt.texParameteri(dn,10242,Pr.wrapS),xt.texParameteri(dn,10243,Pr.wrapT),Qt.ext_texture_filter_anisotropic&&xt.texParameteri(dn,34046,Pr.anisotropic),Pr.genMipmaps&&(xt.hint(33170,Pr.mipmapHint),xt.generateMipmap(dn))}function Nt(Pr){bt.call(this),this.mipmask=0,this.internalformat=6408,this.id=ua++,this.refCount=1,this.target=Pr,this.texture=xt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new or,st.profile&&(this.stats={size:0})}function vr(Pr){xt.activeTexture(33984),xt.bindTexture(Pr.target,Pr.texture)}function mr(){var Pr=ca[0];Pr?xt.bindTexture(Pr.target,Pr.texture):xt.bindTexture(3553,null)}function xr(Pr){var dn=Pr.texture,cn=Pr.unit,An=Pr.target;0<=cn&&(xt.activeTexture(33984+cn),xt.bindTexture(An,null),ca[cn]=null),xt.deleteTexture(dn),Pr.texture=null,Pr.params=null,Pr.pixels=null,Pr.refCount=0,delete xa[Pr.id],ut.textureCount--}var yr={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Kr={repeat:10497,clamp:33071,mirror:33648},Nr={nearest:9728,linear:9729},Ur=ne({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Nr),Tn={none:0,browser:37444},rn={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Gn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},Hn={};Qt.ext_srgb&&(Gn.srgb=35904,Gn.srgba=35906),Qt.oes_texture_float&&(rn.float32=rn.float=5126),Qt.oes_texture_half_float&&(rn.float16=rn["half float"]=36193),Qt.webgl_depth_texture&&(ne(Gn,{depth:6402,"depth stencil":34041}),ne(rn,{uint16:5123,uint32:5125,"depth stencil":34042})),Qt.webgl_compressed_texture_s3tc&&ne(Hn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Qt.webgl_compressed_texture_atc&&ne(Hn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Qt.webgl_compressed_texture_pvrtc&&ne(Hn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Qt.webgl_compressed_texture_etc1&&(Hn["rgb etc1"]=36196);var Ar=Array.prototype.slice.call(xt.getParameter(34467));Object.keys(Hn).forEach(function(Pr){var dn=Hn[Pr];0<=Ar.indexOf(dn)&&(Gn[Pr]=dn)});var Cr=Object.keys(Gn);jt.textureFormats=Cr;var Yr=[];Object.keys(Gn).forEach(function(Pr){Yr[Gn[Pr]]=Pr});var Zr=[];Object.keys(rn).forEach(function(Pr){Zr[rn[Pr]]=Pr});var un=[];Object.keys(Nr).forEach(function(Pr){un[Nr[Pr]]=Pr});var mn=[];Object.keys(Ur).forEach(function(Pr){mn[Ur[Pr]]=Pr});var pn=[];Object.keys(Kr).forEach(function(Pr){pn[Kr[Pr]]=Pr});var Rn=Cr.reduce(function(Pr,dn){var cn=Gn[dn];return cn===6409||cn===6406||cn===6409||cn===6410||cn===6402||cn===34041||Qt.ext_srgb&&(cn===35904||cn===35906)?Pr[cn]=cn:cn===32855||0<=dn.indexOf("rgba")?Pr[cn]=6408:Pr[cn]=6407,Pr},{}),Un=[],oa=[],ua=0,xa={},va=jt.maxTextureUnits,ca=Array(va).map(function(){return null});return ne(Nt.prototype,{bind:function(){this.bindCount+=1;var Pr=this.unit;if(0>Pr){for(var dn=0;dn<va;++dn){var cn=ca[dn];if(cn){if(0<cn.bindCount)continue;cn.unit=-1}ca[dn]=this,Pr=dn;break}st.profile&&ut.maxTextureUnits<Pr+1&&(ut.maxTextureUnits=Pr+1),this.unit=Pr,xt.activeTexture(33984+Pr),xt.bindTexture(this.target,this.texture)}return Pr},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&xr(this)}}),st.profile&&(ut.getTotalTextureSize=function(){var Pr=0;return Object.keys(xa).forEach(function(dn){Pr+=xa[dn].stats.size}),Pr}),{create2D:function(Pr,dn){function cn(Qn,zn){var Bn=An.texInfo;or.call(Bn);var qn=Ot();return typeof Qn=="number"?typeof zn=="number"?We(qn,Qn|0,zn|0):We(qn,Qn|0,Qn|0):Qn?(hr(Bn,Qn),Ge(qn,Qn)):We(qn,1,1),Bn.genMipmaps&&(qn.mipmask=(qn.width<<1)-1),An.mipmask=qn.mipmask,St(An,qn),An.internalformat=qn.internalformat,cn.width=qn.width,cn.height=qn.height,vr(An),_t(qn,3553),ir(Bn,3553),mr(),Kt(qn),st.profile&&(An.stats.size=y(An.internalformat,An.type,qn.width,qn.height,Bn.genMipmaps,!1)),cn.format=Yr[An.internalformat],cn.type=Zr[An.type],cn.mag=un[Bn.magFilter],cn.min=mn[Bn.minFilter],cn.wrapS=pn[Bn.wrapS],cn.wrapT=pn[Bn.wrapT],cn}var An=new Nt(3553);return xa[An.id]=An,ut.textureCount++,cn(Pr,dn),cn.subimage=function(Qn,zn,Bn,qn){zn|=0,Bn|=0,qn|=0;var ya=er();return St(ya,An),ya.width=0,ya.height=0,Wt(ya,Qn),ya.width=ya.width||(An.width>>qn)-zn,ya.height=ya.height||(An.height>>qn)-Bn,vr(An),tr(ya,3553,zn,Bn,qn),mr(),ur(ya),cn},cn.resize=function(Qn,zn){var Bn=Qn|0,qn=zn|0||Bn;if(Bn===An.width&&qn===An.height)return cn;cn.width=An.width=Bn,cn.height=An.height=qn,vr(An);for(var ya=0;An.mipmask>>ya;++ya){var Na=Bn>>ya,ii=qn>>ya;if(!Na||!ii)break;xt.texImage2D(3553,ya,An.format,Na,ii,0,An.format,An.type,null)}return mr(),st.profile&&(An.stats.size=y(An.internalformat,An.type,Bn,qn,!1,!1)),cn},cn._reglType="texture2d",cn._texture=An,st.profile&&(cn.stats=An.stats),cn.destroy=function(){An.decRef()},cn},createCube:function(Pr,dn,cn,An,Qn,zn){function Bn(Na,ii,Jt,Mr,hn,xn){var bn,Nn=qn.texInfo;for(or.call(Nn),bn=0;6>bn;++bn)ya[bn]=Ot();if(typeof Na=="number"||!Na)for(Na=Na|0||1,bn=0;6>bn;++bn)We(ya[bn],Na,Na);else if(typeof Na=="object")if(ii)Ge(ya[0],Na),Ge(ya[1],ii),Ge(ya[2],Jt),Ge(ya[3],Mr),Ge(ya[4],hn),Ge(ya[5],xn);else if(hr(Nn,Na),Pt(qn,Na),"faces"in Na)for(Na=Na.faces,bn=0;6>bn;++bn)St(ya[bn],qn),Ge(ya[bn],Na[bn]);else for(bn=0;6>bn;++bn)Ge(ya[bn],Na);for(St(qn,ya[0]),qn.mipmask=Nn.genMipmaps?(ya[0].width<<1)-1:ya[0].mipmask,qn.internalformat=ya[0].internalformat,Bn.width=ya[0].width,Bn.height=ya[0].height,vr(qn),bn=0;6>bn;++bn)_t(ya[bn],34069+bn);for(ir(Nn,34067),mr(),st.profile&&(qn.stats.size=y(qn.internalformat,qn.type,Bn.width,Bn.height,Nn.genMipmaps,!0)),Bn.format=Yr[qn.internalformat],Bn.type=Zr[qn.type],Bn.mag=un[Nn.magFilter],Bn.min=mn[Nn.minFilter],Bn.wrapS=pn[Nn.wrapS],Bn.wrapT=pn[Nn.wrapT],bn=0;6>bn;++bn)Kt(ya[bn]);return Bn}var qn=new Nt(34067);xa[qn.id]=qn,ut.cubeCount++;var ya=Array(6);return Bn(Pr,dn,cn,An,Qn,zn),Bn.subimage=function(Na,ii,Jt,Mr,hn){Jt|=0,Mr|=0,hn|=0;var xn=er();return St(xn,qn),xn.width=0,xn.height=0,Wt(xn,ii),xn.width=xn.width||(qn.width>>hn)-Jt,xn.height=xn.height||(qn.height>>hn)-Mr,vr(qn),tr(xn,34069+Na,Jt,Mr,hn),mr(),ur(xn),Bn},Bn.resize=function(Na){if(Na|=0,Na!==qn.width){Bn.width=qn.width=Na,Bn.height=qn.height=Na,vr(qn);for(var ii=0;6>ii;++ii)for(var Jt=0;qn.mipmask>>Jt;++Jt)xt.texImage2D(34069+ii,Jt,qn.format,Na>>Jt,Na>>Jt,0,qn.format,qn.type,null);return mr(),st.profile&&(qn.stats.size=y(qn.internalformat,qn.type,Bn.width,Bn.height,!1,!0)),Bn}},Bn._reglType="textureCube",Bn._texture=qn,st.profile&&(Bn.stats=qn.stats),Bn.destroy=function(){qn.decRef()},Bn},clear:function(){for(var Pr=0;Pr<va;++Pr)xt.activeTexture(33984+Pr),xt.bindTexture(3553,null),ca[Pr]=null;ye(xa).forEach(xr),ut.cubeCount=0,ut.textureCount=0},getTexture:function(Pr){return null},restore:function(){for(var Pr=0;Pr<va;++Pr){var dn=ca[Pr];dn&&(dn.bindCount=0,dn.unit=-1,ca[Pr]=null)}ye(xa).forEach(function(cn){cn.texture=xt.createTexture(),xt.bindTexture(cn.target,cn.texture);for(var An=0;32>An;++An)if(cn.mipmask&1<<An)if(cn.target===3553)xt.texImage2D(3553,An,cn.internalformat,cn.width>>An,cn.height>>An,0,cn.internalformat,cn.type,null);else for(var Qn=0;6>Qn;++Qn)xt.texImage2D(34069+Qn,An,cn.internalformat,cn.width>>An,cn.height>>An,0,cn.internalformat,cn.type,null);ir(cn.texInfo,cn.target)})},refresh:function(){for(var Pr=0;Pr<va;++Pr){var dn=ca[Pr];dn&&(dn.bindCount=0,dn.unit=-1,ca[Pr]=null),xt.activeTexture(33984+Pr),xt.bindTexture(3553,null),xt.bindTexture(34067,null)}}}}function I(xt,Qt,jt,Sr,gr,ut){function st(Nt,vr,mr){this.target=Nt,this.texture=vr,this.renderbuffer=mr;var xr=Nt=0;vr?(Nt=vr.width,xr=vr.height):mr&&(Nt=mr.width,xr=mr.height),this.width=Nt,this.height=xr}function bt(Nt){Nt&&(Nt.texture&&Nt.texture._texture.decRef(),Nt.renderbuffer&&Nt.renderbuffer._renderbuffer.decRef())}function St(Nt,vr,mr){Nt&&(Nt.texture?Nt.texture._texture.refCount+=1:Nt.renderbuffer._renderbuffer.refCount+=1)}function Pt(Nt,vr){vr&&(vr.texture?xt.framebufferTexture2D(36160,Nt,vr.target,vr.texture._texture.texture,0):xt.framebufferRenderbuffer(36160,Nt,36161,vr.renderbuffer._renderbuffer.renderbuffer))}function Et(Nt){var vr=3553,mr=null,xr=null,yr=Nt;return typeof Nt=="object"&&(yr=Nt.data,"target"in Nt&&(vr=Nt.target|0)),Nt=yr._reglType,Nt==="texture2d"||Nt==="textureCube"?mr=yr:Nt==="renderbuffer"&&(xr=yr,vr=36161),new st(vr,mr,xr)}function Bt(Nt,vr,mr,xr,yr){return mr?(Nt=Sr.create2D({width:Nt,height:vr,format:xr,type:yr}),Nt._texture.refCount=0,new st(3553,Nt,null)):(Nt=gr.create({width:Nt,height:vr,format:xr}),Nt._renderbuffer.refCount=0,new st(36161,null,Nt))}function Wt(Nt){return Nt&&(Nt.texture||Nt.renderbuffer)}function tr(Nt,vr,mr){Nt&&(Nt.texture?Nt.texture.resize(vr,mr):Nt.renderbuffer&&Nt.renderbuffer.resize(vr,mr),Nt.width=vr,Nt.height=mr)}function er(){this.id=hr++,ir[this.id]=this,this.framebuffer=xt.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function ur(Nt){Nt.colorAttachments.forEach(bt),bt(Nt.depthAttachment),bt(Nt.stencilAttachment),bt(Nt.depthStencilAttachment)}function kr(Nt){xt.deleteFramebuffer(Nt.framebuffer),Nt.framebuffer=null,ut.framebufferCount--,delete ir[Nt.id]}function We(Nt){var vr;xt.bindFramebuffer(36160,Nt.framebuffer);var mr=Nt.colorAttachments;for(vr=0;vr<mr.length;++vr)Pt(36064+vr,mr[vr]);for(vr=mr.length;vr<jt.maxColorAttachments;++vr)xt.framebufferTexture2D(36160,36064+vr,3553,null,0);xt.framebufferTexture2D(36160,33306,3553,null,0),xt.framebufferTexture2D(36160,36096,3553,null,0),xt.framebufferTexture2D(36160,36128,3553,null,0),Pt(36096,Nt.depthAttachment),Pt(36128,Nt.stencilAttachment),Pt(33306,Nt.depthStencilAttachment),xt.checkFramebufferStatus(36160),xt.isContextLost(),xt.bindFramebuffer(36160,_t.next?_t.next.framebuffer:null),_t.cur=_t.next,xt.getError()}function Ge(Nt,vr){function mr(yr,Kr){var Nr,Ur=0,Tn=0,rn=!0,Gn=!0;Nr=null;var Hn=!0,Ar="rgba",Cr="uint8",Yr=1,Zr=null,un=null,mn=null,pn=!1;typeof yr=="number"?(Ur=yr|0,Tn=Kr|0||Ur):yr?("shape"in yr?(Tn=yr.shape,Ur=Tn[0],Tn=Tn[1]):("radius"in yr&&(Ur=Tn=yr.radius),"width"in yr&&(Ur=yr.width),"height"in yr&&(Tn=yr.height)),("color"in yr||"colors"in yr)&&(Nr=yr.color||yr.colors),Nr||("colorCount"in yr&&(Yr=yr.colorCount|0),"colorTexture"in yr&&(Hn=!!yr.colorTexture,Ar="rgba4"),"colorType"in yr&&(Cr=yr.colorType,!Hn)&&(Cr==="half float"||Cr==="float16"?Ar="rgba16f":(Cr==="float"||Cr==="float32")&&(Ar="rgba32f")),"colorFormat"in yr&&(Ar=yr.colorFormat,0<=Ot.indexOf(Ar)?Hn=!0:0<=Kt.indexOf(Ar)&&(Hn=!1))),("depthTexture"in yr||"depthStencilTexture"in yr)&&(pn=!(!yr.depthTexture&&!yr.depthStencilTexture)),"depth"in yr&&(typeof yr.depth=="boolean"?rn=yr.depth:(Zr=yr.depth,Gn=!1)),"stencil"in yr&&(typeof yr.stencil=="boolean"?Gn=yr.stencil:(un=yr.stencil,rn=!1)),"depthStencil"in yr&&(typeof yr.depthStencil=="boolean"?rn=Gn=yr.depthStencil:(mn=yr.depthStencil,Gn=rn=!1))):Ur=Tn=1;var Rn=null,Un=null,oa=null,ua=null;if(Array.isArray(Nr))Rn=Nr.map(Et);else if(Nr)Rn=[Et(Nr)];else for(Rn=Array(Yr),Nr=0;Nr<Yr;++Nr)Rn[Nr]=Bt(Ur,Tn,Hn,Ar,Cr);for(Ur=Ur||Rn[0].width,Tn=Tn||Rn[0].height,Zr?Un=Et(Zr):rn&&!Gn&&(Un=Bt(Ur,Tn,pn,"depth","uint32")),un?oa=Et(un):Gn&&!rn&&(oa=Bt(Ur,Tn,!1,"stencil","uint8")),mn?ua=Et(mn):!Zr&&!un&&Gn&&rn&&(ua=Bt(Ur,Tn,pn,"depth stencil","depth stencil")),rn=null,Nr=0;Nr<Rn.length;++Nr)St(Rn[Nr]),Rn[Nr]&&Rn[Nr].texture&&(Gn=_e[Rn[Nr].texture._texture.format]*tt[Rn[Nr].texture._texture.type],rn===null&&(rn=Gn));return St(Un),St(oa),St(ua),ur(xr),xr.width=Ur,xr.height=Tn,xr.colorAttachments=Rn,xr.depthAttachment=Un,xr.stencilAttachment=oa,xr.depthStencilAttachment=ua,mr.color=Rn.map(Wt),mr.depth=Wt(Un),mr.stencil=Wt(oa),mr.depthStencil=Wt(ua),mr.width=xr.width,mr.height=xr.height,We(xr),mr}var xr=new er;return ut.framebufferCount++,mr(Nt,vr),ne(mr,{resize:function(yr,Kr){var Nr=Math.max(yr|0,1),Ur=Math.max(Kr|0||Nr,1);if(Nr===xr.width&&Ur===xr.height)return mr;for(var Tn=xr.colorAttachments,rn=0;rn<Tn.length;++rn)tr(Tn[rn],Nr,Ur);return tr(xr.depthAttachment,Nr,Ur),tr(xr.stencilAttachment,Nr,Ur),tr(xr.depthStencilAttachment,Nr,Ur),xr.width=mr.width=Nr,xr.height=mr.height=Ur,We(xr),mr},_reglType:"framebuffer",_framebuffer:xr,destroy:function(){kr(xr),ur(xr)},use:function(yr){_t.setFBO({framebuffer:mr},yr)}})}var _t={cur:null,next:null,dirty:!1,setFBO:null},Ot=["rgba"],Kt=["rgba4","rgb565","rgb5 a1"];Qt.ext_srgb&&Kt.push("srgba"),Qt.ext_color_buffer_half_float&&Kt.push("rgba16f","rgb16f"),Qt.webgl_color_buffer_float&&Kt.push("rgba32f");var or=["uint8"];Qt.oes_texture_half_float&&or.push("half float","float16"),Qt.oes_texture_float&&or.push("float","float32");var hr=0,ir={};return ne(_t,{getFramebuffer:function(Nt){return typeof Nt=="function"&&Nt._reglType==="framebuffer"&&(Nt=Nt._framebuffer,Nt instanceof er)?Nt:null},create:Ge,createCube:function(Nt){function vr(xr){var yr,Kr={color:null},Nr=0,Ur=null;yr="rgba";var Tn="uint8",rn=1;if(typeof xr=="number"?Nr=xr|0:xr?("shape"in xr?Nr=xr.shape[0]:("radius"in xr&&(Nr=xr.radius|0),"width"in xr?Nr=xr.width|0:"height"in xr&&(Nr=xr.height|0)),("color"in xr||"colors"in xr)&&(Ur=xr.color||xr.colors),Ur||("colorCount"in xr&&(rn=xr.colorCount|0),"colorType"in xr&&(Tn=xr.colorType),"colorFormat"in xr&&(yr=xr.colorFormat)),"depth"in xr&&(Kr.depth=xr.depth),"stencil"in xr&&(Kr.stencil=xr.stencil),"depthStencil"in xr&&(Kr.depthStencil=xr.depthStencil)):Nr=1,Ur)if(Array.isArray(Ur))for(xr=[],yr=0;yr<Ur.length;++yr)xr[yr]=Ur[yr];else xr=[Ur];else for(xr=Array(rn),Ur={radius:Nr,format:yr,type:Tn},yr=0;yr<rn;++yr)xr[yr]=Sr.createCube(Ur);for(Kr.color=Array(xr.length),yr=0;yr<xr.length;++yr)rn=xr[yr],Nr=Nr||rn.width,Kr.color[yr]={target:34069,data:xr[yr]};for(yr=0;6>yr;++yr){for(rn=0;rn<xr.length;++rn)Kr.color[rn].target=34069+yr;0<yr&&(Kr.depth=mr[0].depth,Kr.stencil=mr[0].stencil,Kr.depthStencil=mr[0].depthStencil),mr[yr]?mr[yr](Kr):mr[yr]=Ge(Kr)}return ne(vr,{width:Nr,height:Nr,color:xr})}var mr=Array(6);return vr(Nt),ne(vr,{faces:mr,resize:function(xr){var yr=xr|0;if(yr===vr.width)return vr;var Kr=vr.color;for(xr=0;xr<Kr.length;++xr)Kr[xr].resize(yr);for(xr=0;6>xr;++xr)mr[xr].resize(yr);return vr.width=vr.height=yr,vr},_reglType:"framebufferCube",destroy:function(){mr.forEach(function(xr){xr.destroy()})}})},clear:function(){ye(ir).forEach(kr)},restore:function(){_t.cur=null,_t.next=null,_t.dirty=!0,ye(ir).forEach(function(Nt){Nt.framebuffer=xt.createFramebuffer(),We(Nt)})}})}function N(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function k(xt,Qt,jt,Sr,gr,ut,st){function bt(We){if(We!==kr.currentVAO){var Ge=Qt.oes_vertex_array_object;We?Ge.bindVertexArrayOES(We.vao):Ge.bindVertexArrayOES(null),kr.currentVAO=We}}function St(We){if(We!==kr.currentVAO){if(We)We.bindAttrs();else{for(var Ge=Qt.angle_instanced_arrays,_t=0;_t<tr.length;++_t){var Ot=tr[_t];Ot.buffer?(xt.enableVertexAttribArray(_t),Ot.buffer.bind(),xt.vertexAttribPointer(_t,Ot.size,Ot.type,Ot.normalized,Ot.stride,Ot.offfset),Ge&&Ot.divisor&&Ge.vertexAttribDivisorANGLE(_t,Ot.divisor)):(xt.disableVertexAttribArray(_t),xt.vertexAttrib4f(_t,Ot.x,Ot.y,Ot.z,Ot.w))}st.elements?xt.bindBuffer(34963,st.elements.buffer.buffer):xt.bindBuffer(34963,null)}kr.currentVAO=We}}function Pt(){ye(ur).forEach(function(We){We.destroy()})}function Et(){this.id=++er,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var We=Qt.oes_vertex_array_object;this.vao=We?We.createVertexArrayOES():null,ur[this.id]=this,this.buffers=[]}function Bt(){Qt.oes_vertex_array_object&&ye(ur).forEach(function(We){We.refresh()})}var Wt=jt.maxAttributes,tr=Array(Wt);for(jt=0;jt<Wt;++jt)tr[jt]=new N;var er=0,ur={},kr={Record:N,scope:{},state:tr,currentVAO:null,targetVAO:null,restore:Qt.oes_vertex_array_object?Bt:function(){},createVAO:function(We){function Ge(Ot){var Kt;Array.isArray(Ot)?(Kt=Ot,_t.elements&&_t.ownsElements&&_t.elements.destroy(),_t.elements=null,_t.ownsElements=!1,_t.offset=0,_t.count=0,_t.instances=-1,_t.primitive=4):(Ot.elements?(Kt=Ot.elements,_t.ownsElements?(typeof Kt=="function"&&Kt._reglType==="elements"?_t.elements.destroy():_t.elements(Kt),_t.ownsElements=!1):ut.getElements(Ot.elements)?(_t.elements=Ot.elements,_t.ownsElements=!1):(_t.elements=ut.create(Ot.elements),_t.ownsElements=!0)):(_t.elements=null,_t.ownsElements=!1),Kt=Ot.attributes,_t.offset=0,_t.count=-1,_t.instances=-1,_t.primitive=4,_t.elements&&(_t.count=_t.elements._elements.vertCount,_t.primitive=_t.elements._elements.primType),"offset"in Ot&&(_t.offset=Ot.offset|0),"count"in Ot&&(_t.count=Ot.count|0),"instances"in Ot&&(_t.instances=Ot.instances|0),"primitive"in Ot&&(_t.primitive=Je[Ot.primitive])),Ot={};var or=_t.attributes;or.length=Kt.length;for(var hr=0;hr<Kt.length;++hr){var ir=Kt[hr],Nt=or[hr]=new N,vr=ir.data||ir;if(Array.isArray(vr)||Te(vr)||f(vr)){var mr;_t.buffers[hr]&&(mr=_t.buffers[hr],Te(vr)&&mr._buffer.byteLength>=vr.byteLength?mr.subdata(vr):(mr.destroy(),_t.buffers[hr]=null)),_t.buffers[hr]||(mr=_t.buffers[hr]=gr.create(ir,34962,!1,!0)),Nt.buffer=gr.getBuffer(mr),Nt.size=Nt.buffer.dimension|0,Nt.normalized=!1,Nt.type=Nt.buffer.dtype,Nt.offset=0,Nt.stride=0,Nt.divisor=0,Nt.state=1,Ot[hr]=1}else gr.getBuffer(ir)?(Nt.buffer=gr.getBuffer(ir),Nt.size=Nt.buffer.dimension|0,Nt.normalized=!1,Nt.type=Nt.buffer.dtype,Nt.offset=0,Nt.stride=0,Nt.divisor=0,Nt.state=1):gr.getBuffer(ir.buffer)?(Nt.buffer=gr.getBuffer(ir.buffer),Nt.size=(+ir.size||Nt.buffer.dimension)|0,Nt.normalized=!!ir.normalized||!1,Nt.type="type"in ir?Ue[ir.type]:Nt.buffer.dtype,Nt.offset=(ir.offset||0)|0,Nt.stride=(ir.stride||0)|0,Nt.divisor=(ir.divisor||0)|0,Nt.state=1):"x"in ir&&(Nt.x=+ir.x||0,Nt.y=+ir.y||0,Nt.z=+ir.z||0,Nt.w=+ir.w||0,Nt.state=2)}for(mr=0;mr<_t.buffers.length;++mr)!Ot[mr]&&_t.buffers[mr]&&(_t.buffers[mr].destroy(),_t.buffers[mr]=null);return _t.refresh(),Ge}var _t=new Et;return Sr.vaoCount+=1,Ge.destroy=function(){for(var Ot=0;Ot<_t.buffers.length;++Ot)_t.buffers[Ot]&&_t.buffers[Ot].destroy();_t.buffers.length=0,_t.ownsElements&&(_t.elements.destroy(),_t.elements=null,_t.ownsElements=!1),_t.destroy()},Ge._vao=_t,Ge._reglType="vao",Ge(We)},getVAO:function(We){return typeof We=="function"&&We._vao?We._vao:null},destroyBuffer:function(We){for(var Ge=0;Ge<tr.length;++Ge){var _t=tr[Ge];_t.buffer===We&&(xt.disableVertexAttribArray(Ge),_t.buffer=null)}},setVAO:Qt.oes_vertex_array_object?bt:St,clear:Qt.oes_vertex_array_object?Pt:function(){}};return Et.prototype.bindAttrs=function(){for(var We=Qt.angle_instanced_arrays,Ge=this.attributes,_t=0;_t<Ge.length;++_t){var Ot=Ge[_t];Ot.buffer?(xt.enableVertexAttribArray(_t),xt.bindBuffer(34962,Ot.buffer.buffer),xt.vertexAttribPointer(_t,Ot.size,Ot.type,Ot.normalized,Ot.stride,Ot.offset),We&&Ot.divisor&&We.vertexAttribDivisorANGLE(_t,Ot.divisor)):(xt.disableVertexAttribArray(_t),xt.vertexAttrib4f(_t,Ot.x,Ot.y,Ot.z,Ot.w))}for(We=Ge.length;We<Wt;++We)xt.disableVertexAttribArray(We);(We=ut.getElements(this.elements))?xt.bindBuffer(34963,We.buffer.buffer):xt.bindBuffer(34963,null)},Et.prototype.refresh=function(){var We=Qt.oes_vertex_array_object;We&&(We.bindVertexArrayOES(this.vao),this.bindAttrs(),kr.currentVAO=null,We.bindVertexArrayOES(null))},Et.prototype.destroy=function(){if(this.vao){var We=Qt.oes_vertex_array_object;this===kr.currentVAO&&(kr.currentVAO=null,We.bindVertexArrayOES(null)),We.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),ur[this.id]&&(delete ur[this.id],--Sr.vaoCount)},kr}function O(xt,Qt,jt,Sr){function gr(er,ur,kr,We){this.name=er,this.id=ur,this.location=kr,this.info=We}function ut(er,ur){for(var kr=0;kr<er.length;++kr)if(er[kr].id===ur.id){er[kr].location=ur.location;return}er.push(ur)}function st(er,ur,kr){kr=er===35632?Pt:Et;var We=kr[ur];if(!We){var Ge=Qt.str(ur),We=xt.createShader(er);xt.shaderSource(We,Ge),xt.compileShader(We),kr[ur]=We}return We}function bt(er,ur){this.id=tr++,this.fragId=er,this.vertId=ur,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,Sr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function St(er,ur,kr){var We;We=st(35632,er.fragId);var Ge=st(35633,er.vertId);if(ur=er.program=xt.createProgram(),xt.attachShader(ur,We),xt.attachShader(ur,Ge),kr)for(We=0;We<kr.length;++We)Ge=kr[We],xt.bindAttribLocation(ur,Ge[0],Ge[1]);xt.linkProgram(ur),Ge=xt.getProgramParameter(ur,35718),Sr.profile&&(er.stats.uniformsCount=Ge);var _t=er.uniforms;for(We=0;We<Ge;++We)if(kr=xt.getActiveUniform(ur,We))if(1<kr.size)for(var Ot=0;Ot<kr.size;++Ot){var Kt=kr.name.replace("[0]","["+Ot+"]");ut(_t,new gr(Kt,Qt.id(Kt),xt.getUniformLocation(ur,Kt),kr))}else ut(_t,new gr(kr.name,Qt.id(kr.name),xt.getUniformLocation(ur,kr.name),kr));for(Ge=xt.getProgramParameter(ur,35721),Sr.profile&&(er.stats.attributesCount=Ge),er=er.attributes,We=0;We<Ge;++We)(kr=xt.getActiveAttrib(ur,We))&&ut(er,new gr(kr.name,Qt.id(kr.name),xt.getAttribLocation(ur,kr.name),kr))}var Pt={},Et={},Bt={},Wt=[],tr=0;return Sr.profile&&(jt.getMaxUniformsCount=function(){var er=0;return Wt.forEach(function(ur){ur.stats.uniformsCount>er&&(er=ur.stats.uniformsCount)}),er},jt.getMaxAttributesCount=function(){var er=0;return Wt.forEach(function(ur){ur.stats.attributesCount>er&&(er=ur.stats.attributesCount)}),er}),{clear:function(){var er=xt.deleteShader.bind(xt);ye(Pt).forEach(er),Pt={},ye(Et).forEach(er),Et={},Wt.forEach(function(ur){xt.deleteProgram(ur.program)}),Wt.length=0,Bt={},jt.shaderCount=0},program:function(er,ur,kr,We){var Ge=Bt[ur];Ge||(Ge=Bt[ur]={});var _t=Ge[er];if(_t&&(_t.refCount++,!We))return _t;var Ot=new bt(ur,er);return jt.shaderCount++,St(Ot,kr,We),_t||(Ge[er]=Ot),Wt.push(Ot),ne(Ot,{destroy:function(){if(Ot.refCount--,0>=Ot.refCount){xt.deleteProgram(Ot.program);var Kt=Wt.indexOf(Ot);Wt.splice(Kt,1),jt.shaderCount--}0>=Ge[Ot.vertId].refCount&&(xt.deleteShader(Et[Ot.vertId]),delete Et[Ot.vertId],delete Bt[Ot.fragId][Ot.vertId]),Object.keys(Bt[Ot.fragId]).length||(xt.deleteShader(Pt[Ot.fragId]),delete Pt[Ot.fragId],delete Bt[Ot.fragId])}})},restore:function(){Pt={},Et={};for(var er=0;er<Wt.length;++er)St(Wt[er],null,Wt[er].attributes.map(function(ur){return[ur.location,ur.name]}))},shader:st,frag:-1,vert:-1}}function z(xt,Qt,jt,Sr,gr,ut,st){function bt(Pt){var Et;Et=Qt.next===null?5121:Qt.next.colorAttachments[0].texture._texture.type;var Bt=0,Wt=0,tr=Sr.framebufferWidth,er=Sr.framebufferHeight,ur=null;return Te(Pt)?ur=Pt:Pt&&(Bt=Pt.x|0,Wt=Pt.y|0,tr=(Pt.width||Sr.framebufferWidth-Bt)|0,er=(Pt.height||Sr.framebufferHeight-Wt)|0,ur=Pt.data||null),jt(),Pt=tr*er*4,ur||(Et===5121?ur=new Uint8Array(Pt):Et===5126&&(ur=ur||new Float32Array(Pt))),xt.pixelStorei(3333,4),xt.readPixels(Bt,Wt,tr,er,6408,Et,ur),ur}function St(Pt){var Et;return Qt.setFBO({framebuffer:Pt.framebuffer},function(){Et=bt(Pt)}),Et}return function(Pt){return Pt&&"framebuffer"in Pt?St(Pt):bt(Pt)}}function F(xt){for(var Qt=Array(xt.length>>2),Sr=0;Sr<Qt.length;Sr++)Qt[Sr]=0;for(Sr=0;Sr<8*xt.length;Sr+=8)Qt[Sr>>5]|=(xt.charCodeAt(Sr/8)&255)<<24-Sr%32;var jt=8*xt.length;xt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var Sr=Array(64),gr,ut,st,bt,St,Pt,Et,Bt,Wt,tr,er;for(Qt[jt>>5]|=128<<24-jt%32,Qt[(jt+64>>9<<4)+15]=jt,Bt=0;Bt<Qt.length;Bt+=16){for(jt=xt[0],gr=xt[1],ut=xt[2],st=xt[3],bt=xt[4],St=xt[5],Pt=xt[6],Et=xt[7],Wt=0;64>Wt;Wt++){if(16>Wt)Sr[Wt]=Qt[Wt+Bt];else{tr=Wt,er=Sr[Wt-2],er=Q(er,17)^Q(er,19)^er>>>10,er=ee(er,Sr[Wt-7]);var ur;ur=Sr[Wt-15],ur=Q(ur,7)^Q(ur,18)^ur>>>3,Sr[tr]=ee(ee(er,ur),Sr[Wt-16])}tr=bt,tr=Q(tr,6)^Q(tr,11)^Q(tr,25),tr=ee(ee(ee(ee(Et,tr),bt&St^~bt&Pt),at[Wt]),Sr[Wt]),Et=jt,Et=Q(Et,2)^Q(Et,13)^Q(Et,22),er=ee(Et,jt&gr^jt&ut^gr&ut),Et=Pt,Pt=St,St=bt,bt=ee(st,tr),st=ut,ut=gr,gr=jt,jt=ee(tr,er)}xt[0]=ee(jt,xt[0]),xt[1]=ee(gr,xt[1]),xt[2]=ee(ut,xt[2]),xt[3]=ee(st,xt[3]),xt[4]=ee(bt,xt[4]),xt[5]=ee(St,xt[5]),xt[6]=ee(Pt,xt[6]),xt[7]=ee(Et,xt[7])}for(Qt="",Sr=0;Sr<32*xt.length;Sr+=8)Qt+=String.fromCharCode(xt[Sr>>5]>>>24-Sr%32&255);return Qt}function B(xt){for(var Qt="",jt,Sr=0;Sr<xt.length;Sr++)jt=xt.charCodeAt(Sr),Qt+="0123456789abcdef".charAt(jt>>>4&15)+"0123456789abcdef".charAt(jt&15);return Qt}function G(xt){for(var Qt="",jt=-1,Sr,gr;++jt<xt.length;)Sr=xt.charCodeAt(jt),gr=jt+1<xt.length?xt.charCodeAt(jt+1):0,55296<=Sr&&56319>=Sr&&56320<=gr&&57343>=gr&&(Sr=65536+((Sr&1023)<<10)+(gr&1023),jt++),127>=Sr?Qt+=String.fromCharCode(Sr):2047>=Sr?Qt+=String.fromCharCode(192|Sr>>>6&31,128|Sr&63):65535>=Sr?Qt+=String.fromCharCode(224|Sr>>>12&15,128|Sr>>>6&63,128|Sr&63):2097151>=Sr&&(Qt+=String.fromCharCode(240|Sr>>>18&7,128|Sr>>>12&63,128|Sr>>>6&63,128|Sr&63));return Qt}function Q(xt,Qt){return xt>>>Qt|xt<<32-Qt}function ee(xt,Qt){var jt=(xt&65535)+(Qt&65535);return(xt>>16)+(Qt>>16)+(jt>>16)<<16|jt&65535}function ae(xt){return Array.prototype.slice.call(xt)}function fe(xt){return ae(xt).join("")}function K(xt){function Qt(){var Et=[],Bt=[];return ne(function(){Et.push.apply(Et,ae(arguments))},{def:function(){var Wt="v"+gr++;return Bt.push(Wt),0<arguments.length&&(Et.push(Wt,"="),Et.push.apply(Et,ae(arguments)),Et.push(";")),Wt},toString:function(){return fe([0<Bt.length?"var "+Bt.join(",")+";":"",fe(Et)])}})}function jt(){function Et(ur,kr){Wt(ur,kr,"=",Bt.def(ur,kr),";")}var Bt=Qt(),Wt=Qt(),tr=Bt.toString,er=Wt.toString;return ne(function(){Bt.apply(Bt,ae(arguments))},{def:Bt.def,entry:Bt,exit:Wt,save:Et,set:function(ur,kr,We){Et(ur,kr),Bt(ur,kr,"=",We,";")},toString:function(){return tr()+er()}})}var Sr=xt&&xt.cache,gr=0,ut=[],st=[],bt=[],St=Qt(),Pt={};return{global:St,link:function(Et,Bt){var Wt=Bt&&Bt.stable;if(!Wt){for(var tr=0;tr<st.length;++tr)if(st[tr]===Et&&!bt[tr])return ut[tr]}return tr="g"+gr++,ut.push(tr),st.push(Et),bt.push(Wt),tr},block:Qt,proc:function(Et,Bt){function Wt(){var kr="a"+tr.length;return tr.push(kr),kr}var tr=[];Bt=Bt||0;for(var er=0;er<Bt;++er)Wt();var er=jt(),ur=er.toString;return Pt[Et]=ne(er,{arg:Wt,toString:function(){return fe(["function(",tr.join(),"){",ur(),"}"])}})},scope:jt,cond:function(){var Et=fe(arguments),Bt=jt(),Wt=jt(),tr=Bt.toString,er=Wt.toString;return ne(Bt,{then:function(){return Bt.apply(Bt,ae(arguments)),this},else:function(){return Wt.apply(Wt,ae(arguments)),this},toString:function(){var ur=er();return ur&&(ur="else{"+ur+"}"),fe(["if(",Et,"){",tr(),"}",ur])}})},compile:function(){var Et=['"use strict";',St,"return {"];Object.keys(Pt).forEach(function(tr){Et.push('"',tr,'":',Pt[tr].toString(),",")}),Et.push("}");var Bt=fe(Et).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Wt;return Sr&&(Wt=B(F(G(Bt))),Sr[Wt])?Sr[Wt].apply(null,st):(Bt=Function.apply(null,ut.concat(Bt)),Sr&&(Sr[Wt]=Bt),Bt.apply(null,st))}}}function W(xt){return Array.isArray(xt)||Te(xt)||f(xt)}function Z(xt){return xt.sort(function(Qt,jt){return Qt==="viewport"?-1:jt==="viewport"?1:Qt<jt?-1:1})}function X(xt,Qt,jt,Sr){this.thisDep=xt,this.contextDep=Qt,this.propDep=jt,this.append=Sr}function $(xt){return xt&&!(xt.thisDep||xt.contextDep||xt.propDep)}function ie(xt){return new X(!1,!1,!1,xt)}function J(xt,Qt){var jt=xt.type;if(jt===0)return jt=xt.data.length,new X(!0,1<=jt,2<=jt,Qt);if(jt===4)return jt=xt.data,new X(jt.thisDep,jt.contextDep,jt.propDep,Qt);if(jt===5)return new X(!1,!1,!1,Qt);if(jt===6){for(var Sr=jt=!1,gr=!1,ut=0;ut<xt.data.length;++ut){var st=xt.data[ut];st.type===1?gr=!0:st.type===2?Sr=!0:st.type===3?jt=!0:st.type===0?(jt=!0,st=st.data,1<=st&&(Sr=!0),2<=st&&(gr=!0)):st.type===4&&(jt=jt||st.data.thisDep,Sr=Sr||st.data.contextDep,gr=gr||st.data.propDep)}return new X(jt,Sr,gr,Qt)}return new X(jt===3,jt===2,jt===1,Qt)}function j(xt,Qt,jt,Sr,gr,ut,st,bt,St,Pt,Et,Bt,Wt,tr,er,ur){function kr(Jt){return Jt.replace(".","_")}function We(Jt,Mr,hn){var xn=kr(Jt);zn.push(Jt),Qn[xn]=An[xn]=!!hn,Bn[xn]=Mr}function Ge(Jt,Mr,hn){var xn=kr(Jt);zn.push(Jt),Array.isArray(hn)?(An[xn]=hn.slice(),Qn[xn]=hn.slice()):An[xn]=Qn[xn]=hn,qn[xn]=Mr}function _t(){var Jt=K({cache:er}),Mr=Jt.link,hn=Jt.global;Jt.id=ii++,Jt.batchId="0";var xn=Mr(ya),bn=Jt.shared={props:"a0"};Object.keys(ya).forEach(function(_r){bn[_r]=hn.def(xn,".",_r)});var Nn=Jt.next={},Pn=Jt.current={};Object.keys(qn).forEach(function(_r){Array.isArray(An[_r])&&(Nn[_r]=hn.def(bn.next,".",_r),Pn[_r]=hn.def(bn.current,".",_r))});var yn=Jt.constants={};Object.keys(Na).forEach(function(_r){yn[_r]=hn.def(JSON.stringify(Na[_r]))}),Jt.invoke=function(_r,Gr){switch(Gr.type){case 0:var wn=["this",bn.context,bn.props,Jt.batchId];return _r.def(Mr(Gr.data),".call(",wn.slice(0,Math.max(Gr.data.length+1,4)),")");case 1:return _r.def(bn.props,Gr.data);case 2:return _r.def(bn.context,Gr.data);case 3:return _r.def("this",Gr.data);case 4:return Gr.data.append(Jt,_r),Gr.data.ref;case 5:return Gr.data.toString();case 6:return Gr.data.map(function(Yn){return Jt.invoke(_r,Yn)})}},Jt.attribCache={};var zr={};return Jt.scopeAttrib=function(_r){if(_r=Qt.id(_r),_r in zr)return zr[_r];var Gr=Pt.scope[_r];return Gr||(Gr=Pt.scope[_r]=new va),zr[_r]=Mr(Gr)},Jt}function Ot(Jt){var Mr=Jt.static;Jt=Jt.dynamic;var hn;if("profile"in Mr){var xn=!!Mr.profile;hn=ie(function(Nn,Pn){return xn}),hn.enable=xn}else if("profile"in Jt){var bn=Jt.profile;hn=J(bn,function(Nn,Pn){return Nn.invoke(Pn,bn)})}return hn}function Kt(Jt,Mr){var hn=Jt.static,xn=Jt.dynamic;if("framebuffer"in hn){var bn=hn.framebuffer;return bn?(bn=bt.getFramebuffer(bn),ie(function(Pn,yn){var zr=Pn.link(bn),_r=Pn.shared;return yn.set(_r.framebuffer,".next",zr),_r=_r.context,yn.set(_r,".framebufferWidth",zr+".width"),yn.set(_r,".framebufferHeight",zr+".height"),zr})):ie(function(Pn,yn){var zr=Pn.shared;return yn.set(zr.framebuffer,".next","null"),zr=zr.context,yn.set(zr,".framebufferWidth",zr+".drawingBufferWidth"),yn.set(zr,".framebufferHeight",zr+".drawingBufferHeight"),"null"})}if("framebuffer"in xn){var Nn=xn.framebuffer;return J(Nn,function(Pn,yn){var Gr=Pn.invoke(yn,Nn),zr=Pn.shared,_r=zr.framebuffer,Gr=yn.def(_r,".getFramebuffer(",Gr,")");return yn.set(_r,".next",Gr),zr=zr.context,yn.set(zr,".framebufferWidth",Gr+"?"+Gr+".width:"+zr+".drawingBufferWidth"),yn.set(zr,".framebufferHeight",Gr+"?"+Gr+".height:"+zr+".drawingBufferHeight"),Gr})}return null}function or(Jt,Mr,hn){function xn(yn){if(yn in bn){var zr=bn[yn];yn=!0;var _r=zr.x|0,Gr=zr.y|0,wn,Yn;return"width"in zr?wn=zr.width|0:yn=!1,"height"in zr?Yn=zr.height|0:yn=!1,new X(!yn&&Mr&&Mr.thisDep,!yn&&Mr&&Mr.contextDep,!yn&&Mr&&Mr.propDep,function(Mn,jn){var fa=Mn.shared.context,Ta=wn;"width"in zr||(Ta=jn.def(fa,".","framebufferWidth","-",_r));var ba=Yn;return"height"in zr||(ba=jn.def(fa,".","framebufferHeight","-",Gr)),[_r,Gr,Ta,ba]})}if(yn in Nn){var ta=Nn[yn];return yn=J(ta,function(Mn,jn){var Pa=Mn.invoke(jn,ta),fa=Mn.shared.context,Ta=jn.def(Pa,".x|0"),ba=jn.def(Pa,".y|0"),ma=jn.def('"width" in ',Pa,"?",Pa,".width|0:","(",fa,".","framebufferWidth","-",Ta,")"),Pa=jn.def('"height" in ',Pa,"?",Pa,".height|0:","(",fa,".","framebufferHeight","-",ba,")");return[Ta,ba,ma,Pa]}),Mr&&(yn.thisDep=yn.thisDep||Mr.thisDep,yn.contextDep=yn.contextDep||Mr.contextDep,yn.propDep=yn.propDep||Mr.propDep),yn}return Mr?new X(Mr.thisDep,Mr.contextDep,Mr.propDep,function(Mn,jn){var fa=Mn.shared.context;return[0,0,jn.def(fa,".","framebufferWidth"),jn.def(fa,".","framebufferHeight")]}):null}var bn=Jt.static,Nn=Jt.dynamic;if(Jt=xn("viewport")){var Pn=Jt;Jt=new X(Jt.thisDep,Jt.contextDep,Jt.propDep,function(yn,zr){var _r=Pn.append(yn,zr),Gr=yn.shared.context;return zr.set(Gr,".viewportWidth",_r[2]),zr.set(Gr,".viewportHeight",_r[3]),_r})}return{viewport:Jt,scissor_box:xn("scissor.box")}}function hr(Jt,Mr){var hn=Jt.static;if(typeof hn.frag=="string"&&typeof hn.vert=="string"){if(0<Object.keys(Mr.dynamic).length)return null;var hn=Mr.static,xn=Object.keys(hn);if(0<xn.length&&typeof hn[xn[0]]=="number"){for(var bn=[],Nn=0;Nn<xn.length;++Nn)bn.push([hn[xn[Nn]]|0,xn[Nn]]);return bn}}return null}function ir(Jt,Mr,hn){function xn(_r){if(_r in bn){var Gr=Qt.id(bn[_r]);return _r=ie(function(){return Gr}),_r.id=Gr,_r}if(_r in Nn){var wn=Nn[_r];return J(wn,function(Yn,ta){var Mn=Yn.invoke(ta,wn);return ta.def(Yn.shared.strings,".id(",Mn,")")})}return null}var bn=Jt.static,Nn=Jt.dynamic,Pn=xn("frag"),yn=xn("vert"),zr=null;return $(Pn)&&$(yn)?(zr=Et.program(yn.id,Pn.id,null,hn),Jt=ie(function(_r,Gr){return _r.link(zr)})):Jt=new X(Pn&&Pn.thisDep||yn&&yn.thisDep,Pn&&Pn.contextDep||yn&&yn.contextDep,Pn&&Pn.propDep||yn&&yn.propDep,function(_r,Gr){var wn=_r.shared.shader,Yn;Yn=Pn?Pn.append(_r,Gr):Gr.def(wn,".","frag");var ta;return ta=yn?yn.append(_r,Gr):Gr.def(wn,".","vert"),Gr.def(wn+".program("+ta+","+Yn+")")}),{frag:Pn,vert:yn,progVar:Jt,program:zr}}function Nt(Jt,Mr){function hn(Mn,jn){if(Mn in xn){var fa=xn[Mn]|0;return jn?Nn.offset=fa:Nn.instances=fa,ie(function(ba,ma){return jn&&(ba.OFFSET=fa),fa})}if(Mn in bn){var Ta=bn[Mn];return J(Ta,function(ba,ma){var Pa=ba.invoke(ma,Ta);return jn&&(ba.OFFSET=Pa),Pa})}if(jn){if(zr)return ie(function(ba,ma){return ba.OFFSET=0});if(Pn)return new X(yn.thisDep,yn.contextDep,yn.propDep,function(ba,ma){return ma.def(ba.shared.vao+".currentVAO?"+ba.shared.vao+".currentVAO.offset:0")})}else if(Pn)return new X(yn.thisDep,yn.contextDep,yn.propDep,function(ba,ma){return ma.def(ba.shared.vao+".currentVAO?"+ba.shared.vao+".currentVAO.instances:-1")});return null}var xn=Jt.static,bn=Jt.dynamic,Nn={},Pn=!1,yn=function(){if("vao"in xn){var Mn=xn.vao;return Mn!==null&&Pt.getVAO(Mn)===null&&(Mn=Pt.createVAO(Mn)),Pn=!0,Nn.vao=Mn,ie(function(fa){var Ta=Pt.getVAO(Mn);return Ta?fa.link(Ta):"null"})}if("vao"in bn){Pn=!0;var jn=bn.vao;return J(jn,function(fa,Ta){var ba=fa.invoke(Ta,jn);return Ta.def(fa.shared.vao+".getVAO("+ba+")")})}return null}(),zr=!1,_r=function(){if("elements"in xn){var Mn=xn.elements;if(Nn.elements=Mn,W(Mn)){var jn=Nn.elements=ut.create(Mn,!0),Mn=ut.getElements(jn);zr=!0}else Mn&&(Mn=ut.getElements(Mn),zr=!0);return jn=ie(function(Ta,ba){if(Mn){var ma=Ta.link(Mn);return Ta.ELEMENTS=ma}return Ta.ELEMENTS=null}),jn.value=Mn,jn}if("elements"in bn){zr=!0;var fa=bn.elements;return J(fa,function(Ta,ba){var ma=Ta.shared,$i=ma.isBufferArgs,ma=ma.elements,ho=Ta.invoke(ba,fa),Pa=ba.def("null"),$i=ba.def($i,"(",ho,")"),ho=Ta.cond($i).then(Pa,"=",ma,".createStream(",ho,");").else(Pa,"=",ma,".getElements(",ho,");");return ba.entry(ho),ba.exit(Ta.cond($i).then(ma,".destroyStream(",Pa,");")),Ta.ELEMENTS=Pa})}return Pn?new X(yn.thisDep,yn.contextDep,yn.propDep,function(Ta,ba){return ba.def(Ta.shared.vao+".currentVAO?"+Ta.shared.elements+".getElements("+Ta.shared.vao+".currentVAO.elements):null")}):null}(),Gr=hn("offset",!0),wn=function(){if("primitive"in xn){var Mn=xn.primitive;return Nn.primitive=Mn,ie(function(fa,Ta){return Je[Mn]})}if("primitive"in bn){var jn=bn.primitive;return J(jn,function(fa,Ta){var ba=fa.constants.primTypes,ma=fa.invoke(Ta,jn);return Ta.def(ba,"[",ma,"]")})}return zr?$(_r)?_r.value?ie(function(fa,Ta){return Ta.def(fa.ELEMENTS,".primType")}):ie(function(){return 4}):new X(_r.thisDep,_r.contextDep,_r.propDep,function(fa,Ta){var ba=fa.ELEMENTS;return Ta.def(ba,"?",ba,".primType:",4)}):Pn?new X(yn.thisDep,yn.contextDep,yn.propDep,function(fa,Ta){return Ta.def(fa.shared.vao+".currentVAO?"+fa.shared.vao+".currentVAO.primitive:4")}):null}(),Yn=function(){if("count"in xn){var Mn=xn.count|0;return Nn.count=Mn,ie(function(){return Mn})}if("count"in bn){var jn=bn.count;return J(jn,function(fa,Ta){return fa.invoke(Ta,jn)})}return zr?$(_r)?_r?Gr?new X(Gr.thisDep,Gr.contextDep,Gr.propDep,function(fa,Ta){return Ta.def(fa.ELEMENTS,".vertCount-",fa.OFFSET)}):ie(function(fa,Ta){return Ta.def(fa.ELEMENTS,".vertCount")}):ie(function(){return-1}):new X(_r.thisDep||Gr.thisDep,_r.contextDep||Gr.contextDep,_r.propDep||Gr.propDep,function(fa,Ta){var ba=fa.ELEMENTS;return fa.OFFSET?Ta.def(ba,"?",ba,".vertCount-",fa.OFFSET,":-1"):Ta.def(ba,"?",ba,".vertCount:-1")}):Pn?new X(yn.thisDep,yn.contextDep,yn.propDep,function(fa,Ta){return Ta.def(fa.shared.vao,".currentVAO?",fa.shared.vao,".currentVAO.count:-1")}):null}(),ta=hn("instances",!1);return{elements:_r,primitive:wn,count:Yn,instances:ta,offset:Gr,vao:yn,vaoActive:Pn,elementsActive:zr,static:Nn}}function vr(Jt,Mr){var hn=Jt.static,xn=Jt.dynamic,bn={};return zn.forEach(function(Nn){function Pn(zr,_r){if(Nn in hn){var Gr=zr(hn[Nn]);bn[yn]=ie(function(){return Gr})}else if(Nn in xn){var wn=xn[Nn];bn[yn]=J(wn,function(Yn,ta){return _r(Yn,ta,Yn.invoke(ta,wn))})}}var yn=kr(Nn);switch(Nn){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return Pn(function(zr){return zr},function(zr,_r,Gr){return Gr});case"depth.func":return Pn(function(zr){return Yt[zr]},function(zr,_r,Gr){return _r.def(zr.constants.compareFuncs,"[",Gr,"]")});case"depth.range":return Pn(function(zr){return zr},function(zr,_r,Gr){return zr=_r.def("+",Gr,"[0]"),_r=_r.def("+",Gr,"[1]"),[zr,_r]});case"blend.func":return Pn(function(zr){return[Gt["srcRGB"in zr?zr.srcRGB:zr.src],Gt["dstRGB"in zr?zr.dstRGB:zr.dst],Gt["srcAlpha"in zr?zr.srcAlpha:zr.src],Gt["dstAlpha"in zr?zr.dstAlpha:zr.dst]]},function(zr,_r,Gr){function wn(jn,fa){return _r.def('"',jn,fa,'" in ',Gr,"?",Gr,".",jn,fa,":",Gr,".",jn)}zr=zr.constants.blendFuncs;var Yn=wn("src","RGB"),Mn=wn("dst","RGB"),Yn=_r.def(zr,"[",Yn,"]"),ta=_r.def(zr,"[",wn("src","Alpha"),"]"),Mn=_r.def(zr,"[",Mn,"]");return zr=_r.def(zr,"[",wn("dst","Alpha"),"]"),[Yn,Mn,ta,zr]});case"blend.equation":return Pn(function(zr){if(typeof zr=="string")return[ca[zr],ca[zr]];if(typeof zr=="object")return[ca[zr.rgb],ca[zr.alpha]]},function(zr,_r,Gr){var wn=zr.constants.blendEquations,Yn=_r.def(),ta=_r.def();return zr=zr.cond("typeof ",Gr,'==="string"'),zr.then(Yn,"=",ta,"=",wn,"[",Gr,"];"),zr.else(Yn,"=",wn,"[",Gr,".rgb];",ta,"=",wn,"[",Gr,".alpha];"),_r(zr),[Yn,ta]});case"blend.color":return Pn(function(zr){return u(4,function(_r){return+zr[_r]})},function(zr,_r,Gr){return u(4,function(wn){return _r.def("+",Gr,"[",wn,"]")})});case"stencil.mask":return Pn(function(zr){return zr|0},function(zr,_r,Gr){return _r.def(Gr,"|0")});case"stencil.func":return Pn(function(zr){return[Yt[zr.cmp||"keep"],zr.ref||0,"mask"in zr?zr.mask:-1]},function(zr,_r,Gr){zr=_r.def('"cmp" in ',Gr,"?",zr.constants.compareFuncs,"[",Gr,".cmp]",":",7680);var wn=_r.def(Gr,".ref|0");return _r=_r.def('"mask" in ',Gr,"?",Gr,".mask|0:-1"),[zr,wn,_r]});case"stencil.opFront":case"stencil.opBack":return Pn(function(zr){return[Nn==="stencil.opBack"?1029:1028,Dt[zr.fail||"keep"],Dt[zr.zfail||"keep"],Dt[zr.zpass||"keep"]]},function(zr,_r,Gr){function wn(ta){return _r.def('"',ta,'" in ',Gr,"?",Yn,"[",Gr,".",ta,"]:",7680)}var Yn=zr.constants.stencilOps;return[Nn==="stencil.opBack"?1029:1028,wn("fail"),wn("zfail"),wn("zpass")]});case"polygonOffset.offset":return Pn(function(zr){return[zr.factor|0,zr.units|0]},function(zr,_r,Gr){return zr=_r.def(Gr,".factor|0"),_r=_r.def(Gr,".units|0"),[zr,_r]});case"cull.face":return Pn(function(zr){var _r=0;return zr==="front"?_r=1028:zr==="back"&&(_r=1029),_r},function(zr,_r,Gr){return _r.def(Gr,'==="front"?',1028,":",1029)});case"lineWidth":return Pn(function(zr){return zr},function(zr,_r,Gr){return Gr});case"frontFace":return Pn(function(zr){return $t[zr]},function(zr,_r,Gr){return _r.def(Gr+'==="cw"?2304:2305')});case"colorMask":return Pn(function(zr){return zr.map(function(_r){return!!_r})},function(zr,_r,Gr){return u(4,function(wn){return"!!"+Gr+"["+wn+"]"})});case"sample.coverage":return Pn(function(zr){return["value"in zr?zr.value:1,!!zr.invert]},function(zr,_r,Gr){return zr=_r.def('"value" in ',Gr,"?+",Gr,".value:1"),_r=_r.def("!!",Gr,".invert"),[zr,_r]})}}),bn}function mr(Jt,Mr){var hn=Jt.static,xn=Jt.dynamic,bn={};return Object.keys(hn).forEach(function(Nn){var Pn=hn[Nn],yn;if(typeof Pn=="number"||typeof Pn=="boolean")yn=ie(function(){return Pn});else if(typeof Pn=="function"){var zr=Pn._reglType;zr==="texture2d"||zr==="textureCube"?yn=ie(function(_r){return _r.link(Pn)}):(zr==="framebuffer"||zr==="framebufferCube")&&(yn=ie(function(_r){return _r.link(Pn.color[0])}))}else A(Pn)&&(yn=ie(function(_r){return _r.global.def("[",u(Pn.length,function(Gr){return Pn[Gr]}),"]")}));yn.value=Pn,bn[Nn]=yn}),Object.keys(xn).forEach(function(Nn){var Pn=xn[Nn];bn[Nn]=J(Pn,function(yn,zr){return yn.invoke(zr,Pn)})}),bn}function xr(Jt,Mr){var hn=Jt.static,xn=Jt.dynamic,bn={};return Object.keys(hn).forEach(function(Nn){var Pn=hn[Nn],yn=Qt.id(Nn),zr=new va;if(W(Pn))zr.state=1,zr.buffer=gr.getBuffer(gr.create(Pn,34962,!1,!0)),zr.type=0;else{var _r=gr.getBuffer(Pn);if(_r)zr.state=1,zr.buffer=_r,zr.type=0;else if("constant"in Pn){var Gr=Pn.constant;zr.buffer="null",zr.state=2,typeof Gr=="number"?zr.x=Gr:At.forEach(function(fa,Ta){Ta<Gr.length&&(zr[fa]=Gr[Ta])})}else{var _r=W(Pn.buffer)?gr.getBuffer(gr.create(Pn.buffer,34962,!1,!0)):gr.getBuffer(Pn.buffer),wn=Pn.offset|0,Yn=Pn.stride|0,ta=Pn.size|0,Mn=!!Pn.normalized,jn=0;"type"in Pn&&(jn=Ue[Pn.type]),Pn=Pn.divisor|0,zr.buffer=_r,zr.state=1,zr.size=ta,zr.normalized=Mn,zr.type=jn||_r.dtype,zr.offset=wn,zr.stride=Yn,zr.divisor=Pn}}bn[Nn]=ie(function(fa,Ta){var ba=fa.attribCache;if(yn in ba)return ba[yn];var ma={isStream:!1};return Object.keys(zr).forEach(function(Pa){ma[Pa]=zr[Pa]}),zr.buffer&&(ma.buffer=fa.link(zr.buffer),ma.type=ma.type||ma.buffer+".dtype"),ba[yn]=ma})}),Object.keys(xn).forEach(function(Nn){var Pn=xn[Nn];bn[Nn]=J(Pn,function(yn,zr){function _r(ba){zr(Mn[ba],"=",Gr,".",ba,"|0;")}var Gr=yn.invoke(zr,Pn),ta=yn.shared,wn=yn.constants,Yn=ta.isBufferArgs,ta=ta.buffer,Mn={isStream:zr.def(!1)},jn=new va;jn.state=1,Object.keys(jn).forEach(function(ba){Mn[ba]=zr.def(""+jn[ba])});var fa=Mn.buffer,Ta=Mn.type;return zr("if(",Yn,"(",Gr,")){",Mn.isStream,"=true;",fa,"=",ta,".createStream(",34962,",",Gr,");",Ta,"=",fa,".dtype;","}else{",fa,"=",ta,".getBuffer(",Gr,");","if(",fa,"){",Ta,"=",fa,".dtype;",'}else if("constant" in ',Gr,"){",Mn.state,"=",2,";","if(typeof "+Gr+'.constant === "number"){',Mn[At[0]],"=",Gr,".constant;",At.slice(1).map(function(ba){return Mn[ba]}).join("="),"=0;","}else{",At.map(function(ba,ma){return Mn[ba]+"="+Gr+".constant.length>"+ma+"?"+Gr+".constant["+ma+"]:0;"}).join(""),"}}else{","if(",Yn,"(",Gr,".buffer)){",fa,"=",ta,".createStream(",34962,",",Gr,".buffer);","}else{",fa,"=",ta,".getBuffer(",Gr,".buffer);","}",Ta,'="type" in ',Gr,"?",wn.glTypes,"[",Gr,".type]:",fa,".dtype;",Mn.normalized,"=!!",Gr,".normalized;"),_r("size"),_r("offset"),_r("stride"),_r("divisor"),zr("}}"),zr.exit("if(",Mn.isStream,"){",ta,".destroyStream(",fa,");","}"),Mn})}),bn}function yr(Jt){var Mr=Jt.static,hn=Jt.dynamic,xn={};return Object.keys(Mr).forEach(function(bn){var Nn=Mr[bn];xn[bn]=ie(function(Pn,yn){return typeof Nn=="number"||typeof Nn=="boolean"?""+Nn:Pn.link(Nn)})}),Object.keys(hn).forEach(function(bn){var Nn=hn[bn];xn[bn]=J(Nn,function(Pn,yn){return Pn.invoke(yn,Nn)})}),xn}function Kr(Jt,Mr,hn,xn,bn){function Nn(jn){var fa=yn[jn];fa&&(_r[jn]=fa)}var Pn=hr(Jt,Mr),Yn=Kt(Jt),yn=or(Jt,Yn),zr=Nt(Jt),_r=vr(Jt),Gr=ir(Jt,bn,Pn);Nn("viewport"),Nn(kr("scissor.box"));var wn=0<Object.keys(_r).length,Yn={framebuffer:Yn,draw:zr,shader:Gr,state:_r,dirty:wn,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Yn.profile=Ot(Jt),Yn.uniforms=mr(hn),Yn.drawVAO=Yn.scopeVAO=zr.vao,!Yn.drawVAO&&Gr.program&&!Pn&&jt.angle_instanced_arrays&&zr.static.elements){var ta=!0;if(Jt=Gr.program.attributes.map(function(jn){return jn=Mr.static[jn],ta=ta&&!!jn,jn}),ta&&0<Jt.length){var Mn=Pt.getVAO(Pt.createVAO({attributes:Jt,elements:zr.static.elements}));Yn.drawVAO=new X(null,null,null,function(jn,fa){return jn.link(Mn)}),Yn.useVAO=!0}}return Pn?Yn.useVAO=!0:Yn.attributes=xr(Mr),Yn.context=yr(xn),Yn}function Nr(Jt,Mr,hn){var xn=Jt.shared.context,bn=Jt.scope();Object.keys(hn).forEach(function(Nn){Mr.save(xn,"."+Nn);var Pn=hn[Nn].append(Jt,Mr);Array.isArray(Pn)?bn(xn,".",Nn,"=[",Pn.join(),"];"):bn(xn,".",Nn,"=",Pn,";")}),Mr(bn)}function Ur(Jt,Mr,hn,xn){var yn=Jt.shared,bn=yn.gl,Nn=yn.framebuffer,Pn;dn&&(Pn=Mr.def(yn.extensions,".webgl_draw_buffers"));var zr=Jt.constants,yn=zr.drawBuffer,zr=zr.backBuffer;Jt=hn?hn.append(Jt,Mr):Mr.def(Nn,".next"),xn||Mr("if(",Jt,"!==",Nn,".cur){"),Mr("if(",Jt,"){",bn,".bindFramebuffer(",36160,",",Jt,".framebuffer);"),dn&&Mr(Pn,".drawBuffersWEBGL(",yn,"[",Jt,".colorAttachments.length]);"),Mr("}else{",bn,".bindFramebuffer(",36160,",null);"),dn&&Mr(Pn,".drawBuffersWEBGL(",zr,");"),Mr("}",Nn,".cur=",Jt,";"),xn||Mr("}")}function Tn(Jt,Mr,hn){var xn=Jt.shared,bn=xn.gl,Nn=Jt.current,Pn=Jt.next,yn=xn.current,zr=xn.next,_r=Jt.cond(yn,".dirty");zn.forEach(function(Gr){if(Gr=kr(Gr),!(Gr in hn.state)){var wn,Yn;if(Gr in Pn){wn=Pn[Gr],Yn=Nn[Gr];var ta=u(An[Gr].length,function(Mn){return _r.def(wn,"[",Mn,"]")});_r(Jt.cond(ta.map(function(Mn,jn){return Mn+"!=="+Yn+"["+jn+"]"}).join("||")).then(bn,".",qn[Gr],"(",ta,");",ta.map(function(Mn,jn){return Yn+"["+jn+"]="+Mn}).join(";"),";"))}else wn=_r.def(zr,".",Gr),ta=Jt.cond(wn,"!==",yn,".",Gr),_r(ta),Gr in Bn?ta(Jt.cond(wn).then(bn,".enable(",Bn[Gr],");").else(bn,".disable(",Bn[Gr],");"),yn,".",Gr,"=",wn,";"):ta(bn,".",qn[Gr],"(",wn,");",yn,".",Gr,"=",wn,";")}}),Object.keys(hn.state).length===0&&_r(yn,".dirty=false;"),Mr(_r)}function rn(Jt,Mr,hn,xn){var bn=Jt.shared,Nn=Jt.current,Pn=bn.current,yn=bn.gl,zr;Z(Object.keys(hn)).forEach(function(_r){var Gr=hn[_r];if(!xn||xn(Gr)){var wn=Gr.append(Jt,Mr);if(Bn[_r]){var Yn=Bn[_r];$(Gr)?(zr=Jt.link(wn,{stable:!0}),Mr(Jt.cond(zr).then(yn,".enable(",Yn,");").else(yn,".disable(",Yn,");")),Mr(Pn,".",_r,"=",zr,";")):(Mr(Jt.cond(wn).then(yn,".enable(",Yn,");").else(yn,".disable(",Yn,");")),Mr(Pn,".",_r,"=",wn,";"))}else if(A(wn)){var ta=Nn[_r];Mr(yn,".",qn[_r],"(",wn,");",wn.map(function(Mn,jn){return ta+"["+jn+"]="+Mn}).join(";"),";")}else $(Gr)?(zr=Jt.link(wn,{stable:!0}),Mr(yn,".",qn[_r],"(",zr,");",Pn,".",_r,"=",zr,";")):Mr(yn,".",qn[_r],"(",wn,");",Pn,".",_r,"=",wn,";")}})}function Gn(Jt,Mr){Pr&&(Jt.instancing=Mr.def(Jt.shared.extensions,".angle_instanced_arrays"))}function Hn(Jt,Mr,hn,xn,bn){function Nn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function Pn(jn){ta=Mr.def(),jn(ta,"=",Nn(),";"),typeof bn=="string"?jn(Gr,".count+=",bn,";"):jn(Gr,".count++;"),tr&&(xn?(Mn=Mr.def(),jn(Mn,"=",Yn,".getNumPendingQueries();")):jn(Yn,".beginQuery(",Gr,");"))}function yn(jn){jn(Gr,".cpuTime+=",Nn(),"-",ta,";"),tr&&(xn?jn(Yn,".pushScopeStats(",Mn,",",Yn,".getNumPendingQueries(),",Gr,");"):jn(Yn,".endQuery();"))}function zr(jn){var fa=Mr.def(wn,".profile");Mr(wn,".profile=",jn,";"),Mr.exit(wn,".profile=",fa,";")}var _r=Jt.shared,Gr=Jt.stats,wn=_r.current,Yn=_r.timer;hn=hn.profile;var ta,Mn;if(hn){if($(hn)){hn.enable?(Pn(Mr),yn(Mr.exit),zr("true")):zr("false");return}hn=hn.append(Jt,Mr),zr(hn)}else hn=Mr.def(wn,".profile");_r=Jt.block(),Pn(_r),Mr("if(",hn,"){",_r,"}"),Jt=Jt.block(),yn(Jt),Mr.exit("if(",hn,"){",Jt,"}")}function Ar(Jt,Mr,hn,xn,bn){function Nn(zr){switch(zr){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function Pn(zr,_r,Gr){function wn(){Mr("if(!",jn,".buffer){",ta,".enableVertexAttribArray(",Mn,");}");var ma=Gr.type,Pa;Pa=Gr.size?Mr.def(Gr.size,"||",_r):_r,Mr("if(",jn,".type!==",ma,"||",jn,".size!==",Pa,"||",ba.map(function($i){return jn+"."+$i+"!=="+Gr[$i]}).join("||"),"){",ta,".bindBuffer(",34962,",",fa,".buffer);",ta,".vertexAttribPointer(",[Mn,Pa,ma,Gr.normalized,Gr.stride,Gr.offset],");",jn,".type=",ma,";",jn,".size=",Pa,";",ba.map(function($i){return jn+"."+$i+"="+Gr[$i]+";"}).join(""),"}"),Pr&&(ma=Gr.divisor,Mr("if(",jn,".divisor!==",ma,"){",Jt.instancing,".vertexAttribDivisorANGLE(",[Mn,ma],");",jn,".divisor=",ma,";}"))}function Yn(){Mr("if(",jn,".buffer){",ta,".disableVertexAttribArray(",Mn,");",jn,".buffer=null;","}if(",At.map(function(ma,Pa){return jn+"."+ma+"!=="+Ta[Pa]}).join("||"),"){",ta,".vertexAttrib4f(",Mn,",",Ta,");",At.map(function(ma,Pa){return jn+"."+ma+"="+Ta[Pa]+";"}).join(""),"}")}var ta=yn.gl,Mn=Mr.def(zr,".location"),jn=Mr.def(yn.attributes,"[",Mn,"]");zr=Gr.state;var fa=Gr.buffer,Ta=[Gr.x,Gr.y,Gr.z,Gr.w],ba=["buffer","normalized","offset","stride"];zr===1?wn():zr===2?Yn():(Mr("if(",zr,"===",1,"){"),wn(),Mr("}else{"),Yn(),Mr("}"))}var yn=Jt.shared;xn.forEach(function(zr){var _r=zr.name,Gr=hn.attributes[_r],wn;if(Gr){if(!bn(Gr))return;wn=Gr.append(Jt,Mr)}else{if(!bn(lr))return;var Yn=Jt.scopeAttrib(_r);wn={},Object.keys(new va).forEach(function(ta){wn[ta]=Mr.def(Yn,".",ta)})}Pn(Jt.link(zr),Nn(zr.info.type),wn)})}function Cr(Jt,Mr,hn,xn,bn,Nn){for(var Pn=Jt.shared,yn=Pn.gl,zr,_r=0;_r<xn.length;++_r){var ta=xn[_r],Gr=ta.name,wn=ta.info.type,Yn=hn.uniforms[Gr],ta=Jt.link(ta)+".location",Mn;if(Yn){if(!bn(Yn))continue;if($(Yn)){if(Gr=Yn.value,wn===35678||wn===35680)wn=Jt.link(Gr._texture||Gr.color[0]._texture),Mr(yn,".uniform1i(",ta,",",wn+".bind());"),Mr.exit(wn,".unbind();");else if(wn===35674||wn===35675||wn===35676)Gr=Jt.global.def("new Float32Array(["+Array.prototype.slice.call(Gr)+"])"),Yn=2,wn===35675?Yn=3:wn===35676&&(Yn=4),Mr(yn,".uniformMatrix",Yn,"fv(",ta,",false,",Gr,");");else{switch(wn){case 5126:zr="1f";break;case 35664:zr="2f";break;case 35665:zr="3f";break;case 35666:zr="4f";break;case 35670:zr="1i";break;case 5124:zr="1i";break;case 35671:zr="2i";break;case 35667:zr="2i";break;case 35672:zr="3i";break;case 35668:zr="3i";break;case 35673:zr="4i";break;case 35669:zr="4i"}Mr(yn,".uniform",zr,"(",ta,",",A(Gr)?Array.prototype.slice.call(Gr):Gr,");")}continue}else Mn=Yn.append(Jt,Mr)}else{if(!bn(lr))continue;Mn=Mr.def(Pn.uniforms,"[",Qt.id(Gr),"]")}switch(wn===35678?Mr("if(",Mn,"&&",Mn,'._reglType==="framebuffer"){',Mn,"=",Mn,".color[0];","}"):wn===35680&&Mr("if(",Mn,"&&",Mn,'._reglType==="framebufferCube"){',Mn,"=",Mn,".color[0];","}"),Gr=1,wn){case 35678:case 35680:wn=Mr.def(Mn,"._texture"),Mr(yn,".uniform1i(",ta,",",wn,".bind());"),Mr.exit(wn,".unbind();");continue;case 5124:case 35670:zr="1i";break;case 35667:case 35671:zr="2i",Gr=2;break;case 35668:case 35672:zr="3i",Gr=3;break;case 35669:case 35673:zr="4i",Gr=4;break;case 5126:zr="1f";break;case 35664:zr="2f",Gr=2;break;case 35665:zr="3f",Gr=3;break;case 35666:zr="4f",Gr=4;break;case 35674:zr="Matrix2fv";break;case 35675:zr="Matrix3fv";break;case 35676:zr="Matrix4fv"}if(zr.charAt(0)==="M"){Mr(yn,".uniform",zr,"(",ta,",");var ta=Math.pow(wn-35674+2,2),jn=Jt.global.def("new Float32Array(",ta,")");Array.isArray(Mn)?Mr("false,(",u(ta,function(ba){return jn+"["+ba+"]="+Mn[ba]}),",",jn,")"):Mr("false,(Array.isArray(",Mn,")||",Mn," instanceof Float32Array)?",Mn,":(",u(ta,function(ba){return jn+"["+ba+"]="+Mn+"["+ba+"]"}),",",jn,")"),Mr(");")}else{if(1<Gr){for(var wn=[],fa=[],Yn=0;Yn<Gr;++Yn)Array.isArray(Mn)?fa.push(Mn[Yn]):fa.push(Mr.def(Mn+"["+Yn+"]")),Nn&&wn.push(Mr.def());Nn&&Mr("if(!",Jt.batchId,"||",wn.map(function(Ta,ba){return Ta+"!=="+fa[ba]}).join("||"),"){",wn.map(function(Ta,ba){return Ta+"="+fa[ba]+";"}).join("")),Mr(yn,".uniform",zr,"(",ta,",",fa.join(","),");")}else Nn&&(wn=Mr.def(),Mr("if(!",Jt.batchId,"||",wn,"!==",Mn,"){",wn,"=",Mn,";")),Mr(yn,".uniform",zr,"(",ta,",",Mn,");");Nn&&Mr("}")}}}function Yr(Jt,Mr,hn,xn){function bn(ma){var Pa=Gr[ma];return Pa?Pa.contextDep&&xn.contextDynamic||Pa.propDep?Pa.append(Jt,hn):Pa.append(Jt,Mr):Mr.def(_r,".",ma)}function Nn(){function ma(){hn(fa,".drawElementsInstancedANGLE(",[Yn,Mn,Ta,ta+"<<(("+Ta+"-5121)>>1)",jn],");")}function Pa(){hn(fa,".drawArraysInstancedANGLE(",[Yn,ta,Mn,jn],");")}wn&&wn!=="null"?ba?ma():(hn("if(",wn,"){"),ma(),hn("}else{"),Pa(),hn("}")):Pa()}function Pn(){function ma(){hn(zr+".drawElements("+[Yn,Mn,Ta,ta+"<<(("+Ta+"-5121)>>1)"]+");")}function Pa(){hn(zr+".drawArrays("+[Yn,ta,Mn]+");")}wn&&wn!=="null"?ba?ma():(hn("if(",wn,"){"),ma(),hn("}else{"),Pa(),hn("}")):Pa()}var yn=Jt.shared,zr=yn.gl,_r=yn.draw,Gr=xn.draw,wn=function(){var ma=Gr.elements,Pa=Mr;return ma?((ma.contextDep&&xn.contextDynamic||ma.propDep)&&(Pa=hn),ma=ma.append(Jt,Pa),Gr.elementsActive&&Pa("if("+ma+")"+zr+".bindBuffer(34963,"+ma+".buffer.buffer);")):(ma=Pa.def(),Pa(ma,"=",_r,".","elements",";","if(",ma,"){",zr,".bindBuffer(",34963,",",ma,".buffer.buffer);}","else if(",yn.vao,".currentVAO){",ma,"=",Jt.shared.elements+".getElements("+yn.vao,".currentVAO.elements);",cn?"":"if("+ma+")"+zr+".bindBuffer(34963,"+ma+".buffer.buffer);","}")),ma}(),Yn=bn("primitive"),ta=bn("offset"),Mn=function(){var ma=Gr.count,Pa=Mr;return ma?((ma.contextDep&&xn.contextDynamic||ma.propDep)&&(Pa=hn),ma=ma.append(Jt,Pa)):ma=Pa.def(_r,".","count"),ma}();if(typeof Mn=="number"){if(Mn===0)return}else hn("if(",Mn,"){"),hn.exit("}");var jn,fa;Pr&&(jn=bn("instances"),fa=Jt.instancing);var Ta=wn+".type",ba=Gr.elements&&$(Gr.elements)&&!Gr.vaoActive;Pr&&(typeof jn!="number"||0<=jn)?typeof jn=="string"?(hn("if(",jn,">0){"),Nn(),hn("}else if(",jn,"<0){"),Pn(),hn("}")):Nn():Pn()}function Zr(Jt,Mr,hn,xn,bn){return Mr=_t(),bn=Mr.proc("body",bn),Pr&&(Mr.instancing=bn.def(Mr.shared.extensions,".angle_instanced_arrays")),Jt(Mr,bn,hn,xn),Mr.compile().body}function un(Jt,Mr,hn,xn){Gn(Jt,Mr),hn.useVAO?hn.drawVAO?Mr(Jt.shared.vao,".setVAO(",hn.drawVAO.append(Jt,Mr),");"):Mr(Jt.shared.vao,".setVAO(",Jt.shared.vao,".targetVAO);"):(Mr(Jt.shared.vao,".setVAO(null);"),Ar(Jt,Mr,hn,xn.attributes,function(){return!0})),Cr(Jt,Mr,hn,xn.uniforms,function(){return!0},!1),Yr(Jt,Mr,Mr,hn)}function mn(Jt,Mr){var hn=Jt.proc("draw",1);Gn(Jt,hn),Nr(Jt,hn,Mr.context),Ur(Jt,hn,Mr.framebuffer),Tn(Jt,hn,Mr),rn(Jt,hn,Mr.state),Hn(Jt,hn,Mr,!1,!0);var xn=Mr.shader.progVar.append(Jt,hn);if(hn(Jt.shared.gl,".useProgram(",xn,".program);"),Mr.shader.program)un(Jt,hn,Mr,Mr.shader.program);else{hn(Jt.shared.vao,".setVAO(null);");var bn=Jt.global.def("{}"),Nn=hn.def(xn,".id"),Pn=hn.def(bn,"[",Nn,"]");hn(Jt.cond(Pn).then(Pn,".call(this,a0);").else(Pn,"=",bn,"[",Nn,"]=",Jt.link(function(yn){return Zr(un,Jt,Mr,yn,1)}),"(",xn,");",Pn,".call(this,a0);"))}0<Object.keys(Mr.state).length&&hn(Jt.shared.current,".dirty=true;"),Jt.shared.vao&&hn(Jt.shared.vao,".setVAO(null);")}function pn(Jt,Mr,hn,xn){function bn(){return!0}Jt.batchId="a1",Gn(Jt,Mr),Ar(Jt,Mr,hn,xn.attributes,bn),Cr(Jt,Mr,hn,xn.uniforms,bn,!1),Yr(Jt,Mr,Mr,hn)}function Rn(Jt,Mr,hn,xn){function bn(wn){return wn.contextDep&&Pn||wn.propDep}function Nn(wn){return!bn(wn)}Gn(Jt,Mr);var Pn=hn.contextDep,yn=Mr.def(),zr=Mr.def();Jt.shared.props=zr,Jt.batchId=yn;var _r=Jt.scope(),Gr=Jt.scope();Mr(_r.entry,"for(",yn,"=0;",yn,"<","a1",";++",yn,"){",zr,"=","a0","[",yn,"];",Gr,"}",_r.exit),hn.needsContext&&Nr(Jt,Gr,hn.context),hn.needsFramebuffer&&Ur(Jt,Gr,hn.framebuffer),rn(Jt,Gr,hn.state,bn),hn.profile&&bn(hn.profile)&&Hn(Jt,Gr,hn,!1,!0),xn?(hn.useVAO?hn.drawVAO?bn(hn.drawVAO)?Gr(Jt.shared.vao,".setVAO(",hn.drawVAO.append(Jt,Gr),");"):_r(Jt.shared.vao,".setVAO(",hn.drawVAO.append(Jt,_r),");"):_r(Jt.shared.vao,".setVAO(",Jt.shared.vao,".targetVAO);"):(_r(Jt.shared.vao,".setVAO(null);"),Ar(Jt,_r,hn,xn.attributes,Nn),Ar(Jt,Gr,hn,xn.attributes,bn)),Cr(Jt,_r,hn,xn.uniforms,Nn,!1),Cr(Jt,Gr,hn,xn.uniforms,bn,!0),Yr(Jt,_r,Gr,hn)):(Mr=Jt.global.def("{}"),xn=hn.shader.progVar.append(Jt,Gr),zr=Gr.def(xn,".id"),_r=Gr.def(Mr,"[",zr,"]"),Gr(Jt.shared.gl,".useProgram(",xn,".program);","if(!",_r,"){",_r,"=",Mr,"[",zr,"]=",Jt.link(function(wn){return Zr(pn,Jt,hn,wn,2)}),"(",xn,");}",_r,".call(this,a0[",yn,"],",yn,");"))}function Un(Jt,Mr){function hn(_r){return _r.contextDep&&bn||_r.propDep}var xn=Jt.proc("batch",2);Jt.batchId="0",Gn(Jt,xn);var bn=!1,Nn=!0;Object.keys(Mr.context).forEach(function(_r){bn=bn||Mr.context[_r].propDep}),bn||(Nr(Jt,xn,Mr.context),Nn=!1);var Pn=Mr.framebuffer,yn=!1;if(Pn?(Pn.propDep?bn=yn=!0:Pn.contextDep&&bn&&(yn=!0),yn||Ur(Jt,xn,Pn)):Ur(Jt,xn,null),Mr.state.viewport&&Mr.state.viewport.propDep&&(bn=!0),Tn(Jt,xn,Mr),rn(Jt,xn,Mr.state,function(_r){return!hn(_r)}),Mr.profile&&hn(Mr.profile)||Hn(Jt,xn,Mr,!1,"a1"),Mr.contextDep=bn,Mr.needsContext=Nn,Mr.needsFramebuffer=yn,Nn=Mr.shader.progVar,Nn.contextDep&&bn||Nn.propDep)Rn(Jt,xn,Mr,null);else if(Nn=Nn.append(Jt,xn),xn(Jt.shared.gl,".useProgram(",Nn,".program);"),Mr.shader.program)Rn(Jt,xn,Mr,Mr.shader.program);else{xn(Jt.shared.vao,".setVAO(null);");var Pn=Jt.global.def("{}"),yn=xn.def(Nn,".id"),zr=xn.def(Pn,"[",yn,"]");xn(Jt.cond(zr).then(zr,".call(this,a0,a1);").else(zr,"=",Pn,"[",yn,"]=",Jt.link(function(wn){return Zr(Rn,Jt,Mr,wn,2)}),"(",Nn,");",zr,".call(this,a0,a1);"))}0<Object.keys(Mr.state).length&&xn(Jt.shared.current,".dirty=true;"),Jt.shared.vao&&xn(Jt.shared.vao,".setVAO(null);")}function oa(Jt,Mr){function hn(yn){var zr=Mr.shader[yn];zr&&(zr=zr.append(Jt,xn),isNaN(zr)?xn.set(bn.shader,"."+yn,zr):xn.set(bn.shader,"."+yn,Jt.link(zr,{stable:!0})))}var xn=Jt.proc("scope",3);Jt.batchId="a2";var bn=Jt.shared,Nn=bn.current;if(Nr(Jt,xn,Mr.context),Mr.framebuffer&&Mr.framebuffer.append(Jt,xn),Z(Object.keys(Mr.state)).forEach(function(yn){var zr=Mr.state[yn],_r=zr.append(Jt,xn);A(_r)?_r.forEach(function(Gr,wn){isNaN(Gr)?xn.set(Jt.next[yn],"["+wn+"]",Gr):xn.set(Jt.next[yn],"["+wn+"]",Jt.link(Gr,{stable:!0}))}):$(zr)?xn.set(bn.next,"."+yn,Jt.link(_r,{stable:!0})):xn.set(bn.next,"."+yn,_r)}),Hn(Jt,xn,Mr,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(yn){var zr=Mr.draw[yn];zr&&(zr=zr.append(Jt,xn),isNaN(zr)?xn.set(bn.draw,"."+yn,zr):xn.set(bn.draw,"."+yn,Jt.link(zr),{stable:!0}))}),Object.keys(Mr.uniforms).forEach(function(yn){var zr=Mr.uniforms[yn].append(Jt,xn);Array.isArray(zr)&&(zr="["+zr.map(function(_r){return isNaN(_r)?_r:Jt.link(_r,{stable:!0})})+"]"),xn.set(bn.uniforms,"["+Jt.link(Qt.id(yn),{stable:!0})+"]",zr)}),Object.keys(Mr.attributes).forEach(function(yn){var zr=Mr.attributes[yn].append(Jt,xn),_r=Jt.scopeAttrib(yn);Object.keys(new va).forEach(function(Gr){xn.set(_r,"."+Gr,zr[Gr])})}),Mr.scopeVAO){var Pn=Mr.scopeVAO.append(Jt,xn);isNaN(Pn)?xn.set(bn.vao,".targetVAO",Pn):xn.set(bn.vao,".targetVAO",Jt.link(Pn,{stable:!0}))}hn("vert"),hn("frag"),0<Object.keys(Mr.state).length&&(xn(Nn,".dirty=true;"),xn.exit(Nn,".dirty=true;")),xn("a1(",Jt.shared.context,",a0,",Jt.batchId,");")}function ua(Jt){if(typeof Jt=="object"&&!A(Jt)){for(var Mr=Object.keys(Jt),hn=0;hn<Mr.length;++hn)if(ge.isDynamic(Jt[Mr[hn]]))return!0;return!1}}function xa(Jt,Mr,hn){function xn(wn,Yn){Pn.forEach(function(ta){var Mn=bn[ta];ge.isDynamic(Mn)&&(Mn=wn.invoke(Yn,Mn),Yn(Gr,".",ta,"=",Mn,";"))})}var bn=Mr.static[hn];if(bn&&ua(bn)){var Nn=Jt.global,Pn=Object.keys(bn),yn=!1,zr=!1,_r=!1,Gr=Jt.global.def("{}");Pn.forEach(function(wn){var Yn=bn[wn];if(ge.isDynamic(Yn))typeof Yn=="function"&&(Yn=bn[wn]=ge.unbox(Yn)),wn=J(Yn,null),yn=yn||wn.thisDep,_r=_r||wn.propDep,zr=zr||wn.contextDep;else{switch(Nn(Gr,".",wn,"="),typeof Yn){case"number":Nn(Yn);break;case"string":Nn('"',Yn,'"');break;case"object":Array.isArray(Yn)&&Nn("[",Yn.join(),"]");break;default:Nn(Jt.link(Yn))}Nn(";")}}),Mr.dynamic[hn]=new ge.DynamicVariable(4,{thisDep:yn,contextDep:zr,propDep:_r,ref:Gr,append:xn}),delete Mr.static[hn]}}var va=Pt.Record,ca={add:32774,subtract:32778,"reverse subtract":32779};jt.ext_blend_minmax&&(ca.min=32775,ca.max=32776);var Pr=jt.angle_instanced_arrays,dn=jt.webgl_draw_buffers,cn=jt.oes_vertex_array_object,An={dirty:!0,profile:ur.profile},Qn={},zn=[],Bn={},qn={};We("dither",3024),We("blend.enable",3042),Ge("blend.color","blendColor",[0,0,0,0]),Ge("blend.equation","blendEquationSeparate",[32774,32774]),Ge("blend.func","blendFuncSeparate",[1,0,1,0]),We("depth.enable",2929,!0),Ge("depth.func","depthFunc",513),Ge("depth.range","depthRange",[0,1]),Ge("depth.mask","depthMask",!0),Ge("colorMask","colorMask",[!0,!0,!0,!0]),We("cull.enable",2884),Ge("cull.face","cullFace",1029),Ge("frontFace","frontFace",2305),Ge("lineWidth","lineWidth",1),We("polygonOffset.enable",32823),Ge("polygonOffset.offset","polygonOffset",[0,0]),We("sample.alpha",32926),We("sample.enable",32928),Ge("sample.coverage","sampleCoverage",[1,!1]),We("stencil.enable",2960),Ge("stencil.mask","stencilMask",-1),Ge("stencil.func","stencilFunc",[519,0,-1]),Ge("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Ge("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),We("scissor.enable",3089),Ge("scissor.box","scissor",[0,0,xt.drawingBufferWidth,xt.drawingBufferHeight]),Ge("viewport","viewport",[0,0,xt.drawingBufferWidth,xt.drawingBufferHeight]);var ya={gl:xt,context:Wt,strings:Qt,next:Qn,current:An,draw:Bt,elements:ut,buffer:gr,shader:Et,attributes:Pt.state,vao:Pt,uniforms:St,framebuffer:bt,extensions:jt,timer:tr,isBufferArgs:W},Na={primTypes:Je,compareFuncs:Yt,blendFuncs:Gt,blendEquations:ca,stencilOps:Dt,glTypes:Ue,orientationType:$t};dn&&(Na.backBuffer=[1029],Na.drawBuffer=u(Sr.maxDrawbuffers,function(Jt){return Jt===0?[0]:u(Jt,function(Mr){return 36064+Mr})}));var ii=0;return{next:Qn,current:An,procs:function(){var Jt=_t(),Mr=Jt.proc("poll"),hn=Jt.proc("refresh"),xn=Jt.block();Mr(xn),hn(xn);var zr=Jt.shared,bn=zr.gl,Nn=zr.next,Pn=zr.current;xn(Pn,".dirty=false;"),Ur(Jt,Mr),Ur(Jt,hn,null,!0);var yn;Pr&&(yn=Jt.link(Pr)),jt.oes_vertex_array_object&&hn(Jt.link(jt.oes_vertex_array_object),".bindVertexArrayOES(null);");var zr=hn.def(zr.attributes),_r=hn.def(0),Gr=Jt.cond(_r,".buffer");Gr.then(bn,".enableVertexAttribArray(i);",bn,".bindBuffer(",34962,",",_r,".buffer.buffer);",bn,".vertexAttribPointer(i,",_r,".size,",_r,".type,",_r,".normalized,",_r,".stride,",_r,".offset);").else(bn,".disableVertexAttribArray(i);",bn,".vertexAttrib4f(i,",_r,".x,",_r,".y,",_r,".z,",_r,".w);",_r,".buffer=null;");var wn=Jt.link(Sr.maxAttributes,{stable:!0});return hn("for(var i=0;i<",wn,";++i){",_r,"=",zr,"[i];",Gr,"}"),Pr&&hn("for(var i=0;i<",wn,";++i){",yn,".vertexAttribDivisorANGLE(i,",zr,"[i].divisor);","}"),hn(Jt.shared.vao,".currentVAO=null;",Jt.shared.vao,".setVAO(",Jt.shared.vao,".targetVAO);"),Object.keys(Bn).forEach(function(Yn){var ta=Bn[Yn],Mn=xn.def(Nn,".",Yn),jn=Jt.block();jn("if(",Mn,"){",bn,".enable(",ta,")}else{",bn,".disable(",ta,")}",Pn,".",Yn,"=",Mn,";"),hn(jn),Mr("if(",Mn,"!==",Pn,".",Yn,"){",jn,"}")}),Object.keys(qn).forEach(function(Yn){var ta=qn[Yn],Mn=An[Yn],jn,fa,Ta=Jt.block();Ta(bn,".",ta,"("),A(Mn)?(ta=Mn.length,jn=Jt.global.def(Nn,".",Yn),fa=Jt.global.def(Pn,".",Yn),Ta(u(ta,function(ba){return jn+"["+ba+"]"}),");",u(ta,function(ba){return fa+"["+ba+"]="+jn+"["+ba+"];"}).join("")),Mr("if(",u(ta,function(ba){return jn+"["+ba+"]!=="+fa+"["+ba+"]"}).join("||"),"){",Ta,"}")):(jn=xn.def(Nn,".",Yn),fa=xn.def(Pn,".",Yn),Ta(jn,");",Pn,".",Yn,"=",jn,";"),Mr("if(",jn,"!==",fa,"){",Ta,"}")),hn(Ta)}),Jt.compile()}(),compile:function(Jt,Mr,hn,xn,bn){var Nn=_t();Nn.stats=Nn.link(bn),Object.keys(Mr.static).forEach(function(yn){xa(Nn,Mr,yn)}),Ft.forEach(function(yn){xa(Nn,Jt,yn)});var Pn=Kr(Jt,Mr,hn,xn,Nn);return Pn.shader.program&&(Pn.shader.program.attributes.sort(function(yn,zr){return yn.name<zr.name?-1:1}),Pn.shader.program.uniforms.sort(function(yn,zr){return yn.name<zr.name?-1:1})),mn(Nn,Pn),oa(Nn,Pn),Un(Nn,Pn),ne(Nn.compile(),{destroy:function(){Pn.shader.program.destroy()}})}}}function se(xt,Qt){for(var jt=0;jt<xt.length;++jt)if(xt[jt]===Qt)return jt;return-1}var ne=function(xt,Qt){for(var jt=Object.keys(Qt),Sr=0;Sr<jt.length;++Sr)xt[jt[Sr]]=Qt[jt[Sr]];return xt},ue=0,ge={DynamicVariable:U,define:function(xt,Qt){return new U(xt,g(Qt+""))},isDynamic:function(xt){return typeof xt=="function"&&!xt._reglType||xt instanceof U},unbox:P,accessor:g},we={next:typeof requestAnimationFrame=="function"?function(xt){return requestAnimationFrame(xt)}:function(xt){return setTimeout(xt,16)},cancel:typeof cancelAnimationFrame=="function"?function(xt){return cancelAnimationFrame(xt)}:clearTimeout},xe=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},Fe=s();Fe.zero=s();var ze=function(xt,Qt){var jt=1;Qt.ext_texture_filter_anisotropic&&(jt=xt.getParameter(34047));var Sr=1,gr=1;Qt.webgl_draw_buffers&&(Sr=xt.getParameter(34852),gr=xt.getParameter(36063));var ut=!!Qt.oes_texture_float;if(ut){ut=xt.createTexture(),xt.bindTexture(3553,ut),xt.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var st=xt.createFramebuffer();if(xt.bindFramebuffer(36160,st),xt.framebufferTexture2D(36160,36064,3553,ut,0),xt.bindTexture(3553,null),xt.checkFramebufferStatus(36160)!==36053)ut=!1;else{xt.viewport(0,0,1,1),xt.clearColor(1,0,0,1),xt.clear(16384);var bt=Fe.allocType(5126,4);xt.readPixels(0,0,1,1,6408,5126,bt),xt.getError()?ut=!1:(xt.deleteFramebuffer(st),xt.deleteTexture(ut),ut=bt[0]===1),Fe.freeType(bt)}}return bt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(bt=xt.createTexture(),st=Fe.allocType(5121,36),xt.activeTexture(33984),xt.bindTexture(34067,bt),xt.texImage2D(34069,0,6408,3,3,0,6408,5121,st),Fe.freeType(st),xt.bindTexture(34067,null),xt.deleteTexture(bt),bt=!xt.getError()),{colorBits:[xt.getParameter(3410),xt.getParameter(3411),xt.getParameter(3412),xt.getParameter(3413)],depthBits:xt.getParameter(3414),stencilBits:xt.getParameter(3415),subpixelBits:xt.getParameter(3408),extensions:Object.keys(Qt).filter(function(St){return!!Qt[St]}),maxAnisotropic:jt,maxDrawbuffers:Sr,maxColorAttachments:gr,pointSizeDims:xt.getParameter(33901),lineWidthDims:xt.getParameter(33902),maxViewportDims:xt.getParameter(3386),maxCombinedTextureUnits:xt.getParameter(35661),maxCubeMapSize:xt.getParameter(34076),maxRenderbufferSize:xt.getParameter(34024),maxTextureUnits:xt.getParameter(34930),maxTextureSize:xt.getParameter(3379),maxAttributes:xt.getParameter(34921),maxVertexUniforms:xt.getParameter(36347),maxVertexTextureUnits:xt.getParameter(35660),maxVaryingVectors:xt.getParameter(36348),maxFragmentUniforms:xt.getParameter(36349),glsl:xt.getParameter(35724),renderer:xt.getParameter(7937),vendor:xt.getParameter(7936),version:xt.getParameter(7938),readFloat:ut,npotTextureCube:bt}},Te=function(xt){return xt instanceof Uint8Array||xt instanceof Uint16Array||xt instanceof Uint32Array||xt instanceof Int8Array||xt instanceof Int16Array||xt instanceof Int32Array||xt instanceof Float32Array||xt instanceof Float64Array||xt instanceof Uint8ClampedArray},ye=function(xt){return Object.keys(xt).map(function(Qt){return xt[Qt]})},Ae={shape:function(xt){for(var Qt=[];xt.length;xt=xt[0])Qt.push(xt.length);return Qt},flatten:function(xt,Qt,jt,Sr){var gr=1;if(Qt.length)for(var ut=0;ut<Qt.length;++ut)gr*=Qt[ut];else gr=0;switch(jt=Sr||Fe.allocType(jt,gr),Qt.length){case 0:break;case 1:for(Sr=Qt[0],Qt=0;Qt<Sr;++Qt)jt[Qt]=xt[Qt];break;case 2:for(Sr=Qt[0],Qt=Qt[1],ut=gr=0;ut<Sr;++ut)for(var st=xt[ut],bt=0;bt<Qt;++bt)jt[gr++]=st[bt];break;case 3:l(xt,Qt[0],Qt[1],Qt[2],jt,0);break;default:x(xt,Qt,0,jt,0)}return jt}},Ne={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Ue={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Re={dynamic:35048,stream:35040,static:35044},Ve=Ae.flatten,rt=Ae.shape,Qe=[];Qe[5120]=1,Qe[5122]=2,Qe[5124]=4,Qe[5121]=1,Qe[5123]=2,Qe[5125]=4,Qe[5126]=4;var Je={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},qe=new Float32Array(1),dt=new Uint32Array(qe.buffer),pt=[9984,9986,9985,9987],mt=[0,6409,6410,6407,6408],Ct={};Ct[6409]=Ct[6406]=Ct[6402]=1,Ct[34041]=Ct[6410]=2,Ct[6407]=Ct[35904]=3,Ct[6408]=Ct[35906]=4;var Rt=E("HTMLCanvasElement"),Zt=E("OffscreenCanvas"),Xe=E("CanvasRenderingContext2D"),Le=E("ImageBitmap"),Pe=E("HTMLImageElement"),ke=E("HTMLVideoElement"),Ce=Object.keys(Ne).concat([Rt,Zt,Xe,Le,Pe,ke]),me=[];me[5121]=1,me[5126]=4,me[36193]=2,me[5123]=2,me[5125]=4;var oe=[];oe[32854]=2,oe[32855]=2,oe[36194]=2,oe[34041]=4,oe[33776]=.5,oe[33777]=.5,oe[33778]=1,oe[33779]=1,oe[35986]=.5,oe[35987]=1,oe[34798]=1,oe[35840]=.5,oe[35841]=.25,oe[35842]=.5,oe[35843]=.25,oe[36196]=.5;var pe=[];pe[32854]=2,pe[32855]=2,pe[36194]=2,pe[33189]=2,pe[36168]=1,pe[34041]=4,pe[35907]=4,pe[34836]=16,pe[34842]=8,pe[34843]=6;var Me=function(xt,Qt,jt,Sr,gr){function ut(Bt){this.id=Pt++,this.refCount=1,this.renderbuffer=Bt,this.format=32854,this.height=this.width=0,gr.profile&&(this.stats={size:0})}function st(Bt){var Wt=Bt.renderbuffer;xt.bindRenderbuffer(36161,null),xt.deleteRenderbuffer(Wt),Bt.renderbuffer=null,Bt.refCount=0,delete Et[Bt.id],Sr.renderbufferCount--}var bt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Qt.ext_srgb&&(bt.srgba=35907),Qt.ext_color_buffer_half_float&&(bt.rgba16f=34842,bt.rgb16f=34843),Qt.webgl_color_buffer_float&&(bt.rgba32f=34836);var St=[];Object.keys(bt).forEach(function(Bt){St[bt[Bt]]=Bt});var Pt=0,Et={};return ut.prototype.decRef=function(){0>=--this.refCount&&st(this)},gr.profile&&(Sr.getTotalRenderbufferSize=function(){var Bt=0;return Object.keys(Et).forEach(function(Wt){Bt+=Et[Wt].stats.size}),Bt}),{create:function(Bt,Wt){function tr(ur,kr){var We=0,Ge=0,_t=32854;if(typeof ur=="object"&&ur?("shape"in ur?(Ge=ur.shape,We=Ge[0]|0,Ge=Ge[1]|0):("radius"in ur&&(We=Ge=ur.radius|0),"width"in ur&&(We=ur.width|0),"height"in ur&&(Ge=ur.height|0)),"format"in ur&&(_t=bt[ur.format])):typeof ur=="number"?(We=ur|0,Ge=typeof kr=="number"?kr|0:We):ur||(We=Ge=1),We!==er.width||Ge!==er.height||_t!==er.format)return tr.width=er.width=We,tr.height=er.height=Ge,er.format=_t,xt.bindRenderbuffer(36161,er.renderbuffer),xt.renderbufferStorage(36161,_t,We,Ge),gr.profile&&(er.stats.size=pe[er.format]*er.width*er.height),tr.format=St[er.format],tr}var er=new ut(xt.createRenderbuffer());return Et[er.id]=er,Sr.renderbufferCount++,tr(Bt,Wt),tr.resize=function(ur,kr){var We=ur|0,Ge=kr|0||We;return We===er.width&&Ge===er.height||(tr.width=er.width=We,tr.height=er.height=Ge,xt.bindRenderbuffer(36161,er.renderbuffer),xt.renderbufferStorage(36161,er.format,We,Ge),gr.profile&&(er.stats.size=pe[er.format]*er.width*er.height)),tr},tr._reglType="renderbuffer",tr._renderbuffer=er,gr.profile&&(tr.stats=er.stats),tr.destroy=function(){er.decRef()},tr},clear:function(){ye(Et).forEach(st)},restore:function(){ye(Et).forEach(function(Bt){Bt.renderbuffer=xt.createRenderbuffer(),xt.bindRenderbuffer(36161,Bt.renderbuffer),xt.renderbufferStorage(36161,Bt.format,Bt.width,Bt.height)}),xt.bindRenderbuffer(36161,null)}}},_e=[];_e[6408]=4,_e[6407]=3;var tt=[];tt[5121]=1,tt[5126]=4,tt[36193]=2;var at=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],At=["x","y","z","w"],Ft="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Gt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Yt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Dt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},$t={cw:2304,ccw:2305},lr=new X(!1,!1,!1,function(){}),Hr=function(xt,Qt){function jt(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function Sr(Et,Bt,Wt){var tr=st.pop()||new jt;tr.startQueryIndex=Et,tr.endQueryIndex=Bt,tr.sum=0,tr.stats=Wt,bt.push(tr)}if(!Qt.ext_disjoint_timer_query)return null;var gr=[],ut=[],st=[],bt=[],St=[],Pt=[];return{beginQuery:function(Et){var Bt=gr.pop()||Qt.ext_disjoint_timer_query.createQueryEXT();Qt.ext_disjoint_timer_query.beginQueryEXT(35007,Bt),ut.push(Bt),Sr(ut.length-1,ut.length,Et)},endQuery:function(){Qt.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:Sr,update:function(){var Et,Bt;if(Et=ut.length,Et!==0){Pt.length=Math.max(Pt.length,Et+1),St.length=Math.max(St.length,Et+1),St[0]=0;var Wt=Pt[0]=0;for(Bt=Et=0;Bt<ut.length;++Bt){var tr=ut[Bt];Qt.ext_disjoint_timer_query.getQueryObjectEXT(tr,34919)?(Wt+=Qt.ext_disjoint_timer_query.getQueryObjectEXT(tr,34918),gr.push(tr)):ut[Et++]=tr,St[Bt+1]=Wt,Pt[Bt+1]=Et}for(ut.length=Et,Bt=Et=0;Bt<bt.length;++Bt){var Wt=bt[Bt],er=Wt.startQueryIndex,tr=Wt.endQueryIndex;Wt.sum+=St[tr]-St[er],er=Pt[er],tr=Pt[tr],tr===er?(Wt.stats.gpuTime+=Wt.sum/1e6,st.push(Wt)):(Wt.startQueryIndex=er,Wt.endQueryIndex=tr,bt[Et++]=Wt)}bt.length=Et}},getNumPendingQueries:function(){return ut.length},clear:function(){gr.push.apply(gr,ut);for(var Et=0;Et<gr.length;Et++)Qt.ext_disjoint_timer_query.deleteQueryEXT(gr[Et]);ut.length=0,gr.length=0},restore:function(){ut.length=0,gr.length=0}}};return function(xt){function Qt(){if(Hn.length===0)_t&&_t.update(),Zr=null;else{Zr=we.next(Qt),Et();for(var mn=Hn.length-1;0<=mn;--mn){var pn=Hn[mn];pn&&pn(or,null,0)}tr.flush(),_t&&_t.update()}}function jt(){!Zr&&0<Hn.length&&(Zr=we.next(Qt))}function Sr(){Zr&&(we.cancel(Qt),Zr=null)}function gr(mn){mn.preventDefault(),Sr(),Ar.forEach(function(pn){pn()})}function ut(mn){tr.getError(),ur.restore(),xr.restore(),Nt.restore(),yr.restore(),Kr.restore(),Nr.restore(),mr.restore(),_t&&_t.restore(),Ur.procs.refresh(),jt(),Cr.forEach(function(pn){pn()})}function st(mn){function pn(An,Qn){var zn={},Bn={};return Object.keys(An).forEach(function(qn){var ya=An[qn];if(ge.isDynamic(ya))Bn[qn]=ge.unbox(ya,qn);else{if(Qn&&Array.isArray(ya)){for(var Na=0;Na<ya.length;++Na)if(ge.isDynamic(ya[Na])){Bn[qn]=ge.unbox(ya,qn);return}}zn[qn]=ya}}),{dynamic:Bn,static:zn}}function Rn(An){for(;cn.length<An;)cn.push(null);return cn}var Un=pn(mn.context||{},!0),oa=pn(mn.uniforms||{},!0),ua=pn(mn.attributes||{},!1);mn=pn(function(An){function Qn(Bn){if(Bn in zn){var qn=zn[Bn];delete zn[Bn],Object.keys(qn).forEach(function(ya){zn[Bn+"."+ya]=qn[ya]})}}var zn=ne({},An);return delete zn.uniforms,delete zn.attributes,delete zn.context,delete zn.vao,"stencil"in zn&&zn.stencil.op&&(zn.stencil.opBack=zn.stencil.opFront=zn.stencil.op,delete zn.stencil.op),Qn("blend"),Qn("depth"),Qn("cull"),Qn("stencil"),Qn("polygonOffset"),Qn("scissor"),Qn("sample"),"vao"in An&&(zn.vao=An.vao),zn}(mn),!1);var xa={gpuTime:0,cpuTime:0,count:0},va=Ur.compile(mn,ua,oa,Un,xa),ca=va.draw,Pr=va.batch,dn=va.scope,cn=[];return ne(function(An,Qn){var zn;if(typeof An=="function")return dn.call(this,null,An,0);if(typeof Qn=="function")if(typeof An=="number")for(zn=0;zn<An;++zn)dn.call(this,null,Qn,zn);else if(Array.isArray(An))for(zn=0;zn<An.length;++zn)dn.call(this,An[zn],Qn,zn);else return dn.call(this,An,Qn,0);else if(typeof An=="number"){if(0<An)return Pr.call(this,Rn(An|0),An|0)}else if(Array.isArray(An)){if(An.length)return Pr.call(this,An,An.length)}else return ca.call(this,An)},{stats:xa,destroy:function(){va.destroy()}})}function bt(mn,pn){var Rn=0;Ur.procs.poll();var Un=pn.color;Un&&(tr.clearColor(+Un[0]||0,+Un[1]||0,+Un[2]||0,+Un[3]||0),Rn|=16384),"depth"in pn&&(tr.clearDepth(+pn.depth),Rn|=256),"stencil"in pn&&(tr.clearStencil(pn.stencil|0),Rn|=1024),tr.clear(Rn)}function St(mn){return Hn.push(mn),jt(),{cancel:function(){function pn(){var Un=se(Hn,pn);Hn[Un]=Hn[Hn.length-1],--Hn.length,0>=Hn.length&&Sr()}var Rn=se(Hn,mn);Hn[Rn]=pn}}}function Pt(){var mn=rn.viewport,pn=rn.scissor_box;mn[0]=mn[1]=pn[0]=pn[1]=0,or.viewportWidth=or.framebufferWidth=or.drawingBufferWidth=mn[2]=pn[2]=tr.drawingBufferWidth,or.viewportHeight=or.framebufferHeight=or.drawingBufferHeight=mn[3]=pn[3]=tr.drawingBufferHeight}function Et(){or.tick+=1,or.time=Wt(),Pt(),Ur.procs.poll()}function Bt(){yr.refresh(),Pt(),Ur.procs.refresh(),_t&&_t.update()}function Wt(){return(xe()-Ot)/1e3}if(xt=t(xt),!xt)return null;var tr=xt.gl,er=tr.getContextAttributes();tr.isContextLost();var ur=r(tr,xt);if(!ur)return null;var Tn=a(),kr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},We=xt.cachedCode||{},Ge=ur.extensions,_t=Hr(tr,Ge),Ot=xe(),hr=tr.drawingBufferWidth,Kt=tr.drawingBufferHeight,or={tick:0,time:0,viewportWidth:hr,viewportHeight:Kt,framebufferWidth:hr,framebufferHeight:Kt,drawingBufferWidth:hr,drawingBufferHeight:Kt,pixelRatio:xt.pixelRatio},hr={elements:null,primitive:4,count:-1,offset:0,instances:-1},ir=ze(tr,Ge),Nt=o(tr,kr,xt,function(mn){return mr.destroyBuffer(mn)}),vr=p(tr,Ge,Nt,kr),mr=k(tr,Ge,ir,kr,Nt,vr,hr),xr=O(tr,Tn,kr,xt),yr=_(tr,Ge,ir,function(){Ur.procs.poll()},or,kr,xt),Kr=Me(tr,Ge,ir,kr,xt),Nr=I(tr,Ge,ir,yr,Kr,kr),Ur=j(tr,Tn,Ge,ir,Nt,vr,yr,Nr,{},mr,xr,hr,or,_t,We,xt),Tn=z(tr,Nr,Ur.procs.poll,or),rn=Ur.next,Gn=tr.canvas,Hn=[],Ar=[],Cr=[],Yr=[xt.onDestroy],Zr=null;Gn&&(Gn.addEventListener("webglcontextlost",gr,!1),Gn.addEventListener("webglcontextrestored",ut,!1));var un=Nr.setFBO=st({framebuffer:ge.define.call(null,1,"framebuffer")});return Bt(),er=ne(st,{clear:function(mn){if("framebuffer"in mn)if(mn.framebuffer&&mn.framebuffer_reglType==="framebufferCube")for(var pn=0;6>pn;++pn)un(ne({framebuffer:mn.framebuffer.faces[pn]},mn),bt);else un(mn,bt);else bt(null,mn)},prop:ge.define.bind(null,1),context:ge.define.bind(null,2),this:ge.define.bind(null,3),draw:st({}),buffer:function(mn){return Nt.create(mn,34962,!1,!1)},elements:function(mn){return vr.create(mn,!1)},texture:yr.create2D,cube:yr.createCube,renderbuffer:Kr.create,framebuffer:Nr.create,framebufferCube:Nr.createCube,vao:mr.createVAO,attributes:er,frame:St,on:function(mn,pn){var Rn;switch(mn){case"frame":return St(pn);case"lost":Rn=Ar;break;case"restore":Rn=Cr;break;case"destroy":Rn=Yr}return Rn.push(pn),{cancel:function(){for(var Un=0;Un<Rn.length;++Un)if(Rn[Un]===pn){Rn[Un]=Rn[Rn.length-1],Rn.pop();break}}}},limits:ir,hasExtension:function(mn){return 0<=ir.extensions.indexOf(mn.toLowerCase())},read:Tn,destroy:function(){Hn.length=0,Sr(),Gn&&(Gn.removeEventListener("webglcontextlost",gr),Gn.removeEventListener("webglcontextrestored",ut)),xr.clear(),Nr.clear(),Kr.clear(),mr.clear(),yr.clear(),vr.clear(),Nt.clear(),_t&&_t.clear(),Yr.forEach(function(mn){mn()})},_gl:tr,_refresh:Bt,poll:function(){Et(),_t&&_t.update()},now:Wt,stats:kr,getCachedCode:function(){return We},preloadCachedCode:function(mn){Object.entries(mn).forEach(function(pn){We[pn[0]]=pn[1]})}}),xt.onDone(null,er),er}})},71665:function(H,U,e){var g=e(12856),P=g.Buffer;function a(T,v){for(var d in T)v[d]=T[d]}P.from&&P.alloc&&P.allocUnsafe&&P.allocUnsafeSlow?H.exports=g:(a(g,U),U.Buffer=L);function L(T,v,d){return P(T,v,d)}L.prototype=Object.create(P.prototype),a(P,L),L.from=function(T,v,d){if(typeof T=="number")throw new TypeError("Argument must not be a number");return P(T,v,d)},L.alloc=function(T,v,d){if(typeof T!="number")throw new TypeError("Argument must be a number");var t=P(T);return v!==void 0?typeof d=="string"?t.fill(v,d):t.fill(v):t.fill(0),t},L.allocUnsafe=function(T){if(typeof T!="number")throw new TypeError("Argument must be a number");return P(T)},L.allocUnsafeSlow=function(T){if(typeof T!="number")throw new TypeError("Argument must be a number");return g.SlowBuffer(T)}},21630:function(H,U,e){H.exports=a;var g=e(15398).EventEmitter,P=e(42018);P(a,g),a.Readable=e(40410),a.Writable=e(37493),a.Duplex=e(37865),a.Transform=e(74308),a.PassThrough=e(66897),a.finished=e(12726),a.pipeline=e(10168),a.Stream=a;function a(){g.call(this)}a.prototype.pipe=function(L,T){var v=this;function d(l){L.writable&&L.write(l)===!1&&v.pause&&v.pause()}v.on("data",d);function t(){v.readable&&v.resume&&v.resume()}L.on("drain",t),!L._isStdio&&(!T||T.end!==!1)&&(v.on("end",u),v.on("close",n));var r=!1;function u(){r||(r=!0,L.end())}function n(){r||(r=!0,typeof L.destroy=="function"&&L.destroy())}function s(l){if(f(),g.listenerCount(this,"error")===0)throw l}v.on("error",s),L.on("error",s);function f(){v.removeListener("data",d),L.removeListener("drain",t),v.removeListener("end",u),v.removeListener("close",n),v.removeListener("error",s),L.removeListener("error",s),v.removeListener("end",f),v.removeListener("close",f),L.removeListener("close",f)}return v.on("end",f),v.on("close",f),L.on("close",f),L.emit("pipe",v),L}},74322:function(H){function U(v,d){v.prototype=Object.create(d.prototype),v.prototype.constructor=v,v.__proto__=d}var e={};function g(v,d,t){t||(t=Error);function r(n,s,f){return typeof d=="string"?d:d(n,s,f)}var u=function(n){U(s,n);function s(f,l,x){return n.call(this,r(f,l,x))||this}return s}(t);u.prototype.name=t.name,u.prototype.code=v,e[v]=u}function P(v,d){if(Array.isArray(v)){var t=v.length;return v=v.map(function(r){return String(r)}),t>2?"one of ".concat(d," ").concat(v.slice(0,t-1).join(", "),", or ")+v[t-1]:t===2?"one of ".concat(d," ").concat(v[0]," or ").concat(v[1]):"of ".concat(d," ").concat(v[0])}else return"of ".concat(d," ").concat(String(v))}function a(v,d,t){return v.substr(!t||t<0?0:+t,d.length)===d}function L(v,d,t){return(t===void 0||t>v.length)&&(t=v.length),v.substring(t-d.length,t)===d}function T(v,d,t){return typeof t!="number"&&(t=0),t+d.length>v.length?!1:v.indexOf(d,t)!==-1}g("ERR_INVALID_OPT_VALUE",function(v,d){return'The value "'+d+'" is invalid for option "'+v+'"'},TypeError),g("ERR_INVALID_ARG_TYPE",function(v,d,t){var r;typeof d=="string"&&a(d,"not ")?(r="must not be",d=d.replace(/^not /,"")):r="must be";var u;if(L(v," argument"))u="The ".concat(v," ").concat(r," ").concat(P(d,"type"));else{var n=T(v,".")?"property":"argument";u='The "'.concat(v,'" ').concat(n," ").concat(r," ").concat(P(d,"type"))}return u+=". Received type ".concat(typeof t),u},TypeError),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),g("ERR_METHOD_NOT_IMPLEMENTED",function(v){return"The "+v+" method is not implemented"}),g("ERR_STREAM_PREMATURE_CLOSE","Premature close"),g("ERR_STREAM_DESTROYED",function(v){return"Cannot call "+v+" after a stream was destroyed"}),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),g("ERR_STREAM_WRITE_AFTER_END","write after end"),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_UNKNOWN_ENCODING",function(v){return"Unknown encoding: "+v},TypeError),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),H.exports.q=e},37865:function(H,U,e){var g=e(90386),P=Object.keys||function(n){var s=[];for(var f in n)s.push(f);return s};H.exports=t;var a=e(40410),L=e(37493);e(42018)(t,a);for(var T=P(L.prototype),v=0;v<T.length;v++){var d=T[v];t.prototype[d]||(t.prototype[d]=L.prototype[d])}function t(n){if(!(this instanceof t))return new t(n);a.call(this,n),L.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",r)))}Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function r(){this._writableState.ended||g.nextTick(u,this)}function u(n){n.end()}Object.defineProperty(t.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(s){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=s,this._writableState.destroyed=s)}})},66897:function(H,U,e){H.exports=P;var g=e(74308);e(42018)(P,g);function P(a){if(!(this instanceof P))return new P(a);g.call(this,a)}P.prototype._transform=function(a,L,T){T(null,a)}},40410:function(H,U,e){var g=e(90386);H.exports=i;var P;i.ReadableState=w,e(15398).EventEmitter;var a=function(j,se){return j.listeners(se).length},L=e(71405),T=e(12856).Buffer,v=e.g.Uint8Array||function(){};function d(J){return T.from(J)}function t(J){return T.isBuffer(J)||J instanceof v}var r=e(40964),u;r&&r.debuglog?u=r.debuglog("stream"):u=function(){};var n=e(31125),s=e(65756),f=e(56306),l=f.getHighWaterMark,x=e(74322).q,c=x.ERR_INVALID_ARG_TYPE,b=x.ERR_STREAM_PUSH_AFTER_EOF,h=x.ERR_METHOD_NOT_IMPLEMENTED,o=x.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,p,S,A;e(42018)(i,L);var E=s.errorOrDestroy,m=["error","close","destroy","pause","resume"];function M(J,j,se){if(typeof J.prependListener=="function")return J.prependListener(j,se);!J._events||!J._events[j]?J.on(j,se):Array.isArray(J._events[j])?J._events[j].unshift(se):J._events[j]=[se,J._events[j]]}function w(J,j,se){P=P||e(37865),J=J||{},typeof se!="boolean"&&(se=j instanceof P),this.objectMode=!!J.objectMode,se&&(this.objectMode=this.objectMode||!!J.readableObjectMode),this.highWaterMark=l(this,J,"readableHighWaterMark",se),this.buffer=new n,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.destroyed=!1,this.defaultEncoding=J.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,J.encoding&&(p||(p=e(68019).s),this.decoder=new p(J.encoding),this.encoding=J.encoding)}function i(J){if(P=P||e(37865),!(this instanceof i))return new i(J);var j=this instanceof P;this._readableState=new w(J,this,j),this.readable=!0,J&&(typeof J.read=="function"&&(this._read=J.read),typeof J.destroy=="function"&&(this._destroy=J.destroy)),L.call(this)}Object.defineProperty(i.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(j){this._readableState&&(this._readableState.destroyed=j)}}),i.prototype.destroy=s.destroy,i.prototype._undestroy=s.undestroy,i.prototype._destroy=function(J,j){j(J)},i.prototype.push=function(J,j){var se=this._readableState,ne;return se.objectMode?ne=!0:typeof J=="string"&&(j=j||se.defaultEncoding,j!==se.encoding&&(J=T.from(J,j),j=""),ne=!0),C(this,J,j,!1,ne)},i.prototype.unshift=function(J){return C(this,J,null,!0,!1)};function C(J,j,se,ne,ue){u("readableAddChunk",j);var ge=J._readableState;if(j===null)ge.reading=!1,O(J,ge);else{var we;if(ue||(we=_(ge,j)),we)E(J,we);else if(ge.objectMode||j&&j.length>0)if(typeof j!="string"&&!ge.objectMode&&Object.getPrototypeOf(j)!==T.prototype&&(j=d(j)),ne)ge.endEmitted?E(J,new o):y(J,ge,j,!0);else if(ge.ended)E(J,new b);else{if(ge.destroyed)return!1;ge.reading=!1,ge.decoder&&!se?(j=ge.decoder.write(j),ge.objectMode||j.length!==0?y(J,ge,j,!1):B(J,ge)):y(J,ge,j,!1)}else ne||(ge.reading=!1,B(J,ge))}return!ge.ended&&(ge.length<ge.highWaterMark||ge.length===0)}function y(J,j,se,ne){j.flowing&&j.length===0&&!j.sync?(j.awaitDrain=0,J.emit("data",se)):(j.length+=j.objectMode?1:se.length,ne?j.buffer.unshift(se):j.buffer.push(se),j.needReadable&&z(J)),B(J,j)}function _(J,j){var se;return!t(j)&&typeof j!="string"&&j!==void 0&&!J.objectMode&&(se=new c("chunk",["string","Buffer","Uint8Array"],j)),se}i.prototype.isPaused=function(){return this._readableState.flowing===!1},i.prototype.setEncoding=function(J){p||(p=e(68019).s);var j=new p(J);this._readableState.decoder=j,this._readableState.encoding=this._readableState.decoder.encoding;for(var se=this._readableState.buffer.head,ne="";se!==null;)ne+=j.write(se.data),se=se.next;return this._readableState.buffer.clear(),ne!==""&&this._readableState.buffer.push(ne),this._readableState.length=ne.length,this};var I=1073741824;function N(J){return J>=I?J=I:(J--,J|=J>>>1,J|=J>>>2,J|=J>>>4,J|=J>>>8,J|=J>>>16,J++),J}function k(J,j){return J<=0||j.length===0&&j.ended?0:j.objectMode?1:J!==J?j.flowing&&j.length?j.buffer.head.data.length:j.length:(J>j.highWaterMark&&(j.highWaterMark=N(J)),J<=j.length?J:j.ended?j.length:(j.needReadable=!0,0))}i.prototype.read=function(J){u("read",J),J=parseInt(J,10);var j=this._readableState,se=J;if(J!==0&&(j.emittedReadable=!1),J===0&&j.needReadable&&((j.highWaterMark!==0?j.length>=j.highWaterMark:j.length>0)||j.ended))return u("read: emitReadable",j.length,j.ended),j.length===0&&j.ended?X(this):z(this),null;if(J=k(J,j),J===0&&j.ended)return j.length===0&&X(this),null;var ne=j.needReadable;u("need readable",ne),(j.length===0||j.length-J<j.highWaterMark)&&(ne=!0,u("length less than watermark",ne)),j.ended||j.reading?(ne=!1,u("reading or ended",ne)):ne&&(u("do read"),j.reading=!0,j.sync=!0,j.length===0&&(j.needReadable=!0),this._read(j.highWaterMark),j.sync=!1,j.reading||(J=k(se,j)));var ue;return J>0?ue=Z(J,j):ue=null,ue===null?(j.needReadable=j.length<=j.highWaterMark,J=0):(j.length-=J,j.awaitDrain=0),j.length===0&&(j.ended||(j.needReadable=!0),se!==J&&j.ended&&X(this)),ue!==null&&this.emit("data",ue),ue};function O(J,j){if(u("onEofChunk"),!j.ended){if(j.decoder){var se=j.decoder.end();se&&se.length&&(j.buffer.push(se),j.length+=j.objectMode?1:se.length)}j.ended=!0,j.sync?z(J):(j.needReadable=!1,j.emittedReadable||(j.emittedReadable=!0,F(J)))}}function z(J){var j=J._readableState;u("emitReadable",j.needReadable,j.emittedReadable),j.needReadable=!1,j.emittedReadable||(u("emitReadable",j.flowing),j.emittedReadable=!0,g.nextTick(F,J))}function F(J){var j=J._readableState;u("emitReadable_",j.destroyed,j.length,j.ended),!j.destroyed&&(j.length||j.ended)&&(J.emit("readable"),j.emittedReadable=!1),j.needReadable=!j.flowing&&!j.ended&&j.length<=j.highWaterMark,W(J)}function B(J,j){j.readingMore||(j.readingMore=!0,g.nextTick(G,J,j))}function G(J,j){for(;!j.reading&&!j.ended&&(j.length<j.highWaterMark||j.flowing&&j.length===0);){var se=j.length;if(u("maybeReadMore read 0"),J.read(0),se===j.length)break}j.readingMore=!1}i.prototype._read=function(J){E(this,new h("_read()"))},i.prototype.pipe=function(J,j){var se=this,ne=this._readableState;switch(ne.pipesCount){case 0:ne.pipes=J;break;case 1:ne.pipes=[ne.pipes,J];break;default:ne.pipes.push(J);break}ne.pipesCount+=1,u("pipe count=%d opts=%j",ne.pipesCount,j);var ue=(!j||j.end!==!1)&&J!==g.stdout&&J!==g.stderr,ge=ue?xe:Re;ne.endEmitted?g.nextTick(ge):se.once("end",ge),J.on("unpipe",we);function we(Ve,rt){u("onunpipe"),Ve===se&&rt&&rt.hasUnpiped===!1&&(rt.hasUnpiped=!0,Te())}function xe(){u("onend"),J.end()}var Fe=Q(se);J.on("drain",Fe);var ze=!1;function Te(){u("cleanup"),J.removeListener("close",Ne),J.removeListener("finish",Ue),J.removeListener("drain",Fe),J.removeListener("error",Ae),J.removeListener("unpipe",we),se.removeListener("end",xe),se.removeListener("end",Re),se.removeListener("data",ye),ze=!0,ne.awaitDrain&&(!J._writableState||J._writableState.needDrain)&&Fe()}se.on("data",ye);function ye(Ve){u("ondata");var rt=J.write(Ve);u("dest.write",rt),rt===!1&&((ne.pipesCount===1&&ne.pipes===J||ne.pipesCount>1&&ie(ne.pipes,J)!==-1)&&!ze&&(u("false write response, pause",ne.awaitDrain),ne.awaitDrain++),se.pause())}function Ae(Ve){u("onerror",Ve),Re(),J.removeListener("error",Ae),a(J,"error")===0&&E(J,Ve)}M(J,"error",Ae);function Ne(){J.removeListener("finish",Ue),Re()}J.once("close",Ne);function Ue(){u("onfinish"),J.removeListener("close",Ne),Re()}J.once("finish",Ue);function Re(){u("unpipe"),se.unpipe(J)}return J.emit("pipe",se),ne.flowing||(u("pipe resume"),se.resume()),J};function Q(J){return function(){var se=J._readableState;u("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&a(J,"data")&&(se.flowing=!0,W(J))}}i.prototype.unpipe=function(J){var j=this._readableState,se={hasUnpiped:!1};if(j.pipesCount===0)return this;if(j.pipesCount===1)return J&&J!==j.pipes?this:(J||(J=j.pipes),j.pipes=null,j.pipesCount=0,j.flowing=!1,J&&J.emit("unpipe",this,se),this);if(!J){var ne=j.pipes,ue=j.pipesCount;j.pipes=null,j.pipesCount=0,j.flowing=!1;for(var ge=0;ge<ue;ge++)ne[ge].emit("unpipe",this,{hasUnpiped:!1});return this}var we=ie(j.pipes,J);return we===-1?this:(j.pipes.splice(we,1),j.pipesCount-=1,j.pipesCount===1&&(j.pipes=j.pipes[0]),J.emit("unpipe",this,se),this)},i.prototype.on=function(J,j){var se=L.prototype.on.call(this,J,j),ne=this._readableState;return J==="data"?(ne.readableListening=this.listenerCount("readable")>0,ne.flowing!==!1&&this.resume()):J==="readable"&&!ne.endEmitted&&!ne.readableListening&&(ne.readableListening=ne.needReadable=!0,ne.flowing=!1,ne.emittedReadable=!1,u("on readable",ne.length,ne.reading),ne.length?z(this):ne.reading||g.nextTick(ae,this)),se},i.prototype.addListener=i.prototype.on,i.prototype.removeListener=function(J,j){var se=L.prototype.removeListener.call(this,J,j);return J==="readable"&&g.nextTick(ee,this),se},i.prototype.removeAllListeners=function(J){var j=L.prototype.removeAllListeners.apply(this,arguments);return(J==="readable"||J===void 0)&&g.nextTick(ee,this),j};function ee(J){var j=J._readableState;j.readableListening=J.listenerCount("readable")>0,j.resumeScheduled&&!j.paused?j.flowing=!0:J.listenerCount("data")>0&&J.resume()}function ae(J){u("readable nexttick read 0"),J.read(0)}i.prototype.resume=function(){var J=this._readableState;return J.flowing||(u("resume"),J.flowing=!J.readableListening,fe(this,J)),J.paused=!1,this};function fe(J,j){j.resumeScheduled||(j.resumeScheduled=!0,g.nextTick(K,J,j))}function K(J,j){u("resume",j.reading),j.reading||J.read(0),j.resumeScheduled=!1,J.emit("resume"),W(J),j.flowing&&!j.reading&&J.read(0)}i.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function W(J){var j=J._readableState;for(u("flow",j.flowing);j.flowing&&J.read()!==null;);}i.prototype.wrap=function(J){var j=this,se=this._readableState,ne=!1;J.on("end",function(){if(u("wrapped end"),se.decoder&&!se.ended){var we=se.decoder.end();we&&we.length&&j.push(we)}j.push(null)}),J.on("data",function(we){if(u("wrapped data"),se.decoder&&(we=se.decoder.write(we)),!(se.objectMode&&we==null)&&!(!se.objectMode&&(!we||!we.length))){var xe=j.push(we);xe||(ne=!0,J.pause())}});for(var ue in J)this[ue]===void 0&&typeof J[ue]=="function"&&(this[ue]=function(xe){return function(){return J[xe].apply(J,arguments)}}(ue));for(var ge=0;ge<m.length;ge++)J.on(m[ge],this.emit.bind(this,m[ge]));return this._read=function(we){u("wrapped _read",we),ne&&(ne=!1,J.resume())},this},typeof Symbol=="function"&&(i.prototype[Symbol.asyncIterator]=function(){return S===void 0&&(S=e(68221)),S(this)}),Object.defineProperty(i.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(i.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(i.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(j){this._readableState&&(this._readableState.flowing=j)}}),i._fromList=Z,Object.defineProperty(i.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Z(J,j){if(j.length===0)return null;var se;return j.objectMode?se=j.buffer.shift():!J||J>=j.length?(j.decoder?se=j.buffer.join(""):j.buffer.length===1?se=j.buffer.first():se=j.buffer.concat(j.length),j.buffer.clear()):se=j.buffer.consume(J,j.decoder),se}function X(J){var j=J._readableState;u("endReadable",j.endEmitted),j.endEmitted||(j.ended=!0,g.nextTick($,j,J))}function $(J,j){if(u("endReadableNT",J.endEmitted,J.length),!J.endEmitted&&J.length===0&&(J.endEmitted=!0,j.readable=!1,j.emit("end"),J.autoDestroy)){var se=j._writableState;(!se||se.autoDestroy&&se.finished)&&j.destroy()}}typeof Symbol=="function"&&(i.from=function(J,j){return A===void 0&&(A=e(31748)),A(i,J,j)});function ie(J,j){for(var se=0,ne=J.length;se<ne;se++)if(J[se]===j)return se;return-1}},74308:function(H,U,e){H.exports=t;var g=e(74322).q,P=g.ERR_METHOD_NOT_IMPLEMENTED,a=g.ERR_MULTIPLE_CALLBACK,L=g.ERR_TRANSFORM_ALREADY_TRANSFORMING,T=g.ERR_TRANSFORM_WITH_LENGTH_0,v=e(37865);e(42018)(t,v);function d(n,s){var f=this._transformState;f.transforming=!1;var l=f.writecb;if(l===null)return this.emit("error",new a);f.writechunk=null,f.writecb=null,s!=null&&this.push(s),l(n);var x=this._readableState;x.reading=!1,(x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}function t(n){if(!(this instanceof t))return new t(n);v.call(this,n),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",r)}function r(){var n=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(s,f){u(n,s,f)}):u(this,null,null)}t.prototype.push=function(n,s){return this._transformState.needTransform=!1,v.prototype.push.call(this,n,s)},t.prototype._transform=function(n,s,f){f(new P("_transform()"))},t.prototype._write=function(n,s,f){var l=this._transformState;if(l.writecb=f,l.writechunk=n,l.writeencoding=s,!l.transforming){var x=this._readableState;(l.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},t.prototype._read=function(n){var s=this._transformState;s.writechunk!==null&&!s.transforming?(s.transforming=!0,this._transform(s.writechunk,s.writeencoding,s.afterTransform)):s.needTransform=!0},t.prototype._destroy=function(n,s){v.prototype._destroy.call(this,n,function(f){s(f)})};function u(n,s,f){if(s)return n.emit("error",s);if(f!=null&&n.push(f),n._writableState.length)throw new T;if(n._transformState.transforming)throw new L;return n.push(null)}},37493:function(H,U,e){var g=e(90386);H.exports=w;function P(W){var Z=this;this.next=null,this.entry=null,this.finish=function(){K(Z,W)}}var a;w.WritableState=m;var L={deprecate:e(20588)},T=e(71405),v=e(12856).Buffer,d=e.g.Uint8Array||function(){};function t(W){return v.from(W)}function r(W){return v.isBuffer(W)||W instanceof d}var u=e(65756),n=e(56306),s=n.getHighWaterMark,f=e(74322).q,l=f.ERR_INVALID_ARG_TYPE,x=f.ERR_METHOD_NOT_IMPLEMENTED,c=f.ERR_MULTIPLE_CALLBACK,b=f.ERR_STREAM_CANNOT_PIPE,h=f.ERR_STREAM_DESTROYED,o=f.ERR_STREAM_NULL_VALUES,p=f.ERR_STREAM_WRITE_AFTER_END,S=f.ERR_UNKNOWN_ENCODING,A=u.errorOrDestroy;e(42018)(w,T);function E(){}function m(W,Z,X){a=a||e(37865),W=W||{},typeof X!="boolean"&&(X=Z instanceof a),this.objectMode=!!W.objectMode,X&&(this.objectMode=this.objectMode||!!W.writableObjectMode),this.highWaterMark=s(this,W,"writableHighWaterMark",X),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var $=W.decodeStrings===!1;this.decodeStrings=!$,this.defaultEncoding=W.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ie){O(Z,ie)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=W.emitClose!==!1,this.autoDestroy=!!W.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new P(this)}m.prototype.getBuffer=function(){for(var Z=this.bufferedRequest,X=[];Z;)X.push(Z),Z=Z.next;return X},function(){try{Object.defineProperty(m.prototype,"buffer",{get:L.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var M;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(M=Function.prototype[Symbol.hasInstance],Object.defineProperty(w,Symbol.hasInstance,{value:function(Z){return M.call(this,Z)?!0:this!==w?!1:Z&&Z._writableState instanceof m}})):M=function(Z){return Z instanceof this};function w(W){a=a||e(37865);var Z=this instanceof a;if(!Z&&!M.call(w,this))return new w(W);this._writableState=new m(W,this,Z),this.writable=!0,W&&(typeof W.write=="function"&&(this._write=W.write),typeof W.writev=="function"&&(this._writev=W.writev),typeof W.destroy=="function"&&(this._destroy=W.destroy),typeof W.final=="function"&&(this._final=W.final)),T.call(this)}w.prototype.pipe=function(){A(this,new b)};function i(W,Z){var X=new p;A(W,X),g.nextTick(Z,X)}function C(W,Z,X,$){var ie;return X===null?ie=new o:typeof X!="string"&&!Z.objectMode&&(ie=new l("chunk",["string","Buffer"],X)),ie?(A(W,ie),g.nextTick($,ie),!1):!0}w.prototype.write=function(W,Z,X){var $=this._writableState,ie=!1,J=!$.objectMode&&r(W);return J&&!v.isBuffer(W)&&(W=t(W)),typeof Z=="function"&&(X=Z,Z=null),J?Z="buffer":Z||(Z=$.defaultEncoding),typeof X!="function"&&(X=E),$.ending?i(this,X):(J||C(this,$,W,X))&&($.pendingcb++,ie=_(this,$,J,W,Z,X)),ie},w.prototype.cork=function(){this._writableState.corked++},w.prototype.uncork=function(){var W=this._writableState;W.corked&&(W.corked--,!W.writing&&!W.corked&&!W.bufferProcessing&&W.bufferedRequest&&B(this,W))},w.prototype.setDefaultEncoding=function(Z){if(typeof Z=="string"&&(Z=Z.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Z+"").toLowerCase())>-1))throw new S(Z);return this._writableState.defaultEncoding=Z,this},Object.defineProperty(w.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function y(W,Z,X){return!W.objectMode&&W.decodeStrings!==!1&&typeof Z=="string"&&(Z=v.from(Z,X)),Z}Object.defineProperty(w.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function _(W,Z,X,$,ie,J){if(!X){var j=y(Z,$,ie);$!==j&&(X=!0,ie="buffer",$=j)}var se=Z.objectMode?1:$.length;Z.length+=se;var ne=Z.length<Z.highWaterMark;if(ne||(Z.needDrain=!0),Z.writing||Z.corked){var ue=Z.lastBufferedRequest;Z.lastBufferedRequest={chunk:$,encoding:ie,isBuf:X,callback:J,next:null},ue?ue.next=Z.lastBufferedRequest:Z.bufferedRequest=Z.lastBufferedRequest,Z.bufferedRequestCount+=1}else I(W,Z,!1,se,$,ie,J);return ne}function I(W,Z,X,$,ie,J,j){Z.writelen=$,Z.writecb=j,Z.writing=!0,Z.sync=!0,Z.destroyed?Z.onwrite(new h("write")):X?W._writev(ie,Z.onwrite):W._write(ie,J,Z.onwrite),Z.sync=!1}function N(W,Z,X,$,ie){--Z.pendingcb,X?(g.nextTick(ie,$),g.nextTick(ae,W,Z),W._writableState.errorEmitted=!0,A(W,$)):(ie($),W._writableState.errorEmitted=!0,A(W,$),ae(W,Z))}function k(W){W.writing=!1,W.writecb=null,W.length-=W.writelen,W.writelen=0}function O(W,Z){var X=W._writableState,$=X.sync,ie=X.writecb;if(typeof ie!="function")throw new c;if(k(X),Z)N(W,X,$,Z,ie);else{var J=G(X)||W.destroyed;!J&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&B(W,X),$?g.nextTick(z,W,X,J,ie):z(W,X,J,ie)}}function z(W,Z,X,$){X||F(W,Z),Z.pendingcb--,$(),ae(W,Z)}function F(W,Z){Z.length===0&&Z.needDrain&&(Z.needDrain=!1,W.emit("drain"))}function B(W,Z){Z.bufferProcessing=!0;var X=Z.bufferedRequest;if(W._writev&&X&&X.next){var $=Z.bufferedRequestCount,ie=new Array($),J=Z.corkedRequestsFree;J.entry=X;for(var j=0,se=!0;X;)ie[j]=X,X.isBuf||(se=!1),X=X.next,j+=1;ie.allBuffers=se,I(W,Z,!0,Z.length,ie,"",J.finish),Z.pendingcb++,Z.lastBufferedRequest=null,J.next?(Z.corkedRequestsFree=J.next,J.next=null):Z.corkedRequestsFree=new P(Z),Z.bufferedRequestCount=0}else{for(;X;){var ne=X.chunk,ue=X.encoding,ge=X.callback,we=Z.objectMode?1:ne.length;if(I(W,Z,!1,we,ne,ue,ge),X=X.next,Z.bufferedRequestCount--,Z.writing)break}X===null&&(Z.lastBufferedRequest=null)}Z.bufferedRequest=X,Z.bufferProcessing=!1}w.prototype._write=function(W,Z,X){X(new x("_write()"))},w.prototype._writev=null,w.prototype.end=function(W,Z,X){var $=this._writableState;return typeof W=="function"?(X=W,W=null,Z=null):typeof Z=="function"&&(X=Z,Z=null),W!=null&&this.write(W,Z),$.corked&&($.corked=1,this.uncork()),$.ending||fe(this,$,X),this},Object.defineProperty(w.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function G(W){return W.ending&&W.length===0&&W.bufferedRequest===null&&!W.finished&&!W.writing}function Q(W,Z){W._final(function(X){Z.pendingcb--,X&&A(W,X),Z.prefinished=!0,W.emit("prefinish"),ae(W,Z)})}function ee(W,Z){!Z.prefinished&&!Z.finalCalled&&(typeof W._final=="function"&&!Z.destroyed?(Z.pendingcb++,Z.finalCalled=!0,g.nextTick(Q,W,Z)):(Z.prefinished=!0,W.emit("prefinish")))}function ae(W,Z){var X=G(Z);if(X&&(ee(W,Z),Z.pendingcb===0&&(Z.finished=!0,W.emit("finish"),Z.autoDestroy))){var $=W._readableState;(!$||$.autoDestroy&&$.endEmitted)&&W.destroy()}return X}function fe(W,Z,X){Z.ending=!0,ae(W,Z),X&&(Z.finished?g.nextTick(X):W.once("finish",X)),Z.ended=!0,W.writable=!1}function K(W,Z,X){var $=W.entry;for(W.entry=null;$;){var ie=$.callback;Z.pendingcb--,ie(X),$=$.next}Z.corkedRequestsFree.next=W}Object.defineProperty(w.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Z){this._writableState&&(this._writableState.destroyed=Z)}}),w.prototype.destroy=u.destroy,w.prototype._undestroy=u.undestroy,w.prototype._destroy=function(W,Z){Z(W)}},68221:function(H,U,e){var g=e(90386),P;function a(o,p,S){return p in o?Object.defineProperty(o,p,{value:S,enumerable:!0,configurable:!0,writable:!0}):o[p]=S,o}var L=e(12726),T=Symbol("lastResolve"),v=Symbol("lastReject"),d=Symbol("error"),t=Symbol("ended"),r=Symbol("lastPromise"),u=Symbol("handlePromise"),n=Symbol("stream");function s(o,p){return{value:o,done:p}}function f(o){var p=o[T];if(p!==null){var S=o[n].read();S!==null&&(o[r]=null,o[T]=null,o[v]=null,p(s(S,!1)))}}function l(o){g.nextTick(f,o)}function x(o,p){return function(S,A){o.then(function(){if(p[t]){S(s(void 0,!0));return}p[u](S,A)},A)}}var c=Object.getPrototypeOf(function(){}),b=Object.setPrototypeOf((P={get stream(){return this[n]},next:function(){var p=this,S=this[d];if(S!==null)return Promise.reject(S);if(this[t])return Promise.resolve(s(void 0,!0));if(this[n].destroyed)return new Promise(function(M,w){g.nextTick(function(){p[d]?w(p[d]):M(s(void 0,!0))})});var A=this[r],E;if(A)E=new Promise(x(A,this));else{var m=this[n].read();if(m!==null)return Promise.resolve(s(m,!1));E=new Promise(this[u])}return this[r]=E,E}},a(P,Symbol.asyncIterator,function(){return this}),a(P,"return",function(){var p=this;return new Promise(function(S,A){p[n].destroy(null,function(E){if(E){A(E);return}S(s(void 0,!0))})})}),P),c),h=function(p){var S,A=Object.create(b,(S={},a(S,n,{value:p,writable:!0}),a(S,T,{value:null,writable:!0}),a(S,v,{value:null,writable:!0}),a(S,d,{value:null,writable:!0}),a(S,t,{value:p._readableState.endEmitted,writable:!0}),a(S,u,{value:function(m,M){var w=A[n].read();w?(A[r]=null,A[T]=null,A[v]=null,m(s(w,!1))):(A[T]=m,A[v]=M)},writable:!0}),S));return A[r]=null,L(p,function(E){if(E&&E.code!=="ERR_STREAM_PREMATURE_CLOSE"){var m=A[v];m!==null&&(A[r]=null,A[T]=null,A[v]=null,m(E)),A[d]=E;return}var M=A[T];M!==null&&(A[r]=null,A[T]=null,A[v]=null,M(s(void 0,!0))),A[t]=!0}),p.on("readable",l.bind(null,A)),A};H.exports=h},31125:function(H,U,e){function g(f,l){var x=Object.keys(f);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(f);l&&(c=c.filter(function(b){return Object.getOwnPropertyDescriptor(f,b).enumerable})),x.push.apply(x,c)}return x}function P(f){for(var l=1;l<arguments.length;l++){var x=arguments[l]!=null?arguments[l]:{};l%2?g(Object(x),!0).forEach(function(c){a(f,c,x[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(x)):g(Object(x)).forEach(function(c){Object.defineProperty(f,c,Object.getOwnPropertyDescriptor(x,c))})}return f}function a(f,l,x){return l in f?Object.defineProperty(f,l,{value:x,enumerable:!0,configurable:!0,writable:!0}):f[l]=x,f}function L(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}function T(f,l){for(var x=0;x<l.length;x++){var c=l[x];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function v(f,l,x){return l&&T(f.prototype,l),x&&T(f,x),f}var d=e(12856),t=d.Buffer,r=e(69862),u=r.inspect,n=u&&u.custom||"inspect";function s(f,l,x){t.prototype.copy.call(f,l,x)}H.exports=function(){function f(){L(this,f),this.head=null,this.tail=null,this.length=0}return v(f,[{key:"push",value:function(x){var c={data:x,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}},{key:"unshift",value:function(x){var c={data:x,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length}},{key:"shift",value:function(){if(this.length!==0){var x=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,x}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(x){if(this.length===0)return"";for(var c=this.head,b=""+c.data;c=c.next;)b+=x+c.data;return b}},{key:"concat",value:function(x){if(this.length===0)return t.alloc(0);for(var c=t.allocUnsafe(x>>>0),b=this.head,h=0;b;)s(b.data,c,h),h+=b.data.length,b=b.next;return c}},{key:"consume",value:function(x,c){var b;return x<this.head.data.length?(b=this.head.data.slice(0,x),this.head.data=this.head.data.slice(x)):x===this.head.data.length?b=this.shift():b=c?this._getString(x):this._getBuffer(x),b}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(x){var c=this.head,b=1,h=c.data;for(x-=h.length;c=c.next;){var o=c.data,p=x>o.length?o.length:x;if(p===o.length?h+=o:h+=o.slice(0,x),x-=p,x===0){p===o.length?(++b,c.next?this.head=c.next:this.head=this.tail=null):(this.head=c,c.data=o.slice(p));break}++b}return this.length-=b,h}},{key:"_getBuffer",value:function(x){var c=t.allocUnsafe(x),b=this.head,h=1;for(b.data.copy(c),x-=b.data.length;b=b.next;){var o=b.data,p=x>o.length?o.length:x;if(o.copy(c,c.length-x,0,p),x-=p,x===0){p===o.length?(++h,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=o.slice(p));break}++h}return this.length-=h,c}},{key:n,value:function(x,c){return u(this,P({},c,{depth:0,customInspect:!1}))}}]),f}()},65756:function(H,U,e){var g=e(90386);function P(t,r){var u=this,n=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return n||s?(r?r(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,g.nextTick(v,this,t)):g.nextTick(v,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(f){!r&&f?u._writableState?u._writableState.errorEmitted?g.nextTick(L,u):(u._writableState.errorEmitted=!0,g.nextTick(a,u,f)):g.nextTick(a,u,f):r?(g.nextTick(L,u),r(f)):g.nextTick(L,u)}),this)}function a(t,r){v(t,r),L(t)}function L(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function T(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function v(t,r){t.emit("error",r)}function d(t,r){var u=t._readableState,n=t._writableState;u&&u.autoDestroy||n&&n.autoDestroy?t.destroy(r):t.emit("error",r)}H.exports={destroy:P,undestroy:T,errorOrDestroy:d}},12726:function(H,U,e){var g=e(74322).q.ERR_STREAM_PREMATURE_CLOSE;function P(v){var d=!1;return function(){if(!d){d=!0;for(var t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];v.apply(this,r)}}}function a(){}function L(v){return v.setHeader&&typeof v.abort=="function"}function T(v,d,t){if(typeof d=="function")return T(v,null,d);d||(d={}),t=P(t||a);var r=d.readable||d.readable!==!1&&v.readable,u=d.writable||d.writable!==!1&&v.writable,n=function(){v.writable||f()},s=v._writableState&&v._writableState.finished,f=function(){u=!1,s=!0,r||t.call(v)},l=v._readableState&&v._readableState.endEmitted,x=function(){r=!1,l=!0,u||t.call(v)},c=function(p){t.call(v,p)},b=function(){var p;if(r&&!l)return(!v._readableState||!v._readableState.ended)&&(p=new g),t.call(v,p);if(u&&!s)return(!v._writableState||!v._writableState.ended)&&(p=new g),t.call(v,p)},h=function(){v.req.on("finish",f)};return L(v)?(v.on("complete",f),v.on("abort",b),v.req?h():v.on("request",h)):u&&!v._writableState&&(v.on("end",n),v.on("close",n)),v.on("end",x),v.on("finish",f),d.error!==!1&&v.on("error",c),v.on("close",b),function(){v.removeListener("complete",f),v.removeListener("abort",b),v.removeListener("request",h),v.req&&v.req.removeListener("finish",f),v.removeListener("end",n),v.removeListener("close",n),v.removeListener("finish",f),v.removeListener("end",x),v.removeListener("error",c),v.removeListener("close",b)}}H.exports=T},31748:function(H){H.exports=function(){throw new Error("Readable.from is not available in the browser")}},10168:function(H,U,e){var g;function P(f){var l=!1;return function(){l||(l=!0,f.apply(void 0,arguments))}}var a=e(74322).q,L=a.ERR_MISSING_ARGS,T=a.ERR_STREAM_DESTROYED;function v(f){if(f)throw f}function d(f){return f.setHeader&&typeof f.abort=="function"}function t(f,l,x,c){c=P(c);var b=!1;f.on("close",function(){b=!0}),g===void 0&&(g=e(12726)),g(f,{readable:l,writable:x},function(o){if(o)return c(o);b=!0,c()});var h=!1;return function(o){if(!b&&!h){if(h=!0,d(f))return f.abort();if(typeof f.destroy=="function")return f.destroy();c(o||new T("pipe"))}}}function r(f){f()}function u(f,l){return f.pipe(l)}function n(f){return!f.length||typeof f[f.length-1]!="function"?v:f.pop()}function s(){for(var f=arguments.length,l=new Array(f),x=0;x<f;x++)l[x]=arguments[x];var c=n(l);if(Array.isArray(l[0])&&(l=l[0]),l.length<2)throw new L("streams");var b,h=l.map(function(o,p){var S=p<l.length-1,A=p>0;return t(o,S,A,function(E){b||(b=E),E&&h.forEach(r),!S&&(h.forEach(r),c(b))})});return l.reduce(u)}H.exports=s},56306:function(H,U,e){var g=e(74322).q.ERR_INVALID_OPT_VALUE;function P(L,T,v){return L.highWaterMark!=null?L.highWaterMark:T?L[v]:null}function a(L,T,v,d){var t=P(T,d,v);if(t!=null){if(!(isFinite(t)&&Math.floor(t)===t)||t<0){var r=d?v:"highWaterMark";throw new g(r,t)}return Math.floor(t)}return L.objectMode?16:16384}H.exports={getHighWaterMark:a}},71405:function(H,U,e){H.exports=e(15398).EventEmitter},68019:function(H,U,e){var g=e(71665).Buffer,P=g.isEncoding||function(h){switch(h=""+h,h&&h.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(h){if(!h)return"utf8";for(var o;;)switch(h){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return h;default:if(o)return;h=(""+h).toLowerCase(),o=!0}}function L(h){var o=a(h);if(typeof o!="string"&&(g.isEncoding===P||!P(h)))throw new Error("Unknown encoding: "+h);return o||h}U.s=T;function T(h){this.encoding=L(h);var o;switch(this.encoding){case"utf16le":this.text=s,this.end=f,o=4;break;case"utf8":this.fillLast=r,o=4;break;case"base64":this.text=l,this.end=x,o=3;break;default:this.write=c,this.end=b;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=g.allocUnsafe(o)}T.prototype.write=function(h){if(h.length===0)return"";var o,p;if(this.lastNeed){if(o=this.fillLast(h),o===void 0)return"";p=this.lastNeed,this.lastNeed=0}else p=0;return p<h.length?o?o+this.text(h,p):this.text(h,p):o||""},T.prototype.end=n,T.prototype.text=u,T.prototype.fillLast=function(h){if(this.lastNeed<=h.length)return h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,h.length),this.lastNeed-=h.length};function v(h){return h<=127?0:h>>5===6?2:h>>4===14?3:h>>3===30?4:h>>6===2?-1:-2}function d(h,o,p){var S=o.length-1;if(S<p)return 0;var A=v(o[S]);return A>=0?(A>0&&(h.lastNeed=A-1),A):--S<p||A===-2?0:(A=v(o[S]),A>=0?(A>0&&(h.lastNeed=A-2),A):--S<p||A===-2?0:(A=v(o[S]),A>=0?(A>0&&(A===2?A=0:h.lastNeed=A-3),A):0))}function t(h,o,p){if((o[0]&192)!==128)return h.lastNeed=0,"�";if(h.lastNeed>1&&o.length>1){if((o[1]&192)!==128)return h.lastNeed=1,"�";if(h.lastNeed>2&&o.length>2&&(o[2]&192)!==128)return h.lastNeed=2,"�"}}function r(h){var o=this.lastTotal-this.lastNeed,p=t(this,h);if(p!==void 0)return p;if(this.lastNeed<=h.length)return h.copy(this.lastChar,o,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,o,0,h.length),this.lastNeed-=h.length}function u(h,o){var p=d(this,h,o);if(!this.lastNeed)return h.toString("utf8",o);this.lastTotal=p;var S=h.length-(p-this.lastNeed);return h.copy(this.lastChar,0,S),h.toString("utf8",o,S)}function n(h){var o=h&&h.length?this.write(h):"";return this.lastNeed?o+"�":o}function s(h,o){if((h.length-o)%2===0){var p=h.toString("utf16le",o);if(p){var S=p.charCodeAt(p.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1],p.slice(0,-1)}return p}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=h[h.length-1],h.toString("utf16le",o,h.length-1)}function f(h){var o=h&&h.length?this.write(h):"";if(this.lastNeed){var p=this.lastTotal-this.lastNeed;return o+this.lastChar.toString("utf16le",0,p)}return o}function l(h,o){var p=(h.length-o)%3;return p===0?h.toString("base64",o):(this.lastNeed=3-p,this.lastTotal=3,p===1?this.lastChar[0]=h[h.length-1]:(this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1]),h.toString("base64",o,h.length-p))}function x(h){var o=h&&h.length?this.write(h):"";return this.lastNeed?o+this.lastChar.toString("base64",0,3-this.lastNeed):o}function c(h){return h.toString(this.encoding)}function b(h){return h&&h.length?this.write(h):""}},90715:function(H,U,e){var g=e(32791),P=e(41633)("stream-parser");H.exports=d;var a=-1,L=0,T=1,v=2;function d(h){var o=h&&typeof h._transform=="function",p=h&&typeof h._write=="function";if(!o&&!p)throw new Error("must pass a Writable or Transform stream in");P("extending Parser into stream"),h._bytes=r,h._skipBytes=u,o&&(h._passthrough=n),o?h._transform=f:h._write=s}function t(h){P("initializing parser stream"),h._parserBytesLeft=0,h._parserBuffers=[],h._parserBuffered=0,h._parserState=a,h._parserCallback=null,typeof h.push=="function"&&(h._parserOutput=h.push.bind(h)),h._parserInit=!0}function r(h,o){g(!this._parserCallback,'there is already a "callback" set!'),g(isFinite(h)&&h>0,'can only buffer a finite number of bytes > 0, got "'+h+'"'),this._parserInit||t(this),P("buffering %o bytes",h),this._parserBytesLeft=h,this._parserCallback=o,this._parserState=L}function u(h,o){g(!this._parserCallback,'there is already a "callback" set!'),g(h>0,'can only skip > 0 bytes, got "'+h+'"'),this._parserInit||t(this),P("skipping %o bytes",h),this._parserBytesLeft=h,this._parserCallback=o,this._parserState=T}function n(h,o){g(!this._parserCallback,'There is already a "callback" set!'),g(h>0,'can only pass through > 0 bytes, got "'+h+'"'),this._parserInit||t(this),P("passing through %o bytes",h),this._parserBytesLeft=h,this._parserCallback=o,this._parserState=v}function s(h,o,p){this._parserInit||t(this),P("write(%o bytes)",h.length),typeof o=="function"&&(p=o),c(this,h,null,p)}function f(h,o,p){this._parserInit||t(this),P("transform(%o bytes)",h.length),typeof o!="function"&&(o=this._parserOutput),c(this,h,o,p)}function l(h,o,p,S){return h._parserBytesLeft<=0?S(new Error("got data but not currently parsing anything")):o.length<=h._parserBytesLeft?function(){return x(h,o,p,S)}:function(){var A=o.slice(0,h._parserBytesLeft);return x(h,A,p,function(E){if(E)return S(E);if(o.length>A.length)return function(){return l(h,o.slice(A.length),p,S)}})}}function x(h,o,p,S){if(h._parserBytesLeft-=o.length,P("%o bytes left for stream piece",h._parserBytesLeft),h._parserState===L?(h._parserBuffers.push(o),h._parserBuffered+=o.length):h._parserState===v&&p(o),h._parserBytesLeft===0){var A=h._parserCallback;if(A&&h._parserState===L&&h._parserBuffers.length>1&&(o=Buffer.concat(h._parserBuffers,h._parserBuffered)),h._parserState!==L&&(o=null),h._parserCallback=null,h._parserBuffered=0,h._parserState=a,h._parserBuffers.splice(0),A){var E=[];o&&E.push(o),p&&E.push(p);var m=A.length>E.length;m&&E.push(b(S));var M=A.apply(h,E);if(!m||S===M)return S}}else return S}var c=b(l);function b(h){return function(){for(var o=h.apply(this,arguments);typeof o=="function";)o=o();return o}}},41633:function(H,U,e){var g=e(90386);U=H.exports=e(74469),U.log=L,U.formatArgs=a,U.save=T,U.load=v,U.useColors=P,U.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:d(),U.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function P(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}U.formatters.j=function(t){try{return JSON.stringify(t)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}};function a(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+U.humanize(this.diff),!!r){var u="color: "+this.color;t.splice(1,0,u,"color: inherit");var n=0,s=0;t[0].replace(/%[a-zA-Z%]/g,function(f){f!=="%%"&&(n++,f==="%c"&&(s=n))}),t.splice(s,0,u)}}function L(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function T(t){try{t==null?U.storage.removeItem("debug"):U.storage.debug=t}catch{}}function v(){var t;try{t=U.storage.debug}catch{}return!t&&typeof g<"u"&&"env"in g&&(t={}.DEBUG),t}U.enable(v());function d(){try{return window.localStorage}catch{}}},74469:function(H,U,e){U=H.exports=a.debug=a.default=a,U.coerce=d,U.disable=T,U.enable=L,U.enabled=v,U.humanize=e(11375),U.names=[],U.skips=[],U.formatters={};var g;function P(t){var r=0,u;for(u in t)r=(r<<5)-r+t.charCodeAt(u),r|=0;return U.colors[Math.abs(r)%U.colors.length]}function a(t){function r(){if(r.enabled){var u=r,n=+new Date,s=n-(g||n);u.diff=s,u.prev=g,u.curr=n,g=n;for(var f=new Array(arguments.length),l=0;l<f.length;l++)f[l]=arguments[l];f[0]=U.coerce(f[0]),typeof f[0]!="string"&&f.unshift("%O");var x=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,function(b,h){if(b==="%%")return b;x++;var o=U.formatters[h];if(typeof o=="function"){var p=f[x];b=o.call(u,p),f.splice(x,1),x--}return b}),U.formatArgs.call(u,f);var c=r.log||U.log||console.log.bind(console);c.apply(u,f)}}return r.namespace=t,r.enabled=U.enabled(t),r.useColors=U.useColors(),r.color=P(t),typeof U.init=="function"&&U.init(r),r}function L(t){U.save(t),U.names=[],U.skips=[];for(var r=(typeof t=="string"?t:"").split(/[\s,]+/),u=r.length,n=0;n<u;n++)r[n]&&(t=r[n].replace(/\*/g,".*?"),t[0]==="-"?U.skips.push(new RegExp("^"+t.substr(1)+"$")):U.names.push(new RegExp("^"+t+"$")))}function T(){U.enable("")}function v(t){var r,u;for(r=0,u=U.skips.length;r<u;r++)if(U.skips[r].test(t))return!1;for(r=0,u=U.names.length;r<u;r++)if(U.names[r].test(t))return!0;return!1}function d(t){return t instanceof Error?t.stack||t.message:t}},11375:function(H){var U=1e3,e=U*60,g=e*60,P=g*24,a=P*365.25;H.exports=function(t,r){r=r||{};var u=typeof t;if(u==="string"&&t.length>0)return L(t);if(u==="number"&&isNaN(t)===!1)return r.long?v(t):T(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function L(t){if(t=String(t),!(t.length>100)){var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(r){var u=parseFloat(r[1]),n=(r[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return u*a;case"days":case"day":case"d":return u*P;case"hours":case"hour":case"hrs":case"hr":case"h":return u*g;case"minutes":case"minute":case"mins":case"min":case"m":return u*e;case"seconds":case"second":case"secs":case"sec":case"s":return u*U;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}}}function T(t){return t>=P?Math.round(t/P)+"d":t>=g?Math.round(t/g)+"h":t>=e?Math.round(t/e)+"m":t>=U?Math.round(t/U)+"s":t+"ms"}function v(t){return d(t,P,"day")||d(t,g,"hour")||d(t,e,"minute")||d(t,U,"second")||t+" ms"}function d(t,r,u){if(!(t<r))return t<r*1.5?Math.floor(t/r)+" "+u:Math.ceil(t/r)+" "+u+"s"}},99011:function(H,U,e){var g=e(88641);H.exports=function(a,L,T){if(a==null)throw Error("First argument should be a string");if(L==null)throw Error("Separator should be a string or a RegExp");T?(typeof T=="string"||Array.isArray(T))&&(T={ignore:T}):T={},T.escape==null&&(T.escape=!0),T.ignore==null?T.ignore=["[]","()","{}","<>",'""',"''","``","“”","«»"]:(typeof T.ignore=="string"&&(T.ignore=[T.ignore]),T.ignore=T.ignore.map(function(f){return f.length===1&&(f=f+f),f}));var v=g.parse(a,{flat:!0,brackets:T.ignore}),d=v[0],t=d.split(L);if(T.escape){for(var r=[],u=0;u<t.length;u++){var n=t[u],s=t[u+1];n[n.length-1]==="\\"&&n[n.length-2]!=="\\"?(r.push(n+L+s),u++):r.push(n)}t=r}for(var u=0;u<t.length;u++)v[0]=t[u],t[u]=g.stringify(v,{flat:!0});return t}},68664:function(H){H.exports=U;function U(e){for(var g=e.length,P=new Array(g),a=new Array(g),L=new Array(g),T=new Array(g),v=new Array(g),d=new Array(g),t=0;t<g;++t)P[t]=-1,a[t]=0,L[t]=!1,T[t]=0,v[t]=-1,d[t]=[];var r=0,u=[],n=[];function s(c){var b=[c],h=[c];for(P[c]=a[c]=r,L[c]=!0,r+=1;h.length>0;){c=h[h.length-1];var o=e[c];if(T[c]<o.length){for(var p=T[c];p<o.length;++p){var S=o[p];if(P[S]<0){P[S]=a[S]=r,L[S]=!0,r+=1,b.push(S),h.push(S);break}else L[S]&&(a[c]=Math.min(a[c],a[S])|0);v[S]>=0&&d[c].push(v[S])}T[c]=p}else{if(a[c]===P[c]){for(var A=[],E=[],m=0,p=b.length-1;p>=0;--p){var M=b[p];if(L[M]=!1,A.push(M),E.push(d[M]),m+=d[M].length,v[M]=u.length,M===c){b.length=p;break}}u.push(A);for(var w=new Array(m),p=0;p<E.length;p++)for(var i=0;i<E[p].length;i++)w[--m]=E[p][i];n.push(w)}h.pop()}}}for(var t=0;t<g;++t)P[t]<0&&s(t);for(var f,t=0;t<n.length;t++){var l=n[t];if(l.length!==0){l.sort(function(b,h){return b-h}),f=[l[0]];for(var x=1;x<l.length;x++)l[x]!==l[x-1]&&f.push(l[x]);n[t]=f}}return{components:u,adjacencyList:n}}},7095:function(H,U,e){e.r(U);var g=function(){function t(r,u){var n=[],s=!0,f=!1,l=void 0;try{for(var x=r[Symbol.iterator](),c;!(s=(c=x.next()).done)&&(n.push(c.value),!(u&&n.length===u));s=!0);}catch(b){f=!0,l=b}finally{try{!s&&x.return&&x.return()}finally{if(f)throw l}}return n}return function(r,u){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return t(r,u);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),P=Math.PI*2,a=function(r,u,n,s,f,l,x){var c=r.x,b=r.y;c*=u,b*=n;var h=s*c-f*b,o=f*c+s*b;return{x:h+l,y:o+x}},L=function(r,u){var n=u===1.5707963267948966?.551915024494:u===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(u/4),s=Math.cos(r),f=Math.sin(r),l=Math.cos(r+u),x=Math.sin(r+u);return[{x:s-f*n,y:f+s*n},{x:l+x*n,y:x-l*n},{x:l,y:x}]},T=function(r,u,n,s){var f=r*s-u*n<0?-1:1,l=r*n+u*s;return l>1&&(l=1),l<-1&&(l=-1),f*Math.acos(l)},v=function(r,u,n,s,f,l,x,c,b,h,o,p){var S=Math.pow(f,2),A=Math.pow(l,2),E=Math.pow(o,2),m=Math.pow(p,2),M=S*A-S*m-A*E;M<0&&(M=0),M/=S*m+A*E,M=Math.sqrt(M)*(x===c?-1:1);var w=M*f/l*p,i=M*-l/f*o,C=h*w-b*i+(r+n)/2,y=b*w+h*i+(u+s)/2,_=(o-w)/f,I=(p-i)/l,N=(-o-w)/f,k=(-p-i)/l,O=T(1,0,_,I),z=T(_,I,N,k);return c===0&&z>0&&(z-=P),c===1&&z<0&&(z+=P),[C,y,O,z]},d=function(r){var u=r.px,n=r.py,s=r.cx,f=r.cy,l=r.rx,x=r.ry,c=r.xAxisRotation,b=c===void 0?0:c,h=r.largeArcFlag,o=h===void 0?0:h,p=r.sweepFlag,S=p===void 0?0:p,A=[];if(l===0||x===0)return[];var E=Math.sin(b*P/360),m=Math.cos(b*P/360),M=m*(u-s)/2+E*(n-f)/2,w=-E*(u-s)/2+m*(n-f)/2;if(M===0&&w===0)return[];l=Math.abs(l),x=Math.abs(x);var i=Math.pow(M,2)/Math.pow(l,2)+Math.pow(w,2)/Math.pow(x,2);i>1&&(l*=Math.sqrt(i),x*=Math.sqrt(i));var C=v(u,n,s,f,l,x,o,S,E,m,M,w),y=g(C,4),_=y[0],I=y[1],N=y[2],k=y[3],O=Math.abs(k)/(P/4);Math.abs(1-O)<1e-7&&(O=1);var z=Math.max(Math.ceil(O),1);k/=z;for(var F=0;F<z;F++)A.push(L(N,k)),N+=k;return A.map(function(B){var G=a(B[0],l,x,m,E,_,I),Q=G.x,ee=G.y,ae=a(B[1],l,x,m,E,_,I),fe=ae.x,K=ae.y,W=a(B[2],l,x,m,E,_,I),Z=W.x,X=W.y;return{x1:Q,y1:ee,x2:fe,y2:K,x:Z,y:X}})};U.default=d},1750:function(H,U,e){var g=e(95616),P=e(65185),a=e(29988),L=e(89546),T=e(32791);H.exports=v;function v(d){if(Array.isArray(d)&&d.length===1&&typeof d[0]=="string"&&(d=d[0]),typeof d=="string"&&(T(L(d),"String is not an SVG path."),d=g(d)),T(Array.isArray(d),"Argument should be a string or an array of path segments."),d=P(d),d=a(d),!d.length)return[0,0,0,0];for(var t=[1/0,1/0,-1/0,-1/0],r=0,u=d.length;r<u;r++)for(var n=d[r].slice(1),s=0;s<n.length;s+=2)n[s+0]<t[0]&&(t[0]=n[s+0]),n[s+1]<t[1]&&(t[1]=n[s+1]),n[s+0]>t[2]&&(t[2]=n[s+0]),n[s+1]>t[3]&&(t[3]=n[s+1]);return t}},29988:function(H,U,e){H.exports=P;var g=e(7095);function P(T){for(var v,d=[],t=0,r=0,u=0,n=0,s=null,f=null,l=0,x=0,c=0,b=T.length;c<b;c++){var h=T[c],o=h[0];switch(o){case"M":u=h[1],n=h[2];break;case"A":var p=g({px:l,py:x,cx:h[6],cy:h[7],rx:h[1],ry:h[2],xAxisRotation:h[3],largeArcFlag:h[4],sweepFlag:h[5]});if(!p.length)continue;for(var S=0,A;S<p.length;S++)A=p[S],h=["C",A.x1,A.y1,A.x2,A.y2,A.x,A.y],S<p.length-1&&d.push(h);break;case"S":var E=l,m=x;(v=="C"||v=="S")&&(E+=E-t,m+=m-r),h=["C",E,m,h[1],h[2],h[3],h[4]];break;case"T":v=="Q"||v=="T"?(s=l*2-s,f=x*2-f):(s=l,f=x),h=L(l,x,s,f,h[1],h[2]);break;case"Q":s=h[1],f=h[2],h=L(l,x,h[1],h[2],h[3],h[4]);break;case"L":h=a(l,x,h[1],h[2]);break;case"H":h=a(l,x,h[1],x);break;case"V":h=a(l,x,l,h[1]);break;case"Z":h=a(l,x,u,n);break}v=o,l=h[h.length-2],x=h[h.length-1],h.length>4?(t=h[h.length-4],r=h[h.length-3]):(t=l,r=x),d.push(h)}return d}function a(T,v,d,t){return["C",T,v,d,t,d,t]}function L(T,v,d,t,r,u){return["C",T/3+.6666666666666666*d,v/3+.6666666666666666*t,r/3+.6666666666666666*d,u/3+.6666666666666666*t,r,u]}},82019:function(H,U,e){var g=e(1750),P=e(95616),a=e(31457),L=e(89546),T=e(44781),v=document.createElement("canvas"),d=v.getContext("2d");H.exports=t;function t(n,s){if(!L(n))throw Error("Argument should be valid svg path string");s||(s={});var f,l;s.shape?(f=s.shape[0],l=s.shape[1]):(f=v.width=s.w||s.width||200,l=v.height=s.h||s.height||200);var x=Math.min(f,l),c=s.stroke||0,b=s.viewbox||s.viewBox||g(n),h=[f/(b[2]-b[0]),l/(b[3]-b[1])],o=Math.min(h[0]||0,h[1]||0)/2;if(d.fillStyle="black",d.fillRect(0,0,f,l),d.fillStyle="white",c&&(typeof c!="number"&&(c=1),c>0?d.strokeStyle="white":d.strokeStyle="black",d.lineWidth=Math.abs(c)),d.translate(f*.5,l*.5),d.scale(o,o),u()){var p=new Path2D(n);d.fill(p),c&&d.stroke(p)}else{var S=P(n);a(d,S),d.fill(),c&&d.stroke()}d.setTransform(1,0,0,1,0,0);var A=T(d,{cutoff:s.cutoff!=null?s.cutoff:.5,radius:s.radius!=null?s.radius:x*.5});return A}var r;function u(){if(r!=null)return r;var n=document.createElement("canvas").getContext("2d");if(n.canvas.width=n.canvas.height=1,!window.Path2D)return r=!1;var s=new Path2D("M0,0h1v1h-1v-1Z");n.fillStyle="black",n.fill(s);var f=n.getImageData(0,0,1,1);return r=f&&f.data&&f.data[3]===255}},84267:function(H,U,e){var g;(function(P){var a=/^\s+/,L=/\s+$/,T=0,v=P.round,d=P.min,t=P.max,r=P.random;function u(j,se){if(j=j||"",se=se||{},j instanceof u)return j;if(!(this instanceof u))return new u(j,se);var ne=n(j);this._originalInput=j,this._r=ne.r,this._g=ne.g,this._b=ne.b,this._a=ne.a,this._roundA=v(100*this._a)/100,this._format=se.format||ne.format,this._gradientType=se.gradientType,this._r<1&&(this._r=v(this._r)),this._g<1&&(this._g=v(this._g)),this._b<1&&(this._b=v(this._b)),this._ok=ne.ok,this._tc_id=T++}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var j=this.toRgb();return(j.r*299+j.g*587+j.b*114)/1e3},getLuminance:function(){var j=this.toRgb(),se,ne,ue,ge,we,xe;return se=j.r/255,ne=j.g/255,ue=j.b/255,se<=.03928?ge=se/12.92:ge=P.pow((se+.055)/1.055,2.4),ne<=.03928?we=ne/12.92:we=P.pow((ne+.055)/1.055,2.4),ue<=.03928?xe=ue/12.92:xe=P.pow((ue+.055)/1.055,2.4),.2126*ge+.7152*we+.0722*xe},setAlpha:function(j){return this._a=F(j),this._roundA=v(100*this._a)/100,this},toHsv:function(){var j=x(this._r,this._g,this._b);return{h:j.h*360,s:j.s,v:j.v,a:this._a}},toHsvString:function(){var j=x(this._r,this._g,this._b),se=v(j.h*360),ne=v(j.s*100),ue=v(j.v*100);return this._a==1?"hsv("+se+", "+ne+"%, "+ue+"%)":"hsva("+se+", "+ne+"%, "+ue+"%, "+this._roundA+")"},toHsl:function(){var j=f(this._r,this._g,this._b);return{h:j.h*360,s:j.s,l:j.l,a:this._a}},toHslString:function(){var j=f(this._r,this._g,this._b),se=v(j.h*360),ne=v(j.s*100),ue=v(j.l*100);return this._a==1?"hsl("+se+", "+ne+"%, "+ue+"%)":"hsla("+se+", "+ne+"%, "+ue+"%, "+this._roundA+")"},toHex:function(j){return b(this._r,this._g,this._b,j)},toHexString:function(j){return"#"+this.toHex(j)},toHex8:function(j){return h(this._r,this._g,this._b,this._a,j)},toHex8String:function(j){return"#"+this.toHex8(j)},toRgb:function(){return{r:v(this._r),g:v(this._g),b:v(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+v(this._r)+", "+v(this._g)+", "+v(this._b)+")":"rgba("+v(this._r)+", "+v(this._g)+", "+v(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:v(B(this._r,255)*100)+"%",g:v(B(this._g,255)*100)+"%",b:v(B(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+v(B(this._r,255)*100)+"%, "+v(B(this._g,255)*100)+"%, "+v(B(this._b,255)*100)+"%)":"rgba("+v(B(this._r,255)*100)+"%, "+v(B(this._g,255)*100)+"%, "+v(B(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:O[b(this._r,this._g,this._b,!0)]||!1},toFilter:function(j){var se="#"+o(this._r,this._g,this._b,this._a),ne=se,ue=this._gradientType?"GradientType = 1, ":"";if(j){var ge=u(j);ne="#"+o(ge._r,ge._g,ge._b,ge._a)}return"progid:DXImageTransform.Microsoft.gradient("+ue+"startColorstr="+se+",endColorstr="+ne+")"},toString:function(j){var se=!!j;j=j||this._format;var ne=!1,ue=this._a<1&&this._a>=0,ge=!se&&ue&&(j==="hex"||j==="hex6"||j==="hex3"||j==="hex4"||j==="hex8"||j==="name");return ge?j==="name"&&this._a===0?this.toName():this.toRgbString():(j==="rgb"&&(ne=this.toRgbString()),j==="prgb"&&(ne=this.toPercentageRgbString()),(j==="hex"||j==="hex6")&&(ne=this.toHexString()),j==="hex3"&&(ne=this.toHexString(!0)),j==="hex4"&&(ne=this.toHex8String(!0)),j==="hex8"&&(ne=this.toHex8String()),j==="name"&&(ne=this.toName()),j==="hsl"&&(ne=this.toHslString()),j==="hsv"&&(ne=this.toHsvString()),ne||this.toHexString())},clone:function(){return u(this.toString())},_applyModification:function(j,se){var ne=j.apply(null,[this].concat([].slice.call(se)));return this._r=ne._r,this._g=ne._g,this._b=ne._b,this.setAlpha(ne._a),this},lighten:function(){return this._applyModification(E,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(M,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(S,arguments)},greyscale:function(){return this._applyModification(A,arguments)},spin:function(){return this._applyModification(w,arguments)},_applyCombination:function(j,se){return j.apply(null,[this].concat([].slice.call(se)))},analogous:function(){return this._applyCombination(I,arguments)},complement:function(){return this._applyCombination(i,arguments)},monochromatic:function(){return this._applyCombination(N,arguments)},splitcomplement:function(){return this._applyCombination(_,arguments)},triad:function(){return this._applyCombination(C,arguments)},tetrad:function(){return this._applyCombination(y,arguments)}},u.fromRatio=function(j,se){if(typeof j=="object"){var ne={};for(var ue in j)j.hasOwnProperty(ue)&&(ue==="a"?ne[ue]=j[ue]:ne[ue]=K(j[ue]));j=ne}return u(j,se)};function n(j){var se={r:0,g:0,b:0},ne=1,ue=null,ge=null,we=null,xe=!1,Fe=!1;return typeof j=="string"&&(j=ie(j)),typeof j=="object"&&($(j.r)&&$(j.g)&&$(j.b)?(se=s(j.r,j.g,j.b),xe=!0,Fe=String(j.r).substr(-1)==="%"?"prgb":"rgb"):$(j.h)&&$(j.s)&&$(j.v)?(ue=K(j.s),ge=K(j.v),se=c(j.h,ue,ge),xe=!0,Fe="hsv"):$(j.h)&&$(j.s)&&$(j.l)&&(ue=K(j.s),we=K(j.l),se=l(j.h,ue,we),xe=!0,Fe="hsl"),j.hasOwnProperty("a")&&(ne=j.a)),ne=F(ne),{ok:xe,format:j.format||Fe,r:d(255,t(se.r,0)),g:d(255,t(se.g,0)),b:d(255,t(se.b,0)),a:ne}}function s(j,se,ne){return{r:B(j,255)*255,g:B(se,255)*255,b:B(ne,255)*255}}function f(j,se,ne){j=B(j,255),se=B(se,255),ne=B(ne,255);var ue=t(j,se,ne),ge=d(j,se,ne),we,xe,Fe=(ue+ge)/2;if(ue==ge)we=xe=0;else{var ze=ue-ge;switch(xe=Fe>.5?ze/(2-ue-ge):ze/(ue+ge),ue){case j:we=(se-ne)/ze+(se<ne?6:0);break;case se:we=(ne-j)/ze+2;break;case ne:we=(j-se)/ze+4;break}we/=6}return{h:we,s:xe,l:Fe}}function l(j,se,ne){var ue,ge,we;j=B(j,360),se=B(se,100),ne=B(ne,100);function xe(Te,ye,Ae){return Ae<0&&(Ae+=1),Ae>1&&(Ae-=1),Ae<.16666666666666666?Te+(ye-Te)*6*Ae:Ae<.5?ye:Ae<.6666666666666666?Te+(ye-Te)*(.6666666666666666-Ae)*6:Te}if(se===0)ue=ge=we=ne;else{var Fe=ne<.5?ne*(1+se):ne+se-ne*se,ze=2*ne-Fe;ue=xe(ze,Fe,j+.3333333333333333),ge=xe(ze,Fe,j),we=xe(ze,Fe,j-.3333333333333333)}return{r:ue*255,g:ge*255,b:we*255}}function x(j,se,ne){j=B(j,255),se=B(se,255),ne=B(ne,255);var ue=t(j,se,ne),ge=d(j,se,ne),we,xe,Fe=ue,ze=ue-ge;if(xe=ue===0?0:ze/ue,ue==ge)we=0;else{switch(ue){case j:we=(se-ne)/ze+(se<ne?6:0);break;case se:we=(ne-j)/ze+2;break;case ne:we=(j-se)/ze+4;break}we/=6}return{h:we,s:xe,v:Fe}}function c(j,se,ne){j=B(j,360)*6,se=B(se,100),ne=B(ne,100);var ue=P.floor(j),ge=j-ue,we=ne*(1-se),xe=ne*(1-ge*se),Fe=ne*(1-(1-ge)*se),ze=ue%6,Te=[ne,xe,we,we,Fe,ne][ze],ye=[Fe,ne,ne,xe,we,we][ze],Ae=[we,we,Fe,ne,ne,xe][ze];return{r:Te*255,g:ye*255,b:Ae*255}}function b(j,se,ne,ue){var ge=[fe(v(j).toString(16)),fe(v(se).toString(16)),fe(v(ne).toString(16))];return ue&&ge[0].charAt(0)==ge[0].charAt(1)&&ge[1].charAt(0)==ge[1].charAt(1)&&ge[2].charAt(0)==ge[2].charAt(1)?ge[0].charAt(0)+ge[1].charAt(0)+ge[2].charAt(0):ge.join("")}function h(j,se,ne,ue,ge){var we=[fe(v(j).toString(16)),fe(v(se).toString(16)),fe(v(ne).toString(16)),fe(W(ue))];return ge&&we[0].charAt(0)==we[0].charAt(1)&&we[1].charAt(0)==we[1].charAt(1)&&we[2].charAt(0)==we[2].charAt(1)&&we[3].charAt(0)==we[3].charAt(1)?we[0].charAt(0)+we[1].charAt(0)+we[2].charAt(0)+we[3].charAt(0):we.join("")}function o(j,se,ne,ue){var ge=[fe(W(ue)),fe(v(j).toString(16)),fe(v(se).toString(16)),fe(v(ne).toString(16))];return ge.join("")}u.equals=function(j,se){return!j||!se?!1:u(j).toRgbString()==u(se).toRgbString()},u.random=function(){return u.fromRatio({r:r(),g:r(),b:r()})};function p(j,se){se=se===0?0:se||10;var ne=u(j).toHsl();return ne.s-=se/100,ne.s=G(ne.s),u(ne)}function S(j,se){se=se===0?0:se||10;var ne=u(j).toHsl();return ne.s+=se/100,ne.s=G(ne.s),u(ne)}function A(j){return u(j).desaturate(100)}function E(j,se){se=se===0?0:se||10;var ne=u(j).toHsl();return ne.l+=se/100,ne.l=G(ne.l),u(ne)}function m(j,se){se=se===0?0:se||10;var ne=u(j).toRgb();return ne.r=t(0,d(255,ne.r-v(255*-(se/100)))),ne.g=t(0,d(255,ne.g-v(255*-(se/100)))),ne.b=t(0,d(255,ne.b-v(255*-(se/100)))),u(ne)}function M(j,se){se=se===0?0:se||10;var ne=u(j).toHsl();return ne.l-=se/100,ne.l=G(ne.l),u(ne)}function w(j,se){var ne=u(j).toHsl(),ue=(ne.h+se)%360;return ne.h=ue<0?360+ue:ue,u(ne)}function i(j){var se=u(j).toHsl();return se.h=(se.h+180)%360,u(se)}function C(j){var se=u(j).toHsl(),ne=se.h;return[u(j),u({h:(ne+120)%360,s:se.s,l:se.l}),u({h:(ne+240)%360,s:se.s,l:se.l})]}function y(j){var se=u(j).toHsl(),ne=se.h;return[u(j),u({h:(ne+90)%360,s:se.s,l:se.l}),u({h:(ne+180)%360,s:se.s,l:se.l}),u({h:(ne+270)%360,s:se.s,l:se.l})]}function _(j){var se=u(j).toHsl(),ne=se.h;return[u(j),u({h:(ne+72)%360,s:se.s,l:se.l}),u({h:(ne+216)%360,s:se.s,l:se.l})]}function I(j,se,ne){se=se||6,ne=ne||30;var ue=u(j).toHsl(),ge=360/ne,we=[u(j)];for(ue.h=(ue.h-(ge*se>>1)+720)%360;--se;)ue.h=(ue.h+ge)%360,we.push(u(ue));return we}function N(j,se){se=se||6;for(var ne=u(j).toHsv(),ue=ne.h,ge=ne.s,we=ne.v,xe=[],Fe=1/se;se--;)xe.push(u({h:ue,s:ge,v:we})),we=(we+Fe)%1;return xe}u.mix=function(j,se,ne){ne=ne===0?0:ne||50;var ue=u(j).toRgb(),ge=u(se).toRgb(),we=ne/100,xe={r:(ge.r-ue.r)*we+ue.r,g:(ge.g-ue.g)*we+ue.g,b:(ge.b-ue.b)*we+ue.b,a:(ge.a-ue.a)*we+ue.a};return u(xe)},u.readability=function(j,se){var ne=u(j),ue=u(se);return(P.max(ne.getLuminance(),ue.getLuminance())+.05)/(P.min(ne.getLuminance(),ue.getLuminance())+.05)},u.isReadable=function(j,se,ne){var ue=u.readability(j,se),ge,we;switch(we=!1,ge=J(ne),ge.level+ge.size){case"AAsmall":case"AAAlarge":we=ue>=4.5;break;case"AAlarge":we=ue>=3;break;case"AAAsmall":we=ue>=7;break}return we},u.mostReadable=function(j,se,ne){var ue=null,ge=0,we,xe,Fe,ze;ne=ne||{},xe=ne.includeFallbackColors,Fe=ne.level,ze=ne.size;for(var Te=0;Te<se.length;Te++)we=u.readability(j,se[Te]),we>ge&&(ge=we,ue=u(se[Te]));return u.isReadable(j,ue,{level:Fe,size:ze})||!xe?ue:(ne.includeFallbackColors=!1,u.mostReadable(j,["#fff","#000"],ne))};var k=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},O=u.hexNames=z(k);function z(j){var se={};for(var ne in j)j.hasOwnProperty(ne)&&(se[j[ne]]=ne);return se}function F(j){return j=parseFloat(j),(isNaN(j)||j<0||j>1)&&(j=1),j}function B(j,se){ee(j)&&(j="100%");var ne=ae(j);return j=d(se,t(0,parseFloat(j))),ne&&(j=parseInt(j*se,10)/100),P.abs(j-se)<1e-6?1:j%se/parseFloat(se)}function G(j){return d(1,t(0,j))}function Q(j){return parseInt(j,16)}function ee(j){return typeof j=="string"&&j.indexOf(".")!=-1&&parseFloat(j)===1}function ae(j){return typeof j=="string"&&j.indexOf("%")!=-1}function fe(j){return j.length==1?"0"+j:""+j}function K(j){return j<=1&&(j=j*100+"%"),j}function W(j){return P.round(parseFloat(j)*255).toString(16)}function Z(j){return Q(j)/255}var X=function(){var j="[-\\+]?\\d+%?",se="[-\\+]?\\d*\\.\\d+%?",ne="(?:"+se+")|(?:"+j+")",ue="[\\s|\\(]+("+ne+")[,|\\s]+("+ne+")[,|\\s]+("+ne+")\\s*\\)?",ge="[\\s|\\(]+("+ne+")[,|\\s]+("+ne+")[,|\\s]+("+ne+")[,|\\s]+("+ne+")\\s*\\)?";return{CSS_UNIT:new RegExp(ne),rgb:new RegExp("rgb"+ue),rgba:new RegExp("rgba"+ge),hsl:new RegExp("hsl"+ue),hsla:new RegExp("hsla"+ge),hsv:new RegExp("hsv"+ue),hsva:new RegExp("hsva"+ge),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function $(j){return!!X.CSS_UNIT.exec(j)}function ie(j){j=j.replace(a,"").replace(L,"").toLowerCase();var se=!1;if(k[j])j=k[j],se=!0;else if(j=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var ne;return(ne=X.rgb.exec(j))?{r:ne[1],g:ne[2],b:ne[3]}:(ne=X.rgba.exec(j))?{r:ne[1],g:ne[2],b:ne[3],a:ne[4]}:(ne=X.hsl.exec(j))?{h:ne[1],s:ne[2],l:ne[3]}:(ne=X.hsla.exec(j))?{h:ne[1],s:ne[2],l:ne[3],a:ne[4]}:(ne=X.hsv.exec(j))?{h:ne[1],s:ne[2],v:ne[3]}:(ne=X.hsva.exec(j))?{h:ne[1],s:ne[2],v:ne[3],a:ne[4]}:(ne=X.hex8.exec(j))?{r:Q(ne[1]),g:Q(ne[2]),b:Q(ne[3]),a:Z(ne[4]),format:se?"name":"hex8"}:(ne=X.hex6.exec(j))?{r:Q(ne[1]),g:Q(ne[2]),b:Q(ne[3]),format:se?"name":"hex"}:(ne=X.hex4.exec(j))?{r:Q(ne[1]+""+ne[1]),g:Q(ne[2]+""+ne[2]),b:Q(ne[3]+""+ne[3]),a:Z(ne[4]+""+ne[4]),format:se?"name":"hex8"}:(ne=X.hex3.exec(j))?{r:Q(ne[1]+""+ne[1]),g:Q(ne[2]+""+ne[2]),b:Q(ne[3]+""+ne[3]),format:se?"name":"hex"}:!1}function J(j){var se,ne;return j=j||{level:"AA",size:"small"},se=(j.level||"AA").toUpperCase(),ne=(j.size||"small").toLowerCase(),se!=="AA"&&se!=="AAA"&&(se="AA"),ne!=="small"&&ne!=="large"&&(ne="small"),{level:se,size:ne}}H.exports?H.exports=u:(g=(function(){return u}).call(U,e,U,H),g!==void 0&&(H.exports=g))})(Math)},57060:function(H){H.exports=g,H.exports.float32=H.exports.float=g,H.exports.fract32=H.exports.fract=e;var U=new Float32Array(1);function e(P,a){if(P.length){if(P instanceof Float32Array)return new Float32Array(P.length);a instanceof Float32Array||(a=g(P));for(var L=0,T=a.length;L<T;L++)a[L]=P[L]-a[L];return a}return g(P-g(P))}function g(P){return P.length?P instanceof Float32Array?P:new Float32Array(P):(U[0]=P,U[0])}},75686:function(H,U,e){var g=e(25677);H.exports=T;var P=96;function a(v,d){var t=g(getComputedStyle(v).getPropertyValue(d));return t[0]*T(t[1],v)}function L(v,d){var t=document.createElement("div");t.style["font-size"]="128"+v,d.appendChild(t);var r=a(t,"font-size")/128;return d.removeChild(t),r}function T(v,d){switch(d=d||document.body,v=(v||"px").trim().toLowerCase(),(d===window||d===document)&&(d=document.body),v){case"%":return d.clientHeight/100;case"ch":case"ex":return L(v,d);case"em":return a(d,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return P;case"cm":return P/2.54;case"mm":return P/25.4;case"pt":return P/72;case"pc":return P/6}return 1}},96892:function(H,U,e){e.d(U,{zL:function(){return L}});function g(d,t){for(var r,u=d.length,n=u-t;n<--u;)r=d[n],d[n++]=d[u],d[u]=r}function P(d){return d}function a(d){if(d==null)return P;var t,r,u=d.scale[0],n=d.scale[1],s=d.translate[0],f=d.translate[1];return function(l,x){x||(t=r=0);var c=2,b=l.length,h=new Array(b);for(h[0]=(t+=l[0])*u+s,h[1]=(r+=l[1])*n+f;c<b;)h[c]=l[c],++c;return h}}function L(d,t){return typeof t=="string"&&(t=d.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(r){return T(d,r)})}:T(d,t)}function T(d,t){var r=t.id,u=t.bbox,n=t.properties==null?{}:t.properties,s=v(d,t);return r==null&&u==null?{type:"Feature",properties:n,geometry:s}:u==null?{type:"Feature",id:r,properties:n,geometry:s}:{type:"Feature",id:r,bbox:u,properties:n,geometry:s}}function v(d,t){var r=a(d.transform),u=d.arcs;function n(b,h){h.length&&h.pop();for(var o=u[b<0?~b:b],p=0,S=o.length;p<S;++p)h.push(r(o[p],p));b<0&&g(h,S)}function s(b){return r(b)}function f(b){for(var h=[],o=0,p=b.length;o<p;++o)n(b[o],h);return h.length<2&&h.push(h[0]),h}function l(b){for(var h=f(b);h.length<4;)h.push(h[0]);return h}function x(b){return b.map(l)}function c(b){var h=b.type,o;switch(h){case"GeometryCollection":return{type:h,geometries:b.geometries.map(c)};case"Point":o=s(b.coordinates);break;case"MultiPoint":o=b.coordinates.map(s);break;case"LineString":o=f(b.arcs);break;case"MultiLineString":o=b.arcs.map(f);break;case"Polygon":o=x(b.arcs);break;case"MultiPolygon":o=b.arcs.map(x);break;default:return null}return{type:h,coordinates:o}}return c(t)}},73116:function(H,U,e){var g=e(24511);H.exports=function(P){if(typeof P!="function"||!hasOwnProperty.call(P,"length"))return!1;try{if(typeof P.length!="number"||typeof P.call!="function"||typeof P.apply!="function")return!1}catch{return!1}return!g(P)}},69190:function(H,U,e){var g=e(24582),P=e(47403),a=e(9234),L=e(6048),T=function(v,d){return v.replace("%v",L(d))};H.exports=function(v,d,t){if(!P(t))throw new TypeError(T(d,v));if(!g(v)){if("default"in t)return t.default;if(t.isOptional)return null}var r=a(t.errorMessage);throw g(r)||(r=d),new TypeError(T(r,v))}},18497:function(H){H.exports=function(U){try{return U.toString()}catch{try{return String(U)}catch{return null}}}},6048:function(H,U,e){var g=e(18497),P=/[\n\r\u2028\u2029]/g;H.exports=function(a){var L=g(a);return L===null?"<Non-coercible to string value>":(L.length>100&&(L=L.slice(0,99)+"…"),L=L.replace(P,function(T){switch(T){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),L)}},47403:function(H,U,e){var g=e(24582),P={object:!0,function:!0,undefined:!0};H.exports=function(a){return g(a)?hasOwnProperty.call(P,typeof a):!1}},82527:function(H,U,e){var g=e(69190),P=e(84985);H.exports=function(a){return P(a)?a:g(a,"%v is not a plain function",arguments[1])}},84985:function(H,U,e){var g=e(73116),P=/^\s*class[\s{/}]/,a=Function.prototype.toString;H.exports=function(L){return!(!g(L)||P.test(a.call(L)))}},24511:function(H,U,e){var g=e(47403);H.exports=function(P){if(!g(P))return!1;try{return P.constructor?P.constructor.prototype===P:!1}catch{return!1}}},9234:function(H,U,e){var g=e(24582),P=e(47403),a=Object.prototype.toString;H.exports=function(L){if(!g(L))return null;if(P(L)){var T=L.toString;if(typeof T!="function"||T===a)return null}try{return""+L}catch{return null}}},10424:function(H,U,e){var g=e(69190),P=e(24582);H.exports=function(a){return P(a)?a:g(a,"Cannot use %v",arguments[1])}},24582:function(H){var U=void 0;H.exports=function(e){return e!==U&&e!==null}},58404:function(H,U,e){var g=e(13547),P=e(12129),a=e(12856).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:P([32,0]),UINT16:P([32,0]),UINT32:P([32,0]),BIGUINT64:P([32,0]),INT8:P([32,0]),INT16:P([32,0]),INT32:P([32,0]),BIGINT64:P([32,0]),FLOAT:P([32,0]),DOUBLE:P([32,0]),DATA:P([32,0]),UINT8C:P([32,0]),BUFFER:P([32,0])});var L=typeof Uint8ClampedArray<"u",T=typeof BigUint64Array<"u",v=typeof BigInt64Array<"u",d=e.g.__TYPEDARRAY_POOL;d.UINT8C||(d.UINT8C=P([32,0])),d.BIGUINT64||(d.BIGUINT64=P([32,0])),d.BIGINT64||(d.BIGINT64=P([32,0])),d.BUFFER||(d.BUFFER=P([32,0]));var t=d.DATA,r=d.BUFFER;U.free=function(i){if(a.isBuffer(i))r[g.log2(i.length)].push(i);else{if(Object.prototype.toString.call(i)!=="[object ArrayBuffer]"&&(i=i.buffer),!i)return;var C=i.length||i.byteLength,y=g.log2(C)|0;t[y].push(i)}};function u(w){if(w){var i=w.length||w.byteLength,C=g.log2(i);t[C].push(w)}}function n(w){u(w.buffer)}U.freeUint8=U.freeUint16=U.freeUint32=U.freeBigUint64=U.freeInt8=U.freeInt16=U.freeInt32=U.freeBigInt64=U.freeFloat32=U.freeFloat=U.freeFloat64=U.freeDouble=U.freeUint8Clamped=U.freeDataView=n,U.freeArrayBuffer=u,U.freeBuffer=function(i){r[g.log2(i.length)].push(i)},U.malloc=function(i,C){if(C===void 0||C==="arraybuffer")return s(i);switch(C){case"uint8":return f(i);case"uint16":return l(i);case"uint32":return x(i);case"int8":return c(i);case"int16":return b(i);case"int32":return h(i);case"float":case"float32":return o(i);case"double":case"float64":return p(i);case"uint8_clamped":return S(i);case"bigint64":return E(i);case"biguint64":return A(i);case"buffer":return M(i);case"data":case"dataview":return m(i);default:return null}return null};function s(i){var i=g.nextPow2(i),C=g.log2(i),y=t[C];return y.length>0?y.pop():new ArrayBuffer(i)}U.mallocArrayBuffer=s;function f(w){return new Uint8Array(s(w),0,w)}U.mallocUint8=f;function l(w){return new Uint16Array(s(2*w),0,w)}U.mallocUint16=l;function x(w){return new Uint32Array(s(4*w),0,w)}U.mallocUint32=x;function c(w){return new Int8Array(s(w),0,w)}U.mallocInt8=c;function b(w){return new Int16Array(s(2*w),0,w)}U.mallocInt16=b;function h(w){return new Int32Array(s(4*w),0,w)}U.mallocInt32=h;function o(w){return new Float32Array(s(4*w),0,w)}U.mallocFloat32=U.mallocFloat=o;function p(w){return new Float64Array(s(8*w),0,w)}U.mallocFloat64=U.mallocDouble=p;function S(w){return L?new Uint8ClampedArray(s(w),0,w):f(w)}U.mallocUint8Clamped=S;function A(w){return T?new BigUint64Array(s(8*w),0,w):null}U.mallocBigUint64=A;function E(w){return v?new BigInt64Array(s(8*w),0,w):null}U.mallocBigInt64=E;function m(w){return new DataView(s(w),0,w)}U.mallocDataView=m;function M(w){w=g.nextPow2(w);var i=g.log2(w),C=r[i];return C.length>0?C.pop():new a(w)}U.mallocBuffer=M,U.clearCache=function(){for(var i=0;i<32;++i)d.UINT8[i].length=0,d.UINT16[i].length=0,d.UINT32[i].length=0,d.INT8[i].length=0,d.INT16[i].length=0,d.INT32[i].length=0,d.FLOAT[i].length=0,d.DOUBLE[i].length=0,d.BIGUINT64[i].length=0,d.BIGINT64[i].length=0,d.UINT8C[i].length=0,t[i].length=0,r[i].length=0}},90448:function(H){var U=/[\'\"]/;H.exports=function(g){return g?(U.test(g.charAt(0))&&(g=g.substr(1)),U.test(g.charAt(g.length-1))&&(g=g.substr(0,g.length-1)),g):""}},93447:function(H){H.exports=function(e,g,P){Array.isArray(P)||(P=[].slice.call(arguments,2));for(var a=0,L=P.length;a<L;a++){var T=P[a];for(var v in T)if(!(g[v]!==void 0&&!Array.isArray(g[v])&&e[v]===g[v])&&v in g){var d;if(T[v]===!0)d=g[v];else{if(T[v]===!1)continue;if(typeof T[v]=="function"&&(d=T[v](g[v],e,g),d===void 0))continue}e[v]=d}}return e}},20588:function(H,U,e){H.exports=g;function g(a,L){if(P("noDeprecation"))return a;var T=!1;function v(){if(!T){if(P("throwDeprecation"))throw new Error(L);P("traceDeprecation")?console.trace(L):console.warn(L),T=!0}return a.apply(this,arguments)}return v}function P(a){try{if(!e.g.localStorage)return!1}catch{return!1}var L=e.g.localStorage[a];return L==null?!1:String(L).toLowerCase()==="true"}},45920:function(H){H.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},4936:function(H,U,e){var g=e(47216),P=e(65481),a=e(21099),L=e(9187);function T(we){return we.call.bind(we)}var v=typeof BigInt<"u",d=typeof Symbol<"u",t=T(Object.prototype.toString),r=T(Number.prototype.valueOf),u=T(String.prototype.valueOf),n=T(Boolean.prototype.valueOf);if(v)var s=T(BigInt.prototype.valueOf);if(d)var f=T(Symbol.prototype.valueOf);function l(we,xe){if(typeof we!="object")return!1;try{return xe(we),!0}catch{return!1}}U.isArgumentsObject=g,U.isGeneratorFunction=P,U.isTypedArray=L;function x(we){return typeof Promise<"u"&&we instanceof Promise||we!==null&&typeof we=="object"&&typeof we.then=="function"&&typeof we.catch=="function"}U.isPromise=x;function c(we){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(we):L(we)||Q(we)}U.isArrayBufferView=c;function b(we){return a(we)==="Uint8Array"}U.isUint8Array=b;function h(we){return a(we)==="Uint8ClampedArray"}U.isUint8ClampedArray=h;function o(we){return a(we)==="Uint16Array"}U.isUint16Array=o;function p(we){return a(we)==="Uint32Array"}U.isUint32Array=p;function S(we){return a(we)==="Int8Array"}U.isInt8Array=S;function A(we){return a(we)==="Int16Array"}U.isInt16Array=A;function E(we){return a(we)==="Int32Array"}U.isInt32Array=E;function m(we){return a(we)==="Float32Array"}U.isFloat32Array=m;function M(we){return a(we)==="Float64Array"}U.isFloat64Array=M;function w(we){return a(we)==="BigInt64Array"}U.isBigInt64Array=w;function i(we){return a(we)==="BigUint64Array"}U.isBigUint64Array=i;function C(we){return t(we)==="[object Map]"}C.working=typeof Map<"u"&&C(new Map);function y(we){return typeof Map>"u"?!1:C.working?C(we):we instanceof Map}U.isMap=y;function _(we){return t(we)==="[object Set]"}_.working=typeof Set<"u"&&_(new Set);function I(we){return typeof Set>"u"?!1:_.working?_(we):we instanceof Set}U.isSet=I;function N(we){return t(we)==="[object WeakMap]"}N.working=typeof WeakMap<"u"&&N(new WeakMap);function k(we){return typeof WeakMap>"u"?!1:N.working?N(we):we instanceof WeakMap}U.isWeakMap=k;function O(we){return t(we)==="[object WeakSet]"}O.working=typeof WeakSet<"u"&&O(new WeakSet);function z(we){return O(we)}U.isWeakSet=z;function F(we){return t(we)==="[object ArrayBuffer]"}F.working=typeof ArrayBuffer<"u"&&F(new ArrayBuffer);function B(we){return typeof ArrayBuffer>"u"?!1:F.working?F(we):we instanceof ArrayBuffer}U.isArrayBuffer=B;function G(we){return t(we)==="[object DataView]"}G.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&G(new DataView(new ArrayBuffer(1),0,1));function Q(we){return typeof DataView>"u"?!1:G.working?G(we):we instanceof DataView}U.isDataView=Q;var ee=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ae(we){return t(we)==="[object SharedArrayBuffer]"}function fe(we){return typeof ee>"u"?!1:(typeof ae.working>"u"&&(ae.working=ae(new ee)),ae.working?ae(we):we instanceof ee)}U.isSharedArrayBuffer=fe;function K(we){return t(we)==="[object AsyncFunction]"}U.isAsyncFunction=K;function W(we){return t(we)==="[object Map Iterator]"}U.isMapIterator=W;function Z(we){return t(we)==="[object Set Iterator]"}U.isSetIterator=Z;function X(we){return t(we)==="[object Generator]"}U.isGeneratorObject=X;function $(we){return t(we)==="[object WebAssembly.Module]"}U.isWebAssemblyCompiledModule=$;function ie(we){return l(we,r)}U.isNumberObject=ie;function J(we){return l(we,u)}U.isStringObject=J;function j(we){return l(we,n)}U.isBooleanObject=j;function se(we){return v&&l(we,s)}U.isBigIntObject=se;function ne(we){return d&&l(we,f)}U.isSymbolObject=ne;function ue(we){return ie(we)||J(we)||j(we)||se(we)||ne(we)}U.isBoxedPrimitive=ue;function ge(we){return typeof Uint8Array<"u"&&(B(we)||fe(we))}U.isAnyArrayBuffer=ge,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(we){Object.defineProperty(U,we,{enumerable:!1,value:function(){throw new Error(we+" is not supported in userland")}})})},43827:function(H,U,e){var g=e(90386),P=Object.getOwnPropertyDescriptors||function(ee){for(var ae=Object.keys(ee),fe={},K=0;K<ae.length;K++)fe[ae[K]]=Object.getOwnPropertyDescriptor(ee,ae[K]);return fe},a=/%[sdj%]/g;U.format=function(Q){if(!A(Q)){for(var ee=[],ae=0;ae<arguments.length;ae++)ee.push(d(arguments[ae]));return ee.join(" ")}for(var ae=1,fe=arguments,K=fe.length,W=String(Q).replace(a,function(X){if(X==="%%")return"%";if(ae>=K)return X;switch(X){case"%s":return String(fe[ae++]);case"%d":return Number(fe[ae++]);case"%j":try{return JSON.stringify(fe[ae++])}catch{return"[Circular]"}default:return X}}),Z=fe[ae];ae<K;Z=fe[++ae])o(Z)||!w(Z)?W+=" "+Z:W+=" "+d(Z);return W},U.deprecate=function(Q,ee){if(typeof g<"u"&&g.noDeprecation===!0)return Q;if(typeof g>"u")return function(){return U.deprecate(Q,ee).apply(this,arguments)};var ae=!1;function fe(){if(!ae){if(g.throwDeprecation)throw new Error(ee);g.traceDeprecation?console.trace(ee):console.error(ee),ae=!0}return Q.apply(this,arguments)}return fe};var L={},T=/^$/;if({}.NODE_DEBUG){var v={}.NODE_DEBUG;v=v.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),T=new RegExp("^"+v+"$","i")}U.debuglog=function(Q){if(Q=Q.toUpperCase(),!L[Q])if(T.test(Q)){var ee=g.pid;L[Q]=function(){var ae=U.format.apply(U,arguments);console.error("%s %d: %s",Q,ee,ae)}}else L[Q]=function(){};return L[Q]};function d(Q,ee){var ae={seen:[],stylize:r};return arguments.length>=3&&(ae.depth=arguments[2]),arguments.length>=4&&(ae.colors=arguments[3]),h(ee)?ae.showHidden=ee:ee&&U._extend(ae,ee),m(ae.showHidden)&&(ae.showHidden=!1),m(ae.depth)&&(ae.depth=2),m(ae.colors)&&(ae.colors=!1),m(ae.customInspect)&&(ae.customInspect=!0),ae.colors&&(ae.stylize=t),n(ae,Q,ae.depth)}U.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function t(Q,ee){var ae=d.styles[ee];return ae?"\x1B["+d.colors[ae][0]+"m"+Q+"\x1B["+d.colors[ae][1]+"m":Q}function r(Q,ee){return Q}function u(Q){var ee={};return Q.forEach(function(ae,fe){ee[ae]=!0}),ee}function n(Q,ee,ae){if(Q.customInspect&&ee&&y(ee.inspect)&&ee.inspect!==U.inspect&&!(ee.constructor&&ee.constructor.prototype===ee)){var fe=ee.inspect(ae,Q);return A(fe)||(fe=n(Q,fe,ae)),fe}var K=s(Q,ee);if(K)return K;var W=Object.keys(ee),Z=u(W);if(Q.showHidden&&(W=Object.getOwnPropertyNames(ee)),C(ee)&&(W.indexOf("message")>=0||W.indexOf("description")>=0))return f(ee);if(W.length===0){if(y(ee)){var X=ee.name?": "+ee.name:"";return Q.stylize("[Function"+X+"]","special")}if(M(ee))return Q.stylize(RegExp.prototype.toString.call(ee),"regexp");if(i(ee))return Q.stylize(Date.prototype.toString.call(ee),"date");if(C(ee))return f(ee)}var $="",ie=!1,J=["{","}"];if(b(ee)&&(ie=!0,J=["[","]"]),y(ee)){var j=ee.name?": "+ee.name:"";$=" [Function"+j+"]"}if(M(ee)&&($=" "+RegExp.prototype.toString.call(ee)),i(ee)&&($=" "+Date.prototype.toUTCString.call(ee)),C(ee)&&($=" "+f(ee)),W.length===0&&(!ie||ee.length==0))return J[0]+$+J[1];if(ae<0)return M(ee)?Q.stylize(RegExp.prototype.toString.call(ee),"regexp"):Q.stylize("[Object]","special");Q.seen.push(ee);var se;return ie?se=l(Q,ee,ae,Z,W):se=W.map(function(ne){return x(Q,ee,ae,Z,ne,ie)}),Q.seen.pop(),c(se,$,J)}function s(Q,ee){if(m(ee))return Q.stylize("undefined","undefined");if(A(ee)){var ae="'"+JSON.stringify(ee).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Q.stylize(ae,"string")}if(S(ee))return Q.stylize(""+ee,"number");if(h(ee))return Q.stylize(""+ee,"boolean");if(o(ee))return Q.stylize("null","null")}function f(Q){return"["+Error.prototype.toString.call(Q)+"]"}function l(Q,ee,ae,fe,K){for(var W=[],Z=0,X=ee.length;Z<X;++Z)z(ee,String(Z))?W.push(x(Q,ee,ae,fe,String(Z),!0)):W.push("");return K.forEach(function($){$.match(/^\d+$/)||W.push(x(Q,ee,ae,fe,$,!0))}),W}function x(Q,ee,ae,fe,K,W){var Z,X,$;if($=Object.getOwnPropertyDescriptor(ee,K)||{value:ee[K]},$.get?$.set?X=Q.stylize("[Getter/Setter]","special"):X=Q.stylize("[Getter]","special"):$.set&&(X=Q.stylize("[Setter]","special")),z(fe,K)||(Z="["+K+"]"),X||(Q.seen.indexOf($.value)<0?(o(ae)?X=n(Q,$.value,null):X=n(Q,$.value,ae-1),X.indexOf(`
`)>-1&&(W?X=X.split(`
`).map(function(ie){return"  "+ie}).join(`
`).slice(2):X=`
`+X.split(`
`).map(function(ie){return"   "+ie}).join(`
`))):X=Q.stylize("[Circular]","special")),m(Z)){if(W&&K.match(/^\d+$/))return X;Z=JSON.stringify(""+K),Z.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Z=Z.slice(1,-1),Z=Q.stylize(Z,"name")):(Z=Z.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Z=Q.stylize(Z,"string"))}return Z+": "+X}function c(Q,ee,ae){var fe=Q.reduce(function(K,W){return W.indexOf(`
`)>=0,K+W.replace(/\u001b\[\d\d?m/g,"").length+1},0);return fe>60?ae[0]+(ee===""?"":ee+`
 `)+" "+Q.join(`,
  `)+" "+ae[1]:ae[0]+ee+" "+Q.join(", ")+" "+ae[1]}U.types=e(4936);function b(Q){return Array.isArray(Q)}U.isArray=b;function h(Q){return typeof Q=="boolean"}U.isBoolean=h;function o(Q){return Q===null}U.isNull=o;function p(Q){return Q==null}U.isNullOrUndefined=p;function S(Q){return typeof Q=="number"}U.isNumber=S;function A(Q){return typeof Q=="string"}U.isString=A;function E(Q){return typeof Q=="symbol"}U.isSymbol=E;function m(Q){return Q===void 0}U.isUndefined=m;function M(Q){return w(Q)&&I(Q)==="[object RegExp]"}U.isRegExp=M,U.types.isRegExp=M;function w(Q){return typeof Q=="object"&&Q!==null}U.isObject=w;function i(Q){return w(Q)&&I(Q)==="[object Date]"}U.isDate=i,U.types.isDate=i;function C(Q){return w(Q)&&(I(Q)==="[object Error]"||Q instanceof Error)}U.isError=C,U.types.isNativeError=C;function y(Q){return typeof Q=="function"}U.isFunction=y;function _(Q){return Q===null||typeof Q=="boolean"||typeof Q=="number"||typeof Q=="string"||typeof Q=="symbol"||typeof Q>"u"}U.isPrimitive=_,U.isBuffer=e(45920);function I(Q){return Object.prototype.toString.call(Q)}function N(Q){return Q<10?"0"+Q.toString(10):Q.toString(10)}var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(){var Q=new Date,ee=[N(Q.getHours()),N(Q.getMinutes()),N(Q.getSeconds())].join(":");return[Q.getDate(),k[Q.getMonth()],ee].join(" ")}U.log=function(){console.log("%s - %s",O(),U.format.apply(U,arguments))},U.inherits=e(42018),U._extend=function(Q,ee){if(!ee||!w(ee))return Q;for(var ae=Object.keys(ee),fe=ae.length;fe--;)Q[ae[fe]]=ee[ae[fe]];return Q};function z(Q,ee){return Object.prototype.hasOwnProperty.call(Q,ee)}var F=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;U.promisify=function(ee){if(typeof ee!="function")throw new TypeError('The "original" argument must be of type Function');if(F&&ee[F]){var ae=ee[F];if(typeof ae!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ae,F,{value:ae,enumerable:!1,writable:!1,configurable:!0}),ae}function ae(){for(var fe,K,W=new Promise(function($,ie){fe=$,K=ie}),Z=[],X=0;X<arguments.length;X++)Z.push(arguments[X]);Z.push(function($,ie){$?K($):fe(ie)});try{ee.apply(this,Z)}catch($){K($)}return W}return Object.setPrototypeOf(ae,Object.getPrototypeOf(ee)),F&&Object.defineProperty(ae,F,{value:ae,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ae,P(ee))},U.promisify.custom=F;function B(Q,ee){if(!Q){var ae=new Error("Promise was rejected with a falsy value");ae.reason=Q,Q=ae}return ee(Q)}function G(Q){if(typeof Q!="function")throw new TypeError('The "original" argument must be of type Function');function ee(){for(var ae=[],fe=0;fe<arguments.length;fe++)ae.push(arguments[fe]);var K=ae.pop();if(typeof K!="function")throw new TypeError("The last argument must be of type Function");var W=this,Z=function(){return K.apply(W,arguments)};Q.apply(this,ae).then(function(X){g.nextTick(Z.bind(null,null,X))},function(X){g.nextTick(B.bind(null,X,Z))})}return Object.setPrototypeOf(ee,Object.getPrototypeOf(Q)),Object.defineProperties(ee,P(Q)),ee}U.callbackify=G},40372:function(H,U,e){var g=e(86249);H.exports=function(a){return g("webgl",a)}},21099:function(H,U,e){var g=e(31353),P=e(72077),a=e(6614),L=e(40383),T=a("Object.prototype.toString"),v=e(84543)(),d=typeof globalThis>"u"?e.g:globalThis,t=P(),r=a("String.prototype.slice"),u={},n=Object.getPrototypeOf;v&&L&&n&&g(t,function(l){if(typeof d[l]=="function"){var x=new d[l];if(Symbol.toStringTag in x){var c=n(x),b=L(c,Symbol.toStringTag);if(!b){var h=n(c);b=L(h,Symbol.toStringTag)}u[l]=b.get}}});var s=function(x){var c=!1;return g(u,function(b,h){if(!c)try{var o=b.call(x);o===h&&(c=o)}catch{}}),c},f=e(9187);H.exports=function(x){return f(x)?!v||!(Symbol.toStringTag in x)?r(T(x),8,-1):s(x):!1}},3961:function(H,U,e){var g=e(63489),P=e(56131),a=g.instance();function L(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}L.prototype=new g.baseCalendar,P(L.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(f,l){if(typeof f=="string"){var x=f.match(v);return x?x[0]:""}var c=this._validateYear(f),b=f.month(),h=""+this.toChineseMonth(c,b);return l&&h.length<2&&(h="0"+h),this.isIntercalaryMonth(c,b)&&(h+="i"),h},monthNames:function(f){if(typeof f=="string"){var l=f.match(d);return l?l[0]:""}var x=this._validateYear(f),c=f.month(),b=this.toChineseMonth(x,c),h=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][b-1];return this.isIntercalaryMonth(x,c)&&(h="闰"+h),h},monthNamesShort:function(f){if(typeof f=="string"){var l=f.match(t);return l?l[0]:""}var x=this._validateYear(f),c=f.month(),b=this.toChineseMonth(x,c),h=["一","二","三","四","五","六","七","八","九","十","十一","十二"][b-1];return this.isIntercalaryMonth(x,c)&&(h="闰"+h),h},parseMonth:function(f,l){f=this._validateYear(f);var x=parseInt(l),c;if(isNaN(x))l[0]==="闰"&&(c=!0,l=l.substring(1)),l[l.length-1]==="月"&&(l=l.substring(0,l.length-1)),x=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(l);else{var b=l[l.length-1];c=b==="i"||b==="I"}var h=this.toMonthIndex(f,x,c);return h},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(f,l){if(f.year&&(f=f.year()),typeof f!="number"||f<1888||f>2111)throw l.replace(/\{0\}/,this.local.name);return f},toMonthIndex:function(f,l,x){var c=this.intercalaryMonth(f),b=x&&l!==c;if(b||l<1||l>12)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var h;return c?!x&&l<=c?h=l-1:h=l:h=l-1,h},toChineseMonth:function(f,l){f.year&&(f=f.year(),l=f.month());var x=this.intercalaryMonth(f),c=x?12:11;if(l<0||l>c)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var b;return x?l<x?b=l+1:b=l:b=l+1,b},intercalaryMonth:function(f){f=this._validateYear(f);var l=r[f-r[0]],x=l>>13;return x},isIntercalaryMonth:function(f,l){f.year&&(f=f.year(),l=f.month());var x=this.intercalaryMonth(f);return!!x&&x===l},leapYear:function(f){return this.intercalaryMonth(f)!==0},weekOfYear:function(f,l,x){var c=this._validateYear(f,g.local.invalidyear),b=u[c-u[0]],h=b>>9&4095,o=b>>5&15,p=b&31,S;S=a.newDate(h,o,p),S.add(4-(S.dayOfWeek()||7),"d");var A=this.toJD(f,l,x)-S.toJD();return 1+Math.floor(A/7)},monthsInYear:function(f){return this.leapYear(f)?13:12},daysInMonth:function(f,l){f.year&&(l=f.month(),f=f.year()),f=this._validateYear(f);var x=r[f-r[0]],c=x>>13,b=c?12:11;if(l>b)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var h=x&1<<12-l?30:29;return h},weekDay:function(f,l,x){return(this.dayOfWeek(f,l,x)||7)<6},toJD:function(f,l,x){var c=this._validate(f,h,x,g.local.invalidDate);f=this._validateYear(c.year()),l=c.month(),x=c.day();var b=this.isIntercalaryMonth(f,l),h=this.toChineseMonth(f,l),o=s(f,h,x,b);return a.toJD(o.year,o.month,o.day)},fromJD:function(f){var l=a.fromJD(f),x=n(l.year(),l.month(),l.day()),c=this.toMonthIndex(x.year,x.month,x.isIntercalary);return this.newDate(x.year,c,x.day)},fromString:function(f){var l=f.match(T),x=this._validateYear(+l[1]),c=+l[2],b=!!l[3],h=this.toMonthIndex(x,c,b),o=+l[4];return this.newDate(x,h,o)},add:function(f,l,x){var c=f.year(),b=f.month(),h=this.isIntercalaryMonth(c,b),o=this.toChineseMonth(c,b),p=Object.getPrototypeOf(L.prototype).add.call(this,f,l,x);if(x==="y"){var S=p.year(),A=p.month(),E=this.isIntercalaryMonth(S,o),m=h&&E?this.toMonthIndex(S,o,!0):this.toMonthIndex(S,o,!1);m!==A&&p.month(m)}return p}});var T=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,v=/^\d?\d[iI]?/m,d=/^闰?十?[一二三四五六七八九]?月/m,t=/^闰?十?[一二三四五六七八九]?/m;g.calendars.chinese=L;var r=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],u=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function n(f,l,x,c){var b,h;if(typeof f=="object")b=f,h=l||{};else{var o=typeof f=="number"&&f>=1888&&f<=2111;if(!o)throw new Error("Solar year outside range 1888-2111");var p=typeof l=="number"&&l>=1&&l<=12;if(!p)throw new Error("Solar month outside range 1 - 12");var S=typeof x=="number"&&x>=1&&x<=31;if(!S)throw new Error("Solar day outside range 1 - 31");b={year:f,month:l,day:x},h=c||{}}var A=u[b.year-u[0]],E=b.year<<9|b.month<<5|b.day;h.year=E>=A?b.year:b.year-1,A=u[h.year-u[0]];var m=A>>9&4095,M=A>>5&15,w=A&31,i,C=new Date(m,M-1,w),y=new Date(b.year,b.month-1,b.day);i=Math.round((y-C)/864e5);var _=r[h.year-r[0]],I;for(I=0;I<13;I++){var N=_&1<<12-I?30:29;if(i<N)break;i-=N}var k=_>>13;return!k||I<k?(h.isIntercalary=!1,h.month=1+I):I===k?(h.isIntercalary=!0,h.month=I):(h.isIntercalary=!1,h.month=I),h.day=1+i,h}function s(f,l,x,c,b){var h,o;if(typeof f=="object")o=f,h=l||{};else{var p=typeof f=="number"&&f>=1888&&f<=2111;if(!p)throw new Error("Lunar year outside range 1888-2111");var S=typeof l=="number"&&l>=1&&l<=12;if(!S)throw new Error("Lunar month outside range 1 - 12");var A=typeof x=="number"&&x>=1&&x<=30;if(!A)throw new Error("Lunar day outside range 1 - 30");var E;typeof c=="object"?(E=!1,h=c):(E=!!c,h=b||{}),o={year:f,month:l,day:x,isIntercalary:E}}var m;m=o.day-1;var M=r[o.year-r[0]],w=M>>13,i;w&&(o.month>w||o.isIntercalary)?i=o.month:i=o.month-1;for(var C=0;C<i;C++){var y=M&1<<12-C?30:29;m+=y}var _=u[o.year-u[0]],I=_>>9&4095,N=_>>5&15,k=_&31,O=new Date(I,N-1,k+m);return h.year=O.getFullYear(),h.month=1+O.getMonth(),h.day=O.getDate(),h}},38751:function(H,U,e){var g=e(63489),P=e(56131);function a(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var T=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=T.year()+(T.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(L){return this._validate(L,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),13},weekOfYear:function(L,T,v){var d=this.newDate(L,T,v);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(L,T){var v=this._validate(L,T,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(L,T,v){return(this.dayOfWeek(L,T,v)||7)<6},toJD:function(L,T,v){var d=this._validate(L,T,v,g.local.invalidDate);return L=d.year(),L<0&&L++,d.day()+(d.month()-1)*30+(L-1)*365+Math.floor(L/4)+this.jdEpoch-1},fromJD:function(L){var T=Math.floor(L)+.5-this.jdEpoch,v=Math.floor((T-Math.floor((T+366)/1461))/365)+1;v<=0&&v--,T=Math.floor(L)+.5-this.newDate(v,1,1).toJD();var d=Math.floor(T/30)+1,t=T-(d-1)*30+1;return this.newDate(v,d,t)}}),g.calendars.coptic=a},86825:function(H,U,e){var g=e(63489),P=e(56131);function a(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(T){return this._validate(T,this.minMonth,this.minDay,g.local.invalidYear),!1},monthsInYear:function(T){return this._validate(T,this.minMonth,this.minDay,g.local.invalidYear),13},daysInYear:function(T){return this._validate(T,this.minMonth,this.minDay,g.local.invalidYear),400},weekOfYear:function(T,v,d){var t=this.newDate(T,v,d);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/8)+1},daysInMonth:function(T,v){var d=this._validate(T,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[d.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(T,v,d){var t=this._validate(T,v,d,g.local.invalidDate);return(t.day()+1)%8},weekDay:function(T,v,d){var t=this.dayOfWeek(T,v,d);return t>=2&&t<=6},extraInfo:function(T,v,d){var t=this._validate(T,v,d,g.local.invalidDate);return{century:L[Math.floor((t.year()-1)/100)+1]||""}},toJD:function(T,v,d){var t=this._validate(T,v,d,g.local.invalidDate);return T=t.year()+(t.year()<0?1:0),v=t.month(),d=t.day(),d+(v>1?16:0)+(v>2?(v-2)*32:0)+(T-1)*400+this.jdEpoch-1},fromJD:function(T){T=Math.floor(T+.5)-Math.floor(this.jdEpoch)-1;var v=Math.floor(T/400)+1;T-=(v-1)*400,T+=T>15?16:0;var d=Math.floor(T/32)+1,t=T-(d-1)*32+1;return this.newDate(v<=0?v-1:v,d,t)}});var L={20:"Fruitbat",21:"Anchovy"};g.calendars.discworld=a},37715:function(H,U,e){var g=e(63489),P=e(56131);function a(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var T=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=T.year()+(T.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(L){return this._validate(L,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),13},weekOfYear:function(L,T,v){var d=this.newDate(L,T,v);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(L,T){var v=this._validate(L,T,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(L,T,v){return(this.dayOfWeek(L,T,v)||7)<6},toJD:function(L,T,v){var d=this._validate(L,T,v,g.local.invalidDate);return L=d.year(),L<0&&L++,d.day()+(d.month()-1)*30+(L-1)*365+Math.floor(L/4)+this.jdEpoch-1},fromJD:function(L){var T=Math.floor(L)+.5-this.jdEpoch,v=Math.floor((T-Math.floor((T+366)/1461))/365)+1;v<=0&&v--,T=Math.floor(L)+.5-this.newDate(v,1,1).toJD();var d=Math.floor(T/30)+1,t=T-(d-1)*30+1;return this.newDate(v,d,t)}}),g.calendars.ethiopian=a},99384:function(H,U,e){var g=e(63489),P=e(56131);function a(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(T){var v=this._validate(T,this.minMonth,this.minDay,g.local.invalidYear);return this._leapYear(v.year())},_leapYear:function(T){return T=T<0?T+1:T,L(T*7+1,19)<7},monthsInYear:function(T){return this._validate(T,this.minMonth,this.minDay,g.local.invalidYear),this._leapYear(T.year?T.year():T)?13:12},weekOfYear:function(T,v,d){var t=this.newDate(T,v,d);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(T){var v=this._validate(T,this.minMonth,this.minDay,g.local.invalidYear);return T=v.year(),this.toJD(T===-1?1:T+1,7,1)-this.toJD(T,7,1)},daysInMonth:function(T,v){return T.year&&(v=T.month(),T=T.year()),this._validate(T,v,this.minDay,g.local.invalidMonth),v===12&&this.leapYear(T)||v===8&&L(this.daysInYear(T),10)===5?30:v===9&&L(this.daysInYear(T),10)===3?29:this.daysPerMonth[v-1]},weekDay:function(T,v,d){return this.dayOfWeek(T,v,d)!==6},extraInfo:function(T,v,d){var t=this._validate(T,v,d,g.local.invalidDate);return{yearType:(this.leapYear(t)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(t)%10-3]}},toJD:function(T,v,d){var t=this._validate(T,v,d,g.local.invalidDate);T=t.year(),v=t.month(),d=t.day();var r=T<=0?T+1:T,u=this.jdEpoch+this._delay1(r)+this._delay2(r)+d+1;if(v<7){for(var n=7;n<=this.monthsInYear(T);n++)u+=this.daysInMonth(T,n);for(var n=1;n<v;n++)u+=this.daysInMonth(T,n)}else for(var n=7;n<v;n++)u+=this.daysInMonth(T,n);return u},_delay1:function(T){var v=Math.floor((235*T-234)/19),d=12084+13753*v,t=v*29+Math.floor(d/25920);return L(3*(t+1),7)<3&&t++,t},_delay2:function(T){var v=this._delay1(T-1),d=this._delay1(T),t=this._delay1(T+1);return t-d===356?2:d-v===382?1:0},fromJD:function(T){T=Math.floor(T)+.5;for(var v=Math.floor((T-this.jdEpoch)*98496/35975351)-1;T>=this.toJD(v===-1?1:v+1,7,1);)v++;for(var d=T<this.toJD(v,1,1)?7:1;T>this.toJD(v,d,this.daysInMonth(v,d));)d++;var t=T-this.toJD(v,d,1)+1;return this.newDate(v,d,t)}});function L(T,v){return T-v*Math.floor(T/v)}g.calendars.hebrew=a},43805:function(H,U,e){var g=e(63489),P=e(56131);function a(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(L){var T=this._validate(L,this.minMonth,this.minDay,g.local.invalidYear);return(T.year()*11+14)%30<11},weekOfYear:function(L,T,v){var d=this.newDate(L,T,v);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInYear:function(L){return this.leapYear(L)?355:354},daysInMonth:function(L,T){var v=this._validate(L,T,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===12&&this.leapYear(v.year())?1:0)},weekDay:function(L,T,v){return this.dayOfWeek(L,T,v)!==5},toJD:function(L,T,v){var d=this._validate(L,T,v,g.local.invalidDate);return L=d.year(),T=d.month(),v=d.day(),L=L<=0?L+1:L,v+Math.ceil(29.5*(T-1))+(L-1)*354+Math.floor((3+11*L)/30)+this.jdEpoch-1},fromJD:function(L){L=Math.floor(L)+.5;var T=Math.floor((30*(L-this.jdEpoch)+10646)/10631);T=T<=0?T-1:T;var v=Math.min(12,Math.ceil((L-29-this.toJD(T,1,1))/29.5)+1),d=L-this.toJD(T,v,1)+1;return this.newDate(T,v,d)}}),g.calendars.islamic=a},88874:function(H,U,e){var g=e(63489),P=e(56131);function a(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var T=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=T.year()<0?T.year()+1:T.year();return v%4===0},weekOfYear:function(L,T,v){var d=this.newDate(L,T,v);return d.add(4-(d.dayOfWeek()||7),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(L,T){var v=this._validate(L,T,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===2&&this.leapYear(v.year())?1:0)},weekDay:function(L,T,v){return(this.dayOfWeek(L,T,v)||7)<6},toJD:function(L,T,v){var d=this._validate(L,T,v,g.local.invalidDate);return L=d.year(),T=d.month(),v=d.day(),L<0&&L++,T<=2&&(L--,T+=12),Math.floor(365.25*(L+4716))+Math.floor(30.6001*(T+1))+v-1524.5},fromJD:function(L){var T=Math.floor(L+.5),v=T+1524,d=Math.floor((v-122.1)/365.25),t=Math.floor(365.25*d),r=Math.floor((v-t)/30.6001),u=r-Math.floor(r<14?1:13),n=d-Math.floor(u>2?4716:4715),s=v-t-Math.floor(30.6001*r);return n<=0&&n--,this.newDate(n,u,s)}}),g.calendars.julian=a},83290:function(H,U,e){var g=e(63489),P=e(56131);function a(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),!1},formatYear:function(v){var d=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear);v=d.year();var t=Math.floor(v/400);v=v%400,v+=v<0?400:0;var r=Math.floor(v/20);return t+"."+r+"."+v%20},forYear:function(v){if(v=v.split("."),v.length<3)throw"Invalid Mayan year";for(var d=0,t=0;t<v.length;t++){var r=parseInt(v[t],10);if(Math.abs(r)>19||t>0&&r<0)throw"Invalid Mayan year";d=d*20+r}return d},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),18},weekOfYear:function(v,d,t){return this._validate(v,d,t,g.local.invalidDate),0},daysInYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),360},daysInMonth:function(v,d){return this._validate(v,d,this.minDay,g.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(v,d,t){var r=this._validate(v,d,t,g.local.invalidDate);return r.day()},weekDay:function(v,d,t){return this._validate(v,d,t,g.local.invalidDate),!0},extraInfo:function(v,d,t){var r=this._validate(v,d,t,g.local.invalidDate),u=r.toJD(),n=this._toHaab(u),s=this._toTzolkin(u);return{haabMonthName:this.local.haabMonths[n[0]-1],haabMonth:n[0],haabDay:n[1],tzolkinDayName:this.local.tzolkinMonths[s[0]-1],tzolkinDay:s[0],tzolkinTrecena:s[1]}},_toHaab:function(v){v-=this.jdEpoch;var d=L(v+8+(18-1)*20,365);return[Math.floor(d/20)+1,L(d,20)]},_toTzolkin:function(v){return v-=this.jdEpoch,[T(v+20,20),T(v+4,13)]},toJD:function(v,d,t){var r=this._validate(v,d,t,g.local.invalidDate);return r.day()+r.month()*20+r.year()*360+this.jdEpoch},fromJD:function(v){v=Math.floor(v)+.5-this.jdEpoch;var d=Math.floor(v/360);v=v%360,v+=v<0?360:0;var t=Math.floor(v/20),r=v%20;return this.newDate(d,t,r)}});function L(v,d){return v-d*Math.floor(v/d)}function T(v,d){return L(v-1,d)+1}g.calendars.mayan=a},29108:function(H,U,e){var g=e(63489),P=e(56131);function a(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar;var L=g.instance("gregorian");P(a.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(T){var v=this._validate(T,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return L.leapYear(v.year()+(v.year()<1?1:0)+1469)},weekOfYear:function(T,v,d){var t=this.newDate(T,v,d);return t.add(1-(t.dayOfWeek()||7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(T,v){var d=this._validate(T,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===12&&this.leapYear(d.year())?1:0)},weekDay:function(T,v,d){return(this.dayOfWeek(T,v,d)||7)<6},toJD:function(r,v,d){var t=this._validate(r,v,d,g.local.invalidMonth),r=t.year();r<0&&r++;for(var u=t.day(),n=1;n<t.month();n++)u+=this.daysPerMonth[n-1];return u+L.toJD(r+1468,3,13)},fromJD:function(T){T=Math.floor(T+.5);for(var v=Math.floor((T-(this.jdEpoch-1))/366);T>=this.toJD(v+1,1,1);)v++;for(var d=T-Math.floor(this.toJD(v,1,1)+.5)+1,t=1;d>this.daysInMonth(v,t);)d-=this.daysInMonth(v,t),t++;return this.newDate(v,t,d)}}),g.calendars.nanakshahi=a},55422:function(H,U,e){var g=e(63489),P=e(56131);function a(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(L){return this.daysInYear(L)!==this.daysPerYear},weekOfYear:function(L,T,v){var d=this.newDate(L,T,v);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInYear:function(L){var T=this._validate(L,this.minMonth,this.minDay,g.local.invalidYear);if(L=T.year(),typeof this.NEPALI_CALENDAR_DATA[L]>"u")return this.daysPerYear;for(var v=0,d=this.minMonth;d<=12;d++)v+=this.NEPALI_CALENDAR_DATA[L][d];return v},daysInMonth:function(L,T){return L.year&&(T=L.month(),L=L.year()),this._validate(L,T,this.minDay,g.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[L]>"u"?this.daysPerMonth[T-1]:this.NEPALI_CALENDAR_DATA[L][T]},weekDay:function(L,T,v){return this.dayOfWeek(L,T,v)!==6},toJD:function(L,T,v){var d=this._validate(L,T,v,g.local.invalidDate);L=d.year(),T=d.month(),v=d.day();var t=g.instance(),r=0,u=T,n=L;this._createMissingCalendarData(L);var s=L-(u>9||u===9&&v>=this.NEPALI_CALENDAR_DATA[n][0]?56:57);for(T!==9&&(r=v,u--);u!==9;)u<=0&&(u=12,n--),r+=this.NEPALI_CALENDAR_DATA[n][u],u--;return T===9?(r+=v-this.NEPALI_CALENDAR_DATA[n][0],r<0&&(r+=t.daysInYear(s))):r+=this.NEPALI_CALENDAR_DATA[n][9]-this.NEPALI_CALENDAR_DATA[n][0],t.newDate(s,1,1).add(r,"d").toJD()},fromJD:function(L){var T=g.instance(),v=T.fromJD(L),d=v.year(),t=v.dayOfYear(),r=d+56;this._createMissingCalendarData(r);for(var u=9,n=this.NEPALI_CALENDAR_DATA[r][0],s=this.NEPALI_CALENDAR_DATA[r][u]-n+1;t>s;)u++,u>12&&(u=1,r++),s+=this.NEPALI_CALENDAR_DATA[r][u];var f=this.NEPALI_CALENDAR_DATA[r][u]-(s-t);return this.newDate(r,u,f)},_createMissingCalendarData:function(L){var T=this.daysPerMonth.slice(0);T.unshift(17);for(var v=L-1;v<L+2;v++)typeof this.NEPALI_CALENDAR_DATA[v]>"u"&&(this.NEPALI_CALENDAR_DATA[v]=T)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),g.calendars.nepali=a},94320:function(H,U,e){var g=e(63489),P=e(56131);function a(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chæharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Chæ","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(T){var v=this._validate(T,this.minMonth,this.minDay,g.local.invalidYear);return((v.year()-(v.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(T,v,d){var t=this.newDate(T,v,d);return t.add(-((t.dayOfWeek()+1)%7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(T,v){var d=this._validate(T,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===12&&this.leapYear(d.year())?1:0)},weekDay:function(T,v,d){return this.dayOfWeek(T,v,d)!==5},toJD:function(T,v,d){var t=this._validate(T,v,d,g.local.invalidDate);T=t.year(),v=t.month(),d=t.day();var r=T-(T>=0?474:473),u=474+L(r,2820);return d+(v<=7?(v-1)*31:(v-1)*30+6)+Math.floor((u*682-110)/2816)+(u-1)*365+Math.floor(r/2820)*1029983+this.jdEpoch-1},fromJD:function(T){T=Math.floor(T)+.5;var v=T-this.toJD(475,1,1),d=Math.floor(v/1029983),t=L(v,1029983),r=2820;if(t!==1029982){var u=Math.floor(t/366),n=L(t,366);r=Math.floor((2134*u+2816*n+2815)/1028522)+u+1}var s=r+2820*d+474;s=s<=0?s-1:s;var f=T-this.toJD(s,1,1)+1,l=f<=186?Math.ceil(f/31):Math.ceil((f-6)/30),x=T-this.toJD(s,l,1)+1;return this.newDate(s,l,x)}});function L(T,v){return T-v*Math.floor(T/v)}g.calendars.persian=a,g.calendars.jalali=a},31320:function(H,U,e){var g=e(63489),P=e(56131),a=g.instance();function L(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}L.prototype=new g.baseCalendar,P(L.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(d){var v=this._validate(d,this.minMonth,this.minDay,g.local.invalidYear),d=this._t2gYear(v.year());return a.leapYear(d)},weekOfYear:function(r,v,d){var t=this._validate(r,this.minMonth,this.minDay,g.local.invalidYear),r=this._t2gYear(t.year());return a.weekOfYear(r,t.month(),t.day())},daysInMonth:function(T,v){var d=this._validate(T,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===2&&this.leapYear(d.year())?1:0)},weekDay:function(T,v,d){return(this.dayOfWeek(T,v,d)||7)<6},toJD:function(r,v,d){var t=this._validate(r,v,d,g.local.invalidDate),r=this._t2gYear(t.year());return a.toJD(r,t.month(),t.day())},fromJD:function(T){var v=a.fromJD(T),d=this._g2tYear(v.year());return this.newDate(d,v.month(),v.day())},_t2gYear:function(T){return T+this.yearsOffset+(T>=-this.yearsOffset&&T<=-1?1:0)},_g2tYear:function(T){return T-this.yearsOffset-(T>=1&&T<=this.yearsOffset?1:0)}}),g.calendars.taiwan=L},51367:function(H,U,e){var g=e(63489),P=e(56131),a=g.instance();function L(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}L.prototype=new g.baseCalendar,P(L.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(d){var v=this._validate(d,this.minMonth,this.minDay,g.local.invalidYear),d=this._t2gYear(v.year());return a.leapYear(d)},weekOfYear:function(r,v,d){var t=this._validate(r,this.minMonth,this.minDay,g.local.invalidYear),r=this._t2gYear(t.year());return a.weekOfYear(r,t.month(),t.day())},daysInMonth:function(T,v){var d=this._validate(T,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===2&&this.leapYear(d.year())?1:0)},weekDay:function(T,v,d){return(this.dayOfWeek(T,v,d)||7)<6},toJD:function(r,v,d){var t=this._validate(r,v,d,g.local.invalidDate),r=this._t2gYear(t.year());return a.toJD(r,t.month(),t.day())},fromJD:function(T){var v=a.fromJD(T),d=this._g2tYear(v.year());return this.newDate(d,v.month(),v.day())},_t2gYear:function(T){return T-this.yearsOffset-(T>=1&&T<=this.yearsOffset?1:0)},_g2tYear:function(T){return T+this.yearsOffset+(T>=-this.yearsOffset&&T<=-1?1:0)}}),g.calendars.thai=L},21457:function(H,U,e){var g=e(63489),P=e(56131);function a(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(T){var v=this._validate(T,this.minMonth,this.minDay,g.local.invalidYear);return this.daysInYear(v.year())===355},weekOfYear:function(T,v,d){var t=this.newDate(T,v,d);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(T){for(var v=0,d=1;d<=12;d++)v+=this.daysInMonth(T,d);return v},daysInMonth:function(T,v){for(var d=this._validate(T,v,this.minDay,g.local.invalidMonth),t=d.toJD()-24e5+.5,r=0,u=0;u<L.length;u++){if(L[u]>t)return L[r]-L[r-1];r++}return 30},weekDay:function(T,v,d){return this.dayOfWeek(T,v,d)!==5},toJD:function(T,v,d){var t=this._validate(T,v,d,g.local.invalidDate),r=12*(t.year()-1)+t.month()-15292,u=t.day()+L[r-1]-1;return u+24e5-.5},fromJD:function(T){for(var v=T-24e5+.5,d=0,t=0;t<L.length&&!(L[t]>v);t++)d++;var r=d+15292,u=Math.floor((r-1)/12),n=u+1,s=r-12*u,f=v-L[d-1]+1;return this.newDate(n,s,f)},isValid:function(T,v,d){var t=g.baseCalendar.prototype.isValid.apply(this,arguments);return t&&(T=T.year!=null?T.year:T,t=T>=1276&&T<=1500),t},_validate:function(T,v,d,t){var r=g.baseCalendar.prototype._validate.apply(this,arguments);if(r.year<1276||r.year>1500)throw t.replace(/\{0\}/,this.local.name);return r}}),g.calendars.ummalqura=a;var L=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},63489:function(H,U,e){var g=e(56131);function P(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}g(P.prototype,{instance:function(t,r){t=(t||"gregorian").toLowerCase(),r=r||"";var u=this._localCals[t+"-"+r];if(!u&&this.calendars[t]&&(u=new this.calendars[t](r),this._localCals[t+"-"+r]=u),!u)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,t);return u},newDate:function(t,r,u,n,s){return n=(t!=null&&t.year?t.calendar():typeof n=="string"?this.instance(n,s):n)||this.instance(),n.newDate(t,r,u)},substituteDigits:function(t){return function(r){return(r+"").replace(/[0-9]/g,function(u){return t[u]})}},substituteChineseDigits:function(t,r){return function(u){for(var n="",s=0;u>0;){var f=u%10;n=(f===0?"":t[f]+r[s])+n,s++,u=Math.floor(u/10)}return n.indexOf(t[1]+r[1])===0&&(n=n.substr(1)),n||t[0]}}});function a(t,r,u,n){if(this._calendar=t,this._year=r,this._month=u,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(d.local.invalidDate||d.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function L(t,r){return t=""+t,"000000".substring(0,r-t.length)+t}g(a.prototype,{newDate:function(t,r,u){return this._calendar.newDate(t??this,r,u)},year:function(t){return arguments.length===0?this._year:this.set(t,"y")},month:function(t){return arguments.length===0?this._month:this.set(t,"m")},day:function(t){return arguments.length===0?this._day:this.set(t,"d")},date:function(t,r,u){if(!this._calendar.isValid(t,r,u))throw(d.local.invalidDate||d.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=t,this._month=r,this._day=u,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(t,r){return this._calendar.add(this,t,r)},set:function(t,r){return this._calendar.set(this,t,r)},compareTo:function(t){if(this._calendar.name!==t._calendar.name)throw(d.local.differentCalendars||d.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,t._calendar.local.name);var r=this._year!==t._year?this._year-t._year:this._month!==t._month?this.monthOfYear()-t.monthOfYear():this._day-t._day;return r===0?0:r<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(t){return this._calendar.fromJD(t)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(t){return this._calendar.fromJSDate(t)},toString:function(){return(this.year()<0?"-":"")+L(Math.abs(this.year()),4)+"-"+L(this.month(),2)+"-"+L(this.day(),2)}});function T(){this.shortYearCutoff="+10"}g(T.prototype,{_validateLevel:0,newDate:function(t,r,u){return t==null?this.today():(t.year&&(this._validate(t,r,u,d.local.invalidDate||d.regionalOptions[""].invalidDate),u=t.day(),r=t.month(),t=t.year()),new a(this,t,r,u))},today:function(){return this.fromJSDate(new Date)},epoch:function(t){var r=this._validate(t,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return r.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return(r.year()<0?"-":"")+L(Math.abs(r.year()),4)},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear),12},monthOfYear:function(t,r){var u=this._validate(t,r,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth);return(u.month()+this.monthsInYear(u)-this.firstMonth)%this.monthsInYear(u)+this.minMonth},fromMonthOfYear:function(t,r){var u=(r+this.firstMonth-2*this.minMonth)%this.monthsInYear(t)+this.minMonth;return this._validate(t,u,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth),u},daysInYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return this.leapYear(r)?366:365},dayOfYear:function(t,r,u){var n=this._validate(t,r,u,d.local.invalidDate||d.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(t,r,u){var n=this._validate(t,r,u,d.local.invalidDate||d.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(t,r,u){return this._validate(t,r,u,d.local.invalidDate||d.regionalOptions[""].invalidDate),{}},add:function(t,r,u){return this._validate(t,this.minMonth,this.minDay,d.local.invalidDate||d.regionalOptions[""].invalidDate),this._correctAdd(t,this._add(t,r,u),r,u)},_add:function(t,r,u){if(this._validateLevel++,u==="d"||u==="w"){var n=t.toJD()+r*(u==="w"?this.daysInWeek():1),s=t.calendar().fromJD(n);return this._validateLevel--,[s.year(),s.month(),s.day()]}try{var f=t.year()+(u==="y"?r:0),l=t.monthOfYear()+(u==="m"?r:0),s=t.day(),x=function(h){for(;l<h.minMonth;)f--,l+=h.monthsInYear(f);for(var o=h.monthsInYear(f);l>o-1+h.minMonth;)f++,l-=o,o=h.monthsInYear(f)};u==="y"?(t.month()!==this.fromMonthOfYear(f,l)&&(l=this.newDate(f,t.month(),this.minDay).monthOfYear()),l=Math.min(l,this.monthsInYear(f)),s=Math.min(s,this.daysInMonth(f,this.fromMonthOfYear(f,l)))):u==="m"&&(x(this),s=Math.min(s,this.daysInMonth(f,this.fromMonthOfYear(f,l))));var c=[f,this.fromMonthOfYear(f,l),s];return this._validateLevel--,c}catch(b){throw this._validateLevel--,b}},_correctAdd:function(t,r,u,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(r[0]===0||t.year()>0!=r[0]>0)){var s={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],f=u<0?-1:1;r=this._add(t,u*s[0]+f*s[1],s[2])}return t.date(r[0],r[1],r[2])},set:function(t,r,u){this._validate(t,this.minMonth,this.minDay,d.local.invalidDate||d.regionalOptions[""].invalidDate);var n=u==="y"?r:t.year(),s=u==="m"?r:t.month(),f=u==="d"?r:t.day();return(u==="y"||u==="m")&&(f=Math.min(f,this.daysInMonth(n,s))),t.date(n,s,f)},isValid:function(t,r,u){this._validateLevel++;var n=this.hasYearZero||t!==0;if(n){var s=this.newDate(t,r,this.minDay);n=r>=this.minMonth&&r-this.minMonth<this.monthsInYear(s)&&u>=this.minDay&&u-this.minDay<this.daysInMonth(s)}return this._validateLevel--,n},toJSDate:function(t,r,u){var n=this._validate(t,r,u,d.local.invalidDate||d.regionalOptions[""].invalidDate);return d.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(t){return this.fromJD(d.instance().fromJSDate(t).toJD())},_validate:function(t,r,u,n){if(t.year){if(this._validateLevel===0&&this.name!==t.calendar().name)throw(d.local.differentCalendars||d.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,t.calendar().local.name);return t}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(t,r,u))throw n.replace(/\{0\}/,this.local.name);var s=this.newDate(t,r,u);return this._validateLevel--,s}catch(f){throw this._validateLevel--,f}}});function v(t){this.local=this.regionalOptions[t]||this.regionalOptions[""]}v.prototype=new T,g(v.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(u){var r=this._validate(u,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear),u=r.year()+(r.year()<0?1:0);return u%4===0&&(u%100!==0||u%400===0)},weekOfYear:function(t,r,u){var n=this.newDate(t,r,u);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(t,r){var u=this._validate(t,r,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth);return this.daysPerMonth[u.month()-1]+(u.month()===2&&this.leapYear(u.year())?1:0)},weekDay:function(t,r,u){return(this.dayOfWeek(t,r,u)||7)<6},toJD:function(t,r,u){var n=this._validate(t,r,u,d.local.invalidDate||d.regionalOptions[""].invalidDate);t=n.year(),r=n.month(),u=n.day(),t<0&&t++,r<3&&(r+=12,t--);var s=Math.floor(t/100),f=2-s+Math.floor(s/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(r+1))+u+f-1524.5},fromJD:function(t){var r=Math.floor(t+.5),u=Math.floor((r-186721625e-2)/36524.25);u=r+1+u-Math.floor(u/4);var n=u+1524,s=Math.floor((n-122.1)/365.25),f=Math.floor(365.25*s),l=Math.floor((n-f)/30.6001),x=n-f-Math.floor(l*30.6001),c=l-(l>13.5?13:1),b=s-(c>2.5?4716:4715);return b<=0&&b--,this.newDate(b,c,x)},toJSDate:function(t,r,u){var n=this._validate(t,r,u,d.local.invalidDate||d.regionalOptions[""].invalidDate),s=new Date(n.year(),n.month()-1,n.day());return s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0),s.setHours(s.getHours()>12?s.getHours()+2:0),s},fromJSDate:function(t){return this.newDate(t.getFullYear(),t.getMonth()+1,t.getDate())}});var d=H.exports=new P;d.cdate=a,d.baseCalendar=T,d.calendars.gregorian=v},94338:function(H,U,e){var g=e(56131),P=e(63489);g(P.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),P.local=P.regionalOptions[""],g(P.cdate.prototype,{formatDate:function(a,L){return typeof a!="string"&&(L=a,a=""),this._calendar.formatDate(a||"",this,L)}}),g(P.baseCalendar.prototype,{UNIX_EPOCH:P.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:P.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(a,L,T){if(typeof a!="string"&&(T=L,L=a,a=""),!L)return"";if(L.calendar()!==this)throw P.local.invalidFormat||P.regionalOptions[""].invalidFormat;a=a||this.local.dateFormat,T=T||{};var v=T.dayNamesShort||this.local.dayNamesShort,d=T.dayNames||this.local.dayNames,t=T.monthNumbers||this.local.monthNumbers,r=T.monthNamesShort||this.local.monthNamesShort,u=T.monthNames||this.local.monthNames;T.calculateWeek||this.local.calculateWeek;for(var n=function(A,E){for(var m=1;S+m<a.length&&a.charAt(S+m)===A;)m++;return S+=m-1,Math.floor(m/(E||1))>1},s=function(A,E,m,M){var w=""+E;if(n(A,M))for(;w.length<m;)w="0"+w;return w},f=function(A,E,m,M){return n(A)?M[E]:m[E]},l=this,x=function(A){return typeof t=="function"?t.call(l,A,n("m")):h(s("m",A.month(),2))},c=function(A,E){return E?typeof u=="function"?u.call(l,A):u[A.month()-l.minMonth]:typeof r=="function"?r.call(l,A):r[A.month()-l.minMonth]},b=this.local.digits,h=function(A){return T.localNumbers&&b?b(A):A},o="",p=!1,S=0;S<a.length;S++)if(p)a.charAt(S)==="'"&&!n("'")?p=!1:o+=a.charAt(S);else switch(a.charAt(S)){case"d":o+=h(s("d",L.day(),2));break;case"D":o+=f("D",L.dayOfWeek(),v,d);break;case"o":o+=s("o",L.dayOfYear(),3);break;case"w":o+=s("w",L.weekOfYear(),2);break;case"m":o+=x(L);break;case"M":o+=c(L,n("M"));break;case"y":o+=n("y",2)?L.year():(L.year()%100<10?"0":"")+L.year()%100;break;case"Y":n("Y",2),o+=L.formatYear();break;case"J":o+=L.toJD();break;case"@":o+=(L.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":o+=(L.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":n("'")?o+="'":p=!0;break;default:o+=a.charAt(S)}return o},parseDate:function(a,L,T){if(L==null)throw P.local.invalidArguments||P.regionalOptions[""].invalidArguments;if(L=typeof L=="object"?L.toString():L+"",L==="")return null;a=a||this.local.dateFormat,T=T||{};var v=T.shortYearCutoff||this.shortYearCutoff;v=typeof v!="string"?v:this.today().year()%100+parseInt(v,10);for(var d=T.dayNamesShort||this.local.dayNamesShort,t=T.dayNames||this.local.dayNames,r=T.parseMonth||this.local.parseMonth,u=T.monthNumbers||this.local.monthNumbers,n=T.monthNamesShort||this.local.monthNamesShort,s=T.monthNames||this.local.monthNames,f=-1,l=-1,x=-1,c=-1,b=-1,h=!1,o=!1,p=function(I,N){for(var k=1;C+k<a.length&&a.charAt(C+k)===I;)k++;return C+=k-1,Math.floor(k/(N||1))>1},S=function(I,N){var k=p(I,N),O=[2,3,k?4:2,k?4:2,10,11,20]["oyYJ@!".indexOf(I)+1],z=new RegExp("^-?\\d{1,"+O+"}"),F=L.substring(i).match(z);if(!F)throw(P.local.missingNumberAt||P.regionalOptions[""].missingNumberAt).replace(/\{0\}/,i);return i+=F[0].length,parseInt(F[0],10)},A=this,E=function(){if(typeof u=="function"){p("m");var I=u.call(A,L.substring(i));return i+=I.length,I}return S("m")},m=function(I,N,k,O){for(var z=p(I,O)?k:N,F=0;F<z.length;F++)if(L.substr(i,z[F].length).toLowerCase()===z[F].toLowerCase())return i+=z[F].length,F+A.minMonth;throw(P.local.unknownNameAt||P.regionalOptions[""].unknownNameAt).replace(/\{0\}/,i)},M=function(){if(typeof s=="function"){var I=p("M")?s.call(A,L.substring(i)):n.call(A,L.substring(i));return i+=I.length,I}return m("M",n,s)},w=function(){if(L.charAt(i)!==a.charAt(C))throw(P.local.unexpectedLiteralAt||P.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,i);i++},i=0,C=0;C<a.length;C++)if(o)a.charAt(C)==="'"&&!p("'")?o=!1:w();else switch(a.charAt(C)){case"d":c=S("d");break;case"D":m("D",d,t);break;case"o":b=S("o");break;case"w":S("w");break;case"m":x=E();break;case"M":x=M();break;case"y":var y=C;h=!p("y",2),C=y,l=S("y",2);break;case"Y":l=S("Y",2);break;case"J":f=S("J")+.5,L.charAt(i)==="."&&(i++,S("J"));break;case"@":f=S("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":f=S("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":i=L.length;break;case"'":p("'")?w():o=!0;break;default:w()}if(i<L.length)throw P.local.unexpectedText||P.regionalOptions[""].unexpectedText;if(l===-1?l=this.today().year():l<100&&h&&(l+=v===-1?1900:this.today().year()-this.today().year()%100-(l<=v?0:100)),typeof x=="string"&&(x=r.call(this,l,x)),b>-1){x=1,c=b;for(var _=this.daysInMonth(l,x);c>_;_=this.daysInMonth(l,x))x++,c-=_}return f>-1?this.fromJD(f):this.newDate(l,x,c)},determineDate:function(a,L,T,v,d){T&&typeof T!="object"&&(d=v,v=T,T=null),typeof v!="string"&&(d=v,v="");var t=this,r=function(u){try{return t.parseDate(v,u,d)}catch{}u=u.toLowerCase();for(var n=(u.match(/^c/)&&T?T.newDate():null)||t.today(),s=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,f=s.exec(u);f;)n.add(parseInt(f[1],10),f[2]||"d"),f=s.exec(u);return n};return L=L?L.newDate():null,a=a==null?L:typeof a=="string"?r(a):typeof a=="number"?isNaN(a)||a===1/0||a===-1/0?L:t.today().add(a,"d"):t.newDate(a),a}})},69862:function(){},40964:function(){},72077:function(H,U,e){var g=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],P=typeof globalThis>"u"?e.g:globalThis;H.exports=function(){for(var L=[],T=0;T<g.length;T++)typeof P[g[T]]=="function"&&(L[L.length]=g[T]);return L}},81684:function(H,U,e){e.d(U,{sX:function(){return Te},k4:function(){return ie}});function g(ye,Ae,Ne){ye.prototype=Ae.prototype=Ne,Ne.constructor=ye}function P(ye,Ae){var Ne=Object.create(ye.prototype);for(var Ue in Ae)Ne[Ue]=Ae[Ue];return Ne}function a(){}var L=.7,T=1/L,v="\\s*([+-]?\\d+)\\s*",d="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",r=/^#([0-9a-f]{3,8})$/,u=new RegExp("^rgb\\(".concat(v,",").concat(v,",").concat(v,"\\)$")),n=new RegExp("^rgb\\(".concat(t,",").concat(t,",").concat(t,"\\)$")),s=new RegExp("^rgba\\(".concat(v,",").concat(v,",").concat(v,",").concat(d,"\\)$")),f=new RegExp("^rgba\\(".concat(t,",").concat(t,",").concat(t,",").concat(d,"\\)$")),l=new RegExp("^hsl\\(".concat(d,",").concat(t,",").concat(t,"\\)$")),x=new RegExp("^hsla\\(".concat(d,",").concat(t,",").concat(t,",").concat(d,"\\)$")),c={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};g(a,S,{copy:function(Ae){return Object.assign(new this.constructor,this,Ae)},displayable:function(){return this.rgb().displayable()},hex:b,formatHex:b,formatHex8:h,formatHsl:o,formatRgb:p,toString:p});function b(){return this.rgb().formatHex()}function h(){return this.rgb().formatHex8()}function o(){return O(this).formatHsl()}function p(){return this.rgb().formatRgb()}function S(ye){var Ae,Ne;return ye=(ye+"").trim().toLowerCase(),(Ae=r.exec(ye))?(Ne=Ae[1].length,Ae=parseInt(Ae[1],16),Ne===6?A(Ae):Ne===3?new w(Ae>>8&15|Ae>>4&240,Ae>>4&15|Ae&240,(Ae&15)<<4|Ae&15,1):Ne===8?E(Ae>>24&255,Ae>>16&255,Ae>>8&255,(Ae&255)/255):Ne===4?E(Ae>>12&15|Ae>>8&240,Ae>>8&15|Ae>>4&240,Ae>>4&15|Ae&240,((Ae&15)<<4|Ae&15)/255):null):(Ae=u.exec(ye))?new w(Ae[1],Ae[2],Ae[3],1):(Ae=n.exec(ye))?new w(Ae[1]*255/100,Ae[2]*255/100,Ae[3]*255/100,1):(Ae=s.exec(ye))?E(Ae[1],Ae[2],Ae[3],Ae[4]):(Ae=f.exec(ye))?E(Ae[1]*255/100,Ae[2]*255/100,Ae[3]*255/100,Ae[4]):(Ae=l.exec(ye))?k(Ae[1],Ae[2]/100,Ae[3]/100,1):(Ae=x.exec(ye))?k(Ae[1],Ae[2]/100,Ae[3]/100,Ae[4]):c.hasOwnProperty(ye)?A(c[ye]):ye==="transparent"?new w(NaN,NaN,NaN,0):null}function A(ye){return new w(ye>>16&255,ye>>8&255,ye&255,1)}function E(ye,Ae,Ne,Ue){return Ue<=0&&(ye=Ae=Ne=NaN),new w(ye,Ae,Ne,Ue)}function m(ye){return ye instanceof a||(ye=S(ye)),ye?(ye=ye.rgb(),new w(ye.r,ye.g,ye.b,ye.opacity)):new w}function M(ye,Ae,Ne,Ue){return arguments.length===1?m(ye):new w(ye,Ae,Ne,Ue??1)}function w(ye,Ae,Ne,Ue){this.r=+ye,this.g=+Ae,this.b=+Ne,this.opacity=+Ue}g(w,M,P(a,{brighter:function(Ae){return Ae=Ae==null?T:Math.pow(T,Ae),new w(this.r*Ae,this.g*Ae,this.b*Ae,this.opacity)},darker:function(Ae){return Ae=Ae==null?L:Math.pow(L,Ae),new w(this.r*Ae,this.g*Ae,this.b*Ae,this.opacity)},rgb:function(){return this},clamp:function(){return new w(I(this.r),I(this.g),I(this.b),_(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:i,formatHex:i,formatHex8:C,formatRgb:y,toString:y}));function i(){return"#".concat(N(this.r)).concat(N(this.g)).concat(N(this.b))}function C(){return"#".concat(N(this.r)).concat(N(this.g)).concat(N(this.b)).concat(N((isNaN(this.opacity)?1:this.opacity)*255))}function y(){var ye=_(this.opacity);return"".concat(ye===1?"rgb(":"rgba(").concat(I(this.r),", ").concat(I(this.g),", ").concat(I(this.b)).concat(ye===1?")":", ".concat(ye,")"))}function _(ye){return isNaN(ye)?1:Math.max(0,Math.min(1,ye))}function I(ye){return Math.max(0,Math.min(255,Math.round(ye)||0))}function N(ye){return ye=I(ye),(ye<16?"0":"")+ye.toString(16)}function k(ye,Ae,Ne,Ue){return Ue<=0?ye=Ae=Ne=NaN:Ne<=0||Ne>=1?ye=Ae=NaN:Ae<=0&&(ye=NaN),new F(ye,Ae,Ne,Ue)}function O(ye){if(ye instanceof F)return new F(ye.h,ye.s,ye.l,ye.opacity);if(ye instanceof a||(ye=S(ye)),!ye)return new F;if(ye instanceof F)return ye;ye=ye.rgb();var Ae=ye.r/255,Ne=ye.g/255,Ue=ye.b/255,Re=Math.min(Ae,Ne,Ue),Ve=Math.max(Ae,Ne,Ue),rt=NaN,Qe=Ve-Re,Je=(Ve+Re)/2;return Qe?(Ae===Ve?rt=(Ne-Ue)/Qe+(Ne<Ue)*6:Ne===Ve?rt=(Ue-Ae)/Qe+2:rt=(Ae-Ne)/Qe+4,Qe/=Je<.5?Ve+Re:2-Ve-Re,rt*=60):Qe=Je>0&&Je<1?0:rt,new F(rt,Qe,Je,ye.opacity)}function z(ye,Ae,Ne,Ue){return arguments.length===1?O(ye):new F(ye,Ae,Ne,Ue??1)}function F(ye,Ae,Ne,Ue){this.h=+ye,this.s=+Ae,this.l=+Ne,this.opacity=+Ue}g(F,z,P(a,{brighter:function(Ae){return Ae=Ae==null?T:Math.pow(T,Ae),new F(this.h,this.s,this.l*Ae,this.opacity)},darker:function(Ae){return Ae=Ae==null?L:Math.pow(L,Ae),new F(this.h,this.s,this.l*Ae,this.opacity)},rgb:function(){var Ae=this.h%360+(this.h<0)*360,Ne=isNaN(Ae)||isNaN(this.s)?0:this.s,Ue=this.l,Re=Ue+(Ue<.5?Ue:1-Ue)*Ne,Ve=2*Ue-Re;return new w(Q(Ae>=240?Ae-240:Ae+120,Ve,Re),Q(Ae,Ve,Re),Q(Ae<120?Ae+240:Ae-120,Ve,Re),this.opacity)},clamp:function(){return new F(B(this.h),G(this.s),G(this.l),_(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Ae=_(this.opacity);return"".concat(Ae===1?"hsl(":"hsla(").concat(B(this.h),", ").concat(G(this.s)*100,"%, ").concat(G(this.l)*100,"%").concat(Ae===1?")":", ".concat(Ae,")"))}}));function B(ye){return ye=(ye||0)%360,ye<0?ye+360:ye}function G(ye){return Math.max(0,Math.min(1,ye||0))}function Q(ye,Ae,Ne){return(ye<60?Ae+(Ne-Ae)*ye/60:ye<180?Ne:ye<240?Ae+(Ne-Ae)*(240-ye)/60:Ae)*255}var ee=function(ye){return function(){return ye}};function ae(ye,Ae){return function(Ne){return ye+Ne*Ae}}function fe(ye,Ae,Ne){return ye=Math.pow(ye,Ne),Ae=Math.pow(Ae,Ne)-ye,Ne=1/Ne,function(Ue){return Math.pow(ye+Ue*Ae,Ne)}}function K(ye){return(ye=+ye)==1?W:function(Ae,Ne){return Ne-Ae?fe(Ae,Ne,ye):ee(isNaN(Ae)?Ne:Ae)}}function W(ye,Ae){var Ne=Ae-ye;return Ne?ae(ye,Ne):ee(isNaN(ye)?Ae:ye)}var Z=function ye(Ae){var Ne=K(Ae);function Ue(Re,Ve){var rt=Ne((Re=M(Re)).r,(Ve=M(Ve)).r),Qe=Ne(Re.g,Ve.g),Je=Ne(Re.b,Ve.b),qe=W(Re.opacity,Ve.opacity);return function(dt){return Re.r=rt(dt),Re.g=Qe(dt),Re.b=Je(dt),Re.opacity=qe(dt),Re+""}}return Ue.gamma=ye,Ue}(1);function X(ye,Ae){var Ne=Ae?Ae.length:0,Ue=ye?Math.min(Ne,ye.length):0,Re=new Array(Ue),Ve=new Array(Ne),rt;for(rt=0;rt<Ue;++rt)Re[rt]=Te(ye[rt],Ae[rt]);for(;rt<Ne;++rt)Ve[rt]=Ae[rt];return function(Qe){for(rt=0;rt<Ue;++rt)Ve[rt]=Re[rt](Qe);return Ve}}function $(ye,Ae){var Ne=new Date;return ye=+ye,Ae=+Ae,function(Ue){return Ne.setTime(ye*(1-Ue)+Ae*Ue),Ne}}function ie(ye,Ae){return ye=+ye,Ae=+Ae,function(Ne){return ye*(1-Ne)+Ae*Ne}}function J(ye){"@babel/helpers - typeof";return J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ae){return typeof Ae}:function(Ae){return Ae&&typeof Symbol=="function"&&Ae.constructor===Symbol&&Ae!==Symbol.prototype?"symbol":typeof Ae},J(ye)}function j(ye,Ae){var Ne={},Ue={},Re;(ye===null||J(ye)!=="object")&&(ye={}),(Ae===null||J(Ae)!=="object")&&(Ae={});for(Re in Ae)Re in ye?Ne[Re]=Te(ye[Re],Ae[Re]):Ue[Re]=Ae[Re];return function(Ve){for(Re in Ne)Ue[Re]=Ne[Re](Ve);return Ue}}var se=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ne=new RegExp(se.source,"g");function ue(ye){return function(){return ye}}function ge(ye){return function(Ae){return ye(Ae)+""}}function we(ye,Ae){var Ne=se.lastIndex=ne.lastIndex=0,Ue,Re,Ve,rt=-1,Qe=[],Je=[];for(ye=ye+"",Ae=Ae+"";(Ue=se.exec(ye))&&(Re=ne.exec(Ae));)(Ve=Re.index)>Ne&&(Ve=Ae.slice(Ne,Ve),Qe[rt]?Qe[rt]+=Ve:Qe[++rt]=Ve),(Ue=Ue[0])===(Re=Re[0])?Qe[rt]?Qe[rt]+=Re:Qe[++rt]=Re:(Qe[++rt]=null,Je.push({i:rt,x:ie(Ue,Re)})),Ne=ne.lastIndex;return Ne<Ae.length&&(Ve=Ae.slice(Ne),Qe[rt]?Qe[rt]+=Ve:Qe[++rt]=Ve),Qe.length<2?Je[0]?ge(Je[0].x):ue(Ae):(Ae=Je.length,function(qe){for(var dt=0,pt;dt<Ae;++dt)Qe[(pt=Je[dt]).i]=pt.x(qe);return Qe.join("")})}function xe(ye,Ae){Ae||(Ae=[]);var Ne=ye?Math.min(Ae.length,ye.length):0,Ue=Ae.slice(),Re;return function(Ve){for(Re=0;Re<Ne;++Re)Ue[Re]=ye[Re]*(1-Ve)+Ae[Re]*Ve;return Ue}}function Fe(ye){return ArrayBuffer.isView(ye)&&!(ye instanceof DataView)}function ze(ye){"@babel/helpers - typeof";return ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ae){return typeof Ae}:function(Ae){return Ae&&typeof Symbol=="function"&&Ae.constructor===Symbol&&Ae!==Symbol.prototype?"symbol":typeof Ae},ze(ye)}function Te(ye,Ae){var Ne=ze(Ae),Ue;return Ae==null||Ne==="boolean"?ee(Ae):(Ne==="number"?ie:Ne==="string"?(Ue=S(Ae))?(Ae=Ue,Z):we:Ae instanceof S?Z:Ae instanceof Date?$:Fe(Ae)?xe:Array.isArray(Ae)?X:typeof Ae.valueOf!="function"&&typeof Ae.toString!="function"||isNaN(Ae)?j:ie)(ye,Ae)}},40402:function(H){H.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},83794:function(H){H.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},96209:function(H){H.exports=JSON.parse('["normal","italic","oblique"]')},15659:function(H){H.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},38732:function(H){H.exports=JSON.parse('["inherit","initial","unset"]')},41901:function(H){H.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},He={};function lt(H){var U=He[H];if(U!==void 0)return U.exports;var e=He[H]={exports:{}};return Ie[H].call(e.exports,e,e.exports,lt),e.exports}(function(){lt.n=function(H){var U=H&&H.__esModule?function(){return H.default}:function(){return H};return lt.d(U,{a:U}),U}})(),function(){lt.d=function(H,U){for(var e in U)lt.o(U,e)&&!lt.o(H,e)&&Object.defineProperty(H,e,{enumerable:!0,get:U[e]})}}(),function(){lt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){lt.o=function(H,U){return Object.prototype.hasOwnProperty.call(H,U)}}(),function(){lt.r=function(H){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(H,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(H,"__esModule",{value:!0})}}();var vt=lt(27909);return vt}()})})(jm);var a5=jm.exports;const i5=d3(a5);let sy;var hp={name:"VuePlotly",data(){return{plotlyId:`plotly-${n5()}`}},props:["data","layout","config"],watch:{data(){this.setGraph()},layout(){this.setGraph()},config(){this.setGraph()}},mounted(){this.setGraph(),this.resizeObserver=new ResizeObserver(()=>{clearTimeout(sy),sy=setTimeout(this.setGraph,100)}),this.resizeObserver.observe(document.getElementById(this.plotlyId))},beforeUnmount(){this.resizeObserver.disconnect()},methods:{setGraph(){i5.newPlot(this.plotlyId,this.data,this.layout,this.config)}}};const o5=["id"];function s5(re,Oe,Ie,He,lt,vt){return ec(),A0("div",{id:lt.plotlyId},null,8,o5)}hp.render=s5;hp.__file="src/VuePlotly.vue";const l5=kl({__name:"Graph",setup(re){const Oe=cp(),Ie=Rd(),He=Ln(()=>{let vt=[],H=[],U=Oe.arenaPerCapita;return U.sort(function(e,g){return e.hpa<g.hpa?1:-1}),U.forEach(e=>{let g=Ie.regionByCode(e.code);g!==void 0&&(vt.push(g.name),H.push(e.hpa))}),[{x:vt,y:H,type:"bar"}]}),lt=Za({title:"Arénas par 100 000 habitants"});return(vt,H)=>(ec(),Ph(Qs(hp),{data:He.value,layout:lt.value,"display-mode-bar":!1},null,8,["data","layout"]))}});const u5=Fa({text:String,clickable:Boolean,...Fi(),..._s()},"VLabel"),Km=ai()({name:"VLabel",props:u5(),setup(re,Oe){let{slots:Ie}=Oe;return Ai(()=>{var He;return Wr("label",{class:["v-label",{"v-label--clickable":re.clickable},re.class],style:re.style},[re.text,(He=Ie.default)==null?void 0:He.call(Ie)])}),{}}});const Jm=Symbol.for("vuetify:selection-control-group"),Qm=Fa({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:go,trueIcon:go,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:Lh},...Fi(),...lc(),..._s()},"SelectionControlGroup"),f5=Fa({...Qm({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");ai()({name:"VSelectionControlGroup",props:f5(),emits:{"update:modelValue":re=>!0},setup(re,Oe){let{slots:Ie}=Oe;const He=Do(re,"modelValue"),lt=Cc(),vt=Ln(()=>re.id||`v-selection-control-group-${lt}`),H=Ln(()=>re.name||vt.value),U=new Set;return no(Jm,{modelValue:He,forceUpdate:()=>{U.forEach(e=>e())},onForceUpdate:e=>{U.add(e),ru(()=>{U.delete(e)})}}),Wc({[re.defaultsTarget]:{color:ti(re,"color"),disabled:ti(re,"disabled"),density:ti(re,"density"),error:ti(re,"error"),inline:ti(re,"inline"),modelValue:He,multiple:Ln(()=>!!re.multiple||re.multiple==null&&Array.isArray(He.value)),name:H,falseIcon:ti(re,"falseIcon"),trueIcon:ti(re,"trueIcon"),readonly:ti(re,"readonly"),ripple:ti(re,"ripple"),type:ti(re,"type"),valueComparator:ti(re,"valueComparator")}}),Ai(()=>{var e;return Wr("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":re.inline},re.class],style:re.style,role:re.type==="radio"?"radiogroup":void 0},[(e=Ie.default)==null?void 0:e.call(Ie)])}),{}}});const $m=Fa({label:String,trueValue:null,falseValue:null,value:null,...Fi(),...Qm()},"VSelectionControl");function c5(re){const Oe=yo(Jm,void 0),{densityClasses:Ie}=uc(re),He=Do(re,"modelValue"),lt=Ln(()=>re.trueValue!==void 0?re.trueValue:re.value!==void 0?re.value:!0),vt=Ln(()=>re.falseValue!==void 0?re.falseValue:!1),H=Ln(()=>!!re.multiple||re.multiple==null&&Array.isArray(He.value)),U=Ln({get(){const a=Oe?Oe.modelValue.value:He.value;return H.value?a.some(L=>re.valueComparator(L,lt.value)):re.valueComparator(a,lt.value)},set(a){if(re.readonly)return;const L=a?lt.value:vt.value;let T=L;H.value&&(T=a?[...vf(He.value),L]:vf(He.value).filter(v=>!re.valueComparator(v,lt.value))),Oe?Oe.modelValue.value=T:He.value=T}}),{textColorClasses:e,textColorStyles:g}=rc(Ln(()=>U.value&&!re.error&&!re.disabled?re.color:void 0)),P=Ln(()=>U.value?re.trueIcon:re.falseIcon);return{group:Oe,densityClasses:Ie,trueValue:lt,falseValue:vt,model:U,textColorClasses:e,textColorStyles:g,icon:P}}const h5=ai()({name:"VSelectionControl",directives:{Ripple:Ad},inheritAttrs:!1,props:$m(),emits:{"update:modelValue":re=>!0},setup(re,Oe){let{attrs:Ie,slots:He}=Oe;const{group:lt,densityClasses:vt,icon:H,model:U,textColorClasses:e,textColorStyles:g,trueValue:P}=c5(re),a=Cc(),L=Ln(()=>re.id||`input-${a}`),T=Ui(!1),v=Ui(!1),d=Za();lt==null||lt.onForceUpdate(()=>{d.value&&(d.value.checked=U.value)});function t(n){T.value=!0,ud(n.target,":focus-visible")!==!1&&(v.value=!0)}function r(){T.value=!1,v.value=!1}function u(n){re.readonly&&lt&&jo(()=>lt.forceUpdate()),U.value=n.target.checked}return Ai(()=>{var l,x;const n=He.label?He.label({label:re.label,props:{for:L.value}}):re.label,[s,f]=Py(Ie);return Wr("div",Vi({class:["v-selection-control",{"v-selection-control--dirty":U.value,"v-selection-control--disabled":re.disabled,"v-selection-control--error":re.error,"v-selection-control--focused":T.value,"v-selection-control--focus-visible":v.value,"v-selection-control--inline":re.inline},vt.value,re.class]},s,{style:re.style}),[Wr("div",{class:["v-selection-control__wrapper",e.value],style:g.value},[(l=He.default)==null?void 0:l.call(He),Fu(Wr("div",{class:["v-selection-control__input"]},[H.value&&Wr($s,{key:"icon",icon:H.value},null),Wr("input",Vi({ref:d,checked:U.value,disabled:!!(re.readonly||re.disabled),id:L.value,onBlur:r,onFocus:t,onInput:u,"aria-disabled":!!(re.readonly||re.disabled),type:re.type,value:P.value,name:re.name,"aria-checked":re.type==="checkbox"?U.value:void 0},f),null),(x=He.input)==null?void 0:x.call(He,{model:U,textColorClasses:e,textColorStyles:g,props:{onFocus:t,onBlur:r,id:L.value}})]),[[Yc("ripple"),re.ripple&&[!re.disabled&&!re.readonly,null,["center","circle"]]]])]),n&&Wr(Km,{for:L.value,clickable:!0},{default:()=>[n]})])}),{isFocused:T,input:d}}}),v5=Fa({indeterminate:Boolean,indeterminateIcon:{type:go,default:"$checkboxIndeterminate"},...$m({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),Dd=ai()({name:"VCheckboxBtn",props:v5(),emits:{"update:modelValue":re=>!0,"update:indeterminate":re=>!0},setup(re,Oe){let{slots:Ie}=Oe;const He=Do(re,"indeterminate"),lt=Do(re,"modelValue");function vt(e){He.value&&(He.value=!1)}const H=Ln(()=>He.value?re.indeterminateIcon:re.falseIcon),U=Ln(()=>He.value?re.indeterminateIcon:re.trueIcon);return Ai(()=>Wr(h5,Vi(re,{modelValue:lt.value,"onUpdate:modelValue":[e=>lt.value=e,vt],class:["v-checkbox-btn",re.class],style:re.style,type:"checkbox",falseIcon:H.value,trueIcon:U.value,"aria-checked":He.value?"mixed":void 0}),Ie)),{}}});function qm(re){const{t:Oe}=Rh();function Ie(He){let{name:lt}=He;const vt={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[lt],H=re[`onClick:${lt}`],U=H&&vt?Oe(`$vuetify.input.${vt}`,re.label??""):void 0;return Wr($s,{icon:re[`${lt}Icon`],"aria-label":U,onClick:H},null)}return{InputIcon:Ie}}const d5=Fa({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Fi(),...pv({transition:{component:Hy,leaveAbsolute:!0,group:!0}})},"VMessages"),p5=ai()({name:"VMessages",props:d5(),setup(re,Oe){let{slots:Ie}=Oe;const He=Ln(()=>vf(re.messages)),{textColorClasses:lt,textColorStyles:vt}=rc(Ln(()=>re.color));return Ai(()=>Wr(Sc,{transition:re.transition,tag:"div",class:["v-messages",lt.value,re.class],style:[vt.value,re.style],role:"alert","aria-live":"polite"},{default:()=>[re.active&&He.value.map((H,U)=>Wr("div",{class:"v-messages__message",key:`${U}-${He.value}`},[Ie.message?Ie.message({message:H}):H]))]})),{}}}),e1=Fa({focused:Boolean,"onUpdate:focused":Bf()},"focus");function t1(re){let Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nc();const Ie=Do(re,"focused"),He=Ln(()=>({[`${Oe}--focused`]:Ie.value}));function lt(){Ie.value=!0}function vt(){Ie.value=!1}return{focusClasses:He,isFocused:Ie,focus:lt,blur:vt}}const g5=Symbol.for("vuetify:form");function r1(){return yo(g5,null)}const y5=Fa({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...e1()},"validation");function m5(re){let Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nc(),Ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Cc();const He=Do(re,"modelValue"),lt=Ln(()=>re.validationValue===void 0?He.value:re.validationValue),vt=r1(),H=Za([]),U=Ui(!0),e=Ln(()=>!!(vf(He.value===""?null:He.value).length||vf(lt.value===""?null:lt.value).length)),g=Ln(()=>!!(re.disabled??(vt==null?void 0:vt.isDisabled.value))),P=Ln(()=>!!(re.readonly??(vt==null?void 0:vt.isReadonly.value))),a=Ln(()=>re.errorMessages.length?vf(re.errorMessages).slice(0,Math.max(0,+re.maxErrors)):H.value),L=Ln(()=>{let s=(re.validateOn??(vt==null?void 0:vt.validateOn.value))||"input";s==="lazy"&&(s="input lazy");const f=new Set((s==null?void 0:s.split(" "))??[]);return{blur:f.has("blur")||f.has("input"),input:f.has("input"),submit:f.has("submit"),lazy:f.has("lazy")}}),T=Ln(()=>re.error||re.errorMessages.length?!1:re.rules.length?U.value?H.value.length||L.value.lazy?null:!0:!H.value.length:!0),v=Ui(!1),d=Ln(()=>({[`${Oe}--error`]:T.value===!1,[`${Oe}--dirty`]:e.value,[`${Oe}--disabled`]:g.value,[`${Oe}--readonly`]:P.value})),t=Ln(()=>re.name??Qs(Ie));Cy(()=>{vt==null||vt.register({id:t.value,validate:n,reset:r,resetValidation:u})}),Uf(()=>{vt==null||vt.unregister(t.value)}),au(async()=>{L.value.lazy||await n(!0),vt==null||vt.update(t.value,T.value,a.value)}),Hc(()=>L.value.input,()=>{Ii(lt,()=>{if(lt.value!=null)n();else if(re.focused){const s=Ii(()=>re.focused,f=>{f||n(),s()})}})}),Hc(()=>L.value.blur,()=>{Ii(()=>re.focused,s=>{s||n()})}),Ii(T,()=>{vt==null||vt.update(t.value,T.value,a.value)});function r(){He.value=null,jo(u)}function u(){U.value=!0,L.value.lazy?H.value=[]:n(!0)}async function n(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const f=[];v.value=!0;for(const l of re.rules){if(f.length>=+(re.maxErrors??1))break;const c=await(typeof l=="function"?l:()=>l)(lt.value);if(c!==!0){if(c!==!1&&typeof c!="string"){console.warn(`${c} is not a valid value. Rule functions must return boolean true or a string.`);continue}f.push(c||"")}}return H.value=f,v.value=!1,U.value=s,H.value}return{errorMessages:a,isDirty:e,isDisabled:g,isReadonly:P,isPristine:U,isValid:T,isValidating:v,reset:r,resetValidation:u,validate:n,validationClasses:d}}const n1=Fa({id:String,appendIcon:go,centerAffix:{type:Boolean,default:!0},prependIcon:go,hideDetails:[Boolean,String],hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:re=>["horizontal","vertical"].includes(re)},"onClick:prepend":Bf(),"onClick:append":Bf(),...Fi(),...lc(),...y5()},"VInput"),ly=ai()({name:"VInput",props:{...n1()},emits:{"update:modelValue":re=>!0},setup(re,Oe){let{attrs:Ie,slots:He,emit:lt}=Oe;const{densityClasses:vt}=uc(re),{rtlClasses:H}=Zc(),{InputIcon:U}=qm(re),e=Cc(),g=Ln(()=>re.id||`input-${e}`),P=Ln(()=>`${g.value}-messages`),{errorMessages:a,isDirty:L,isDisabled:T,isReadonly:v,isPristine:d,isValid:t,isValidating:r,reset:u,resetValidation:n,validate:s,validationClasses:f}=m5(re,"v-input",g),l=Ln(()=>({id:g,messagesId:P,isDirty:L,isDisabled:T,isReadonly:v,isPristine:d,isValid:t,isValidating:r,reset:u,resetValidation:n,validate:s})),x=Ln(()=>{var c;return(c=re.errorMessages)!=null&&c.length||!d.value&&a.value.length?a.value:re.hint&&(re.persistentHint||re.focused)?re.hint:re.messages});return Ai(()=>{var p,S,A,E;const c=!!(He.prepend||re.prependIcon),b=!!(He.append||re.appendIcon),h=x.value.length>0,o=!re.hideDetails||re.hideDetails==="auto"&&(h||!!He.details);return Wr("div",{class:["v-input",`v-input--${re.direction}`,{"v-input--center-affix":re.centerAffix},vt.value,H.value,f.value,re.class],style:re.style},[c&&Wr("div",{key:"prepend",class:"v-input__prepend"},[(p=He.prepend)==null?void 0:p.call(He,l.value),re.prependIcon&&Wr(U,{key:"prepend-icon",name:"prepend"},null)]),He.default&&Wr("div",{class:"v-input__control"},[(S=He.default)==null?void 0:S.call(He,l.value)]),b&&Wr("div",{key:"append",class:"v-input__append"},[re.appendIcon&&Wr(U,{key:"append-icon",name:"append"},null),(A=He.append)==null?void 0:A.call(He,l.value)]),o&&Wr("div",{class:"v-input__details"},[Wr(p5,{id:P.value,active:h,messages:x.value},{message:He.message}),(E=He.details)==null?void 0:E.call(He,l.value)])])}),{reset:u,resetValidation:n,validate:s}}});const x5=Fa({start:Boolean,end:Boolean,icon:go,image:String,...Fi(),...lc(),...oc(),...gv(),...gs(),..._s(),...Kc({variant:"flat"})},"VAvatar"),pd=ai()({name:"VAvatar",props:x5(),setup(re,Oe){let{slots:Ie}=Oe;const{themeClasses:He}=yl(re),{colorClasses:lt,colorStyles:vt,variantClasses:H}=Td(re),{densityClasses:U}=uc(re),{roundedClasses:e}=sc(re),{sizeClasses:g,sizeStyles:P}=yv(re);return Ai(()=>Wr(re.tag,{class:["v-avatar",{"v-avatar--start":re.start,"v-avatar--end":re.end},He.value,lt.value,U.value,e.value,g.value,H.value,re.class],style:[vt.value,P.value,re.style]},{default:()=>{var a;return[re.image?Wr(j0,{key:"image",src:re.image,alt:"",cover:!0},null):re.icon?Wr($s,{key:"icon",icon:re.icon},null):(a=Ie.default)==null?void 0:a.call(Ie),wd(!1,"v-avatar")]}})),{}}});const a1=Symbol.for("vuetify:v-chip-group"),b5=Fa({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Lh},...Fi(),...Jy({selectedClass:"v-chip--selected"}),...gs(),..._s(),...Kc({variant:"tonal"})},"VChipGroup");ai()({name:"VChipGroup",props:b5(),emits:{"update:modelValue":re=>!0},setup(re,Oe){let{slots:Ie}=Oe;const{themeClasses:He}=yl(re),{isSelected:lt,select:vt,next:H,prev:U,selected:e}=qy(re,a1);return Wc({VChip:{color:ti(re,"color"),disabled:ti(re,"disabled"),filter:ti(re,"filter"),variant:ti(re,"variant")}}),Ai(()=>Wr(re.tag,{class:["v-chip-group",{"v-chip-group--column":re.column},He.value,re.class],style:re.style},{default:()=>{var g;return[(g=Ie.default)==null?void 0:g.call(Ie,{isSelected:lt,select:vt,next:H,prev:U,selected:e.value})]}})),{}}});const w5=Fa({activeClass:String,appendAvatar:String,appendIcon:go,closable:Boolean,closeIcon:{type:go,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:go,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:Bf(),onClickOnce:Bf(),...kh(),...Fi(),...lc(),...Fh(),...Qy(),...oc(),...q0(),...gv(),...gs({tag:"span"}),..._s(),...Kc({variant:"tonal"})},"VChip"),T5=ai()({name:"VChip",directives:{Ripple:Ad},props:w5(),emits:{"click:close":re=>!0,"update:modelValue":re=>!0,"group:selected":re=>!0,click:re=>!0},setup(re,Oe){let{attrs:Ie,emit:He,slots:lt}=Oe;const{t:vt}=Rh(),{borderClasses:H}=_h(re),{colorClasses:U,colorStyles:e,variantClasses:g}=Td(re),{densityClasses:P}=uc(re),{elevationClasses:a}=zh(re),{roundedClasses:L}=sc(re),{sizeClasses:T}=yv(re),{themeClasses:v}=yl(re),d=Do(re,"modelValue"),t=$y(re,a1,!1),r=$0(re,Ie),u=Ln(()=>re.link!==!1&&r.isLink.value),n=Ln(()=>!re.disabled&&re.link!==!1&&(!!t||re.link||r.isClickable.value)),s=Ln(()=>({"aria-label":vt(re.closeLabel),onClick(x){d.value=!1,He("click:close",x)}}));function f(x){var c;He("click",x),n.value&&((c=r.navigate)==null||c.call(r,x),t==null||t.toggle())}function l(x){(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),f(x))}return()=>{const x=r.isLink.value?"a":re.tag,c=!!(re.appendIcon||re.appendAvatar),b=!!(c||lt.append),h=!!(lt.close||re.closable),o=!!(lt.filter||re.filter)&&t,p=!!(re.prependIcon||re.prependAvatar),S=!!(p||lt.prepend),A=!t||t.isSelected.value;return d.value&&Fu(Wr(x,{class:["v-chip",{"v-chip--disabled":re.disabled,"v-chip--label":re.label,"v-chip--link":n.value,"v-chip--filter":o,"v-chip--pill":re.pill},v.value,H.value,A?U.value:void 0,P.value,a.value,L.value,T.value,g.value,t==null?void 0:t.selectedClass.value,re.class],style:[A?e.value:void 0,re.style],disabled:re.disabled||void 0,draggable:re.draggable,href:r.href.value,tabindex:n.value?0:void 0,onClick:f,onKeydown:n.value&&!u.value&&l},{default:()=>{var E;return[wd(n.value,"v-chip"),o&&Wr(Wy,{key:"filter"},{default:()=>[Fu(Wr("div",{class:"v-chip__filter"},[lt.filter?Wr(pl,{key:"filter-defaults",disabled:!re.filterIcon,defaults:{VIcon:{icon:re.filterIcon}}},lt.filter):Wr($s,{key:"filter-icon",icon:re.filterIcon},null)]),[[Ch,t.isSelected.value]])]}),S&&Wr("div",{key:"prepend",class:"v-chip__prepend"},[lt.prepend?Wr(pl,{key:"prepend-defaults",disabled:!p,defaults:{VAvatar:{image:re.prependAvatar,start:!0},VIcon:{icon:re.prependIcon,start:!0}}},lt.prepend):Wr(Ro,null,[re.prependIcon&&Wr($s,{key:"prepend-icon",icon:re.prependIcon,start:!0},null),re.prependAvatar&&Wr(pd,{key:"prepend-avatar",image:re.prependAvatar,start:!0},null)])]),Wr("div",{class:"v-chip__content"},[((E=lt.default)==null?void 0:E.call(lt,{isSelected:t==null?void 0:t.isSelected.value,selectedClass:t==null?void 0:t.selectedClass.value,select:t==null?void 0:t.select,toggle:t==null?void 0:t.toggle,value:t==null?void 0:t.value.value,disabled:re.disabled}))??re.text]),b&&Wr("div",{key:"append",class:"v-chip__append"},[lt.append?Wr(pl,{key:"append-defaults",disabled:!c,defaults:{VAvatar:{end:!0,image:re.appendAvatar},VIcon:{end:!0,icon:re.appendIcon}}},lt.append):Wr(Ro,null,[re.appendIcon&&Wr($s,{key:"append-icon",end:!0,icon:re.appendIcon},null),re.appendAvatar&&Wr(pd,{key:"append-avatar",end:!0,image:re.appendAvatar},null)])]),h&&Wr("div",Vi({key:"close",class:"v-chip__close"},s.value),[lt.close?Wr(pl,{key:"close-defaults",defaults:{VIcon:{icon:re.closeIcon,size:"x-small"}}},lt.close):Wr($s,{key:"close-icon",icon:re.closeIcon,size:"x-small"},null)])]}}),[[Yc("ripple"),n.value&&re.ripple,null]])}}});const _0=Symbol.for("vuetify:list");function i1(){const re=yo(_0,{hasPrepend:Ui(!1),updateHasPrepend:()=>null}),Oe={hasPrepend:Ui(!1),updateHasPrepend:Ie=>{Ie&&(Oe.hasPrepend.value=Ie)}};return no(_0,Oe),re}function o1(){return yo(_0,null)}const A5={open:re=>{let{id:Oe,value:Ie,opened:He,parents:lt}=re;if(Ie){const vt=new Set;vt.add(Oe);let H=lt.get(Oe);for(;H!=null;)vt.add(H),H=lt.get(H);return vt}else return He.delete(Oe),He},select:()=>null},s1={open:re=>{let{id:Oe,value:Ie,opened:He,parents:lt}=re;if(Ie){let vt=lt.get(Oe);for(He.add(Oe);vt!=null&&vt!==Oe;)He.add(vt),vt=lt.get(vt);return He}else He.delete(Oe);return He},select:()=>null},S5={open:s1.open,select:re=>{let{id:Oe,value:Ie,opened:He,parents:lt}=re;if(!Ie)return He;const vt=[];let H=lt.get(Oe);for(;H!=null;)vt.push(H),H=lt.get(H);return new Set(vt)}},vp=re=>{const Oe={select:Ie=>{let{id:He,value:lt,selected:vt}=Ie;if(He=jc(He),re&&!lt){const H=Array.from(vt.entries()).reduce((U,e)=>{let[g,P]=e;return P==="on"?[...U,g]:U},[]);if(H.length===1&&H[0]===He)return vt}return vt.set(He,lt?"on":"off"),vt},in:(Ie,He,lt)=>{let vt=new Map;for(const H of Ie||[])vt=Oe.select({id:H,value:!0,selected:new Map(vt),children:He,parents:lt});return vt},out:Ie=>{const He=[];for(const[lt,vt]of Ie.entries())vt==="on"&&He.push(lt);return He}};return Oe},l1=re=>{const Oe=vp(re);return{select:He=>{let{selected:lt,id:vt,...H}=He;vt=jc(vt);const U=lt.has(vt)?new Map([[vt,lt.get(vt)]]):new Map;return Oe.select({...H,id:vt,selected:U})},in:(He,lt,vt)=>{let H=new Map;return He!=null&&He.length&&(H=Oe.in(He.slice(0,1),lt,vt)),H},out:(He,lt,vt)=>Oe.out(He,lt,vt)}},M5=re=>{const Oe=vp(re);return{select:He=>{let{id:lt,selected:vt,children:H,...U}=He;return lt=jc(lt),H.has(lt)?vt:Oe.select({id:lt,selected:vt,children:H,...U})},in:Oe.in,out:Oe.out}},E5=re=>{const Oe=l1(re);return{select:He=>{let{id:lt,selected:vt,children:H,...U}=He;return lt=jc(lt),H.has(lt)?vt:Oe.select({id:lt,selected:vt,children:H,...U})},in:Oe.in,out:Oe.out}},C5=re=>{const Oe={select:Ie=>{let{id:He,value:lt,selected:vt,children:H,parents:U}=Ie;He=jc(He);const e=new Map(vt),g=[He];for(;g.length;){const a=g.shift();vt.set(a,lt?"on":"off"),H.has(a)&&g.push(...H.get(a))}let P=U.get(He);for(;P;){const a=H.get(P),L=a.every(v=>vt.get(v)==="on"),T=a.every(v=>!vt.has(v)||vt.get(v)==="off");vt.set(P,L?"on":T?"off":"indeterminate"),P=U.get(P)}return re&&!lt&&Array.from(vt.entries()).reduce((L,T)=>{let[v,d]=T;return d==="on"?[...L,v]:L},[]).length===0?e:vt},in:(Ie,He,lt)=>{let vt=new Map;for(const H of Ie||[])vt=Oe.select({id:H,value:!0,selected:new Map(vt),children:He,parents:lt});return vt},out:(Ie,He)=>{const lt=[];for(const[vt,H]of Ie.entries())H==="on"&&!He.has(vt)&&lt.push(vt);return lt}};return Oe},vv=Symbol.for("vuetify:nested"),u1={id:Ui(),root:{register:()=>null,unregister:()=>null,parents:Za(new Map),children:Za(new Map),open:()=>null,openOnSelect:()=>null,select:()=>null,opened:Za(new Set),selected:Za(new Map),selectedValues:Za([])}},L5=Fa({selectStrategy:[String,Function],openStrategy:[String,Object],opened:Array,selected:Array,mandatory:Boolean},"nested"),P5=re=>{let Oe=!1;const Ie=Za(new Map),He=Za(new Map),lt=Do(re,"opened",re.opened,a=>new Set(a),a=>[...a.values()]),vt=Ln(()=>{if(typeof re.selectStrategy=="object")return re.selectStrategy;switch(re.selectStrategy){case"single-leaf":return E5(re.mandatory);case"leaf":return M5(re.mandatory);case"independent":return vp(re.mandatory);case"single-independent":return l1(re.mandatory);case"classic":default:return C5(re.mandatory)}}),H=Ln(()=>{if(typeof re.openStrategy=="object")return re.openStrategy;switch(re.openStrategy){case"list":return S5;case"single":return A5;case"multiple":default:return s1}}),U=Do(re,"selected",re.selected,a=>vt.value.in(a,Ie.value,He.value),a=>vt.value.out(a,Ie.value,He.value));Uf(()=>{Oe=!0});function e(a){const L=[];let T=a;for(;T!=null;)L.unshift(T),T=He.value.get(T);return L}const g=ic("nested"),P={id:Ui(),root:{opened:lt,selected:U,selectedValues:Ln(()=>{const a=[];for(const[L,T]of U.value.entries())T==="on"&&a.push(L);return a}),register:(a,L,T)=>{L&&a!==L&&He.value.set(a,L),T&&Ie.value.set(a,[]),L!=null&&Ie.value.set(L,[...Ie.value.get(L)||[],a])},unregister:a=>{if(Oe)return;Ie.value.delete(a);const L=He.value.get(a);if(L){const T=Ie.value.get(L)??[];Ie.value.set(L,T.filter(v=>v!==a))}He.value.delete(a),lt.value.delete(a)},open:(a,L,T)=>{g.emit("click:open",{id:a,value:L,path:e(a),event:T});const v=H.value.open({id:a,value:L,opened:new Set(lt.value),children:Ie.value,parents:He.value,event:T});v&&(lt.value=v)},openOnSelect:(a,L,T)=>{const v=H.value.select({id:a,value:L,selected:new Map(U.value),opened:new Set(lt.value),children:Ie.value,parents:He.value,event:T});v&&(lt.value=v)},select:(a,L,T)=>{g.emit("click:select",{id:a,value:L,path:e(a),event:T});const v=vt.value.select({id:a,value:L,selected:new Map(U.value),children:Ie.value,parents:He.value,event:T});v&&(U.value=v),P.root.openOnSelect(a,L,T)},children:Ie,parents:He}};return no(vv,P),P.root},f1=(re,Oe)=>{const Ie=yo(vv,u1),He=Symbol(Cc()),lt=Ln(()=>re.value!==void 0?re.value:He),vt={...Ie,id:lt,open:(H,U)=>Ie.root.open(lt.value,H,U),openOnSelect:(H,U)=>Ie.root.openOnSelect(lt.value,H,U),isOpen:Ln(()=>Ie.root.opened.value.has(lt.value)),parent:Ln(()=>Ie.root.parents.value.get(lt.value)),select:(H,U)=>Ie.root.select(lt.value,H,U),isSelected:Ln(()=>Ie.root.selected.value.get(jc(lt.value))==="on"),isIndeterminate:Ln(()=>Ie.root.selected.value.get(lt.value)==="indeterminate"),isLeaf:Ln(()=>!Ie.root.children.value.get(lt.value)),isGroupActivator:Ie.isGroupActivator};return!Ie.isGroupActivator&&Ie.root.register(lt.value,Ie.id.value,Oe),Uf(()=>{!Ie.isGroupActivator&&Ie.root.unregister(lt.value)}),Oe&&no(vv,vt),vt},R5=()=>{const re=yo(vv,u1);no(vv,{...re,isGroupActivator:!0})},D5=Ry({name:"VListGroupActivator",setup(re,Oe){let{slots:Ie}=Oe;return R5(),()=>{var He;return(He=Ie.default)==null?void 0:He.call(Ie)}}}),I5=Fa({activeColor:String,baseColor:String,color:String,collapseIcon:{type:go,default:"$collapse"},expandIcon:{type:go,default:"$expand"},prependIcon:go,appendIcon:go,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Fi(),...gs()},"VListGroup"),uy=ai()({name:"VListGroup",props:I5(),setup(re,Oe){let{slots:Ie}=Oe;const{isOpen:He,open:lt,id:vt}=f1(ti(re,"value"),!0),H=Ln(()=>`v-list-group--id-${String(vt.value)}`),U=o1(),{isBooted:e}=Ly();function g(T){lt(!He.value,T)}const P=Ln(()=>({onClick:g,class:"v-list-group__header",id:H.value})),a=Ln(()=>He.value?re.collapseIcon:re.expandIcon),L=Ln(()=>({VListItem:{active:He.value,activeColor:re.activeColor,baseColor:re.baseColor,color:re.color,prependIcon:re.prependIcon||re.subgroup&&a.value,appendIcon:re.appendIcon||!re.subgroup&&a.value,title:re.title,value:re.value}}));return Ai(()=>Wr(re.tag,{class:["v-list-group",{"v-list-group--prepend":U==null?void 0:U.hasPrepend.value,"v-list-group--fluid":re.fluid,"v-list-group--subgroup":re.subgroup,"v-list-group--open":He.value},re.class],style:re.style},{default:()=>[Ie.activator&&Wr(pl,{defaults:L.value},{default:()=>[Wr(D5,null,{default:()=>[Ie.activator({props:P.value,isOpen:He.value})]})]}),Wr(Sc,{transition:{component:Gy},disabled:!e.value},{default:()=>{var T;return[Fu(Wr("div",{class:"v-list-group__items",role:"group","aria-labelledby":H.value},[(T=Ie.default)==null?void 0:T.call(Ie)]),[[Ch,He.value]])]}})]})),{}}});const k5=Fy("v-list-item-subtitle"),_5=Fy("v-list-item-title"),F5=Fa({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:go,baseColor:String,disabled:Boolean,lines:String,link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:go,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number,Boolean],title:[String,Number,Boolean],value:null,onClick:Bf(),onClickOnce:Bf(),...kh(),...Fi(),...lc(),...Dh(),...Fh(),...oc(),...q0(),...gs(),..._s(),...Kc({variant:"text"})},"VListItem"),gd=ai()({name:"VListItem",directives:{Ripple:Ad},props:F5(),emits:{click:re=>!0},setup(re,Oe){let{attrs:Ie,slots:He,emit:lt}=Oe;const vt=$0(re,Ie),H=Ln(()=>re.value===void 0?vt.href.value:re.value),{select:U,isSelected:e,isIndeterminate:g,isGroupActivator:P,root:a,parent:L,openOnSelect:T}=f1(H,!1),v=o1(),d=Ln(()=>{var w;return re.active!==!1&&(re.active||((w=vt.isActive)==null?void 0:w.value)||e.value)}),t=Ln(()=>re.link!==!1&&vt.isLink.value),r=Ln(()=>!re.disabled&&re.link!==!1&&(re.link||vt.isClickable.value||re.value!=null&&!!v)),u=Ln(()=>re.rounded||re.nav),n=Ln(()=>re.color??re.activeColor),s=Ln(()=>({color:d.value?n.value??re.baseColor:re.baseColor,variant:re.variant}));Ii(()=>{var w;return(w=vt.isActive)==null?void 0:w.value},w=>{w&&L.value!=null&&a.open(L.value,!0),w&&T(w)},{immediate:!0});const{themeClasses:f}=yl(re),{borderClasses:l}=_h(re),{colorClasses:x,colorStyles:c,variantClasses:b}=Td(s),{densityClasses:h}=uc(re),{dimensionStyles:o}=Ih(re),{elevationClasses:p}=zh(re),{roundedClasses:S}=sc(u),A=Ln(()=>re.lines?`v-list-item--${re.lines}-line`:void 0),E=Ln(()=>({isActive:d.value,select:U,isSelected:e.value,isIndeterminate:g.value}));function m(w){var i;lt("click",w),!(P||!r.value)&&((i=vt.navigate)==null||i.call(vt,w),re.value!=null&&U(!e.value,w))}function M(w){(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),m(w))}return Ai(()=>{const w=t.value?"a":re.tag,i=He.title||re.title,C=He.subtitle||re.subtitle,y=!!(re.appendAvatar||re.appendIcon),_=!!(y||He.append),I=!!(re.prependAvatar||re.prependIcon),N=!!(I||He.prepend);return v==null||v.updateHasPrepend(N),re.activeColor&&r3("active-color",["color","base-color"]),Fu(Wr(w,{class:["v-list-item",{"v-list-item--active":d.value,"v-list-item--disabled":re.disabled,"v-list-item--link":r.value,"v-list-item--nav":re.nav,"v-list-item--prepend":!N&&(v==null?void 0:v.hasPrepend.value),[`${re.activeClass}`]:re.activeClass&&d.value},f.value,l.value,x.value,h.value,p.value,A.value,S.value,b.value,re.class],style:[c.value,o.value,re.style],href:vt.href.value,tabindex:r.value?v?-2:0:void 0,onClick:m,onKeydown:r.value&&!t.value&&M},{default:()=>{var k;return[wd(r.value||d.value,"v-list-item"),N&&Wr("div",{key:"prepend",class:"v-list-item__prepend"},[He.prepend?Wr(pl,{key:"prepend-defaults",disabled:!I,defaults:{VAvatar:{density:re.density,image:re.prependAvatar},VIcon:{density:re.density,icon:re.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var O;return[(O=He.prepend)==null?void 0:O.call(He,E.value)]}}):Wr(Ro,null,[re.prependAvatar&&Wr(pd,{key:"prepend-avatar",density:re.density,image:re.prependAvatar},null),re.prependIcon&&Wr($s,{key:"prepend-icon",density:re.density,icon:re.prependIcon},null)])]),Wr("div",{class:"v-list-item__content","data-no-activator":""},[i&&Wr(_5,{key:"title"},{default:()=>{var O;return[((O=He.title)==null?void 0:O.call(He,{title:re.title}))??re.title]}}),C&&Wr(k5,{key:"subtitle"},{default:()=>{var O;return[((O=He.subtitle)==null?void 0:O.call(He,{subtitle:re.subtitle}))??re.subtitle]}}),(k=He.default)==null?void 0:k.call(He,E.value)]),_&&Wr("div",{key:"append",class:"v-list-item__append"},[He.append?Wr(pl,{key:"append-defaults",disabled:!y,defaults:{VAvatar:{density:re.density,image:re.appendAvatar},VIcon:{density:re.density,icon:re.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var O;return[(O=He.append)==null?void 0:O.call(He,E.value)]}}):Wr(Ro,null,[re.appendIcon&&Wr($s,{key:"append-icon",density:re.density,icon:re.appendIcon},null),re.appendAvatar&&Wr(pd,{key:"append-avatar",density:re.density,image:re.appendAvatar},null)])])]}}),[[Yc("ripple"),r.value&&re.ripple]])}),{}}}),z5=Fa({color:String,inset:Boolean,sticky:Boolean,title:String,...Fi(),...gs()},"VListSubheader"),O5=ai()({name:"VListSubheader",props:z5(),setup(re,Oe){let{slots:Ie}=Oe;const{textColorClasses:He,textColorStyles:lt}=rc(ti(re,"color"));return Ai(()=>{const vt=!!(Ie.default||re.title);return Wr(re.tag,{class:["v-list-subheader",{"v-list-subheader--inset":re.inset,"v-list-subheader--sticky":re.sticky},He.value,re.class],style:[{textColorStyles:lt},re.style]},{default:()=>{var H;return[vt&&Wr("div",{class:"v-list-subheader__text"},[((H=Ie.default)==null?void 0:H.call(Ie))??re.title])]}})}),{}}});const B5=Fa({color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean,...Fi(),..._s()},"VDivider"),N5=ai()({name:"VDivider",props:B5(),setup(re,Oe){let{attrs:Ie}=Oe;const{themeClasses:He}=yl(re),{textColorClasses:lt,textColorStyles:vt}=rc(ti(re,"color")),H=Ln(()=>{const U={};return re.length&&(U[re.vertical?"maxHeight":"maxWidth"]=si(re.length)),re.thickness&&(U[re.vertical?"borderRightWidth":"borderTopWidth"]=si(re.thickness)),U});return Ai(()=>Wr("hr",{class:[{"v-divider":!0,"v-divider--inset":re.inset,"v-divider--vertical":re.vertical},He.value,lt.value,re.class],style:[H.value,vt.value,re.style],"aria-orientation":!Ie.role||Ie.role==="separator"?re.vertical?"vertical":"horizontal":void 0,role:`${Ie.role||"separator"}`},null)),{}}}),U5=Fa({items:Array},"VListChildren"),c1=ai()({name:"VListChildren",props:U5(),setup(re,Oe){let{slots:Ie}=Oe;return i1(),()=>{var He,lt;return((He=Ie.default)==null?void 0:He.call(Ie))??((lt=re.items)==null?void 0:lt.map(vt=>{var T,v;let{children:H,props:U,type:e,raw:g}=vt;if(e==="divider")return((T=Ie.divider)==null?void 0:T.call(Ie,{props:U}))??Wr(N5,U,null);if(e==="subheader")return((v=Ie.subheader)==null?void 0:v.call(Ie,{props:U}))??Wr(O5,U,null);const P={subtitle:Ie.subtitle?d=>{var t;return(t=Ie.subtitle)==null?void 0:t.call(Ie,{...d,item:g})}:void 0,prepend:Ie.prepend?d=>{var t;return(t=Ie.prepend)==null?void 0:t.call(Ie,{...d,item:g})}:void 0,append:Ie.append?d=>{var t;return(t=Ie.append)==null?void 0:t.call(Ie,{...d,item:g})}:void 0,title:Ie.title?d=>{var t;return(t=Ie.title)==null?void 0:t.call(Ie,{...d,item:g})}:void 0},[a,L]=uy.filterProps(U);return H?Wr(uy,Vi({value:U==null?void 0:U.value},a),{activator:d=>{let{props:t}=d;return Ie.header?Ie.header({props:{...U,...t}}):Wr(gd,Vi(U,t),P)},default:()=>Wr(c1,{items:H},Ie)}):Ie.item?Ie.item({props:U}):Wr(gd,U,P)}))}}}),h1=Fa({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean},"list-items");function v1(re,Oe){const Ie=ks(Oe,re.itemTitle,Oe),He=re.returnObject?Oe:ks(Oe,re.itemValue,Ie),lt=ks(Oe,re.itemChildren),vt=re.itemProps===!0?typeof Oe=="object"&&Oe!=null&&!Array.isArray(Oe)?"children"in Oe?W0(Oe,["children"])[1]:Oe:void 0:ks(Oe,re.itemProps),H={title:Ie,value:He,...vt};return{title:String(H.title??""),value:H.value,props:H,children:Array.isArray(lt)?d1(re,lt):void 0,raw:Oe}}function d1(re,Oe){const Ie=[];for(const He of Oe)Ie.push(v1(re,He));return Ie}function V5(re){const Oe=Ln(()=>d1(re,re.items));return H5(Oe,Ie=>v1(re,Ie))}function H5(re,Oe){function Ie(lt){return lt.filter(vt=>vt!==null||re.value.some(H=>H.value===null)).map(vt=>re.value.find(U=>Lh(vt,U.value))??Oe(vt))}function He(lt){return lt.map(vt=>{let{value:H}=vt;return H})}return{items:re,transformIn:Ie,transformOut:He}}function G5(re){return typeof re=="string"||typeof re=="number"||typeof re=="boolean"}function W5(re,Oe){const Ie=ks(Oe,re.itemType,"item"),He=G5(Oe)?Oe:ks(Oe,re.itemTitle),lt=ks(Oe,re.itemValue,void 0),vt=ks(Oe,re.itemChildren),H=re.itemProps===!0?W0(Oe,["children"])[1]:ks(Oe,re.itemProps),U={title:He,value:lt,...H};return{type:Ie,title:U.title,value:U.value,props:U,children:Ie==="item"&&vt?p1(re,vt):void 0,raw:Oe}}function p1(re,Oe){const Ie=[];for(const He of Oe)Ie.push(W5(re,He));return Ie}function Y5(re){return{items:Ln(()=>p1(re,re.items))}}const Z5=Fa({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,lines:{type:[Boolean,String],default:"one"},nav:Boolean,...L5({selectStrategy:"single-leaf",openStrategy:"list"}),...kh(),...Fi(),...lc(),...Dh(),...Fh(),itemType:{type:String,default:"type"},...h1(),...oc(),...gs(),..._s(),...Kc({variant:"text"})},"VList"),X5=ai()({name:"VList",props:Z5(),emits:{"update:selected":re=>!0,"update:opened":re=>!0,"click:open":re=>!0,"click:select":re=>!0},setup(re,Oe){let{slots:Ie}=Oe;const{items:He}=Y5(re),{themeClasses:lt}=yl(re),{backgroundColorClasses:vt,backgroundColorStyles:H}=Gc(ti(re,"bgColor")),{borderClasses:U}=_h(re),{densityClasses:e}=uc(re),{dimensionStyles:g}=Ih(re),{elevationClasses:P}=zh(re),{roundedClasses:a}=sc(re),{open:L,select:T}=P5(re),v=Ln(()=>re.lines?`v-list--${re.lines}-line`:void 0),d=ti(re,"activeColor"),t=ti(re,"baseColor"),r=ti(re,"color");i1(),Wc({VListGroup:{activeColor:d,baseColor:t,color:r},VListItem:{activeClass:ti(re,"activeClass"),activeColor:d,baseColor:t,color:r,density:ti(re,"density"),disabled:ti(re,"disabled"),lines:ti(re,"lines"),nav:ti(re,"nav"),variant:ti(re,"variant")}});const u=Ui(!1),n=Za();function s(b){u.value=!0}function f(b){u.value=!1}function l(b){var h;!u.value&&!(b.relatedTarget&&((h=n.value)!=null&&h.contains(b.relatedTarget)))&&c()}function x(b){if(n.value){if(b.key==="ArrowDown")c("next");else if(b.key==="ArrowUp")c("prev");else if(b.key==="Home")c("first");else if(b.key==="End")c("last");else return;b.preventDefault()}}function c(b){if(n.value)return S0(n.value,b)}return Ai(()=>Wr(re.tag,{ref:n,class:["v-list",{"v-list--disabled":re.disabled,"v-list--nav":re.nav},lt.value,vt.value,U.value,e.value,P.value,v.value,a.value,re.class],style:[H.value,g.value,re.style],tabindex:re.disabled||u.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:s,onFocusout:f,onFocus:l,onKeydown:x},{default:()=>[Wr(c1,{items:He.value},Ie)]})),{open:L,select:T,focus:c}}});function y0(re,Oe){return{x:re.x+Oe.x,y:re.y+Oe.y}}function j5(re,Oe){return{x:re.x-Oe.x,y:re.y-Oe.y}}function fy(re,Oe){if(re.side==="top"||re.side==="bottom"){const{side:Ie,align:He}=re,lt=He==="left"?0:He==="center"?Oe.width/2:He==="right"?Oe.width:He,vt=Ie==="top"?0:Ie==="bottom"?Oe.height:Ie;return y0({x:lt,y:vt},Oe)}else if(re.side==="left"||re.side==="right"){const{side:Ie,align:He}=re,lt=Ie==="left"?0:Ie==="right"?Oe.width:Ie,vt=He==="top"?0:He==="center"?Oe.height/2:He==="bottom"?Oe.height:He;return y0({x:lt,y:vt},Oe)}return y0({x:Oe.width/2,y:Oe.height/2},Oe)}const g1={static:Q5,connected:q5},K5=Fa({locationStrategy:{type:[String,Function],default:"static",validator:re=>typeof re=="function"||re in g1},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function J5(re,Oe){const Ie=Za({}),He=Za();Lc&&(Hc(()=>!!(Oe.isActive.value&&re.locationStrategy),vt=>{var H,U;Ii(()=>re.locationStrategy,vt),ru(()=>{He.value=void 0}),typeof re.locationStrategy=="function"?He.value=(H=re.locationStrategy(Oe,re,Ie))==null?void 0:H.updateLocation:He.value=(U=g1[re.locationStrategy](Oe,re,Ie))==null?void 0:U.updateLocation}),window.addEventListener("resize",lt,{passive:!0}),ru(()=>{window.removeEventListener("resize",lt),He.value=void 0}));function lt(vt){var H;(H=He.value)==null||H.call(He,vt)}return{contentStyles:Ie,updateLocation:He}}function Q5(){}function $5(re,Oe){Oe?re.style.removeProperty("left"):re.style.removeProperty("right");const Ie=Y0(re);return Oe?Ie.x+=parseFloat(re.style.right||0):Ie.x-=parseFloat(re.style.left||0),Ie.y-=parseFloat(re.style.top||0),Ie}function q5(re,Oe,Ie){w3(re.activatorEl.value)&&Object.assign(Ie.value,{position:"fixed",top:0,[re.isRtl.value?"right":"left"]:0});const{preferredAnchor:lt,preferredOrigin:vt}=U0(()=>{const v=C0(Oe.location,re.isRtl.value),d=Oe.origin==="overlap"?v:Oe.origin==="auto"?f0(v):C0(Oe.origin,re.isRtl.value);return v.side===d.side&&v.align===c0(d).align?{preferredAnchor:Fg(v),preferredOrigin:Fg(d)}:{preferredAnchor:v,preferredOrigin:d}}),[H,U,e,g]=["minWidth","minHeight","maxWidth","maxHeight"].map(v=>Ln(()=>{const d=parseFloat(Oe[v]);return isNaN(d)?1/0:d})),P=Ln(()=>{if(Array.isArray(Oe.offset))return Oe.offset;if(typeof Oe.offset=="string"){const v=Oe.offset.split(" ").map(parseFloat);return v.length<2&&v.push(0),v}return typeof Oe.offset=="number"?[Oe.offset,0]:[0,0]});let a=!1;const L=new ResizeObserver(()=>{a&&T()});Ii([re.activatorEl,re.contentEl],(v,d)=>{let[t,r]=v,[u,n]=d;u&&L.unobserve(u),t&&L.observe(t),n&&L.unobserve(n),r&&L.observe(r)},{immediate:!0}),ru(()=>{L.disconnect()});function T(){if(a=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>a=!0)}),!re.activatorEl.value||!re.contentEl.value)return;const v=re.activatorEl.value.getBoundingClientRect(),d=$5(re.contentEl.value,re.isRtl.value),t=cd(re.contentEl.value),r=12;t.length||(t.push(document.documentElement),re.contentEl.value.style.top&&re.contentEl.value.style.left||(d.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),d.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const u=t.reduce((o,p)=>{const S=p.getBoundingClientRect(),A=new Mh({x:p===document.documentElement?0:S.x,y:p===document.documentElement?0:S.y,width:p.clientWidth,height:p.clientHeight});return o?new Mh({x:Math.max(o.left,A.left),y:Math.max(o.top,A.top),width:Math.min(o.right,A.right)-Math.max(o.left,A.left),height:Math.min(o.bottom,A.bottom)-Math.max(o.top,A.top)}):A},void 0);u.x+=r,u.y+=r,u.width-=r*2,u.height-=r*2;let n={anchor:lt.value,origin:vt.value};function s(o){const p=new Mh(d),S=fy(o.anchor,v),A=fy(o.origin,p);let{x:E,y:m}=j5(S,A);switch(o.anchor.side){case"top":m-=P.value[0];break;case"bottom":m+=P.value[0];break;case"left":E-=P.value[0];break;case"right":E+=P.value[0];break}switch(o.anchor.align){case"top":m-=P.value[1];break;case"bottom":m+=P.value[1];break;case"left":E-=P.value[1];break;case"right":E+=P.value[1];break}return p.x+=E,p.y+=m,p.width=Math.min(p.width,e.value),p.height=Math.min(p.height,g.value),{overflows:Og(p,u),x:E,y:m}}let f=0,l=0;const x={x:0,y:0},c={x:!1,y:!1};let b=-1;for(;!(b++>10);){const{x:o,y:p,overflows:S}=s(n);f+=o,l+=p,d.x+=o,d.y+=p;{const A=zg(n.anchor),E=S.x.before||S.x.after,m=S.y.before||S.y.after;let M=!1;if(["x","y"].forEach(w=>{if(w==="x"&&E&&!c.x||w==="y"&&m&&!c.y){const i={anchor:{...n.anchor},origin:{...n.origin}},C=w==="x"?A==="y"?c0:f0:A==="y"?f0:c0;i.anchor=C(i.anchor),i.origin=C(i.origin);const{overflows:y}=s(i);(y[w].before<=S[w].before&&y[w].after<=S[w].after||y[w].before+y[w].after<(S[w].before+S[w].after)/2)&&(n=i,M=c[w]=!0)}}),M)continue}S.x.before&&(f+=S.x.before,d.x+=S.x.before),S.x.after&&(f-=S.x.after,d.x-=S.x.after),S.y.before&&(l+=S.y.before,d.y+=S.y.before),S.y.after&&(l-=S.y.after,d.y-=S.y.after);{const A=Og(d,u);x.x=u.width-A.x.before-A.x.after,x.y=u.height-A.y.before-A.y.after,f+=A.x.before,d.x+=A.x.before,l+=A.y.before,d.y+=A.y.before}break}const h=zg(n.anchor);return Object.assign(Ie.value,{"--v-overlay-anchor-origin":`${n.anchor.side} ${n.anchor.align}`,transformOrigin:`${n.origin.side} ${n.origin.align}`,top:si(m0(l)),left:re.isRtl.value?void 0:si(m0(f)),right:re.isRtl.value?si(m0(-f)):void 0,minWidth:si(h==="y"?Math.min(H.value,v.width):H.value),maxWidth:si(cy(Mc(x.x,H.value===1/0?0:H.value,e.value))),maxHeight:si(cy(Mc(x.y,U.value===1/0?0:U.value,g.value)))}),{available:x,contentBox:d}}return Ii(()=>[lt.value,vt.value,Oe.offset,Oe.minWidth,Oe.minHeight,Oe.maxWidth,Oe.maxHeight],()=>T()),jo(()=>{const v=T();if(!v)return;const{available:d,contentBox:t}=v;t.height>d.y&&requestAnimationFrame(()=>{T(),requestAnimationFrame(()=>{T()})})}),{updateLocation:T}}function m0(re){return Math.round(re*devicePixelRatio)/devicePixelRatio}function cy(re){return Math.ceil(re*devicePixelRatio)/devicePixelRatio}let F0=!0;const yd=[];function eA(re){!F0||yd.length?(yd.push(re),z0()):(F0=!1,re(),z0())}let hy=-1;function z0(){cancelAnimationFrame(hy),hy=requestAnimationFrame(()=>{const re=yd.shift();re&&re(),yd.length?z0():F0=!0})}const sd={none:null,close:nA,block:aA,reposition:iA},tA=Fa({scrollStrategy:{type:[String,Function],default:"block",validator:re=>typeof re=="function"||re in sd}},"VOverlay-scroll-strategies");function rA(re,Oe){if(!Lc)return;let Ie;ac(async()=>{Ie==null||Ie.stop(),Oe.isActive.value&&re.scrollStrategy&&(Ie=Dy(),await jo(),Ie.active&&Ie.run(()=>{var He;typeof re.scrollStrategy=="function"?re.scrollStrategy(Oe,re,Ie):(He=sd[re.scrollStrategy])==null||He.call(sd,Oe,re,Ie)}))}),ru(()=>{Ie==null||Ie.stop()})}function nA(re){function Oe(Ie){re.isActive.value=!1}y1(re.activatorEl.value??re.contentEl.value,Oe)}function aA(re,Oe){var H;const Ie=(H=re.root.value)==null?void 0:H.offsetParent,He=[...new Set([...cd(re.activatorEl.value,Oe.contained?Ie:void 0),...cd(re.contentEl.value,Oe.contained?Ie:void 0)])].filter(U=>!U.classList.contains("v-overlay-scroll-blocked")),lt=window.innerWidth-document.documentElement.offsetWidth,vt=(U=>Z0(U)&&U)(Ie||document.documentElement);vt&&re.root.value.classList.add("v-overlay--scroll-blocked"),He.forEach((U,e)=>{U.style.setProperty("--v-body-scroll-x",si(-U.scrollLeft)),U.style.setProperty("--v-body-scroll-y",si(-U.scrollTop)),U!==document.documentElement&&U.style.setProperty("--v-scrollbar-offset",si(lt)),U.classList.add("v-overlay-scroll-blocked")}),ru(()=>{He.forEach((U,e)=>{const g=parseFloat(U.style.getPropertyValue("--v-body-scroll-x")),P=parseFloat(U.style.getPropertyValue("--v-body-scroll-y"));U.style.removeProperty("--v-body-scroll-x"),U.style.removeProperty("--v-body-scroll-y"),U.style.removeProperty("--v-scrollbar-offset"),U.classList.remove("v-overlay-scroll-blocked"),U.scrollLeft=-g,U.scrollTop=-P}),vt&&re.root.value.classList.remove("v-overlay--scroll-blocked")})}function iA(re,Oe,Ie){let He=!1,lt=-1,vt=-1;function H(U){eA(()=>{var P,a;const e=performance.now();(a=(P=re.updateLocation).value)==null||a.call(P,U),He=(performance.now()-e)/(1e3/60)>2})}vt=(typeof requestIdleCallback>"u"?U=>U():requestIdleCallback)(()=>{Ie.run(()=>{y1(re.activatorEl.value??re.contentEl.value,U=>{He?(cancelAnimationFrame(lt),lt=requestAnimationFrame(()=>{lt=requestAnimationFrame(()=>{H(U)})})):H(U)})})}),ru(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(vt),cancelAnimationFrame(lt)})}function y1(re,Oe){const Ie=[document,...cd(re)];Ie.forEach(He=>{He.addEventListener("scroll",Oe,{passive:!0})}),ru(()=>{Ie.forEach(He=>{He.removeEventListener("scroll",Oe)})})}const O0=Symbol.for("vuetify:v-menu"),oA=Fa({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function sA(re,Oe){const Ie={},He=lt=>()=>{if(!Lc)return Promise.resolve(!0);const vt=lt==="openDelay";return Ie.closeDelay&&window.clearTimeout(Ie.closeDelay),delete Ie.closeDelay,Ie.openDelay&&window.clearTimeout(Ie.openDelay),delete Ie.openDelay,new Promise(H=>{const U=parseInt(re[lt]??0,10);Ie[lt]=window.setTimeout(()=>{Oe==null||Oe(vt),H(vt)},U)})};return{runCloseDelay:He("closeDelay"),runOpenDelay:He("openDelay")}}const lA=Fa({activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...oA()},"VOverlay-activator");function uA(re,Oe){let{isActive:Ie,isTop:He}=Oe;const lt=Za();let vt=!1,H=!1,U=!0;const e=Ln(()=>re.openOnFocus||re.openOnFocus==null&&re.openOnHover),g=Ln(()=>re.openOnClick||re.openOnClick==null&&!re.openOnHover&&!e.value),{runOpenDelay:P,runCloseDelay:a}=sA(re,n=>{n===(re.openOnHover&&vt||e.value&&H)&&!(re.openOnHover&&Ie.value&&!He.value)&&(Ie.value!==n&&(U=!0),Ie.value=n)}),L={onClick:n=>{n.stopPropagation(),lt.value=n.currentTarget||n.target,Ie.value=!Ie.value},onMouseenter:n=>{var s;(s=n.sourceCapabilities)!=null&&s.firesTouchEvents||(vt=!0,lt.value=n.currentTarget||n.target,P())},onMouseleave:n=>{vt=!1,a()},onFocus:n=>{ud(n.target,":focus-visible")!==!1&&(H=!0,n.stopPropagation(),lt.value=n.currentTarget||n.target,P())},onBlur:n=>{H=!1,n.stopPropagation(),a()}},T=Ln(()=>{const n={};return g.value&&(n.onClick=L.onClick),re.openOnHover&&(n.onMouseenter=L.onMouseenter,n.onMouseleave=L.onMouseleave),e.value&&(n.onFocus=L.onFocus,n.onBlur=L.onBlur),n}),v=Ln(()=>{const n={};if(re.openOnHover&&(n.onMouseenter=()=>{vt=!0,P()},n.onMouseleave=()=>{vt=!1,a()}),e.value&&(n.onFocusin=()=>{H=!0,P()},n.onFocusout=()=>{H=!1,a()}),re.closeOnContentClick){const s=yo(O0,null);n.onClick=()=>{Ie.value=!1,s==null||s.closeParents()}}return n}),d=Ln(()=>{const n={};return re.openOnHover&&(n.onMouseenter=()=>{U&&(vt=!0,U=!1,P())},n.onMouseleave=()=>{vt=!1,a()}),n});Ii(He,n=>{n&&(re.openOnHover&&!vt&&(!e.value||!H)||e.value&&!H&&(!re.openOnHover||!vt))&&(Ie.value=!1)});const t=Za();ac(()=>{t.value&&jo(()=>{lt.value=n3(t.value)})});const r=ic("useActivator");let u;return Ii(()=>!!re.activator,n=>{n&&Lc?(u=Dy(),u.run(()=>{fA(re,r,{activatorEl:lt,activatorEvents:T})})):u&&u.stop()},{flush:"post",immediate:!0}),ru(()=>{u==null||u.stop()}),{activatorEl:lt,activatorRef:t,activatorEvents:T,contentEvents:v,scrimEvents:d}}function fA(re,Oe,Ie){let{activatorEl:He,activatorEvents:lt}=Ie;Ii(()=>re.activator,(e,g)=>{if(g&&e!==g){const P=U(g);P&&H(P)}e&&jo(()=>vt())},{immediate:!0}),Ii(()=>re.activatorProps,()=>{vt()}),ru(()=>{H()});function vt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:U(),g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:re.activatorProps;e&&g3(e,Vi(lt.value,g))}function H(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:U(),g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:re.activatorProps;e&&y3(e,Vi(lt.value,g))}function U(){var P,a;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:re.activator,g;if(e)if(e==="parent"){let L=(a=(P=Oe==null?void 0:Oe.proxy)==null?void 0:P.$el)==null?void 0:a.parentNode;for(;L.hasAttribute("data-no-activator");)L=L.parentNode;g=L}else typeof e=="string"?g=document.querySelector(e):"$el"in e?g=e.$el:g=e;return He.value=(g==null?void 0:g.nodeType)===Node.ELEMENT_NODE?g:null,He.value}}function cA(){if(!Lc)return Ui(!1);const{ssr:re}=Iy();if(re){const Oe=Ui(!1);return au(()=>{Oe.value=!0}),Oe}else return Ui(!0)}const hA=Fa({eager:Boolean},"lazy");function vA(re,Oe){const Ie=Ui(!1),He=Ln(()=>Ie.value||re.eager||Oe.value);Ii(Oe,()=>Ie.value=!0);function lt(){re.eager||(Ie.value=!1)}return{isBooted:Ie,hasContent:He,onAfterLeave:lt}}function m1(){const Oe=ic("useScopeId").vnode.scopeId;return{scopeId:Oe?{[Oe]:""}:void 0}}const vy=Symbol.for("vuetify:stack"),uv=xd([]);function dA(re,Oe,Ie){const He=ic("useStack"),lt=!Ie,vt=yo(vy,void 0),H=xd({activeChildren:new Set});no(vy,H);const U=Ui(+Oe.value);Hc(re,()=>{var a;const P=(a=uv.at(-1))==null?void 0:a[1];U.value=P?P+10:+Oe.value,lt&&uv.push([He.uid,U.value]),vt==null||vt.activeChildren.add(He.uid),ru(()=>{if(lt){const L=jc(uv).findIndex(T=>T[0]===He.uid);uv.splice(L,1)}vt==null||vt.activeChildren.delete(He.uid)})});const e=Ui(!0);lt&&ac(()=>{var a;const P=((a=uv.at(-1))==null?void 0:a[0])===He.uid;setTimeout(()=>e.value=P)});const g=Ln(()=>!H.activeChildren.size);return{globalTop:a3(e),localTop:g,stackStyles:Ln(()=>({zIndex:U.value}))}}function pA(re){return{teleportTarget:Ln(()=>{const Ie=re.value;if(Ie===!0||!Lc)return;const He=Ie===!1?document.body:typeof Ie=="string"?document.querySelector(Ie):Ie;if(He==null)return;let lt=He.querySelector(":scope > .v-overlay-container");return lt||(lt=document.createElement("div"),lt.className="v-overlay-container",He.appendChild(lt)),lt})}}function gA(){return!0}function x1(re,Oe,Ie){if(!re||b1(re,Ie)===!1)return!1;const He=zy(Oe);if(typeof ShadowRoot<"u"&&He instanceof ShadowRoot&&He.host===re.target)return!1;const lt=(typeof Ie.value=="object"&&Ie.value.include||(()=>[]))();return lt.push(Oe),!lt.some(vt=>vt==null?void 0:vt.contains(re.target))}function b1(re,Oe){return(typeof Oe.value=="object"&&Oe.value.closeConditional||gA)(re)}function yA(re,Oe,Ie){const He=typeof Ie.value=="function"?Ie.value:Ie.value.handler;Oe._clickOutside.lastMousedownWasOutside&&x1(re,Oe,Ie)&&setTimeout(()=>{b1(re,Ie)&&He&&He(re)},0)}function dy(re,Oe){const Ie=zy(re);Oe(document),typeof ShadowRoot<"u"&&Ie instanceof ShadowRoot&&Oe(Ie)}const mA={mounted(re,Oe){const Ie=lt=>yA(lt,re,Oe),He=lt=>{re._clickOutside.lastMousedownWasOutside=x1(lt,re,Oe)};dy(re,lt=>{lt.addEventListener("click",Ie,!0),lt.addEventListener("mousedown",He,!0)}),re._clickOutside||(re._clickOutside={lastMousedownWasOutside:!1}),re._clickOutside[Oe.instance.$.uid]={onClick:Ie,onMousedown:He}},unmounted(re,Oe){re._clickOutside&&(dy(re,Ie=>{var vt;if(!Ie||!((vt=re._clickOutside)!=null&&vt[Oe.instance.$.uid]))return;const{onClick:He,onMousedown:lt}=re._clickOutside[Oe.instance.$.uid];Ie.removeEventListener("click",He,!0),Ie.removeEventListener("mousedown",lt,!0)}),delete re._clickOutside[Oe.instance.$.uid])}};function xA(re){const{modelValue:Oe,color:Ie,...He}=re;return Wr(Vc,{name:"fade-transition",appear:!0},{default:()=>[re.modelValue&&Wr("div",Vi({class:["v-overlay__scrim",re.color.backgroundColorClasses.value],style:re.color.backgroundColorStyles.value},He),null)]})}const w1=Fa({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...lA(),...Fi(),...Dh(),...hA(),...K5(),...tA(),..._s(),...pv()},"VOverlay"),py=ai()({name:"VOverlay",directives:{ClickOutside:mA},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...w1()},emits:{"click:outside":re=>!0,"update:modelValue":re=>!0,afterLeave:()=>!0},setup(re,Oe){let{slots:Ie,attrs:He,emit:lt}=Oe;const vt=Do(re,"modelValue"),H=Ln({get:()=>vt.value,set:i=>{i&&re.disabled||(vt.value=i)}}),{teleportTarget:U}=pA(Ln(()=>re.attach||re.contained)),{themeClasses:e}=yl(re),{rtlClasses:g,isRtl:P}=Zc(),{hasContent:a,onAfterLeave:L}=vA(re,H),T=Gc(Ln(()=>typeof re.scrim=="string"?re.scrim:null)),{globalTop:v,localTop:d,stackStyles:t}=dA(H,ti(re,"zIndex"),re._disableGlobalStack),{activatorEl:r,activatorRef:u,activatorEvents:n,contentEvents:s,scrimEvents:f}=uA(re,{isActive:H,isTop:d}),{dimensionStyles:l}=Ih(re),x=cA(),{scopeId:c}=m1();Ii(()=>re.disabled,i=>{i&&(H.value=!1)});const b=Za(),h=Za(),{contentStyles:o,updateLocation:p}=J5(re,{isRtl:P,contentEl:h,activatorEl:r,isActive:H});rA(re,{root:b,contentEl:h,activatorEl:r,isActive:H,updateLocation:p});function S(i){lt("click:outside",i),re.persistent?w():H.value=!1}function A(){return H.value&&v.value}Lc&&Ii(H,i=>{i?window.addEventListener("keydown",E):window.removeEventListener("keydown",E)},{immediate:!0});function E(i){var C,y;i.key==="Escape"&&v.value&&(re.persistent?w():(H.value=!1,(C=h.value)!=null&&C.contains(document.activeElement)&&((y=r.value)==null||y.focus())))}const m=K3();Hc(()=>re.closeOnBack,()=>{J3(m,i=>{v.value&&H.value?(i(!1),re.persistent?w():H.value=!1):i()})});const M=Za();Ii(()=>H.value&&(re.absolute||re.contained)&&U.value==null,i=>{if(i){const C=Oy(b.value);C&&C!==document.scrollingElement&&(M.value=C.scrollTop)}});function w(){re.noClickAnimation||h.value&&Ah(h.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:fd})}return Ai(()=>{var i;return Wr(Ro,null,[(i=Ie.activator)==null?void 0:i.call(Ie,{isActive:H.value,props:Vi({ref:u},n.value,re.activatorProps)}),x.value&&a.value&&Wr(i3,{disabled:!U.value,to:U.value},{default:()=>[Wr("div",Vi({class:["v-overlay",{"v-overlay--absolute":re.absolute||re.contained,"v-overlay--active":H.value,"v-overlay--contained":re.contained},e.value,g.value,re.class],style:[t.value,{top:si(M.value)},re.style],ref:b},c,He),[Wr(xA,Vi({color:T,modelValue:H.value&&!!re.scrim},f.value),null),Wr(Sc,{appear:!0,persisted:!0,transition:re.transition,target:r.value,onAfterLeave:()=>{L(),lt("afterLeave")}},{default:()=>{var C;return[Fu(Wr("div",Vi({ref:h,class:["v-overlay__content",re.contentClass],style:[l.value,o.value]},s.value,re.contentProps),[(C=Ie.default)==null?void 0:C.call(Ie,{isActive:H})]),[[Ch,H.value],[Yc("click-outside"),{handler:S,closeConditional:A,include:()=>[r.value]}]])]}})])]})])}),{activatorEl:r,animateClick:w,contentEl:h,globalTop:v,localTop:d,updateLocation:p}}}),x0=Symbol("Forwarded refs");function b0(re,Oe){let Ie=re;for(;Ie;){const He=Reflect.getOwnPropertyDescriptor(Ie,Oe);if(He)return He;Ie=Object.getPrototypeOf(Ie)}}function dp(re){for(var Oe=arguments.length,Ie=new Array(Oe>1?Oe-1:0),He=1;He<Oe;He++)Ie[He-1]=arguments[He];return re[x0]=Ie,new Proxy(re,{get(lt,vt){if(Reflect.has(lt,vt))return Reflect.get(lt,vt);if(!(typeof vt=="symbol"||vt.startsWith("__"))){for(const H of Ie)if(H.value&&Reflect.has(H.value,vt)){const U=Reflect.get(H.value,vt);return typeof U=="function"?U.bind(H.value):U}}},has(lt,vt){if(Reflect.has(lt,vt))return!0;if(typeof vt=="symbol"||vt.startsWith("__"))return!1;for(const H of Ie)if(H.value&&Reflect.has(H.value,vt))return!0;return!1},set(lt,vt,H){if(Reflect.has(lt,vt))return Reflect.set(lt,vt,H);if(typeof vt=="symbol"||vt.startsWith("__"))return!1;for(const U of Ie)if(U.value&&Reflect.has(U.value,vt))return Reflect.set(U.value,vt,H);return!1},getOwnPropertyDescriptor(lt,vt){var U;const H=Reflect.getOwnPropertyDescriptor(lt,vt);if(H)return H;if(!(typeof vt=="symbol"||vt.startsWith("__"))){for(const e of Ie){if(!e.value)continue;const g=b0(e.value,vt)??("_"in e.value?b0((U=e.value._)==null?void 0:U.setupState,vt):void 0);if(g)return g}for(const e of Ie){const g=e.value&&e.value[x0];if(!g)continue;const P=g.slice();for(;P.length;){const a=P.shift(),L=b0(a.value,vt);if(L)return L;const T=a.value&&a.value[x0];T&&P.push(...T)}}}}})}const bA=Fa({id:String,...ky(w1({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:Vy}}),["absolute"])},"VMenu"),wA=ai()({name:"VMenu",props:bA(),emits:{"update:modelValue":re=>!0},setup(re,Oe){let{slots:Ie}=Oe;const He=Do(re,"modelValue"),{scopeId:lt}=m1(),vt=Cc(),H=Ln(()=>re.id||`v-menu-${vt}`),U=Za(),e=yo(O0,null),g=Ui(0);no(O0,{register(){++g.value},unregister(){--g.value},closeParents(){setTimeout(()=>{g.value||(He.value=!1,e==null||e.closeParents())},40)}});function P(d){var u,n,s;const t=d.relatedTarget,r=d.target;t!==r&&((u=U.value)!=null&&u.contentEl)&&((n=U.value)!=null&&n.globalTop)&&![document,U.value.contentEl].includes(r)&&!U.value.contentEl.contains(r)&&((s=Ig(U.value.contentEl)[0])==null||s.focus())}Ii(He,d=>{d?(e==null||e.register(),document.addEventListener("focusin",P,{once:!0})):(e==null||e.unregister(),document.removeEventListener("focusin",P))});function a(){e==null||e.closeParents()}function L(d){var t,r,u;re.disabled||d.key==="Tab"&&(o3(Ig((t=U.value)==null?void 0:t.contentEl,!1),d.shiftKey?"prev":"next",s=>s.tabIndex>=0)||(He.value=!1,(u=(r=U.value)==null?void 0:r.activatorEl)==null||u.focus()))}function T(d){var r;if(re.disabled)return;const t=(r=U.value)==null?void 0:r.contentEl;t&&He.value?d.key==="ArrowDown"?(d.preventDefault(),S0(t,"next")):d.key==="ArrowUp"&&(d.preventDefault(),S0(t,"prev")):["ArrowDown","ArrowUp"].includes(d.key)&&(He.value=!0,d.preventDefault(),setTimeout(()=>setTimeout(()=>T(d))))}const v=Ln(()=>Vi({"aria-haspopup":"menu","aria-expanded":String(He.value),"aria-owns":H.value,onKeydown:T},re.activatorProps));return Ai(()=>{const[d]=py.filterProps(re);return Wr(py,Vi({ref:U,class:["v-menu",re.class],style:re.style},d,{modelValue:He.value,"onUpdate:modelValue":t=>He.value=t,absolute:!0,activatorProps:v.value,"onClick:outside":a,onKeydown:L},lt),{activator:Ie.activator,default:function(){for(var t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];return Wr(pl,{root:"VMenu"},{default:()=>{var n;return[(n=Ie.default)==null?void 0:n.call(Ie,...r)]}})}})}),dp({id:H,ΨopenChildren:g},U)}});const TA=Fa({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Fi(),...pv({transition:{component:Hy}})},"VCounter"),AA=ai()({name:"VCounter",functional:!0,props:TA(),setup(re,Oe){let{slots:Ie}=Oe;const He=Ln(()=>re.max?`${re.value} / ${re.max}`:String(re.value));return Ai(()=>Wr(Sc,{transition:re.transition},{default:()=>[Fu(Wr("div",{class:["v-counter",re.class],style:re.style},[Ie.default?Ie.default({counter:He.value,max:re.max,value:re.value}):He.value]),[[Ch,re.active]])]})),{}}});const SA=Fa({floating:Boolean,...Fi()},"VFieldLabel"),ed=ai()({name:"VFieldLabel",props:SA(),setup(re,Oe){let{slots:Ie}=Oe;return Ai(()=>Wr(Km,{class:["v-field-label",{"v-field-label--floating":re.floating},re.class],style:re.style,"aria-hidden":re.floating||void 0},Ie)),{}}}),MA=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],T1=Fa({appendInnerIcon:go,bgColor:String,clearable:Boolean,clearIcon:{type:go,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:go,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:re=>MA.includes(re)},"onClick:clear":Bf(),"onClick:appendInner":Bf(),"onClick:prependInner":Bf(),...Fi(),...J0(),...oc(),..._s()},"VField"),A1=ai()({name:"VField",inheritAttrs:!1,props:{id:String,...e1(),...T1()},emits:{"update:focused":re=>!0,"update:modelValue":re=>!0},setup(re,Oe){let{attrs:Ie,emit:He,slots:lt}=Oe;const{themeClasses:vt}=yl(re),{loaderClasses:H}=Q0(re),{focusClasses:U,isFocused:e,focus:g,blur:P}=t1(re),{InputIcon:a}=qm(re),{roundedClasses:L}=sc(re),{rtlClasses:T}=Zc(),v=Ln(()=>re.dirty||re.active),d=Ln(()=>!re.singleLine&&!!(re.label||lt.label)),t=Cc(),r=Ln(()=>re.id||`input-${t}`),u=Ln(()=>`${r.value}-messages`),n=Za(),s=Za(),f=Za(),l=Ln(()=>["plain","underlined"].includes(re.variant)),{backgroundColorClasses:x,backgroundColorStyles:c}=Gc(ti(re,"bgColor")),{textColorClasses:b,textColorStyles:h}=rc(Ln(()=>re.error||re.disabled?void 0:v.value&&e.value?re.color:re.baseColor));Ii(v,S=>{if(d.value){const A=n.value.$el,E=s.value.$el;requestAnimationFrame(()=>{const m=Y0(A),M=E.getBoundingClientRect(),w=M.x-m.x,i=M.y-m.y-(m.height/2-M.height/2),C=M.width/.75,y=Math.abs(C-m.width)>1?{maxWidth:si(C)}:void 0,_=getComputedStyle(A),I=getComputedStyle(E),N=parseFloat(_.transitionDuration)*1e3||150,k=parseFloat(I.getPropertyValue("--v-field-label-scale")),O=I.getPropertyValue("color");A.style.visibility="visible",E.style.visibility="hidden",Ah(A,{transform:`translate(${w}px, ${i}px) scale(${k})`,color:O,...y},{duration:N,easing:fd,direction:S?"normal":"reverse"}).finished.then(()=>{A.style.removeProperty("visibility"),E.style.removeProperty("visibility")})})}},{flush:"post"});const o=Ln(()=>({isActive:v,isFocused:e,controlRef:f,blur:P,focus:g}));function p(S){S.target!==document.activeElement&&S.preventDefault()}return Ai(()=>{var w,i,C;const S=re.variant==="outlined",A=lt["prepend-inner"]||re.prependInnerIcon,E=!!(re.clearable||lt.clear),m=!!(lt["append-inner"]||re.appendInnerIcon||E),M=lt.label?lt.label({...o.value,label:re.label,props:{for:r.value}}):re.label;return Wr("div",Vi({class:["v-field",{"v-field--active":v.value,"v-field--appended":m,"v-field--center-affix":re.centerAffix??!l.value,"v-field--disabled":re.disabled,"v-field--dirty":re.dirty,"v-field--error":re.error,"v-field--flat":re.flat,"v-field--has-background":!!re.bgColor,"v-field--persistent-clear":re.persistentClear,"v-field--prepended":A,"v-field--reverse":re.reverse,"v-field--single-line":re.singleLine,"v-field--no-label":!M,[`v-field--variant-${re.variant}`]:!0},vt.value,x.value,U.value,H.value,L.value,T.value,re.class],style:[c.value,h.value,re.style],onClick:p},Ie),[Wr("div",{class:"v-field__overlay"},null),Wr(im,{name:"v-field",active:!!re.loading,color:re.error?"error":typeof re.loading=="string"?re.loading:re.color},{default:lt.loader}),A&&Wr("div",{key:"prepend",class:"v-field__prepend-inner"},[re.prependInnerIcon&&Wr(a,{key:"prepend-icon",name:"prependInner"},null),(w=lt["prepend-inner"])==null?void 0:w.call(lt,o.value)]),Wr("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(re.variant)&&d.value&&Wr(ed,{key:"floating-label",ref:s,class:[b.value],floating:!0,for:r.value},{default:()=>[M]}),Wr(ed,{ref:n,for:r.value},{default:()=>[M]}),(i=lt.default)==null?void 0:i.call(lt,{...o.value,props:{id:r.value,class:"v-field__input","aria-describedby":u.value},focus:g,blur:P})]),E&&Wr(Wy,{key:"clear"},{default:()=>[Fu(Wr("div",{class:"v-field__clearable",onMousedown:y=>{y.preventDefault(),y.stopPropagation()}},[lt.clear?lt.clear():Wr(a,{name:"clear"},null)]),[[Ch,re.dirty]])]}),m&&Wr("div",{key:"append",class:"v-field__append-inner"},[(C=lt["append-inner"])==null?void 0:C.call(lt,o.value),re.appendInnerIcon&&Wr(a,{key:"append-icon",name:"appendInner"},null)]),Wr("div",{class:["v-field__outline",b.value]},[S&&Wr(Ro,null,[Wr("div",{class:"v-field__outline__start"},null),d.value&&Wr("div",{class:"v-field__outline__notch"},[Wr(ed,{ref:s,floating:!0,for:r.value},{default:()=>[M]})]),Wr("div",{class:"v-field__outline__end"},null)]),l.value&&d.value&&Wr(ed,{ref:s,floating:!0,for:r.value},{default:()=>[M]})])])}),{controlRef:f}}});function EA(re){const Oe=Object.keys(A1.props).filter(Ie=>!B0(Ie)&&Ie!=="class"&&Ie!=="style");return W0(re,Oe)}const CA=["color","file","time","date","datetime-local","week","month"],S1=Fa({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,type:{type:String,default:"text"},modelModifiers:Object,...n1(),...T1()},"VTextField"),gy=ai()({name:"VTextField",directives:{Intersect:Xy},inheritAttrs:!1,props:S1(),emits:{"click:control":re=>!0,"mousedown:control":re=>!0,"update:focused":re=>!0,"update:modelValue":re=>!0},setup(re,Oe){let{attrs:Ie,emit:He,slots:lt}=Oe;const vt=Do(re,"modelValue"),{isFocused:H,focus:U,blur:e}=t1(re),g=Ln(()=>typeof re.counterValue=="function"?re.counterValue(vt.value):(vt.value??"").toString().length),P=Ln(()=>{if(Ie.maxlength)return Ie.maxlength;if(!(!re.counter||typeof re.counter!="number"&&typeof re.counter!="string"))return re.counter}),a=Ln(()=>["plain","underlined"].includes(re.variant));function L(l,x){var c,b;!re.autofocus||!l||(b=(c=x[0].target)==null?void 0:c.focus)==null||b.call(c)}const T=Za(),v=Za(),d=Za(),t=Ln(()=>CA.includes(re.type)||re.persistentPlaceholder||H.value||re.active);function r(){var l;d.value!==document.activeElement&&((l=d.value)==null||l.focus()),H.value||U()}function u(l){He("mousedown:control",l),l.target!==d.value&&(r(),l.preventDefault())}function n(l){r(),He("click:control",l)}function s(l){l.stopPropagation(),r(),jo(()=>{vt.value=null,l3(re["onClick:clear"],l)})}function f(l){var c;const x=l.target;if(vt.value=x.value,(c=re.modelModifiers)!=null&&c.trim&&["text","search","password","tel","url"].includes(re.type)){const b=[x.selectionStart,x.selectionEnd];jo(()=>{x.selectionStart=b[0],x.selectionEnd=b[1]})}}return Ai(()=>{const l=!!(lt.counter||re.counter||re.counterValue),x=!!(l||lt.details),[c,b]=Py(Ie),[{modelValue:h,...o}]=ly.filterProps(re),[p]=EA(re);return Wr(ly,Vi({ref:T,modelValue:vt.value,"onUpdate:modelValue":S=>vt.value=S,class:["v-text-field",{"v-text-field--prefixed":re.prefix,"v-text-field--suffixed":re.suffix,"v-text-field--plain-underlined":["plain","underlined"].includes(re.variant)},re.class],style:re.style},c,o,{centerAffix:!a.value,focused:H.value}),{...lt,default:S=>{let{id:A,isDisabled:E,isDirty:m,isReadonly:M,isValid:w}=S;return Wr(A1,Vi({ref:v,onMousedown:u,onClick:n,"onClick:clear":s,"onClick:prependInner":re["onClick:prependInner"],"onClick:appendInner":re["onClick:appendInner"],role:"textbox"},p,{id:A.value,active:t.value||m.value,dirty:m.value||re.dirty,disabled:E.value,focused:H.value,error:w.value===!1}),{...lt,default:i=>{let{props:{class:C,...y}}=i;const _=Fu(Wr("input",Vi({ref:d,value:vt.value,onInput:f,autofocus:re.autofocus,readonly:M.value,disabled:E.value,name:re.name,placeholder:re.placeholder,size:1,type:re.type,onFocus:r,onBlur:e},y,b),null),[[Yc("intersect"),{handler:L},null,{once:!0}]]);return Wr(Ro,null,[re.prefix&&Wr("span",{class:"v-text-field__prefix"},[Wr("span",{class:"v-text-field__prefix__text"},[re.prefix])]),Wr("div",{class:C,"data-no-activator":""},[lt.default?Wr(Ro,null,[lt.default(),_]):s3(_)]),re.suffix&&Wr("span",{class:"v-text-field__suffix"},[Wr("span",{class:"v-text-field__suffix__text"},[re.suffix])])])}})},details:x?S=>{var A;return Wr(Ro,null,[(A=lt.details)==null?void 0:A.call(lt,S),l&&Wr(Ro,null,[Wr("span",null,null),Wr(AA,{active:re.persistentCounter||H.value,value:g.value,max:P.value},lt.counter)])])}:void 0})}),dp({},T,v,d)}});const LA=Fa({renderless:Boolean,...Fi()},"VVirtualScrollItem"),PA=ai()({name:"VVirtualScrollItem",inheritAttrs:!1,props:LA(),emits:{"update:height":re=>!0},setup(re,Oe){let{attrs:Ie,emit:He,slots:lt}=Oe;const{resizeRef:vt,contentRect:H}=V0(void 0,"border");Ii(()=>{var U;return(U=H.value)==null?void 0:U.height},U=>{U!=null&&He("update:height",U)}),Ai(()=>{var U,e;return re.renderless?Wr(Ro,null,[(U=lt.default)==null?void 0:U.call(lt,{itemRef:vt})]):Wr("div",Vi({ref:vt,class:["v-virtual-scroll__item",re.class],style:re.style},Ie),[(e=lt.default)==null?void 0:e.call(lt)])})}}),yy=-1,my=1,RA=Fa({itemHeight:{type:[Number,String],default:48}},"virtual");function DA(re,Oe,Ie){const He=Ui(0),lt=Ui(re.itemHeight),vt=Ln({get:()=>parseInt(lt.value??0,10),set(x){lt.value=x}}),H=Za(),{resizeRef:U,contentRect:e}=V0();ac(()=>{U.value=H.value});const g=Iy(),P=new Map;let a=Array.from({length:Oe.value.length});const L=Ln(()=>{const x=(!e.value||H.value===document.documentElement?g.height.value:e.value.height)-((Ie==null?void 0:Ie.value)??0);return Math.ceil(x/vt.value*1.7+1)});function T(x,c){vt.value=Math.max(vt.value,c),a[x]=c,P.set(Oe.value[x],c)}function v(x){return a.slice(0,x).reduce((c,b)=>c+(b||vt.value),0)}function d(x){const c=Oe.value.length;let b=0,h=0;for(;h<x&&b<c;)h+=a[b++]||vt.value;return b-1}let t=0;function r(){if(!H.value||!e.value)return;const x=e.value.height-56,c=H.value.scrollTop,b=c<t?yy:my,h=d(c+x/2),o=Math.round(L.value/3),p=h-o,S=He.value+o*2-1;b===yy&&h<=S?He.value=Mc(p,0,Oe.value.length):b===my&&h>=S&&(He.value=Mc(p,0,Oe.value.length-L.value)),t=c}function u(x){if(!H.value)return;const c=v(x);H.value.scrollTop=c}const n=Ln(()=>Math.min(Oe.value.length,He.value+L.value)),s=Ln(()=>Oe.value.slice(He.value,n.value).map((x,c)=>({raw:x,index:c+He.value}))),f=Ln(()=>v(He.value)),l=Ln(()=>v(Oe.value.length)-v(n.value));return Ii(()=>Oe.value.length,()=>{a=M0(Oe.value.length).map(()=>vt.value),P.forEach((x,c)=>{const b=Oe.value.indexOf(c);b===-1?P.delete(c):a[b]=x})}),{containerRef:H,computedItems:s,itemHeight:vt,paddingTop:f,paddingBottom:l,scrollToIndex:u,handleScroll:r,handleItemResize:T}}const IA=Fa({items:{type:Array,default:()=>[]},renderless:Boolean,...RA(),...Fi(),...Dh()},"VVirtualScroll"),kA=ai()({name:"VVirtualScroll",props:IA(),setup(re,Oe){let{slots:Ie}=Oe;const He=ic("VVirtualScroll"),{dimensionStyles:lt}=Ih(re),{containerRef:vt,handleScroll:H,handleItemResize:U,scrollToIndex:e,paddingTop:g,paddingBottom:P,computedItems:a}=DA(re,ti(re,"items"));return Hc(()=>re.renderless,()=>{au(()=>{var L;vt.value=Oy(He.vnode.el,!0),(L=vt.value)==null||L.addEventListener("scroll",H)}),ru(()=>{var L;(L=vt.value)==null||L.removeEventListener("scroll",H)})}),Ai(()=>{const L=a.value.map(T=>Wr(PA,{key:T.index,renderless:re.renderless,"onUpdate:height":v=>U(T.index,v)},{default:v=>{var d;return(d=Ie.default)==null?void 0:d.call(Ie,{item:T.raw,index:T.index,...v})}}));return re.renderless?Wr(Ro,null,[Wr("div",{class:"v-virtual-scroll__spacer",style:{paddingTop:si(g.value)}},null),L,Wr("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:si(P.value)}},null)]):Wr("div",{ref:vt,class:["v-virtual-scroll",re.class],onScroll:H,style:[lt.value,re.style]},[Wr("div",{class:"v-virtual-scroll__container",style:{paddingTop:si(g.value),paddingBottom:si(P.value)}},[L])])}),{scrollToIndex:e}}});function _A(re,Oe){const Ie=Ui(!1);let He;function lt(U){cancelAnimationFrame(He),Ie.value=!0,He=requestAnimationFrame(()=>{He=requestAnimationFrame(()=>{Ie.value=!1})})}async function vt(){await new Promise(U=>requestAnimationFrame(U)),await new Promise(U=>requestAnimationFrame(U)),await new Promise(U=>requestAnimationFrame(U)),await new Promise(U=>{if(Ie.value){const e=Ii(Ie,()=>{e(),U()})}else U()})}async function H(U){var P,a;if(U.key==="Tab"&&((P=Oe.value)==null||P.focus()),!["PageDown","PageUp","Home","End"].includes(U.key))return;const e=(a=re.value)==null?void 0:a.$el;if(!e)return;(U.key==="Home"||U.key==="End")&&e.scrollTo({top:U.key==="Home"?0:e.scrollHeight,behavior:"smooth"}),await vt();const g=e.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(U.key==="PageDown"||U.key==="Home"){const L=e.getBoundingClientRect().top;for(const T of g)if(T.getBoundingClientRect().top>=L){T.focus();break}}else{const L=e.getBoundingClientRect().bottom;for(const T of[...g].reverse())if(T.getBoundingClientRect().bottom<=L){T.focus();break}}}return{onListScroll:lt,onListKeydown:H}}const FA=Fa({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:go,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,valueComparator:{type:Function,default:Lh},itemColor:String,...h1({itemChildren:!1})},"Select"),zA=Fa({...FA(),...ky(S1({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...pv({transition:{component:Vy}})},"VSelect"),OA=ai()({name:"VSelect",props:zA(),emits:{"update:focused":re=>!0,"update:modelValue":re=>!0,"update:menu":re=>!0},setup(re,Oe){let{slots:Ie}=Oe;const{t:He}=Rh(),lt=Za(),vt=Za(),H=Do(re,"menu"),U=Ln({get:()=>H.value,set:E=>{var m;H.value&&!E&&((m=vt.value)!=null&&m.ΨopenChildren)||(H.value=E)}}),{items:e,transformIn:g,transformOut:P}=V5(re),a=Do(re,"modelValue",[],E=>g(E===null?[null]:vf(E)),E=>{const m=P(E);return re.multiple?m:m[0]??null}),L=r1(),T=Ln(()=>a.value.map(E=>e.value.find(m=>{const M=ks(m.raw,re.itemValue),w=ks(E.raw,re.itemValue);return M===void 0||w===void 0?!1:re.returnObject?re.valueComparator(M,w):re.valueComparator(m.value,E.value)})||E)),v=Ln(()=>T.value.map(E=>E.props.value)),d=Ui(!1);let t="",r;const u=Ln(()=>re.hideSelected?e.value.filter(E=>!T.value.some(m=>m===E)):e.value),n=Ln(()=>re.hideNoData&&!e.value.length||re.readonly||(L==null?void 0:L.isReadonly.value)),s=Za(),{onListScroll:f,onListKeydown:l}=_A(s,lt);function x(E){re.openOnClear&&(U.value=!0)}function c(){n.value||(U.value=!U.value)}function b(E){var C,y;if(!E.key||re.readonly||L!=null&&L.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(E.key)&&E.preventDefault(),["Enter","ArrowDown"," "].includes(E.key)&&(U.value=!0),["Escape","Tab"].includes(E.key)&&(U.value=!1),E.key==="Home"?(C=s.value)==null||C.focus("first"):E.key==="End"&&((y=s.value)==null||y.focus("last"));const m=1e3;function M(_){const I=_.key.length===1,N=!_.ctrlKey&&!_.metaKey&&!_.altKey;return I&&N}if(re.multiple||!M(E))return;const w=performance.now();w-r>m&&(t=""),t+=E.key.toLowerCase(),r=w;const i=e.value.find(_=>_.title.toLowerCase().startsWith(t));i!==void 0&&(a.value=[i])}function h(E){if(re.multiple){const m=v.value.findIndex(M=>re.valueComparator(M,E.value));if(m===-1)a.value=[...a.value,E];else{const M=[...a.value];M.splice(m,1),a.value=M}}else a.value=[E],U.value=!1}function o(E){var m;(m=s.value)!=null&&m.$el.contains(E.relatedTarget)||(U.value=!1)}function p(){var E;d.value&&((E=lt.value)==null||E.focus())}function S(E){d.value=!0}function A(E){if(E==null)a.value=[];else if(ud(lt.value,":autofill")||ud(lt.value,":-webkit-autofill")){const m=e.value.find(M=>M.title===E);m&&h(m)}else lt.value&&(lt.value.value="")}return Ai(()=>{const E=!!(re.chips||Ie.chip),m=!!(!re.hideNoData||u.value.length||Ie["prepend-item"]||Ie["append-item"]||Ie["no-data"]),M=a.value.length>0,[w]=gy.filterProps(re),i=M||!d.value&&re.label&&!re.persistentPlaceholder?void 0:re.placeholder;return Wr(gy,Vi({ref:lt},w,{modelValue:a.value.map(C=>C.props.value).join(", "),"onUpdate:modelValue":A,focused:d.value,"onUpdate:focused":C=>d.value=C,validationValue:a.externalValue,dirty:M,class:["v-select",{"v-select--active-menu":U.value,"v-select--chips":!!re.chips,[`v-select--${re.multiple?"multiple":"single"}`]:!0,"v-select--selected":a.value.length,"v-select--selection-slot":!!Ie.selection},re.class],style:re.style,inputmode:"none",placeholder:i,"onClick:clear":x,"onMousedown:control":c,onBlur:o,onKeydown:b}),{...Ie,default:()=>Wr(Ro,null,[Wr(wA,Vi({ref:vt,modelValue:U.value,"onUpdate:modelValue":C=>U.value=C,activator:"parent",contentClass:"v-select__content",disabled:n.value,eager:re.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:re.transition,onAfterLeave:p},re.menuProps),{default:()=>[m&&Wr(X5,{ref:s,selected:v.value,selectStrategy:re.multiple?"independent":"single-independent",onMousedown:C=>C.preventDefault(),onKeydown:l,onFocusin:S,onScrollPassive:f,tabindex:"-1",color:re.itemColor??re.color},{default:()=>{var C,y,_;return[(C=Ie["prepend-item"])==null?void 0:C.call(Ie),!u.value.length&&!re.hideNoData&&(((y=Ie["no-data"])==null?void 0:y.call(Ie))??Wr(gd,{title:He(re.noDataText)},null)),Wr(kA,{renderless:!0,items:u.value},{default:I=>{var F;let{item:N,index:k,itemRef:O}=I;const z=Vi(N.props,{ref:O,key:k,onClick:()=>h(N)});return((F=Ie.item)==null?void 0:F.call(Ie,{item:N,index:k,props:z}))??Wr(gd,z,{prepend:B=>{let{isSelected:G}=B;return Wr(Ro,null,[re.multiple&&!re.hideSelected?Wr(Dd,{key:N.value,modelValue:G,ripple:!1,tabindex:"-1"},null):void 0,N.props.prependIcon&&Wr($s,{icon:N.props.prependIcon},null)])}})}}),(_=Ie["append-item"])==null?void 0:_.call(Ie)]}})]}),T.value.map((C,y)=>{var N;function _(k){k.stopPropagation(),k.preventDefault(),h(C)}const I={"onClick:close":_,onMousedown(k){k.preventDefault(),k.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return Wr("div",{key:C.value,class:"v-select__selection"},[E?Ie.chip?Wr(pl,{key:"chip-defaults",defaults:{VChip:{closable:re.closableChips,size:"small",text:C.title}}},{default:()=>{var k;return[(k=Ie.chip)==null?void 0:k.call(Ie,{item:C,index:y,props:I})]}}):Wr(T5,Vi({key:"chip",closable:re.closableChips,size:"small",text:C.title},I),null):((N=Ie.selection)==null?void 0:N.call(Ie,{item:C,index:y}))??Wr("span",{class:"v-select__selection-text"},[C.title,re.multiple&&y<T.value.length-1&&Wr("span",{class:"v-select__selection-comma"},[Ec(",")])])])})]),"append-inner":function(){var I;for(var C=arguments.length,y=new Array(C),_=0;_<C;_++)y[_]=arguments[_];return Wr(Ro,null,[(I=Ie["append-inner"])==null?void 0:I.call(Ie,...y),re.menuIcon?Wr($s,{class:"v-select__menu-icon",icon:re.menuIcon},null):void 0])}})}),dp({isFocused:d,menu:U,select:h},lt)}}),BA=Fa({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),M1=Symbol.for("vuetify:data-table-pagination");function NA(re){const Oe=Do(re,"page",void 0,He=>+(He??1)),Ie=Do(re,"itemsPerPage",void 0,He=>+(He??10));return{page:Oe,itemsPerPage:Ie}}function UA(re){const{page:Oe,itemsPerPage:Ie,itemsLength:He}=re,lt=Ln(()=>Ie.value===-1?0:Ie.value*(Oe.value-1)),vt=Ln(()=>Ie.value===-1?He.value:Math.min(He.value,lt.value+Ie.value)),H=Ln(()=>Ie.value===-1||He.value===0?1:Math.ceil(He.value/Ie.value));ac(()=>{Oe.value>H.value&&(Oe.value=H.value)});function U(L){Ie.value=L,Oe.value=1}function e(){Oe.value=Mc(Oe.value+1,1,H.value)}function g(){Oe.value=Mc(Oe.value-1,1,H.value)}function P(L){Oe.value=Mc(L,1,H.value)}const a={page:Oe,itemsPerPage:Ie,startIndex:lt,stopIndex:vt,pageCount:H,itemsLength:He,nextPage:e,prevPage:g,setPage:P,setItemsPerPage:U};return no(M1,a),a}function VA(){const re=yo(M1);if(!re)throw new Error("Missing pagination!");return re}function HA(re){const{items:Oe,startIndex:Ie,stopIndex:He,itemsPerPage:lt}=re;return{paginatedItems:Ln(()=>lt.value<=0?Oe.value:Oe.value.slice(Ie.value,He.value))}}const E1=Fa({prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),xy=ai()({name:"VDataTableFooter",props:E1(),setup(re,Oe){let{slots:Ie}=Oe;const{t:He}=Rh(),{page:lt,pageCount:vt,startIndex:H,stopIndex:U,itemsLength:e,itemsPerPage:g,setItemsPerPage:P}=VA(),a=Ln(()=>re.itemsPerPageOptions.map(L=>({...L,title:He(L.title)})));return()=>{var L;return Wr("div",{class:"v-data-table-footer"},[(L=Ie.prepend)==null?void 0:L.call(Ie),Wr("div",{class:"v-data-table-footer__items-per-page"},[Wr("span",null,[He(re.itemsPerPageText)]),Wr(OA,{items:a.value,modelValue:g.value,"onUpdate:modelValue":T=>P(Number(T)),density:"compact",variant:"outlined","hide-details":!0},null)]),Wr("div",{class:"v-data-table-footer__info"},[Wr("div",null,[He(re.pageText,e.value?H.value+1:0,U.value,e.value)])]),Wr("div",{class:"v-data-table-footer__pagination"},[Wr(Sh,{icon:re.firstIcon,variant:"plain",onClick:()=>lt.value=1,disabled:lt.value===1,"aria-label":He(re.firstPageLabel)},null),Wr(Sh,{icon:re.prevIcon,variant:"plain",onClick:()=>lt.value=Math.max(1,lt.value-1),disabled:lt.value===1,"aria-label":He(re.prevPageLabel)},null),re.showCurrentPage&&Wr("span",{key:"page",class:"v-data-table-footer__page"},[lt.value]),Wr(Sh,{icon:re.nextIcon,variant:"plain",onClick:()=>lt.value=Math.min(vt.value,lt.value+1),disabled:lt.value===vt.value,"aria-label":He(re.nextPageLabel)},null),Wr(Sh,{icon:re.lastIcon,variant:"plain",onClick:()=>lt.value=vt.value,disabled:lt.value===vt.value,"aria-label":He(re.lastPageLabel)},null)])])}}}),pp=u3({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(re,Oe)=>{let{slots:Ie,attrs:He}=Oe;const lt=re.tag??"td";return Wr(lt,Vi({class:["v-data-table__td",{"v-data-table-column--fixed":re.fixed,"v-data-table-column--last-fixed":re.lastFixed,"v-data-table-column--no-padding":re.noPadding},`v-data-table-column--align-${re.align}`],style:{height:si(re.height),width:si(re.width),left:si(re.fixedOffset||null)}},He),{default:()=>{var vt;return[(vt=Ie.default)==null?void 0:vt.call(Ie)]}})}),GA=Fa({headers:{type:Array,default:()=>[]}},"DataTable-header"),C1=Symbol.for("vuetify:data-table-headers");function WA(re,Oe){const Ie=Za([]),He=Za([]);ac(()=>{var T,v,d;const vt=re.headers.length?Array.isArray(re.headers[0])?re.headers:[re.headers]:[],H=vt.flatMap((t,r)=>t.map(u=>({column:u,row:r}))),U=vt.length,e={title:"",sortable:!1},g={...e,width:48};if((T=Oe==null?void 0:Oe.groupBy)!=null&&T.value.length){const t=H.findIndex(r=>{let{column:u}=r;return u.key==="data-table-group"});t<0?H.unshift({column:{...e,key:"data-table-group",title:"Group",rowspan:U},row:0}):H.splice(t,1,{column:{...e,...H[t].column},row:H[t].row})}if((v=Oe==null?void 0:Oe.showSelect)!=null&&v.value){const t=H.findIndex(r=>{let{column:u}=r;return u.key==="data-table-select"});t<0?H.unshift({column:{...g,key:"data-table-select",rowspan:U},row:0}):H.splice(t,1,{column:{...g,...H[t].column},row:H[t].row})}if((d=Oe==null?void 0:Oe.showExpand)!=null&&d.value){const t=H.findIndex(r=>{let{column:u}=r;return u.key==="data-table-expand"});t<0?H.push({column:{...g,key:"data-table-expand",rowspan:U},row:0}):H.splice(t,1,{column:{...g,...H[t].column},row:H[t].row})}const P=M0(U).map(()=>[]),a=M0(U).fill(0);H.forEach(t=>{let{column:r,row:u}=t,n=r.key;n==null&&(n="");for(let s=u;s<=u+(r.rowspan??1)-1;s++)P[s].push({...r,key:n,fixedOffset:a[s],sortable:r.sortable??!!r.key}),a[s]+=Number(r.width??0)}),P.forEach(t=>{for(let r=t.length;r--;r>=0)if(t[r].fixed){t[r].lastFixed=!0;return}});const L=new Set;Ie.value=P.map(t=>{const r=[];for(const u of t)L.has(u.key)||(L.add(u.key),r.push(u));return r}),He.value=P.at(-1)??[]});const lt={headers:Ie,columns:He};return no(C1,lt),lt}function Id(){const re=yo(C1);if(!re)throw new Error("Missing headers!");return re}const YA={showSelectAll:!1,allSelected:()=>[],select:re=>{var He;let{items:Oe,value:Ie}=re;return new Set(Ie?[(He=Oe[0])==null?void 0:He.value]:[])},selectAll:re=>{let{selected:Oe}=re;return Oe}},L1={showSelectAll:!0,allSelected:re=>{let{currentPage:Oe}=re;return Oe},select:re=>{let{items:Oe,value:Ie,selected:He}=re;for(const lt of Oe)Ie?He.add(lt.value):He.delete(lt.value);return He},selectAll:re=>{let{value:Oe,currentPage:Ie,selected:He}=re;return L1.select({items:Ie,value:Oe,selected:He})}},P1={showSelectAll:!0,allSelected:re=>{let{allItems:Oe}=re;return Oe},select:re=>{let{items:Oe,value:Ie,selected:He}=re;for(const lt of Oe)Ie?He.add(lt.value):He.delete(lt.value);return He},selectAll:re=>{let{value:Oe,allItems:Ie,selected:He}=re;return P1.select({items:Ie,value:Oe,selected:He})}},ZA=Fa({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]}},"DataTable-select"),R1=Symbol.for("vuetify:data-table-selection");function XA(re,Oe){let{allItems:Ie,currentPage:He}=Oe;const lt=Do(re,"modelValue",re.modelValue,t=>new Set(t),t=>[...t.values()]),vt=Ln(()=>Ie.value.filter(t=>t.selectable)),H=Ln(()=>He.value.filter(t=>t.selectable)),U=Ln(()=>{if(typeof re.selectStrategy=="object")return re.selectStrategy;switch(re.selectStrategy){case"single":return YA;case"all":return P1;case"page":default:return L1}});function e(t){return vf(t).every(r=>lt.value.has(r.value))}function g(t){return vf(t).some(r=>lt.value.has(r.value))}function P(t,r){const u=U.value.select({items:t,value:r,selected:new Set(lt.value)});lt.value=u}function a(t){P([t],!e([t]))}function L(t){const r=U.value.selectAll({value:t,allItems:vt.value,currentPage:H.value,selected:new Set(lt.value)});lt.value=r}const T=Ln(()=>lt.value.size>0),v=Ln(()=>{const t=U.value.allSelected({allItems:vt.value,currentPage:H.value});return e(t)}),d={toggleSelect:a,select:P,selectAll:L,isSelected:e,isSomeSelected:g,someSelected:T,allSelected:v,showSelectAll:U.value.showSelectAll};return no(R1,d),d}function kd(){const re=yo(R1);if(!re)throw new Error("Missing selection!");return re}const jA=Fa({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),D1=Symbol.for("vuetify:data-table-sort");function KA(re){const Oe=Do(re,"sortBy"),Ie=ti(re,"mustSort"),He=ti(re,"multiSort");return{sortBy:Oe,mustSort:Ie,multiSort:He}}function JA(re){const{sortBy:Oe,mustSort:Ie,multiSort:He,page:lt}=re,vt=e=>{let g=Oe.value.map(a=>({...a}))??[];const P=g.find(a=>a.key===e.key);P?P.order==="desc"?Ie.value?P.order="asc":g=g.filter(a=>a.key!==e.key):P.order="desc":He.value?g=[...g,{key:e.key,order:"asc"}]:g=[{key:e.key,order:"asc"}],Oe.value=g,lt&&(lt.value=1)};function H(e){return!!Oe.value.find(g=>g.key===e.key)}const U={sortBy:Oe,toggleSort:vt,isSorted:H};return no(D1,U),U}function QA(){const re=yo(D1);if(!re)throw new Error("Missing sort!");return re}function $A(re,Oe,Ie){const He=Rh();return{sortedItems:Ln(()=>Ie.value.length?qA(Oe.value,Ie.value,He.current.value,re.customKeySort):Oe.value)}}function qA(re,Oe,Ie,He){const lt=new Intl.Collator(Ie,{sensitivity:"accent",usage:"sort"});return[...re].sort((vt,H)=>{for(let U=0;U<Oe.length;U++){const e=Oe[U].key,g=Oe[U].order??"asc";if(g===!1)continue;let P=E0(vt.raw,e),a=E0(H.raw,e);if(g==="desc"&&([P,a]=[a,P]),He!=null&&He[e]){const L=He[e](P,a);if(!L)continue;return L}if(P instanceof Date&&a instanceof Date)return P.getTime()-a.getTime();if([P,a]=[P,a].map(L=>L!=null?L.toString().toLocaleLowerCase():L),P!==a)return Jv(P)&&Jv(a)?0:Jv(P)?-1:Jv(a)?1:!isNaN(P)&&!isNaN(a)?Number(P)-Number(a):lt.compare(P,a)}return 0})}const I1=Fa({color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:go,default:"$sortAsc"},sortDescIcon:{type:go,default:"$sortDesc"},...J0()},"VDataTableHeaders"),by=ai()({name:"VDataTableHeaders",props:I1(),setup(re,Oe){let{slots:Ie,emit:He}=Oe;const{toggleSort:lt,sortBy:vt,isSorted:H}=QA(),{someSelected:U,allSelected:e,selectAll:g,showSelectAll:P}=kd(),{columns:a,headers:L}=Id(),{loaderClasses:T}=Q0(re),v=(s,f)=>{if(!(!re.sticky&&!s.fixed))return{position:"sticky",zIndex:s.fixed?4:re.sticky?3:void 0,left:s.fixed?si(s.fixedOffset):void 0,top:re.sticky?`calc(var(--v-table-header-height) * ${f})`:void 0}};function d(s){const f=vt.value.find(l=>l.key===s.key);return f?f.order==="asc"?re.sortAscIcon:re.sortDescIcon:re.sortAscIcon}const{backgroundColorClasses:t,backgroundColorStyles:r}=Gc(re,"color"),u=Ln(()=>({headers:L.value,columns:a.value,toggleSort:lt,isSorted:H,sortBy:vt.value,someSelected:U.value,allSelected:e.value,selectAll:g,getSortIcon:d,getFixedStyles:v})),n=s=>{let{column:f,x:l,y:x}=s;const c=f.key==="data-table-select"||f.key==="data-table-expand";return Wr(pp,{tag:"th",align:f.align,class:["v-data-table__th",{"v-data-table__th--sortable":f.sortable,"v-data-table__th--sorted":H(f)},T.value],style:{width:si(f.width),minWidth:si(f.width),...v(f,x)},colspan:f.colspan,rowspan:f.rowspan,onClick:f.sortable?()=>lt(f):void 0,lastFixed:f.lastFixed,noPadding:c},{default:()=>{var o;const b=`column.${f.key}`,h={column:f,selectAll:g,isSorted:H,toggleSort:lt,sortBy:vt.value,someSelected:U.value,allSelected:e.value,getSortIcon:d};return Ie[b]?Ie[b](h):f.key==="data-table-select"?((o=Ie["column.data-table-select"])==null?void 0:o.call(Ie,h))??(P&&Wr(Dd,{modelValue:e.value,indeterminate:U.value&&!e.value,"onUpdate:modelValue":g},null)):Wr("div",{class:"v-data-table-header__content"},[Wr("span",null,[f.title]),f.sortable&&Wr($s,{key:"icon",class:"v-data-table-header__sort-icon",icon:d(f)},null),re.multiSort&&H(f)&&Wr("div",{key:"badge",class:["v-data-table-header__sort-badge",...t.value],style:r.value},[vt.value.findIndex(p=>p.key===f.key)+1])])}})};Ai(()=>Wr(Ro,null,[Ie.headers?Ie.headers(u.value):L.value.map((s,f)=>Wr("tr",null,[s.map((l,x)=>Wr(n,{column:l,x,y:f},null))])),re.loading&&Wr("tr",{class:"v-data-table-progress"},[Wr("th",{colspan:a.value.length},[Wr(im,{name:"v-data-table-progress",active:!0,color:typeof re.loading=="boolean"?void 0:re.loading,indeterminate:!0},{default:Ie.loader})])])]))}}),e4=Fa({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),k1=Symbol.for("vuetify:data-table-group");function t4(re){return{groupBy:Do(re,"groupBy")}}function r4(re){const{groupBy:Oe,sortBy:Ie}=re,He=Za(new Set),lt=Ln(()=>Oe.value.map(g=>({...g,order:g.order??!1})).concat(Ie.value));function vt(g){return He.value.has(g.id)}function H(g){const P=new Set(He.value);vt(g)?P.delete(g.id):P.add(g.id),He.value=P}function U(g){function P(a){const L=[];for(const T of a.items)"type"in T&&T.type==="group"?L.push(...P(T)):L.push(T);return L}return P({type:"group",items:g,id:"dummy",key:"dummy",value:"dummy",depth:0})}const e={sortByWithGroups:lt,toggleGroup:H,opened:He,groupBy:Oe,extractRows:U,isGroupOpen:vt};return no(k1,e),e}function _1(){const re=yo(k1);if(!re)throw new Error("Missing group!");return re}function n4(re,Oe){if(!re.length)return[];const Ie=new Map;for(const He of re){const lt=E0(He.raw,Oe);Ie.has(lt)||Ie.set(lt,[]),Ie.get(lt).push(He)}return Ie}function F1(re,Oe){let Ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,He=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!Oe.length)return[];const lt=n4(re,Oe[0]),vt=[],H=Oe.slice(1);return lt.forEach((U,e)=>{const g=Oe[0],P=`${He}_${g}_${e}`;vt.push({depth:Ie,id:P,key:g,value:e,items:H.length?F1(U,H,Ie+1,P):U,type:"group"})}),vt}function z1(re,Oe){const Ie=[];for(const He of re)"type"in He&&He.type==="group"?(He.value!=null&&Ie.push(He),(Oe.has(He.id)||He.value==null)&&Ie.push(...z1(He.items,Oe))):Ie.push(He);return Ie}function a4(re,Oe,Ie){return{flatItems:Ln(()=>{if(!Oe.value.length)return re.value;const lt=F1(re.value,Oe.value.map(vt=>vt.key));return z1(lt,Ie.value)})}}const i4=Fa({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),o4=ai()({name:"VDataTableGroupHeaderRow",props:i4(),setup(re,Oe){let{slots:Ie}=Oe;const{isGroupOpen:He,toggleGroup:lt,extractRows:vt}=_1(),{isSelected:H,isSomeSelected:U,select:e}=kd(),{columns:g}=Id(),P=Ln(()=>vt([re.item]));return()=>Wr("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":re.item.depth}},[g.value.map(a=>{var L,T;if(a.key==="data-table-group"){const v=He(re.item)?"$expand":"$next",d=()=>lt(re.item);return((L=Ie["data-table-group"])==null?void 0:L.call(Ie,{item:re.item,count:P.value.length,props:{icon:v,onClick:d}}))??Wr(pp,{class:"v-data-table-group-header-row__column"},{default:()=>[Wr(Sh,{size:"small",variant:"text",icon:v,onClick:d},null),Wr("span",null,[re.item.value]),Wr("span",null,[Ec("("),P.value.length,Ec(")")])]})}if(a.key==="data-table-select"){const v=H(P.value),d=U(P.value)&&!v,t=r=>e(P.value,r);return((T=Ie["data-table-select"])==null?void 0:T.call(Ie,{props:{modelValue:v,indeterminate:d,"onUpdate:modelValue":t}}))??Wr("td",null,[Wr(Dd,{modelValue:v,indeterminate:d,"onUpdate:modelValue":t},null)])}return Wr("td",null,null)})])}}),s4=Fa({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),O1=Symbol.for("vuetify:datatable:expanded");function l4(re){const Oe=ti(re,"expandOnClick"),Ie=Do(re,"expanded",re.expanded,U=>new Set(U),U=>[...U.values()]);function He(U,e){const g=new Set(Ie.value);e?g.add(U.value):g.delete(U.value),Ie.value=g}function lt(U){return Ie.value.has(U.value)}function vt(U){He(U,!lt(U))}const H={expand:He,expanded:Ie,expandOnClick:Oe,isExpanded:lt,toggleExpand:vt};return no(O1,H),H}function B1(){const re=yo(O1);if(!re)throw new Error("foo");return re}const u4=Fa({index:Number,item:Object,onClick:Function},"VDataTableRow"),f4=Ry({name:"VDataTableRow",props:u4(),setup(re,Oe){let{slots:Ie}=Oe;const{isSelected:He,toggleSelect:lt}=kd(),{isExpanded:vt,toggleExpand:H}=B1(),{columns:U}=Id();Ai(()=>Wr("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!re.onClick}],onClick:re.onClick},[re.item&&U.value.map((e,g)=>Wr(pp,{align:e.align,fixed:e.fixed,fixedOffset:e.fixedOffset,lastFixed:e.lastFixed,noPadding:e.key==="data-table-select"||e.key==="data-table-expand",width:e.width},{default:()=>{var T,v;const P=re.item,a=`item.${e.key}`,L={index:re.index,item:re.item,columns:U.value,isSelected:He,toggleSelect:lt,isExpanded:vt,toggleExpand:H};return Ie[a]?Ie[a](L):e.key==="data-table-select"?((T=Ie["item.data-table-select"])==null?void 0:T.call(Ie,L))??Wr(Dd,{disabled:!P.selectable,modelValue:He([P]),onClick:kg(()=>lt(P),["stop"])},null):e.key==="data-table-expand"?((v=Ie["item.data-table-expand"])==null?void 0:v.call(Ie,L))??Wr(Sh,{icon:vt(P)?"$collapse":"$expand",size:"small",variant:"text",onClick:kg(()=>H(P),["stop"])},null):ks(P.columns,e.key)}}))]))}}),N1=Fa({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowHeight:Number,"onClick:row":Function},"VDataTableRows"),wy=ai()({name:"VDataTableRows",props:N1(),setup(re,Oe){let{emit:Ie,slots:He}=Oe;const{columns:lt}=Id(),{expandOnClick:vt,toggleExpand:H,isExpanded:U}=B1(),{isSelected:e,toggleSelect:g}=kd(),{toggleGroup:P,isGroupOpen:a}=_1(),{t:L}=Rh();return Ai(()=>{var T;return re.loading&&He.loading?Wr("tr",{class:"v-data-table-rows-loading",key:"loading"},[Wr("td",{colspan:lt.value.length},[He.loading()])]):!re.loading&&!re.items.length&&!re.hideNoData?Wr("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[Wr("td",{colspan:lt.value.length},[((T=He["no-data"])==null?void 0:T.call(He))??L(re.noDataText)])]):Wr(Ro,null,[re.items.map((v,d)=>{var u;if(v.type==="group")return He["group-header"]?He["group-header"]({index:d,item:v,columns:lt.value,isExpanded:U,toggleExpand:H,isSelected:e,toggleSelect:g,toggleGroup:P,isGroupOpen:a}):Wr(o4,{key:`group-header_${v.id}`,item:v},He);const t={index:d,item:v,columns:lt.value,isExpanded:U,toggleExpand:H,isSelected:e,toggleSelect:g},r={...t,props:{key:`item_${v.key??v.index}`,onClick:vt.value||re["onClick:row"]?n=>{var s;vt.value&&H(v),(s=re["onClick:row"])==null||s.call(re,n,{item:v})}:void 0,index:d,item:v}};return Wr(Ro,null,[He.item?He.item(r):Wr(f4,r.props,He),U(v)&&((u=He["expanded-row"])==null?void 0:u.call(He,t))])})])}),{}}});const U1=Fa({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Fi(),...lc(),...gs(),..._s()},"VTable"),Ty=ai()({name:"VTable",props:U1(),setup(re,Oe){let{slots:Ie}=Oe;const{themeClasses:He}=yl(re),{densityClasses:lt}=uc(re);return Ai(()=>Wr(re.tag,{class:["v-table",{"v-table--fixed-height":!!re.height,"v-table--fixed-header":re.fixedHeader,"v-table--fixed-footer":re.fixedFooter,"v-table--has-top":!!Ie.top,"v-table--has-bottom":!!Ie.bottom,"v-table--hover":re.hover},He.value,lt.value,re.class],style:re.style},{default:()=>{var vt,H,U;return[(vt=Ie.top)==null?void 0:vt.call(Ie),Ie.default?Wr("div",{class:"v-table__wrapper",style:{height:si(re.height)}},[Wr("table",null,[Ie.default()])]):(H=Ie.wrapper)==null?void 0:H.call(Ie),(U=Ie.bottom)==null?void 0:U.call(Ie)]}})),{}}}),c4=Fa({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataTable-items");function h4(re,Oe,Ie,He){const lt=re.returnObject?Oe:ks(Oe,re.itemValue),vt=ks(Oe,re.itemSelectable,!0),H=He.reduce((U,e)=>(U[e.key]=ks(Oe,e.value??e.key),U),{});return{type:"item",key:re.returnObject?ks(Oe,re.itemValue):lt,index:Ie,value:lt,selectable:vt,columns:H,raw:Oe}}function v4(re,Oe,Ie){return Oe.map((He,lt)=>h4(re,He,lt,Ie))}function d4(re,Oe){return{items:Ln(()=>v4(re,re.items,Oe.value))}}function p4(re){let{page:Oe,itemsPerPage:Ie,sortBy:He,groupBy:lt,search:vt}=re;const H=ic("VDataTable"),U=Ln(()=>({page:Oe.value,itemsPerPage:Ie.value,sortBy:He.value,groupBy:lt.value,search:vt.value}));Ii(()=>vt==null?void 0:vt.value,()=>{Oe.value=1});let e=null;Ii(U,()=>{Lh(e,U.value)||(H.emit("update:options",U.value),e=U.value)},{deep:!0,immediate:!0})}const g4=(re,Oe,Ie)=>re==null||Oe==null?-1:re.toString().toLocaleLowerCase().indexOf(Oe.toString().toLocaleLowerCase()),y4=Fa({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function m4(re,Oe,Ie){var U;const He=[],lt=(Ie==null?void 0:Ie.default)??g4,vt=Ie!=null&&Ie.filterKeys?vf(Ie.filterKeys):!1,H=Object.keys((Ie==null?void 0:Ie.customKeyFilter)??{}).length;if(!(re!=null&&re.length))return He;e:for(let e=0;e<re.length;e++){const g=re[e],P={},a={};let L=-1;if(Oe&&!(Ie!=null&&Ie.noFilter)){if(typeof g=="object"){const d=vt||Object.keys(g);for(const t of d){const r=ks(g,t,g),u=(U=Ie==null?void 0:Ie.customKeyFilter)==null?void 0:U[t];if(L=u?u(r,Oe,g):lt(r,Oe,g),L!==-1&&L!==!1)u?P[t]=L:a[t]=L;else if((Ie==null?void 0:Ie.filterMode)==="every")continue e}}else L=lt(g,Oe,g),L!==-1&&L!==!1&&(a.title=L);const T=Object.keys(a).length,v=Object.keys(P).length;if(!T&&!v||(Ie==null?void 0:Ie.filterMode)==="union"&&v!==H&&!T||(Ie==null?void 0:Ie.filterMode)==="intersection"&&(v!==H||!T))continue}He.push({index:e,matches:{...a,...P}})}return He}function x4(re,Oe,Ie,He){const lt=Za([]),vt=Za(new Map),H=Ln(()=>He!=null&&He.transform?Qs(Oe).map(He==null?void 0:He.transform):Qs(Oe));ac(()=>{const e=typeof Ie=="function"?Ie():Qs(Ie),g=typeof e!="string"&&typeof e!="number"?"":String(e),P=m4(H.value,g,{customKeyFilter:re.customKeyFilter,default:re.customFilter,filterKeys:re.filterKeys,filterMode:re.filterMode,noFilter:re.noFilter}),a=Qs(Oe),L=[],T=new Map;P.forEach(v=>{let{index:d,matches:t}=v;const r=a[d];L.push(r),T.set(r.value,t)}),lt.value=L,vt.value=T});function U(e){return vt.value.get(e.value)}return{filteredItems:lt,filteredMatches:vt,getMatches:U}}const b4=Fa({...N1(),width:[String,Number],search:String,...s4(),...e4(),...GA(),...c4(),...ZA(),...jA(),...I1(),...U1()},"DataTable"),w4=Fa({...BA(),...b4(),...y4(),...E1()},"VDataTable"),T4=ai()({name:"VDataTable",props:w4(),emits:{"update:modelValue":re=>!0,"update:page":re=>!0,"update:itemsPerPage":re=>!0,"update:sortBy":re=>!0,"update:options":re=>!0,"update:groupBy":re=>!0,"update:expanded":re=>!0},setup(re,Oe){let{emit:Ie,slots:He}=Oe;const{groupBy:lt}=t4(re),{sortBy:vt,multiSort:H,mustSort:U}=KA(re),{page:e,itemsPerPage:g}=NA(re),{columns:P,headers:a}=WA(re,{groupBy:lt,showSelect:ti(re,"showSelect"),showExpand:ti(re,"showExpand")}),{items:L}=d4(re,P),T=ti(re,"search"),{filteredItems:v}=x4(re,L,T,{transform:I=>I.columns}),{toggleSort:d}=JA({sortBy:vt,multiSort:H,mustSort:U,page:e}),{sortByWithGroups:t,opened:r,extractRows:u,isGroupOpen:n,toggleGroup:s}=r4({groupBy:lt,sortBy:vt}),{sortedItems:f}=$A(re,v,t),{flatItems:l}=a4(f,lt,r),x=Ln(()=>l.value.length),{startIndex:c,stopIndex:b,pageCount:h,setItemsPerPage:o}=UA({page:e,itemsPerPage:g,itemsLength:x}),{paginatedItems:p}=HA({items:l,startIndex:c,stopIndex:b,itemsPerPage:g}),S=Ln(()=>u(p.value)),{isSelected:A,select:E,selectAll:m,toggleSelect:M,someSelected:w,allSelected:i}=XA(re,{allItems:L,currentPage:S}),{isExpanded:C,toggleExpand:y}=l4(re);p4({page:e,itemsPerPage:g,sortBy:vt,groupBy:lt,search:T}),Wc({VDataTableRows:{hideNoData:ti(re,"hideNoData"),noDataText:ti(re,"noDataText"),loading:ti(re,"loading"),loadingText:ti(re,"loadingText")}});const _=Ln(()=>({page:e.value,itemsPerPage:g.value,sortBy:vt.value,pageCount:h.value,toggleSort:d,setItemsPerPage:o,someSelected:w.value,allSelected:i.value,isSelected:A,select:E,selectAll:m,toggleSelect:M,isExpanded:C,toggleExpand:y,isGroupOpen:n,toggleGroup:s,items:S.value,groupedItems:p.value,columns:P.value,headers:a.value}));return Ai(()=>{const[I]=xy.filterProps(re),[N]=by.filterProps(re),[k]=wy.filterProps(re),[O]=Ty.filterProps(re);return Wr(Ty,Vi({class:["v-data-table",{"v-data-table--show-select":re.showSelect,"v-data-table--loading":re.loading},re.class],style:re.style},O),{top:()=>{var z;return(z=He.top)==null?void 0:z.call(He,_.value)},default:()=>{var z,F,B,G;return He.default?He.default(_.value):Wr(Ro,null,[(z=He.colgroup)==null?void 0:z.call(He,_.value),Wr("thead",null,[Wr(by,N,He)]),(F=He.thead)==null?void 0:F.call(He,_.value),Wr("tbody",null,[He.body?He.body(_.value):Wr(wy,Vi(k,{items:p.value}),He)]),(B=He.tbody)==null?void 0:B.call(He,_.value),(G=He.tfoot)==null?void 0:G.call(He,_.value)])},bottom:()=>He.bottom?He.bottom(_.value):Wr(Ro,null,[Wr(xy,I,{prepend:He["footer.prepend"]})])})}),{}}}),A4=kl({__name:"Table",setup(re){const Oe=cp(),Ie=Rd(),He=fp(),lt=Za([{title:"Région",align:"start",sortable:!0,key:"name"},{title:"Population",align:"end",sortable:!0,key:"population"},{title:"Nombre d'aréna",align:"end",sortable:!0,key:"arenas"},{title:"Aréna par 100k habitants",align:"end",sortable:!0,key:"aph"}]),vt=Ln(()=>{let H=[];return Oe.arenaPerCapita.forEach(U=>{let e=Ie.regionByCode(U.code),g=He.arenaPerRegion.get(U.code);if(e!==void 0&&g!==void 0){let P={code:U.code,name:e.name,population:e.population,aph:U.hpa,arenas:g};H.push(P)}}),H});return(H,U)=>(ec(),Ph(Qs(T4),{"items-per-page":"-1",items:vt.value,"items-per-page-text":"Régions par page","page-text":"{0}-{1} de {2}",headers:lt.value,"sort-by":[{key:"aph",order:"desc"}],key:"code"},{"item.population":ps(({item:e})=>[Ec(td(e.columns.population.toLocaleString()),1)]),"item.arenas":ps(({item:e})=>[Ec(td(e.columns.arenas.toLocaleString()),1)]),"item.aph":ps(({item:e})=>[Ec(td(e.columns.aph.toLocaleString()),1)]),_:1},8,["items","headers"]))}});const S4=Fa({fluid:{type:Boolean,default:!1},...Fi(),...gs()},"VContainer"),M4=ai()({name:"VContainer",props:S4(),setup(re,Oe){let{slots:Ie}=Oe;const{rtlClasses:He}=Zc();return Ai(()=>Wr(re.tag,{class:["v-container",{"v-container--fluid":re.fluid},He.value,re.class],style:re.style},Ie)),{}}}),V1=(()=>bd.reduce((re,Oe)=>(re[Oe]={type:[Boolean,String,Number],default:!1},re),{}))(),H1=(()=>bd.reduce((re,Oe)=>{const Ie="offset"+md(Oe);return re[Ie]={type:[String,Number],default:null},re},{}))(),G1=(()=>bd.reduce((re,Oe)=>{const Ie="order"+md(Oe);return re[Ie]={type:[String,Number],default:null},re},{}))(),Ay={col:Object.keys(V1),offset:Object.keys(H1),order:Object.keys(G1)};function E4(re,Oe,Ie){let He=re;if(!(Ie==null||Ie===!1)){if(Oe){const lt=Oe.replace(re,"");He+=`-${lt}`}return re==="col"&&(He="v-"+He),re==="col"&&(Ie===""||Ie===!0)||(He+=`-${Ie}`),He.toLowerCase()}}const C4=["auto","start","end","center","baseline","stretch"],L4=Fa({cols:{type:[Boolean,String,Number],default:!1},...V1,offset:{type:[String,Number],default:null},...H1,order:{type:[String,Number],default:null},...G1,alignSelf:{type:String,default:null,validator:re=>C4.includes(re)},...Fi(),...gs()},"VCol"),w0=ai()({name:"VCol",props:L4(),setup(re,Oe){let{slots:Ie}=Oe;const He=Ln(()=>{const lt=[];let vt;for(vt in Ay)Ay[vt].forEach(U=>{const e=re[U],g=E4(vt,U,e);g&&lt.push(g)});const H=lt.some(U=>U.startsWith("v-col-"));return lt.push({"v-col":!H||!re.cols,[`v-col-${re.cols}`]:re.cols,[`offset-${re.offset}`]:re.offset,[`order-${re.order}`]:re.order,[`align-self-${re.alignSelf}`]:re.alignSelf}),lt});return()=>{var lt;return nu(re.tag,{class:[He.value,re.class],style:re.style},(lt=Ie.default)==null?void 0:lt.call(Ie))}}}),gp=["start","end","center"],W1=["space-between","space-around","space-evenly"];function yp(re,Oe){return bd.reduce((Ie,He)=>{const lt=re+md(He);return Ie[lt]=Oe(),Ie},{})}const P4=[...gp,"baseline","stretch"],Y1=re=>P4.includes(re),Z1=yp("align",()=>({type:String,default:null,validator:Y1})),R4=[...gp,...W1],X1=re=>R4.includes(re),j1=yp("justify",()=>({type:String,default:null,validator:X1})),D4=[...gp,...W1,"stretch"],K1=re=>D4.includes(re),J1=yp("alignContent",()=>({type:String,default:null,validator:K1})),Sy={align:Object.keys(Z1),justify:Object.keys(j1),alignContent:Object.keys(J1)},I4={align:"align",justify:"justify",alignContent:"align-content"};function k4(re,Oe,Ie){let He=I4[re];if(Ie!=null){if(Oe){const lt=Oe.replace(re,"");He+=`-${lt}`}return He+=`-${Ie}`,He.toLowerCase()}}const _4=Fa({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:Y1},...Z1,justify:{type:String,default:null,validator:X1},...j1,alignContent:{type:String,default:null,validator:K1},...J1,...Fi(),...gs()},"VRow"),T0=ai()({name:"VRow",props:_4(),setup(re,Oe){let{slots:Ie}=Oe;const He=Ln(()=>{const lt=[];let vt;for(vt in Sy)Sy[vt].forEach(H=>{const U=re[H],e=k4(vt,H,U);e&&lt.push(e)});return lt.push({"v-row--no-gutters":re.noGutters,"v-row--dense":re.dense,[`align-${re.align}`]:re.align,[`justify-${re.justify}`]:re.justify,[`align-content-${re.alignContent}`]:re.alignContent}),lt});return()=>{var lt;return nu(re.tag,{class:["v-row",He.value,re.class],style:re.style},(lt=Ie.default)==null?void 0:lt.call(Ie))}}}),F4=kl({__name:"Main",setup(re){return(Oe,Ie)=>(ec(),Ph(f3,{class:"d-flex align-center justify-center",style:{"min-height":"300px"}},{default:ps(()=>[Wr(M4,{fluid:""},{default:ps(()=>[Wr(T0,{justify:"center"},{default:ps(()=>[Wr(w0,{lg:"8"},{default:ps(()=>[Wr($T)]),_:1})]),_:1}),Wr(T0,{justify:"center"},{default:ps(()=>[Wr(w0,{lg:"6"},{default:ps(()=>[Wr(l5)]),_:1})]),_:1}),Wr(T0,{justify:"center"},{default:ps(()=>[Wr(w0,{lg:"6"},{default:ps(()=>[Wr(A4)]),_:1})]),_:1})]),_:1})]),_:1}))}});const z4=Fa({...Fi(),...c3()},"VLayout"),O4=ai()({name:"VLayout",props:z4(),setup(re,Oe){let{slots:Ie}=Oe;const{layoutClasses:He,layoutStyles:lt,getLayoutItem:vt,items:H,layoutRef:U}=h3(re);return Ai(()=>{var e;return Wr("div",{ref:U,class:[He.value,re.class],style:[lt.value,re.style]},[(e=Ie.default)==null?void 0:e.call(Ie)])}),{getLayoutItem:vt,items:H}}}),U4=kl({__name:"Home",setup(re){return(Oe,Ie)=>(ec(),Ph(O4,{class:""},{default:ps(()=>[Wr(iw),Wr(F4)]),_:1}))}});export{U4 as default};
//# sourceMappingURL=Home-5702ec02.js.map
